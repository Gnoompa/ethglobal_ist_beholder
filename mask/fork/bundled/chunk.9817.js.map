{"version":3,"file":"bundled/chunk.9817.js","mappings":"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,iBAAiB;AACvE;AACA;AACA,uBAAuB,gBAAgB;AACvC,qBAAqB,gBAAgB;AACrC,oBAAoB,eAAmB;AACvC,oBAAoB,gBAAgB;AACpC;AACA,oBAAoB,eAAmB,GAAG,iBAAiB;AAC3D;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,UAAS;AAC5C,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,UAAS;AAChD,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,yGAAyG,cAAc;AACvH;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;;ACrJ+C;AACO;AACvC,6BAA6B,uBAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;;;;AChEwF;AACzC;AAChC,mCAAmC,4DAAY;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,gBAAgB,0BAA0B;AAChH;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD,gCAAgC;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7JyE;AACzB;AACa;;;;ACFJ;AACT;AACO;AAClB;AAE9B,MAAM2N,wBAAwBJ,eAASA;IAO1C,OAAOK,yBAAyBC,KAAc,EAAE;QAC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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvJA;AACA,iBAAiB,mBAAO,CAAC,KAAY;AACrC,cAAc,mBAAO,CAAC,KAAgB;AACtC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,IAAI;AAC7B,wBAAwB,EAAE,WAAW,EAAE;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,cAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH,cAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,cAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,IAAI;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8BAA8B,IAAI;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACjPA,oBAAoB,mBAAO,CAAC,KAAc;AAC1C,gBAAgB,mBAAO,CAAC,KAAe;;AAEvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS,QAAQ;AACjB;AACA,cAAc,mBAAmB;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,SAAS,UAAU;AACnB,SAAS,QAAQ;;AAEjB,kBAAkB,cAAc;AAChC;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,UAAU;;AAElB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;AC/ea;;AAEb,sBAAsB,mBAAO,CAAC,KAAkB;;AAEhD;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,IAAI;;AAE/C;AACA;AACA,4BAA4B,UAAU;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AChHA;AACA;AACA,8BAA8B;;AAE9B;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB;;AAEA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,gBAAgB;AAClC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,mCAAmC;;AAEnC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;;AAEvC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC;AACnC;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAM,IAA6B;AACnC;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;ACjID;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;ACRa;AACb,6BAA6C,EAAE,aAAa,CAAC;AAC7D,UAAe;AACf,kBAAkB,mBAAO,CAAC,KAAW;AACrC,gBAAgB,mBAAO,CAAC,KAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,cAAc,OAAO,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO;AAClD;AACA,UAAe;AACf,yBAAe;;;;;;;;;AC/FF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACnBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,yBAAyB,GAAG,eAAe,GAAG,kBAAkB;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;;;;;;;;ACvDL;;AAEb,iBAAiB,mBAAO,CAAC,KAAa;;AAEtC;AACA;;AAEA;AACA;;AAEA,oCAAoC,SAAS;AAC7C;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA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","sources":["webpack://mask-network/./packages/base/src/utils/parseURLs.ts","webpack://mask-network/./packages/plugin-infra/src/dom/context.ts","webpack://mask-network/./packages/plugin-infra/src/dom/usePluginWrapper.tsx","webpack://mask-network/./packages/plugin-infra/src/manager/site-adaptor.ts","webpack://mask-network/./packages/shared-base-ui/src/hooks/useObservableMapSet.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/PostContext.ts","webpack://mask-network/./packages/plugin-infra/src/utils/message.ts","webpack://mask-network/./packages/plugin-infra/src/utils/rpc.ts","webpack://mask-network/./packages/plugins/Snapshot/src/context.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/helpers.ts","webpack://mask-network/./packages/plugins/Snapshot/src/locales/i18n_generated.ts","webpack://mask-network/./packages/plugins/Snapshot/src/messages.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/useProposal.ts","webpack://mask-network/./packages/plugins/Snapshot/src/utils.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/useVotes.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/useResults.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/SnapshotCard.tsx","webpack://mask-network/./node_modules/.pnpm/@json2csv+formatters@7.0.1/node_modules/@json2csv/formatters/dist/mjs/string.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+formatters@7.0.1/node_modules/@json2csv/formatters/dist/mjs/object.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+formatters@7.0.1/node_modules/@json2csv/formatters/dist/mjs/default.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+formatters@7.0.1/node_modules/@json2csv/formatters/dist/mjs/number.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+formatters@7.0.1/node_modules/@json2csv/formatters/dist/mjs/symbol.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+plainjs@7.0.1/node_modules/@json2csv/plainjs/dist/mjs/utils.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+plainjs@7.0.1/node_modules/@json2csv/plainjs/dist/mjs/BaseParser.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+plainjs@7.0.1/node_modules/@json2csv/plainjs/dist/mjs/Parser.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+plainjs@7.0.1/node_modules/@json2csv/plainjs/dist/mjs/StreamParser.js","webpack://mask-network/./node_modules/.pnpm/@json2csv+plainjs@7.0.1/node_modules/@json2csv/plainjs/dist/mjs/index.js","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/LoadingFailCard.tsx","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatCount.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/LoadingCard.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ResultCard.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useBlockie.ts","webpack://mask-network/./packages/shared/src/UI/components/EthereumBlockie/index.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/VotesCard.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/InformationCard.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/SnapshotTab.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ProgressTab.tsx","webpack://mask-network/./packages/shared/src/hooks/useSnackbarCallback.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/usePower.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/VoteConfirmDialog.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/VotingCard.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ReadmeCard.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ProposalTab.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/Snapshot.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/PostInspector.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/PluginDescriptor.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/SpaceMenu.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/useCurrentAccountFollowSpaceList.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ProfileSpaceHeader.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/types.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/useProposalList.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/useSpace.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ProfileCard.tsx","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatElapsedPure.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/hooks/useCurrentAccountVote.ts","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ProfileProposalList.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/ProfileView.tsx","webpack://mask-network/./packages/plugins/Snapshot/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/shared-base-ui/src/bom/open-window.ts","webpack://mask-network/./packages/shared-base-ui/src/hooks/usePersistSubscription.ts","webpack://mask-network/./packages/shared-base/src/Subscriptions/index.ts","webpack://mask-network/./packages/shared-base/src/helpers/compose.ts","webpack://mask-network/./packages/shared-base/src/helpers/getLocalImplementation.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useAllowTestnet.ts","webpack://mask-network/./packages/shared/src/UI/components/ChainBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/CopyButton/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/LoadingStatus/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/PluginCardFrame/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/PluginEnableBoundary/index.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useRiskWarningApproved.ts","webpack://mask-network/./packages/shared/src/UI/components/WalletConnectedBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/Action.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/PluginWalletStatusBar.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/WalletDescription.tsx","webpack://mask-network/./packages/shared/src/UI/modals/modals.ts","webpack://mask-network/./packages/theme/src/CSSVariables/constants.ts","webpack://mask-network/./packages/theme/src/CSSVariables/vars.ts","webpack://mask-network/./packages/theme/src/Components/ActionButton/index.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Info.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Warning.js","webpack://mask-network/./packages/theme/src/Components/Snackbar/index.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/BaseTab.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/FlexibleTab.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/ArrowBackIosNew.js","webpack://mask-network/./packages/theme/src/Components/Tabs/RoundTab.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/index.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootMenu.ts","webpack://mask-network/./packages/theme/src/hooks/useTabs.tsx","webpack://mask-network/./packages/typed-message/base/src/core/image.ts","webpack://mask-network/./packages/typed-message/base/src/core/promise.ts","webpack://mask-network/./packages/typed-message/base/src/core/text.ts","webpack://mask-network/./packages/typed-message/base/src/core/tuple.ts","webpack://mask-network/./packages/typed-message/base/src/extension/MaskPayload.ts","webpack://mask-network/./packages/typed-message/base/src/extension/anchor.ts","webpack://mask-network/./packages/typed-message/base/src/utils/extract.ts","webpack://mask-network/./packages/typed-message/base/src/utils/index.ts","webpack://mask-network/./packages/typed-message/base/src/utils/internal.ts","webpack://mask-network/./packages/typed-message/base/src/visitor/forEachChild.ts","webpack://mask-network/./packages/web3-hooks/base/src/useAccount.ts","webpack://mask-network/./packages/web3-hooks/base/src/useChainId.ts","webpack://mask-network/./packages/web3-hooks/base/src/useChainIdValid.ts","webpack://mask-network/./packages/web3-hooks/base/src/useProviderType.ts","webpack://mask-network/./packages/web3-hooks/base/src/useContext.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useDefaultChainId.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNativeTokenBalance.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useProviderDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useRecentTransactions.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallet.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Connection.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Others.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3State.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatElapsed.ts","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/OpenInNew.js","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabContext/TabContext.js","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabPanel/tabPanelClasses.js","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabPanel/TabPanel.js","webpack://mask-network/./node_modules/.pnpm/color-name@1.1.4/node_modules/color-name/index.js","webpack://mask-network/./node_modules/.pnpm/color-string@1.9.0/node_modules/color-string/index.js","webpack://mask-network/./node_modules/.pnpm/color@4.2.3/node_modules/color/index.js","webpack://mask-network/./node_modules/.pnpm/copy-to-clipboard@3.3.1/node_modules/copy-to-clipboard/index.js","webpack://mask-network/./node_modules/.pnpm/ethereum-blockies@0.1.1/node_modules/ethereum-blockies/blockies.js","webpack://mask-network/./node_modules/.pnpm/is-arrayish@0.3.2/node_modules/is-arrayish/index.js","webpack://mask-network/./node_modules/.pnpm/millify@6.1.0/node_modules/millify/dist/millify.js","webpack://mask-network/./node_modules/.pnpm/millify@6.1.0/node_modules/millify/dist/options.js","webpack://mask-network/./node_modules/.pnpm/millify@6.1.0/node_modules/millify/dist/utils.js","webpack://mask-network/./node_modules/.pnpm/simple-swizzle@0.2.2/node_modules/simple-swizzle/index.js","webpack://mask-network/./node_modules/.pnpm/toggle-selection@1.0.6/node_modules/toggle-selection/index.js","webpack://mask-network/./node_modules/.pnpm/use-subscription@1.8.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-subscription/cjs/use-subscription.production.min.js","webpack://mask-network/./node_modules/.pnpm/use-subscription@1.8.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-subscription/index.js","webpack://mask-network/./node_modules/.pnpm/use-sync-external-store@1.2.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","webpack://mask-network/./node_modules/.pnpm/use-sync-external-store@1.2.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-sync-external-store/shim/index.js","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/suspense.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/useQuery.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/utils.mjs"],"sourcesContent":["import * as parser from /* webpackDefer: true */ 'anchorme'\nexport function parseURLs(text: string, requireProtocol = true) {\n    // CJS-ESM compatibility\n    const lib = parser.default.default || parser.default\n    return lib\n        .list(text)\n        .map((x) => x.string)\n        .filter((y) => {\n            if (!requireProtocol) return true\n            // See https://github.com/alexcorvi/anchorme.js/issues/109\n            return URL.canParse(y)\n        })\n}\n","// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type {\n    DashboardRoutes,\n    ECKeyIdentifier,\n    NextIDPlatform,\n    PersonaIdentifier,\n    PersonaInformation,\n    PopupRoutes,\n    PopupRoutesParamsMap,\n    ProfileIdentifier,\n    SignType,\n    SocialIdentity,\n} from '@masknet/shared-base'\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { LinkedProfileDetails } from '@masknet/public-api'\n\nexport interface __UIContext__ {\n    allPersonas: Subscription<readonly PersonaInformation[]>\n    currentPersona: Subscription<PersonaIdentifier | undefined>\n    queryPersonaAvatar(\n        identifiers: readonly PersonaIdentifier[],\n    ): Promise<Map<ProfileIdentifier | PersonaIdentifier, string | undefined>>\n    queryPersonaAvatar(identifiers: undefined | PersonaIdentifier): Promise<string | undefined>\n    querySocialIdentity: (\n        platform: NextIDPlatform,\n        identity: IdentityResolved | undefined,\n    ) => Promise<SocialIdentity | undefined>\n    // DO NOT add <T> to this function, you do not test if it is T right?\n    // (e.g. receive a function to check it validate: (x: unknown) => x is T)\n    // fetchJSON<T>(validate: (x: unknown) => x is T, input: RequestInfo | URL, init?: RequestInit): Promise<T>\n    fetchJSON(input: RequestInfo | URL, init?: RequestInit): Promise<unknown>\n    queryPersonaByProfile: (id: ProfileIdentifier) => Promise<PersonaInformation | undefined>\n    /** Open Dashboard with a new window */\n    openDashboard(route?: DashboardRoutes, search?: string): Promise<void>\n    /** Open popup window */\n    openPopupWindow<T extends PopupRoutes>(\n        route: T,\n        params: T extends keyof PopupRoutesParamsMap ? PopupRoutesParamsMap[T] : undefined,\n        evenWhenWalletLocked?: boolean,\n    ): Promise<void>\n    /** Sign a message with persona (w or w/o popups) */\n    signWithPersona(type: SignType, message: unknown, identifier?: ECKeyIdentifier, silent?: boolean): Promise<string>\n    hasPaymentPassword(): Promise<boolean>\n    createPersona: () => void\n    setCurrentPersonaIdentifier: ((x?: PersonaIdentifier) => Promise<void>) | undefined\n    attachProfile:\n        | ((\n              source: ProfileIdentifier,\n              target: ProfileIdentifier | PersonaIdentifier,\n              data: LinkedProfileDetails,\n          ) => Promise<void>)\n        | undefined\n    setPluginMinimalModeEnabled: ((id: string, enabled: boolean) => Promise<void>) | undefined\n    hasHostPermission: ((origins: readonly string[]) => Promise<boolean>) | undefined\n    requestHostPermission: ((origins: readonly string[]) => Promise<boolean>) | undefined\n}\nexport let allPersonas: __UIContext__['allPersonas']\nexport let currentPersona: __UIContext__['currentPersona']\nexport let queryPersonaAvatar: __UIContext__['queryPersonaAvatar']\nexport let querySocialIdentity: __UIContext__['querySocialIdentity']\nexport let fetchJSON: __UIContext__['fetchJSON']\nexport let queryPersonaByProfile: __UIContext__['queryPersonaByProfile']\nexport let openDashboard: __UIContext__['openDashboard']\nexport let openPopupWindow: __UIContext__['openPopupWindow']\nexport let signWithPersona: __UIContext__['signWithPersona']\nexport let hasPaymentPassword: __UIContext__['hasPaymentPassword']\nexport let createPersona: __UIContext__['createPersona']\nexport let setCurrentPersonaIdentifier: __UIContext__['setCurrentPersonaIdentifier']\nexport let attachProfile: __UIContext__['attachProfile']\nexport let setPluginMinimalModeEnabled: __UIContext__['setPluginMinimalModeEnabled']\nexport let hasHostPermission: __UIContext__['hasHostPermission']\nexport let requestHostPermission: __UIContext__['requestHostPermission']\n\nexport function __setUIContext__(value: __UIContext__) {\n    ;({\n        allPersonas,\n        currentPersona,\n        queryPersonaAvatar,\n        querySocialIdentity,\n        fetchJSON,\n        queryPersonaByProfile,\n        openDashboard,\n        openPopupWindow,\n        signWithPersona,\n        hasPaymentPassword,\n        createPersona,\n        setCurrentPersonaIdentifier,\n        attachProfile,\n        setPluginMinimalModeEnabled,\n        hasHostPermission,\n        requestHostPermission,\n    } = value)\n}\n","import { createContext, useEffect, useContext, type ForwardRefExoticComponent, type RefAttributes } from 'react'\nimport { noop } from 'lodash-es'\nimport type { Plugin } from '../types.js'\n\nexport type PluginWrapperComponent<T extends Plugin.Shared.Definition = Plugin.Shared.Definition> =\n    ForwardRefExoticComponent<\n        React.PropsWithChildren<\n            RefAttributes<PluginWrapperMethods> & {\n                definition: T\n                lackHostPermission?: boolean\n            }\n        >\n    >\n\nconst emptyPluginWrapperMethods = {\n    setWrap: noop,\n    setWrapperName: noop,\n    setWidth: noop,\n}\n/** @internal */\nexport const PluginWrapperMethodsContext = createContext<PluginWrapperMethods>(emptyPluginWrapperMethods)\nPluginWrapperMethodsContext.displayName = 'PluginWrapperMethodsContext'\nexport interface PluginWrapperMethods {\n    setWrap(open: boolean): void\n    setWrapperName(name: string | undefined): void\n    setWidth(width: number | undefined): void\n}\n\nexport function usePluginWrapper(\n    open: boolean,\n    options?: {\n        width?: number\n        name?: string\n    },\n) {\n    const { setWidth, setWrap, setWrapperName } = useContext(PluginWrapperMethodsContext)\n    const { width, name } = options || {}\n\n    useEffect(() => {\n        setWrap(open)\n        return () => setWrap(open)\n    }, [open, setWrap])\n    useEffect(() => setWidth(width), [width, setWidth])\n    useEffect(() => setWrapperName(name), [name, setWrapperName])\n}\n","import { useMemo } from 'react'\nimport { isEqual } from 'lodash-es'\nimport { unreachable } from '@masknet/kit'\nimport { useValueRef } from '@masknet/shared-base-ui'\nimport { type EnhanceableSite, ValueRefWithReady } from '@masknet/shared-base'\nimport { createManager } from './manage.js'\nimport { getPluginDefine } from './store.js'\nimport type { Plugin } from '../types.js'\n\nconst { events, activated, startDaemon, minimalMode } = createManager(\n    (def) => def.SiteAdaptor,\n    createManager.NoManagedContext,\n)\nconst activatedSub = new ValueRefWithReady<Plugin.SiteAdaptor.Definition[]>([], isEqual)\nevents.on('activateChanged', () => (activatedSub.value = [...activated.plugins]))\n\nconst minimalModeSub = new ValueRefWithReady<string[]>([], isEqual)\nevents.on('minimalModeChanged', () => (minimalModeSub.value = [...minimalMode]))\n\nexport function useActivatedPluginsSiteAdaptor(minimalModeEqualsTo: 'any' | boolean) {\n    const minimalMode = useValueRef(minimalModeSub)\n    const result = useValueRef(activatedSub)\n    return useMemo(() => {\n        if (minimalModeEqualsTo === 'any') return result\n        else if (minimalModeEqualsTo === true) return result.filter((x) => minimalMode.includes(x.ID))\n        else if (minimalModeEqualsTo === false) return result.filter((x) => !minimalMode.includes(x.ID))\n        unreachable(minimalModeEqualsTo)\n    }, [result, minimalMode, minimalModeEqualsTo])\n}\nuseActivatedPluginsSiteAdaptor.visibility = {\n    useMinimalMode: useActivatedPluginsSiteAdaptor.bind(null, true),\n    useNotMinimalMode: useActivatedPluginsSiteAdaptor.bind(null, false),\n    useAnyMode: useActivatedPluginsSiteAdaptor.bind(null, 'any'),\n}\n\nexport function useIsMinimalMode(pluginID: string) {\n    return useValueRef(minimalModeSub).includes(pluginID)\n}\n\n/**\n *\n * @param pluginID Get the plugin ID\n * @param visibility Should invisible plugin included?\n * @returns\n */\nexport function useActivatedPluginSiteAdaptor(pluginID: string, minimalModeEqualsTo: 'any' | boolean) {\n    const plugins = useActivatedPluginsSiteAdaptor(minimalModeEqualsTo)\n    const minimalMode = useValueRef(minimalModeSub)\n\n    return useMemo(() => {\n        const result = plugins.find((x) => x.ID === pluginID)\n        if (!result) return result\n        if (minimalModeEqualsTo === 'any') return result\n        else if (minimalModeEqualsTo === true) {\n            if (minimalMode.includes(result.ID)) return result\n            return undefined\n        } else if (minimalModeEqualsTo === false) {\n            if (minimalMode.includes(result.ID)) return undefined\n            return result\n        }\n        unreachable(minimalModeEqualsTo)\n    }, [pluginID, plugins, minimalMode, minimalModeEqualsTo])\n}\n\nexport function startPluginSiteAdaptor(\n    currentNetwork: EnhanceableSite,\n    host: Plugin.__Host.Host<Plugin.SiteAdaptor.Definition, Plugin.SiteAdaptor.SiteAdaptorContext>,\n) {\n    startDaemon(host, (id) => {\n        const def = getPluginDefine(id)\n        if (!def) return false\n\n        const status = def.enableRequirement.supports.sites[currentNetwork]\n        if (def.enableRequirement.supports.type === 'opt-in' && status !== true) return false\n        if (def.enableRequirement.supports.type === 'opt-out' && status === true) return false\n        return true\n    })\n}\n","import { useMemo } from 'react'\nimport { useSubscription, type Subscription } from 'use-subscription'\nimport { type ObservableMap, type ObservableSet } from '@masknet/shared-base'\n\nexport function useObservableValues<T>(map: ObservableMap<any, T> | ObservableSet<T>) {\n    const subscription = useMemo<Subscription<T[]>>(\n        () => ({\n            getCurrentValue: () => map.asValues,\n            subscribe: (callback) => {\n                return (map.event as any).on(map.ALL_EVENTS, callback)\n            },\n        }),\n        [map],\n    )\n\n    return useSubscription(subscription)\n}\n","import { createContext, createElement, useContext } from 'react'\nimport { type Subscription, useSubscription } from 'use-subscription'\nimport type { Some } from 'ts-results-es'\nimport type { LiveSelector, DOMProxy } from '@dimensiondev/holoflows-kit'\nimport {\n    ObservableMap,\n    ObservableSet,\n    type PostIVIdentifier,\n    ValueRef,\n    type PostIdentifier,\n    type ProfileIdentifier,\n} from '@masknet/shared-base'\nimport { useObservableValues, useValueRef } from '@masknet/shared-base-ui'\nimport type { TypedMessage } from '@masknet/typed-message'\nimport type { SupportedPayloadVersions } from '@masknet/encryption'\n\nexport interface PostContextActions {\n    hasPayloadLike(content: string): boolean\n    getURLFromPostIdentifier?(post: PostIdentifier): URL | null\n}\nexport interface PostContextAuthor {\n    readonly nickname: Subscription<string | null>\n    readonly avatarURL: Subscription<URL | null>\n    readonly author: Subscription<ProfileIdentifier | null>\n    /** post id on the network. */\n    readonly postID: Subscription<string | null>\n}\n\nexport interface PostContextCoAuthor {\n    nickname?: string\n    avatarURL?: URL\n    author: ProfileIdentifier\n    post: PostIdentifier\n}\n\nexport interface PostContextComment {\n    readonly commentsSelector: LiveSelector<HTMLElement>\n    readonly commentBoxSelector: LiveSelector<HTMLElement>\n}\nexport interface PostContextCreation extends PostContextAuthor {\n    readonly rootElement: DOMProxy\n    readonly actionsElement?: DOMProxy\n    readonly isFocusing?: boolean\n    readonly suggestedInjectionPoint: HTMLElement\n    readonly comments?: PostContextComment\n    readonly coAuthors: Subscription<PostContextCoAuthor[]>\n    /**\n     * The result of this subscription will be merged with `PostContext.postMentionedLinks`.\n     *\n     * You don't need to provide this to resolve links in `PostContext.postContent`.\n     */\n    readonly postMentionedLinksProvider?: Subscription<string[]>\n    /** @deprecated It should parse image into rawMessage */\n    readonly postImagesProvider?: Subscription<string[]>\n    /**\n     * The raw TypedMessage that the site gives.\n     */\n    readonly rawMessage: Subscription<TypedMessage>\n    readonly signal?: AbortSignal\n}\nexport interface PostContext extends PostContextAuthor {\n    // #region DOM knowledge\n    get rootNode(): HTMLElement | null\n    readonly rootElement: DOMProxy\n    readonly actionsElement?: DOMProxy\n    readonly isFocusing?: boolean\n    readonly suggestedInjectionPoint: HTMLElement\n    // #endregion\n    readonly comment: PostContextComment | undefined\n    // #region Metadata of a post (author, mentioned items, ...)\n    /** Auto computed */\n    readonly identifier: Subscription<PostIdentifier | null>\n    readonly url: Subscription<URL | null>\n    readonly coAuthors: Subscription<PostContextCoAuthor[] | null>\n    // Meta\n    readonly mentionedLinks: Subscription<string[]>\n    /** @deprecated It should appears in rawMessage */\n    readonly postMetadataImages: Subscription<string[]>\n    // #endregion\n    // #region Raw post content (not decrypted)\n    readonly rawMessage: Subscription<TypedMessage>\n    readonly encryptComment: ValueRef<null | ((commentToEncrypt: string) => Promise<string>)>\n    readonly decryptComment: ValueRef<null | ((commentEncrypted: string) => Promise<string | null>)>\n    // #endregion\n    // #region Post payload discovered in the rawMessage\n    readonly hasMaskPayload: Subscription<boolean>\n    readonly postIVIdentifier: Subscription<PostIVIdentifier | null>\n    /**\n     * undefined => payload not found\n     */\n    readonly publicShared: Subscription<boolean | undefined>\n    readonly isAuthorOfPost: Subscription<boolean | undefined>\n    readonly version: Subscription<SupportedPayloadVersions | undefined>\n\n    decryptedReport(content: {\n        sharedPublic?: Some<boolean>\n        iv?: string\n        isAuthorOfPost?: Some<boolean>\n        version?: SupportedPayloadVersions\n    }): void\n    // #endregion\n}\nexport type PostInfo = PostContext\n\nexport const PostInfoContext = createContext<PostContext | null>(null)\nPostInfoContext.displayName = 'PostInfoContext'\n\n/** @deprecated use <PostInfoContext.Provider value={post}> */\nexport function PostInfoProvider(props: React.PropsWithChildren<{ post: PostInfo }>) {\n    return createElement(PostInfoContext.Provider, { value: props.post, children: props.children })\n}\nexport const usePostInfoDetails: {\n    // Change to use* when https://github.com/microsoft/TypeScript/issues/44643 fixed\n    [key in keyof PostInfo]: () => PostInfo[key] extends ValueRef<infer T>\n        ? T extends (...args: any) => any\n            ? T\n            : Readonly<T>\n        : PostInfo[key] extends ObservableSet<infer T>\n        ? ReadonlyArray<Readonly<T>>\n        : PostInfo[key] extends ObservableMap<any, infer T>\n        ? ReadonlyArray<Readonly<T>>\n        : PostInfo[key] extends Subscription<infer T>\n        ? Readonly<T>\n        : PostInfo[key]\n} = {\n    __proto__: new Proxy(\n        { __proto__: null },\n        {\n            get(_, key) {\n                if (typeof key === 'symbol') return undefined\n                function usePostInfoDetails() {\n                    const postInfo = useContext(PostInfoContext)\n                    if (!postInfo) throw new TypeError('No post context')\n                    if (!(key in postInfo)) throw new TypeError('postInfo.' + (key as string) + ' is not found')\n                    const k = postInfo[key as keyof PostInfo]\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ValueRef) return useValueRef<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ObservableMap) return useObservableValues<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ObservableSet) return useObservableValues<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (isSubscription(k)) return useSubscription<any>(k)\n                    return k\n                }\n                Object.defineProperty(usePostInfoDetails, key, { value: usePostInfoDetails, configurable: true })\n                return usePostInfoDetails\n            },\n        },\n    ),\n} as any\nfunction isSubscription(x: any): x is Subscription<any> {\n    return (\n        typeof x === 'object' &&\n        x !== null &&\n        !!((x as Subscription<any>).getCurrentValue && (x as Subscription<any>).subscribe)\n    )\n}\n","import { WebExtensionMessage } from '@dimensiondev/holoflows-kit'\nimport type { PluginMessageEmitterItem } from '@masknet/plugin-infra'\nimport { serializer } from '@masknet/shared-base'\n\n/** @internal */\nexport const DOMAIN_RPC = Symbol('create RPC instead of normal message')\n/**\n * Create a plugin message emitter\n * @param pluginID The plugin ID\n *\n * @example\n * export const MyPluginMessage = getPluginMessage(PLUGIN_ID)\n */\nexport let getPluginMessage = <T>(pluginID: string, type?: typeof DOMAIN_RPC): PluginMessageEmitter<T> => {\n    const domain = (type === DOMAIN_RPC ? '@plugin-rpc/' : '@plugin/') + pluginID\n    if (cache.has(domain)) return cache.get(domain) as any\n\n    const messageCenter = new WebExtensionMessage<T>({ domain })\n    const events = messageCenter.events\n    messageCenter.serialization = serializer\n    cache.set(domain, events)\n    return events\n}\n\nexport function __workaround__replaceImplementationOfCreatePluginMessage__(\n    newImpl: (pluginID: string) => PluginMessageEmitter<any>,\n) {\n    getPluginMessage = newImpl\n}\nexport type PluginMessageEmitter<T> = { readonly [key in keyof T]: PluginMessageEmitterItem<T[key]> }\nconst cache = new Map<string, PluginMessageEmitter<unknown>>()\n\n// TODO: this type should be defined here, not shared-base\nexport type { PluginMessageEmitterItem } from '@masknet/shared-base'\n","import { Environment, isEnvironment } from '@dimensiondev/holoflows-kit'\nimport { AsyncCall, type AsyncCallLogLevel, AsyncGeneratorCall } from 'async-call-rpc/full'\nimport { serializer, getOrUpdateLocalImplementationHMR } from '@masknet/shared-base'\nimport { getPluginMessage } from '@masknet/plugin-infra'\nimport { DOMAIN_RPC } from './message.js'\n\nconst log: AsyncCallLogLevel = {\n    type: 'pretty',\n    requestReplay: process.env.NODE_ENV === 'development',\n    sendLocalStack: process.env.NODE_ENV === 'development',\n}\nlet isBackground = () => isEnvironment(Environment.ManifestBackground)\nexport function __workaround__replaceIsBackground__(f: () => boolean) {\n    isBackground = f\n}\n\nfunction getPluginRPCInternal(\n    cache: Map<string, object>,\n    pluginID: string,\n    starter: typeof AsyncCall | typeof AsyncGeneratorCall,\n    entry: keyof RPCMessage,\n) {\n    if (cache.has(pluginID)) return cache.get(pluginID)\n    const message = getPluginMessage<RPCMessage>(pluginID, DOMAIN_RPC)\n    const rpc = starter(Object.create(null), {\n        key: `@plugin/${pluginID}`,\n        channel: {\n            on: message[entry].on,\n            send: message[entry].sendToBackgroundPage,\n        },\n        serializer,\n        log,\n        thenable: false,\n    })\n    cache.set(pluginID, rpc)\n    return rpc\n}\nconst cache = new Map<string, object>()\nconst cacheGenerator = new Map<string, object>()\nexport function getPluginRPC<T>(pluginID: string): T {\n    if (isBackground()) startPluginRPC(pluginID, new AbortController().signal, Object.create(null))\n    return getPluginRPCInternal(cache, pluginID, AsyncCall, '_') as T\n}\nexport function getPluginRPCGenerator<T>(pluginID: string): T {\n    if (isBackground()) startPluginGeneratorRPC(pluginID, new AbortController().signal, Object.create(null))\n    return getPluginRPCInternal(cacheGenerator, pluginID, AsyncGeneratorCall, '$') as T\n}\n\nfunction startPluginRPCInternal(\n    cache: Map<string, object>,\n    pluginID: string,\n    signal: AbortSignal,\n    impl: object,\n    starter: typeof AsyncCall | typeof AsyncGeneratorCall,\n    entry: keyof RPCMessage,\n) {\n    if (!isBackground()) throw new Error('Cannot start RPC in the UI.')\n    const message = getPluginMessage<RPCMessage>(pluginID, DOMAIN_RPC)\n    const delegate = getOrUpdateLocalImplementationHMR(() => impl, message[entry])\n    if (cache.has(pluginID)) return\n    cache.set(pluginID, delegate)\n    starter(delegate, {\n        key: pluginID,\n        channel: {\n            on: message[entry].on,\n            send: message[entry].sendByBroadcast,\n        },\n        serializer,\n        log,\n        thenable: false,\n    })\n}\n/** @internal */\nexport function startPluginRPC(pluginID: string, signal: AbortSignal, impl: object) {\n    startPluginRPCInternal(cache, pluginID, signal, impl, AsyncCall, '_')\n}\n/** @internal */\nexport function startPluginGeneratorRPC(pluginID: string, signal: AbortSignal, impl: object) {\n    startPluginRPCInternal(cacheGenerator, pluginID, signal, impl, AsyncGeneratorCall, '$')\n}\n\ninterface RPCMessage {\n    // RPC\n    _: unknown\n    // Generator\n    $: unknown\n}\n","import { createContext } from 'react'\nimport type { ProposalIdentifier } from './types.js'\n\nexport const SnapshotContext = createContext<ProposalIdentifier>(null!)\nSnapshotContext.displayName = 'SnapshotContext'\n","import type { ProposalIdentifier } from '../types.js'\n\nexport function getProposalIdentifier(url: string): ProposalIdentifier {\n    const parsedURL = new URL(url)\n    const [, space, , id] = parsedURL.hash.split('/')\n    return {\n        id,\n        space,\n    }\n}\n\nexport function resolveSnapshotSpacePageUrl(spaceId: string) {\n    return `https://snapshot.org/#/${spaceId}`\n}\n\nexport function resolveSnapshotProposalUrl(spaceId: string, proposalId: string) {\n    return `https://snapshot.org/#/${spaceId}/proposal/${proposalId}`\n}\n","// @ts-nocheck\n/* eslint-disable */\nimport { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nfunction createProxy(initValue: (key: string) => any) {\n    function define(key: string) {\n        const value = initValue(key);\n        Object.defineProperty(container, key, { value, configurable: true });\n        return value;\n    }\n    const container = {\n        __proto__: new Proxy({ __proto__: null }, {\n            get(_, key) {\n                if (typeof key === \"symbol\")\n                    return undefined;\n                return define(key);\n            }\n        })\n    };\n    return new Proxy(container, {\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, key) => {\n            if (typeof key === \"symbol\")\n                return undefined;\n            if (!(key in container))\n                define(key);\n            return Object.getOwnPropertyDescriptor(container, key);\n        }\n    });\n}\nexport function useSnapshotTrans(): {\n    /**\n      * `Information`\n      */\n    plugin_snapshot_info_title(): string;\n    /**\n      * `Strategie(s)`\n      */\n    plugin_snapshot_info_strategy(): string;\n    /**\n      * `Author`\n      */\n    plugin_snapshot_info_author(): string;\n    /**\n      * `IPFS`\n      */\n    plugin_snapshot_info_ipfs(): string;\n    /**\n      * `Start date`\n      */\n    plugin_snapshot_info_start(): string;\n    /**\n      * `End date`\n      */\n    plugin_snapshot_info_end(): string;\n    /**\n      * `Snapshot`\n      */\n    plugin_snapshot_info_snapshot(): string;\n    /**\n      * `DAO`\n      */\n    plugin_snapshot_info_dao(): string;\n    /**\n      * `Display Snapshot proposals on the Twitter page of the respective project or protocol.`\n      */\n    plugin_snapshot_description(): string;\n    /**\n      * `Results`\n      */\n    plugin_snapshot_result_title(): string;\n    /**\n      * `Votes`\n      */\n    plugin_snapshot_votes_title(): string;\n    /**\n      * `You`\n      */\n    plugin_snapshot_votes_yourself(): string;\n    /**\n      * `No power`\n      */\n    plugin_snapshot_no_power(): string;\n    /**\n      * `Voted successfully.`\n      */\n    plugin_snapshot_vote_success(): string;\n    /**\n      * `Please try again if you failed to vote.`\n      */\n    plugin_snapshot_vote_failed(): string;\n    /**\n      * `Vote`\n      */\n    plugin_snapshot_vote(): string;\n    /**\n      * `Option(s)`\n      */\n    plugin_snapshot_vote_choice(): string;\n    /**\n      * `Your voting power`\n      */\n    plugin_snapshot_vote_power(): string;\n    /**\n      * `Cast your vote`\n      */\n    plugin_snapshot_vote_title(): string;\n    /**\n      * `My vote`\n      */\n    plugin_snapshot_my_vote(): string;\n    /**\n      * `{{followersCount}} members`\n      */\n    plugin_snapshot_space_info_followers_count(options: {\n        readonly followersCount: string;\n    }): string;\n    /**\n      * `Starts in {{date}}`\n      */\n    plugin_snapshot_proposal_not_start(options: {\n        readonly date: string;\n    }): string;\n    /**\n      * `Ends in {{date}} `\n      */\n    plugin_snapshot_proposal_started(options: {\n        readonly date: string;\n    }): string;\n    /**\n      * `Ended {{date}}`\n      */\n    plugin_snapshot_proposal_ended(options: {\n        readonly date: string;\n    }): string;\n    /**\n      * `Oops, we can't find any results.`\n      */\n    plugin_snapshot_proposal_no_results(): string;\n    /**\n      * `Space`\n      */\n    plugin_snapshot_space(): string;\n    /**\n      * `Join`\n      */\n    plugin_snapshot_space_join(): string;\n    /**\n      * `View`\n      */\n    plugin_snapshot_space_view(): string;\n    /**\n      * `Proposal`\n      */\n    plugin_snapshot_proposal(): string;\n    /**\n      * `Progress`\n      */\n    plugin_snapshot_progress(): string;\n    /**\n      * `Loading fails due to Snapshot API service breakdown.`\n      */\n    plugin_snapshot_load_failed(): string;\n    /**\n      * `Vote Overview`\n      */\n    plugin_snapshot_vote_confirm_dialog_title(): string;\n    /**\n      * `Are you sure you want to vote \"{{- choiceText}}\"?`\n      */\n    plugin_snapshot_vote_confirm_dialog_choice(options: {\n        readonly choiceText: string;\n    }): string;\n    /**\n      * `This action cannot be undone.`\n      */\n    plugin_snapshot_vote_confirm_dialog_warning(): string;\n    /**\n      * `Current results`\n      */\n    plugin_snapshot_current_result_title(): string;\n    /**\n      * `Download report`\n      */\n    plugin_snapshot_download_report(): string;\n    /**\n      * `Loading`\n      */\n    loading(): string;\n} { const { t } = useTranslation(\"org.snapshot\"); return useMemo(() => createProxy((key) => t.bind(null, key)), [t]); }\n","import { getPluginRPC } from '@masknet/plugin-infra'\nimport { SNAPSHOT_PLUGIN_ID } from './constants.js'\n\nimport.meta.webpackHot?.accept()\nexport const PluginSnapshotRPC = getPluginRPC<typeof import('./Worker/apis.js')>(SNAPSHOT_PLUGIN_ID)\n","import { use, cache } from 'react'\nimport { PluginSnapshotRPC } from '../../messages.js'\n\nconst Request = cache(Suspender)\nexport function useProposal(id: string) {\n    return use(Request(id))\n}\nasync function Suspender(id: string) {\n    const proposal = await PluginSnapshotRPC.fetchProposal(id)\n    proposal.status = !proposal.isStart ? 'Pending' : proposal.isEnd ? 'Closed' : 'Active'\n    return proposal\n}\n","import type { Proposal } from './types.js'\n\nexport const getSnapshotVoteType = (type: string) => ({\n    Vote: [\n        {\n            name: 'from',\n            type: 'address',\n        },\n        {\n            name: 'space',\n            type: 'string',\n        },\n        {\n            name: 'timestamp',\n            type: 'uint64',\n        },\n        {\n            name: 'proposal',\n            type: 'string',\n        },\n        {\n            name: 'choice',\n            type: type === 'single-choice' ? 'uint32' : 'uint32[]',\n        },\n        {\n            name: 'metadata',\n            type: 'string',\n        },\n    ],\n})\n\nexport function getScores(proposal: Proposal) {\n    const scores = []\n    for (let i = 0; i < proposal.choices.length; i += 1) {\n        const score: Record<string, number> = {}\n        for (const vote of proposal.votes) {\n            if (vote.vp_by_strategy[i] > 0) score[vote.voter.toLowerCase()] = vote.vp_by_strategy[i]\n        }\n        scores.push(score)\n    }\n\n    return scores\n}\n","import type { ProposalIdentifier, VoteItem } from '../../types.js'\nimport { cache, use } from 'react'\nimport { useProposal } from './useProposal.js'\nimport { sumBy } from 'lodash-es'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { getScores } from '../../utils.js'\n\nconst Request = cache(Suspender)\nexport function useVotes(identifier: ProposalIdentifier, account?: string) {\n    return use(Request(identifier.id, identifier.space, account))\n}\n\nasync function Suspender(id: ProposalIdentifier['id'], space: ProposalIdentifier['space'], account?: string) {\n    const proposal = useProposal(id)\n    const strategies = proposal.strategies\n    const scores = getScores(proposal)\n    return proposal.votes\n        .map((v): VoteItem => {\n            const choices =\n                typeof v.choice === 'number'\n                    ? undefined\n                    : Array.isArray(v.choice)\n                    ? v.choice.map((i) => ({\n                          weight: 1,\n                          name: proposal.choices[i - 1],\n                          index: Number(i),\n                      }))\n                    : Object.entries(v.choice).map(([i, weight]) => ({\n                          weight,\n                          name: proposal.choices[Number(i) - 1],\n                          index: Number(i),\n                      }))\n            return {\n                choiceIndex: typeof v.choice === 'number' ? v.choice : undefined,\n                choiceIndexes: typeof v.choice === 'number' ? undefined : Object.keys(v.choice).map(Number),\n                choice: typeof v.choice === 'number' ? proposal.choices[v.choice - 1] : undefined,\n                choices,\n                totalWeight: choices\n                    ? Array.isArray(v.choice)\n                        ? v.choice.length\n                        : sumBy(choices, (choice) => choice.weight)\n                    : undefined,\n                address: v.voter,\n                authorIpfsHash: v.ipfs ?? v.id,\n                balance: sumBy(scores, (score) => score[v.voter.toLowerCase()] ?? 0),\n                scores: scores.map((score) => score[v.voter.toLowerCase()] || 0),\n                strategySymbol: proposal.space.symbol ?? strategies[0].params.symbol,\n                timestamp: v.created,\n            }\n        })\n        .sort((a, b) => (isSameAddress(a.address, account) ? -1 : b.balance - a.balance))\n        .filter((v) => v.balance > 0)\n}\n","import type { Proposal, ProposalIdentifier, ProposalResult, VoteItem } from '../../types.js'\nimport { cache, use } from 'react'\nimport { useVotes } from './useVotes.js'\nimport { sumBy } from 'lodash-es'\n\nconst Request = cache(Suspender)\nexport function useResults(identifier: ProposalIdentifier, proposal: Proposal) {\n    return use(Request(identifier.id, identifier.space, proposal))\n}\n\nasync function Suspender(id: ProposalIdentifier['id'], space: ProposalIdentifier['space'], proposal: Proposal) {\n    const votes = useVotes({ id, space })\n    const strategies = proposal.strategies\n    const powerOfChoices = proposal.choices.map((_choice, index) =>\n        sumBy(voteForChoice(votes, index), (choice) => {\n            if (choice.choiceIndex) return choice.balance\n            const totalWeight = sumBy(choice.choices, (choice) => choice.weight)\n            const weight = choice.choices!.find((v) => v.index === index + 1)?.weight ?? 0\n            return (choice.balance * weight) / totalWeight\n        }),\n    )\n    const powerDetailOfChoices = proposal.choices.map((_choice, i) =>\n        strategies.map((_strategy, index) => sumBy(voteForChoice(votes, i), (vote) => vote.scores[index])),\n    )\n    const totalPower = sumBy(votes, (vote) => vote.balance)\n\n    const results: ProposalResult[] = powerOfChoices.map((p, i) => ({\n        choice: proposal.choices[i],\n        power: p,\n        powerDetail: powerDetailOfChoices[i].map((inner_p, pI) => ({\n            power: strategies.length === 1 ? p : inner_p,\n            name: strategies[pI].params.symbol,\n        })),\n        percentage: totalPower === 0 ? 0 : (p / totalPower) * 100,\n    }))\n    return { results: results.sort((a, b) => b.power - a.power), totalPower }\n}\n\nfunction voteForChoice(votes: VoteItem[], i: number) {\n    return votes.filter((vote) =>\n        vote.choiceIndex ? vote.choiceIndex === i + 1 : vote.choices?.map((c) => c.index)?.includes(i + 1),\n    )\n}\n","import { Card, CardContent, CardHeader, Skeleton, Typography } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { memo, useEffect, useRef, useState, useTransition } from 'react'\nimport { range } from 'lodash-es'\nimport { useIntersection } from 'react-use'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            minHeight: 120,\n            padding: 0,\n            border: `solid 1px ${theme.palette.maskColor.publicLine}`,\n            margin: `${theme.spacing(2)} auto`,\n            marginBottom: theme.spacing(2),\n            '&:first-child': {\n                marginTop: 0,\n            },\n            '&:last-child': {\n                marginBottom: 0,\n            },\n            background: theme.palette.maskColor.white,\n        },\n        header: {\n            borderBottom: `solid 1px ${theme.palette.maskColor.publicLine}`,\n        },\n        content: {\n            width: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            boxSizing: 'border-box',\n            justifyContent: 'center',\n            alignContent: 'center',\n            '&:last-child': {\n                paddingBottom: 16,\n            },\n        },\n        title: {\n            display: 'flex',\n            alignItems: 'center',\n            color: theme.palette.maskColor.publicMain,\n            fontWeight: 'bold',\n            fontSize: 18,\n        },\n    }\n})\n\ninterface SnapshotCardProps {\n    title: (JSX.Element & React.ReactNode) | string\n    children?: React.ReactNode\n    lazy?: boolean\n}\n\nexport const SnapshotCard = memo(function SnapshotCard(props: SnapshotCardProps) {\n    const { title, children, lazy } = props\n    const { classes } = useStyles()\n    const ref = useRef(null)\n    const [seen, setSeen] = useState(!lazy)\n    const [isPending, setTransition] = useTransition()\n    const ob = useIntersection(ref, {})\n    useEffect(() => {\n        if (ob?.isIntersecting) {\n            setTransition(() => setSeen(true))\n        }\n    }, [ob?.isIntersecting])\n\n    return (\n        <Card className={classes.root} variant=\"outlined\" ref={ref}>\n            <CardHeader className={classes.header} title={<Typography className={classes.title}>{title}</Typography>} />\n            {isPending ? range(6).map((i) => <Skeleton key={i} animation=\"wave\" height={30} sx={{ m: 1 }} />) : null}\n            {seen ? <CardContent className={classes.content}>{children}</CardContent> : null}\n        </Card>\n    )\n})\n","export default function stringFormatter(opts = {}) {\n    const quote = typeof opts.quote === 'string' ? opts.quote : '\"';\n    const escapedQuote = typeof opts.escapedQuote === 'string'\n        ? opts.escapedQuote\n        : `${quote}${quote}`;\n    if (!quote || quote === escapedQuote) {\n        return (value) => value;\n    }\n    return (value) => {\n        if (value.includes(quote)) {\n            value = value.replace(new RegExp(quote, 'g'), escapedQuote);\n        }\n        return `${quote}${value}${quote}`;\n    };\n}\n","import defaulStringFormatter from './string.js';\nexport default function objectFormatter(opts = { stringFormatter: defaulStringFormatter() }) {\n    return (value) => {\n        if (value === null)\n            return '';\n        let stringifiedValue = JSON.stringify(value);\n        if (stringifiedValue === undefined)\n            return '';\n        if (stringifiedValue[0] === '\"')\n            stringifiedValue = stringifiedValue.replace(/^\"(.+)\"$/, '$1');\n        return opts.stringFormatter(stringifiedValue);\n    };\n}\n","export default function defaultFormatter(value) {\n    if (value === null || value === undefined)\n        return '';\n    return `${value}`;\n}\n","export default function numberFormatter(opts = {}) {\n    const { separator, decimals } = opts;\n    if (separator) {\n        if (decimals) {\n            return (value) => value.toFixed(decimals).replace('.', separator);\n        }\n        return (value) => `${value}`.replace('.', separator);\n    }\n    if (decimals) {\n        return (value) => value.toFixed(decimals);\n    }\n    return (value) => `${value}`;\n}\n","import defaulStringFormatter from './string.js';\nexport default function symbolFormatter(opts = { stringFormatter: defaulStringFormatter() }) {\n    return (value) => opts.stringFormatter(value.toString().slice(7, -1));\n}\n","export function getProp(obj, path, defaultValue) {\n    const value = obj[path];\n    return value === undefined ? defaultValue : value;\n}\nexport function flattenReducer(acc, arr) {\n    try {\n        // This is faster but susceptible to `RangeError: Maximum call stack size exceeded`\n        Array.isArray(arr) ? acc.push(...arr) : acc.push(arr);\n        return acc;\n    }\n    catch (err) {\n        // Fallback to a slower but safer option\n        return acc.concat(arr);\n    }\n}\nexport function fastJoin(arr, separator) {\n    let isFirst = true;\n    return arr.reduce((acc, elem) => {\n        if (elem === null || elem === undefined) {\n            elem = '';\n        }\n        if (isFirst) {\n            isFirst = false;\n            return `${elem}`;\n        }\n        return `${acc}${separator}${elem}`;\n    }, '');\n}\n","import lodashGet from 'lodash.get';\nimport { default as defaultFormatter, number as numberFormatterCtor, string as stringFormatterCtor, symbol as symbolFormatterCtor, object as objectFormatterCtor, } from '@json2csv/formatters';\nimport { getProp, flattenReducer, fastJoin } from './utils.js';\nexport var FormatterTypes;\n(function (FormatterTypes) {\n    FormatterTypes[\"header\"] = \"header\";\n    FormatterTypes[\"undefined\"] = \"undefined\";\n    FormatterTypes[\"boolean\"] = \"boolean\";\n    FormatterTypes[\"number\"] = \"number\";\n    FormatterTypes[\"bigint\"] = \"bigint\";\n    FormatterTypes[\"string\"] = \"string\";\n    FormatterTypes[\"symbol\"] = \"symbol\";\n    FormatterTypes[\"function\"] = \"function\";\n    FormatterTypes[\"object\"] = \"object\";\n})(FormatterTypes || (FormatterTypes = {}));\nexport default class JSON2CSVBase {\n    constructor(opts) {\n        this.opts = this.preprocessOpts(opts);\n    }\n    /**\n     * Check passing opts and set defaults.\n     *\n     * @param {Json2CsvOptions} opts Options object containing fields,\n     * delimiter, default value, quote mark, header, etc.\n     */\n    preprocessOpts(opts) {\n        const processedOpts = Object.assign({}, opts);\n        if (processedOpts.fields) {\n            processedOpts.fields = this.preprocessFieldsInfo(processedOpts.fields, processedOpts.defaultValue);\n        }\n        processedOpts.transforms = processedOpts.transforms || [];\n        const stringFormatter = (processedOpts.formatters && processedOpts.formatters['string']) ||\n            stringFormatterCtor();\n        const objectFormatter = objectFormatterCtor({ stringFormatter });\n        const defaultFormatters = {\n            header: stringFormatter,\n            undefined: defaultFormatter,\n            boolean: defaultFormatter,\n            number: numberFormatterCtor(),\n            bigint: defaultFormatter,\n            string: stringFormatter,\n            symbol: symbolFormatterCtor({ stringFormatter }),\n            function: objectFormatter,\n            object: objectFormatter,\n        };\n        processedOpts.formatters = Object.assign(Object.assign({}, defaultFormatters), processedOpts.formatters);\n        processedOpts.delimiter = processedOpts.delimiter || ',';\n        processedOpts.eol = processedOpts.eol || '\\n';\n        processedOpts.header = processedOpts.header !== false;\n        processedOpts.includeEmptyRows = processedOpts.includeEmptyRows || false;\n        processedOpts.withBOM = processedOpts.withBOM || false;\n        return processedOpts;\n    }\n    /**\n     * Check and normalize the fields configuration.\n     *\n     * @param {(string|object)[]} fields Fields configuration provided by the user\n     * or inferred from the data\n     * @returns {object[]} preprocessed FieldsInfo array\n     */\n    preprocessFieldsInfo(fields, globalDefaultValue) {\n        return fields.map((fieldInfo) => {\n            if (typeof fieldInfo === 'string') {\n                return {\n                    label: fieldInfo,\n                    value: fieldInfo.includes('.') || fieldInfo.includes('[')\n                        ? (row) => lodashGet(row, fieldInfo, globalDefaultValue)\n                        : (row) => getProp(row, fieldInfo, globalDefaultValue),\n                };\n            }\n            if (typeof fieldInfo === 'object') {\n                const defaultValue = 'default' in fieldInfo ? fieldInfo.default : globalDefaultValue;\n                if (typeof fieldInfo.value === 'string') {\n                    const fieldPath = fieldInfo.value;\n                    return {\n                        label: fieldInfo.label || fieldInfo.value,\n                        value: fieldInfo.value.includes('.') || fieldInfo.value.includes('[')\n                            ? (row) => lodashGet(row, fieldPath, defaultValue)\n                            : (row) => getProp(row, fieldPath, defaultValue),\n                    };\n                }\n                if (typeof fieldInfo.value === 'function') {\n                    const label = fieldInfo.label || fieldInfo.value.name || '';\n                    const field = { label, default: defaultValue };\n                    const valueGetter = fieldInfo.value;\n                    return {\n                        label,\n                        value(row) {\n                            const value = valueGetter(row, field);\n                            return value === undefined ? defaultValue : value;\n                        },\n                    };\n                }\n            }\n            throw new Error('Invalid field info option. ' + JSON.stringify(fieldInfo));\n        });\n    }\n    /**\n     * Create the title row with all the provided fields as column headings\n     *\n     * @returns {String} titles as a string\n     */\n    getHeader() {\n        return fastJoin(this.opts.fields.map((fieldInfo) => this.opts.formatters.header(fieldInfo.label)), this.opts.delimiter);\n    }\n    /**\n     * Preprocess each object according to the given transforms (unwind, flatten, etc.).\n     * @param {Object} row JSON object to be converted in a CSV row\n     */\n    preprocessRow(row) {\n        return this.opts.transforms.reduce((rows, transform) => rows.map((row) => transform(row)).reduce(flattenReducer, []), [row]);\n    }\n    /**\n     * Create the content of a specific CSV row\n     *\n     * @param {Object} row JSON object to be converted in a CSV row\n     * @returns {String} CSV string (row)\n     */\n    processRow(row) {\n        if (!row) {\n            return undefined;\n        }\n        const processedRow = this.opts.fields.map((fieldInfo) => this.processCell(row, fieldInfo));\n        if (!this.opts.includeEmptyRows &&\n            processedRow.every((field) => field === '')) {\n            return undefined;\n        }\n        return fastJoin(processedRow, this.opts.delimiter);\n    }\n    /**\n     * Create the content of a specfic CSV row cell\n     *\n     * @param {Object} row JSON object representing the  CSV row that the cell belongs to\n     * @param {FieldInfo} fieldInfo Details of the field to process to be a CSV cell\n     * @returns {String} CSV string (cell)\n     */\n    processCell(row, fieldInfo) {\n        return this.processValue(fieldInfo.value(row));\n    }\n    /**\n     * Create the content of a specfic CSV row cell\n     *\n     * @param {T} value Value to be included in a CSV cell\n     * @returns {String} Value stringified and processed\n     */\n    processValue(value) {\n        const formatter = this.opts.formatters[typeof value];\n        return formatter(value);\n    }\n}\n","import JSON2CSVBase, {} from './BaseParser.js';\nimport { flattenReducer, fastJoin } from './utils.js';\nexport default class JSON2CSVParser extends JSON2CSVBase {\n    constructor(opts) {\n        super(opts);\n    }\n    /**\n     * Main function that converts json to csv.\n     *\n     * @param {Array|Object} data Array of JSON objects to be converted to CSV\n     * @returns {String} The CSV formated data as a string\n     */\n    parse(data) {\n        const preprocessedData = this.preprocessData(data);\n        this.opts.fields =\n            this.opts.fields ||\n                this.preprocessFieldsInfo(preprocessedData.reduce((fields, item) => {\n                    Object.keys(item).forEach((field) => {\n                        if (!fields.includes(field)) {\n                            fields.push(field);\n                        }\n                    });\n                    return fields;\n                }, []), this.opts.defaultValue);\n        const header = this.opts.header ? this.getHeader() : '';\n        const rows = this.processData(preprocessedData);\n        const csv = (this.opts.withBOM ? '\\ufeff' : '') +\n            header +\n            (header && rows ? this.opts.eol : '') +\n            rows;\n        return csv;\n    }\n    /**\n     * Preprocess the data according to the give opts (unwind, flatten, etc.)\n      and calculate the fields and field names if they are not provided.\n     *\n     * @param {Array|Object} data Array or object to be converted to CSV\n     */\n    preprocessData(data) {\n        const processedData = Array.isArray(data) ? data : [data];\n        if (!this.opts.fields) {\n            if (data === undefined || data === null || processedData.length === 0) {\n                throw new Error('Data should not be empty or the \"fields\" option should be included');\n            }\n            if (typeof processedData[0] !== 'object') {\n                throw new Error('Data items should be objects or the \"fields\" option should be included');\n            }\n        }\n        if (this.opts.transforms.length === 0)\n            return processedData;\n        return processedData\n            .map((row) => this.preprocessRow(row))\n            .reduce(flattenReducer, []);\n    }\n    /**\n     * Create the content row by row below the header\n     *\n     * @param {Array} data Array of JSON objects to be converted to CSV\n     * @returns {String} CSV string (body)\n     */\n    processData(data) {\n        return fastJoin(data.map((row) => this.processRow(row)).filter((row) => row), // Filter empty rows\n        this.opts.eol);\n    }\n}\n","import { Tokenizer, TokenParser, TokenType, TokenizerError, } from '@streamparser/json';\nimport JSON2CSVBase, {} from './BaseParser.js';\nexport default class JSON2CSVStreamParser extends JSON2CSVBase {\n    constructor(opts, asyncOpts) {\n        super(opts);\n        this._hasWritten = false;\n        if (this.opts.fields)\n            this.preprocessFieldsInfo(this.opts.fields, this.opts.defaultValue);\n        this.initTokenizer(this.opts, asyncOpts);\n    }\n    initTokenizer(opts, asyncOpts = {}) {\n        if (asyncOpts.objectMode) {\n            this.tokenizer = this.getObjectModeTokenizer();\n            return;\n        }\n        if (opts.ndjson) {\n            this.tokenizer = this.getNdJsonTokenizer(asyncOpts);\n            return;\n        }\n        this.tokenizer = this.getBinaryModeTokenizer(asyncOpts);\n        return;\n    }\n    getObjectModeTokenizer() {\n        return {\n            write: (data) => this.pushLine(data),\n            end: () => {\n                this.pushHeaderIfNotWritten();\n                this.onEnd();\n            },\n        };\n    }\n    configureCallbacks(tokenizer, tokenParser) {\n        tokenizer.onToken = tokenParser.write.bind(this.tokenParser);\n        tokenizer.onError = (err) => this.onError(err);\n        tokenizer.onEnd = () => {\n            if (!this.tokenParser.isEnded)\n                this.tokenParser.end();\n        };\n        tokenParser.onValue = ({ value }) => this.pushLine(value);\n        tokenParser.onError = (err) => this.onError(err);\n        tokenParser.onEnd = () => {\n            this.pushHeaderIfNotWritten();\n            this.onEnd();\n        };\n    }\n    getNdJsonTokenizer(asyncOpts) {\n        const tokenizer = new Tokenizer(Object.assign(Object.assign({}, asyncOpts), { separator: this.opts.eol }));\n        this.tokenParser = new TokenParser({\n            paths: ['$'],\n            keepStack: false,\n            separator: this.opts.eol,\n        });\n        this.configureCallbacks(tokenizer, this.tokenParser);\n        return tokenizer;\n    }\n    getBinaryModeTokenizer(asyncOpts) {\n        const tokenizer = new Tokenizer(asyncOpts);\n        tokenizer.onToken = ({ token, value }) => {\n            if (token === TokenType.LEFT_BRACKET) {\n                this.tokenParser = new TokenParser({\n                    paths: ['$.*'],\n                    keepStack: false,\n                });\n            }\n            else if (token === TokenType.LEFT_BRACE) {\n                this.tokenParser = new TokenParser({ paths: ['$'], keepStack: false });\n            }\n            else {\n                this.onError(new Error('Data items should be objects or the \"fields\" option should be included'));\n                return;\n            }\n            this.configureCallbacks(tokenizer, this.tokenParser);\n            this.tokenParser.write({ token, value });\n        };\n        tokenizer.onError = (err) => this.onError(err instanceof TokenizerError\n            ? new Error('Data should be a valid JSON object or array')\n            : err);\n        tokenizer.onEnd = () => {\n            this.pushHeaderIfNotWritten();\n            this.onEnd();\n        };\n        return tokenizer;\n    }\n    // TODO this should be narrowed based on options\n    write(data) {\n        this.tokenizer.write(data);\n    }\n    end() {\n        if (this.tokenizer && !this.tokenizer.isEnded)\n            this.tokenizer.end();\n    }\n    pushHeaderIfNotWritten() {\n        if (this._hasWritten)\n            return;\n        if (!this.opts.fields) {\n            this.onError(new Error('Data should not be empty or the \"fields\" option should be included'));\n            return;\n        }\n        this.pushHeader();\n    }\n    /**\n     * Generate the csv header and pushes it downstream.\n     */\n    pushHeader() {\n        if (this.opts.withBOM) {\n            this.onData('\\ufeff');\n        }\n        if (this.opts.header) {\n            const header = this.getHeader();\n            this.onHeader(header);\n            this.onData(header);\n            this._hasWritten = true;\n        }\n    }\n    /**\n     * Transforms an incoming json data to csv and pushes it downstream.\n     *\n     * @param {Object} data JSON object to be converted in a CSV row\n     */\n    pushLine(data) {\n        const processedData = this.preprocessRow(data);\n        if (!this._hasWritten) {\n            if (!this.opts.fields) {\n                if (typeof processedData[0] !== 'object') {\n                    throw new Error('Data items should be objects or the \"fields\" option should be included');\n                }\n                this.opts.fields = this.preprocessFieldsInfo(Object.keys(processedData[0]), this.opts.defaultValue);\n            }\n            this.pushHeader();\n        }\n        processedData.forEach((row) => {\n            const line = this.processRow(row);\n            if (line === undefined)\n                return;\n            this.onLine(line);\n            this.onData(this._hasWritten ? this.opts.eol + line : line);\n            this._hasWritten = true;\n        });\n    }\n    // No idea why eslint doesn't detect the usage of these\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    /* c8 ignore start */\n    onHeader(header) {\n        /* To be set by the user */\n    }\n    onLine(line) {\n        /* To be set by the user */\n    }\n    onData(data) {\n        /* To be set by the user */\n    }\n    onError(err) {\n        /* To be set by the user */\n    }\n    onEnd() {\n        /* To be set by the user */\n    }\n}\n","export { default as BaseParser, FormatterTypes, } from './BaseParser.js';\nexport { default as Parser } from './Parser.js';\nexport { default as StreamParser, } from './StreamParser.js';\n","import { Component, type PropsWithChildren } from 'react'\nimport { SnapshotCard } from './SnapshotCard.js'\nimport { Typography, Button, Box } from '@mui/material'\nimport { Trans } from 'react-i18next'\n\nexport class LoadingFailCard extends Component<\n    PropsWithChildren<{\n        title: string\n        retry: () => void\n        isFullPluginDown?: boolean\n    }>\n> {\n    static getDerivedStateFromError(error: unknown) {\n        return { error }\n    }\n    override state: {\n        error: Error | null\n    } = { error: null }\n    override render() {\n        if (this.state.error) {\n            return this.props.isFullPluginDown ? (\n                <Box style={{ textAlign: 'center', padding: 16 }}>\n                    <Typography textAlign=\"center\" color=\"error\">\n                        <Trans i18nKey=\"load_failed\" />\n                    </Typography>\n                    <Button\n                        sx={{\n                            width: 254,\n                            height: 40,\n                            backgroundColor: (t) => t.palette.maskColor.publicMain,\n                            color: 'white',\n                            fontSize: 14,\n                            fontWeight: 700,\n                            marginBottom: 0.5,\n                            marginTop: 4,\n                            '&:hover': {\n                                backgroundColor: (t) => t.palette.maskColor.publicMain,\n                            },\n                        }}\n                        variant=\"roundedContained\"\n                        onClick={() => {\n                            this.setState({ error: null })\n                            this.props.retry()\n                        }}>\n                        <Trans i18nKey=\"reload\" />\n                    </Button>\n                </Box>\n            ) : (\n                <SnapshotCard title={this.props.title}>\n                    <Box style={{ textAlign: 'center' }}>\n                        <Typography color={(t) => t.palette.maskColor.publicMain}>\n                            <Trans i18nKey=\"plugin_snapshot_load_failed\" />\n                        </Typography>\n                        <Button\n                            variant=\"roundedContained\"\n                            sx={{\n                                width: 254,\n                                height: 40,\n                                backgroundColor: (theme) => theme.palette.maskColor.publicMain,\n                                color: (theme) => theme.palette.maskColor.white,\n                                fontSize: 14,\n                                fontWeight: 700,\n                                marginBottom: 4,\n                                marginTop: 2,\n                                '&:hover': {\n                                    backgroundColor: (theme) => theme.palette.maskColor.publicMain,\n                                },\n                            }}\n                            onClick={() => {\n                                this.setState({ error: null })\n                                this.props.retry()\n                            }}>\n                            <Trans i18nKey=\"retry\" />\n                        </Button>\n                    </Box>\n                </SnapshotCard>\n            )\n        }\n        return this.props.children\n    }\n}\n","import { millify } from 'millify'\n\nexport function formatCount(count: number, precision: number, lowercase = false) {\n    return millify(count, {\n        precision,\n        lowercase,\n    })\n}\n","import { Suspense } from 'react'\nimport { alpha, Skeleton } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { SnapshotCard } from './SnapshotCard.js'\nimport { range } from 'lodash-es'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        skeleton: {\n            margin: theme.spacing(1),\n            '&:first-child': {\n                marginTop: theme.spacing(2),\n            },\n        },\n    }\n})\n\nexport function LoadingCard(\n    props: React.PropsWithChildren<{\n        title: string\n    }>,\n) {\n    const { classes, theme } = useStyles()\n    return (\n        <Suspense\n            fallback={\n                <SnapshotCard title={props.title}>\n                    {range(2).map((i) => (\n                        <Skeleton\n                            key={i}\n                            className={classes.skeleton}\n                            sx={{ backgroundColor: alpha(theme.palette.maskColor.publicMain, 0.6) }}\n                            animation=\"wave\"\n                            variant=\"rectangular\"\n                            width={i === 0 ? '80%' : '60%'}\n                            height={15}\n                        />\n                    ))}\n                </SnapshotCard>\n            }>\n            {props.children}\n        </Suspense>\n    )\n}\n","import { useContext, useMemo, unstable_useCacheRefresh } from 'react'\nimport { Box, List, ListItem, Typography, LinearProgress, styled, Button, linearProgressClasses } from '@mui/material'\nimport { makeStyles, ShadowRootTooltip, TextOverflowTooltip } from '@masknet/theme'\n\nimport { SnapshotContext } from '../context.js'\nimport { useProposal } from './hooks/useProposal.js'\nimport { useVotes } from './hooks/useVotes.js'\nimport { useResults } from './hooks/useResults.js'\nimport { SnapshotCard } from './SnapshotCard.js'\n// cspell: disable-next-line\nimport { Parser } from '@json2csv/plainjs'\nimport { LoadingFailCard } from './LoadingFailCard.js'\nimport { formatCount } from '@masknet/web3-shared-base'\nimport { useSnapshotTrans } from '../locales/index.js'\nimport { LoadingCard } from './LoadingCard.js'\n\nconst choiceMaxWidth = 240\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        list: {\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        listItem: {\n            display: 'flex',\n            flexDirection: 'column',\n            paddingLeft: 0,\n            paddingRight: 0,\n        },\n        listItemHeader: {\n            display: 'flex',\n            width: '100%',\n        },\n        power: {\n            marginLeft: theme.spacing(2),\n            color: theme.palette.maskColor.publicMain,\n        },\n        ratio: {\n            marginLeft: 'auto',\n            color: theme.palette.maskColor.publicMain,\n        },\n        choice: {\n            maxWidth: choiceMaxWidth,\n            color: theme.palette.maskColor.publicMain,\n        },\n        linearProgressWrap: {\n            width: '100%',\n            marginTop: theme.spacing(1),\n        },\n        ellipsisText: {\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n        },\n        resultButton: {\n            width: 200,\n            margin: '0 auto',\n            backgroundColor: theme.palette.maskColor.publicMain,\n            color: theme.palette.maskColor.white,\n            '&:hover': {\n                backgroundColor: theme.palette.maskColor.publicMain,\n                color: theme.palette.maskColor.white,\n            },\n        },\n        tooltip: {\n            backgroundColor: theme.palette.maskColor.publicMain,\n            color: theme.palette.maskColor.white,\n        },\n        arrow: {\n            color: theme.palette.maskColor.publicMain,\n        },\n    }\n})\n\nconst StyledLinearProgress = styled(LinearProgress)(({ theme }) => ({\n    [`&.${linearProgressClasses.root}`]: {\n        height: 8,\n        borderRadius: 5,\n        backgroundColor: theme.palette.maskColor.publicBg,\n    },\n    [`&.${linearProgressClasses.bar}`]: {\n        borderRadius: 5,\n    },\n}))\n\nfunction Content() {\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n    const votes = useVotes(identifier)\n    const { results } = useResults(identifier, proposal)\n    const { classes, cx } = useStyles()\n    const t = useSnapshotTrans()\n\n    const dataForCsv = useMemo(\n        () =>\n            votes.map((vote) => ({\n                address: vote.address,\n                choice: vote.choiceIndex,\n                balance: vote.balance,\n                timestamp: vote.timestamp,\n                dateUtc: new Date(vote.timestamp * 1000).toUTCString(),\n                authorIpfsHash: vote.authorIpfsHash,\n            })),\n        [votes],\n    )\n\n    return (\n        <SnapshotCard\n            title={proposal.isEnd ? t.plugin_snapshot_result_title() : t.plugin_snapshot_current_result_title()}>\n            <List className={classes.list}>\n                {results\n                    ? results.map((result, i) => (\n                          <ListItem className={classes.listItem} key={i}>\n                              <Box className={classes.listItemHeader}>\n                                  <TextOverflowTooltip\n                                      as={ShadowRootTooltip}\n                                      PopperProps={{\n                                          disablePortal: true,\n                                      }}\n                                      title={<Typography>{result.choice}</Typography>}\n                                      placement=\"top\"\n                                      classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                                      arrow>\n                                      <Typography className={cx(classes.choice, classes.ellipsisText)}>\n                                          {result.choice}\n                                      </Typography>\n                                  </TextOverflowTooltip>\n                                  <ShadowRootTooltip\n                                      PopperProps={{\n                                          disablePortal: true,\n                                      }}\n                                      classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                                      title={\n                                          <Typography className={classes.ellipsisText}>\n                                              {result.powerDetail\n                                                  .filter((x) => x.power)\n                                                  .flatMap((detail, index) => {\n                                                      const name = formatCount(\n                                                          proposal.scores_by_strategy[i][index],\n                                                          2,\n                                                          true,\n                                                      )\n                                                      return [index === 0 ? '' : '+', name, detail.name]\n                                                  })\n                                                  .join(' ')}\n                                          </Typography>\n                                      }\n                                      placement=\"top\"\n                                      arrow>\n                                      <Typography className={classes.power}>\n                                          {formatCount(proposal.scores[i], 2, true)}\n                                      </Typography>\n                                  </ShadowRootTooltip>\n                                  <Typography className={classes.ratio}>\n                                      {Number.parseFloat(result.percentage.toFixed(2))}%\n                                  </Typography>\n                              </Box>\n                              <Box className={classes.linearProgressWrap}>\n                                  <StyledLinearProgress\n                                      color=\"inherit\"\n                                      variant=\"determinate\"\n                                      value={result.percentage}\n                                  />\n                              </Box>\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n            {proposal.isEnd ? (\n                <Button\n                    variant=\"roundedContained\"\n                    className={classes.resultButton}\n                    onClick={() => {\n                        const parser = new Parser()\n                        const csv = parser.parse(dataForCsv)\n                        const link = document.createElement('a')\n                        // TODO: use URL.createObjectURL instead\n                        link.setAttribute('href', `data:text/csv;charset=utf-8,${csv}`)\n                        link.setAttribute('download', `snapshot-report-${identifier.id}.csv`)\n                        document.body.appendChild(link)\n                        link.click()\n                        document.body.removeChild(link)\n                    }}>\n                    {t.plugin_snapshot_download_report()}\n                </Button>\n            ) : null}\n        </SnapshotCard>\n    )\n}\n\nfunction Loading(props: React.PropsWithChildren<{}>) {\n    const t = useSnapshotTrans()\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n    return (\n        <LoadingCard\n            title={proposal.isEnd ? t.plugin_snapshot_result_title() : t.plugin_snapshot_current_result_title()}>\n            {props.children}\n        </LoadingCard>\n    )\n}\n\nfunction Fail(props: React.PropsWithChildren<{}>) {\n    const t = useSnapshotTrans()\n    const identifier = useContext(SnapshotContext)\n    const retry = unstable_useCacheRefresh()\n    const proposal = useProposal(identifier.id)\n    return (\n        <LoadingFailCard\n            title={proposal.isEnd ? t.plugin_snapshot_result_title() : t.plugin_snapshot_current_result_title()}\n            retry={retry}>\n            {props.children}\n        </LoadingFailCard>\n    )\n}\n\nexport function ResultCard() {\n    return (\n        <Loading>\n            <Fail>\n                <Content />\n            </Fail>\n        </Loading>\n    )\n}\n","import { useMemo } from 'react'\nimport { type BlockieOptions, create } from 'ethereum-blockies'\n\nexport function generateBlockie(address: string, options?: BlockieOptions) {\n    try {\n        return create({\n            seed: address,\n            color: '#dfe',\n            bgcolor: '#aaa',\n            ...options,\n        }).toDataURL()\n    } catch {\n        return ''\n    }\n}\n\nexport function useBlockie(address: string, options?: BlockieOptions) {\n    return useMemo(() => {\n        return generateBlockie(address, options)\n    }, [address])\n}\n","import { generateBlockie } from '@masknet/web3-hooks-base'\nimport { Avatar, type AvatarProps } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { useEffect, useRef, useState } from 'react'\nimport { useIntersection } from 'react-use'\n\nconst useStyles = makeStyles()((theme) => ({\n    icon: {\n        width: 16,\n        height: 16,\n        backgroundColor: theme.palette.common.white,\n        margin: 0,\n    },\n}))\n\nexport interface EthereumBlockieProps extends withClasses<'icon'> {\n    name?: string\n    address: string\n    AvatarProps?: Partial<AvatarProps>\n}\n\nexport function EthereumBlockie(props: EthereumBlockieProps) {\n    const { address, name } = props\n    const { classes } = useStyles(undefined, { props })\n    const [blockie, setBlockie] = useState('')\n    const ref = useRef(null)\n    const ob = useIntersection(ref, {})\n    useEffect(() => {\n        if (ob?.isIntersecting && !blockie) {\n            setBlockie(generateBlockie(address))\n        }\n    }, [ob?.isIntersecting, address, !blockie])\n\n    return (\n        <Avatar className={classes.icon} src={blockie} ref={ref}>\n            {name?.slice(0, 1).toUpperCase()}\n        </Avatar>\n    )\n}\n","/// <reference types=\"react/canary\" />\nimport { unstable_useCacheRefresh, useContext } from 'react'\nimport { Badge, Box, Link, List, ListItem, Typography } from '@mui/material'\nimport { formatCount, formatPercentage, isSameAddress } from '@masknet/web3-shared-base'\nimport { formatEthereumAddress } from '@masknet/web3-shared-evm'\nimport { makeStyles, ShadowRootTooltip, TextOverflowTooltip } from '@masknet/theme'\nimport { ExplorerResolver } from '@masknet/web3-providers'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { EthereumBlockie } from '@masknet/shared'\nimport { SnapshotContext } from '../context.js'\nimport { useVotes } from './hooks/useVotes.js'\nimport { useProposal } from './hooks/useProposal.js'\nimport { LoadingCard } from './LoadingCard.js'\nimport { LoadingFailCard } from './LoadingFailCard.js'\nimport { SnapshotCard } from './SnapshotCard.js'\nimport { useSnapshotTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        list: {\n            display: 'flex',\n            flexDirection: 'column',\n            maxHeight: 'var(--contentHeight)',\n            overflow: 'auto',\n            paddingTop: 0,\n            scrollbarWidth: 'none',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        listItem: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            borderBottom: `1px solid ${theme.palette.maskColor.publicLine}`,\n            paddingLeft: 0,\n            paddingRight: 0,\n            gap: 16,\n        },\n        badge: {\n            transform: 'translateX(50px) translateY(2.5px)',\n        },\n        avatarWrapper: {\n            marginRight: 8,\n        },\n        choice: {\n            flexGrow: 1,\n            overflow: 'hidden',\n            whiteSpace: 'nowrap',\n            textOverflow: 'ellipsis',\n            maxWidth: 170,\n            color: theme.palette.maskColor.publicMain,\n        },\n        ellipsisText: {\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n        },\n        link: {\n            display: 'flex',\n            minWidth: 130,\n            color: 'inherit',\n            alignItems: 'center',\n            textDecoration: 'none !important',\n        },\n        power: {\n            minWidth: 90,\n            color: theme.palette.maskColor.publicMain,\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            maxWidth: 90,\n        },\n        shadowRootTooltip: {\n            color: theme.palette.maskColor.white,\n        },\n        tooltip: {\n            backgroundColor: theme.palette.maskColor.publicMain,\n            color: 'white',\n        },\n        arrow: {\n            color: theme.palette.maskColor.publicMain,\n        },\n    }\n})\n\nfunction Content() {\n    const { chainId, account } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n    const votes = useVotes(identifier, account)\n    const { classes, cx, theme } = useStyles()\n    const t = useSnapshotTrans()\n    return (\n        <SnapshotCard\n            lazy\n            title={\n                <Badge\n                    max={9999999}\n                    classes={{ badge: classes.badge }}\n                    badgeContent={proposal.voterAmounts}\n                    color=\"primary\">\n                    {t.plugin_snapshot_votes_title()}\n                </Badge>\n            }>\n            <List className={classes.list}>\n                {votes?.map(function voteItemIter(v) {\n                    const isAverageWeight = v.choices?.every((c) => c.weight === 1)\n                    const fullChoiceText =\n                        v.totalWeight && v.choices\n                            ? v.choices\n                                  .flatMap((choice, index) => [\n                                      index === 0 ? '' : ', ',\n                                      !isAverageWeight ? formatPercentage(choice.weight / v.totalWeight!) + ' ' : '',\n                                      choice.name,\n                                  ])\n                                  .join('')\n                            : null\n                    return (\n                        <ListItem className={classes.listItem} key={v.address}>\n                            <Link\n                                className={cx(classes.link, classes.ellipsisText)}\n                                target=\"_blank\"\n                                rel=\"noopener\"\n                                href={ExplorerResolver.addressLink(chainId, v.address)}>\n                                <Box className={classes.avatarWrapper}>\n                                    <EthereumBlockie address={v.address} />\n                                </Box>\n                                <Typography color={theme.palette.maskColor.dark}>\n                                    {isSameAddress(v.address, account)\n                                        ? t.plugin_snapshot_votes_yourself()\n                                        : formatEthereumAddress(v.address, 4)}\n                                </Typography>\n                            </Link>\n                            {v.choice ? (\n                                <Typography className={classes.choice}>{v.choice}</Typography>\n                            ) : v.choices ? (\n                                <ShadowRootTooltip\n                                    PopperProps={{\n                                        disablePortal: false,\n                                    }}\n                                    title={\n                                        <Typography className={classes.shadowRootTooltip}>{fullChoiceText}</Typography>\n                                    }\n                                    placement=\"top\"\n                                    classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                                    arrow>\n                                    <Typography className={classes.choice}>{fullChoiceText}</Typography>\n                                </ShadowRootTooltip>\n                            ) : null}\n                            <TextOverflowTooltip\n                                as={ShadowRootTooltip}\n                                PopperProps={{\n                                    disablePortal: true,\n                                }}\n                                classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                                title={\n                                    <Typography className={classes.shadowRootTooltip}>\n                                        {formatCount(v.balance, 2, true) +\n                                            ' ' +\n                                            (v.strategySymbol ? v.strategySymbol.toUpperCase() : '')}\n                                    </Typography>\n                                }\n                                placement=\"top\"\n                                arrow>\n                                <Typography className={classes.power}>\n                                    {formatCount(v.balance, 2, true) +\n                                        ' ' +\n                                        (v.strategySymbol ? v.strategySymbol.toUpperCase() : '')}\n                                </Typography>\n                            </TextOverflowTooltip>\n                        </ListItem>\n                    )\n                })}\n            </List>\n        </SnapshotCard>\n    )\n}\n\nfunction Loading(props: React.PropsWithChildren<{}>) {\n    const t = useSnapshotTrans()\n    return <LoadingCard title={t.plugin_snapshot_votes_title()}>{props.children}</LoadingCard>\n}\n\nfunction Fail(props: React.PropsWithChildren<{}>) {\n    const t = useSnapshotTrans()\n    const retry = unstable_useCacheRefresh()\n    return (\n        <LoadingFailCard title={t.plugin_snapshot_votes_title()} retry={retry}>\n            {props.children}\n        </LoadingFailCard>\n    )\n}\n\nexport function VotesCard() {\n    return (\n        <Loading>\n            <Fail>\n                <Content />\n            </Fail>\n        </Loading>\n    )\n}\n","import urlcat from 'urlcat'\nimport { useContext } from 'react'\nimport { format as formatDateTime } from 'date-fns'\nimport { Avatar, Box, Link, Typography } from '@mui/material'\nimport { OpenInNew } from '@mui/icons-material'\nimport { makeStyles } from '@masknet/theme'\nimport { EthereumBlockie } from '@masknet/shared'\nimport { ExplorerResolver } from '@masknet/web3-providers'\nimport { formatEthereumAddress } from '@masknet/web3-shared-evm'\nimport { resolveIPFS_URL, resolveResourceURL } from '@masknet/web3-shared-base'\nimport { SnapshotContext } from '../context.js'\nimport { useProposal } from './hooks/useProposal.js'\nimport { SnapshotCard } from './SnapshotCard.js'\nimport { SNAPSHOT_IPFS } from '../constants.js'\nimport { useSnapshotTrans } from '../locales/index.js'\n\ninterface InfoFieldProps extends withClasses<'field'> {\n    title: string\n    children: React.ReactNode\n}\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        field: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginTop: 14,\n            color: theme.palette.maskColor.main,\n            width: '100%',\n        },\n        title: {\n            fontWeight: 400,\n        },\n        link: {\n            display: 'flex',\n            color: 'inherit',\n            alignItems: 'center',\n            marginLeft: theme.spacing(1),\n            textDecoration: 'none !important',\n            fontSize: 14,\n            fontWeight: 400,\n        },\n        avatar: {\n            width: 16,\n            height: 16,\n        },\n        avatarWrapper: {\n            marginRight: 8,\n        },\n        info: {\n            marginTop: 0,\n            color: theme.palette.maskColor.publicMain,\n        },\n        infoColor: {\n            color: theme.palette.maskColor.publicMain,\n        },\n    }\n})\n\nexport function InfoField(props: InfoFieldProps) {\n    const { classes } = useStyles(undefined, { props })\n    return (\n        <div className={classes.field}>\n            <Typography className={classes.title}>{props.title}</Typography>\n            <div>{props.children}</div>\n        </div>\n    )\n}\n\nexport function InformationCard() {\n    const { classes } = useStyles()\n    const t = useSnapshotTrans()\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n    const { start, end, snapshot, strategies, chainId } = proposal\n    return (\n        <SnapshotCard title={t.plugin_snapshot_info_title()}>\n            <InfoField title={t.plugin_snapshot_info_strategy()} classes={{ field: classes.info }}>\n                <Box sx={{ display: 'flex' }}>\n                    {strategies\n                        .filter((strategy) => !!strategy.params.address)\n                        .map((strategy, i) => (\n                            <Link\n                                key={i}\n                                className={classes.link}\n                                target=\"_blank\"\n                                rel=\"noopener\"\n                                href={ExplorerResolver.addressLink(chainId, strategy.params.address)}>\n                                <Avatar src={resolveIPFS_URL(proposal.space.avatar)} className={classes.avatar} />\n                            </Link>\n                        ))}\n                </Box>\n            </InfoField>\n            <InfoField title={t.plugin_snapshot_info_author()} classes={{ field: classes.infoColor }}>\n                <Link\n                    className={classes.link}\n                    target=\"_blank\"\n                    rel=\"noopener\"\n                    href={ExplorerResolver.addressLink(proposal.chainId, proposal.address)}>\n                    <div className={classes.avatarWrapper}>\n                        {proposal.authorAvatar ? (\n                            <Avatar src={resolveIPFS_URL(proposal.authorAvatar)} className={classes.avatar} />\n                        ) : (\n                            <EthereumBlockie address={proposal.address} />\n                        )}\n                    </div>\n                    <Typography fontSize={14}>\n                        {proposal.space.id ?? formatEthereumAddress(proposal.address, 4)}\n                    </Typography>\n                </Link>\n            </InfoField>\n            <InfoField title={t.plugin_snapshot_info_ipfs()} classes={{ field: classes.infoColor }}>\n                <Link\n                    className={classes.link}\n                    target=\"_blank\"\n                    rel=\"noopener\"\n                    href={resolveResourceURL(urlcat(SNAPSHOT_IPFS, proposal.ipfs))}>\n                    <Typography fontSize={14}>#{identifier.id.slice(0, 7)}</Typography>\n                    <OpenInNew fontSize=\"small\" sx={{ paddingLeft: 1 }} />\n                </Link>\n            </InfoField>\n            <InfoField title={t.plugin_snapshot_info_start()} classes={{ field: classes.infoColor }}>\n                <Typography fontSize={14} fontWeight={400}>\n                    {formatDateTime(start * 1000, 'MMM dd, yyyy, hh:mm a')}\n                </Typography>\n            </InfoField>\n            <InfoField title={t.plugin_snapshot_info_end()} classes={{ field: classes.infoColor }}>\n                <Typography fontSize={14} fontWeight={400}>\n                    {formatDateTime(end * 1000, 'MMM dd, yyyy, hh:mm a')}\n                </Typography>\n            </InfoField>\n            <InfoField title={t.plugin_snapshot_info_snapshot()} classes={{ field: classes.infoColor }}>\n                <Link\n                    className={classes.link}\n                    target=\"_blank\"\n                    rel=\"noopener\"\n                    href={ExplorerResolver.blockLink(proposal.chainId, Number.parseInt(snapshot, 10))}>\n                    <Typography fontSize={14}>{snapshot}</Typography>\n                    <OpenInNew fontSize=\"small\" sx={{ paddingLeft: 1 }} />\n                </Link>\n            </InfoField>\n        </SnapshotCard>\n    )\n}\n","import { Card, CardContent } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            width: '100%',\n            borderRadius: 0,\n            backgroundColor: theme.palette.maskColor.white,\n            overflowY: 'auto',\n            overflowX: 'hidden',\n            height: 400,\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        content: {\n            padding: `${theme.spacing(2)} !important`,\n        },\n    }\n})\n\ninterface SnapshotTabProps {\n    children: React.ReactNode\n}\n\nexport function SnapshotTab(props: SnapshotTabProps) {\n    const { classes } = useStyles()\n    return (\n        <Card className={classes.root} elevation={0}>\n            <CardContent className={classes.content}>{props.children}</CardContent>\n        </Card>\n    )\n}\n","import { ResultCard } from './ResultCard.js'\nimport { VotesCard } from './VotesCard.js'\nimport { InformationCard } from './InformationCard.js'\nimport { SnapshotTab } from './SnapshotTab.js'\n\nexport function ProgressTab() {\n    return (\n        <SnapshotTab>\n            <InformationCard />\n            <ResultCard />\n            <VotesCard />\n        </SnapshotTab>\n    )\n}\n","import { useCallback } from 'react'\nimport { useCustomSnackbar, usePopupCustomSnackbar } from '@masknet/theme'\nimport { useSharedTrans } from '../locales/index.js'\n\nexport function useSnackbarCallback<P extends (...args: any[]) => Promise<T>, T>(options: SnackbarCallback<P, T>): P\n/** Prefer the first overload. */\nexport function useSnackbarCallback<P extends (...args: any[]) => Promise<T>, T>(\n    executor: P,\n    deps: React.DependencyList,\n    onSuccess?: (ret: T) => void,\n    onError?: (err: Error) => void,\n    key?: string,\n    successText?: string | React.ReactNode,\n    errorText?: string | React.ReactNode,\n): P\nexport function useSnackbarCallback<P extends (...args: any[]) => Promise<T>, T>(\n    opts: SnackbarCallback<P, T> | P,\n    deps?: React.DependencyList,\n    onSuccess?: (ret: T) => void,\n    onError?: (err: Error) => void,\n    key?: string,\n    successText?: string | React.ReactNode,\n    errorText?: string | React.ReactNode,\n) {\n    const t = useSharedTrans()\n    const { showSnackbar } = useCustomSnackbar()\n    const executor = typeof opts === 'function' ? opts : opts.executor\n    if (typeof opts === 'object') {\n        ;[deps, onSuccess, onError, key, successText] = [\n            opts.deps,\n            opts.onSuccess,\n            opts.onError,\n            opts.key,\n            opts.successText,\n        ]\n    }\n    return useCallback(\n        (...args: any[]) =>\n            executor(...args).then(\n                (res) => {\n                    showSnackbar(successText ?? t.snackbar_done(), {\n                        key,\n                        variant: 'success',\n                        preventDuplicate: true,\n                    })\n                    onSuccess?.(res)\n                    return res\n                },\n                (error) => {\n                    showSnackbar(errorText ?? `Error: ${error.message || error}`, {\n                        key,\n                        preventDuplicate: true,\n                        variant: 'error',\n                    })\n                    onError?.(error)\n                    throw error\n                },\n            ),\n        [...deps!, showSnackbar, executor, onError, onSuccess, key, successText, errorText],\n    )\n}\n\nexport function usePopupSnackbarCallback<P extends (...args: any[]) => Promise<T>, T>(\n    options: Omit<SnackbarCallback<P, T>, 'type'>,\n): P\n\nexport function usePopupSnackbarCallback<P extends (...args: any[]) => Promise<T>, T>(\n    opts: SnackbarCallback<P, T> | P,\n    deps?: React.DependencyList,\n    onSuccess?: (ret: T) => void,\n    onError?: (err: Error) => void,\n    key?: string,\n    successText?: string,\n) {\n    const t = useSharedTrans()\n    const { showSnackbar } = usePopupCustomSnackbar()\n    const executor = typeof opts === 'function' ? opts : opts.executor\n    if (typeof opts === 'object') {\n        ;[deps, onSuccess, onError, key, successText] = [\n            opts.deps,\n            opts.onSuccess,\n            opts.onError,\n            opts.key,\n            opts.successText,\n        ]\n    }\n    return useCallback(\n        (...args: any[]) =>\n            executor(...args).then(\n                (res) => {\n                    showSnackbar(successText ?? t.snackbar_done(), {\n                        key,\n                        variant: 'success',\n                        preventDuplicate: true,\n                    })\n                    onSuccess?.(res)\n                    return res\n                },\n                (error) => {\n                    showSnackbar(error.message, {\n                        key,\n                        preventDuplicate: true,\n                        variant: 'error',\n                    })\n                    onError?.(error)\n                    throw error\n                },\n            ),\n        [...deps!, showSnackbar, executor, onError, onSuccess, key, successText],\n    )\n}\n\nexport interface SnackbarCallback<P extends (...args: any[]) => Promise<T>, T> {\n    executor: P\n    deps: React.DependencyList\n    onSuccess?: (ret: T) => void\n    onError?: (err: Error) => void\n    key?: string\n    successText?: string\n}\n","import { useAsyncRetry } from 'react-use'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ProposalIdentifier } from '../../types.js'\nimport { useProposal } from './useProposal.js'\nimport { find, sumBy } from 'lodash-es'\nimport { getScores } from '../../utils.js'\n\nexport function usePower(identifier: ProposalIdentifier) {\n    const proposal = useProposal(identifier.id)\n    const { account } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    return useAsyncRetry(async () => {\n        if (!account) return 0\n        const scores = getScores(proposal)\n        return sumBy(scores, (score) => find(score, (_, key) => key.toLowerCase() === account.toLowerCase()) ?? 0)\n    }, [account, proposal])\n}\n","import { OpenInNew } from '@mui/icons-material'\nimport { Link, DialogContent, DialogActions, Typography } from '@mui/material'\nimport { ActionButton, makeStyles, ShadowRootTooltip } from '@masknet/theme'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { PluginWalletStatusBar, InjectedDialog, WalletConnectedBoundary } from '@masknet/shared'\nimport { formatCount } from '@masknet/web3-shared-base'\nimport { ExplorerResolver } from '@masknet/web3-providers'\nimport { InfoField } from './InformationCard.js'\nimport { useSnapshotTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    link: {\n        display: 'flex',\n        color: 'inherit',\n        alignItems: 'center',\n        marginLeft: theme.spacing(1),\n        textDecoration: 'none !important',\n    },\n    field: {\n        color: theme.palette.maskColor.second,\n    },\n    content: {\n        padding: 16,\n        '& > :first-child': {\n            marginTop: 0,\n        },\n        height: 492,\n    },\n    button: {\n        margin: 16,\n    },\n}))\n\ninterface VoteConfirmDialogProps {\n    open: boolean\n    loading: boolean\n    snapshot: string\n    powerSymbol: string\n    onClose: () => void\n    onVoteConfirm: () => void\n    choiceText: string\n    power: number | undefined\n    chainId: ChainId\n}\n\nexport function VoteConfirmDialog(props: VoteConfirmDialogProps) {\n    const { open, onClose, onVoteConfirm, choiceText, snapshot, powerSymbol, power = 0, loading, chainId } = props\n    const t = useSnapshotTrans()\n\n    const { classes } = useStyles()\n    return (\n        <InjectedDialog\n            open={open}\n            onClose={onClose}\n            title={t.plugin_snapshot_vote_confirm_dialog_title()}\n            disableBackdropClick>\n            <DialogContent className={classes.content}>\n                <InfoField classes={{ field: classes.field }} title={t.plugin_snapshot_vote_choice()}>\n                    <ShadowRootTooltip\n                        PopperProps={{\n                            disablePortal: true,\n                        }}\n                        title={<Typography>{choiceText}</Typography>}\n                        placement=\"top\"\n                        arrow>\n                        <Typography\n                            sx={{\n                                textAlign: 'right',\n                                width: 300,\n                                whiteSpace: 'nowrap',\n                                textOverflow: 'ellipsis',\n                                overflow: 'hidden',\n                            }}>\n                            {choiceText}\n                        </Typography>\n                    </ShadowRootTooltip>\n                </InfoField>\n                <InfoField classes={{ field: classes.field }} title={t.plugin_snapshot_info_snapshot()}>\n                    <Link\n                        className={classes.link}\n                        target=\"_blank\"\n                        rel=\"noopener\"\n                        href={ExplorerResolver.blockLink(chainId, Number.parseInt(snapshot, 10))}>\n                        {snapshot}\n                        <OpenInNew fontSize=\"small\" sx={{ paddingLeft: 1 }} />\n                    </Link>\n                </InfoField>\n                <InfoField classes={{ field: classes.field }} title={t.plugin_snapshot_vote_power()}>\n                    <Typography>\n                        {formatCount(power, 2, true)} {powerSymbol.toUpperCase()}\n                    </Typography>\n                </InfoField>\n            </DialogContent>\n            <DialogActions style={{ padding: 0 }}>\n                <WalletConnectedBoundary offChain classes={{ button: classes.button }} expectedChainId={chainId}>\n                    <PluginWalletStatusBar>\n                        <ActionButton\n                            color=\"primary\"\n                            fullWidth\n                            disabled={loading}\n                            onClick={onVoteConfirm}\n                            loading={loading}>\n                            {t.plugin_snapshot_vote()}\n                        </ActionButton>\n                    </PluginWalletStatusBar>\n                </WalletConnectedBoundary>\n            </DialogActions>\n        </InjectedDialog>\n    )\n}\n","import { useContext, useState, useEffect, useMemo, unstable_useCacheRefresh } from 'react'\nimport { Box, Button, Typography } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { checksumAddress } from '@masknet/web3-shared-evm'\nimport { useChainContext, useNetworkContext } from '@masknet/web3-hooks-base'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { useSnackbarCallback } from '@masknet/shared'\nimport { Web3 } from '@masknet/web3-providers'\nimport { SnapshotCard } from './SnapshotCard.js'\nimport { useProposal } from './hooks/useProposal.js'\nimport { usePower } from './hooks/usePower.js'\nimport { VoteConfirmDialog } from './VoteConfirmDialog.js'\nimport { SnapshotContext } from '../context.js'\nimport { SNAPSHOT_VOTE_DOMAIN } from '../constants.js'\nimport { getSnapshotVoteType } from '../utils.js'\nimport { PluginSnapshotRPC } from '../messages.js'\nimport { useSnapshotTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        button: {\n            height: 48,\n            margin: `${theme.spacing(1)} auto`,\n            '&.Mui-disabled': {\n                backgroundColor: theme.palette.maskColor.publicThirdMain,\n                color: theme.palette.maskColor.publicMain,\n            },\n        },\n        choiceButton: {\n            backgroundColor: theme.palette.maskColor.publicThirdMain,\n            color: theme.palette.maskColor.publicMain,\n            '&:hover': {\n                backgroundColor: 'transparent',\n            },\n        },\n        buttonActive: {\n            backgroundColor: `${theme.palette.maskColor.publicMain} !important`,\n            color: `${theme.palette.maskColor.white} !important`,\n        },\n        buttons: {\n            '& > :first-child': {\n                marginTop: 0,\n            },\n            '& > :last-child': {\n                marginBottom: 0,\n            },\n        },\n    }\n})\n\nexport function VotingCard() {\n    const t = useSnapshotTrans()\n    const { classes, cx } = useStyles()\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n    const { account } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const { value: power } = usePower(identifier)\n    const choices = proposal.choices\n    const [choices_, setChoices_] = useState<number[]>([])\n    const [open, setOpen] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n    const messageText = (text: string) => (\n        <Box>\n            <Typography fontSize={14} fontWeight={700}>\n                {t.plugin_snapshot_vote()}\n            </Typography>\n            <Typography fontSize={14} fontWeight={400}>\n                {text}\n            </Typography>\n        </Box>\n    )\n    const { pluginID } = useNetworkContext()\n    const retry = unstable_useCacheRefresh()\n    const onVoteConfirm = useSnackbarCallback(\n        async () => {\n            setLoading(true)\n            const message = {\n                from: checksumAddress(account),\n                space: identifier.space,\n                timestamp: Math.floor(Date.now() / 1000),\n                proposal: identifier.id,\n                choice: proposal.type === 'single-choice' ? choices_[0] : choices_,\n                metadata: JSON.stringify({}),\n            }\n            const domain = SNAPSHOT_VOTE_DOMAIN\n            const types = getSnapshotVoteType(proposal.type)\n            const data = {\n                message,\n                domain,\n                types,\n            }\n            const sig = await Web3.signMessage(\n                'typedData',\n                JSON.stringify({\n                    domain,\n                    types: {\n                        EIP712Domain: [\n                            { name: 'name', type: 'string' },\n                            { name: 'version', type: 'string' },\n                        ],\n                        Vote: types.Vote,\n                    },\n                    primaryType: 'Vote',\n                    message,\n                }),\n                { account: checksumAddress(account) },\n            )\n            const body = JSON.stringify({ data, sig, address: checksumAddress(account) })\n            return PluginSnapshotRPC.vote(body)\n        },\n        [choices_, identifier, account, proposal],\n        () => {\n            setLoading(false)\n            setOpen(false)\n            retry()\n        },\n        (_err: Error) => setLoading(false),\n        void 0,\n        messageText(t.plugin_snapshot_vote_success()),\n        messageText(t.plugin_snapshot_vote_failed()),\n    )\n\n    useEffect(() => {\n        setOpen(false)\n    }, [account, power, setOpen])\n\n    const onClick = (n: number) => {\n        if (proposal.type === 'single-choice') {\n            setChoices_((d) => [n])\n            return\n        }\n        if (choices_.includes(n)) setChoices_((d) => d.filter((x) => x !== n))\n        else setChoices_((d) => [...d, n])\n    }\n\n    const disabled = choices_.length === 0 || !account || !power\n    const choiceText = useMemo(() => {\n        let text = ''\n        for (const i of choices_) {\n            text += choices[i - 1]\n            if (i < choices_.length) text += ','\n        }\n        return text\n    }, [choices_])\n    return account && pluginID === NetworkPluginID.PLUGIN_EVM ? (\n        <SnapshotCard title={t.plugin_snapshot_vote_title()}>\n            <Box className={classes.buttons}>\n                {choices.map((choiceText, i) => (\n                    <Button\n                        variant=\"roundedContained\"\n                        fullWidth\n                        key={i}\n                        onClick={() => onClick(i + 1)}\n                        className={cx([\n                            classes.button,\n                            classes.choiceButton,\n                            ...(choices_.includes(i + 1) ? [classes.buttonActive] : []),\n                        ])}>\n                        <Typography\n                            fontWeight={700}\n                            fontSize={16}\n                            sx={{ whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                            {choiceText}\n                        </Typography>\n                    </Button>\n                ))}\n\n                <Button\n                    variant=\"roundedContained\"\n                    fullWidth\n                    className={cx(classes.button, disabled ? '' : classes.buttonActive)}\n                    disabled={disabled}\n                    onClick={() => setOpen(true)}>\n                    <Typography fontWeight={700} fontSize={16}>\n                        {power && account ? t.plugin_snapshot_vote() : t.plugin_snapshot_no_power()}\n                    </Typography>\n                </Button>\n            </Box>\n\n            <VoteConfirmDialog\n                open={open}\n                loading={loading}\n                onClose={() => setOpen(false)}\n                choiceText={choiceText}\n                snapshot={proposal.snapshot}\n                powerSymbol={proposal.space.symbol}\n                power={power}\n                onVoteConfirm={onVoteConfirm}\n                chainId={proposal.chainId}\n            />\n        </SnapshotCard>\n    ) : null\n}\n","import { useContext } from 'react'\nimport { Markdown } from '@masknet/shared'\nimport { useProposal } from './hooks/useProposal.js'\nimport { SnapshotContext } from '../context.js'\nimport { makeStyles } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => ({\n    markdown: {\n        '& p, & li': {\n            margin: 0,\n            fontSize: 14,\n            color: `${theme.palette.maskColor.secondaryDark} !important`,\n        },\n        '& p + p': {\n            marginTop: theme.spacing(0.5),\n            color: `${theme.palette.maskColor.secondaryDark} !important`,\n        },\n        '& h1, & h2, & h3, & h4, & h5, & h6': {\n            fontSize: 14,\n            fontWeight: 500,\n            color: `${theme.palette.maskColor.secondaryDark} !important`,\n        },\n        '& img': {\n            maxWidth: '100%',\n        },\n        '& a': {\n            color: `${theme.palette.maskColor.secondaryDark} !important`,\n        },\n        '& td, & th': {\n            color: `${theme.palette.maskColor.secondaryDark} !important`,\n        },\n    },\n}))\n\nexport function ReadMeCard() {\n    const { classes } = useStyles()\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n\n    return <Markdown className={classes.markdown}>{proposal.body}</Markdown>\n}\n","import { useContext } from 'react'\nimport { VotingCard } from './VotingCard.js'\nimport { useProposal } from './hooks/useProposal.js'\nimport { SnapshotTab } from './SnapshotTab.js'\nimport { ReadMeCard } from './ReadmeCard.js'\nimport { SnapshotContext } from '../context.js'\n\nexport function ProposalTab() {\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n    return (\n        <SnapshotTab>\n            <ReadMeCard />\n            {proposal.isEnd ? null : <VotingCard />}\n        </SnapshotTab>\n    )\n}\n","import { ChainBoundary } from '@masknet/shared'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport {\n    MaskLightTheme,\n    MaskTabList,\n    ShadowRootTooltip,\n    TextOverflowTooltip,\n    makeStyles,\n    useTabs,\n} from '@masknet/theme'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport { resolveIPFS_URL } from '@masknet/web3-shared-base'\nimport { TabContext, TabPanel } from '@mui/lab'\nimport { Avatar, Box, Chip, Tab, ThemeProvider, Typography } from '@mui/material'\nimport Color from 'color'\nimport { useContext } from 'react'\nimport { SnapshotContext } from '../context.js'\nimport { useSnapshotTrans } from '../locales/index.js'\nimport { ProgressTab } from './ProgressTab.js'\nimport { ProposalTab } from './ProposalTab.js'\nimport { useProposal } from './hooks/useProposal.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        header: {\n            gap: theme.spacing(2),\n            display: 'flex',\n            padding: 12,\n            alignItems: 'center',\n        },\n        title: {\n            flex: 1,\n        },\n        body: {\n            padding: 12,\n            paddingBottom: 0,\n        },\n        tab: {\n            whiteSpace: 'nowrap',\n            background: 'transparent',\n            color: theme.palette.maskColor.secondaryDark,\n            '&:hover': {\n                background: 'transparent',\n            },\n        },\n        tabActive: {\n            background: theme.palette.maskColor.white,\n            color: theme.palette.maskColor.publicMain,\n            '&:hover': {\n                background: theme.palette.maskColor.white,\n            },\n        },\n        content: {\n            flex: 1,\n            overflow: 'auto',\n            borderRadius: '0 0 12px 12px',\n            scrollbarWidth: 'none',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n            background: theme.palette.maskColor.white,\n        },\n        active: {\n            color: theme.palette.maskColor.white,\n            backgroundColor: theme.palette.maskColor.success,\n        },\n        default: {\n            color: theme.palette.maskColor.white,\n            backgroundColor: new Color(theme.palette.maskColor.primary).alpha(0.1).toString(),\n        },\n        avatar: {\n            boxShadow: '0px 6px 12px rgba(81, 62, 255, 0.2)',\n            backdropFilter: 'blur(8px)',\n            width: 48,\n            height: 48,\n        },\n        shadowRootTooltip: {},\n        tooltip: {\n            backgroundColor: theme.palette.maskColor.publicMain,\n            color: theme.palette.maskColor.white,\n        },\n        arrow: {\n            color: theme.palette.maskColor.publicMain,\n        },\n    }\n})\n\nexport function Snapshot() {\n    const { classes, theme } = useStyles()\n    const identifier = useContext(SnapshotContext)\n    const proposal = useProposal(identifier.id)\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const [currentTab, onChange, tabs] = useTabs('Proposal', 'Progress')\n    const t = useSnapshotTrans()\n\n    const Tabs = [\n        {\n            value: tabs.Proposal,\n            label: t.plugin_snapshot_proposal(),\n        },\n        {\n            value: tabs.Progress,\n            label: t.plugin_snapshot_progress(),\n        },\n    ]\n\n    return (\n        <TabContext value={currentTab}>\n            <Box className={classes.header}>\n                <Avatar src={resolveIPFS_URL(proposal.space.avatar)} className={classes.avatar} />\n                <ThemeProvider theme={MaskLightTheme}>\n                    <Box className={classes.title}>\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <TextOverflowTooltip\n                                as={ShadowRootTooltip}\n                                PopperProps={{\n                                    disablePortal: true,\n                                }}\n                                title={\n                                    <Typography fontSize={18} fontWeight=\"bold\">\n                                        {proposal.space.name}\n                                    </Typography>\n                                }\n                                placement=\"top\"\n                                classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                                arrow>\n                                <Typography\n                                    fontSize={18}\n                                    fontWeight=\"bold\"\n                                    color={theme.palette.maskColor.publicMain}\n                                    sx={{\n                                        width: 150,\n                                        whiteSpace: 'nowrap',\n                                        textOverflow: 'ellipsis',\n                                        overflow: 'hidden',\n                                    }}>\n                                    {proposal.space.name}\n                                </Typography>\n                            </TextOverflowTooltip>\n                            <Box sx={{ display: 'flex' }} color={theme.palette.maskColor.publicSecond}>\n                                <Typography fontSize={14} sx={{ paddingRight: 1 }}>\n                                    by\n                                </Typography>\n                                <Typography fontSize={14} fontWeight=\"700\">\n                                    {proposal.space.id}\n                                </Typography>\n                            </Box>\n                        </Box>\n\n                        <ShadowRootTooltip\n                            PopperProps={{\n                                disablePortal: true,\n                            }}\n                            title={<Typography className={classes.shadowRootTooltip}>{proposal.title}</Typography>}\n                            placement=\"top\"\n                            classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                            arrow>\n                            <Typography\n                                fontSize={14}\n                                fontWeight=\"700\"\n                                color={theme.palette.maskColor.publicSecond}\n                                sx={{ width: 300, whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: 'hidden' }}>\n                                {proposal.title}\n                            </Typography>\n                        </ShadowRootTooltip>\n                    </Box>\n                </ThemeProvider>\n                <Box>\n                    <Chip\n                        className={proposal.status === 'Active' ? classes.active : classes.default}\n                        label={proposal.status}\n                    />\n                </Box>\n            </Box>\n            <Box className={classes.body}>\n                <MaskTabList variant=\"base\" aria-label=\"snapshot\" onChange={onChange}>\n                    {Tabs.map((x, i) => (\n                        <Tab\n                            key={i}\n                            value={x.value}\n                            label={x.label}\n                            className={x.value === currentTab ? classes.tabActive : classes.tab}\n                        />\n                    ))}\n                </MaskTabList>\n                <Box className={classes.content}>\n                    <TabPanel value={tabs.Proposal} key={tabs.Proposal} sx={{ padding: 0 }}>\n                        <ProposalTab />\n                    </TabPanel>\n                    <TabPanel value={tabs.Progress} key={tabs.Progress} sx={{ padding: 0 }}>\n                        <ProgressTab />\n                    </TabPanel>\n                </Box>\n            </Box>\n            <Box style={{ padding: 12 }}>\n                <ChainBoundary\n                    expectedPluginID={NetworkPluginID.PLUGIN_EVM}\n                    expectedChainId={chainId}\n                    ActionButtonPromiseProps={{ variant: 'roundedDark' }}\n                />\n            </Box>\n        </TabContext>\n    )\n}\n","import { SnapshotContext } from '../context.js'\nimport { getProposalIdentifier } from './helpers.js'\nimport { Snapshot } from './Snapshot.js'\nimport { LoadingFailCard } from './LoadingFailCard.js'\n// @ts-expect-error undocumented api\nimport { unstable_Cache as Cache, unstable_useCacheRefresh } from 'react'\n\ninterface PostInspectorProps {\n    url: string\n}\n\nexport function PostInspector(props: PostInspectorProps) {\n    const identifier = getProposalIdentifier(props.url)\n\n    return (\n        <SnapshotContext.Provider value={identifier}>\n            <Cache>\n                <Component />\n            </Cache>\n        </SnapshotContext.Provider>\n    )\n}\nfunction Component() {\n    const refresh = unstable_useCacheRefresh()\n    return (\n        <LoadingFailCard title=\"\" isFullPluginDown retry={refresh}>\n            <Snapshot />\n        </LoadingFailCard>\n    )\n}\n","import { Icons } from '@masknet/icons'\nimport { Stack, Typography, Link } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { useSharedTrans } from '@masknet/shared'\nimport { useSnapshotTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    item1: {\n        color: theme.palette.maskColor.secondaryDark,\n        fontSize: '14px',\n        fontWeight: 700,\n    },\n    item2: {\n        color: theme.palette.maskColor.dark,\n        fontSize: '14px',\n        fontWeight: 700,\n        marginLeft: '2px',\n    },\n    linkOutIcon: {\n        color: theme.palette.maskColor.dark,\n    },\n}))\n\nexport function PluginDescriptor() {\n    const t = useSnapshotTrans()\n    const tr = useSharedTrans()\n    const { classes } = useStyles()\n\n    return (\n        <Stack flexDirection=\"row\" justifyContent=\"space-between\" alignItems=\"center\" width=\"100%\">\n            <Stack flexDirection=\"row\" justifyContent=\"space-between\" gap={1} alignItems=\"center\">\n                <Icons.Snapshot />\n                <Typography fontWeight=\"bolder\" fontSize={16} color={(theme) => theme.palette.maskColor.dark}>\n                    {t.plugin_snapshot_info_snapshot()}\n                </Typography>\n            </Stack>\n            <Stack direction=\"row\" gap={0.5}>\n                <Typography className={classes.item1}>{tr.plugin_card_frame_default_provided_by()}</Typography>\n                <Typography className={classes.item2}>{tr.plugin_card_frame_default_provided_by_value()}</Typography>\n                <Link\n                    underline=\"none\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    color=\"textPrimary\"\n                    href={'https://mask.io/'}\n                    width=\"22px\"\n                    height=\"22px\"\n                    style={{ alignSelf: 'center', display: 'flex', alignItems: 'center', justifyItems: 'center' }}>\n                    <Icons.LinkOut size={16} className={classes.linkOutIcon} />\n                </Link>\n            </Stack>\n        </Stack>\n    )\n}\n","import type { RefObject } from 'react'\nimport { isEqual } from 'lodash-es'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, ShadowRootMenu } from '@masknet/theme'\nimport { Avatar, MenuItem, Stack, Typography, Divider } from '@mui/material'\nimport type { DAOResult } from '@masknet/web3-shared-base'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { useSnapshotTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    menu: {\n        minWidth: 320,\n        backgroundColor: theme.palette.maskColor.bottom,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        borderRadius: 16,\n    },\n    menuItem: {\n        display: 'flex',\n        overflow: 'hidden',\n        alignItems: 'center',\n        height: 36,\n        padding: '0 12px',\n    },\n    itemText: {\n        flexDirection: 'row',\n        flexGrow: 1,\n        justifyContent: 'space-around',\n        gap: theme.spacing(1),\n        alignItems: 'center',\n        overflow: 'hidden',\n    },\n    itemCheckout: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    name: {\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n    },\n    coinIcon: {\n        marginRight: 4,\n        width: 20,\n        height: 20,\n    },\n    checkedIcon: {\n        filter: 'drop-shadow(0px 4px 10px rgba(28, 104, 243, 0.2))',\n        color: theme.palette.maskColor.primary,\n    },\n    group: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n    },\n    groupName: {\n        height: 18,\n        marginTop: 5,\n        fontWeight: 700,\n        fontSize: 14,\n        padding: '0 12px',\n    },\n    divider: {\n        margin: theme.spacing(1, 0),\n        width: 'calc(100% - 24px)',\n        color: theme.palette.maskColor.line,\n        borderColor: theme.palette.maskColor.line,\n        position: 'relative',\n        left: 12,\n    },\n}))\n\ninterface SpaceMenuProps {\n    options: Array<DAOResult<ChainId.Mainnet>>\n    currentOption?: DAOResult<ChainId.Mainnet>\n    onSelect(index: number): void\n    containerRef: RefObject<HTMLElement>\n    spaceMenuOpen: boolean\n    setSpaceMenuOpen: (a: boolean) => void\n    disablePortal?: boolean\n    disableScrollLock?: boolean\n}\n\nexport function SpaceMenu({\n    options,\n    currentOption,\n    onSelect,\n    containerRef,\n    spaceMenuOpen,\n    setSpaceMenuOpen,\n    disablePortal,\n    disableScrollLock,\n}: SpaceMenuProps) {\n    const { classes } = useStyles()\n    const t = useSnapshotTrans()\n    return (\n        <ShadowRootMenu\n            anchorEl={containerRef.current}\n            open={spaceMenuOpen}\n            disablePortal={disablePortal}\n            disableScrollLock={disableScrollLock}\n            PaperProps={{\n                className: classes.menu,\n            }}\n            onClose={() => setSpaceMenuOpen(false)}>\n            <div key=\"rss3\" className={classes.group}>\n                <Typography className={classes.groupName}>{t.plugin_snapshot_space()}</Typography>\n                <Divider className={classes.divider} />\n                {options.map((x, i) => {\n                    const selected = isEqual(x, currentOption)\n                    return (\n                        <MenuItem className={classes.menuItem} key={i} onClick={() => onSelect(i)}>\n                            <Avatar className={classes.coinIcon} src={x.avatar} alt={x.spaceId} />\n                            <Stack className={classes.itemText}>\n                                <Typography\n                                    fontSize={14}\n                                    fontWeight={700}\n                                    flexGrow={1}\n                                    overflow=\"hidden\"\n                                    textOverflow=\"ellipsis\">\n                                    <span className={classes.name}>{x.spaceName}</span>\n                                </Typography>\n                                <div className={classes.itemCheckout}>\n                                    {selected ? <Icons.CheckCircle size={20} className={classes.checkedIcon} /> : null}\n                                </div>\n                            </Stack>\n                        </MenuItem>\n                    )\n                })}\n            </div>\n        </ShadowRootMenu>\n    )\n}\n","import { useChainContext } from '@masknet/web3-hooks-base'\nimport { Snapshot } from '@masknet/web3-providers'\nimport { useAsyncRetry } from 'react-use'\n\nexport function useCurrentAccountFollowSpaceList() {\n    const { account } = useChainContext()\n\n    return useAsyncRetry(async () => {\n        if (!account) return\n\n        return Snapshot.getFollowingSpaceIdList(account)\n    }, [account])\n}\n","import { formatCount, type DAOResult } from '@masknet/web3-shared-base'\nimport { type ChainId } from '@masknet/web3-shared-evm'\nimport { useState, useRef } from 'react'\nimport { Icons } from '@masknet/icons'\nimport { Box, Typography, Avatar, IconButton, Button, ThemeProvider, type Theme } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { SpaceMenu } from './SpaceMenu.js'\nimport { resolveSnapshotSpacePageUrl } from './helpers.js'\nimport { useCurrentAccountFollowSpaceList } from './hooks/useCurrentAccountFollowSpaceList.js'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport { useSnapshotTrans } from '../locales/index.js'\n\ninterface ProfileSpaceHeaderProps {\n    spaceList: Array<DAOResult<ChainId.Mainnet>>\n    currentSpace: DAOResult<ChainId.Mainnet>\n    setSpaceIndex: (x: number) => void\n    theme: Theme\n}\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        marginTop: 16,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around',\n    },\n    main: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    avatar: {\n        width: 40,\n        height: 40,\n        borderRadius: 999,\n    },\n    symbol: {\n        fontWeight: 700,\n        fontSize: 20,\n        lineHeight: 1.2,\n        color: theme.palette.maskColor.dark,\n        display: 'flex',\n        alignItems: 'center',\n        marginRight: 5,\n    },\n    followersCount: {\n        fontSize: 14,\n        color: theme.palette.maskColor.secondaryDark,\n    },\n    spaceInfo: {\n        marginLeft: 4,\n    },\n    currentSpace: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    arrowIcon: {\n        color: theme.palette.maskColor.dark,\n    },\n    joinButton: {\n        marginLeft: 'auto',\n        width: 96,\n        height: 32,\n    },\n}))\n\nexport function ProfileSpaceHeader(props: ProfileSpaceHeaderProps) {\n    const { spaceList, currentSpace, setSpaceIndex, theme } = props\n    const t = useSnapshotTrans()\n    const { classes } = useStyles()\n    const [spaceMenuOpen, setSpaceMenuOpen] = useState(false)\n    const spaceRef = useRef<HTMLDivElement>(null)\n    const { account } = useChainContext()\n    const { value: followedSpaceList } = useCurrentAccountFollowSpaceList()\n\n    return (\n        <Box className={classes.root}>\n            <section className={classes.main} ref={spaceRef}>\n                <Avatar className={classes.avatar} src={currentSpace.avatar} alt={currentSpace.spaceId} />\n                <div className={classes.spaceInfo}>\n                    <div className={classes.currentSpace}>\n                        <Typography component=\"span\" className={classes.symbol}>\n                            {currentSpace.spaceName}\n                        </Typography>\n                        {currentSpace.isVerified ? <Icons.Verification size={16} /> : null}\n                        {spaceList.length > 1 && (\n                            <>\n                                <IconButton\n                                    sx={{ padding: 0 }}\n                                    size=\"small\"\n                                    onClick={() => setSpaceMenuOpen((v) => !v)}>\n                                    <Icons.ArrowDrop size={24} className={classes.arrowIcon} />\n                                </IconButton>\n                                <ThemeProvider theme={theme}>\n                                    <SpaceMenu\n                                        options={spaceList}\n                                        currentOption={currentSpace}\n                                        onSelect={(i) => {\n                                            setSpaceIndex(i)\n                                            setSpaceMenuOpen(false)\n                                        }}\n                                        containerRef={spaceRef}\n                                        spaceMenuOpen={spaceMenuOpen}\n                                        setSpaceMenuOpen={setSpaceMenuOpen}\n                                    />\n                                </ThemeProvider>\n                            </>\n                        )}\n                    </div>\n                    {currentSpace.followersCount ? (\n                        <Typography component=\"span\" className={classes.followersCount}>\n                            {t.plugin_snapshot_space_info_followers_count({\n                                followersCount: formatCount(currentSpace.followersCount, 1),\n                            })}\n                        </Typography>\n                    ) : null}\n                </div>\n            </section>\n            <Button\n                color=\"primary\"\n                className={classes.joinButton}\n                size=\"medium\"\n                variant=\"roundedContained\"\n                onClick={() => window.open(resolveSnapshotSpacePageUrl(currentSpace.spaceId))}>\n                {followedSpaceList?.includes(currentSpace.spaceId) && account\n                    ? t.plugin_snapshot_space_view()\n                    : t.plugin_snapshot_space_join()}\n            </Button>\n        </Box>\n    )\n}\n","import type { ChainId } from '@masknet/web3-shared-evm'\n\nexport interface ProposalIdentifier {\n    /**\n     * ENS domain name of space.\n     * Space is a set of proposals by which specific entity can raise for its purpose.\n     * https://docs.snapshot.org/spaces\n     */\n    space: string\n    /** the identifier of proposal */\n    id: string\n}\ninterface RawVote {\n    /**\n     * There're two sorts of vote,\n     * for multiple choice vote, each choice can be assigned to a different weight.\n     */\n    choice: number | { [choiceIndex: number]: number } | number[]\n    created: number\n    voter: string\n    ipfs: string\n    id: string\n    vp: number\n    vp_by_strategy: number[]\n}\n\nexport interface Proposal {\n    address: string\n    author: string\n    // forum link\n    discussion: string\n    // number of voters\n    voterAmounts: number\n    symbol: string\n    scores_total: number\n    scores: number[]\n    scores_by_strategy: number[][]\n    msg: string\n    title: string\n    version: string\n    end: number\n    ipfs: string\n    space: {\n        id: string\n        name: string\n        symbol: string\n        avatar: string\n    }\n    start: number\n    snapshot: string\n    body: string\n    choices: string[]\n    isStart: boolean\n    isEnd: boolean\n    status: string\n    strategies: Strategy[]\n    authorName?: string\n    authorAvatar?: string\n    chainId: ChainId\n    network: string\n    type: string\n    votes: RawVote[]\n}\n\n/**\n * Strategy is the way to calculate voting power.\n * https://docs.snapshot.org/strategies\n */\nexport interface Strategy {\n    name: string\n    params: {\n        address: string\n        decimals?: number\n        symbol: string\n    }\n    network: string\n    __typename: string\n}\n\n/**\n * Payload of a vote\n */\nexport interface VoteItem {\n    choice: string | undefined\n    totalWeight: number | undefined\n    choices:\n        | Array<{\n              index: number\n              weight: number\n              name: string\n          }>\n        | undefined\n    address: string\n    authorIpfsHash: string\n    /** the voting power of one voter */\n    balance: number\n    /** the consist detail of voting power */\n    scores: number[]\n    strategySymbol: string\n    choiceIndex: number | undefined\n    choiceIndexes: number[] | undefined\n    timestamp: number\n}\n\nexport interface ProposalResult {\n    choice: string\n    powerDetail: Array<{\n        power: number\n        name: string\n    }>\n    power: number\n    percentage: number\n}\n\n/**\n * Full-filled response of voting request.\n */\nexport interface VoteSuccess {\n    ipfsHash: string\n}\n\nexport enum ContentTabs {\n    All = 'All',\n    Active = 'Active',\n    Core = 'Core',\n    Pending = 'Pending',\n    Closed = 'Closed',\n}\n","import { useAsyncRetry } from 'react-use'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { Snapshot } from '@masknet/web3-providers'\nimport type { SnapshotBaseAPI } from '@masknet/web3-providers/types'\n\nexport function useProposalList(spaceId: string, strategyName?: string) {\n    return useAsyncRetry<SnapshotBaseAPI.SnapshotProposal[]>(async () => {\n        if (!spaceId) return EMPTY_LIST\n        return Snapshot.getProposalListBySpace(spaceId, strategyName)\n    }, [spaceId, strategyName])\n}\n","import { useAsyncRetry } from 'react-use'\nimport { Snapshot } from '@masknet/web3-providers'\nimport type { SnapshotBaseAPI } from '@masknet/web3-providers/types'\n\nexport function useSpace(spaceId: string) {\n    return useAsyncRetry<SnapshotBaseAPI.SnapshotSpace | undefined>(async () => {\n        if (!spaceId) return\n        return Snapshot.getSpace(spaceId)\n    }, [spaceId])\n}\n","import { Card } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            overflow: 'auto',\n            backgroundColor: 'transparent',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n            marginBottom: theme.spacing(1.5),\n            borderRadius: 0,\n        },\n    }\n})\n\nexport interface ProfileCardProps extends withClasses<'root'> {\n    children?: React.ReactNode\n}\n\nexport function ProfileCard(props: ProfileCardProps) {\n    const { children } = props\n    const { classes } = useStyles(undefined, { props })\n    return (\n        <Card className={classes.root} elevation={0} component=\"article\">\n            {children}\n        </Card>\n    )\n}\n","import { i18NextInstance } from '@masknet/shared-base'\n\nexport function formatElapsedPure(from: number, started: boolean) {\n    const msPerMinute = 60 * 1000\n    const msPerHour = msPerMinute * 60\n    const msPerDay = msPerHour * 24\n    const msPerMonth = msPerDay * 30\n    const msPerYear = msPerDay * 365\n    const elapsed = started ? Date.now() - from : from - Date.now()\n    if (elapsed < msPerMinute)\n        return i18NextInstance.t('relative_time_seconds', {\n            count: Math.round(elapsed / 1000),\n        })\n    if (elapsed < msPerHour)\n        return i18NextInstance.t('relative_time_minutes', {\n            count: Math.round(elapsed / msPerMinute),\n        })\n    if (elapsed < msPerDay)\n        return i18NextInstance.t('relative_time_hours', {\n            count: Math.round(elapsed / msPerHour),\n        })\n    if (elapsed < msPerMonth)\n        return i18NextInstance.t('relative_time_days', {\n            count: Math.round(elapsed / msPerDay),\n        })\n    if (elapsed < msPerYear)\n        return i18NextInstance.t('relative_time_months', {\n            count: Math.round(elapsed / msPerMonth),\n        })\n    return i18NextInstance.t('relative_time_years', {\n        count: Math.round(elapsed / msPerYear),\n    })\n}\n","import { useChainContext } from '@masknet/web3-hooks-base'\nimport { Snapshot } from '@masknet/web3-providers'\nimport { useAsyncRetry } from 'react-use'\n\nexport function useCurrentAccountVote(proposalId: string, totalVotes: number) {\n    const { account } = useChainContext()\n\n    return useAsyncRetry(async () => {\n        if (!proposalId || !account || !totalVotes) return\n\n        return Snapshot.getCurrentAccountVote(proposalId, totalVotes, account)\n    }, [proposalId, account, totalVotes])\n}\n","import { startCase } from 'lodash-es'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { List, ListItem, Typography, useTheme } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport type { SnapshotBaseAPI } from '@masknet/web3-providers/types'\nimport { useReverseAddress, useWeb3Others } from '@masknet/web3-hooks-base'\nimport { EthereumBlockie } from '@masknet/shared'\nimport { formatCount, formatElapsed, formatElapsedPure, formatPercentage } from '@masknet/web3-shared-base'\nimport { Icons } from '@masknet/icons'\nimport { useIntersectionObserver } from '@react-hookz/web'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { openWindow } from '@masknet/shared-base-ui'\nimport { resolveSnapshotProposalUrl } from './helpers.js'\nimport { useCurrentAccountVote } from './hooks/useCurrentAccountVote.js'\nimport { useSnapshotTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles<{ state?: string }>()((theme, { state }) => {\n    return {\n        root: {\n            maxHeight: 1018,\n            paddingTop: 0,\n            overflow: 'scroll',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%', gap: 8 },\n        listItem: {\n            width: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            paddingTop: 16,\n            paddingBottom: 0,\n            cursor: 'pointer',\n            '&:hover': {\n                background: theme.palette.maskColor.bg,\n            },\n        },\n        authorInfo: { display: 'flex', alignItems: 'center' },\n        author: { fontSize: 16, fontWeight: 700, wordBreak: 'break-word' },\n        state: {\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            height: 32,\n            width: 72,\n            borderRadius: 99,\n            color:\n                state === 'active' || state === 'pending' ? theme.palette.common.white : theme.palette.maskColor.bottom,\n            backgroundColor:\n                state === 'active'\n                    ? theme.palette.maskColor.success\n                    : state === 'pending'\n                    ? theme.palette.maskColor.warn\n                    : theme.palette.maskColor.main,\n        },\n        blockieIcon: {\n            width: 20,\n            height: 20,\n            marginRight: 8,\n        },\n        body: {\n            fontSize: 14,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            display: '-webkit-box',\n            WebkitLineClamp: 2,\n            WebkitBoxOrient: 'vertical',\n        },\n        title: {\n            fontSize: 16,\n            marginTop: 14,\n            marginBottom: 8,\n            fontWeight: 700,\n        },\n        detail: {\n            display: 'flex',\n            flexDirection: 'column',\n            width: '100%',\n        },\n        date: {\n            fontSize: 14,\n            marginTop: 12,\n            marginBottom: 8,\n        },\n        voteList: {\n            width: '100%',\n            paddingTop: 0,\n            paddingBottom: 12,\n            borderBottom: `1px solid ${theme.palette.maskColor.line}`,\n        },\n        voteItem: {\n            padding: '8px 6px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            borderRadius: 4,\n        },\n        selectedVoteItem: {\n            background: theme.palette.maskColor.bg,\n        },\n        voteName: {\n            fontWeight: 700,\n            fontSize: 14,\n            marginRight: 12,\n            maxWidth: 350,\n            whiteSpace: 'nowrap',\n            textOverflow: 'ellipsis',\n            overflow: 'hidden',\n        },\n        voteIcon: {\n            marginRight: 12,\n        },\n        strategyName: {\n            fontSize: 14,\n            color: theme.palette.maskColor.secondaryDark,\n        },\n        percentage: {\n            fontWeight: 700,\n            fontSize: 14,\n        },\n        voteInfo: {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        myVote: {\n            height: 18,\n            width: 46,\n            borderRadius: 4,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            background: theme.palette.maskColor.main,\n            marginLeft: 12,\n        },\n        myVoteText: {\n            fontSize: 10,\n            fontWeight: 700,\n            color: theme.palette.maskColor.bottom,\n        },\n    }\n})\n\ninterface ProfileProposalListProps {\n    proposalList: SnapshotBaseAPI.SnapshotProposal[]\n}\n\nexport function ProfileProposalList(props: ProfileProposalListProps) {\n    const { proposalList } = props\n    const { classes } = useStyles({})\n\n    return (\n        <List className={classes.root}>\n            {proposalList.map((x, i) => {\n                return <ProfileProposalListItem proposal={x} key={i} />\n            })}\n        </List>\n    )\n}\n\ninterface ProfileProposalProps {\n    proposal: SnapshotBaseAPI.SnapshotProposal\n}\n\nfunction ProfileProposalListItem(props: ProfileProposalProps) {\n    const { proposal } = props\n    const { classes } = useStyles({})\n    const ref = useRef<HTMLLIElement | null>(null)\n    const entry = useIntersectionObserver(ref, {})\n    const [isViewed, setIsViewed] = useState(false)\n\n    useEffect(() => {\n        if (entry?.isIntersecting && entry?.intersectionRatio > 0) setIsViewed(true)\n    }, [entry?.isIntersecting])\n\n    return (\n        <ListItem\n            className={classes.listItem}\n            ref={ref}\n            onClick={() => openWindow(resolveSnapshotProposalUrl(proposal.space.id, proposal.id))}>\n            {isViewed ? (\n                <>\n                    <ProfileProposalListItemHeader proposal={proposal} />\n                    <ProfileProposalListItemBody proposal={proposal} />\n                    <ProfileProposalListItemVote proposal={proposal} />\n                </>\n            ) : null}\n        </ListItem>\n    )\n}\n\nfunction ProfileProposalListItemHeader(props: ProfileProposalProps) {\n    const { proposal } = props\n    const { classes } = useStyles({ state: proposal.state })\n    const Others = useWeb3Others()\n    const { data: domain } = useReverseAddress(NetworkPluginID.PLUGIN_EVM, proposal.author)\n\n    return (\n        <section className={classes.header}>\n            <div className={classes.authorInfo}>\n                <EthereumBlockie address={proposal.author} classes={{ icon: classes.blockieIcon }} />\n                <Typography className={classes.author}>{domain ?? Others.formatAddress(proposal.author, 4)}</Typography>\n            </div>\n            <div>\n                <Typography fontWeight={700} fontSize={12} className={classes.state}>\n                    {startCase(proposal.state)}\n                </Typography>\n            </div>\n        </section>\n    )\n}\n\nfunction ProfileProposalListItemBody(props: ProfileProposalProps) {\n    const { proposal } = props\n    const { classes } = useStyles({ state: proposal.state })\n    const t = useSnapshotTrans()\n\n    const date = useMemo(() => {\n        const now = Date.now()\n        if (now < proposal.start * 1000) {\n            return t.plugin_snapshot_proposal_not_start({ date: formatElapsedPure(proposal.start * 1000, false) })\n        } else if (now > proposal.end * 1000) {\n            return t.plugin_snapshot_proposal_ended({ date: formatElapsed(proposal.end * 1000) })\n        } else {\n            return t.plugin_snapshot_proposal_started({ date: formatElapsedPure(proposal.end * 1000, false) })\n        }\n    }, [proposal.start, proposal.end])\n\n    return (\n        <section className={classes.detail}>\n            <Typography className={classes.title}>{proposal.title}</Typography>\n            <Typography className={classes.body}>{proposal.body}</Typography>\n            <Typography className={classes.date}>{date}</Typography>\n        </section>\n    )\n}\n\nfunction ProfileProposalListItemVote(props: ProfileProposalProps) {\n    const { proposal } = props\n    const { classes, cx } = useStyles({ state: proposal.state })\n    const theme = useTheme()\n    const t = useSnapshotTrans()\n    const { value: currentAccountVote } = useCurrentAccountVote(proposal.id, proposal.votes)\n\n    return (\n        <List className={classes.voteList}>\n            {proposal.choices.map((x, i) => (\n                <ListItem\n                    key={i}\n                    className={cx(\n                        classes.voteItem,\n                        i === 0 && proposal.state !== 'pending' ? classes.selectedVoteItem : '',\n                    )}>\n                    <div className={classes.voteInfo}>\n                        {i === 0 && proposal.state !== 'pending' ? (\n                            <Icons.Check color={theme.palette.maskColor.main} size={18} className={classes.voteIcon} />\n                        ) : null}\n                        <Typography className={classes.voteName}>{x}</Typography>\n                        <Typography className={classes.strategyName}>\n                            {(proposal.choicesWithScore[i].score\n                                ? formatCount(proposal.choicesWithScore[i].score, 1)\n                                : '0') +\n                                ' ' +\n                                proposal.strategyName}\n                        </Typography>\n                        {currentAccountVote?.choice === i + 1 ? (\n                            <div className={classes.myVote}>\n                                <Typography className={classes.myVoteText}>{t.plugin_snapshot_my_vote()}</Typography>\n                            </div>\n                        ) : null}\n                    </div>\n\n                    <Typography className={classes.percentage}>\n                        {formatPercentage(\n                            proposal.scores_total ? proposal.choicesWithScore[i].score / proposal.scores_total : 0,\n                        )}\n                    </Typography>\n                </ListItem>\n            ))}\n        </List>\n    )\n}\n","import { useMemo, useState, useTransition } from 'react'\nimport { LoadingBase, MaskDarkTheme, MaskLightTheme, MaskTabList, makeStyles, useTabs } from '@masknet/theme'\nimport { CardContent, Stack, Tab, ThemeProvider, Typography, useTheme } from '@mui/material'\nimport { PluginCardFrameMini, PluginEnableBoundary } from '@masknet/shared'\nimport type { DAOResult } from '@masknet/web3-shared-base'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { TabContext } from '@mui/lab'\nimport { Icons } from '@masknet/icons'\nimport { PluginID } from '@masknet/shared-base'\nimport { useIsMinimalMode } from '@masknet/plugin-infra/content-script'\nimport { PluginDescriptor } from './PluginDescriptor.js'\nimport { ProfileSpaceHeader } from './ProfileSpaceHeader.js'\nimport { ContentTabs } from '../types.js'\nimport { useProposalList } from './hooks/useProposalList.js'\nimport { useSpace } from './hooks/useSpace.js'\nimport { useSnapshotTrans } from '../locales/index.js'\nimport { ProfileCard, type ProfileCardProps } from './ProfileCard.js'\nimport { ProfileProposalList } from './ProfileProposalList.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        padding: theme.spacing(1, 1.5),\n        paddingBottom: 0,\n        background:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(69, 163, 251, 0.2) 100%), #FFFFFF;',\n    },\n    skeletonContent: {\n        height: 300,\n        paddingTop: 0,\n        paddingBottom: 0,\n        borderBottom: `1px solid ${theme.palette.maskColor.line}`,\n    },\n    tabListRoot: {\n        marginTop: '10px !important',\n        flexGrow: 0,\n    },\n    iconSnapshot: {\n        marginRight: 6,\n        marginTop: 2,\n    },\n}))\n\ninterface ProfileViewProps extends withClasses<'content' | 'footer'> {\n    ProfileCardProps?: Partial<ProfileCardProps>\n    spaceList: Array<DAOResult<ChainId.Mainnet>>\n}\n\nexport function ProfileView(props: ProfileViewProps) {\n    const { ProfileCardProps, spaceList } = props\n    const { classes } = useStyles(undefined, { props })\n    const t = useSnapshotTrans()\n    const theme = useTheme()\n    const [currentTab, , , setTab] = useTabs<ContentTabs>(\n        ContentTabs.All,\n        ContentTabs.Active,\n        ContentTabs.Core,\n        ContentTabs.Pending,\n        ContentTabs.Closed,\n    )\n    const [spaceIndex, setSpaceIndex] = useState(0)\n\n    const isMinimalMode = useIsMinimalMode(PluginID.Snapshot)\n\n    const currentSpace = spaceList[spaceIndex]\n\n    const { value: space, loading: loadingSpaceMemberList } = useSpace(currentSpace.spaceId)\n\n    const { value: proposalList, loading: loadingProposalList } = useProposalList(\n        currentSpace.spaceId,\n        currentSpace.strategyName ?? space?.symbol,\n    )\n\n    const [isPending, startTransition] = useTransition()\n    const filteredProposalList = useMemo(() => {\n        if (!proposalList?.length || !space?.members) return\n        if (currentTab === ContentTabs.All) return proposalList\n        if (currentTab === ContentTabs.Core) return proposalList.filter((x) => space?.members?.includes(x.author))\n        return proposalList.filter((x) => x.state.toLowerCase() === currentTab.toLowerCase())\n    }, [currentTab, JSON.stringify(proposalList), JSON.stringify(space?.members)])\n\n    if (isMinimalMode) {\n        return (\n            <PluginCardFrameMini\n                title={t.plugin_snapshot_info_snapshot()}\n                icon={<Icons.Snapshot className={classes.iconSnapshot} />}>\n                <ThemeProvider theme={MaskLightTheme}>\n                    <PluginEnableBoundary pluginID={PluginID.Snapshot}>\n                        <PluginDescriptor />\n                    </PluginEnableBoundary>\n                </ThemeProvider>\n            </PluginCardFrameMini>\n        )\n    }\n\n    return (\n        <ProfileCard {...ProfileCardProps}>\n            <Stack className={classes.root}>\n                <ThemeProvider theme={MaskLightTheme}>\n                    <PluginDescriptor />\n                    <ProfileSpaceHeader\n                        theme={theme.palette.mode === 'light' ? MaskLightTheme : MaskDarkTheme}\n                        spaceList={spaceList}\n                        currentSpace={{\n                            ...currentSpace,\n                            followersCount: space?.followersCount ?? currentSpace.followersCount,\n                        }}\n                        setSpaceIndex={setSpaceIndex}\n                    />\n                </ThemeProvider>\n                <TabContext value={currentTab}>\n                    <Stack px={2}>\n                        <MaskTabList\n                            variant=\"base\"\n                            classes={{ root: classes.tabListRoot }}\n                            onChange={(_, v: ContentTabs) => startTransition(() => setTab(v))}\n                            aria-label=\"Space Status Tabs\">\n                            {Object.values(ContentTabs).map((x) => {\n                                return <Tab value={x} key={x} label={x} />\n                            })}\n                        </MaskTabList>\n                    </Stack>\n                </TabContext>\n            </Stack>\n            {loadingProposalList || loadingSpaceMemberList || !filteredProposalList || isPending ? (\n                <CardContent className={classes.skeletonContent}>\n                    <Stack height=\"100%\" alignItems=\"center\" justifyContent=\"center\">\n                        <LoadingBase />\n                        <Typography fontSize=\"14px\" mt={1.5}>\n                            {t.loading()}\n                        </Typography>\n                    </Stack>\n                </CardContent>\n            ) : filteredProposalList.length > 0 ? (\n                <ProfileProposalList proposalList={filteredProposalList} />\n            ) : (\n                <CardContent className={classes.skeletonContent}>\n                    <Stack height=\"100%\" alignItems=\"center\" justifyContent=\"center\">\n                        <Icons.EmptySimple size={36} />\n                        <Typography fontSize=\"14px\" mt={1.5}>\n                            {t.plugin_snapshot_proposal_no_results()}\n                        </Typography>\n                    </Stack>\n                </CardContent>\n            )}\n        </ProfileCard>\n    )\n}\n","import { type Plugin, usePluginWrapper, usePostInfoDetails } from '@masknet/plugin-infra/content-script'\nimport { base } from '../base.js'\nimport { useMemo, Suspense } from 'react'\nimport { Skeleton } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { PostInspector } from './PostInspector.js'\nimport { SearchResultType, type DAOResult } from '@masknet/web3-shared-base'\nimport { Trans } from 'react-i18next'\nimport { extractTextFromTypedMessage } from '@masknet/typed-message'\nimport { parseURLs, PluginID } from '@masknet/shared-base'\nimport { Icons } from '@masknet/icons'\nimport { ProfileView } from './ProfileView.js'\nimport type { ChainId } from '@masknet/web3-shared-evm'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        skeleton: {\n            margin: theme.spacing(2),\n            '&:first-of-type': {\n                marginTop: theme.spacing(3),\n            },\n        },\n    }\n})\n\nconst isSnapshotURL = (x: string): boolean =>\n    /^https:\\/\\/(?:www.)?snapshot.(org|page)\\/#\\/(.*?)\\/proposal\\/[\\dA-Za-z]+$/.test(x)\n\nfunction Renderer({ url }: { url: string }) {\n    const { classes } = useStyles()\n    usePluginWrapper(true)\n    const fallbackUI = Array.from({ length: 2 })\n        .fill(0)\n        .map((_, i) => (\n            <Skeleton\n                key={i}\n                className={classes.skeleton}\n                animation=\"wave\"\n                variant=\"rectangular\"\n                width={i === 0 ? '80%' : '60%'}\n                height={15}\n            />\n        ))\n    return (\n        <Suspense fallback={fallbackUI}>\n            <PostInspector url={url} />\n        </Suspense>\n    )\n}\n\nconst site: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    init(signal) {},\n    DecryptedInspector(props): JSX.Element | null {\n        const link = useMemo(() => {\n            const x = extractTextFromTypedMessage(props.message)\n            if (x.isNone()) return null\n            return parseURLs(x.value).find(isSnapshotURL)\n        }, [props.message])\n        if (!link) return null\n        return <Renderer url={link} />\n    },\n    PostInspector(): JSX.Element | null {\n        const links = usePostInfoDetails.mentionedLinks()\n\n        const link = links.find(isSnapshotURL)\n        if (!link) return null\n        return <Renderer url={link} />\n    },\n    ApplicationEntries: [\n        {\n            ApplicationEntryID: base.ID,\n            category: 'dapp',\n            description: <Trans i18nKey=\"plugin_snapshot_description\" ns={PluginID.Snapshot} />,\n            tutorialLink: 'https://realmasknetwork.notion.site/10c08ed9629942dd852d9afbfab61208',\n            name: <Trans i18nKey=\"plugin_snapshot_info_dao\" ns={PluginID.Snapshot} />,\n            marketListSortingPriority: 8,\n            icon: <Icons.Snapshot size={36} />,\n        },\n    ],\n    wrapperProps: {\n        icon: <Icons.Snapshot size={24} style={{ filter: 'drop-shadow(0px 6px 12px rgba(255, 159, 10, 0.2))' }} />,\n        backgroundGradient:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(255, 159, 10, 0.2) 100%), #FFFFFF;',\n    },\n    SearchResultInspector: {\n        ID: PluginID.Snapshot,\n        UI: {\n            Content({ resultList }) {\n                return <ProfileView spaceList={resultList as Array<DAOResult<ChainId.Mainnet>>} />\n            },\n        },\n        Utils: {\n            shouldDisplay(result) {\n                return result.type === SearchResultType.DAO\n            },\n        },\n    },\n}\n\nexport default site\n","type WindowTarget = LiteralUnion<'_top' | '_self' | '_parent' | '_blank'>\n\ninterface BehaviorFlags {\n    popup?: boolean\n    toolbar?: boolean\n    status?: boolean\n    resizable?: boolean\n    scrollbars?: boolean\n}\n\ninterface WindowFeatureFlags {\n    // Behavior\n    opener?: boolean\n    referrer?: boolean\n    behaviors?: BehaviorFlags\n    // Dimension\n    width?: number\n    height?: number\n    screenX?: number\n    screenY?: number\n}\n\nexport function openWindow(\n    url: string | URL | undefined | null,\n    target: WindowTarget = '_blank',\n    features: WindowFeatureFlags = {},\n): Window | null {\n    if (!url) return null\n    const flags = []\n    for (const [name, value] of Object.entries(features.behaviors ?? {})) {\n        if (value) flags.push(`${name}=1`)\n    }\n    if (!features.opener) flags.push('noopener')\n    if (!features.referrer) flags.push('noreferrer')\n    if (Number.isFinite(features.width)) flags.push(`width=${features.width}`)\n    if (Number.isFinite(features.height)) flags.push(`height=${features.height}`)\n    if (Number.isFinite(features.screenX)) flags.push(`screenX=${features.screenX}`)\n    if (Number.isFinite(features.screenY)) flags.push(`screenY=${features.screenY}`)\n    return window.open(url, target, flags.join(' '))\n}\n","import { useQuery } from '@tanstack/react-query'\nimport { useEffect, useState } from 'react'\nimport { type Subscription } from 'use-subscription'\n\n/**\n * In favor of react-query's persist cache and cache management\n */\nexport function usePersistSubscription<T>(\n    persistKey: `@@${string}`,\n    subscription: Subscription<T>,\n    predicate?: (data: T) => boolean,\n): T {\n    const [initialValue] = useState(() => subscription.getCurrentValue())\n    const { data = initialValue, refetch } = useQuery({\n        queryKey: [persistKey],\n        networkMode: 'always',\n        queryFn: () => {\n            const value = subscription.getCurrentValue()\n            if (predicate && !predicate(value)) return undefined\n            return value\n        },\n    })\n    useEffect(() => {\n        refetch() // Actively fetch, make persist data act as placeholder data\n        return subscription.subscribe(refetch)\n    }, [subscription, refetch])\n\n    return data\n}\n","import { EMPTY_LIST } from '../constants.js'\nimport { createConstantSubscription } from '../helpers/subscription.js'\n\nexport const ZERO = createConstantSubscription(0)\nexport const UNDEFINED = createConstantSubscription(undefined)\nexport const EMPTY_STRING = createConstantSubscription('')\nexport const EMPTY_ARRAY = createConstantSubscription(EMPTY_LIST)\nexport const EMPTY_ENTRY = createConstantSubscription({} as Record<string, never>)\nexport const TRUE = createConstantSubscription(true)\nexport const FALSE = createConstantSubscription(false)\nexport const NULL = createConstantSubscription(null)\n","export function compose<T>(...args: [...composer: Array<((arg: T) => T) | null | false>, init: T]) {\n    if (args.length === 0) throw new TypeError()\n    const last = args.pop() as T\n\n    return (args as Array<((arg: T) => T) | null>).filter(Boolean).reduceRight((prev, fn) => fn!(prev), last)\n}\n","const cache = new WeakMap<object, object>()\n/**\n * This function provides a localImplementation that has HMR support.\n * To update, call this function with the SAME key object.\n * @param impl The implementation. Can be an async function.\n * @param key The reference object that must be the same if you're updating.\n */\nexport async function getOrUpdateLocalImplementationHMR<T extends object>(impl: () => T | Promise<T>, key: object) {\n    if (!import.meta.webpackHot) return impl()\n\n    const result: any = await impl()\n    if (!cache.has(key)) cache.set(key, Object.create(null))\n    const localImpl = cache.get(key)\n    Object.setPrototypeOf(localImpl, result)\n    return localImpl\n}\n","import { useSubscription } from 'use-subscription'\nimport { FALSE, TRUE, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useAllowTestnet<T extends NetworkPluginID>(pluginID?: T) {\n    const { Settings } = useWeb3State(pluginID)\n    return useSubscription(Settings?.allowTestnet ?? (process.env.NODE_ENV === 'development' ? TRUE : FALSE))\n}\n","import React, { memo } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { delay } from '@masknet/kit'\nimport { Box } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, ShadowRootTooltip, ActionButton, useCustomSnackbar } from '@masknet/theme'\nimport {\n    useNetworkContext,\n    useChainContext,\n    useNetworkDescriptor,\n    useAllowTestnet,\n    useChainIdValid,\n    RevokeChainContextProvider,\n    useWeb3Others,\n    useWeb3Connection,\n} from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { WalletIcon } from '../WalletIcon/index.js'\nimport { type ActionButtonPromiseProps } from '../ActionButton/index.js'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { SelectProviderModal } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    tooltip: {\n        background: theme.palette.common.black,\n        color: theme.palette.common.white,\n        borderRadius: 4,\n        padding: 10,\n        maxWidth: 260,\n    },\n    arrow: {\n        color: theme.palette.common.black,\n    },\n    connectWallet: {\n        '& > .MuiButton-startIcon': {\n            lineHeight: 1,\n        },\n    },\n}))\n\nexport interface ChainBoundaryProps<T extends NetworkPluginID> extends withClasses<'switchButton'> {\n    /** The expected network plugin ID */\n    expectedPluginID: T\n    /** The expected sub-network under the network plugin */\n    expectedChainId: Web3Helper.Definition[T]['ChainId']\n    /** Judge the network is available for children components */\n    predicate?: (actualPluginID: NetworkPluginID, actualChainId: Web3Helper.Definition[T]['ChainId']) => boolean\n    expectedAccount?: string\n    className?: string\n    hiddenConnectButton?: boolean\n    switchChainWithoutPopup?: boolean\n    forceShowingWrongNetworkButton?: boolean\n    children?: React.ReactNode\n    ActionButtonPromiseProps?: Partial<ActionButtonPromiseProps>\n    actualNetworkPluginID?: T\n    switchText?: string\n    disableConnectWallet?: boolean\n}\n\nexport function ChainBoundaryWithoutContext<T extends NetworkPluginID>(props: ChainBoundaryProps<T>) {\n    const {\n        expectedPluginID,\n        expectedChainId,\n        expectedAccount,\n        actualNetworkPluginID,\n        switchText,\n        forceShowingWrongNetworkButton = false,\n        disableConnectWallet = false,\n        predicate = (actualPluginID, actualChainId) =>\n            actualPluginID === expectedPluginID && actualChainId === expectedChainId,\n    } = props\n\n    const t = useSharedTrans()\n    const { classes } = useStyles(undefined, { props })\n\n    const { pluginID: actualPluginID } = useNetworkContext(actualNetworkPluginID)\n\n    const Web3 = useWeb3Connection(actualPluginID)\n\n    const { showSnackbar } = useCustomSnackbar()\n    const {\n        account,\n        chainId: actualChainId,\n        providerType: actualProviderType,\n    } = useChainContext({ account: expectedAccount })\n\n    const expectedOthers = useWeb3Others(expectedPluginID)\n    const expectedAllowTestnet = useAllowTestnet(expectedPluginID)\n\n    const chainIdValid = useChainIdValid(actualPluginID)\n\n    const expectedChainName = expectedOthers.chainResolver.chainName(expectedChainId)\n    const expectedNetworkDescriptor = useNetworkDescriptor(expectedPluginID, expectedChainId)\n    const expectedChainAllowed = expectedOthers.chainResolver.isValidChainId(expectedChainId, expectedAllowTestnet)\n\n    const isPluginIDMatched = actualPluginID === expectedPluginID\n    const isMatched = predicate(actualPluginID, actualChainId)\n\n    const [{ loading }, onSwitchChain] = useAsyncFn(async () => {\n        try {\n            if (actualProviderType !== ProviderType.WalletConnect || isMatched || !expectedChainAllowed) return\n            await Web3.switchChain?.(expectedChainId)\n            await delay(1500)\n\n            return 'complete'\n        } catch (error) {\n            if (error instanceof Error) {\n                if (error.message === 'Chain currently not supported' || error.message === 'Invalid Request') {\n                    showSnackbar(t.plugin_wallet_switch_network_title(), {\n                        processing: false,\n                        variant: 'error',\n                        message: t.plugin_wallet_unsupported_chain({ network: expectedChainName ?? '' }),\n                        autoHideDuration: 5000,\n                    })\n                } else {\n                    showSnackbar(t.plugin_wallet_switch_network_title(), {\n                        processing: false,\n                        variant: 'error',\n                        message: t.plugin_wallet_switch_chain_failed(),\n                        autoHideDuration: 5000,\n                    })\n                }\n            }\n            return 'failed'\n        }\n    }, [expectedChainAllowed, isMatched, expectedChainId, actualProviderType, Web3, expectedChainName])\n\n    const renderBox = (children?: React.ReactNode, tips?: string) => {\n        return (\n            <ShadowRootTooltip\n                title={tips ?? ''}\n                classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                arrow\n                placement=\"top\">\n                <Box className={props.className} display=\"flex\" flexDirection=\"column\" width=\"100%\">\n                    {children}\n                </Box>\n            </ShadowRootTooltip>\n        )\n    }\n\n    if (!chainIdValid && !expectedChainAllowed && forceShowingWrongNetworkButton)\n        return renderBox(\n            !props.hiddenConnectButton ? (\n                <ActionButton\n                    fullWidth\n                    startIcon={<Icons.Wallet size={18} />}\n                    onClick={() => SelectProviderModal.open()}\n                    {...props.ActionButtonPromiseProps}>\n                    {t.plugin_wallet_wrong_network()}\n                </ActionButton>\n            ) : null,\n        )\n\n    // No wallet connected\n    if (!account && !disableConnectWallet)\n        return renderBox(\n            !props.hiddenConnectButton ? (\n                <ActionButton\n                    className={classes.connectWallet}\n                    fullWidth\n                    startIcon={<Icons.Wallet size={18} />}\n                    onClick={() => SelectProviderModal.open()}\n                    {...props.ActionButtonPromiseProps}>\n                    {t.plugin_wallet_connect_a_wallet()}\n                </ActionButton>\n            ) : null,\n        )\n\n    // Network mismatch\n    if (!isPluginIDMatched) {\n        return renderBox(\n            <ActionButton\n                fullWidth\n                className={classes.switchButton}\n                disabled={actualProviderType === ProviderType.WalletConnect}\n                startIcon={<WalletIcon mainIcon={expectedNetworkDescriptor?.icon} size={18} />}\n                sx={props.ActionButtonPromiseProps?.sx}\n                onClick={() => SelectProviderModal.open()}\n                {...props.ActionButtonPromiseProps}>\n                {t.plugin_wallet_change_wallet()}\n            </ActionButton>,\n            actualProviderType === ProviderType.WalletConnect\n                ? t.plugin_wallet_connect_tips()\n                : t.plugin_wallet_not_support_network(),\n        )\n    }\n\n    // Provider is Wallet Connect\n    if (actualProviderType === ProviderType.WalletConnect && !isMatched) {\n        return renderBox(\n            <ActionButton\n                startIcon={<WalletIcon mainIcon={expectedNetworkDescriptor?.icon} size={18} />}\n                onClick={onSwitchChain}\n                loading={loading}\n                className={classes.switchButton}\n                sx={props.ActionButtonPromiseProps?.sx}\n                {...props.ActionButtonPromiseProps}>\n                {switchText ?? t.plugin_wallet_switch_network({ network: expectedChainName ?? '' })}\n            </ActionButton>,\n            t.plugin_wallet_connect_tips(),\n        )\n    }\n\n    return props.children\n}\n\nexport const ChainBoundary = memo(function <T extends NetworkPluginID>(props: ChainBoundaryProps<T>) {\n    return (\n        <RevokeChainContextProvider>\n            <ChainBoundaryWithoutContext {...props} />\n        </RevokeChainContextProvider>\n    )\n})\n\nChainBoundary.displayName = 'ChainBoundary'\n","import { Icons, type GeneratedIconProps } from '@masknet/icons'\nimport { ShadowRootTooltip, makeStyles } from '@masknet/theme'\nimport { Link, type LinkProps } from '@mui/material'\nimport { memo, useCallback, useRef, useState, type MouseEvent } from 'react'\nimport { useCopyToClipboard } from 'react-use'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    copy: {\n        '&:hover': {\n            color: theme.palette.maskColor.main,\n        },\n    },\n}))\n\nexport interface CopyButtonProps\n    extends Omit<LinkProps<'button'>, 'color'>,\n        Pick<GeneratedIconProps, 'size' | 'color'> {\n    title?: string\n    text: string\n    /** defaults to 'Copied' */\n    successText?: string\n    /** stop event propagation and prevent default */\n    scoped?: boolean\n}\n\nexport const CopyButton = memo<CopyButtonProps>(function CopyButton({\n    text,\n    title,\n    successText,\n    size,\n    color,\n    scoped = true,\n    className,\n    ...props\n}) {\n    const t = useSharedTrans()\n    const { classes, cx, theme } = useStyles(undefined, { props })\n\n    const [, copyToClipboard] = useCopyToClipboard()\n    const [copied, setCopied] = useState(false)\n    const [active, setActive] = useState(false)\n    const timerRef = useRef<ReturnType<typeof setTimeout>>()\n\n    const handleCopy = useCallback(\n        async (ev: MouseEvent<HTMLAnchorElement>) => {\n            if (scoped) {\n                ev.stopPropagation()\n                ev.preventDefault()\n            }\n            copyToClipboard(text)\n            setCopied(true)\n            setActive(true)\n            clearTimeout(timerRef.current)\n            timerRef.current = setTimeout(setActive, 1500, false)\n        },\n        [text, scoped],\n    )\n\n    const tooltipTitle = copied ? successText ?? t.copied() : title ?? t.copy()\n    const iconProps = { size, color }\n\n    return (\n        <ShadowRootTooltip open={active} title={tooltipTitle} placement=\"top\" disableInteractive arrow>\n            <Link\n                underline=\"none\"\n                component=\"button\"\n                onClick={handleCopy}\n                color=\"inherit\"\n                {...props}\n                fontSize={0}\n                className={cx(classes.root, className)}>\n                {active ? (\n                    <Icons.Check {...iconProps} color={theme.palette.maskColor.success} />\n                ) : (\n                    <Icons.Copy {...iconProps} className={classes.copy} />\n                )}\n            </Link>\n        </ShadowRootTooltip>\n    )\n})\n","import { LoadingBase, makeStyles } from '@masknet/theme'\nimport { Box, Typography, type BoxProps } from '@mui/material'\nimport { memo } from 'react'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    statusBox: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n    },\n    text: {\n        color: theme.palette.maskColor.second,\n        fontSize: '14px',\n        fontWeight: 400,\n        marginTop: theme.spacing(1.5),\n    },\n}))\n\ninterface Props extends BoxProps {\n    omitText?: boolean\n    iconSize?: number\n}\n\nexport const LoadingStatus = memo(function LoadingStatus({\n    omitText,\n    className,\n    iconSize = 32,\n    children,\n    ...rest\n}: Props) {\n    const { classes, cx } = useStyles()\n    const t = useSharedTrans()\n    return (\n        <Box className={cx(classes.statusBox, className)} p={2} {...rest}>\n            <LoadingBase size={iconSize} />\n            {omitText ? null : <Typography className={classes.text}>{children ?? t.loading()}</Typography>}\n        </Box>\n    )\n})\n","import { makeStyles } from '@masknet/theme'\nimport { Link, Stack, Typography } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { LoadingStatus } from '../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: theme.palette.maskColor.main,\n    },\n    container: {\n        background:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(45, 41, 253, 0.2) 100%), #FFFFFF;',\n        minHeight: '196px',\n        justifyContent: 'space-between',\n        color: theme.palette.maskColor.main,\n    },\n    web3Icon: {\n        marginRight: 6,\n        marginTop: 2,\n    },\n    item1: {\n        color: theme.palette.maskColor.secondaryDark,\n        fontSize: '14px',\n        fontWeight: 400,\n    },\n    item2: {\n        color: theme.palette.maskColor.dark,\n        fontSize: '14px',\n        fontWeight: 500,\n        marginLeft: '2px',\n    },\n    linkOutIcon: {\n        color: theme.palette.maskColor.secondaryDark,\n    },\n}))\n\nexport interface PluginCardFrameMiniProps {\n    icon?: React.ReactNode\n    title?: React.ReactNode\n    provider?: React.ReactNode\n    providerLink?: string\n    children?: React.ReactNode\n}\n\nexport function PluginCardFrameMini({ icon, title, provider, providerLink, children }: PluginCardFrameMiniProps) {\n    const t = useSharedTrans()\n    const { classes, theme } = useStyles()\n\n    const PluginName = (\n        <Stack className={classes.title} direction=\"row\">\n            {icon ?? <Icons.Web3Profile className={classes.web3Icon} />}\n            <Typography fontSize={16} fontWeight={700} color={theme.palette.maskColor.main}>\n                {title ?? t.plugin_card_frame_default_title()}\n            </Typography>\n        </Stack>\n    )\n\n    return (\n        <Stack className={classes.container}>\n            <Stack direction=\"row\" justifyContent=\"space-between\" p={1.5}>\n                {PluginName}\n                <Stack direction=\"row\" gap={0.5}>\n                    <Typography className={classes.item1}>{t.plugin_card_frame_default_provided_by()}</Typography>\n                    <Typography className={classes.item2}>\n                        {provider ?? t.plugin_card_frame_default_provided_by_value()}\n                    </Typography>\n                    <Link\n                        underline=\"none\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        color=\"textPrimary\"\n                        href={providerLink ?? 'https://mask.io/'}\n                        width=\"22px\"\n                        height=\"22px\"\n                        style={{ alignSelf: 'center', marginLeft: '4px' }}>\n                        <Icons.LinkOut size={16} className={classes.linkOutIcon} />\n                    </Link>\n                </Stack>\n            </Stack>\n            <Stack flex={1} justifyContent=\"center\" alignItems=\"center\" p={1.5}>\n                {children ?? (\n                    <LoadingStatus iconSize={24} color={theme.palette.maskColor.main}>\n                        {t.plugin_card_frame_loading()}\n                    </LoadingStatus>\n                )}\n            </Stack>\n        </Stack>\n    )\n}\n","import { memo } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { Icons } from '@masknet/icons'\nimport type { PluginID } from '@masknet/shared-base'\nimport { useIsMinimalMode } from '@masknet/plugin-infra/content-script'\nimport { Stack, Typography } from '@mui/material'\nimport { makeStyles, ActionButton } from '@masknet/theme'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { setPluginMinimalModeEnabled } from '@masknet/plugin-infra/dom/context'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        display: 'inline-flex',\n        justifyContent: 'center',\n        borderRadius: 20,\n        width: 254,\n        height: 40,\n    },\n}))\n\ninterface PluginEnableBoundaryProps extends withClasses<'root'> {\n    pluginID: PluginID\n    children: React.ReactNode\n}\n\nexport const PluginEnableBoundary = memo<PluginEnableBoundaryProps>((props) => {\n    const t = useSharedTrans()\n    const { children, pluginID } = props\n    const { classes } = useStyles(undefined, { props })\n    const disabled = useIsMinimalMode(pluginID)\n\n    const [{ loading }, onEnablePlugin] = useAsyncFn(async () => {\n        await setPluginMinimalModeEnabled?.(pluginID, false)\n    }, [pluginID])\n\n    if (disabled) {\n        return (\n            <Stack alignItems=\"center\">\n                <Stack justifyContent=\"center\" alignItems=\"center\" width=\"100%\" boxSizing=\"border-box\">\n                    <Typography fontWeight={400} fontSize={14}>\n                        {t.enable_plugin_boundary_description()}\n                    </Typography>\n                </Stack>\n                <ActionButton\n                    loading={loading}\n                    startIcon={<Icons.Plugin size={18} />}\n                    className={classes.root}\n                    color=\"primary\"\n                    onClick={onEnablePlugin}\n                    sx={{ mt: 6 }}>\n                    {t.enable_plugin_boundary()}\n                </ActionButton>\n            </Stack>\n        )\n    }\n    return <>{children}</>\n})\n","import { useSubscription } from 'use-subscription'\nimport { FALSE, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRiskWarningApproved<T extends NetworkPluginID>(pluginID?: T) {\n    const { RiskWarning } = useWeb3State(pluginID)\n    return useSubscription(RiskWarning?.approved ?? FALSE)\n}\n","import { makeStyles, ActionButton, type ActionButtonProps } from '@masknet/theme'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { isZero } from '@masknet/web3-shared-base'\nimport {\n    useChainContext,\n    useNetworkContext,\n    useNativeTokenBalance,\n    useRiskWarningApproved,\n    useWallet,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useAsync } from 'react-use'\nimport { SmartPayBundler } from '@masknet/web3-providers'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { SelectProviderModal, WalletRiskWarningModal } from '../../modals/modals.js'\n\nconst useStyles = makeStyles()({\n    button: {\n        margin: 0,\n    },\n})\n\nexport interface WalletConnectedBoundaryProps extends withClasses<'connectWallet' | 'button'> {\n    offChain?: boolean\n    children?: React.ReactNode\n    expectedChainId: Web3Helper.ChainIdAll\n    hideRiskWarningConfirmed?: boolean\n    ActionButtonProps?: ActionButtonProps\n    startIcon?: React.ReactNode\n}\n\nexport function WalletConnectedBoundary(props: WalletConnectedBoundaryProps) {\n    const { children = null, offChain = false, hideRiskWarningConfirmed = false, expectedChainId } = props\n\n    const t = useSharedTrans()\n    const { classes, cx } = useStyles(undefined, { props })\n\n    const { pluginID } = useNetworkContext()\n    const { account, chainId: chainIdValid } = useChainContext({ chainId: expectedChainId })\n    const wallet = useWallet()\n    const { value: smartPayChainId } = useAsync(async () => SmartPayBundler.getSupportedChainId(), [])\n\n    const nativeTokenBalance = useNativeTokenBalance(undefined, {\n        chainId: chainIdValid,\n    })\n    const approved = useRiskWarningApproved()\n\n    const buttonClass = cx(classes.button, classes.connectWallet)\n\n    if (!account)\n        return (\n            <ActionButton\n                startIcon={props.startIcon}\n                className={buttonClass}\n                fullWidth\n                onClick={() => SelectProviderModal.open()}\n                {...props.ActionButtonProps}>\n                {t.plugin_wallet_connect_a_wallet()}\n            </ActionButton>\n        )\n\n    if (!approved && !hideRiskWarningConfirmed && pluginID === NetworkPluginID.PLUGIN_EVM)\n        return (\n            <ActionButton\n                className={buttonClass}\n                fullWidth\n                variant=\"contained\"\n                onClick={() => {\n                    WalletRiskWarningModal.open({\n                        account,\n                        pluginID,\n                    })\n                }}\n                {...props.ActionButtonProps}>\n                {t.plugin_wallet_confirm_risk_warning()}\n            </ActionButton>\n        )\n\n    if (!(wallet?.owner && chainIdValid === smartPayChainId) && isZero(nativeTokenBalance.value ?? '0') && !offChain)\n        return (\n            <ActionButton\n                className={buttonClass}\n                disabled={!nativeTokenBalance.error}\n                fullWidth\n                variant=\"contained\"\n                onClick={nativeTokenBalance.retry}\n                {...props.ActionButtonProps}>\n                {nativeTokenBalance.loading ? t.plugin_wallet_update_gas_fee() : t.plugin_wallet_no_gas_fee()}\n            </ActionButton>\n        )\n\n    if (!chainIdValid && !offChain)\n        return (\n            <ActionButton className={buttonClass} disabled fullWidth variant=\"contained\" {...props.ActionButtonProps}>\n                {t.plugin_wallet_invalid_network()}\n            </ActionButton>\n        )\n\n    return <>{children}</>\n}\n","import { makeStyles } from '@masknet/theme'\nimport { ImageIcon } from '../ImageIcon/index.js'\n\ninterface StyleProps {\n    size: number\n    badgeIconBorderColor?: string\n}\n\nconst useStyles = makeStyles<StyleProps>()((theme, props) => ({\n    root: {\n        position: 'relative',\n        display: 'flex',\n        height: props.size,\n        width: props.size,\n    },\n    mainIcon: {\n        display: 'block',\n    },\n    badgeIcon: {\n        position: 'absolute',\n        right: -6,\n        bottom: -4,\n        border: `1px solid ${props.badgeIconBorderColor ?? theme.palette.common.white}`,\n        borderRadius: '50%',\n    },\n}))\n\ninterface WalletIconProps extends withClasses<'root' | 'mainIcon'> {\n    size?: number\n    badgeSize?: number\n    mainIcon?: string\n    badgeIcon?: string\n    badgeIconBorderColor?: string\n    iconFilterColor?: string\n}\n\nexport function WalletIcon(props: WalletIconProps) {\n    const { size = 24, badgeSize = 14, mainIcon, badgeIcon, badgeIconBorderColor, iconFilterColor } = props\n    const { classes } = useStyles(\n        {\n            size: badgeSize > size ? badgeSize : size,\n            badgeIconBorderColor,\n        },\n        { props: { classes: props.classes } },\n    )\n\n    return (\n        <div\n            className={classes.root}\n            style={{\n                height: size,\n                width: size,\n            }}>\n            {mainIcon ? (\n                <ImageIcon className={classes.mainIcon} size={size} icon={mainIcon} iconFilterColor={iconFilterColor} />\n            ) : null}\n            {badgeIcon ? <ImageIcon className={classes.badgeIcon} size={badgeSize} icon={badgeIcon} /> : null}\n        </div>\n    )\n}\n","import { memo, type PropsWithChildren, useRef } from 'react'\nimport { Box, Button } from '@mui/material'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { Sniffings } from '@masknet/shared-base'\n\ninterface ActionProps extends PropsWithChildren<{}> {\n    openSelectWalletDialog: () => void\n}\n\nexport const Action = memo<ActionProps>(function Action({ children, openSelectWalletDialog }) {\n    const ref = useRef<HTMLDivElement>()\n    const t = useSharedTrans()\n\n    return (\n        <Box display=\"flex\" columnGap={16} minWidth={!Sniffings.is_popup_page ? 276 : 176} ref={ref}>\n            {children ?? (\n                <Button fullWidth onClick={openSelectWalletDialog}>\n                    {t.wallet_status_button_change()}\n                </Button>\n            )}\n        </Box>\n    )\n})\n","import { memo, type PropsWithChildren, useCallback, useMemo } from 'react'\nimport { alpha, Box, Button } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, MaskColorVar } from '@masknet/theme'\nimport {\n    useNetworkContext,\n    useProviderDescriptor,\n    useRecentTransactions,\n    useNetworkDescriptor,\n    useWallet,\n    useReverseAddress,\n    useWeb3Others,\n    useChainContext,\n    NetworkContextProvider,\n    RevokeChainContextProvider,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { type NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport { TransactionStatusType } from '@masknet/web3-shared-base'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { WalletDescription } from './WalletDescription.js'\nimport { Action } from './Action.js'\nimport { SelectProviderModal, WalletStatusModal } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        boxSizing: 'content-box',\n        display: 'flex',\n        backgroundColor: Sniffings.is_dashboard_page\n            ? MaskColorVar.mainBackground\n            : alpha(theme.palette.maskColor.bottom, 0.8),\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 0px 20px rgba(255, 255, 255, 0.12)'\n                : '0px 0px 20px rgba(0, 0, 0, 0.05)',\n        backdropFilter: 'blur(16px)',\n        padding: theme.spacing(2),\n        borderRadius: '0 0 12px 12px',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flex: 1,\n        maxHeight: 40,\n    },\n    connection: {\n        width: 18,\n        height: 18,\n        marginRight: 8,\n    },\n}))\n\nexport interface WalletStatusBarProps<T extends NetworkPluginID> extends PropsWithChildren<{}> {\n    className?: string\n    actualPluginID?: T\n    expectedPluginID?: T\n    expectedChainId?: Web3Helper.Definition[T]['ChainId']\n    onClick?: (ev: React.MouseEvent<HTMLDivElement>) => void\n    requiredSupportChainIds?: Array<Web3Helper.Definition[T]['ChainId']>\n    requiredSupportPluginID?: NetworkPluginID\n}\n\nconst PluginWalletStatusBarWithoutContext = memo<WalletStatusBarProps<NetworkPluginID>>(\n    ({\n        className,\n        onClick,\n        expectedPluginID,\n        expectedChainId,\n        children,\n        requiredSupportChainIds,\n        requiredSupportPluginID,\n    }) => {\n        const t = useSharedTrans()\n        const { classes, cx } = useStyles()\n\n        const { pluginID } = useNetworkContext()\n        const { account, chainId, providerType } = useChainContext()\n        const wallet = useWallet(pluginID)\n        const providerDescriptor = useProviderDescriptor()\n        const networkDescriptor = useNetworkDescriptor(pluginID, chainId)\n        const expectedNetworkDescriptor = useNetworkDescriptor(expectedPluginID, expectedChainId)\n        const { data: domain } = useReverseAddress(pluginID, account)\n        const Others = useWeb3Others()\n\n        const openSelectProviderDialog = useCallback(() => {\n            SelectProviderModal.open({\n                requiredSupportChainIds,\n                requiredSupportPluginID,\n            })\n        }, [expectedNetworkDescriptor, requiredSupportChainIds, requiredSupportPluginID])\n\n        const pendingTransactions = useRecentTransactions(pluginID, TransactionStatusType.NOT_DEPEND)\n\n        const walletName = useMemo(() => {\n            if (domain) return domain\n            if (providerType === ProviderType.MaskWallet && wallet?.name) return wallet?.name\n            return providerDescriptor?.name || Others.formatAddress(account, 4)\n        }, [account, domain, providerType, wallet?.name, providerDescriptor?.name, Others.formatAddress])\n\n        if (!account) {\n            return (\n                <Box className={cx(classes.root, className)}>\n                    <Button fullWidth onClick={openSelectProviderDialog}>\n                        <Icons.Wallet className={classes.connection} /> {t.plugin_wallet_connect_a_wallet()}\n                    </Button>\n                </Box>\n            )\n        }\n\n        return (\n            <Box className={cx(classes.root, className)}>\n                <WalletDescription\n                    pending={!!pendingTransactions.length}\n                    providerIcon={providerDescriptor?.icon}\n                    networkIcon={networkDescriptor?.icon}\n                    iconFilterColor={providerDescriptor?.iconFilterColor}\n                    name={walletName}\n                    formattedAddress={Others.formatAddress(account, 4)}\n                    addressLink={Others.explorerResolver.addressLink(chainId, account)}\n                    onClick={onClick ?? openSelectProviderDialog}\n                    onPendingClick={() => WalletStatusModal.open()}\n                />\n                <Action openSelectWalletDialog={openSelectProviderDialog}>{children}</Action>\n            </Box>\n        )\n    },\n)\n\nPluginWalletStatusBarWithoutContext.displayName = 'PluginWalletStatusBarWithoutContext'\n\nexport const PluginWalletStatusBar = memo<WalletStatusBarProps<NetworkPluginID>>((props) => {\n    const children = (\n        <RevokeChainContextProvider>\n            <PluginWalletStatusBarWithoutContext {...props} />\n        </RevokeChainContextProvider>\n    )\n\n    return props.actualPluginID ? (\n        <NetworkContextProvider value={props.actualPluginID}>{children}</NetworkContextProvider>\n    ) : (\n        children\n    )\n})\n\nPluginWalletStatusBar.displayName = 'PluginWalletStatusBar'\n","import { makeStyles, LoadingBase } from '@masknet/theme'\nimport { memo } from 'react'\nimport { alpha, Box, Link, Typography } from '@mui/material'\nimport { CopyButton, WalletIcon } from '@masknet/shared'\nimport { Icons } from '@masknet/icons'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        cursor: 'pointer',\n    },\n    description: {\n        marginLeft: 10,\n    },\n    walletName: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        lineHeight: '18px',\n    },\n    address: {\n        color: theme.palette.maskColor.second,\n        lineHeight: '18px',\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 2,\n    },\n    pending: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2,\n        borderRadius: 2,\n        padding: '2px 4px',\n        backgroundColor: alpha(theme.palette.maskColor.warn, 0.1),\n        color: theme.palette.maskColor.warn,\n        lineHeight: '18px',\n    },\n    progress: {\n        color: theme.palette.maskColor.warn,\n    },\n    linkIcon: {\n        color: theme.palette.maskColor.second,\n        cursor: 'pointer',\n        height: 14,\n    },\n}))\n\nexport interface WalletDescriptionProps {\n    onClick?: (ev: React.MouseEvent<HTMLDivElement>) => void\n    pending?: boolean\n    onPendingClick?: () => void\n    providerIcon?: string\n    networkIcon?: string\n    iconFilterColor?: string\n    name?: string\n    address?: string\n    formattedAddress?: string\n    addressLink?: string\n    verified?: boolean\n}\n\nexport const WalletDescription = memo<WalletDescriptionProps>(\n    ({\n        onClick,\n        providerIcon,\n        networkIcon,\n        iconFilterColor,\n        name,\n        address,\n        formattedAddress,\n        addressLink,\n        onPendingClick,\n        pending,\n        verified,\n    }) => {\n        const { classes } = useStyles()\n        const t = useSharedTrans()\n\n        return (\n            <Box onClick={onClick} className={classes.root}>\n                <WalletIcon\n                    size={30}\n                    badgeSize={12}\n                    mainIcon={providerIcon ?? networkIcon}\n                    badgeIcon={providerIcon ? networkIcon : undefined}\n                    iconFilterColor={iconFilterColor}\n                />\n                <Box className={classes.description}>\n                    <Typography className={classes.walletName}>\n                        <span>{name}</span>\n                        {verified ? <Icons.Verification size={18} /> : null}\n                        {onPendingClick ? <Icons.ArrowDrop /> : null}\n                    </Typography>\n                    <Typography className={classes.address}>\n                        <span>{formattedAddress}</span>\n                        {address ? <CopyButton size={14} className={classes.linkIcon} text={address} /> : null}\n                        <Link\n                            href={addressLink}\n                            target=\"_blank\"\n                            title=\"View on Explorer\"\n                            rel=\"noopener noreferrer\"\n                            onClick={(event) => {\n                                event.stopPropagation()\n                            }}\n                            className={classes.linkIcon}>\n                            <Icons.LinkOut size={14} className={classes.linkIcon} />\n                        </Link>\n                        {pending ? (\n                            <span\n                                className={classes.pending}\n                                onClick={(e) => {\n                                    e.stopPropagation()\n                                    onPendingClick?.()\n                                }}>\n                                {t.recent_transaction_pending()}\n                                <LoadingBase size={12} className={classes.progress} />\n                            </span>\n                        ) : null}\n                    </Typography>\n                </Box>\n            </Box>\n        )\n    },\n)\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { SelectProviderModalOpenProps, SelectProviderModalCloseProps } from './SelectProviderModal/index.js'\nimport type { WalletConnectQRCodeOpenProps } from './WalletConnectQRCodeModal/index.js'\nimport type { WalletRiskWarningModalOpenProps } from './WalletRiskWarningModal/index.js'\nimport type { ConnectWalletModalOpenProps, ConnectWalletModalCloseProps } from './ConnectWalletModal/index.js'\nimport type { LeavePageConfirmModalOpenProps } from './LeavePageConfirmModal/index.js'\nimport type {\n    ApplicationBoardModalOpenProps,\n    ApplicationBoardSettingsModalOpenProps,\n} from './ApplicationBoardModal/index.js'\nimport type { GasSettingModalOpenOrCloseProps } from './GasSettingModal/index.js'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { ConfirmDialogOpenProps } from './ConfirmDialog/index.js'\nimport type { TransactionConfirmModalOpenProps } from './TokenTransactionConfirmModal/index.js'\nimport type { SelectNonFungibleContractModalOpenProps } from './SelectNonFungibleContractModal/index.js'\nimport type {\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps,\n} from './SelectFungibleTokenModal/index.js'\nimport type {\n    SelectGasSettingsModalCloseProps,\n    SelectGasSettingsModalOpenProps,\n} from './SelectAdvancedSettingsDialog/index.js'\nimport type { AddCollectiblesModalCloseProps, AddCollectiblesModalOpenProps } from './AddCollectiblesModal/index.js'\nimport type { PersonaSelectPanelModalOpenProps } from './PersonaSelectPanelModal/index.js'\nimport type { ShareSelectNetworkModalOpenProps } from './ShareSelectNetwork/index.js'\n\nexport const WalletConnectQRCodeModal = new SingletonModal<WalletConnectQRCodeOpenProps>()\nexport const SelectProviderModal = new SingletonModal<SelectProviderModalOpenProps, SelectProviderModalCloseProps>()\nexport const WalletStatusModal = new SingletonModal()\nexport const WalletRiskWarningModal = new SingletonModal<WalletRiskWarningModalOpenProps>()\nexport const ConnectWalletModal = new SingletonModal<ConnectWalletModalOpenProps, ConnectWalletModalCloseProps>()\nexport const LeavePageConfirmModal = new SingletonModal<LeavePageConfirmModalOpenProps>()\nexport const ApplicationBoardModal = new SingletonModal<ApplicationBoardModalOpenProps>()\nexport const ApplicationBoardSettingsModal = new SingletonModal<ApplicationBoardSettingsModalOpenProps>()\nexport const GasSettingModal = new SingletonModal<GasSettingModalOpenOrCloseProps, GasSettingModalOpenOrCloseProps>()\nexport const TransactionConfirmModal = new SingletonModal<TransactionConfirmModalOpenProps>()\nexport const TransactionSnackbar = new SingletonModal()\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const ConfirmDialog = new SingletonModal<ConfirmDialogOpenProps, boolean>()\nexport const SelectNonFungibleContractModal = new SingletonModal<SelectNonFungibleContractModalOpenProps>()\nexport const SelectGasSettingsModal = new SingletonModal<\n    SelectGasSettingsModalOpenProps,\n    SelectGasSettingsModalCloseProps\n>()\nexport const AddCollectiblesModal = new SingletonModal<AddCollectiblesModalOpenProps, AddCollectiblesModalCloseProps>()\nexport const SelectFungibleTokenModal = new SingletonModal<\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps\n>()\n\nexport const PersonaSelectPanelModal = new SingletonModal<PersonaSelectPanelModalOpenProps>()\n\nexport const ShareSelectNetworkModal = new SingletonModal<ShareSelectNetworkModalOpenProps>()\n\nexport { ApplicationSettingTabs } from './ApplicationBoardModal/ApplicationBoardDialog.js'\n","export const LightColor = {\n    bg: '##F9F9F9',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#FFFFFF',\n    secondary: '#e8f0fe',\n    secondaryContrastText: '#1c68f3',\n    input: '#F6F6F8',\n    primaryBackground: '#ffffff',\n    primaryBackground2: '#FBFBFC',\n    secondaryBackground: '#f9fafa',\n    lightBackground: '#F9FAFA',\n    mainBackground: '#ffffff',\n    suspensionBackground: 'rgba(249, 250, 250, 0.8)',\n    normalBackground: '#F3F3F4',\n    twitterBackground: '#F7F9FA',\n    twitterBackgroundHover: '#EFF1F2',\n    twitterInputBackground: '#F6F8F8',\n    twitterButton: '#111418',\n    twitterButtonText: '#ffffff',\n    twitterBlue: '#1C68F3',\n    twitterBorderLine: '#EDF1F2',\n    twitterSecond: '#7B8192',\n    twitterMain: '#0F1419',\n    twitterBottom: '#ffffff',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterBg: '#F6F8F8',\n    twitterTooltipBg: 'rgba(0,0,0,.6)',\n    twitterInput: '#EDF1F2',\n    twitterLine: '#EBEEF0',\n    redMain: '#ff5f5f',\n    redLight: '#ffafaf',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#e6f6f0',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#faf0d8',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#eff3f4',\n\n    border: '#F3F3F4',\n    borderSecondary: '#536471',\n\n    textPrimary: '#111432',\n    textSecondary: '#7b8192',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: '#7B8192',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#1C68F3',\n    lineLight: '#E4E8F1',\n    lineLighter: '#E9E9EA',\n    textLight: '#A6A9B6',\n    lightestBackground: '#FFFFFF',\n    linkText: '#1C68F3',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#F9FAFA',\n    main: '#1C68F3',\n    errorBackground: 'rgba(255, 95, 95, 0.15)',\n    tooltipBackground: '#ffffff',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#000000',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport const DarkColor: typeof LightColor = {\n    bg: '#1C1C1C',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#15171A',\n    secondary: '#242e57',\n    secondaryContrastText: '#ffffff',\n    input: '#282B49',\n    primaryBackground: '#212442',\n    primaryBackground2: '#212442',\n    secondaryBackground: '#252846',\n    lightBackground: '#2E314F',\n    mainBackground: '#111432',\n    suspensionBackground: 'rgba(27, 30, 60, 0.8)',\n    normalBackground: '#262947',\n    twitterInputBackground: '#17191D',\n    twitterBackground: '#17191D',\n    twitterBackgroundHover: '#17191D',\n    twitterButton: '#EFF3F4',\n    twitterButtonText: '#0F1419',\n    twitterBlue: '#4989FF',\n    twitterBorderLine: '#2F3336',\n    twitterInput: '#1D2023',\n    twitterSecond: '#636B72',\n    twitterMain: '#D9D9D9',\n    twitterBottom: '#000000',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterLine: '#2F3336',\n    twitterBg: '#15171A',\n    twitterTooltipBg: 'rgba(91,112,131,.6)',\n    redMain: '#ff5f5f',\n    redLight: '#46304a',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#314457',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#463e3f',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#3e455e',\n\n    border: '#3E455E',\n    borderSecondary: '#6e767d',\n\n    // TODO: ?\n    textPrimary: '#ffffff',\n    // TODO: ?\n    textSecondary: 'ghostwhite',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: 'rgba(255, 255, 255, 0.8)',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#ffffff',\n    lineLight: '#32365B',\n    lineLighter: '#32365B',\n    textLight: '#A6A9B6',\n    lightestBackground: '#212422',\n    linkText: '#ffffff',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#000000',\n    main: '#D4D4D4',\n    errorBackground: 'rgba(255, 95, 95, 0.1)',\n    tooltipBackground: '#1A1D20',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#ffffff',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport type Color = typeof LightColor\n","import type { Theme } from '@mui/material'\nimport { kebabCase } from 'lodash-es'\nimport { LightColor, DarkColor } from './constants.js'\n\nexport function getMaskColor(theme: Theme) {\n    if (theme.palette.mode === 'dark') return DarkColor\n    return LightColor\n}\nexport type MaskCSSVariableColor = string & {\n    /** Append alpha channel to the original color */\n    alpha(alpha: number): string\n} & ((defaultValue?: string) => string)\n\nfunction set(key: string | symbol) {\n    if (typeof key === 'symbol') return undefined\n    const cssVar = kebabCase(key)\n    function value(defaultValue?: string) {\n        // it might be an object when used in styled components.\n        if (typeof defaultValue !== 'string') defaultValue = undefined\n        const x = `var(--mask-${cssVar}${defaultValue ? ', ' + defaultValue : ''})`\n        return x\n    }\n    Object.assign(value, {\n        [Symbol.toPrimitive]: () => `var(--mask-${cssVar})`,\n        alpha: (alpha: number) => `rgba(var(--mask-${cssVar}-fragment), ${alpha})`,\n    })\n    Object.defineProperty(MaskColorVar, key, { configurable: true, enumerable: true, value })\n    return value\n}\n/**\n * @deprecated Use theme.palette.maskColor\n */\nexport const MaskColorVar: Record<keyof typeof LightColor, MaskCSSVariableColor> = {\n    __proto__: new Proxy(\n        {},\n        {\n            get: (_, p) => set(p),\n            getOwnPropertyDescriptor: (_, p) => {\n                set(p)\n                return Object.getOwnPropertyDescriptor(MaskColorVar, p)\n            },\n        },\n    ),\n} as any\n","import { Box, Button } from '@mui/material'\nimport type { ButtonProps } from '@mui/material/Button'\nimport { LoadingBase } from '../LoadingBase/index.js'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nexport interface ActionButtonProps extends ButtonProps {\n    width?: number | string\n    loading?: boolean\n}\n\nconst useStyles = makeStyles()({\n    loading: {\n        ['& > *']: {\n            opacity: 0.3,\n        },\n    },\n})\n\nexport function ActionButton<T extends React.ComponentType<any> = React.ComponentType>(\n    props: ActionButtonProps & PropsOf<T>,\n) {\n    const { width, loading, children, className, style, ...rest } = props\n    const { classes, cx } = useStyles()\n    return (\n        <Button\n            className={cx('actionButton', className, loading ? classes.loading : undefined)}\n            style={{ width, ...style, pointerEvents: loading ? 'none' : undefined }}\n            {...rest}\n            disableElevation\n            disabled={!!(rest.disabled || loading)}>\n            {loading ? (\n                <Box\n                    position=\"absolute\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                    style={{ opacity: 1 }}>\n                    <LoadingBase />\n                </Box>\n            ) : null}\n            {children}\n        </Button>\n    )\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import { forwardRef, useRef, memo, useCallback } from 'react'\nimport { keyframes } from 'tss-react'\nimport {\n    SnackbarProvider,\n    type SnackbarProviderProps,\n    type SnackbarKey,\n    useSnackbar,\n    type VariantType,\n    type SnackbarMessage,\n    SnackbarContent,\n    type SnackbarAction,\n    type OptionsObject,\n} from 'notistack'\nimport { Typography, IconButton, alpha } from '@mui/material'\nimport { Close as CloseIcon, Warning as WarningIcon, Info as InfoIcon } from '@mui/icons-material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\nimport { MaskColorVar } from '../../CSSVariables/index.js'\nimport { usePortalShadowRoot } from '../../ShadowRoot/index.js'\n\nexport { PopupSnackbarProvider, usePopupCustomSnackbar } from './PopupSnackbar.js'\nexport { SnackbarProvider, useSnackbar } from 'notistack'\nexport type { VariantType, OptionsObject, SnackbarKey, SnackbarMessage } from 'notistack'\n\nexport interface StyleProps {\n    offsetY?: number\n}\n\nconst useStyles = makeStyles<StyleProps, 'title' | 'message'>()((theme, { offsetY }, classNames) => {\n    const spinningAnimationKeyFrames = keyframes`\n        to {\n          transform: rotate(360deg)\n        }\n    `\n    const title = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        fontSize: 14,\n        lineHeight: '18px',\n    } as const\n    const message = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 400,\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: 14,\n        lineHeight: '18px',\n        wordBreak: 'break-word',\n        '& > a': {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        '& :focus:not(:focus-visible)': {\n            outline: 0,\n        },\n    } as const\n    const defaultVariant = {\n        background: theme.palette.maskColor.bottom,\n        color: theme.palette.maskColor.main,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n\n        [`& .${classNames.message}`]: {\n            color: 'inherit',\n        },\n    }\n    const success = {\n        backgroundColor: theme.palette.maskColor.success,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.success, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const error = {\n        background: theme.palette.maskColor.danger,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.danger, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const info = {\n        background: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    }\n\n    const warning = {\n        backgroundColor: theme.palette.maskColor.warn,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.warn, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    return {\n        root: {\n            zIndex: 9999,\n            transform: typeof offsetY !== 'undefined' ? `translateY(${offsetY}px)` : 'none',\n            color: MaskColorVar.textLight,\n            pointerEvents: 'inherit',\n        },\n        content: {\n            alignItems: 'center',\n            padding: theme.spacing(2),\n            borderRadius: 12,\n            width: 380,\n            flexWrap: 'nowrap !important' as 'nowrap',\n        },\n        // eslint-disable-next-line tss-unused-classes/unused-classes\n        default: defaultVariant,\n        success,\n        error,\n        info,\n        warning,\n        icon: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '& > svg': {\n                width: 24,\n                height: 24,\n            },\n        },\n        spinning: {\n            display: 'flex',\n            animation: `${spinningAnimationKeyFrames} 2s infinite linear`,\n        },\n        action: {\n            marginLeft: 'auto',\n        },\n        closeButton: {\n            color: 'inherit',\n            transform: 'translateY(-10px)',\n        },\n        texts: {\n            marginLeft: theme.spacing(1.5),\n            '& :focus:not(:focus-visible)': {\n                outline: 0,\n            },\n        },\n        title,\n        message,\n    }\n})\n\nexport interface CustomSnackbarContentProps {\n    id: SnackbarKey\n    title: SnackbarMessage\n    message?: string | React.ReactNode\n    icon?: React.ReactNode\n    processing?: boolean\n    variant?: VariantType\n    action?: SnackbarAction\n    offsetY?: number\n    classes?: Partial<ReturnType<typeof useStyles>['classes']>\n}\nconst IconMap: Record<VariantType, React.ReactNode> = {\n    default: <InfoIcon color=\"inherit\" />,\n    success: <Icons.SuccessForSnackBar />,\n    error: <Icons.TransactionFailed />,\n    warning: <WarningIcon color=\"inherit\" />,\n    info: <InfoIcon color=\"inherit\" />,\n}\n\nexport const CustomSnackbarContent = forwardRef<HTMLDivElement, CustomSnackbarContentProps>((props, ref) => {\n    const { classes, cx } = useStyles({ offsetY: props.offsetY }, { props })\n    const snackbar = useSnackbar()\n    const loadingIcon = <Icons.CircleLoading className={classes.spinning} />\n    const variantIcon = props.processing ? loadingIcon : props.variant ? IconMap[props.variant] : null\n    let renderedAction: React.ReactNode = (\n        <IconButton className={classes.closeButton} onClick={() => snackbar.closeSnackbar(props.id)}>\n            <CloseIcon />\n        </IconButton>\n    )\n    if (props.action) {\n        renderedAction = typeof props.action === 'function' ? props.action(props.id) : props.action\n    }\n    return (\n        <SnackbarContent ref={ref} className={cx(classes.content, classes[props.variant!])}>\n            {variantIcon ? <div className={classes.icon}>{variantIcon}</div> : null}\n            <div className={classes.texts}>\n                <Typography className={classes.title} variant=\"h2\">\n                    {props.title}\n                </Typography>\n                {props.message ? (\n                    <Typography className={classes.message} variant=\"body1\">\n                        {props.message}\n                    </Typography>\n                ) : null}\n            </div>\n            <div className={classes.action}>{renderedAction}</div>\n        </SnackbarContent>\n    )\n})\n\nexport const CustomSnackbarProvider = memo<\n    SnackbarProviderProps & {\n        offsetY?: number\n    }\n>(function CustomSnackbarProvider({ offsetY, ...rest }) {\n    const ref = useRef<SnackbarProvider>(null)\n    const { classes } = useStyles({ offsetY })\n    const onDismiss = (key: string | number) => () => {\n        ref.current?.closeSnackbar(key)\n    }\n\n    return usePortalShadowRoot((container) => (\n        <SnackbarProvider\n            ref={ref}\n            maxSnack={30}\n            disableWindowBlurListener\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            hideIconVariant\n            // this is a false positive, SnackbarProvider won't use it like it is a component.\n            // eslint-disable-next-line react/no-unstable-nested-components\n            content={(key, title) => (\n                <CustomSnackbarContent id={key} variant={rest.variant ?? 'default'} title={title} offsetY={offsetY} />\n            )}\n            // eslint-disable-next-line react/no-unstable-nested-components\n            action={(key) => (\n                <IconButton size=\"large\" onClick={onDismiss(key)} sx={{ color: 'inherit' }}>\n                    <CloseIcon color=\"inherit\" />\n                </IconButton>\n            )}\n            classes={{\n                containerRoot: classes.root,\n                variantSuccess: classes.success,\n                variantError: classes.error,\n                variantInfo: classes.info,\n                variantWarning: classes.warning,\n            }}\n            domRoot={container}\n            {...rest}\n        />\n    ))\n})\n\nexport interface ShowSnackbarOptions\n    extends OptionsObject,\n        Pick<CustomSnackbarContentProps, 'message' | 'processing' | 'icon' | 'classes'> {}\n\nexport function useCustomSnackbar() {\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n    const showSnackbar = useCallback(\n        (\n            text: SnackbarMessage,\n            options: ShowSnackbarOptions = {\n                variant: 'default',\n            },\n        ) => {\n            const { processing, message, variant, ...rest } = options\n            return enqueueSnackbar(text, {\n                variant: options.variant,\n                content: (key, title) => {\n                    return (\n                        <CustomSnackbarContent\n                            variant={variant ?? 'default'}\n                            id={key}\n                            title={title}\n                            message={message}\n                            processing={processing}\n                            action={rest.action}\n                            classes={rest.classes}\n                        />\n                    )\n                },\n                ...rest,\n            })\n        },\n        [enqueueSnackbar],\n    )\n\n    return { showSnackbar, closeSnackbar }\n}\n","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { forwardRef } from 'react'\n\nconst BaseTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean }>(({ theme, activated }) => ({\n    flex: 1,\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    height: 36,\n    lineHeight: '18px',\n    boxShadow: activated\n        ? `0px 0px 20px ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.12)' : 'rgba(0, 0, 0, 0.05)'}`\n        : 'none',\n    background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    borderRadius: `${theme.spacing(1.5)} ${theme.spacing(1.5)} 0px 0px !important`,\n    color: activated ? theme.palette.maskColor.main : theme.palette.maskColor.secondaryDark,\n    fontSize: 16,\n    fontWeight: 'bold',\n\n    '&:hover': {\n        boxShadow: activated ? '0 0 20px rgba(0, 0, 0, 0.05)' : 'none',\n        background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    },\n    // If there is only single one tab.\n    '&:first-of-type:last-of-type': {\n        maxWidth: '25%',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    onChange?(event: object, value: string): void\n}\n\nexport const BaseTab = forwardRef<HTMLButtonElement, ButtonTabProps>((props, ref) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (!activated && onChange) onChange(event, String(value))\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <BaseTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...props}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={(e) => handleClick(e)}\n            onChange={undefined}\n        />\n    )\n})\n","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { memo, useEffect, useRef } from 'react'\n\nconst FlexibleTabTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean; color?: string }>(({ theme, activated }) => ({\n    flexShrink: 0,\n    flexGrow: 0,\n    padding: theme.spacing(1.25, 1.5),\n    height: 38,\n    lineHeight: '16px',\n    minWidth: theme.spacing(3),\n    background: activated ? theme.palette.maskColor.input : 'transparent',\n    borderRadius: `${theme.spacing(1)} !important`,\n    color: activated ? theme.palette.maskColor.highlight ?? '#1C68F3' : theme.palette.text.secondary,\n    fontSize: 14,\n    fontWeight: 'bold !important',\n\n    '&:hover': {\n        background: activated ? theme.palette.maskColor.input : 'transparent',\n        color: activated ? theme.palette.maskColor.highlight ?? '#1C68F3' : theme.palette.text.primary,\n        boxShadow: 'none',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    isVisitable: (top: number, right: number) => boolean\n    onChange?(event: object, value: string, isUp: boolean): void\n}\n\nexport const FlexibleTab = memo<ButtonTabProps>((props) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n    const { isVisitable, ...rest } = props\n    const ref = useRef<HTMLButtonElement>(null)\n\n    useEffect(() => {\n        if (!activated) return\n        const visitable = isVisitable(\n            ref.current?.getBoundingClientRect().top ?? 0,\n            ref.current?.getBoundingClientRect().right ?? 0,\n        )\n        if (!visitable) onChange?.({}, String(value), visitable)\n    }, [])\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        const visitable = isVisitable(\n            ref.current?.getBoundingClientRect().top ?? 0,\n            ref.current?.getBoundingClientRect().right ?? 0,\n        )\n        if (!activated && onChange) onChange(event, String(value), visitable)\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <FlexibleTabTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...rest}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={handleClick}\n            onChange={undefined}\n        />\n    )\n})\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z\"\n}), 'ArrowBackIosNew');","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { forwardRef } from 'react'\n\nconst RoundTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean }>(({ theme, activated }) => ({\n    flex: 1,\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    height: 34,\n    lineHeight: '16px',\n    background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    borderRadius: `${theme.spacing(2)} !important`,\n    color: activated ? theme.palette.text.primary : theme.palette.text.secondary,\n    fontSize: 14,\n    fontWeight: 'bold',\n    boxShadow: activated ? ' 0px 2px 5px 1px rgba(0, 0, 0, 0.05);' : 'none',\n\n    '&:hover': {\n        boxShadow: activated ? ' 0px 2px 5px 1px rgba(0, 0, 0, 0.05);' : 'none',\n        color: theme.palette.text.primary,\n        background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    onChange?(event: object, value: string): void\n}\n\nexport const RoundTab = forwardRef<HTMLButtonElement, ButtonTabProps>((props, ref) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (!activated && onChange) onChange(event, String(value))\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <RoundTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...props}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={handleClick}\n            onChange={undefined}\n        />\n    )\n})\n","import {\n    Box,\n    Button,\n    ButtonGroup,\n    type ButtonGroupProps,\n    styled,\n    Tab,\n    alpha,\n    type ButtonGroupClasses,\n} from '@mui/material'\nimport { useTabContext, getPanelId, getTabId } from '@mui/lab'\nimport {\n    forwardRef,\n    Children,\n    isValidElement,\n    useState,\n    useRef,\n    useEffect,\n    useImperativeHandle,\n    type ForwardRefExoticComponent,\n    useMemo,\n} from 'react'\nimport { BaseTab } from './BaseTab.js'\nimport { FlexibleTab } from './FlexibleTab.js'\nimport { ArrowBackIosNew as ArrowBackIosNewIcon } from '@mui/icons-material'\nimport { useClickAway, useWindowSize } from 'react-use'\nimport { RoundTab } from './RoundTab.js'\n\ntype MaskTabVariant = 'base' | 'flexible' | 'round'\nconst defaultTabSize = 38\n\nexport interface MaskTabListProps\n    extends Omit<ButtonGroupProps, 'variant' | 'onChange' | 'classes'>,\n        withClasses<keyof ButtonGroupClasses | 'arrowButton'> {\n    onChange(event: object, value: string): void\n    'aria-label'?: string\n    variant?: MaskTabVariant\n    hideArrowButton?: boolean\n}\n\nconst ArrowButtonWrap = styled(Button)(({ theme }) => ({\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    padding: theme.spacing(1.5),\n    height: defaultTabSize,\n    width: defaultTabSize,\n    minWidth: `${defaultTabSize}px !important`,\n    background: theme.palette.background.input,\n    '&:hover': {\n        background: theme.palette.background.input,\n    },\n}))\n\nconst ArrowBackIosNewIconWrap = styled(ArrowBackIosNewIcon)(({ theme }) => ({\n    color: theme.palette.text.primary,\n    width: 16,\n    borderRadius: '0 8px 8px 0',\n}))\n\nconst FlexibleButtonGroupPanel = styled(Box, {\n    shouldForwardProp: (prop) => prop !== 'isOpen',\n})<{\n    isOpen?: boolean\n}>(({ theme, isOpen = false }) => ({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: 100,\n    padding: theme.spacing(1.5),\n    maxWidth: 'calc(100% - 24px)',\n    width: 'calc(100% - 24px)',\n    boxShadow: isOpen\n        ? `0px 0px 20px ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.12)' : 'rgba(0, 0, 0, 0.05)'}`\n        : 'none',\n    backdropFilter: 'blur(20px)',\n    background: alpha(theme.palette.maskColor.bottom, 0.8),\n    boxSizing: 'content-box',\n}))\n\nconst ButtonGroupWrap = styled(ButtonGroup, {\n    shouldForwardProp: (prop) => prop !== 'maskVariant',\n})<{\n    maskVariant?: MaskTabVariant\n}>(({ theme, maskVariant = 'base' }) => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'nowrap',\n    overflowY: 'clip',\n    flex: 1,\n    gap: theme.spacing(1),\n    ...(maskVariant === 'round'\n        ? {\n              padding: theme.spacing(0.5),\n              background: theme.palette.maskColor.input,\n              borderRadius: 18,\n          }\n        : maskVariant === 'flexible'\n        ? {\n              background: 'transparent',\n              borderRadius: 0,\n          }\n        : {\n              marginTop: theme.spacing(-1),\n              paddingTop: theme.spacing(1),\n              background: 'transparent',\n              borderRadius: 0,\n          }),\n}))\n\nconst FlexButtonGroupWrap = styled(ButtonGroup, {\n    shouldForwardProp: (prop) => prop !== 'maskVariant' && prop !== 'isOpen' && prop !== 'isOverflow',\n})<{\n    maskVariant?: MaskTabVariant\n    isOpen?: boolean\n    isOverflow?: boolean\n}>(({ theme, maskVariant = 'base', isOpen = false, isOverflow = false }) => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: isOpen ? 'wrap' : 'nowrap',\n    overflow: 'hidden',\n    flex: 1,\n    maxWidth: '100%',\n    paddingRight: isOpen ? defaultTabSize : 0,\n    gap: maskVariant !== 'base' ? theme.spacing(1) : 0,\n    borderRadius: 0,\n    background:\n        !isOpen && isOverflow\n            ? theme.palette.mode === 'light'\n                ? `linear-gradient(270deg, rgba(255,255,255,1) ${defaultTabSize}px, rgba(223, 229, 244, 0.8) ${defaultTabSize}px, rgba(244, 247, 254, 0) 72px)`\n                : `linear-gradient(270deg, transparent ${defaultTabSize}px, rgba(49, 49, 49, 0.8) ${defaultTabSize}px, rgba(23, 23, 23, 0) 72px)`\n            : 'transparent',\n}))\n\nconst tabMapping: {\n    [key in MaskTabVariant]: ForwardRefExoticComponent<any>\n} = {\n    flexible: FlexibleTab,\n    round: RoundTab,\n    base: BaseTab,\n}\n\n/**\n * This component is like TabList + Tabs in the @mui/material.\n * It should be used with <ButtonGroupTab>.\n *\n * Warning: Only a few \"value\" and \"label\" props on the @mui/material <Tab> component will work.\n *\n * @example\n *  const [currentTab, onChange, tabs, setTab] = useTabs('tab1', 'tab2', 'tab3')\n *  return (\n *      <TabContext value={currentTab}>\n *          <MaskTabList onChange={onChange}>\n *              <Tab label=\"Item One\" value={tabs.tab1} />\n *              <Tab label=\"Item Two\" value={tabs.tab2} />\n *              <Tab label=\"Item Three\" value={tabs.tab3} />\n *          </MaskTabList>\n *          <TabPanel value={tabs.tab1}>Item One</TabPanel>\n *          <TabPanel value={tabs.tab2}>Item Two</TabPanel>\n *          <TabPanel value={tabs.tab3}>Item Three</TabPanel>\n *      </TabContext>\n *  )\n */\nexport const MaskTabList = forwardRef<HTMLDivElement, MaskTabListProps>((props, ref) => {\n    const context = useTabContext()\n    const classes = props.classes\n\n    const [open, handleToggle] = useState(false)\n    const [isTabsOverflow, setIsTabsOverflow] = useState(false)\n    const [firstId, setFirstTabId] = useState<string | undefined>(context?.value)\n    const innerRef = useRef<HTMLDivElement>(null)\n    const anchorRef = useRef<HTMLDivElement>(null)\n    const flexPanelRef = useRef(null)\n    const { width } = useWindowSize()\n\n    if (context === null) throw new TypeError('No TabContext provided')\n\n    const { onChange, variant = 'base', hideArrowButton, ...rest } = props\n\n    useImperativeHandle(ref, () => innerRef?.current!)\n\n    // #region hide tab should up to first when chick\n    useEffect(() => {\n        if (!innerRef?.current) return\n\n        const current = innerRef.current\n        setIsTabsOverflow(current.scrollWidth >= current.clientWidth + defaultTabSize)\n    }, [innerRef?.current, width])\n    // #endregion\n\n    const children = Children.map(props.children, (child) => {\n        if (!isValidElement(child)) throw new TypeError('Invalided Children')\n        const extra = {\n            'aria-controls': getPanelId(context, child.props.value),\n            id: getTabId(context, child.props.value),\n            selected: child.props.value === context.value,\n            className: child.props.className,\n            onChange: (event: object, value: string, visitable?: boolean) => {\n                handleToggle(false)\n                props.onChange(event, value)\n                if (variant === 'flexible' && !visitable) {\n                    setFirstTabId(value)\n                }\n            },\n        }\n\n        if (child.type !== Tab) return child\n\n        if (variant === 'flexible') {\n            Object.assign(extra, {\n                // if move tab to first in flexible tabs\n                isVisitable: (top: number, right: number) => {\n                    const anchor = anchorRef.current?.getBoundingClientRect()\n                    return right <= (anchor?.right ?? 0) - defaultTabSize && top - (anchor?.top ?? 0) < defaultTabSize\n                },\n            })\n        }\n        const C = tabMapping[variant]\n        return (\n            <C value={child.props.value} {...extra}>\n                {child.props.label}\n            </C>\n        )\n    })\n\n    // #region hide tab should up to first when chick\n    const flexibleTabs = useMemo(() => {\n        if (variant !== 'flexible') return null\n        return children?.sort((a, b) => {\n            if (a.props.value === firstId) return -1\n            if (b.props.value === firstId) return 1\n            return 0\n        })\n    }, [firstId, children])\n    // #endregion\n\n    // #region Should close panel when click other area\n    useClickAway(flexPanelRef, (event) => {\n        if (variant !== 'flexible') return\n        const { left, right, top, bottom } = innerRef.current?.getBoundingClientRect() ?? {\n            right: 0,\n            left: 0,\n            top: 0,\n            bottom: 0,\n        }\n        const pointerX = (event as MouseEvent).x ?? 0\n        const pointerY = (event as MouseEvent).y ?? 0\n\n        if (pointerX > right || pointerX < left || pointerY < top || pointerY > bottom) handleToggle(false)\n    })\n    // #endregion\n\n    if (variant === 'flexible') {\n        return (\n            <Box position=\"relative\">\n                <ButtonGroupWrap\n                    maskVariant={variant}\n                    ref={anchorRef}\n                    style={{ visibility: 'hidden', height: defaultTabSize }}\n                />\n                <FlexibleButtonGroupPanel isOpen={!!(open && isTabsOverflow)} ref={flexPanelRef}>\n                    <FlexButtonGroupWrap\n                        maskVariant={variant}\n                        isOpen={open}\n                        isOverflow={!!(isTabsOverflow && !hideArrowButton)}\n                        {...rest}\n                        ref={innerRef}\n                        role=\"tablist\">\n                        {flexibleTabs}\n                        {(isTabsOverflow || open) && !hideArrowButton ? (\n                            <ArrowButtonWrap\n                                className={classes?.arrowButton}\n                                variant=\"text\"\n                                size=\"small\"\n                                aria-controls={open ? 'split-button-menu' : undefined}\n                                aria-expanded={open ? 'true' : undefined}\n                                aria-label=\"select tabs list\"\n                                aria-haspopup=\"menu\"\n                                onClick={() => handleToggle(!open)}>\n                                <ArrowBackIosNewIconWrap\n                                    sx={{ transform: open ? 'rotate(90deg)' : 'rotate(270deg)' }}\n                                />\n                            </ArrowButtonWrap>\n                        ) : null}\n                    </FlexButtonGroupWrap>\n                </FlexibleButtonGroupPanel>\n            </Box>\n        )\n    }\n\n    return (\n        <ButtonGroupWrap maskVariant={variant} {...rest} ref={innerRef} role=\"tablist\">\n            {children}\n        </ButtonGroupWrap>\n    )\n})\n\nMaskTabList.displayName = 'MaskTabList'\n","import { Menu } from '@mui/material'\nimport { createShadowRootForwardedComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootMenu = createShadowRootForwardedComponent(Menu)\nShadowRootMenu.displayName = 'ShadowRootTooltip'\n","import { useCallback, useEffect, useState, useTransition } from 'react'\n\n/**\n * @example\n *  const [currentTab, onChange, tabs, setTab] = useTab('tab1', 'tab2', 'tab3')\n *  return (\n *      <TabContext value={currentTab}>\n *          <TabList onChange={onChange}>\n *              <Tab label=\"Item One\" value={tabs.tab1} />\n *              <Tab label=\"Item Two\" value={tabs.tab2} />\n *              <Tab label=\"Item Three\" value={tabs.tab3} />\n *          </TabList>\n *          <TabPanel value={tabs.tab1}>Item One</TabPanel>\n *          <TabPanel value={tabs.tab2}>Item Two</TabPanel>\n *          <TabPanel value={tabs.tab3}>Item Three</TabPanel>\n *      </TabContext>\n *  )\n */\nexport function useTabs<T extends string>(defaultTab: T, ...possibleTabs: T[]) {\n    const [currentTab, setTab] = useState(defaultTab)\n    const [, startTransition] = useTransition()\n    const tabRecords = { [defaultTab]: defaultTab } as Record<T, T>\n    possibleTabs.forEach((t) => (tabRecords[t] = t))\n\n    const isCurrentTabAvailable = [defaultTab, ...possibleTabs].includes(currentTab)\n    useEffect(() => {\n        if (!isCurrentTabAvailable) {\n            setTab(defaultTab)\n        }\n    }, [isCurrentTabAvailable, defaultTab])\n\n    const onChange = useCallback((event: unknown, value: any) => {\n        startTransition(() => setTab(value))\n    }, [])\n    return [currentTab, onChange, tabRecords, setTab] as const\n}\n","import type { NonSerializableTypedMessage, Meta } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\n/**\n * A single image\n * TODO: it should be serializable but still not decided how to do that yet.\n */\nexport interface TypedMessageImage extends NonSerializableTypedMessage {\n    readonly type: 'image'\n    readonly image: string | Blob\n    readonly width?: number\n    readonly height?: number\n}\n\nexport const isTypedMessageImage = createIsType<TypedMessageImage>('image')\n\nexport function makeTypedMessageImage(\n    image: TypedMessageImage['image'],\n    size?: { width: number; height: number },\n    meta?: Meta,\n): TypedMessageImage {\n    return {\n        type: 'image',\n        serializable: false,\n        image,\n        width: size?.width,\n        height: size?.height,\n        meta,\n    }\n}\n","import type { TypedMessage, NonSerializableTypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\nexport interface PendingPromise<T> extends Promise<T> {\n    status: 'pending'\n}\nexport interface FulfilledPromise<T> extends Promise<T> {\n    readonly status: 'fulfilled'\n    readonly value: T\n}\nexport interface RejectedPromise<T> extends Promise<T> {\n    readonly status: 'rejected'\n    readonly reason: any\n}\nexport type StatusExposedPromise<T> = PendingPromise<T> | FulfilledPromise<T> | RejectedPromise<T>\nexport interface TypedMessagePromise<T extends TypedMessage = TypedMessage> extends NonSerializableTypedMessage {\n    readonly type: 'promise'\n    readonly promise: StatusExposedPromise<T>\n    readonly meta?: undefined\n    /** What to display when the message is not ready. */\n    readonly alt?: TypedMessage\n}\n\nexport const isTypedMessagePromise = createIsType<TypedMessagePromise>('promise')\n\nexport function makeTypedMessagePromise<T extends TypedMessage = TypedMessage>(\n    promise: Promise<T>,\n    alt?: TypedMessage,\n): TypedMessagePromise<T> {\n    const x: TypedMessagePromise<T> = {\n        type: 'promise',\n        serializable: false,\n        promise: getPromiseWithStatus(promise),\n        alt,\n        meta: undefined,\n    }\n    return x\n}\nconst seen = new WeakMap<Promise<any>, StatusExposedPromise<any>>()\nfunction getPromiseWithStatus<T>(promise: Promise<T>): StatusExposedPromise<T> {\n    // let's assume it already handle the status update\n    if ('status' in promise) return promise as StatusExposedPromise<T>\n    if (seen.has(promise)) return seen.get(promise)!\n    const _ = Promise.resolve(promise) as StatusExposedPromise<T>\n    Object.defineProperty(_, 'status', { configurable: true, value: 'pending' })\n    _.then(\n        (value) => {\n            Object.defineProperties(_, {\n                status: { value: 'fulfilled' },\n                value: { value },\n            })\n        },\n        (error) => {\n            Object.defineProperties(_, {\n                status: { value: 'rejected' },\n                reason: { value: error },\n            })\n        },\n    )\n    seen.set(promise, _)\n    return _\n}\n","import type { SerializableTypedMessage, TypedMessage, Meta } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\nexport type TypedMessageText = TypedMessageTextV1\n\n/** A text message */\nexport interface TypedMessageTextV1 extends SerializableTypedMessage<1> {\n    readonly type: 'text'\n    readonly content: string\n}\n\nexport const isTypedMessageTextV1 = createIsType<TypedMessageTextV1>('text', 1)\n\nexport const isTypedMessageText: (x: TypedMessage) => x is TypedMessageText = isTypedMessageTextV1\n\nexport function makeTypedMessageText(text: string, meta?: Meta): TypedMessageTextV1 {\n    return {\n        type: 'text',\n        version: 1,\n        serializable: true,\n        content: text,\n        meta,\n    }\n}\n","import type { SerializableTypedMessage, SerializableTypedMessages, TypedMessage, Meta } from '../base.js'\nimport { isSerializableTypedMessage } from '../utils/index.js'\nimport { composeEvery } from '../utils/internal.js'\n\n/** Multiple TypedMessages (ordered) */\nexport interface TypedMessageTuple<T extends readonly TypedMessage[] = readonly TypedMessage[]> extends TypedMessage {\n    readonly type: 'tuple'\n    readonly items: T\n}\nexport interface TypedMessageTupleSerializable<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n> extends SerializableTypedMessage<1>,\n        TypedMessageTuple<T> {\n    readonly type: 'tuple'\n}\n\nexport function isTypedMessageTuple(x: TypedMessage): x is TypedMessageTuple | TypedMessageTupleSerializable {\n    return x.type === 'tuple'\n}\n\nexport const isTypedMessageTupleSerializable: (x: TypedMessage) => x is TypedMessageTupleSerializable = composeEvery(\n    isTypedMessageTuple,\n    isSerializableTypedMessage,\n) as any\n\nexport function makeTypedMessageTuple<T extends readonly TypedMessage[] = readonly TypedMessage[]>(\n    items: T,\n    meta?: Meta,\n): TypedMessageTuple<T> {\n    return { type: 'tuple', items, meta }\n}\nexport function makeTypedMessageTupleFromList<T extends readonly TypedMessage[] = readonly TypedMessage[]>(\n    ...args: T\n): TypedMessageTuple<T> {\n    return { type: 'tuple', items: args }\n}\n\nexport function makeTypedMessageTupleSerializable<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n>(items: T, meta?: Meta): TypedMessageTupleSerializable<T> {\n    return { type: 'tuple', version: 1, serializable: true, items, meta }\n}\n\nexport function makeTypedMessageSerializableTupleFromList<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n>(...args: T): TypedMessageTupleSerializable<T> {\n    return { type: 'tuple', version: 1, items: args, serializable: true }\n}\n","import type { Meta, TypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\n/**\n * This TypedMessage represents an encrypted TypedMessage.\n */\nexport interface TypedMessageMaskPayload extends TypedMessage {\n    readonly type: 'x-mask-payload'\n    readonly message: TypedMessage\n}\nexport const isTypedMessageMaskPayload = createIsType<TypedMessageMaskPayload>('x-mask-payload')\n\nexport function makeTypedMessageMaskPayload(\n    message: TypedMessageMaskPayload['message'],\n    meta?: Meta,\n): TypedMessageMaskPayload {\n    return {\n        type: 'x-mask-payload',\n        message,\n        meta,\n    }\n}\n","import type { Meta, NonSerializableWithAltTypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\nimport { makeTypedMessageText, type TypedMessageImage, type TypedMessageText } from '../core/index.js'\n\n/** It represents a single link. */\nexport interface TypedMessageAnchor extends NonSerializableWithAltTypedMessage {\n    readonly type: 'x-anchor'\n    readonly category: 'normal' | 'user' | 'cash' | 'hash'\n    readonly href: string\n    readonly content: string\n    readonly alt: TypedMessageText\n    /** The message that should be displayed as a decorate after the link. */\n    readonly postImage?: TypedMessageImage\n}\n\nexport const isTypedMessageAnchor = createIsType<TypedMessageAnchor>('x-anchor')\n\nexport function makeTypedMessageAnchor(\n    category: TypedMessageAnchor['category'],\n    href: TypedMessageAnchor['href'],\n    content: TypedMessageAnchor['content'],\n    postImage?: TypedMessageImage,\n    meta?: Meta | undefined,\n): TypedMessageAnchor {\n    return {\n        type: 'x-anchor',\n        serializable: false,\n        category,\n        href,\n        content,\n        alt: makeTypedMessageText(`[${content}](${href})`, meta),\n        postImage,\n        meta,\n    }\n}\n","import type { TypedMessage } from '../base.js'\nimport { isTypedMessageText, isTypedMessageImage } from '../core/index.js'\nimport { isTypedMessageAnchor } from '../extension/index.js'\nimport { type Option, Some, None } from 'ts-results-es'\nimport { forEachTypedMessageChild } from '../visitor/index.js'\n\n/**\n * Get inner text from a TypedMessage\n * @param message message\n */\nexport function extractTextFromTypedMessage(\n    message: TypedMessage | null,\n    options?: { linkAsText: boolean },\n): Option<string> {\n    if (!message) return None\n\n    const text: string[] = []\n    function visitor(message: TypedMessage) {\n        if (isTypedMessageText(message)) text.push(message.content)\n        else if (isTypedMessageAnchor(message)) {\n            text.push(message.content)\n            if (options?.linkAsText) text.push(`(${message.href})`)\n        } else forEachTypedMessageChild(message, visitor)\n    }\n    visitor(message)\n    forEachTypedMessageChild(message, visitor)\n    if (text.length) return Some(text.join(' '))\n    return None\n}\nexport function extractImageFromTypedMessage(message: TypedMessage | null): Array<string | Blob> {\n    if (!message) return []\n\n    const image: Array<string | Blob> = []\n    function visitor(message: TypedMessage): void {\n        if (isTypedMessageImage(message)) return void image.push(message.image)\n        return forEachTypedMessageChild(message, visitor)\n    }\n    visitor(message)\n    forEachTypedMessageChild(message, visitor)\n    return image\n}\n","import type {\n    TypedMessage,\n    SerializableTypedMessages,\n    SerializableTypedMessage,\n    NonSerializableWithAltTypedMessage,\n} from '../base.js'\nimport { isEqual } from 'lodash-es'\n\nexport * from './extract.js'\n\nexport function isNonSerializableTypedMessageWithAlt(x: TypedMessage): x is NonSerializableWithAltTypedMessage {\n    const y = x as NonSerializableWithAltTypedMessage\n    if (y.serializable !== false) return false\n    if (!y.alt) return false\n    return isSerializableTypedMessage(y.alt)\n}\nexport function isSerializableTypedMessage(x: TypedMessage): x is SerializableTypedMessages {\n    if ((x as SerializableTypedMessage<number>).serializable) return true\n    return isNonSerializableTypedMessageWithAlt(x)\n}\n\n/**\n * This is a tree compare algorithm, may need to find a more efficient one from NPM\n */\nexport function isTypedMessageEqual(message1: TypedMessage, message2: TypedMessage): boolean {\n    if (message1.type !== message2.type) return false\n    if (message1.meta !== message2.meta) return false\n    // perform a deep equal\n    return isEqual(message1, message2)\n}\n","import type { SerializableTypedMessage, TypedMessage } from '../base.js'\n\n/** @internal */\nexport function createIsType<T extends TypedMessage>(x: T['type'], version?: number) {\n    return (y: TypedMessage): y is T => {\n        if (version !== undefined && (y as SerializableTypedMessage<number>).version !== version) return false\n        return y.type === x\n    }\n}\n/** @internal */\nexport function composeSome<Args extends any[]>(...fns: Array<(...args: Args) => boolean>) {\n    return (...args: Args) => fns.some((f) => f(...args))\n}\n\n/** @internal */\nexport function composeEvery<Args extends any[]>(...fns: Array<(...args: Args) => boolean>) {\n    return (...args: Args) => fns.every((f) => f(...args))\n}\n","import { isTypedMessagePromise, isTypedMessageTuple } from '../core/index.js'\nimport { isNonSerializableTypedMessageWithAlt } from '../utils/index.js'\nimport type { TypedMessage } from '../base.js'\nimport { isTypedMessageMaskPayload } from '../extension/index.js'\n\nexport function forEachTypedMessageChild(node: TypedMessage, visitor: (x: TypedMessage) => void | 'stop') {\n    let stop: void | 'stop'\n    if (isTypedMessageTuple(node)) {\n        for (const each of node.items) {\n            stop = visitor(each)\n            if (stop) return\n        }\n    } else if (isTypedMessagePromise(node)) {\n        // if Promise has a resolved value, we ignore it's alt.\n        if ('value' in node.promise) visitor(node.promise.value)\n        else if (node.alt) visitor(node.alt)\n    } else if (isTypedMessageMaskPayload(node)) {\n        visitor(node.message)\n    } else if (isNonSerializableTypedMessageWithAlt(node)) {\n        visitor(node.alt)\n    }\n}\n","import { useSubscription } from 'use-subscription'\nimport { UNDEFINED, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\nimport { useWeb3Others } from './useWeb3Others.js'\n\nexport function useAccount<T extends NetworkPluginID>(pluginID?: T, expectedAccount?: string) {\n    const Others = useWeb3Others(pluginID)\n    const { Provider } = useWeb3State(pluginID)\n    const defaultAccount = useSubscription(Provider?.account ?? UNDEFINED)\n    return Others.formatAddress(expectedAccount ?? defaultAccount ?? '')\n}\n","import { useSubscription } from 'use-subscription'\nimport { UNDEFINED, type NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useWeb3State } from './useWeb3State.js'\nimport { useDefaultChainId } from './useDefaultChainId.js'\n\nexport function useChainId<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    expectedChainId?: Web3Helper.ChainIdScope<S, T>,\n) {\n    const { Provider } = useWeb3State<S, T>(pluginID)\n    const defaultChainId = useDefaultChainId(pluginID)\n    const actualChainId = useSubscription(Provider?.chainId ?? UNDEFINED)\n\n    return (expectedChainId ?? actualChainId ?? defaultChainId) as Web3Helper.ChainIdScope<S, T>\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Others } from './useWeb3Others.js'\n\nexport function useChainIdValid<T extends NetworkPluginID>(\n    pluginID?: T,\n    expectedChainId?: Web3Helper.Definition[T]['ChainId'],\n) {\n    const { account, chainId } = useChainContext({ chainId: expectedChainId })\n    const Others = useWeb3Others(pluginID)\n\n    return (!account || Others.chainResolver.isValidChainId?.(chainId, process.env.NODE_ENV === 'development')) ?? false\n}\n","import { useSubscription } from 'use-subscription'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { UNDEFINED, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useProviderType<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n) {\n    const { Provider } = useWeb3State(pluginID)\n    const defaultProviderType = useSubscription(Provider?.providerType ?? UNDEFINED)\n    return defaultProviderType as Web3Helper.ProviderTypeScope<S, T>\n}\n","import { createContext, type ReactNode, useContext, useState, useMemo, type ProviderProps, memo } from 'react'\nimport { isUndefined, omitBy } from 'lodash-es'\nimport { usePersistSubscription, useValueRef } from '@masknet/shared-base-ui'\nimport { compose, Sniffings, NetworkPluginID, getSiteType, pluginIDsSettings } from '@masknet/shared-base'\nimport { Providers, type BaseContractWalletProvider } from '@masknet/web3-providers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useAccount } from './useAccount.js'\nimport { useChainId } from './useChainId.js'\nimport { useProviderType } from './useProviderType.js'\nimport { useLocation } from 'react-use'\n\ninterface ReadonlyNetworkContext<T extends NetworkPluginID = NetworkPluginID> {\n    pluginID: T\n}\n\ninterface NetworkContext<T extends NetworkPluginID = NetworkPluginID> {\n    pluginID: T\n    setPluginID: (pluginID: T) => void\n}\n\ninterface ChainContextGetter<T extends NetworkPluginID = NetworkPluginID> {\n    account?: string\n    chainId?: Web3Helper.Definition[T]['ChainId']\n    networkType?: Web3Helper.Definition[T]['NetworkType']\n    providerType?: Web3Helper.Definition[T]['ProviderType']\n    // If it's controlled, we prefer passed value over state inside\n    controlled?: boolean\n}\n\ninterface ChainContextSetter<T extends NetworkPluginID = NetworkPluginID> {\n    setAccount?: (account: string) => void\n    setChainId?: (chainId: Web3Helper.Definition[T]['ChainId']) => void\n    setNetworkType?: (networkType: Web3Helper.Definition[T]['NetworkType']) => void\n    setProviderType?: (providerType: Web3Helper.Definition[T]['ProviderType']) => void\n}\n\nconst ReadonlyNetworkContext = createContext<ReadonlyNetworkContext>(null!)\nReadonlyNetworkContext.displayName = 'ReadonlyNetworkContext'\n\nconst NetworkContext = createContext<NetworkContext>(null!)\nNetworkContext.displayName = 'NetworkContext'\n\nconst ChainContext = createContext<ChainContextGetter & ChainContextSetter>(null!)\nChainContext.displayName = 'ChainContext'\n\n/**\n * Provide the current readonly network plugin ID (readonly)\n * @param props\n * @returns\n */\nexport function ReadonlyNetworkContextProvider({ value, children }: ProviderProps<ReadonlyNetworkContext>) {\n    return <ReadonlyNetworkContext.Provider value={value}>{children}</ReadonlyNetworkContext.Provider>\n}\n\n/**\n * Provide the current selected network plugin ID\n * @param props\n * @returns\n */\nexport function NetworkContextProvider({ value, children }: ProviderProps<NetworkPluginID>) {\n    const [pluginID = value, setPluginID] = useState<NetworkPluginID>()\n    const context = useMemo(\n        () => ({\n            pluginID,\n            setPluginID,\n        }),\n        [pluginID],\n    )\n    return <NetworkContext.Provider value={context}>{children}</NetworkContext.Provider>\n}\n\n/**\n * Provide the current chain context\n * @param props\n * @returns\n */\nexport const ChainContextProvider = memo(function ChainContextProvider({\n    value,\n    children,\n}: ProviderProps<ChainContextGetter>) {\n    const { pluginID } = useNetworkContext()\n    const { controlled } = value\n\n    const globalAccount = useAccount(pluginID)\n    const globalChainId = useChainId(pluginID)\n    const globalProviderType = useProviderType(pluginID)\n\n    const maskProvider = Providers[ProviderType.MaskWallet] as BaseContractWalletProvider\n\n    // The initial value of subscription.account could be empty string\n    const maskAccount = usePersistSubscription('@@mask-account', maskProvider.subscription.account, (x) => !!x)\n    const maskChainId = usePersistSubscription('@@mask-chain-id', maskProvider.subscription.chainId)\n\n    const [_account, setAccount] = useState<string>()\n    const [_chainId, setChainId] = useState<Web3Helper.ChainIdAll>()\n    const [_providerType, setProviderType] = useState<Web3Helper.ProviderTypeAll>()\n\n    const location = useLocation()\n    const is_popup_wallet_page = Sniffings.is_popup_page && location.hash?.includes('/wallet')\n    const account = controlled\n        ? value.account\n        : _account ?? value.account ?? (is_popup_wallet_page ? maskAccount : globalAccount)\n    const chainId = controlled\n        ? value.chainId\n        : _chainId ?? value.chainId ?? (is_popup_wallet_page ? maskChainId : globalChainId)\n    const providerType = controlled\n        ? value.providerType\n        : _providerType ?? value.providerType ?? (is_popup_wallet_page ? ProviderType.MaskWallet : globalProviderType)\n\n    const context = useMemo(\n        () => ({\n            account,\n            chainId,\n            providerType,\n            setAccount,\n            setChainId,\n            setProviderType,\n        }),\n        [account, chainId, providerType],\n    )\n    return <ChainContext.Provider value={context}>{children}</ChainContext.Provider>\n})\n\n/**\n * Provide a context that contains both network and chain context\n * @param props\n * @returns\n */\nexport function Web3ContextProvider({\n    value,\n    children,\n}: ProviderProps<\n    {\n        pluginID: NetworkPluginID\n    } & ChainContextGetter\n>) {\n    const { pluginID, ...rest } = value\n\n    return compose(\n        (children) => <NetworkContextProvider value={pluginID} children={children} />,\n        (children) => <ChainContextProvider value={rest} children={children} />,\n        <>{children}</>,\n    )\n}\n\n/**\n * Provide the top most network context\n * @param props\n * @returns\n */\nexport function RevokeNetworkContextProvider({ children }: { children: ReactNode | undefined }) {\n    const { pluginID } = useContext(ReadonlyNetworkContext)\n    const value = useMemo(\n        () => ({\n            pluginID,\n            setPluginID: () => {\n                throw new Error('Set pluginID is not allowed.')\n            },\n        }),\n        [pluginID],\n    )\n    return <NetworkContext.Provider value={value} children={children} />\n}\n\n/**\n * Provide the top most chain context\n * @param props\n * @returns\n */\nexport function RevokeChainContextProvider({ children }: { children: ReactNode | undefined }) {\n    const account = useAccount()\n    const chainId = useChainId()\n    const providerType = useProviderType()\n    const value = useMemo(\n        () => ({\n            account,\n            chainId,\n            providerType,\n        }),\n        [account, chainId, providerType],\n    )\n    return <ChainContext.Provider value={value} children={children} />\n}\n\n/**\n * The default Web3 context provider that uses the EVM plugin\n * @param props\n * @returns\n */\nexport function DefaultWeb3ContextProvider({\n    value,\n    children,\n}: Partial<\n    ProviderProps<\n        Partial<\n            {\n                pluginID: NetworkPluginID\n            } & ChainContextGetter\n        >\n    >\n>) {\n    const contextValue = useMemo(() => {\n        return { pluginID: value?.pluginID ?? NetworkPluginID.PLUGIN_EVM, ...value }\n    }, [JSON.stringify(value)])\n\n    return <Web3ContextProvider value={contextValue}>{children}</Web3ContextProvider>\n}\n\n/**\n * The root Web3 context provider that uses the plugin ID from global settings\n * @param props\n * @returns\n */\nexport function RootWeb3ContextProvider({\n    value,\n    children,\n}: Partial<\n    ProviderProps<\n        Partial<\n            {\n                pluginID: NetworkPluginID\n            } & ChainContextGetter\n        >\n    >\n>) {\n    const pluginIDs = useValueRef(pluginIDsSettings)\n    const contextValue = useMemo(() => {\n        const site = getSiteType()\n        return { pluginID: value?.pluginID ?? (site ? pluginIDs[site] : NetworkPluginID.PLUGIN_EVM) }\n    }, [pluginIDs, JSON.stringify(value)])\n\n    return (\n        <ReadonlyNetworkContextProvider value={contextValue}>\n            <Web3ContextProvider value={contextValue}>{children}</Web3ContextProvider>\n        </ReadonlyNetworkContextProvider>\n    )\n}\n\nexport function useEnvironmentContext(overrides?: ReadonlyNetworkContext) {\n    const context = useContext(ReadonlyNetworkContext)\n    return {\n        ...context,\n        ...omitBy(overrides, isUndefined),\n    }\n}\n\nexport function useNetworkContext<T extends NetworkPluginID = NetworkPluginID>(overrides?: T) {\n    const context = useContext(NetworkContext)\n    return {\n        ...context,\n        pluginID: (overrides ?? context.pluginID) as T,\n    }\n}\n\nexport function useChainContext<T extends NetworkPluginID = NetworkPluginID>(overrides?: ChainContextGetter<T>) {\n    const context = useContext(ChainContext)\n    return {\n        ...context,\n        ...omitBy(overrides, isUndefined),\n    } as Required<ChainContextGetter<T> & ChainContextSetter<T>>\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport { ChainId as EVM_ChainId } from '@masknet/web3-shared-evm'\nimport { ChainId as FlowChainId } from '@masknet/web3-shared-flow'\nimport { ChainId as SolanaChainId } from '@masknet/web3-shared-solana'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useNetworkContext } from './useContext.js'\n\nconst DEFAULT_CHAIN_ID: Record<NetworkPluginID, Web3Helper.ChainIdAll> = {\n    [NetworkPluginID.PLUGIN_EVM]: EVM_ChainId.Mainnet,\n    [NetworkPluginID.PLUGIN_FLOW]: FlowChainId.Mainnet,\n    [NetworkPluginID.PLUGIN_SOLANA]: SolanaChainId.Mainnet,\n}\n\nexport function useDefaultChainId<T extends NetworkPluginID>(expectedPluginID?: T) {\n    const { pluginID } = useNetworkContext<T>(expectedPluginID)\n    return DEFAULT_CHAIN_ID[pluginID]\n}\n\nexport function getDefaultChainId<T extends NetworkPluginID>(pluginID: T) {\n    return DEFAULT_CHAIN_ID[pluginID]\n}\n","import { useAsyncRetry } from 'react-use'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\n\nexport function useNativeTokenBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        ...options,\n    })\n\n    return useAsyncRetry(async () => {\n        return Web3.getNativeTokenBalance()\n    }, [account, Web3])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedChainIdOrNetworkTypeOrID?: string | number,\n): Web3Helper.NetworkDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { networkType } = useChainContext()\n\n    return getRegisteredWeb3Networks(pluginID).find((x) =>\n        [x.chainId, x.type, x.ID].includes(expectedChainIdOrNetworkTypeOrID ?? networkType ?? ''),\n    )\n}\n","import { getRegisteredWeb3Providers } from '@masknet/web3-providers'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared provider descriptor\n * @param expectedPluginID\n * @param expectedProviderTypeOrID\n * @returns\n */\nexport function useProviderDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedProviderTypeOrID?: string,\n): Web3Helper.ProviderDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { providerType } = useChainContext()\n\n    return getRegisteredWeb3Providers(pluginID).find((x) =>\n        [x.type, x.ID].includes(expectedProviderTypeOrID ?? providerType ?? ''),\n    )\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport type { RecentTransactionComputed, TransactionStatusType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRecentTransactions<T extends NetworkPluginID>(pluginID?: T, status?: TransactionStatusType) {\n    const { Transaction } = useWeb3State(pluginID)\n    const transactions = useSubscription(Transaction?.transactions ?? EMPTY_ARRAY)\n    type ChainId = Web3Helper.Definition[T]['ChainId']\n    type Transaction = Web3Helper.Definition[T]['Transaction']\n\n    return useMemo<Array<RecentTransactionComputed<ChainId, Transaction>>>(() => {\n        return (status ? transactions.filter((x) => status === x.status) : transactions).map((x) => ({\n            ...x,\n            _tx: x.candidates[x.indexId],\n        }))\n    }, [status, transactions])\n}\n","import { useMemo } from 'react'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWallets } from './useWallets.js'\n\n/**\n * Use the currently selected wallet.\n * @param pluginID\n * @returns\n */\nexport function useWallet<T extends NetworkPluginID>(\n    pluginID?: T,\n    providerType?: Web3Helper.Definition[T]['ProviderType'],\n) {\n    const { account } = useChainContext()\n    const wallets = useWallets()\n\n    return useMemo(() => {\n        return account ? wallets.find((x) => isSameAddress?.(x.address, account)) ?? null : null\n    }, [account, wallets])\n}\n","import { EMPTY_LIST, type Wallet } from '@masknet/shared-base'\nimport { Providers } from '@masknet/web3-providers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useMemo } from 'react'\nimport { usePersistSubscription } from '@masknet/shared-base-ui'\n\nexport function useWallets() {\n    // We got stored Mask wallets only.\n    const wallets = usePersistSubscription(\n        '@@mask-wallets',\n        Providers[ProviderType.MaskWallet].subscription.wallets ?? EMPTY_LIST,\n    )\n\n    return useMemo(() => {\n        return [...wallets]\n            .map((w) => {\n                // Could be serialized by react query persist client\n                if (w.createdAt instanceof Date && w.updatedAt instanceof Date) return w\n                return {\n                    ...w,\n                    createdAt: new Date(w.createdAt),\n                    updatedAt: new Date(w.updatedAt),\n                } as Wallet\n            })\n            .sort((a, b) => {\n                if (a.owner && !b.owner) return 1\n                const timestampA = a.createdAt.getTime()\n                const timestampB = b.createdAt.getTime()\n                if (timestampA - timestampB > 10000) {\n                    return 1\n                } else if (timestampB - timestampA > 10000) {\n                    return -1\n                }\n                const numA = a.name.split('Wallet ')[1]\n                const numB = b.name.split('Wallet ')[1]\n                try {\n                    if (!numA && numB && !Number.isNaN(numB)) return 1\n                    if (!Number.isNaN(numA) && !Number.isNaN(numB)) {\n                        return Number(numA) > Number(numB) ? 1 : -1\n                    } else {\n                        return numB.length - numA.length\n                    }\n                } catch {\n                    return 0\n                }\n            })\n    }, [wallets])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { Web3All } from '@masknet/web3-providers'\nimport type { Connection, ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Connection<T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => Web3All.use(pluginID, options) as Connection<T>, [pluginID, JSON.stringify(options)])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { OthersAll } from '@masknet/web3-providers'\nimport type { Others } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Others<T extends NetworkPluginID = NetworkPluginID>(expectedPluginID?: T) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => OthersAll.use(pluginID) as Others<T>, [pluginID])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { getActivatedPluginWeb3State } from '@masknet/web3-providers'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3State<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n): Web3Helper.Web3StateScope<S, T> {\n    const { pluginID } = useNetworkContext<T>(expectedPluginID)\n    return getActivatedPluginWeb3State(pluginID)\n}\n","import { i18NextInstance } from '@masknet/shared-base'\n\nexport function formatElapsed(from: number) {\n    const msPerMinute = 60 * 1000\n    const msPerHour = msPerMinute * 60\n    const msPerDay = msPerHour * 24\n    const msPerMonth = msPerDay * 30\n    const msPerYear = msPerDay * 365\n    const elapsed = Date.now() - from\n    if (elapsed < msPerMinute)\n        return i18NextInstance.t('relative_time_seconds_ago', {\n            count: Math.round(elapsed / 1000),\n        })\n    if (elapsed < msPerHour)\n        return i18NextInstance.t('relative_time_minutes_ago', {\n            count: Math.round(elapsed / msPerMinute),\n        })\n    if (elapsed < msPerDay)\n        return i18NextInstance.t('relative_time_hours_ago', {\n            count: Math.round(elapsed / msPerHour),\n        })\n    if (elapsed < msPerMonth)\n        return i18NextInstance.t('relative_time_days_ago', {\n            count: Math.round(elapsed / msPerDay),\n        })\n    if (elapsed < msPerYear)\n        return i18NextInstance.t('relative_time_months_ago', {\n            count: Math.round(elapsed / msPerMonth),\n        })\n    return i18NextInstance.t('relative_time_years_ago', {\n        count: Math.round(elapsed / msPerYear),\n    })\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'OpenInNew');","import * as React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * @type {React.Context<{ idPrefix: string; value: string } | null>}\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Context = /*#__PURE__*/React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  Context.displayName = 'TabContext';\n}\n\nfunction useUniquePrefix() {\n  const [id, setId] = React.useState(null);\n  React.useEffect(() => {\n    setId(`mui-p-${Math.round(Math.random() * 1e5)}`);\n  }, []);\n  return id;\n}\n\nexport default function TabContext(props) {\n  const {\n    children,\n    value\n  } = props;\n  const idPrefix = useUniquePrefix();\n  const context = React.useMemo(() => {\n    return {\n      idPrefix,\n      value\n    };\n  }, [idPrefix, value]);\n  return /*#__PURE__*/_jsx(Context.Provider, {\n    value: context,\n    children: children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? TabContext.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * The value of the currently selected `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\n/**\n * @returns {unknown}\n */\n\nexport function useTabContext() {\n  return React.useContext(Context);\n}\nexport function getPanelId(context, value) {\n  const {\n    idPrefix\n  } = context;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return `${context.idPrefix}-P-${value}`;\n}\nexport function getTabId(context, value) {\n  const {\n    idPrefix\n  } = context;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return `${context.idPrefix}-T-${value}`;\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getTabPanelUtilityClass(slot) {\n  return generateUtilityClass('MuiTabPanel', slot);\n}\nconst tabPanelClasses = generateUtilityClasses('MuiTabPanel', ['root']);\nexport default tabPanelClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { getTabPanelUtilityClass } from './tabPanelClasses';\nimport { getPanelId, getTabId, useTabContext } from '../TabContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getTabPanelUtilityClass, classes);\n};\n\nconst TabPanelRoot = styled('div', {\n  name: 'MuiTabPanel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  padding: theme.spacing(3)\n}));\nconst TabPanel = /*#__PURE__*/React.forwardRef(function TabPanel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTabPanel'\n  });\n\n  const {\n    children,\n    className,\n    value\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props);\n\n  const classes = useUtilityClasses(ownerState);\n  const context = useTabContext();\n\n  if (context === null) {\n    throw new TypeError('No TabContext provided');\n  }\n\n  const id = getPanelId(context, value);\n  const tabId = getTabId(context, value);\n  return /*#__PURE__*/_jsx(TabPanelRoot, _extends({\n    \"aria-labelledby\": tabId,\n    className: clsx(classes.root, className),\n    hidden: value !== context.value,\n    id: id,\n    ref: ref,\n    role: \"tabpanel\",\n    ownerState: ownerState\n  }, other, {\n    children: value === context.value && children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabPanel.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The `value` of the corresponding `Tab`. Must use the index of the `Tab` when\n   * no `value` was passed to `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\nexport default TabPanel;","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","const colorString = require('color-string');\nconst convert = require('color-convert');\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...args) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (args.length > 0) {\n\t\t\treturn new Color(args, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...args) {\n\t\tlet color = args[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(args, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nmodule.exports = Color;\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","(function() {\n\t// The random number is a js implementation of the Xorshift PRNG\n\tvar randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\n\n\tfunction seedrand(seed) {\n\t\tfor (var i = 0; i < randseed.length; i++) {\n\t\t\trandseed[i] = 0;\n\t\t}\n\t\tfor (var i = 0; i < seed.length; i++) {\n\t\t\trandseed[i%4] = ((randseed[i%4] << 5) - randseed[i%4]) + seed.charCodeAt(i);\n\t\t}\n\t}\n\n\tfunction rand() {\n\t\t// based on Java's String.hashCode(), expanded to 4 32bit values\n\t\tvar t = randseed[0] ^ (randseed[0] << 11);\n\n\t\trandseed[0] = randseed[1];\n\t\trandseed[1] = randseed[2];\n\t\trandseed[2] = randseed[3];\n\t\trandseed[3] = (randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8));\n\n\t\treturn (randseed[3]>>>0) / ((1 << 31)>>>0);\n\t}\n\n\tfunction createColor() {\n\t\t//saturation is the whole color spectrum\n\t\tvar h = Math.floor(rand() * 360);\n\t\t//saturation goes from 40 to 100, it avoids greyish colors\n\t\tvar s = ((rand() * 60) + 40) + '%';\n\t\t//lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\n\t\tvar l = ((rand()+rand()+rand()+rand()) * 25) + '%';\n\n\t\tvar color = 'hsl(' + h + ',' + s + ',' + l + ')';\n\t\treturn color;\n\t}\n\n\tfunction createImageData(size) {\n\t\tvar width = size; // Only support square icons for now\n\t\tvar height = size;\n\n\t\tvar dataWidth = Math.ceil(width / 2);\n\t\tvar mirrorWidth = width - dataWidth;\n\n\t\tvar data = [];\n\t\tfor(var y = 0; y < height; y++) {\n\t\t\tvar row = [];\n\t\t\tfor(var x = 0; x < dataWidth; x++) {\n\t\t\t\t// this makes foreground and background color to have a 43% (1/2.3) probability\n\t\t\t\t// spot color has 13% chance\n\t\t\t\trow[x] = Math.floor(rand()*2.3);\n\t\t\t}\n\t\t\tvar r = row.slice(0, mirrorWidth);\n\t\t\tr.reverse();\n\t\t\trow = row.concat(r);\n\n\t\t\tfor(var i = 0; i < row.length; i++) {\n\t\t\t\tdata.push(row[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n  function buildOpts(opts) {\n    var newOpts = {};\n\n\t\tnewOpts.size = opts.size || 8;\n\t\tnewOpts.scale = opts.scale || 4;\n\t\tnewOpts.seed = opts.seed || Math.floor((Math.random()*Math.pow(10,16))).toString(16);\n\t\tnewOpts.color = opts.color || createColor();\n\t\tnewOpts.bgcolor = opts.bgcolor || createColor();\n\t\tnewOpts.spotcolor = opts.spotcolor || createColor();\n\n\t\tseedrand(newOpts.seed);\n\n    return newOpts;\n  }\n\n  function renderIcon(opts, canvas) {\n    var opts = buildOpts(opts || {});\n\n\t\tvar imageData = createImageData(opts.size);\n\t\tvar width = Math.sqrt(imageData.length);\n\n\t\tcanvas.width = canvas.height = opts.size * opts.scale;\n\n\t\tvar cc = canvas.getContext('2d');\n\t\tcc.fillStyle = opts.bgcolor;\n\t\tcc.fillRect(0, 0, canvas.width, canvas.height);\n\t\tcc.fillStyle = opts.color;\n\n\t\tfor(var i = 0; i < imageData.length; i++) {\n\n\t\t\t// if data is 0, leave the background\n\t\t\tif(imageData[i]) {\n\t\t\t\tvar row = Math.floor(i / width);\n\t\t\t\tvar col = i % width;\n\n\t\t\t\t// if data is 2, choose spot color, if 1 choose foreground\n\t\t\t  cc.fillStyle = (imageData[i] == 1) ? opts.color : opts.spotcolor;\n\n\t\t\t\tcc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\n\t\t\t}\n\t\t}\n    return canvas;\n  }\n\n\tfunction createIcon(opts) {\n    var opts = buildOpts(opts || {});\n\t\tvar canvas = document.createElement('canvas');\n\n    renderIcon(opts, canvas);\n\n\t\treturn canvas;\n\t}\n\n\tvar api = {\n    create: createIcon,\n    render: renderIcon\n  };\n\n  if (typeof module !== \"undefined\") {\n    module.exports = api;\n  }\n  if (typeof window !== \"undefined\") {\n    window.blockies = api;\n  }\n\n})();\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.millify = void 0;\nconst options_1 = require(\"./options\");\nconst utils_1 = require(\"./utils\");\n// Most commonly used digit grouping base.\nconst DIGIT_GROUPING_BASE = 1000;\n/**\n * Generator that divides a number until a decimal value is found.\n *\n * The denominator is defined by the numerical digit grouping base,\n * or interval. The most commonly-used digit group interval is 1000.\n *\n * e.g. 1,000,000 is grouped in multiples of 1000.\n */\nfunction* divider(value) {\n    // Create a mutable copy of the base.\n    let denominator = DIGIT_GROUPING_BASE;\n    while (true) {\n        const result = value / denominator;\n        if (result < 1) {\n            // End of operation. We can't divide the value any further.\n            return;\n        }\n        yield result;\n        // The denominator is increased every iteration by multiplying\n        // the base by itself, until a decimal value remains.\n        denominator *= DIGIT_GROUPING_BASE;\n    }\n}\n/**\n * millify converts long numbers to human-readable strings.\n */\nfunction millify(value, options) {\n    var _a, _b;\n    // Override default options with options supplied by user.\n    const opts = options\n        ? { ...options_1.defaultOptions, ...options }\n        : options_1.defaultOptions;\n    if (!Array.isArray(opts.units) || !opts.units.length) {\n        throw new Error(\"Option `units` must be a non-empty array\");\n    }\n    // If the input value is invalid, then return the value in string form.\n    // Originally this threw an error, but was changed to return a graceful fallback.\n    let val;\n    try {\n        val = utils_1.parseValue(value);\n    }\n    catch (e) {\n        if (e instanceof Error) {\n            console.warn(`WARN: ${e.message} (millify)`);\n        }\n        // Invalid values will be converted to string as per `String()`.\n        return String(value);\n    }\n    // Add a minus sign (-) prefix if it's a negative number.\n    const prefix = val < 0 ? \"-\" : \"\";\n    // Work only with positive values for simplicity's sake.\n    val = Math.abs(val);\n    // Keep dividing the input value by the digit grouping base\n    // until the decimal and the unit index is deciphered.\n    let unitIndex = 0;\n    for (const result of divider(val)) {\n        val = result;\n        unitIndex += 1;\n    }\n    // Return the original number if the number is too large to have\n    // a corresponding unit. Returning anything else is ambiguous.\n    const unitIndexOutOfRange = unitIndex >= opts.units.length;\n    if (unitIndexOutOfRange) {\n        // At this point we don't know what to do with the input value,\n        // so we return it as is, without localizing the string.\n        return value.toString();\n    }\n    // Round decimal up to desired precision.\n    let rounded = utils_1.roundTo(val, opts.precision);\n    // Fixes an edge case bug that outputs certain numbers as 1000K instead of 1M.\n    // The rounded value needs another iteration in the divider cycle.\n    for (const result of divider(rounded)) {\n        rounded = result;\n        unitIndex += 1;\n    }\n    // Calculate the unit suffix and make it lowercase (if needed).\n    const unit = (_a = opts.units[unitIndex]) !== null && _a !== void 0 ? _a : \"\";\n    const suffix = opts.lowercase ? unit.toLowerCase() : unit;\n    // Add a space between number and abbreviation.\n    const space = opts.space ? \" \" : \"\";\n    // Format the number according to the desired locale.\n    const formatted = rounded.toLocaleString((_b = opts.locales) !== null && _b !== void 0 ? _b : utils_1.getLocales(), {\n        // toLocaleString needs the explicit fraction digits.\n        minimumFractionDigits: utils_1.getFractionDigits(rounded),\n    });\n    return `${prefix}${formatted}${space}${suffix}`;\n}\nexports.millify = millify;\nexports.default = millify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultOptions = void 0;\n/**\n * Default options for Millify.\n */\nexports.defaultOptions = {\n    lowercase: false,\n    precision: 1,\n    space: false,\n    units: [\n        \"\",\n        \"K\",\n        \"M\",\n        \"B\",\n        \"T\",\n        \"P\",\n        \"E\", // Quintillion\n    ],\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLocales = exports.getFractionDigits = exports.roundTo = exports.parseValue = void 0;\n/**\n * parseValue ensures the value is a number and within accepted range.\n */\nfunction parseValue(value) {\n    const val = parseFloat(value === null || value === void 0 ? void 0 : value.toString());\n    if (isNaN(val)) {\n        throw new Error(`Input value is not a number`);\n    }\n    if (val > Number.MAX_SAFE_INTEGER || val < Number.MIN_SAFE_INTEGER) {\n        throw new RangeError(\"Input value is outside of safe integer range\");\n    }\n    return val;\n}\nexports.parseValue = parseValue;\n/**\n * Rounds a number [value] up to a specified [precision].\n */\nfunction roundTo(value, precision) {\n    if (!Number.isFinite(value)) {\n        throw new Error(\"Input value is not a finite number\");\n    }\n    if (!Number.isInteger(precision) || precision < 0) {\n        throw new Error(\"Precision is not a positive integer\");\n    }\n    if (Number.isInteger(value)) {\n        return value;\n    }\n    return parseFloat(value.toFixed(precision));\n}\nexports.roundTo = roundTo;\n/**\n * Returns the number of digits after the decimal.\n */\nfunction getFractionDigits(num) {\n    var _a;\n    if (Number.isInteger(num)) {\n        return 0;\n    }\n    const decimalPart = num.toString().split(\".\")[1];\n    return (_a = decimalPart === null || decimalPart === void 0 ? void 0 : decimalPart.length) !== null && _a !== void 0 ? _a : 0;\n}\nexports.getFractionDigits = getFractionDigits;\n/**\n * Returns the default browser locales.\n */\nfunction getLocales() {\n    var _a;\n    if (typeof navigator === \"undefined\") {\n        return [];\n    }\n    return Array.from((_a = navigator.languages) !== null && _a !== void 0 ? _a : []);\n}\nexports.getLocales = getLocales;\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","/**\n * @license React\n * use-subscription.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=require(\"use-sync-external-store/shim\");exports.useSubscription=function(a){return b.useSyncExternalStore(a.subscribe,a.getCurrentValue)};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-subscription.production.min.js');\n} else {\n  module.exports = require('./cjs/use-subscription.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","'use client';\nimport * as React from 'react';\n\nconst defaultContext = /*#__PURE__*/React.createContext(undefined);\nconst QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // If we are given a context, we will use it.\n// Otherwise, if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\n\nfunction getQueryClientContext(context, contextSharing) {\n  if (context) {\n    return context;\n  }\n\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext;\n    }\n\n    return window.ReactQueryClientContext;\n  }\n\n  return defaultContext;\n}\n\nconst useQueryClient = ({\n  context\n} = {}) => {\n  const queryClient = React.useContext(getQueryClientContext(context, React.useContext(QueryClientSharingContext)));\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\n  }\n\n  return queryClient;\n};\nconst QueryClientProvider = ({\n  client,\n  children,\n  context,\n  contextSharing = false\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n\n  if (process.env.NODE_ENV !== 'production' && contextSharing) {\n    client.getLogger().error(\"The contextSharing option has been deprecated and will be removed in the next major version\");\n  }\n\n  const Context = getQueryClientContext(context, contextSharing);\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\n    value: !context && contextSharing\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: client\n  }, children));\n};\n\nexport { QueryClientProvider, defaultContext, useQueryClient };\n//# sourceMappingURL=QueryClientProvider.mjs.map\n","'use client';\nimport * as React from 'react';\n\nfunction createValue() {\n  let isReset = false;\n  return {\n    clearReset: () => {\n      isReset = false;\n    },\n    reset: () => {\n      isReset = true;\n    },\n    isReset: () => {\n      return isReset;\n    }\n  };\n}\n\nconst QueryErrorResetBoundaryContext = /*#__PURE__*/React.createContext(createValue()); // HOOK\n\nconst useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext); // COMPONENT\n\nconst QueryErrorResetBoundary = ({\n  children\n}) => {\n  const [value] = React.useState(() => createValue());\n  return /*#__PURE__*/React.createElement(QueryErrorResetBoundaryContext.Provider, {\n    value: value\n  }, typeof children === 'function' ? children(value) : children);\n};\n\nexport { QueryErrorResetBoundary, useQueryErrorResetBoundary };\n//# sourceMappingURL=QueryErrorResetBoundary.mjs.map\n","'use client';\nimport * as React from 'react';\nimport { shouldThrowError } from './utils.mjs';\n\nconst ensurePreventErrorBoundaryRetry = (options, errorResetBoundary) => {\n  if (options.suspense || options.useErrorBoundary) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false;\n    }\n  }\n};\nconst useClearResetErrorBoundary = errorResetBoundary => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset();\n  }, [errorResetBoundary]);\n};\nconst getHasError = ({\n  result,\n  errorResetBoundary,\n  useErrorBoundary,\n  query\n}) => {\n  return result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(useErrorBoundary, [result.error, query]);\n};\n\nexport { ensurePreventErrorBoundaryRetry, getHasError, useClearResetErrorBoundary };\n//# sourceMappingURL=errorBoundaryUtils.mjs.map\n","const ensureStaleTime = defaultedOptions => {\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000;\n    }\n  }\n};\nconst willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nconst shouldSuspend = (defaultedOptions, result, isRestoring) => (defaultedOptions == null ? void 0 : defaultedOptions.suspense) && willFetch(result, isRestoring);\nconst fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer.fetchOptimistic(defaultedOptions).then(({\n  data\n}) => {\n  defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);\n  defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);\n}).catch(error => {\n  errorResetBoundary.clearReset();\n  defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error);\n  defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(undefined, error);\n});\n\nexport { ensureStaleTime, fetchOptimistic, shouldSuspend, willFetch };\n//# sourceMappingURL=suspense.mjs.map\n","'use client';\nimport * as React from 'react';\nimport { notifyManager } from '@tanstack/query-core';\nimport { useSyncExternalStore } from './useSyncExternalStore.mjs';\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary.mjs';\nimport { useQueryClient } from './QueryClientProvider.mjs';\nimport { useIsRestoring } from './isRestoring.mjs';\nimport { ensurePreventErrorBoundaryRetry, useClearResetErrorBoundary, getHasError } from './errorBoundaryUtils.mjs';\nimport { ensureStaleTime, shouldSuspend, fetchOptimistic } from './suspense.mjs';\n\nfunction useBaseQuery(options, Observer) {\n  const queryClient = useQueryClient({\n    context: options.context\n  });\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const defaultedOptions = queryClient.defaultQueryOptions(options); // Make sure results are optimistically set in fetching state before subscribing or updating options\n\n  defaultedOptions._optimisticResults = isRestoring ? 'isRestoring' : 'optimistic'; // Include callbacks in batch renders\n\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n  }\n\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n  }\n\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n  }\n\n  ensureStaleTime(defaultedOptions);\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n  useClearResetErrorBoundary(errorResetBoundary);\n  const [observer] = React.useState(() => new Observer(queryClient, defaultedOptions));\n  const result = observer.getOptimisticResult(defaultedOptions);\n  useSyncExternalStore(React.useCallback(onStoreChange => {\n    const unsubscribe = isRestoring ? () => undefined : observer.subscribe(notifyManager.batchCalls(onStoreChange)); // Update result to make sure we did not miss any query updates\n    // between creating the observer and subscribing to it.\n\n    observer.updateResult();\n    return unsubscribe;\n  }, [observer, isRestoring]), () => observer.getCurrentResult(), () => observer.getCurrentResult());\n  React.useEffect(() => {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, {\n      listeners: false\n    });\n  }, [defaultedOptions, observer]); // Handle suspense\n\n  if (shouldSuspend(defaultedOptions, result, isRestoring)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n  } // Handle error boundary\n\n\n  if (getHasError({\n    result,\n    errorResetBoundary,\n    useErrorBoundary: defaultedOptions.useErrorBoundary,\n    query: observer.getCurrentQuery()\n  })) {\n    throw result.error;\n  } // Handle result property usage tracking\n\n\n  return !defaultedOptions.notifyOnChangeProps ? observer.trackResult(result) : result;\n}\n\nexport { useBaseQuery };\n//# sourceMappingURL=useBaseQuery.mjs.map\n","'use client';\nimport { parseQueryArgs, QueryObserver } from '@tanstack/query-core';\nimport { useBaseQuery } from './useBaseQuery.mjs';\n\nfunction useQuery(arg1, arg2, arg3) {\n  const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  return useBaseQuery(parsedOptions, QueryObserver);\n}\n\nexport { useQuery };\n//# sourceMappingURL=useQuery.mjs.map\n","'use client';\nimport { useSyncExternalStore as useSyncExternalStore$1 } from 'use-sync-external-store/shim/index.js';\n\nconst useSyncExternalStore = useSyncExternalStore$1;\n\nexport { useSyncExternalStore };\n//# sourceMappingURL=useSyncExternalStore.mjs.map\n","function shouldThrowError(_useErrorBoundary, params) {\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n  if (typeof _useErrorBoundary === 'function') {\n    return _useErrorBoundary(...params);\n  }\n\n  return !!_useErrorBoundary;\n}\n\nexport { shouldThrowError };\n//# sourceMappingURL=utils.mjs.map\n"],"names":["parser","parseURLs","text","requireProtocol","lib","default","list","map","x","string","filter","y","URL","canParse","allPersonas","currentPersona","queryPersonaAvatar","querySocialIdentity","fetchJSON","queryPersonaByProfile","openDashboard","openPopupWindow","signWithPersona","hasPaymentPassword","createPersona","setCurrentPersonaIdentifier","attachProfile","setPluginMinimalModeEnabled","hasHostPermission","requestHostPermission","__setUIContext__","value","createContext","useEffect","useContext","noop","emptyPluginWrapperMethods","setWrap","setWrapperName","setWidth","PluginWrapperMethodsContext","displayName","usePluginWrapper","open","options","width","name","useMemo","isEqual","unreachable","useValueRef","ValueRefWithReady","createManager","getPluginDefine","events","activated","startDaemon","minimalMode","def","SiteAdaptor","NoManagedContext","activatedSub","on","plugins","minimalModeSub","useActivatedPluginsSiteAdaptor","minimalModeEqualsTo","result","includes","ID","visibility","useMinimalMode","bind","useNotMinimalMode","useAnyMode","useIsMinimalMode","pluginID","useActivatedPluginSiteAdaptor","find","undefined","startPluginSiteAdaptor","currentNetwork","host","id","status","enableRequirement","supports","sites","type","useSubscription","useObservableValues","subscription","getCurrentValue","asValues","subscribe","callback","event","ALL_EVENTS","createElement","ObservableMap","ObservableSet","ValueRef","PostInfoContext","PostInfoProvider","props","Provider","post","children","usePostInfoDetails","__proto__","Proxy","get","_","key","postInfo","TypeError","k","isSubscription","Object","defineProperty","configurable","WebExtensionMessage","serializer","DOMAIN_RPC","Symbol","getPluginMessage","domain","cache","has","messageCenter","serialization","set","__workaround__replaceImplementationOfCreatePluginMessage__","newImpl","Map","Environment","isEnvironment","AsyncCall","AsyncGeneratorCall","getOrUpdateLocalImplementationHMR","log","requestReplay","process","env","NODE_ENV","sendLocalStack","isBackground","ManifestBackground","__workaround__replaceIsBackground__","f","getPluginRPCInternal","starter","entry","message","rpc","create","channel","send","sendToBackgroundPage","thenable","cacheGenerator","getPluginRPC","startPluginRPC","AbortController","signal","getPluginRPCGenerator","startPluginGeneratorRPC","startPluginRPCInternal","impl","Error","delegate","sendByBroadcast","SnapshotContext","getProposalIdentifier","url","parsedURL","space","hash","split","resolveSnapshotSpacePageUrl","spaceId","resolveSnapshotProposalUrl","proposalId","useTranslation","createProxy","initValue","define","container","getPrototypeOf","setPrototypeOf","v","getOwnPropertyDescriptor","useSnapshotTrans","t","SNAPSHOT_PLUGIN_ID","webpackHot","accept","PluginSnapshotRPC","use","Request","Suspender","useProposal","proposal","fetchProposal","isStart","isEnd","getSnapshotVoteType","Vote","getScores","scores","i","choices","length","score","vote","votes","vp_by_strategy","voter","toLowerCase","push","sumBy","isSameAddress","useVotes","identifier","account","strategies","choice","Array","isArray","weight","index","Number","entries","choiceIndex","choiceIndexes","keys","totalWeight","address","authorIpfsHash","ipfs","balance","strategySymbol","symbol","params","timestamp","created","sort","a","b","useResults","powerOfChoices","_choice","voteForChoice","powerDetailOfChoices","_strategy","totalPower","results","p","power","powerDetail","inner_p","pI","percentage","c","Card","CardContent","CardHeader","Skeleton","Typography","makeStyles","memo","useRef","useState","useTransition","range","useIntersection","useStyles","theme","root","minHeight","padding","border","palette","maskColor","publicLine","margin","spacing","marginBottom","marginTop","background","white","header","borderBottom","content","display","flexDirection","boxSizing","justifyContent","alignContent","paddingBottom","title","alignItems","color","publicMain","fontWeight","fontSize","SnapshotCard","lazy","classes","ref","seen","setSeen","isPending","setTransition","ob","isIntersecting","className","variant","animation","height","sx","m","Component","Button","Box","Trans","LoadingFailCard","getDerivedStateFromError","error","state","render","isFullPluginDown","style","textAlign","i18nKey","backgroundColor","onClick","setState","retry","millify","formatCount","count","precision","lowercase","Suspense","alpha","skeleton","LoadingCard","fallback","unstable_useCacheRefresh","List","ListItem","LinearProgress","styled","linearProgressClasses","ShadowRootTooltip","TextOverflowTooltip","Parser","choiceMaxWidth","listItem","paddingLeft","paddingRight","listItemHeader","marginLeft","ratio","maxWidth","linearProgressWrap","ellipsisText","textOverflow","whiteSpace","overflow","resultButton","tooltip","arrow","StyledLinearProgress","borderRadius","publicBg","bar","Content","cx","dataForCsv","dateUtc","Date","toUTCString","plugin_snapshot_result_title","plugin_snapshot_current_result_title","as","PopperProps","disablePortal","placement","flatMap","detail","scores_by_strategy","join","parseFloat","toFixed","csv","parse","link","document","setAttribute","body","appendChild","click","removeChild","plugin_snapshot_download_report","Loading","Fail","ResultCard","generateBlockie","seed","bgcolor","toDataURL","useBlockie","Avatar","icon","common","EthereumBlockie","blockie","setBlockie","src","slice","toUpperCase","Badge","Link","formatPercentage","formatEthereumAddress","ExplorerResolver","useChainContext","maxHeight","paddingTop","scrollbarWidth","gap","badge","transform","avatarWrapper","marginRight","flexGrow","minWidth","textDecoration","shadowRootTooltip","chainId","max","badgeContent","voterAmounts","plugin_snapshot_votes_title","voteItemIter","isAverageWeight","every","fullChoiceText","target","rel","href","addressLink","dark","plugin_snapshot_votes_yourself","VotesCard","urlcat","format","formatDateTime","OpenInNew","resolveIPFS_URL","resolveResourceURL","SNAPSHOT_IPFS","field","main","avatar","info","infoColor","InfoField","div","InformationCard","start","end","snapshot","plugin_snapshot_info_title","plugin_snapshot_info_strategy","strategy","plugin_snapshot_info_author","authorAvatar","plugin_snapshot_info_ipfs","plugin_snapshot_info_start","plugin_snapshot_info_end","plugin_snapshot_info_snapshot","blockLink","parseInt","overflowY","overflowX","SnapshotTab","elevation","ProgressTab","useCallback","useCustomSnackbar","usePopupCustomSnackbar","useSharedTrans","useSnackbarCallback","opts","deps","onSuccess","onError","successText","errorText","showSnackbar","executor","args","then","res","snackbar_done","preventDuplicate","usePopupSnackbarCallback","useAsyncRetry","usePower","DialogContent","DialogActions","ActionButton","PluginWalletStatusBar","InjectedDialog","WalletConnectedBoundary","second","button","VoteConfirmDialog","onClose","onVoteConfirm","choiceText","powerSymbol","loading","plugin_snapshot_vote_confirm_dialog_title","disableBackdropClick","plugin_snapshot_vote_choice","plugin_snapshot_vote_power","offChain","expectedChainId","fullWidth","disabled","plugin_snapshot_vote","checksumAddress","useNetworkContext","NetworkPluginID","Web3","SNAPSHOT_VOTE_DOMAIN","publicThirdMain","choiceButton","buttonActive","buttons","VotingCard","choices_","setChoices_","setOpen","setLoading","messageText","from","Math","floor","now","metadata","JSON","stringify","types","data","sig","signMessage","EIP712Domain","primaryType","_err","plugin_snapshot_vote_success","plugin_snapshot_vote_failed","n","d","PLUGIN_EVM","plugin_snapshot_vote_title","plugin_snapshot_no_power","Markdown","markdown","secondaryDark","ReadMeCard","ProposalTab","ChainBoundary","MaskLightTheme","MaskTabList","useTabs","TabContext","TabPanel","Chip","Tab","ThemeProvider","Color","flex","tab","tabActive","active","success","primary","toString","boxShadow","backdropFilter","Snapshot","currentTab","onChange","tabs","Tabs","Proposal","label","plugin_snapshot_proposal","Progress","plugin_snapshot_progress","publicSecond","aria-label","expectedPluginID","ActionButtonPromiseProps","unstable_Cache","Cache","PostInspector","refresh","Icons","Stack","item1","item2","linkOutIcon","PluginDescriptor","tr","direction","plugin_card_frame_default_provided_by","plugin_card_frame_default_provided_by_value","underline","alignSelf","justifyItems","LinkOut","size","ShadowRootMenu","MenuItem","Divider","menu","bottom","mode","menuItem","itemText","itemCheckout","coinIcon","checkedIcon","group","groupName","divider","line","borderColor","position","left","SpaceMenu","currentOption","onSelect","containerRef","spaceMenuOpen","setSpaceMenuOpen","disableScrollLock","anchorEl","current","PaperProps","plugin_snapshot_space","selected","alt","span","spaceName","CheckCircle","useCurrentAccountFollowSpaceList","getFollowingSpaceIdList","IconButton","lineHeight","followersCount","spaceInfo","currentSpace","arrowIcon","joinButton","ProfileSpaceHeader","spaceList","setSpaceIndex","spaceRef","followedSpaceList","section","component","isVerified","Verification","ArrowDrop","plugin_snapshot_space_info_followers_count","window","plugin_snapshot_space_view","plugin_snapshot_space_join","ContentTabs","All","Active","Core","Pending","Closed","EMPTY_LIST","useProposalList","strategyName","getProposalListBySpace","useSpace","getSpace","ProfileCard","i18NextInstance","formatElapsedPure","started","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","round","useCurrentAccountVote","totalVotes","getCurrentAccountVote","startCase","useTheme","useReverseAddress","useWeb3Others","formatElapsed","useIntersectionObserver","openWindow","cursor","bg","authorInfo","author","wordBreak","warn","blockieIcon","WebkitLineClamp","WebkitBoxOrient","date","voteList","voteItem","selectedVoteItem","voteName","voteIcon","voteInfo","myVote","myVoteText","ProfileProposalList","proposalList","ProfileProposalListItem","isViewed","setIsViewed","intersectionRatio","ProfileProposalListItemHeader","ProfileProposalListItemBody","ProfileProposalListItemVote","Others","formatAddress","plugin_snapshot_proposal_not_start","plugin_snapshot_proposal_ended","plugin_snapshot_proposal_started","currentAccountVote","Check","choicesWithScore","plugin_snapshot_my_vote","scores_total","LoadingBase","MaskDarkTheme","PluginCardFrameMini","PluginEnableBoundary","PluginID","skeletonContent","tabListRoot","iconSnapshot","ProfileView","ProfileCardProps","setTab","spaceIndex","isMinimalMode","loadingSpaceMemberList","loadingProposalList","startTransition","filteredProposalList","members","px","values","mt","EmptySimple","plugin_snapshot_proposal_no_results","base","SearchResultType","extractTextFromTypedMessage","isSnapshotURL","test","Renderer","fallbackUI","fill","site","init","DecryptedInspector","isNone","links","mentionedLinks","ApplicationEntries","ApplicationEntryID","category","description","ns","tutorialLink","marketListSortingPriority","wrapperProps","backgroundGradient","SearchResultInspector","UI","resultList","Utils","shouldDisplay","DAO","features","flags","behaviors","opener","referrer","isFinite","screenX","screenY","useQuery","usePersistSubscription","persistKey","predicate","initialValue","refetch","queryKey","networkMode","queryFn","createConstantSubscription","ZERO","UNDEFINED","EMPTY_STRING","EMPTY_ARRAY","EMPTY_ENTRY","TRUE","FALSE","NULL","compose","last","pop","Boolean","reduceRight","prev","fn","WeakMap","localImpl","useWeb3State","useAllowTestnet","Settings","allowTestnet","React","useAsyncFn","delay","useNetworkDescriptor","useChainIdValid","RevokeChainContextProvider","useWeb3Connection","ProviderType","WalletIcon","SelectProviderModal","black","connectWallet","ChainBoundaryWithoutContext","expectedAccount","actualNetworkPluginID","switchText","forceShowingWrongNetworkButton","disableConnectWallet","actualPluginID","actualChainId","providerType","actualProviderType","expectedOthers","expectedAllowTestnet","chainIdValid","expectedChainName","chainResolver","chainName","expectedNetworkDescriptor","expectedChainAllowed","isValidChainId","isPluginIDMatched","isMatched","onSwitchChain","WalletConnect","switchChain","plugin_wallet_switch_network_title","processing","plugin_wallet_unsupported_chain","network","autoHideDuration","plugin_wallet_switch_chain_failed","renderBox","tips","hiddenConnectButton","startIcon","Wallet","plugin_wallet_wrong_network","plugin_wallet_connect_a_wallet","switchButton","mainIcon","plugin_wallet_change_wallet","plugin_wallet_connect_tips","plugin_wallet_not_support_network","plugin_wallet_switch_network","useCopyToClipboard","copy","CopyButton","scoped","copyToClipboard","copied","setCopied","setActive","timerRef","handleCopy","ev","stopPropagation","preventDefault","clearTimeout","setTimeout","tooltipTitle","iconProps","disableInteractive","Copy","statusBox","LoadingStatus","omitText","iconSize","rest","web3Icon","provider","providerLink","PluginName","Web3Profile","plugin_card_frame_default_title","plugin_card_frame_loading","onEnablePlugin","enable_plugin_boundary_description","Plugin","enable_plugin_boundary","useRiskWarningApproved","RiskWarning","approved","isZero","useNativeTokenBalance","useWallet","useAsync","SmartPayBundler","WalletRiskWarningModal","hideRiskWarningConfirmed","wallet","smartPayChainId","getSupportedChainId","nativeTokenBalance","buttonClass","ActionButtonProps","plugin_wallet_confirm_risk_warning","owner","plugin_wallet_update_gas_fee","plugin_wallet_no_gas_fee","plugin_wallet_invalid_network","ImageIcon","badgeIcon","right","badgeIconBorderColor","badgeSize","iconFilterColor","Sniffings","Action","openSelectWalletDialog","columnGap","is_popup_page","wallet_status_button_change","MaskColorVar","useProviderDescriptor","useRecentTransactions","NetworkContextProvider","TransactionStatusType","WalletDescription","WalletStatusModal","is_dashboard_page","mainBackground","connection","PluginWalletStatusBarWithoutContext","requiredSupportChainIds","requiredSupportPluginID","providerDescriptor","networkDescriptor","openSelectProviderDialog","pendingTransactions","NOT_DEPEND","walletName","MaskWallet","pending","providerIcon","networkIcon","formattedAddress","explorerResolver","onPendingClick","progress","linkIcon","verified","e","recent_transaction_pending","SingletonModal","WalletConnectQRCodeModal","ConnectWalletModal","LeavePageConfirmModal","ApplicationBoardModal","ApplicationBoardSettingsModal","GasSettingModal","TransactionConfirmModal","TransactionSnackbar","ConfirmModal","ConfirmDialog","SelectNonFungibleContractModal","SelectGasSettingsModal","AddCollectiblesModal","SelectFungibleTokenModal","PersonaSelectPanelModal","ShareSelectNetworkModal","ApplicationSettingTabs","LightColor","primaryContrastText","secondary","secondaryContrastText","input","primaryBackground","primaryBackground2","secondaryBackground","lightBackground","suspensionBackground","normalBackground","twitterBackground","twitterBackgroundHover","twitterInputBackground","twitterButton","twitterButtonText","twitterBlue","twitterBorderLine","twitterSecond","twitterMain","twitterBottom","twitterInfoBackground","twitterInfo","twitterBg","twitterTooltipBg","twitterInput","twitterLine","redMain","redLight","redContrastText","greenMain","greenLight","orangeMain","orangeLight","iconLight","borderSecondary","textPrimary","textSecondary","secondaryInfoText","normalText","normalTextLight","infoBackground","warning","blue","textLink","lineLight","lineLighter","textLight","lightestBackground","linkText","twitter","facebook","errorBackground","tooltipBackground","warningBackground","cyberconnectPrimary","errorPlugin","buttonPluginBackground","textPluginColor","buttonPluginColor","DarkColor","kebabCase","getMaskColor","cssVar","defaultValue","assign","toPrimitive","enumerable","opacity","pointerEvents","disableElevation","forwardRef","keyframes","SnackbarProvider","useSnackbar","SnackbarContent","Close","CloseIcon","Warning","WarningIcon","Info","InfoIcon","usePortalShadowRoot","PopupSnackbarProvider","offsetY","classNames","spinningAnimationKeyFrames","outline","defaultVariant","danger","zIndex","flexWrap","spinning","action","closeButton","texts","IconMap","SuccessForSnackBar","TransactionFailed","CustomSnackbarContent","snackbar","loadingIcon","CircleLoading","variantIcon","renderedAction","closeSnackbar","CustomSnackbarProvider","onDismiss","maxSnack","disableWindowBlurListener","anchorOrigin","vertical","horizontal","hideIconVariant","containerRoot","variantSuccess","variantError","variantInfo","variantWarning","domRoot","enqueueSnackbar","BaseTabWrap","shouldForwardProp","prop","BaseTab","handleClick","String","role","aria-selected","FlexibleTabTabWrap","flexShrink","highlight","FlexibleTab","isVisitable","visitable","getBoundingClientRect","top","RoundTabWrap","RoundTab","ButtonGroup","useTabContext","getPanelId","getTabId","Children","isValidElement","useImperativeHandle","ArrowBackIosNew","ArrowBackIosNewIcon","useClickAway","useWindowSize","defaultTabSize","ArrowButtonWrap","ArrowBackIosNewIconWrap","FlexibleButtonGroupPanel","isOpen","ButtonGroupWrap","maskVariant","FlexButtonGroupWrap","isOverflow","tabMapping","flexible","context","handleToggle","isTabsOverflow","setIsTabsOverflow","firstId","setFirstTabId","innerRef","anchorRef","flexPanelRef","hideArrowButton","scrollWidth","clientWidth","child","extra","anchor","C","flexibleTabs","pointerX","pointerY","arrowButton","aria-controls","aria-expanded","aria-haspopup","Menu","createShadowRootForwardedComponent","defaultTab","possibleTabs","tabRecords","forEach","isCurrentTabAvailable","createIsType","isTypedMessageImage","makeTypedMessageImage","image","meta","serializable","isTypedMessagePromise","makeTypedMessagePromise","promise","getPromiseWithStatus","Promise","resolve","defineProperties","reason","isTypedMessageTextV1","isTypedMessageText","makeTypedMessageText","version","isSerializableTypedMessage","composeEvery","isTypedMessageTuple","isTypedMessageTupleSerializable","makeTypedMessageTuple","items","makeTypedMessageTupleFromList","makeTypedMessageTupleSerializable","makeTypedMessageSerializableTupleFromList","isTypedMessageMaskPayload","makeTypedMessageMaskPayload","isTypedMessageAnchor","makeTypedMessageAnchor","postImage","Some","None","forEachTypedMessageChild","visitor","linkAsText","extractImageFromTypedMessage","isNonSerializableTypedMessageWithAlt","isTypedMessageEqual","message1","message2","composeSome","fns","some","node","stop","each","useAccount","defaultAccount","useDefaultChainId","useChainId","defaultChainId","useProviderType","defaultProviderType","isUndefined","omitBy","getSiteType","pluginIDsSettings","Providers","useLocation","ReadonlyNetworkContext","NetworkContext","ChainContext","ReadonlyNetworkContextProvider","setPluginID","ChainContextProvider","controlled","globalAccount","globalChainId","globalProviderType","maskProvider","maskAccount","maskChainId","_account","setAccount","_chainId","setChainId","_providerType","setProviderType","location","is_popup_wallet_page","Web3ContextProvider","RevokeNetworkContextProvider","DefaultWeb3ContextProvider","contextValue","RootWeb3ContextProvider","pluginIDs","useEnvironmentContext","overrides","ChainId","EVM_ChainId","FlowChainId","SolanaChainId","DEFAULT_CHAIN_ID","Mainnet","PLUGIN_FLOW","PLUGIN_SOLANA","getDefaultChainId","getNativeTokenBalance","getRegisteredWeb3Networks","expectedChainIdOrNetworkTypeOrID","networkType","getRegisteredWeb3Providers","expectedProviderTypeOrID","Transaction","transactions","_tx","candidates","indexId","useWallets","wallets","w","createdAt","updatedAt","timestampA","getTime","timestampB","numA","numB","isNaN","Web3All","OthersAll","getActivatedPluginWeb3State"],"sourceRoot":"","x_google_ignoreList":[17,18,19,20,21,22,23,24,25,26,79,80,84,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141]}