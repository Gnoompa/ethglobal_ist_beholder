{"version":3,"file":"bundled/chunk.2782.js","mappings":"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","sources":["webpack://mask-network/./packages/mask/shared-ui/hooks/useThemeLanguage.ts","webpack://mask-network/./packages/plugin-infra/src/dom/useTrans.tsx","webpack://mask-network/./packages/shared-base-ui/src/components/ErrorBoundary/context.tsx","webpack://mask-network/./packages/shared/src/constants.tsx","webpack://mask-network/./packages/theme/src/CSSVariables/Injector.tsx","webpack://mask-network/./packages/theme/src/Components/Dialogs/DialogStack.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/Portal.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootStyleSheet.ts","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootStyleProvider.tsx","webpack://mask-network/./packages/theme/src/Theme/Provider.tsx","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/cjs/react-is.production.min.js","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/index.js","webpack://mask-network/./node_modules/.pnpm/unstated-next@1.1.0/node_modules/unstated-next/dist/unstated-next.mjs"],"sourcesContent":["import { LanguageOptions, SupportedLanguages } from '@masknet/public-api'\nimport { jaJP, koKR, zhTW, zhCN, enUS, type Localization } from '@mui/material/locale/index.js'\nimport { updateLanguage } from '@masknet/shared-base'\nimport { startTransition, useEffect } from 'react'\n\nconst langs: Record<SupportedLanguages, Localization> = {\n    [SupportedLanguages.enUS]: enUS,\n    [SupportedLanguages.jaJP]: jaJP,\n    [SupportedLanguages.koKR]: koKR,\n    [SupportedLanguages.zhTW]: zhTW,\n    [SupportedLanguages.zhCN]: zhCN,\n}\nexport function useThemeLanguage(language: LanguageOptions): [loc: Localization, RTL: boolean] {\n    useEffect(() => {\n        if (language !== LanguageOptions.__auto__) return\n        startTransition(() => updateLanguage(language))\n    }, [language])\n\n    if (language === LanguageOptions.__auto__) {\n        // we've scheduled an update above.\n        language = LanguageOptions.enUS\n    }\n\n    const displayLanguage = language as any as SupportedLanguages\n    return [langs[displayLanguage] || enUS, false]\n}\n","import { useTranslation } from 'react-i18next'\nimport type { I18NFieldOrReactNode, I18NStringField } from '../types.js'\n\nexport interface PluginTransFieldRenderProps {\n    field: I18NFieldOrReactNode\n    pluginID: string\n}\nexport function PluginTransFieldRender({ pluginID, field }: PluginTransFieldRenderProps) {\n    const [t] = useTranslation()\n    if (!field) return null\n    if (typeof field === 'object' && 'fallback' in field) {\n        if (field.i18nKey) {\n            const translate = t(field.i18nKey, { ns: pluginID, nsSeparator: '%%%', defaultValue: field.fallback })\n            return <>{translate}</>\n        }\n        return <>{field.fallback}</>\n    }\n    return <>{field}</>\n}\nexport function usePluginTransField() {\n    const [t] = useTranslation()\n    return function (pluginID: string, field: I18NStringField) {\n        if (!field.i18nKey) return field.fallback\n        if (!field.i18nKey.startsWith('__')) {\n            /**\n             * This field is used in the definition of a plugin in form of\n             * { fallback: \"Text\", i18nKey: \"name\" }\n             *\n             * Which is highly not likely to be analyzed by the type system.\n             * Enforce those key to starts with __, we can exclude those keys\n             * from the unused key result to keep the functionality of the analyzer.\n             */\n            console.warn(\n                `[@masknet/plugin-infra] Plugin ${pluginID} uses i18n key ${field.i18nKey}. Please change it to __${field.i18nKey}.`,\n            )\n            return field.fallback\n        }\n        return t(field.i18nKey, { ns: pluginID, nsSeparator: '%%%', defaultValue: field.fallback })\n    }\n}\n","import { createContext, useContext, useRef } from 'react'\nimport type { BuildInfoFile } from '@masknet/flags'\nimport { useBuildInfo_raw } from '../../index.js'\nexport interface ErrorBoundaryError {\n    /** Type of the Error */\n    type: string\n    /** The Error message */\n    message: string\n    /** The error stack */\n    stack: string\n}\n/**\n * Provide the build info for CrashUI\n */\nconst BuildInfo = createContext<() => BuildInfoFile>(useBuildInfo_raw)\nBuildInfo.displayName = 'BuildInfo'\n\nexport function BuildInfoProvider(props: React.PropsWithChildren<{ value: () => BuildInfoFile }>) {\n    return <BuildInfo.Provider {...props} />\n}\nexport function useBuildInfo() {\n    return useRef(useContext(BuildInfo)).current()\n}\nexport function useBuildInfoMarkdown() {\n    const env = useBuildInfo()\n    const gitInfo = env.COMMIT_HASH\n        ? `\n## Git (${env.DIRTY ? '*' : ''}):\n${env.COMMIT_HASH} (${env.BRANCH_NAME})`\n        : ''\n\n    const buildInfoMarkdown =\n        `## Build info\n- Version: ${env.VERSION || 'unknown'}\n- NODE_ENV: ${process.env.NODE_ENV || 'unknown'}\n- userAgent: ${navigator.userAgent}\n- build: ${env.channel || 'unknown'}\n- BUILD_DATE: ${env.BUILD_DATE || 'unknown'}\n` + gitInfo\n    return buildInfoMarkdown\n}\n","import type { ReactNode } from 'react'\nimport { Icons, type GeneratedIcon } from '@masknet/icons'\nimport { EnhanceableSite } from '@masknet/shared-base'\n\nexport const SOCIAL_MEDIA_ICON_MAPPING: Record<EnhanceableSite | string, ReactNode> = {\n    [EnhanceableSite.Twitter]: <Icons.TwitterX />,\n    [EnhanceableSite.Facebook]: <Icons.FacebookColored />,\n    [EnhanceableSite.Minds]: <Icons.Minds />,\n    [EnhanceableSite.Instagram]: <Icons.InstagramColored />,\n    [EnhanceableSite.OpenSea]: <Icons.OpenSeaColored />,\n    [EnhanceableSite.Mirror]: <Icons.Mirror />,\n    [EnhanceableSite.Localhost]: null,\n}\n\nexport const SOCIAL_MEDIA_ROUND_ICON_MAPPING: Record<EnhanceableSite | string, GeneratedIcon | null> = {\n    [EnhanceableSite.Twitter]: Icons.TwitterXRound,\n    [EnhanceableSite.Facebook]: Icons.FacebookRound,\n    [EnhanceableSite.Minds]: Icons.MindsRound,\n    [EnhanceableSite.Instagram]: Icons.InstagramRoundColored,\n    [EnhanceableSite.OpenSea]: Icons.OpenSeaColored,\n    [EnhanceableSite.Mirror]: Icons.Mirror,\n    [EnhanceableSite.Localhost]: null,\n}\n\nexport enum RSS3_NFT_SITE_KEY {\n    TWITTER = '_nfts',\n    FACEBOOK = '_facebook_nfts',\n    INSTAGRAM = '_instagram_nfts',\n}\n\nexport const EnhanceableSite_RSS3_NFT_SITE_KEY_map: Partial<Record<EnhanceableSite, RSS3_NFT_SITE_KEY>> = {\n    [EnhanceableSite.Facebook]: RSS3_NFT_SITE_KEY.FACEBOOK,\n    [EnhanceableSite.Twitter]: RSS3_NFT_SITE_KEY.TWITTER,\n    [EnhanceableSite.Instagram]: RSS3_NFT_SITE_KEY.INSTAGRAM,\n}\n\nexport const PERSONA_AVATAR_DB_NAMESPACE = 'com.maskbook.persona.avatar.storage'\n\nexport enum PopupHomeTabType {\n    SocialAccounts = 'Social Accounts',\n    ConnectedWallets = 'Connected Wallets',\n}\n","import { GlobalStyles, type Theme, useTheme } from '@mui/material'\nimport { useRef } from 'react'\nimport { CSSVariableInjectorCSS } from './applyToDOM.js'\n\nexport interface CSSVariableInjectorProps extends React.PropsWithChildren<{}> {\n    useTheme?: () => Theme\n}\nexport function CSSVariableInjector(props: CSSVariableInjectorProps) {\n    const { current: useConsistentTheme } = useRef(props.useTheme || useTheme)\n    const colorScheme = useConsistentTheme().palette.mode\n\n    return <GlobalStyles styles={CSSVariableInjectorCSS(colorScheme)} />\n}\n","import { useRef, useContext, createContext, useState, useMemo, useLayoutEffect } from 'react'\nimport { type DialogProps } from '@mui/material'\nimport { noop } from 'lodash-es'\n\ninterface StackContext {\n    stack: readonly string[]\n    push(id: string): void\n    pop(id: string): void\n    setParent(selfID: string, parentID: string | null): () => void\n    hasGlobalBackdrop: boolean\n}\nconst DialogStackingContext = createContext<StackContext>({\n    stack: [],\n    push: noop,\n    pop: noop,\n    setParent: () => noop,\n    hasGlobalBackdrop: false,\n})\nDialogStackingContext.displayName = 'DialogStackingContext'\n\nconst DialogHierarchyContext = createContext<string | null>(null)\nDialogHierarchyContext.displayName = 'DialogHierarchyContext'\n\n/**\n * If you're using <Dialog> on its own and you want to support DialogStack, please use this hook.\n *\n * Your dialog component MUST support the following attributes with the same semantics with MUI Dialog component.\n *\n * - disableEscapeKeyDown\n * - disableScrollLock\n * - hideBackdrop\n * - style\n * - aria-hidden\n * - open\n * - transitionDuration\n * @example\n * function SomeComponent() {\n *     const [open, setOpen] = useState(false)\n *     const { shouldReplaceExitWithBack, extraProps, TrackDialogHierarchy } = useDialogStackConsumer(open)\n *     return <TrackDialogHierarchy>\n *         <button onClick={() => setOpen(true)}></button>\n *         <Dialog open={open} {...extraProps}>\n *             You MUST hide Close button and and BackButton based on the value of `shouldReplaceExitWithBack`\n *         </Dialog>\n *     </TrackDialogHierarchy>\n * }\n */\nexport function useDialogStackActor(open: boolean): useDialogStackActorReturn {\n    const selfID = useRef('' + Math.random()).current\n    const { pop, push, stack, setParent, hasGlobalBackdrop } = useContext(DialogStackingContext)\n\n    // children's useEffect will run before parent's useEffect.\n    // when the hierarchy is A > B and they are both open,\n    // the stack will be [\"B\", \"A\"] (B pushed into the stack first.)\n    // we need to notify the context the react component tree hierarchy to order them correctly.\n    const parentID = useContext(DialogHierarchyContext)\n    useLayoutEffect(() => setParent(selfID, parentID), [parentID])\n\n    useLayoutEffect(() => {\n        open ? push(selfID) : pop(selfID)\n        return () => pop(selfID)\n    }, [open])\n\n    const TrackDialogHierarchy = (useRef<useDialogStackActorReturn['TrackDialogHierarchy']>(null!).current ??=\n        function TrackDialogHierarchy({ children }) {\n            return <DialogHierarchyContext.Provider value={selfID}>{children}</DialogHierarchyContext.Provider>\n        })\n\n    const returnVal: useDialogStackActorReturn = {\n        shouldReplaceExitWithBack: stack.length > 1,\n        extraProps: { open },\n        TrackDialogHierarchy,\n    }\n    if (hasGlobalBackdrop) returnVal.extraProps.hideBackdrop = true\n    if (stack.length > 1) returnVal.extraProps.transitionDuration = 0\n\n    if (!open) return returnVal\n    if (stack.at(-1) !== selfID) {\n        returnVal.extraProps = {\n            ...returnVal.extraProps,\n            disableEscapeKeyDown: true,\n            disableScrollLock: true,\n            hideBackdrop: true,\n            hidden: true,\n            style: { visibility: 'hidden' },\n            'aria-hidden': true,\n        }\n    }\n    return returnVal\n}\n\nexport interface useDialogStackActorReturn {\n    shouldReplaceExitWithBack: boolean\n    extraProps: DialogProps\n    TrackDialogHierarchy: React.ComponentType<React.PropsWithChildren<{}>>\n}\n\nexport interface DialogStackingProviderProps extends React.PropsWithChildren<{}> {\n    hasGlobalBackdrop?: boolean\n}\n\n/**\n * This Provider can turn any `MaskDialog` or `InjectedDialog` in the subtree into a unified dialog.\n *\n * For example:\n *\n * ```tsx\n * <DialogStackingProvider>\n *    <Dialog1>\n *        <Dialog2></Dialog2>\n *    </Dialog1>\n *    <Dialog3></Dialog3>\n * </DialogStackingProvider>\n * ```\n *\n * When Dialog1 and Dialog2 both opened, only Dialog2 will be visible and the left top button\n * becomes \"BackArrow\".\n */\nexport function DialogStackingProvider(props: DialogStackingProviderProps) {\n    const [stack, setStack] = useState<readonly string[]>([])\n    const [hierarchy, setHierarchy] = useState<Hierarchy>({})\n    const context = useMemo((): StackContext => {\n        const sortedStack = sortStackByHierarchy(hierarchy, stack)\n        return {\n            hasGlobalBackdrop: props.hasGlobalBackdrop || false,\n            stack: sortedStack,\n            // Note: the following methods MUST NOT use stack or hierarchy out of the useState callback.\n            setParent(child, parent) {\n                if (!parent) return noop\n                setHierarchy((hierarchy) => {\n                    if (hierarchy[parent]?.has(child)) return hierarchy\n                    const newSet = new Set(hierarchy[parent] || [])\n                    newSet.add(child)\n                    return { ...hierarchy, [parent]: newSet }\n                })\n\n                return () => {\n                    setHierarchy((hierarchy) => {\n                        const newSet = new Set(hierarchy[parent])\n                        newSet.delete(child)\n                        return { ...hierarchy, [parent]: newSet }\n                    })\n                }\n            },\n            pop(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack.filter((x) => x !== id) : stack))\n            },\n            push(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack : stack.concat(id)))\n            },\n        }\n    }, [stack, hierarchy, props.hasGlobalBackdrop])\n    return <DialogStackingContext.Provider value={context}>{props.children}</DialogStackingContext.Provider>\n}\n\nexport function useDialogStacking() {\n    return useContext(DialogStackingContext)\n}\n\ntype Hierarchy = {\n    readonly [parent: string]: undefined | ReadonlySet<string>\n}\nfunction sortStackByHierarchy(hierarchy: Hierarchy, stack: readonly string[]): readonly string[] {\n    if (stack.length <= 1) return stack\n    const last = stack.at(-1)!\n    const children = hierarchy[last]\n    if (!children?.size) return stack\n    for (const child of children) {\n        if (stack.includes(child)) return sortStackByHierarchy(hierarchy, [last].concat(stack.slice(0, -1)))\n    }\n    return stack\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { useRef, forwardRef, useContext } from 'react'\nimport { Flags } from '@masknet/flags'\nimport type { PopperProps } from '@mui/material'\nimport {\n    DisableShadowRootContext,\n    PreventShadowRootEventPropagationListContext,\n    stopPropagation,\n    StyleSheetsContext,\n} from './Contexts.js'\nimport { ref } from './ShadowRootSetup.js'\n\n/**\n * Render to a React Portal in to the page needs this hook. It will provide a wrapped container that provides ShadowRoot isolation and CSS support for it.\n *\n * The return value can only be used once!\n * @param renderer A function that want to use PortalShadowRoot\n * @example\n * const picker = usePortalShadowRoot((container) => (\n *      <DatePicker\n *          DialogProps={{ container }}\n *          PopperProps={{ container }}\n *          value={new Date()}\n *          onChange={() => {}}\n *          renderInput={(props) => <TextField {...props} />}\n *      />\n * ))\n */\nexport function usePortalShadowRoot<T>(renderer: (container: HTMLElement | undefined) => T, debugKey?: string): T {\n    const disabled = useRef(useContext(DisableShadowRootContext)).current\n    // we ignore the changes on DisableShadowRootContext during multiple render\n    // so we can violates the React hooks rule and still be safe.\n    if (disabled) return renderer(undefined)\n\n    const sheet = useContext(StyleSheetsContext)\n    const signal = useRef<AbortController | null>(null)\n    const preventEventPropagationList = useContext(PreventShadowRootEventPropagationListContext)\n    const container = useRefInit(() => {\n        signal.current = new AbortController()\n        const portal = ref.portalContainer\n\n        const root = document.createElement('div')\n        root.dataset.portalShadowRoot = debugKey || ''\n        const shadow = root.attachShadow(Flags.shadowRootInit)\n\n        for (const each of preventEventPropagationList) {\n            shadow.addEventListener(each, stopPropagation, { signal: signal.current.signal })\n        }\n\n        const container = shadow.appendChild(document.createElement('main'))\n\n        sheet.addContainer(shadow)\n\n        // This is important to make the portal orders correct.\n        Object.defineProperty(container, 'appendChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                if (!root.parentElement) portal.appendChild(root)\n                Node.prototype.appendChild.call(container, child)\n                return child\n            },\n        })\n        Object.defineProperty(container, 'removeChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                Node.prototype.removeChild.call(container, child)\n                if (container.childElementCount === 0) portal.removeChild(root)\n                return child\n            },\n        })\n\n        return container\n    })\n\n    return renderer(container)\n}\n\nexport function createShadowRootForwardedComponent<\n    T extends {\n        container?: Element | (() => Element | null) | null | undefined\n        open: boolean\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => <Component container={container} {...props} ref={ref} />)\n    }) as any as typeof Component\n}\n\nexport function createShadowRootForwardedPopperComponent<\n    T extends {\n        PopperProps?: Partial<PopperProps>\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => {\n            return <Component {...props} PopperProps={{ container, ...props.PopperProps }} ref={ref} />\n        })\n    }) as any as typeof Component\n}\n\nfunction useRefInit<T>(f: () => T): T {\n    const ref = useRef<T>(undefined!)\n    if (!ref.current) ref.current = f()\n    return ref.current\n}\n","/// <reference types=\"@masknet/global-types/firefox\" />\n/// <reference types=\"@masknet/global-types/env\" />\n\nconst shadowHeadMap = new WeakMap<ShadowRoot, HTMLHeadElement>()\n\n// There are 2 rendering mode of this ShadowRootStyleSheet.\n// 1. If the host supports ConstructableStyleSheet proposal:\n//      It is the fastest but only Chrome supports it.\n// 2. style tags that being synchronize between all ShadowRoot.\n//      See https://github.com/emotion-js/emotion/blob/main/packages/sheet/src/index.js\n//      Note: We cannot use .sheet.insertRule (so called \"speedy mode\") because in our app,\n//            the host of a ShadowRoot might be detached from the DOM and reattach to another place,\n//            when a <style> tag is disconnected from the DOM, it's CSSStyleSheet object will be dropped.\nexport class StyleSheet {\n    // Unlucky, emotion will create it's own StyleSheet and use isSpeedy, tags, keys and container for Global components.\n    readonly tags: any = []\n    readonly container = document.createElement('div')\n    readonly isSpeedy = false\n    readonly key: string\n    constructor(options: { key: string; container: HTMLElement | ShadowRoot }) {\n        this.key = options.key\n        if (options.container instanceof ShadowRoot) {\n            this.implementation =\n                'adoptedStyleSheets' in Document.prototype ? new ConstructableStyleSheet() : new SynchronizeStyleSheet()\n            this.addContainer(options.container)\n            Reflect.set(this.container, 'sheet', this)\n        } else {\n            // global style\n            const un_global = Reflect.get(options.container, 'sheet')\n            if (!(un_global instanceof StyleSheet)) throw new TypeError()\n\n            // A hack to the emotion StyleSheet\n            // eslint-disable-next-line no-constructor-return\n            return {\n                tags: [],\n                key: options.key,\n                insert: un_global.implementation.insertGlobal.bind(un_global.implementation),\n                flush: un_global.implementation.flushGlobal.bind(un_global.implementation),\n            } as any\n        }\n    }\n    addContainer(container: ShadowRoot) {\n        this.implementation.addContainer(container, this.key)\n    }\n    hydrate() {\n        throw new Error('Does not support SSR.')\n    }\n    insert(rule: string) {\n        if (process.env.NODE_ENV !== 'production') {\n            const isImportRule = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105\n            if (isImportRule && this._alreadyInsertedOrderInsensitiveRule) {\n                // this would only cause problem in speedy mode\n                // but we don't want enabling speedy to affect the observable behavior\n                // so we report this error at all times\n                console.error(\n                    \"You're attempting to insert the following rule:\\n\" +\n                        rule +\n                        '\\n\\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.',\n                )\n            }\n\n            this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule\n        }\n        this.implementation.insert(rule)\n    }\n    flush() {\n        this.implementation.flush()\n        this._alreadyInsertedOrderInsensitiveRule = false\n    }\n    private implementation!: ConstructableStyleSheet | SynchronizeStyleSheet\n    private _alreadyInsertedOrderInsensitiveRule = false\n}\n\nclass ConstructableStyleSheet {\n    private sheet = new CSSStyleSheet()\n    private globalSheet = new CSSStyleSheet()\n    private added = new WeakSet<ShadowRoot>()\n    addContainer(container: ShadowRoot) {\n        if (this.added.has(container)) return\n        this.added.add(container)\n\n        if (typeof XPCNativeWrapper === 'undefined') {\n            // push & unshift crashes Chrome 103. Not tested on other versions.\n            container.adoptedStyleSheets = [this.globalSheet, ...container.adoptedStyleSheets, this.sheet]\n        } else {\n            // assignment does not work on Firefox 102. Not tested on other versions.\n            const unsafe = XPCNativeWrapper.unwrap(container.adoptedStyleSheets)\n            Array.prototype.unshift.call(unsafe, XPCNativeWrapper.unwrap(this.globalSheet))\n            Array.prototype.push.call(unsafe, XPCNativeWrapper.unwrap(this.sheet))\n        }\n    }\n    insert(rule: string) {\n        insertRuleSpeedy(this.sheet, rule)\n    }\n    insertGlobal(rule: string) {\n        insertRuleSpeedy(this.globalSheet, rule)\n    }\n    flush() {\n        this.sheet.replaceSync('')\n    }\n    flushGlobal() {\n        this.globalSheet.replaceSync('')\n    }\n}\nclass SynchronizeStyleSheet {\n    private ctr = 0\n    private containers = new Map<ShadowRoot, HTMLDivElement>()\n    addContainer(container: ShadowRoot, tag: string) {\n        if (this.containers.has(container)) return\n\n        // setup tags\n        const head = getShadowRootHead(container)\n        const localContainer = document.createElement('div')\n        localContainer.dataset.styleContainer = tag\n        head.appendChild(localContainer)\n        this.containers.set(container, localContainer)\n\n        {\n            const style = createStyleElement()\n            style.dataset.globalStyleOf = tag\n            head.insertBefore(style, head.firstChild)\n            this.globalStyles.set(container, style)\n        }\n\n        // copy styles\n        const first = this.containers.entries().next()\n        if (first.done) return // there is no previous styles. we are done.\n\n        const frag = document.createDocumentFragment()\n        for (const x of first.value[1].children) {\n            frag.appendChild(x.cloneNode(true))\n        }\n        localContainer.appendChild(frag)\n    }\n    insert(rule: string) {\n        if (this.ctr % 25 === 0) {\n            this._insertTag()\n        }\n\n        for (const container of this.containers.values()) {\n            const tag = container.lastElementChild!\n            tag.appendChild(document.createTextNode(rule))\n        }\n        this.ctr += 1\n    }\n    insertGlobal(rule: string) {\n        for (const style of this.globalStyles.values()) {\n            style.appendChild(document.createTextNode(rule))\n        }\n    }\n    flush() {\n        for (const container of this.containers.values()) {\n            for (const tag of container.children) {\n                tag.remove()\n            }\n        }\n        this.ctr = 0\n    }\n    flushGlobal() {\n        this.globalStyles.forEach((x) => (x.innerText = ''))\n    }\n    private _insertTag = () => {\n        for (const container of this.containers.values()) {\n            container.appendChild(createStyleElement())\n        }\n    }\n    private globalStyles = new Map<ShadowRoot, HTMLStyleElement>()\n}\n\nfunction getShadowRootHead(shadow: ShadowRoot) {\n    if (!shadowHeadMap.has(shadow)) {\n        const head = document.createElement('head')\n        shadowHeadMap.set(shadow, head)\n        shadow.insertBefore(head, shadow.firstChild)\n    }\n    return shadowHeadMap.get(shadow)!\n}\n\nfunction createStyleElement(): HTMLStyleElement {\n    const tag = document.createElement('style')\n    tag.appendChild(document.createTextNode(''))\n    return tag\n}\nfunction insertRuleSpeedy(sheet: CSSStyleSheet, rule: string) {\n    try {\n        sheet.insertRule(rule, sheet.cssRules.length)\n    } catch (error) {\n        if (\n            process.env.NODE_ENV !== 'production' &&\n            // cspell:ignore focusring\n            !/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand){/.test(\n                rule,\n            )\n        ) {\n            console.error(`There was a problem inserting the following rule: \"${rule}\"`, error)\n        }\n    }\n}\n","import { useContext, useEffect } from 'react'\nimport createEmotionCache, { type EmotionCache } from '@emotion/cache'\nimport { CacheProvider as EmotionCacheProvider } from '@emotion/react'\nimport { StyleSheet } from './ShadowRootStyleSheet.js'\nimport { PreventShadowRootEventPropagationListContext, stopPropagation, StyleSheetsContext } from './Contexts.js'\n\ninterface ShadowRootStyleProviderProps extends React.PropsWithChildren<{}> {\n    shadow: ShadowRoot\n    preventPropagation: boolean\n}\n/**\n * @internal\n * This component provide the modified version of tss-react and emotion context,\n * therefore styles within this component can render correctly in ShadowRoot.\n *\n * This component is used to render inside a bare ShadowRoot.\n * If you need a nested ShadowRoot render, use ShadowRootIsolation.\n */\nexport function ShadowRootStyleProvider(props: ShadowRootStyleProviderProps) {\n    const { shadow, children } = props\n    const [cache, sheets] = getShadowRootEmotionCache(shadow)\n\n    const preventEventPropagationList = useContext(PreventShadowRootEventPropagationListContext)\n    useEffect(() => {\n        if (!props.preventPropagation) return\n        preventEventPropagationList.forEach((event) => shadow.addEventListener(event, stopPropagation))\n        return () => preventEventPropagationList.forEach((event) => shadow.removeEventListener(event, stopPropagation))\n    }, [props.preventPropagation, preventEventPropagationList, shadow])\n\n    return (\n        <StyleSheetsContext.Provider value={sheets}>\n            <EmotionCacheProvider value={cache}>{children}</EmotionCacheProvider>\n        </StyleSheetsContext.Provider>\n    )\n}\n\nconst styleSheetMap = new WeakMap<ShadowRoot, [EmotionCache, StyleSheet]>()\n\nfunction getShadowRootEmotionCache(shadow: ShadowRoot) {\n    if (styleSheetMap.has(shadow)) return styleSheetMap.get(shadow)!\n\n    // emotion doesn't allow numbers appears in the key\n    const instanceID = Math.random().toString(36).slice(2).replaceAll(/\\d/g, 'x').slice(0, 4)\n    const key = 'css-' + instanceID\n\n    const muiEmotionCache = createEmotionCache({ key })\n    const muiStyleSheet = new StyleSheet({ key, container: shadow })\n    muiEmotionCache.sheet = muiStyleSheet\n\n    styleSheetMap.set(shadow, [muiEmotionCache, muiStyleSheet])\n    return styleSheetMap.get(shadow)!\n}\n","import { CssBaseline, type Theme, ThemeProvider } from '@mui/material'\nimport { type MaskIconPalette, MaskIconPaletteContext } from '@masknet/icons'\nimport { compose } from '@masknet/shared-base'\nimport { CustomSnackbarProvider } from '../Components/index.js'\n\nexport interface MaskThemeProvider extends React.PropsWithChildren<{}> {\n    useTheme(): Theme\n    useMaskIconPalette(theme: Theme): MaskIconPalette\n    CustomSnackbarOffsetY?: number\n}\n\nexport function MaskThemeProvider(props: MaskThemeProvider) {\n    const { children, useTheme, useMaskIconPalette, CustomSnackbarOffsetY } = props\n    const theme = useTheme()\n    const MaskIconPalette = useMaskIconPalette(theme)\n\n    return compose(\n        (jsx) => <MaskIconPaletteContext.Provider value={MaskIconPalette}>{jsx}</MaskIconPaletteContext.Provider>,\n        (children) => ThemeProvider({ theme, children }),\n        (jsx) => (\n            <CustomSnackbarProvider\n                disableWindowBlurListener={false}\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n                children={jsx}\n                offsetY={CustomSnackbarOffsetY}\n            />\n        ),\n        <>\n            <CssBaseline />\n            {children}\n        </>,\n    )\n}\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import React from 'react';\n\nfunction createContainer(useHook) {\n  var Context = React.createContext(null);\n\n  function Provider(props) {\n    var value = useHook(props.initialState);\n    return React.createElement(Context.Provider, {\n      value: value\n    }, props.children);\n  }\n\n  function useContainer() {\n    var value = React.useContext(Context);\n\n    if (value === null) {\n      throw new Error(\"Component must be wrapped with <Container.Provider>\");\n    }\n\n    return value;\n  }\n\n  return {\n    Provider: Provider,\n    useContainer: useContainer\n  };\n}\nfunction useContainer(container) {\n  return container.useContainer();\n}\n\nexport { createContainer, useContainer };\n//# sourceMappingURL=unstated-next.mjs.map\n"],"names":["LanguageOptions","SupportedLanguages","jaJP","koKR","zhTW","zhCN","enUS","updateLanguage","startTransition","useEffect","langs","useThemeLanguage","language","__auto__","displayLanguage","useTranslation","PluginTransFieldRender","pluginID","field","t","i18nKey","translate","ns","nsSeparator","defaultValue","fallback","usePluginTransField","startsWith","console","warn","createContext","useContext","useRef","useBuildInfo_raw","BuildInfo","displayName","BuildInfoProvider","props","Provider","useBuildInfo","current","useBuildInfoMarkdown","env","gitInfo","COMMIT_HASH","DIRTY","BRANCH_NAME","buildInfoMarkdown","VERSION","process","NODE_ENV","navigator","userAgent","channel","BUILD_DATE","Icons","EnhanceableSite","SOCIAL_MEDIA_ICON_MAPPING","Twitter","TwitterX","Facebook","FacebookColored","Minds","Instagram","InstagramColored","OpenSea","OpenSeaColored","Mirror","Localhost","SOCIAL_MEDIA_ROUND_ICON_MAPPING","TwitterXRound","FacebookRound","MindsRound","InstagramRoundColored","RSS3_NFT_SITE_KEY","TWITTER","FACEBOOK","INSTAGRAM","EnhanceableSite_RSS3_NFT_SITE_KEY_map","PERSONA_AVATAR_DB_NAMESPACE","PopupHomeTabType","SocialAccounts","ConnectedWallets","GlobalStyles","useTheme","CSSVariableInjectorCSS","CSSVariableInjector","useConsistentTheme","colorScheme","palette","mode","styles","useState","useMemo","useLayoutEffect","noop","DialogStackingContext","stack","push","pop","setParent","hasGlobalBackdrop","DialogHierarchyContext","useDialogStackActor","open","selfID","Math","random","parentID","TrackDialogHierarchy","children","value","returnVal","shouldReplaceExitWithBack","length","extraProps","hideBackdrop","transitionDuration","at","disableEscapeKeyDown","disableScrollLock","hidden","style","visibility","DialogStackingProvider","setStack","hierarchy","setHierarchy","context","sortedStack","sortStackByHierarchy","child","parent","has","newSet","Set","add","delete","id","includes","filter","x","concat","useDialogStacking","last","size","slice","forwardRef","Flags","DisableShadowRootContext","PreventShadowRootEventPropagationListContext","stopPropagation","StyleSheetsContext","ref","usePortalShadowRoot","renderer","debugKey","disabled","undefined","sheet","signal","preventEventPropagationList","container","useRefInit","AbortController","portal","portalContainer","root","document","createElement","dataset","portalShadowRoot","shadow","attachShadow","shadowRootInit","each","addEventListener","appendChild","addContainer","Object","defineProperty","configurable","writable","parentElement","Node","prototype","call","removeChild","childElementCount","createShadowRootForwardedComponent","Component","createShadowRootForwardedPopperComponent","PopperProps","f","shadowHeadMap","WeakMap","StyleSheet","tags","isSpeedy","key","constructor","options","ShadowRoot","implementation","Document","ConstructableStyleSheet","SynchronizeStyleSheet","Reflect","set","un_global","get","TypeError","insert","insertGlobal","bind","flush","flushGlobal","hydrate","Error","rule","isImportRule","charCodeAt","_alreadyInsertedOrderInsensitiveRule","error","CSSStyleSheet","globalSheet","added","WeakSet","XPCNativeWrapper","adoptedStyleSheets","unsafe","unwrap","Array","unshift","insertRuleSpeedy","replaceSync","ctr","containers","Map","tag","head","getShadowRootHead","localContainer","styleContainer","createStyleElement","globalStyleOf","insertBefore","firstChild","globalStyles","first","entries","next","done","frag","createDocumentFragment","cloneNode","_insertTag","values","lastElementChild","createTextNode","remove","forEach","innerText","insertRule","cssRules","test","createEmotionCache","CacheProvider","EmotionCacheProvider","ShadowRootStyleProvider","cache","sheets","getShadowRootEmotionCache","preventPropagation","event","removeEventListener","styleSheetMap","instanceID","toString","replaceAll","muiEmotionCache","muiStyleSheet","CssBaseline","ThemeProvider","MaskIconPaletteContext","compose","CustomSnackbarProvider","MaskThemeProvider","useMaskIconPalette","CustomSnackbarOffsetY","theme","MaskIconPalette","jsx","disableWindowBlurListener","anchorOrigin","vertical","horizontal","offsetY"],"sourceRoot":"","x_google_ignoreList":[10,11,12]}