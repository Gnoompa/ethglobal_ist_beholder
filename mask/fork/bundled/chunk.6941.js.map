{"version":3,"file":"bundled/chunk.6941.js","mappings":"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","sources":["webpack://mask-network/./packages/base/src/utils/parseURLs.ts","webpack://mask-network/./packages/plugin-infra/src/dom/usePluginWrapper.tsx","webpack://mask-network/./packages/shared-base-ui/src/hooks/useObservableMapSet.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/PostContext.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/context.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/usePostInfo.ts","webpack://mask-network/./packages/plugins/ArtBlocks/src/utils.ts","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/KeyboardArrowLeft.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/KeyboardArrowRight.js","webpack://mask-network/./packages/plugins/ArtBlocks/src/pipes/index.ts","webpack://mask-network/./packages/plugins/ArtBlocks/src/SiteAdaptor/CollectionView.tsx","webpack://mask-network/./packages/plugins/ArtBlocks/src/locales/i18n_generated.ts","webpack://mask-network/./packages/plugins/ArtBlocks/src/SiteAdaptor/DetailsView.tsx","webpack://mask-network/./packages/plugins/ArtBlocks/src/apis/index.ts","webpack://mask-network/./packages/plugins/ArtBlocks/src/hooks/useProject.ts","webpack://mask-network/./packages/shared-base-ui/src/hooks/useControlledDialog.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenWatched.ts","webpack://mask-network/./packages/plugins/ArtBlocks/src/hooks/useArtBlocksContract.ts","webpack://mask-network/./packages/plugins/ArtBlocks/src/hooks/usePurchaseCallback.ts","webpack://mask-network/./packages/plugins/ArtBlocks/src/SiteAdaptor/PurchaseDialog.tsx","webpack://mask-network/./packages/plugins/ArtBlocks/src/SiteAdaptor/ActionBar.tsx","webpack://mask-network/./packages/plugins/ArtBlocks/src/SiteAdaptor/Collectible.tsx","webpack://mask-network/./packages/plugins/ArtBlocks/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/shared-base-ui/src/components/ErrorBoundary/context.tsx","webpack://mask-network/./packages/shared-base/src/SingletonModal/index.ts","webpack://mask-network/./packages/web3-hooks/base/src/useAllowTestnet.ts","webpack://mask-network/./packages/shared/src/UI/components/ChainBoundary/index.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/HelpOutline.js","webpack://mask-network/./packages/shared/src/UI/components/EthereumERC20TokenApprovedBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/FungibleTokenInput/UI.tsx","webpack://mask-network/./packages/shared/src/UI/components/FungibleTokenInput/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/Icon/name2Image.ts","webpack://mask-network/./packages/shared/src/UI/components/Icon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ImageIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/TokenIcon/index.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useRiskWarningApproved.ts","webpack://mask-network/./packages/shared/src/UI/components/WalletConnectedBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/modals/modals.ts","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedAddress.tsx","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedBalance.tsx","webpack://mask-network/./packages/shared/src/hooks/useOpenShareTxDialog.tsx","webpack://mask-network/./packages/theme/src/CSSVariables/constants.ts","webpack://mask-network/./packages/theme/src/CSSVariables/vars.ts","webpack://mask-network/./packages/theme/src/Components/ActionButton/index.tsx","webpack://mask-network/./packages/theme/src/Components/Dialogs/DialogStack.tsx","webpack://mask-network/./packages/theme/src/Components/LoadingBase/index.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Info.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Warning.js","webpack://mask-network/./packages/theme/src/Components/Snackbar/index.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootTooltip.ts","webpack://mask-network/./packages/theme/src/ShadowRoot/Portal.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootSetup.tsx","webpack://mask-network/./packages/typed-message/base/src/core/image.ts","webpack://mask-network/./packages/typed-message/base/src/core/promise.ts","webpack://mask-network/./packages/typed-message/base/src/core/text.ts","webpack://mask-network/./packages/typed-message/base/src/core/tuple.ts","webpack://mask-network/./packages/typed-message/base/src/extension/MaskPayload.ts","webpack://mask-network/./packages/typed-message/base/src/extension/anchor.ts","webpack://mask-network/./packages/typed-message/base/src/utils/extract.ts","webpack://mask-network/./packages/typed-message/base/src/utils/index.ts","webpack://mask-network/./packages/typed-message/base/src/utils/internal.ts","webpack://mask-network/./packages/typed-message/base/src/visitor/forEachChild.ts","webpack://mask-network/./packages/web3-hooks/base/src/useChainIdValid.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleToken.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenBalance.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenSpenders.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNativeTokenBalance.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworks.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallet.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Connection.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Hub.ts","webpack://mask-network/./packages/web3-hooks/evm/src/useContract.ts","webpack://mask-network/./packages/web3-hooks/evm/src/useERC20TokenAllowance.ts","webpack://mask-network/./packages/web3-hooks/evm/src/useERC20TokenApproveCallback.ts","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Done.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/OpenInNew.js","webpack://mask-network/./node_modules/.pnpm/@mui+styled-engine@5.10.8_@emotion+react@11.11.1_@emotion+styled@11.11.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/styled-engine/GlobalStyles/GlobalStyles.js","webpack://mask-network/./node_modules/.pnpm/html-parse-stringify@3.0.1/node_modules/html-parse-stringify/dist/html-parse-stringify.module.js","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/cjs/react-is.production.min.js","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/index.js","webpack://mask-network/./node_modules/.pnpm/void-elements@3.1.0/node_modules/void-elements/index.js","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/isRestoring.mjs"],"sourcesContent":["import * as parser from /* webpackDefer: true */ 'anchorme'\nexport function parseURLs(text: string, requireProtocol = true) {\n    // CJS-ESM compatibility\n    const lib = parser.default.default || parser.default\n    return lib\n        .list(text)\n        .map((x) => x.string)\n        .filter((y) => {\n            if (!requireProtocol) return true\n            // See https://github.com/alexcorvi/anchorme.js/issues/109\n            return URL.canParse(y)\n        })\n}\n","import { createContext, useEffect, useContext, type ForwardRefExoticComponent, type RefAttributes } from 'react'\nimport { noop } from 'lodash-es'\nimport type { Plugin } from '../types.js'\n\nexport type PluginWrapperComponent<T extends Plugin.Shared.Definition = Plugin.Shared.Definition> =\n    ForwardRefExoticComponent<\n        React.PropsWithChildren<\n            RefAttributes<PluginWrapperMethods> & {\n                definition: T\n                lackHostPermission?: boolean\n            }\n        >\n    >\n\nconst emptyPluginWrapperMethods = {\n    setWrap: noop,\n    setWrapperName: noop,\n    setWidth: noop,\n}\n/** @internal */\nexport const PluginWrapperMethodsContext = createContext<PluginWrapperMethods>(emptyPluginWrapperMethods)\nPluginWrapperMethodsContext.displayName = 'PluginWrapperMethodsContext'\nexport interface PluginWrapperMethods {\n    setWrap(open: boolean): void\n    setWrapperName(name: string | undefined): void\n    setWidth(width: number | undefined): void\n}\n\nexport function usePluginWrapper(\n    open: boolean,\n    options?: {\n        width?: number\n        name?: string\n    },\n) {\n    const { setWidth, setWrap, setWrapperName } = useContext(PluginWrapperMethodsContext)\n    const { width, name } = options || {}\n\n    useEffect(() => {\n        setWrap(open)\n        return () => setWrap(open)\n    }, [open, setWrap])\n    useEffect(() => setWidth(width), [width, setWidth])\n    useEffect(() => setWrapperName(name), [name, setWrapperName])\n}\n","import { useMemo } from 'react'\nimport { useSubscription, type Subscription } from 'use-subscription'\nimport { type ObservableMap, type ObservableSet } from '@masknet/shared-base'\n\nexport function useObservableValues<T>(map: ObservableMap<any, T> | ObservableSet<T>) {\n    const subscription = useMemo<Subscription<T[]>>(\n        () => ({\n            getCurrentValue: () => map.asValues,\n            subscribe: (callback) => {\n                return (map.event as any).on(map.ALL_EVENTS, callback)\n            },\n        }),\n        [map],\n    )\n\n    return useSubscription(subscription)\n}\n","import { createContext, createElement, useContext } from 'react'\nimport { type Subscription, useSubscription } from 'use-subscription'\nimport type { Some } from 'ts-results-es'\nimport type { LiveSelector, DOMProxy } from '@dimensiondev/holoflows-kit'\nimport {\n    ObservableMap,\n    ObservableSet,\n    type PostIVIdentifier,\n    ValueRef,\n    type PostIdentifier,\n    type ProfileIdentifier,\n} from '@masknet/shared-base'\nimport { useObservableValues, useValueRef } from '@masknet/shared-base-ui'\nimport type { TypedMessage } from '@masknet/typed-message'\nimport type { SupportedPayloadVersions } from '@masknet/encryption'\n\nexport interface PostContextActions {\n    hasPayloadLike(content: string): boolean\n    getURLFromPostIdentifier?(post: PostIdentifier): URL | null\n}\nexport interface PostContextAuthor {\n    readonly nickname: Subscription<string | null>\n    readonly avatarURL: Subscription<URL | null>\n    readonly author: Subscription<ProfileIdentifier | null>\n    /** post id on the network. */\n    readonly postID: Subscription<string | null>\n}\n\nexport interface PostContextCoAuthor {\n    nickname?: string\n    avatarURL?: URL\n    author: ProfileIdentifier\n    post: PostIdentifier\n}\n\nexport interface PostContextComment {\n    readonly commentsSelector: LiveSelector<HTMLElement>\n    readonly commentBoxSelector: LiveSelector<HTMLElement>\n}\nexport interface PostContextCreation extends PostContextAuthor {\n    readonly rootElement: DOMProxy\n    readonly actionsElement?: DOMProxy\n    readonly isFocusing?: boolean\n    readonly suggestedInjectionPoint: HTMLElement\n    readonly comments?: PostContextComment\n    readonly coAuthors: Subscription<PostContextCoAuthor[]>\n    /**\n     * The result of this subscription will be merged with `PostContext.postMentionedLinks`.\n     *\n     * You don't need to provide this to resolve links in `PostContext.postContent`.\n     */\n    readonly postMentionedLinksProvider?: Subscription<string[]>\n    /** @deprecated It should parse image into rawMessage */\n    readonly postImagesProvider?: Subscription<string[]>\n    /**\n     * The raw TypedMessage that the site gives.\n     */\n    readonly rawMessage: Subscription<TypedMessage>\n    readonly signal?: AbortSignal\n}\nexport interface PostContext extends PostContextAuthor {\n    // #region DOM knowledge\n    get rootNode(): HTMLElement | null\n    readonly rootElement: DOMProxy\n    readonly actionsElement?: DOMProxy\n    readonly isFocusing?: boolean\n    readonly suggestedInjectionPoint: HTMLElement\n    // #endregion\n    readonly comment: PostContextComment | undefined\n    // #region Metadata of a post (author, mentioned items, ...)\n    /** Auto computed */\n    readonly identifier: Subscription<PostIdentifier | null>\n    readonly url: Subscription<URL | null>\n    readonly coAuthors: Subscription<PostContextCoAuthor[] | null>\n    // Meta\n    readonly mentionedLinks: Subscription<string[]>\n    /** @deprecated It should appears in rawMessage */\n    readonly postMetadataImages: Subscription<string[]>\n    // #endregion\n    // #region Raw post content (not decrypted)\n    readonly rawMessage: Subscription<TypedMessage>\n    readonly encryptComment: ValueRef<null | ((commentToEncrypt: string) => Promise<string>)>\n    readonly decryptComment: ValueRef<null | ((commentEncrypted: string) => Promise<string | null>)>\n    // #endregion\n    // #region Post payload discovered in the rawMessage\n    readonly hasMaskPayload: Subscription<boolean>\n    readonly postIVIdentifier: Subscription<PostIVIdentifier | null>\n    /**\n     * undefined => payload not found\n     */\n    readonly publicShared: Subscription<boolean | undefined>\n    readonly isAuthorOfPost: Subscription<boolean | undefined>\n    readonly version: Subscription<SupportedPayloadVersions | undefined>\n\n    decryptedReport(content: {\n        sharedPublic?: Some<boolean>\n        iv?: string\n        isAuthorOfPost?: Some<boolean>\n        version?: SupportedPayloadVersions\n    }): void\n    // #endregion\n}\nexport type PostInfo = PostContext\n\nexport const PostInfoContext = createContext<PostContext | null>(null)\nPostInfoContext.displayName = 'PostInfoContext'\n\n/** @deprecated use <PostInfoContext.Provider value={post}> */\nexport function PostInfoProvider(props: React.PropsWithChildren<{ post: PostInfo }>) {\n    return createElement(PostInfoContext.Provider, { value: props.post, children: props.children })\n}\nexport const usePostInfoDetails: {\n    // Change to use* when https://github.com/microsoft/TypeScript/issues/44643 fixed\n    [key in keyof PostInfo]: () => PostInfo[key] extends ValueRef<infer T>\n        ? T extends (...args: any) => any\n            ? T\n            : Readonly<T>\n        : PostInfo[key] extends ObservableSet<infer T>\n        ? ReadonlyArray<Readonly<T>>\n        : PostInfo[key] extends ObservableMap<any, infer T>\n        ? ReadonlyArray<Readonly<T>>\n        : PostInfo[key] extends Subscription<infer T>\n        ? Readonly<T>\n        : PostInfo[key]\n} = {\n    __proto__: new Proxy(\n        { __proto__: null },\n        {\n            get(_, key) {\n                if (typeof key === 'symbol') return undefined\n                function usePostInfoDetails() {\n                    const postInfo = useContext(PostInfoContext)\n                    if (!postInfo) throw new TypeError('No post context')\n                    if (!(key in postInfo)) throw new TypeError('postInfo.' + (key as string) + ' is not found')\n                    const k = postInfo[key as keyof PostInfo]\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ValueRef) return useValueRef<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ObservableMap) return useObservableValues<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ObservableSet) return useObservableValues<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (isSubscription(k)) return useSubscription<any>(k)\n                    return k\n                }\n                Object.defineProperty(usePostInfoDetails, key, { value: usePostInfoDetails, configurable: true })\n                return usePostInfoDetails\n            },\n        },\n    ),\n} as any\nfunction isSubscription(x: any): x is Subscription<any> {\n    return (\n        typeof x === 'object' &&\n        x !== null &&\n        !!((x as Subscription<any>).getCurrentValue && (x as Subscription<any>).subscribe)\n    )\n}\n","// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { NextIDPlatform, PersonaIdentifier, PostIdentifier } from '@masknet/shared-base'\n\nexport interface __SiteAdaptorContext__ {\n    lastRecognizedProfile: Subscription<IdentityResolved | undefined>\n    currentVisitingProfile: Subscription<IdentityResolved | undefined>\n    currentNextIDPlatform: NextIDPlatform | undefined\n    currentPersonaIdentifier: Subscription<PersonaIdentifier | undefined>\n    getPostURL: (identifier: PostIdentifier) => URL | null\n    share: undefined | ((text: string) => void)\n    getUserIdentity: ((useId: string) => Promise<IdentityResolved | undefined>) | undefined\n    getPostIdFromNewPostToast: (() => string) | undefined\n    postMessage: ((text: string, options?: any) => Promise<void>) | undefined\n    getSearchedKeyword: (() => string) | undefined\n    connectPersona: () => Promise<void>\n}\nexport let lastRecognizedProfile: __SiteAdaptorContext__['lastRecognizedProfile']\nexport let currentVisitingProfile: __SiteAdaptorContext__['currentVisitingProfile']\nexport let currentNextIDPlatform: NextIDPlatform | undefined\nexport let currentPersonaIdentifier: __SiteAdaptorContext__['currentPersonaIdentifier']\nexport let getPostURL: __SiteAdaptorContext__['getPostURL']\nexport let share: __SiteAdaptorContext__['share']\nexport let getUserIdentity: __SiteAdaptorContext__['getUserIdentity']\nexport let getPostIdFromNewPostToast: __SiteAdaptorContext__['getPostIdFromNewPostToast']\nexport let postMessage: __SiteAdaptorContext__['postMessage']\nexport let getSearchedKeyword: __SiteAdaptorContext__['getSearchedKeyword']\nexport let connectPersona: __SiteAdaptorContext__['connectPersona']\nexport function __setSiteAdaptorContext__(value: __SiteAdaptorContext__) {\n    ;({\n        lastRecognizedProfile,\n        currentVisitingProfile,\n        currentNextIDPlatform,\n        currentPersonaIdentifier,\n        getPostURL,\n        share,\n        getUserIdentity,\n        getPostIdFromNewPostToast,\n        postMessage,\n        getSearchedKeyword,\n        connectPersona,\n    } = value)\n}\n","import { useMemo } from 'react'\nimport { usePostInfoDetails } from './PostContext.js'\nimport { getPostURL } from './context.js'\n\nexport function usePostLink() {\n    const id = usePostInfoDetails.postID()\n    const identifier = usePostInfoDetails.identifier()\n    return useMemo(() => {\n        if (!id || !identifier) return ''\n        return getPostURL?.(identifier) ?? ''\n    }, [id, identifier, getPostURL])\n}\n","import { parseURLs } from '@masknet/shared-base'\nimport { ChainId } from '@masknet/web3-shared-evm'\nimport { artBlocksHostnames, artBlocksPathnameRegex } from './constants.js'\n\nexport function checkUrl(url: string): boolean {\n    const protocol = 'https://'\n    const _url = new URL(/^https?:\\/\\//.test(url) ? url : protocol + url)\n\n    return artBlocksHostnames.includes(_url.hostname) && artBlocksPathnameRegex.test(_url.pathname)\n}\n\nexport function getRelevantUrl(textContent: string) {\n    const urls = parseURLs(textContent)\n    return urls.find(checkUrl)\n}\n\nexport function getAssetInfoFromURL(url?: string) {\n    if (!url) return null\n    const _url = new URL(url)\n\n    const matches = _url.pathname.match(artBlocksPathnameRegex)\n\n    if (matches) {\n        return {\n            chain_id: _url.host.includes('artist-staging') ? ChainId.Ropsten : ChainId.Mainnet,\n            project_id: matches[1] ?? matches[2],\n        }\n    }\n\n    // nothing matched\n    return\n}\n\nexport function buildTokenId(projectId: number, invocation: number) {\n    return projectId * 1000000 + invocation\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\"\n}), 'KeyboardArrowLeft');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n}), 'KeyboardArrowRight');","import urlcat from 'urlcat'\nimport { ChainId } from '@masknet/web3-shared-evm'\nimport { createLookupTableResolver } from '@masknet/shared-base'\nimport {\n    ArtBlocksRopstenUrl,\n    ArtBlocksMainnetUrl,\n    ArtBlocksMainnetHostImageUrl,\n    ArtBlocksRopstenHostImageUrl,\n    ArtBlocksMainnetSubgraphLink,\n    ArtBlocksRopstenSubgraphLink,\n} from '../constants.js'\n\nexport const resolveTokenLinkOnArtBlocks = (chainId: ChainId, tokenId: number) => {\n    if (chainId === ChainId.Ropsten) {\n        return urlcat(ArtBlocksRopstenUrl, '/token/:tokenId', { tokenId })\n    }\n\n    return urlcat(ArtBlocksMainnetUrl, '/token/:tokenId', { tokenId })\n}\n\nexport const resolveProjectLinkOnArtBlocks = (chainId: ChainId, projectId: string) => {\n    if (chainId === ChainId.Ropsten) {\n        return urlcat(ArtBlocksRopstenUrl, '/project/:projectId', { projectId })\n    }\n\n    return urlcat(ArtBlocksMainnetUrl, '/project/:projectId', { projectId })\n}\n\nexport const resolveUserLinkOnArtBlocks = (chainId: ChainId, address: string) => {\n    if (chainId === ChainId.Ropsten) {\n        return urlcat(ArtBlocksRopstenUrl, '/user/:address', { address })\n    }\n\n    return urlcat(ArtBlocksMainnetUrl, '/user/:address', { address })\n}\n\nexport const resolveImageLinkOnArtBlocks = (chainId: ChainId, tokenImage: string) => {\n    if (chainId === ChainId.Ropsten) {\n        return urlcat(ArtBlocksRopstenHostImageUrl, '/:tokenImage', { tokenImage })\n    }\n\n    return urlcat(ArtBlocksMainnetHostImageUrl, '/:tokenImage', { tokenImage })\n}\n\nexport const resolveSubgraphLinkOnArtBlocks = createLookupTableResolver<ChainId.Mainnet | ChainId.Ropsten, string>(\n    {\n        [ChainId.Mainnet]: ArtBlocksMainnetSubgraphLink,\n        [ChainId.Ropsten]: ArtBlocksRopstenSubgraphLink,\n    },\n    ArtBlocksMainnetSubgraphLink,\n)\n","import { useState } from 'react'\nimport { useTheme } from '@mui/material/styles'\nimport { MobileStepper, Button, Box, Paper, Typography, Skeleton, Link } from '@mui/material'\nimport { KeyboardArrowLeft, KeyboardArrowRight, OpenInNew } from '@mui/icons-material'\nimport { makeStyles } from '@masknet/theme'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { resolveImageLinkOnArtBlocks, resolveTokenLinkOnArtBlocks } from '../pipes/index.js'\nimport { buildTokenId } from '../utils.js'\nimport type { Project } from '../types.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            borderRadius: 0,\n            scrollbarWidth: 'none',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        title: {\n            marginLeft: theme.spacing(2),\n            marginRight: theme.spacing(0.5),\n        },\n        paper: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            bgcolor: 'background.default',\n            paddingRight: theme.spacing(1),\n            paddingLeft: theme.spacing(1),\n        },\n        skeletonImage: { height: 304 },\n        skeletonTitle: { height: 20, width: '30%', marginLeft: theme.spacing(2) },\n        hidden: {\n            display: 'none',\n        },\n        buttonPrev: {\n            marginRight: theme.spacing(0.5),\n        },\n        buttonNext: {\n            marginLeft: theme.spacing(0.5),\n        },\n        tokenIdRedirectionIcon: {\n            verticalAlign: 'text-bottom',\n            marginLeft: theme.spacing(0.5),\n        },\n        stepper: {\n            backgroundColor: 'inherit',\n        },\n        imageContainer: {\n            textAlign: 'center',\n        },\n        image: {\n            maxHeight: 300,\n        },\n    }\n})\n\ninterface CollectionProps {\n    key: string\n    project: Project\n}\n\nexport function CollectionView(props: CollectionProps) {\n    const theme = useTheme()\n    const { classes } = useStyles()\n    const { project } = props\n    const [isImageLoaded, setImageLoaded] = useState(false)\n    const [activeStep, setActiveStep] = useState(1)\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n\n    const currentSelectedToken = {\n        tokenId: buildTokenId(Number(project.projectId), activeStep - 1),\n        contract: { id: project.contract.id },\n    }\n    const maxSteps = Number.parseInt(project.invocations, 10)\n\n    const handleNext = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep + 1)\n        setImageLoaded(false)\n    }\n\n    const handleBack = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep - 1)\n        setImageLoaded(false)\n    }\n\n    const handleImageLoad = () => {\n        setImageLoaded(true)\n    }\n\n    const tokenLink = resolveTokenLinkOnArtBlocks(chainId, currentSelectedToken.tokenId)\n\n    return (\n        <Box className={classes.root}>\n            <Paper square elevation={0} className={classes.paper}>\n                {!isImageLoaded ? (\n                    <Skeleton className={classes.skeletonTitle} animation=\"wave\" variant=\"rectangular\" />\n                ) : (\n                    <Link href={tokenLink} target=\"_blank\">\n                        <Typography className={classes.title}>\n                            #{currentSelectedToken.tokenId}\n                            <OpenInNew className={classes.tokenIdRedirectionIcon} fontSize=\"small\" />\n                        </Typography>\n                    </Link>\n                )}\n\n                <MobileStepper\n                    className={classes.stepper}\n                    variant=\"text\"\n                    steps={maxSteps}\n                    position=\"static\"\n                    activeStep={activeStep - 1}\n                    nextButton={\n                        <Button\n                            className={classes.buttonNext}\n                            size=\"small\"\n                            variant=\"text\"\n                            onClick={handleNext}\n                            disabled={activeStep === maxSteps}>\n                            Next\n                            {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n                        </Button>\n                    }\n                    backButton={\n                        <Button\n                            className={classes.buttonPrev}\n                            size=\"small\"\n                            variant=\"text\"\n                            onClick={handleBack}\n                            disabled={activeStep === 1}>\n                            {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n                            Back\n                        </Button>\n                    }\n                />\n            </Paper>\n\n            {!isImageLoaded ? (\n                <Skeleton className={classes.skeletonImage} animation=\"wave\" variant=\"rectangular\" />\n            ) : null}\n\n            <div className={classes.imageContainer}>\n                <Link href={tokenLink} target=\"_blank\">\n                    <img\n                        className={isImageLoaded ? classes.image : classes.hidden}\n                        src={resolveImageLinkOnArtBlocks(chainId, `${currentSelectedToken?.tokenId}.png`)}\n                        alt=\"collection collectible\"\n                        onLoad={handleImageLoad}\n                    />\n                </Link>\n            </div>\n        </Box>\n    )\n}\n","// @ts-nocheck\n/* eslint-disable */\nimport { createElement, useMemo, type ComponentType } from \"react\";\nimport { useTranslation, Trans, type TransProps } from \"react-i18next\";\ntype TypedTransProps<Value, Components> = Omit<TransProps<string>, \"values\" | \"ns\" | \"i18nKey\"> & ({} extends Value ? {} : {\n    values: Value;\n}) & {\n    components: Components;\n};\nfunction createProxy(initValue: (key: string) => any) {\n    function define(key: string) {\n        const value = initValue(key);\n        Object.defineProperty(container, key, { value, configurable: true });\n        return value;\n    }\n    const container = {\n        __proto__: new Proxy({ __proto__: null }, {\n            get(_, key) {\n                if (typeof key === \"symbol\")\n                    return undefined;\n                return define(key);\n            }\n        })\n    };\n    return new Proxy(container, {\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, key) => {\n            if (typeof key === \"symbol\")\n                return undefined;\n            if (!(key in container))\n                define(key);\n            return Object.getOwnPropertyDescriptor(container, key);\n        }\n    });\n}\nexport function useArtBlocksTrans(): {\n    /**\n      * `This project is no more active`\n      */\n    plugin_artblocks_not_active(): string;\n    /**\n      * `Completed`\n      */\n    plugin_artblocks_completed(): string;\n    /**\n      * `Paused`\n      */\n    plugin_artblocks_paused(): string;\n    /**\n      * `Collection`\n      */\n    plugin_artblocks_collection(): string;\n    /**\n      * `Details`\n      */\n    plugin_artblocks_details(): string;\n    /**\n      * `Created by`\n      */\n    plugin_artblocks_created_by(): string;\n    /**\n      * `Purchase`\n      */\n    plugin_artblocks_purchase(): string;\n    /**\n      * `Purchasing....`\n      */\n    plugin_artblocks_purchasing(): string;\n    /**\n      * `Please check ToS document`\n      */\n    plugin_artblocks_check_tos_document(): string;\n    /**\n      * `Price per mint`\n      */\n    plugin_artblocks_price_per_mint(): string;\n    /**\n      * `Price:`\n      */\n    plugin_artblocks_price_row(): string;\n    /**\n      * `Minted:`\n      */\n    plugin_artblocks_minted_row(): string;\n    /**\n      * `License:`\n      */\n    plugin_artblocks_license_row(): string;\n    /**\n      * `Library:`\n      */\n    plugin_artblocks_library_row(): string;\n    /**\n      * `Website`\n      */\n    plugin_artblocks_website(): string;\n    /**\n      * `Infos`\n      */\n    plugin_artblocks_infos(): string;\n    /**\n      * `Chain`\n      */\n    plugin_artblocks_chain(): string;\n    /**\n      * `Insufficient balance`\n      */\n    plugin_collectible_insufficient_balance(): string;\n    /**\n      * `Blockchain:`\n      */\n    plugin_artblocks_blockchain_row(): string;\n    /**\n      * `Contract:`\n      */\n    plugin_artblocks_contract_row(): string;\n    /**\n      * `Something went wrong!`\n      */\n    plugin_artblocks_smt_wrong(): string;\n    /**\n      * `Wallet disconnect successfully`\n      */\n    popups_wallet_disconnect_success(): string;\n    /**\n      * `I just purchased a beautiful piece of art from '{{name}}' collection for {{- price}} {{symbol}}. Install @realMaskNetwork to get yours.`\n      */\n    plugin_artblocks_share(options: Readonly<{\n        name: string;\n        price: string;\n        symbol: string;\n    }>): string;\n    /**\n      * `I just purchased a beautiful piece of art from '{{name}}' collection for {{- price}} {{symbol}}. Welcome to join.`\n      */\n    plugin_artblocks_share_no_official_account(options: Readonly<{\n        name: string;\n        price: string;\n        symbol: string;\n    }>): string;\n    /**\n      * `The tips feature currently supports only EVM chains. Support for other chains will be added in the future.`\n      */\n    plugin_tips_not_evm_alert(): string;\n    /**\n      * `Artblocks allow you to pick a style that you like, pay for the work, and a randomly generated version of the content is created by an algorithm and sent to your Ethereum account.`\n      */\n    plugin_artblocks_description(): string;\n    /**\n      * `Artblocks`\n      */\n    plugin_artblocks_name(): string;\n} { const { t } = useTranslation(\"io.artblocks\"); return useMemo(() => createProxy((key) => t.bind(null, key)), [t]); }\nfunction createComponent(i18nKey: string) {\n    return (props) => createElement(Trans, { i18nKey, ns: \"io.artblocks\", ...props });\n}\nexport const ArtBlocksTrans: {\n    /**\n      * `By checking this box, I agree to ArtBlocks's <terms>Terms of Service</terms>.`\n      */\n    plugin_artblocks_legal_text: ComponentType<TypedTransProps<Readonly<{}>, {\n        terms: JSX.Element;\n    }>>;\n    /**\n      * `Are you going to disconnect {{persona}} from wallet <strong>{{address}}<strong/>?`\n      */\n    plugin_tips_disconnect_introduction: ComponentType<TypedTransProps<Readonly<{\n        persona: string;\n        address: string;\n    }>, {\n        strong: JSX.Element;\n    }>>;\n} = /*#__PURE__*/ createProxy(createComponent);\n","import { FormattedAddress } from '@masknet/shared'\nimport { BigNumber } from 'bignumber.js'\nimport { OpenInNew } from '@mui/icons-material'\nimport { Typography, Box, Link } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { formatEthereumAddress, formatWeiToEther } from '@masknet/web3-shared-evm'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { ChainResolver, ExplorerResolver } from '@masknet/web3-providers'\nimport { resolveProjectLinkOnArtBlocks, resolveUserLinkOnArtBlocks } from '../pipes/index.js'\nimport type { Project } from '../types.js'\nimport { useArtBlocksTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            padding: theme.spacing(2),\n        },\n        container: {\n            padding: theme.spacing(1),\n        },\n        nameRedirectionIcon: {\n            verticalAlign: 'text-bottom',\n        },\n        nameRedirectionLink: {\n            marginLeft: theme.spacing(0.5),\n        },\n        description: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(1),\n            whiteSpace: 'pre-line',\n        },\n        meta_row: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: theme.spacing(0.5),\n            '&:last-child': {\n                marginBottom: theme.spacing(0),\n            },\n        },\n    }\n})\n\ninterface DetailsViewProps {\n    project: Project\n}\n\nexport function DetailsView({ project }: DetailsViewProps) {\n    const { classes } = useStyles()\n    const t = useArtBlocksTrans()\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n\n    const invocations = `${project.invocations} of ${project.maxInvocations}`\n    const price = `${formatWeiToEther(new BigNumber(project.pricePerTokenInWei))} `\n\n    return (\n        <div className={classes.root}>\n            <Box className={classes.container}>\n                <Typography variant=\"h6\" sx={{ marginBottom: 1 }}>\n                    {project.name}\n                    <Link\n                        className={classes.nameRedirectionLink}\n                        href={resolveProjectLinkOnArtBlocks(chainId, project.projectId)}\n                        title={project.name}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\">\n                        <OpenInNew className={classes.nameRedirectionIcon} fontSize=\"small\" />\n                    </Link>\n                </Typography>\n                <Typography variant=\"body2\">\n                    {t.plugin_artblocks_created_by()}\n                    <Link\n                        href={resolveUserLinkOnArtBlocks(chainId, project.artistAddress)}\n                        rel=\"noopener noreferrer\"\n                        target=\"_blank\"\n                        title={resolveUserLinkOnArtBlocks(chainId, project.artistAddress)}>\n                        {` ${project.artistName}`}\n                    </Link>\n                    &nbsp;&bull;&nbsp;\n                    <Link href={project.website} rel=\"noopener noreferrer\" target=\"_blank\" title={project.website}>\n                        {t.plugin_artblocks_website()}\n                    </Link>\n                </Typography>\n                <Typography variant=\"body1\" className={classes.description}>\n                    {project.description}\n                </Typography>\n            </Box>\n            <Box className={classes.container}>\n                <Typography variant=\"body1\" sx={{ marginBottom: 1 }}>\n                    {t.plugin_artblocks_infos()}\n                </Typography>\n                <Box className={classes.meta_row}>\n                    <Typography variant=\"body2\">{t.plugin_artblocks_price_row()} </Typography>\n                    <Typography variant=\"body2\">\n                        {price}\n                        {project.currencySymbol === null ? 'ETH' : project.currencySymbol}\n                    </Typography>\n                </Box>\n                <Box className={classes.meta_row}>\n                    <Typography variant=\"body2\">{t.plugin_artblocks_minted_row()} </Typography>\n                    <Typography variant=\"body2\">{invocations}</Typography>\n                </Box>\n\n                <Box className={classes.meta_row}>\n                    <Typography variant=\"body2\">{t.plugin_artblocks_license_row()} </Typography>\n                    <Typography variant=\"body2\">{project.license}</Typography>\n                </Box>\n                {project.scriptJSON ? (\n                    <Box className={classes.meta_row}>\n                        <Typography variant=\"body2\">{t.plugin_artblocks_library_row()}</Typography>\n                        <Typography variant=\"body2\">{JSON.parse(project.scriptJSON).type}</Typography>\n                    </Box>\n                ) : null}\n            </Box>\n            <Box className={classes.container}>\n                <Typography variant=\"body1\" sx={{ marginBottom: 1 }}>\n                    {t.plugin_artblocks_chain()}\n                </Typography>\n\n                <Box className={classes.meta_row}>\n                    <Typography variant=\"body2\">{t.plugin_artblocks_blockchain_row()}</Typography>\n                    <Typography variant=\"body2\">{ChainResolver.chainName(chainId)}</Typography>\n                </Box>\n                <Box className={classes.meta_row}>\n                    <Typography variant=\"body2\">{t.plugin_artblocks_contract_row()}</Typography>\n                    <Link\n                        href={ExplorerResolver.transactionLink(chainId, project.contract.id)}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\">\n                        <Typography variant=\"body2\">\n                            <FormattedAddress\n                                address={project.contract.id}\n                                size={4}\n                                formatter={formatEthereumAddress}\n                            />\n                        </Typography>\n                    </Link>\n                </Box>\n            </Box>\n        </div>\n    )\n}\n","import { fetchJSON } from '@masknet/web3-providers/helpers'\nimport { resolveSubgraphLinkOnArtBlocks } from '../pipes/index.js'\n\nexport async function fetchProject(chainId: number, projectId: string) {\n    const body = {\n        query: `query Project {\n            projects(where: { projectId: \"${projectId}\"}) {\n                id\n                projectId\n                active\n                name\n                description\n                additionalPayee\n                complete\n                paused\n                currencyAddress\n                artistName\n                artistAddress\n                pricePerTokenInWei\n                currencyAddress\n                currencySymbol\n                contract {\n                    id\n                }\n                website\n                license\n                invocations\n                maxInvocations\n                scriptJSON\n            }\n        }`,\n    }\n\n    const { data } = await fetchJSON<{ data: any }>(resolveSubgraphLinkOnArtBlocks(chainId), {\n        body: JSON.stringify(body),\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n    })\n    return data\n}\n","import { useAsyncRetry } from 'react-use'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { fetchProject } from '../apis/index.js'\n\nexport function useFetchProject(projectId: string, chainId: ChainId) {\n    return useAsyncRetry(async () => {\n        if (!projectId) return null\n\n        return fetchProject(chainId, projectId)\n    }, [chainId, projectId])\n}\n","import { useState } from 'react'\n\nexport function useControlledDialog() {\n    const [open, setOpen] = useState(false)\n    return {\n        open,\n        setOpen,\n        onClose: () => setOpen(false),\n        onOpen: () => setOpen(true),\n    }\n}\n","import { useState } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { useFungibleTokenBalance } from './useFungibleTokenBalance.js'\nimport { useFungibleToken } from './useFungibleToken.js'\n\nexport function useFungibleTokenWatched<T extends NetworkPluginID>(pluginID?: T, address_ = '') {\n    const [amount, setAmount] = useState('')\n    const [address, setAddress] = useState(address_)\n    const token = useFungibleToken(pluginID, address)\n    const balance = useFungibleTokenBalance(pluginID, address)\n\n    return {\n        amount,\n        setAmount,\n        address: token.data?.address ?? address,\n        setAddress,\n        token,\n        balance,\n    }\n}\n","import type { AbiItem } from 'web3-utils'\nimport { useContract } from '@masknet/web3-hooks-evm'\nimport { type ChainId, useArtBlocksConstants } from '@masknet/web3-shared-evm'\nimport ArtBlocksCoreContractABI from '@masknet/web3-contracts/abis/ArtBlocksMinterContract.json'\n\nimport type { ArtBlocksMinterContract } from '@masknet/web3-contracts/types/ArtBlocksMinterContract.js'\n\nexport function useArtBlocksContract(chainId: ChainId) {\n    const { GEN_ART_721_MINTER } = useArtBlocksConstants(chainId)\n    return useContract<ArtBlocksMinterContract>(chainId, GEN_ART_721_MINTER, ArtBlocksCoreContractABI as AbiItem[])\n}\n","import { useAsyncFn } from 'react-use'\nimport { BigNumber } from 'bignumber.js'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { type ChainId, ContractTransaction, SchemaType } from '@masknet/web3-shared-evm'\nimport { Web3 } from '@masknet/web3-providers'\nimport { useArtBlocksContract } from './useArtBlocksContract.js'\n\nexport function usePurchaseCallback(chainId: ChainId, projectId: string, amount: string, schema = SchemaType.Native) {\n    const { account } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n\n    const genArt721MinterContract = useArtBlocksContract(chainId)\n\n    return useAsyncFn(async () => {\n        if (!genArt721MinterContract) return\n\n        const tx = await new ContractTransaction(genArt721MinterContract).fillAll(\n            genArt721MinterContract.methods.purchase(projectId),\n            {\n                from: account,\n                value: new BigNumber(schema === SchemaType.Native ? amount : 0).toFixed(),\n            },\n        )\n        return Web3.sendTransaction(tx, { chainId })\n    }, [account, chainId, amount, genArt721MinterContract])\n}\n","import { useCallback, useMemo, useState } from 'react'\nimport { Trans } from 'react-i18next'\nimport {\n    Card,\n    CardActions,\n    CardContent,\n    Checkbox,\n    DialogContent,\n    FormControlLabel,\n    Link,\n    Typography,\n} from '@mui/material'\nimport {\n    InjectedDialog,\n    FungibleTokenInput,\n    useOpenShareTxDialog,\n    WalletConnectedBoundary,\n    EthereumERC20TokenApprovedBoundary,\n    ConfirmModal,\n} from '@masknet/shared'\nimport { makeStyles, ActionButton } from '@masknet/theme'\nimport { type FungibleToken, leftShift } from '@masknet/web3-shared-base'\nimport { NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport { SchemaType, useArtBlocksConstants, type ChainId } from '@masknet/web3-shared-evm'\nimport { useFungibleTokenWatched } from '@masknet/web3-hooks-base'\nimport { usePostLink } from '@masknet/plugin-infra/content-script'\nimport { share } from '@masknet/plugin-infra/content-script/context'\nimport { usePurchaseCallback } from '../hooks/usePurchaseCallback.js'\nimport type { Project } from '../types.js'\nimport { useArtBlocksTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        content: {\n            padding: theme.spacing(0),\n        },\n        button: {\n            flex: 1,\n            margin: `${theme.spacing(0)} ${theme.spacing(0.5)}`,\n        },\n    }\n})\n\ninterface ActionBarProps {\n    chainId: ChainId\n    project: Project\n    open: boolean\n    onClose: () => void\n}\n\nexport function PurchaseDialog(props: ActionBarProps) {\n    const t = useArtBlocksTrans()\n    const { classes } = useStyles()\n    const { project, open, onClose, chainId } = props\n\n    const {\n        token: { data: token },\n        balance: { data: balance },\n    } = useFungibleTokenWatched(NetworkPluginID.PLUGIN_EVM, project.currencyAddress ? project.currencyAddress : '')\n\n    const [ToS_Checked, setToS_Checked] = useState(false)\n    const [{ loading: isPurchasing }, purchaseCallback] = usePurchaseCallback(\n        chainId,\n        project.projectId,\n        project.pricePerTokenInWei,\n        token?.schema,\n    )\n    const price = useMemo(\n        () => leftShift(project.pricePerTokenInWei, token?.decimals),\n        [project.pricePerTokenInWei, token?.decimals],\n    )\n    const postLink = usePostLink()\n\n    const shareText = [\n        Sniffings.is_twitter_page || Sniffings.is_facebook_page\n            ? t.plugin_artblocks_share({\n                  name: project.name,\n                  price: price.toFixed(),\n                  symbol: token?.symbol || '',\n              })\n            : t.plugin_artblocks_share_no_official_account({\n                  name: project.name,\n                  price: price.toFixed(),\n                  symbol: token?.symbol || '',\n              }),\n        '#mask_io #artblocks_io #nft',\n        postLink,\n    ].join('\\n')\n    const openShareTxDialog = useOpenShareTxDialog()\n    const purchase = useCallback(async () => {\n        try {\n            const hash = await purchaseCallback()\n            if (typeof hash !== 'string') return\n            await openShareTxDialog({\n                hash,\n                onShare() {\n                    share?.(shareText)\n                },\n            })\n            onClose()\n        } catch (err: unknown) {\n            if (!(err instanceof Error)) return\n\n            await ConfirmModal.openAndWaitForClose({\n                title: 'Error',\n                content: err.message,\n            })\n        }\n    }, [openShareTxDialog, onClose])\n    const { GEN_ART_721_MINTER: spender } = useArtBlocksConstants()\n\n    const validationMessage = useMemo(() => {\n        const balance_ = leftShift(balance ?? '0', token?.decimals)\n\n        if (balance_.isZero() || price.isGreaterThan(balance_)) return t.plugin_collectible_insufficient_balance()\n        if (!ToS_Checked) return t.plugin_artblocks_check_tos_document()\n\n        return ''\n    }, [price, balance, token?.decimals, ToS_Checked])\n\n    const actionButton = (\n        <ActionButton\n            loading={isPurchasing}\n            className={classes.button}\n            disabled={!!validationMessage || isPurchasing}\n            color=\"primary\"\n            onClick={purchase}\n            fullWidth>\n            {validationMessage || (isPurchasing ? t.plugin_artblocks_purchasing() : t.plugin_artblocks_purchase())}\n        </ActionButton>\n    )\n\n    return (\n        <InjectedDialog title={t.plugin_artblocks_purchase()} open={open} onClose={onClose}>\n            <DialogContent className={classes.content}>\n                <Card elevation={0}>\n                    <CardContent>\n                        <FungibleTokenInput\n                            label={t.plugin_artblocks_price_per_mint()}\n                            amount={price.toString()}\n                            balance={balance ?? '0'}\n                            token={token as FungibleToken<ChainId, SchemaType>}\n                            onAmountChange={() => {}}\n                        />\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    color=\"primary\"\n                                    checked={ToS_Checked}\n                                    onChange={(event) => setToS_Checked(event.target.checked)}\n                                />\n                            }\n                            label={\n                                <Typography variant=\"body2\">\n                                    <Trans\n                                        i18nKey=\"plugin_artblocks_legal_text\"\n                                        components={{\n                                            terms: (\n                                                <Link\n                                                    color=\"primary\"\n                                                    target=\"_blank\"\n                                                    rel=\"noopener noreferrer\"\n                                                    href=\"https://www.artblocks.io/terms-of-service\"\n                                                />\n                                            ),\n                                        }}\n                                    />\n                                </Typography>\n                            }\n                        />\n                    </CardContent>\n                    <CardActions>\n                        <WalletConnectedBoundary expectedChainId={chainId}>\n                            {token?.schema === SchemaType.Native ? actionButton : null}\n                            {token?.schema === SchemaType.ERC20 ? (\n                                <EthereumERC20TokenApprovedBoundary\n                                    amount={project.pricePerTokenInWei}\n                                    spender={spender}\n                                    token={token}>\n                                    {actionButton}\n                                </EthereumERC20TokenApprovedBoundary>\n                            ) : null}\n                        </WalletConnectedBoundary>\n                    </CardActions>\n                </Card>\n            </DialogContent>\n        </InjectedDialog>\n    )\n}\n","import { Box } from '@mui/material'\nimport { makeStyles, ActionButton } from '@masknet/theme'\nimport { useControlledDialog } from '@masknet/shared-base-ui'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { PurchaseDialog } from './PurchaseDialog.js'\nimport type { Project } from '../types.js'\nimport { useArtBlocksTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            flex: 1,\n        },\n    }\n})\n\ninterface ActionBarProps {\n    project: Project\n    chainId: ChainId\n}\n\nexport function ActionBar(props: ActionBarProps) {\n    const t = useArtBlocksTrans()\n    const { classes } = useStyles()\n    const { project, chainId } = props\n\n    const { open: openMintDialog, onClose: onCloseMintDialog, onOpen: onOpenMintDialog } = useControlledDialog()\n\n    const status = !project.active\n        ? t.plugin_artblocks_not_active()\n        : project.complete\n        ? t.plugin_artblocks_completed()\n        : project.paused\n        ? t.plugin_artblocks_paused()\n        : t.plugin_artblocks_purchase()\n\n    return (\n        <Box className={classes.root} display=\"flex\" justifyContent=\"center\">\n            <ActionButton\n                fullWidth\n                variant=\"roundedDark\"\n                onClick={onOpenMintDialog}\n                disabled={project.complete || project.paused || !project.active}>\n                {status}\n            </ActionButton>\n            <PurchaseDialog project={project} chainId={chainId} open={openMintDialog} onClose={onCloseMintDialog} />\n        </Box>\n    )\n}\n","import { useState } from 'react'\nimport { Tab, Tabs, Paper, Card, CardHeader, CardContent, Link, Typography, Avatar, Box } from '@mui/material'\nimport { LoadingBase, makeStyles } from '@masknet/theme'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport { CollectionView } from './CollectionView.js'\nimport { DetailsView } from './DetailsView.js'\nimport { type ChainId, formatWeiToEther } from '@masknet/web3-shared-evm'\nimport { useFetchProject } from '../hooks/useProject.js'\nimport { ActionBar } from './ActionBar.js'\nimport { resolveProjectLinkOnArtBlocks, resolveUserLinkOnArtBlocks } from '../pipes/index.js'\nimport { ArtBlocksLogoUrl } from '../constants.js'\nimport { ChainBoundary } from '@masknet/shared'\nimport { useArtBlocksTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            width: '100%',\n            border: `solid 1px ${theme.palette.divider}`,\n            padding: 0,\n        },\n        tab: {\n            height: 'var(--tabHeight)',\n            minHeight: 0,\n            borderTop: `solid 1px ${theme.palette.divider}`,\n            borderBottom: `solid 1px ${theme.palette.divider}`,\n        },\n        content: {\n            padding: '0 !important',\n        },\n        body: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            minHeight: 300,\n            justifyContent: 'center',\n        },\n    }\n})\n\ninterface CollectibleProps {\n    projectId: string\n    chainId?: ChainId\n}\n\nexport function Collectible({ projectId, chainId: projectChainId }: CollectibleProps) {\n    const t = useArtBlocksTrans()\n    const { classes } = useStyles()\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>({ chainId: projectChainId })\n    const [tabIndex, setTabIndex] = useState(0)\n\n    const { value, loading, error } = useFetchProject(projectId, chainId)\n    const project = value?.projects[0]\n\n    if (loading)\n        return (\n            <div className={classes.body}>\n                <LoadingBase />\n            </div>\n        )\n\n    if (error || !project)\n        return (\n            <Typography align=\"center\" color=\"textPrimary\">\n                {t.plugin_artblocks_smt_wrong()}\n            </Typography>\n        )\n\n    const tabs = [\n        <Tab className={classes.tab} key=\"collection\" label={t.plugin_artblocks_collection()} />,\n        <Tab className={classes.tab} key=\"details\" label={t.plugin_artblocks_details()} />,\n    ]\n    const pages = [<CollectionView key=\"project\" project={project} />, <DetailsView key=\"details\" project={project} />]\n\n    const invocations = ` ${project.invocations} of ${project.maxInvocations} minted `\n    const price = formatWeiToEther(project.pricePerTokenInWei).isZero()\n        ? ''\n        : ` ${formatWeiToEther(project.pricePerTokenInWei)} ${project?.currencySymbol}`\n\n    return (\n        <>\n            <Card className={classes.root}>\n                <CardHeader\n                    avatar={<Avatar src={ArtBlocksLogoUrl} />}\n                    title={\n                        <Typography>\n                            <Link\n                                href={resolveProjectLinkOnArtBlocks(chainId, project.projectId)}\n                                title={project.name}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\">\n                                {project.name}\n                            </Link>\n                        </Typography>\n                    }\n                    subheader={\n                        <Typography>\n                            <Link\n                                href={resolveUserLinkOnArtBlocks(chainId, project.artistAddress)}\n                                title={project.artistAddress}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\">\n                                {project.artistName}\n                            </Link>{' '}\n                            &bull;{invocations}\n                            &bull;{price}\n                        </Typography>\n                    }\n                />\n                <CardContent className={classes.content}>\n                    <Tabs\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        variant=\"fullWidth\"\n                        value={tabIndex}\n                        onChange={(ev: React.ChangeEvent<{}>, newValue: number) => setTabIndex(newValue)}\n                        TabIndicatorProps={{\n                            style: {\n                                display: 'none',\n                            },\n                        }}>\n                        {tabs}\n                    </Tabs>\n                    <Paper>{pages[tabIndex]}</Paper>\n                </CardContent>\n            </Card>\n            {price ? (\n                <Box sx={{ flex: 1, display: 'flex', padding: 1.5 }}>\n                    <ChainBoundary\n                        expectedPluginID={NetworkPluginID.PLUGIN_EVM}\n                        expectedChainId={chainId}\n                        ActionButtonPromiseProps={{ variant: 'roundedDark' }}>\n                        <ActionBar chainId={chainId} project={project} />\n                    </ChainBoundary>\n                </Box>\n            ) : null}\n        </>\n    )\n}\n","import { type Plugin, usePluginWrapper, usePostInfoDetails } from '@masknet/plugin-infra/content-script'\nimport { uniq } from 'lodash-es'\nimport { Trans } from 'react-i18next'\nimport { checkUrl, getAssetInfoFromURL, getRelevantUrl } from '../utils.js'\nimport { base } from '../base.js'\nimport { extractTextFromTypedMessage } from '@masknet/typed-message'\nimport { Collectible } from './Collectible.js'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { Icons } from '@masknet/icons'\nimport { PluginID } from '@masknet/shared-base'\n\nconst site: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    init(signal) {},\n    PostInspector() {\n        const links = usePostInfoDetails.mentionedLinks()\n        const link = uniq(links).find(checkUrl)\n        const asset = getAssetInfoFromURL(link)\n        return asset?.project_id ? <Renderer chainId={asset.chain_id} projectId={asset.project_id} /> : null\n    },\n    DecryptedInspector(props) {\n        const collectibleUrl = getRelevantUrl(extractTextFromTypedMessage(props.message).unwrapOr(''))\n        const asset = getAssetInfoFromURL(collectibleUrl)\n        return asset ? <Renderer chainId={asset.chain_id} projectId={asset.project_id} /> : null\n    },\n    ApplicationEntries: [\n        {\n            ApplicationEntryID: base.ID,\n            category: 'dapp',\n            marketListSortingPriority: 15,\n            description: <Trans i18nKey=\"plugin_artblocks_description\" ns={PluginID.ArtBlocks} />,\n            name: <Trans i18nKey=\"plugin_artblocks_name\" ns={PluginID.ArtBlocks} />,\n            icon: <Icons.ArtBlocks size={36} />,\n        },\n    ],\n}\n\nfunction Renderer(\n    props: React.PropsWithChildren<{\n        chainId: ChainId\n        projectId: string\n    }>,\n) {\n    usePluginWrapper(true)\n    return <Collectible chainId={props.chainId} projectId={props.projectId} />\n}\n\nexport default site\n","import { createContext, useContext, useRef } from 'react'\nimport type { BuildInfoFile } from '@masknet/flags'\nimport { useBuildInfo_raw } from '../../index.js'\nexport interface ErrorBoundaryError {\n    /** Type of the Error */\n    type: string\n    /** The Error message */\n    message: string\n    /** The error stack */\n    stack: string\n}\n/**\n * Provide the build info for CrashUI\n */\nconst BuildInfo = createContext<() => BuildInfoFile>(useBuildInfo_raw)\nBuildInfo.displayName = 'BuildInfo'\n\nexport function BuildInfoProvider(props: React.PropsWithChildren<{ value: () => BuildInfoFile }>) {\n    return <BuildInfo.Provider {...props} />\n}\nexport function useBuildInfo() {\n    return useRef(useContext(BuildInfo)).current()\n}\nexport function useBuildInfoMarkdown() {\n    const env = useBuildInfo()\n    const gitInfo = env.COMMIT_HASH\n        ? `\n## Git (${env.DIRTY ? '*' : ''}):\n${env.COMMIT_HASH} (${env.BRANCH_NAME})`\n        : ''\n\n    const buildInfoMarkdown =\n        `## Build info\n- Version: ${env.VERSION || 'unknown'}\n- NODE_ENV: ${process.env.NODE_ENV || 'unknown'}\n- userAgent: ${navigator.userAgent}\n- build: ${env.channel || 'unknown'}\n- BUILD_DATE: ${env.BUILD_DATE || 'unknown'}\n` + gitInfo\n    return buildInfoMarkdown\n}\n","import { defer, delay, type DeferTuple } from '@masknet/kit'\nimport { Emitter } from '@servie/events'\n\nexport type SingletonModalRefCreator<OpenProps = void, CloseProps = void> = (\n    onOpen: (props: OpenProps) => void,\n    onClose: (props: CloseProps) => void,\n    onAbort: (error: Error) => void,\n) => {\n    peek: () => boolean\n    open: (props: OpenProps) => void\n    close: (props: CloseProps) => void\n    abort?: (error: Error) => void\n}\n\nexport interface SingletonModalProps {\n    children: React.ReactNode\n}\n\nexport class SingletonModal<\n    OpenProps = void,\n    CloseProps = void,\n    T extends SingletonModalRefCreator<OpenProps, CloseProps> = SingletonModalRefCreator<OpenProps, CloseProps>,\n> {\n    constructor() {\n        this.open = this.open.bind(this)\n        this.close = this.close.bind(this)\n        this.abort = this.abort.bind(this)\n        this.openAndWaitForClose = this.openAndWaitForClose.bind(this)\n    }\n    readonly emitter = new Emitter<{\n        open: [OpenProps]\n        close: [CloseProps]\n        abort: [Error]\n    }>()\n\n    protected onOpen: ReturnType<T>['open'] | undefined\n    protected onClose: ReturnType<T>['close'] | undefined\n    protected onAbort: ReturnType<T>['abort'] | undefined\n\n    private dispatchPeek: ReturnType<T>['peek'] | undefined\n    private dispatchOpen: ReturnType<T>['open'] | undefined\n    private dispatchClose: ReturnType<T>['close'] | undefined\n    private dispatchAbort: ReturnType<T>['abort'] | undefined\n\n    /**\n     * Register a React modal component that implemented a forwarded ref.\n     * The ref item should be fed with open and close methods.\n     */\n    register = (creator: T | null) => {\n        if (!creator) {\n            this.dispatchOpen = undefined\n            this.dispatchClose = undefined\n            this.dispatchAbort = undefined\n            return\n        }\n\n        const ref = creator(\n            (props) => {\n                this.onOpen?.(props)\n                this.emitter.emit('open', props)\n            },\n            (props) => {\n                this.onClose?.(props)\n                this.emitter.emit('close', props)\n            },\n            (error) => {\n                this.onAbort?.(error)\n                this.emitter.emit('abort', error)\n            },\n        )\n        this.dispatchPeek = ref.peek\n        this.dispatchOpen = ref.open\n        this.dispatchClose = ref.close\n        this.dispatchAbort = ref.abort\n    }\n\n    /**\n     * Peek the open state of the React modal component.\n     */\n    peek() {\n        return this.dispatchPeek?.() ?? false\n    }\n\n    /**\n     * Open the registered modal component with props\n     * @param props\n     */\n    open(props: OpenProps) {\n        if (typeof this.dispatchOpen === 'undefined') console.warn(\"[SingletonModal]: The modal hasn't registered yet.\")\n        this.dispatchOpen?.(props)\n    }\n\n    /**\n     * Close the registered modal component with props\n     * @param props\n     */\n    close(props: CloseProps) {\n        this.dispatchClose?.(props)\n    }\n\n    /**\n     * Abort the registered modal component with Error\n     */\n    abort(error: Error) {\n        this.dispatchAbort?.(error)\n    }\n\n    /**\n     * Open the registered modal component and wait for it closes\n     * @param props\n     */\n    openAndWaitForClose(props: OpenProps): Promise<CloseProps> {\n        return new Promise<CloseProps>((resolve, reject) => {\n            this.open(props)\n            this.onClose = (props) => resolve(props)\n            this.onAbort = (error) => reject(error)\n        })\n    }\n}\n\nexport class SingletonModalQueued<OpenProps = void, CloseProps = void> extends SingletonModal<OpenProps, CloseProps> {\n    private opened = false\n    private tasks: Array<{\n        props: OpenProps\n        defer?: DeferTuple<CloseProps, Error>\n    }> = []\n\n    constructor() {\n        super()\n\n        this.emitter.on('open', () => {\n            this.opened = true\n        })\n        this.emitter.on('close', () => {\n            this.opened = false\n            this.cleanup()\n        })\n        this.emitter.on('abort', () => {\n            this.opened = false\n            this.cleanup()\n        })\n    }\n\n    override open(props: OpenProps) {\n        if (!this.opened) {\n            super.open(props)\n            return\n        }\n\n        this.tasks.push({\n            props,\n        })\n    }\n\n    override close(props: CloseProps) {\n        if (!this.opened) return\n\n        super.close(props)\n    }\n\n    override openAndWaitForClose(props: OpenProps) {\n        if (!this.opened) return super.openAndWaitForClose(props)\n\n        const d = defer<CloseProps, Error>()\n        this.tasks.push({\n            props,\n            defer: d,\n        })\n        return d[0]\n    }\n\n    private async cleanup() {\n        if (this.opened || !this.tasks.length) return\n\n        await delay(300)\n\n        const { props, defer } = this.tasks.shift()!\n\n        this.open(props)\n        if (!defer) return\n        this.onClose = (props) => defer[1](props)\n        this.onAbort = (error) => defer[2](error)\n    }\n}\n","import { useSubscription } from 'use-subscription'\nimport { FALSE, TRUE, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useAllowTestnet<T extends NetworkPluginID>(pluginID?: T) {\n    const { Settings } = useWeb3State(pluginID)\n    return useSubscription(Settings?.allowTestnet ?? (process.env.NODE_ENV === 'development' ? TRUE : FALSE))\n}\n","import React, { memo } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { delay } from '@masknet/kit'\nimport { Box } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, ShadowRootTooltip, ActionButton, useCustomSnackbar } from '@masknet/theme'\nimport {\n    useNetworkContext,\n    useChainContext,\n    useNetworkDescriptor,\n    useAllowTestnet,\n    useChainIdValid,\n    RevokeChainContextProvider,\n    useWeb3Others,\n    useWeb3Connection,\n} from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { WalletIcon } from '../WalletIcon/index.js'\nimport { type ActionButtonPromiseProps } from '../ActionButton/index.js'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { SelectProviderModal } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    tooltip: {\n        background: theme.palette.common.black,\n        color: theme.palette.common.white,\n        borderRadius: 4,\n        padding: 10,\n        maxWidth: 260,\n    },\n    arrow: {\n        color: theme.palette.common.black,\n    },\n    connectWallet: {\n        '& > .MuiButton-startIcon': {\n            lineHeight: 1,\n        },\n    },\n}))\n\nexport interface ChainBoundaryProps<T extends NetworkPluginID> extends withClasses<'switchButton'> {\n    /** The expected network plugin ID */\n    expectedPluginID: T\n    /** The expected sub-network under the network plugin */\n    expectedChainId: Web3Helper.Definition[T]['ChainId']\n    /** Judge the network is available for children components */\n    predicate?: (actualPluginID: NetworkPluginID, actualChainId: Web3Helper.Definition[T]['ChainId']) => boolean\n    expectedAccount?: string\n    className?: string\n    hiddenConnectButton?: boolean\n    switchChainWithoutPopup?: boolean\n    forceShowingWrongNetworkButton?: boolean\n    children?: React.ReactNode\n    ActionButtonPromiseProps?: Partial<ActionButtonPromiseProps>\n    actualNetworkPluginID?: T\n    switchText?: string\n    disableConnectWallet?: boolean\n}\n\nexport function ChainBoundaryWithoutContext<T extends NetworkPluginID>(props: ChainBoundaryProps<T>) {\n    const {\n        expectedPluginID,\n        expectedChainId,\n        expectedAccount,\n        actualNetworkPluginID,\n        switchText,\n        forceShowingWrongNetworkButton = false,\n        disableConnectWallet = false,\n        predicate = (actualPluginID, actualChainId) =>\n            actualPluginID === expectedPluginID && actualChainId === expectedChainId,\n    } = props\n\n    const t = useSharedTrans()\n    const { classes } = useStyles(undefined, { props })\n\n    const { pluginID: actualPluginID } = useNetworkContext(actualNetworkPluginID)\n\n    const Web3 = useWeb3Connection(actualPluginID)\n\n    const { showSnackbar } = useCustomSnackbar()\n    const {\n        account,\n        chainId: actualChainId,\n        providerType: actualProviderType,\n    } = useChainContext({ account: expectedAccount })\n\n    const expectedOthers = useWeb3Others(expectedPluginID)\n    const expectedAllowTestnet = useAllowTestnet(expectedPluginID)\n\n    const chainIdValid = useChainIdValid(actualPluginID)\n\n    const expectedChainName = expectedOthers.chainResolver.chainName(expectedChainId)\n    const expectedNetworkDescriptor = useNetworkDescriptor(expectedPluginID, expectedChainId)\n    const expectedChainAllowed = expectedOthers.chainResolver.isValidChainId(expectedChainId, expectedAllowTestnet)\n\n    const isPluginIDMatched = actualPluginID === expectedPluginID\n    const isMatched = predicate(actualPluginID, actualChainId)\n\n    const [{ loading }, onSwitchChain] = useAsyncFn(async () => {\n        try {\n            if (actualProviderType !== ProviderType.WalletConnect || isMatched || !expectedChainAllowed) return\n            await Web3.switchChain?.(expectedChainId)\n            await delay(1500)\n\n            return 'complete'\n        } catch (error) {\n            if (error instanceof Error) {\n                if (error.message === 'Chain currently not supported' || error.message === 'Invalid Request') {\n                    showSnackbar(t.plugin_wallet_switch_network_title(), {\n                        processing: false,\n                        variant: 'error',\n                        message: t.plugin_wallet_unsupported_chain({ network: expectedChainName ?? '' }),\n                        autoHideDuration: 5000,\n                    })\n                } else {\n                    showSnackbar(t.plugin_wallet_switch_network_title(), {\n                        processing: false,\n                        variant: 'error',\n                        message: t.plugin_wallet_switch_chain_failed(),\n                        autoHideDuration: 5000,\n                    })\n                }\n            }\n            return 'failed'\n        }\n    }, [expectedChainAllowed, isMatched, expectedChainId, actualProviderType, Web3, expectedChainName])\n\n    const renderBox = (children?: React.ReactNode, tips?: string) => {\n        return (\n            <ShadowRootTooltip\n                title={tips ?? ''}\n                classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                arrow\n                placement=\"top\">\n                <Box className={props.className} display=\"flex\" flexDirection=\"column\" width=\"100%\">\n                    {children}\n                </Box>\n            </ShadowRootTooltip>\n        )\n    }\n\n    if (!chainIdValid && !expectedChainAllowed && forceShowingWrongNetworkButton)\n        return renderBox(\n            !props.hiddenConnectButton ? (\n                <ActionButton\n                    fullWidth\n                    startIcon={<Icons.Wallet size={18} />}\n                    onClick={() => SelectProviderModal.open()}\n                    {...props.ActionButtonPromiseProps}>\n                    {t.plugin_wallet_wrong_network()}\n                </ActionButton>\n            ) : null,\n        )\n\n    // No wallet connected\n    if (!account && !disableConnectWallet)\n        return renderBox(\n            !props.hiddenConnectButton ? (\n                <ActionButton\n                    className={classes.connectWallet}\n                    fullWidth\n                    startIcon={<Icons.Wallet size={18} />}\n                    onClick={() => SelectProviderModal.open()}\n                    {...props.ActionButtonPromiseProps}>\n                    {t.plugin_wallet_connect_a_wallet()}\n                </ActionButton>\n            ) : null,\n        )\n\n    // Network mismatch\n    if (!isPluginIDMatched) {\n        return renderBox(\n            <ActionButton\n                fullWidth\n                className={classes.switchButton}\n                disabled={actualProviderType === ProviderType.WalletConnect}\n                startIcon={<WalletIcon mainIcon={expectedNetworkDescriptor?.icon} size={18} />}\n                sx={props.ActionButtonPromiseProps?.sx}\n                onClick={() => SelectProviderModal.open()}\n                {...props.ActionButtonPromiseProps}>\n                {t.plugin_wallet_change_wallet()}\n            </ActionButton>,\n            actualProviderType === ProviderType.WalletConnect\n                ? t.plugin_wallet_connect_tips()\n                : t.plugin_wallet_not_support_network(),\n        )\n    }\n\n    // Provider is Wallet Connect\n    if (actualProviderType === ProviderType.WalletConnect && !isMatched) {\n        return renderBox(\n            <ActionButton\n                startIcon={<WalletIcon mainIcon={expectedNetworkDescriptor?.icon} size={18} />}\n                onClick={onSwitchChain}\n                loading={loading}\n                className={classes.switchButton}\n                sx={props.ActionButtonPromiseProps?.sx}\n                {...props.ActionButtonPromiseProps}>\n                {switchText ?? t.plugin_wallet_switch_network({ network: expectedChainName ?? '' })}\n            </ActionButton>,\n            t.plugin_wallet_connect_tips(),\n        )\n    }\n\n    return props.children\n}\n\nexport const ChainBoundary = memo(function <T extends NetworkPluginID>(props: ChainBoundaryProps<T>) {\n    return (\n        <RevokeChainContextProvider>\n            <ChainBoundaryWithoutContext {...props} />\n        </RevokeChainContextProvider>\n    )\n})\n\nChainBoundary.displayName = 'ChainBoundary'\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"\n}), 'HelpOutline');","import React, { useCallback, useMemo } from 'react'\nimport { unreachable } from '@masknet/kit'\nimport { TokenIcon } from '@masknet/shared'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { ActionButton, ShadowRootTooltip, makeStyles, type ActionButtonProps } from '@masknet/theme'\nimport { useChainContext, useFungibleTokenBalance, useFungibleTokenSpenders } from '@masknet/web3-hooks-base'\nimport { ApproveStateType, useERC20TokenApproveCallback } from '@masknet/web3-hooks-evm'\nimport { isGte, isSameAddress, type FungibleToken, rightShift } from '@masknet/web3-shared-base'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { HelpOutline } from '@mui/icons-material'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles<void, 'icon'>()((theme, _, refs) => ({\n    icon: {},\n    button: {\n        whiteSpace: 'nowrap',\n        // increase selector priority over button's\n        [`.${refs.icon}`]: {\n            width: 18,\n            height: 18,\n            fontSize: 10,\n        },\n    },\n    helpIcon: {\n        width: 18,\n        height: 18,\n    },\n}))\n\nexport interface EthereumERC20TokenApprovedBoundaryProps extends withClasses<'button' | 'container'> {\n    amount: string\n    balance?: string\n    spender?: string\n    token?: FungibleToken<ChainId, SchemaType>\n    fallback?: React.ReactNode\n    children?: React.ReactNode | ((allowance: string) => React.ReactNode)\n    infiniteUnlockContent?: React.ReactNode\n    ActionButtonProps?: ActionButtonProps\n    contractName?: string\n    showHelperToken?: boolean\n    failedContent?: React.ReactNode\n    callback?: () => void\n}\n\nexport function EthereumERC20TokenApprovedBoundary(props: EthereumERC20TokenApprovedBoundaryProps) {\n    const {\n        children = null,\n        amount,\n        balance,\n        spender,\n        token,\n        infiniteUnlockContent,\n        contractName,\n        showHelperToken = true,\n        failedContent,\n        callback,\n    } = props\n\n    const t = useSharedTrans()\n    const { classes } = useStyles(undefined, { props })\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>({ chainId: token?.chainId })\n    const { data: tokenBalance } = useFungibleTokenBalance(NetworkPluginID.PLUGIN_EVM, token?.address, {\n        chainId,\n    })\n\n    const {\n        data: spenders,\n        isLoading: spendersLoading,\n        isError,\n        refetch,\n    } = useFungibleTokenSpenders(NetworkPluginID.PLUGIN_EVM, {\n        chainId,\n        account,\n    })\n\n    const approveAmount = balance || tokenBalance || amount\n    const [{ type: approveStateType, allowance }, transactionState, approveCallback] = useERC20TokenApproveCallback(\n        token?.address ?? '',\n        approveAmount,\n        spender ?? '',\n        () => {\n            callback?.()\n            refetch()\n        },\n        token?.chainId,\n    )\n    const approved = useMemo(() => {\n        if (isGte(allowance, amount)) return true\n        if (!token?.address || !spenders?.length) return false\n        return spenders.some((x) => {\n            return (\n                isSameAddress(x.tokenInfo.address, token.address) &&\n                isSameAddress(x.address, spender) &&\n                isGte(rightShift(x.amount || 0, x.tokenInfo.decimals || token.decimals), amount)\n            )\n        })\n    }, [allowance, amount, spenders, token?.address, token?.decimals, spender])\n\n    const loading =\n        spendersLoading ||\n        approveStateType === ApproveStateType.UPDATING ||\n        transactionState.loadingApprove ||\n        transactionState.loading\n\n    const onApprove = useCallback(async () => {\n        if (approved || loading) return\n        await approveCallback(true)\n    }, [approved, loading, approveCallback])\n\n    // not a valid erc20 token, please given token as undefined\n    if (!token) return <>{typeof children === 'function' ? children(allowance) : children}</>\n\n    if (isError)\n        return (\n            <ActionButton\n                className={classes.button}\n                fullWidth\n                variant=\"contained\"\n                onClick={() => refetch()}\n                {...props.ActionButtonProps}>\n                {failedContent ?? t.wallet_load_retry({ symbol: token.symbol ?? token.name ?? 'Token' })}\n            </ActionButton>\n        )\n    if (loading || !approved)\n        return (\n            <ActionButton\n                loading={loading}\n                className={classes.button}\n                fullWidth\n                variant=\"contained\"\n                startIcon={\n                    <TokenIcon\n                        className={classes.icon}\n                        address={token.address}\n                        chainId={token.chainId}\n                        name={token.name}\n                        disableDefaultIcon\n                    />\n                }\n                endIcon={\n                    showHelperToken ? (\n                        <ShadowRootTooltip\n                            title={t.plugin_wallet_token_infinite_unlock_tips({\n                                provider: contractName ?? '',\n                                symbol: token.symbol,\n                            })}\n                            placement=\"top\"\n                            arrow\n                            leaveDelay={2000}\n                            disableInteractive\n                            disableFocusListener\n                            disableTouchListener>\n                            <HelpOutline className={classes.helpIcon} />\n                        </ShadowRootTooltip>\n                    ) : null\n                }\n                onClick={onApprove}\n                {...props.ActionButtonProps}>\n                {infiniteUnlockContent ?? t.plugin_wallet_token_infinite_unlock({ symbol: token.symbol })}\n            </ActionButton>\n        )\n    if (approved) return <>{typeof children === 'function' ? children(allowance) : children}</>\n\n    unreachable(approved)\n}\n","import { memo } from 'react'\nimport {\n    Typography,\n    InputBase,\n    Box,\n    Chip,\n    lighten,\n    inputBaseClasses,\n    chipClasses,\n    type InputBaseProps,\n    alpha,\n} from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { formatBalance } from '@masknet/web3-shared-base'\nimport { Icons } from '@masknet/icons'\nimport { FormattedBalance, TokenIcon, useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        position: 'relative',\n        height: 66,\n        padding: theme.spacing(1.25, 1.5),\n        [`& > .${inputBaseClasses.input}`]: {\n            paddingTop: `${theme.spacing(2.75)}!important`,\n            paddingBottom: '0px !important',\n            flex: 2,\n            paddingLeft: '0px !important',\n            fontSize: 14,\n            fontWeight: 400,\n        },\n    },\n    title: {\n        position: 'absolute',\n        top: 10,\n        left: 12,\n    },\n    label: {\n        fontSize: 13,\n        lineHeight: '18px',\n        color: theme.palette.maskColor.second,\n        whiteSpace: 'nowrap',\n    },\n    control: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-end',\n        rowGap: 4,\n        flex: 1,\n    },\n    chip: {\n        background: 'transparent',\n        cursor: 'pointer',\n        fontSize: 14,\n        lineHeight: '18px',\n        fontWeight: 700,\n        color: theme.palette.maskColor.main,\n    },\n    tokenIcon: {\n        width: 20,\n        height: 20,\n        marginRight: '0px !important',\n    },\n    selectToken: {\n        backgroundColor: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        fontSize: 12,\n        lineHeight: '16px',\n        fontWeight: 700,\n        padding: theme.spacing(0.5, 1),\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderRadius: 99,\n        cursor: 'pointer',\n        ['&:hover']: {\n            backgroundColor: lighten(theme.palette.maskColor.primary, 0.1),\n        },\n    },\n    maxChip: {\n        color: theme.palette.maskColor.white,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: 18,\n        padding: '0 3px',\n        borderRadius: 4,\n        fontSize: 10,\n        marginLeft: 4,\n        fontWeight: 700,\n        lineHeight: '18px',\n        cursor: 'pointer',\n        background: theme.palette.maskColor.primary,\n        '&:hover': {\n            background: alpha(theme.palette.maskColor.primary, 0.8),\n        },\n        [`& > .${chipClasses.label}`]: {\n            padding: 0,\n        },\n    },\n    balance: {\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n        color: theme.palette.maskColor.main,\n        lineHeight: '18px',\n        fontWeight: 700,\n        marginLeft: 4,\n    },\n    arrowIcon: {\n        color: `${theme.palette.maskColor.second}!important`,\n    },\n    chipLabel: {\n        maxWidth: 150,\n    },\n}))\n\nexport interface FungibleTokenInputUIProps extends InputBaseProps {\n    label: string\n    disableMax?: boolean\n    isNative?: boolean\n    token?: Web3Helper.FungibleTokenAll | null\n    onSelectToken?: () => void\n    onMaxClick: () => void\n    balance: string\n    loadingBalance?: boolean\n    disableBalance?: boolean\n    disableToken?: boolean\n}\n\nexport const FungibleTokenInputUI = memo<FungibleTokenInputUIProps>(\n    ({\n        label,\n        isNative,\n        token,\n        onSelectToken,\n        onMaxClick,\n        balance,\n        loadingBalance,\n        disableMax = false,\n        disableToken = false,\n        disableBalance = false,\n        ...props\n    }) => {\n        const { classes, cx } = useStyles()\n        const t = useSharedTrans()\n        return (\n            <InputBase\n                fullWidth\n                startAdornment={<Typography className={cx(classes.label, classes.title)}>{label}</Typography>}\n                endAdornment={\n                    <Box className={classes.control} justifyContent={disableBalance ? 'flex-end' : undefined}>\n                        <Typography className={classes.label} display=\"flex\" alignItems=\"center\" component=\"div\">\n                            {!disableBalance ? (\n                                <>\n                                    {isNative ? t.available_balance() : t.balance()}:\n                                    <Typography className={classes.balance} component=\"span\">\n                                        {token && !loadingBalance ? (\n                                            <FormattedBalance\n                                                value={balance}\n                                                decimals={token?.decimals}\n                                                significant={token?.decimals}\n                                                formatter={formatBalance}\n                                            />\n                                        ) : (\n                                            '--'\n                                        )}\n                                    </Typography>\n                                </>\n                            ) : null}\n                            {!disableMax ? (\n                                <Chip className={classes.maxChip} label=\"MAX\" size=\"small\" onClick={onMaxClick} />\n                            ) : null}\n                        </Typography>\n                        {!disableToken ? (\n                            <Box display=\"flex\" alignItems=\"center\" columnGap=\"12px\">\n                                {token ? (\n                                    <>\n                                        <Chip\n                                            size=\"small\"\n                                            onClick={onSelectToken}\n                                            className={classes.chip}\n                                            classes={{ label: classes.chipLabel }}\n                                            icon={\n                                                <TokenIcon\n                                                    className={classes.tokenIcon}\n                                                    address={token.address}\n                                                    name={token.name}\n                                                    chainId={token.chainId}\n                                                    logoURL={token.logoURL}\n                                                />\n                                            }\n                                            deleteIcon={<Icons.ArrowDrop className={classes.arrowIcon} size={24} />}\n                                            onDelete={onSelectToken}\n                                            label={token.symbol}\n                                        />\n                                    </>\n                                ) : (\n                                    <Box className={classes.selectToken} onClick={onSelectToken}>\n                                        {t.select_a_token()}\n                                        <Icons.ArrowDrop size={16} />\n                                    </Box>\n                                )}\n                            </Box>\n                        ) : null}\n                    </Box>\n                }\n                {...props}\n                onChange={(ev) => {\n                    if (\n                        ev.currentTarget.value &&\n                        !new RegExp(props?.inputProps?.pattern).test(ev.currentTarget.value)\n                    ) {\n                        return\n                    }\n                    props.onChange?.(ev)\n                }}\n                className={cx(classes.root, props.className)}\n            />\n        )\n    },\n)\nFungibleTokenInputUI.displayName = 'FungibleTokenInputUI'\n","import { BigNumber } from 'bignumber.js'\nimport { type ChangeEvent, memo, useCallback, useMemo } from 'react'\nimport { useWeb3Others } from '@masknet/web3-hooks-base'\nimport { NUMERIC_INPUT_REGEXP_PATTERN } from '@masknet/shared-base'\nimport { formatBalance, isZero, leftShift } from '@masknet/web3-shared-base'\nimport { FungibleTokenInputUI, type FungibleTokenInputUIProps } from './UI.js'\n\nconst MIN_AMOUNT_LENGTH = 1\nconst MAX_AMOUNT_LENGTH = 79\n\nexport interface FungibleTokenInputProps extends Omit<FungibleTokenInputUIProps, 'onMaxClick'> {\n    amount: string\n    maxAmount?: string\n    maxAmountShares?: number\n    disabled?: boolean\n    placeholder?: string\n    onAmountChange: (amount: string) => void\n    isAvailableBalance?: boolean\n}\n\nexport const FungibleTokenInput = memo<FungibleTokenInputProps>(\n    ({\n        label,\n        token,\n        disabled,\n        disableMax,\n        disableBalance,\n        disableToken,\n        loadingBalance,\n        onSelectToken,\n        onAmountChange,\n        amount,\n        maxAmount,\n        balance,\n        isAvailableBalance,\n        placeholder = '0.0',\n        maxAmountShares = 1,\n        className,\n    }) => {\n        const Others = useWeb3Others()\n\n        const isNative = isAvailableBalance ?? Others.isNativeTokenAddress(token?.address)\n\n        // #region update amount by self\n        const { RE_MATCH_WHOLE_AMOUNT, RE_MATCH_FRACTION_AMOUNT } = useMemo(\n            () => ({\n                RE_MATCH_FRACTION_AMOUNT: new RegExp(`^\\\\.\\\\d{0,${token?.decimals}}$`),\n                RE_MATCH_WHOLE_AMOUNT: new RegExp(`^\\\\d*\\\\.?\\\\d{0,${token?.decimals}}$`), // d.ddd...d\n            }),\n            [token?.decimals],\n        )\n        const onChange = useCallback(\n            (ev: ChangeEvent<HTMLInputElement>) => {\n                const amount_ = ev.currentTarget.value.replaceAll(',', '.')\n                if (RE_MATCH_FRACTION_AMOUNT.test(amount_)) onAmountChange(`0${amount_}`)\n                else if (amount_ === '' || RE_MATCH_WHOLE_AMOUNT.test(amount_)) onAmountChange(amount_)\n            },\n            [onAmountChange, RE_MATCH_WHOLE_AMOUNT, RE_MATCH_FRACTION_AMOUNT],\n        )\n        // #endregion\n\n        return (\n            <FungibleTokenInputUI\n                label={label}\n                isNative={isNative}\n                token={token}\n                onSelectToken={onSelectToken}\n                value={amount}\n                onChange={onChange}\n                className={className}\n                inputProps={{\n                    autoComplete: 'off',\n                    autoCorrect: 'off',\n                    title: 'Token Amount',\n                    inputMode: 'decimal',\n                    min: 0,\n                    minLength: MIN_AMOUNT_LENGTH,\n                    maxLength: MAX_AMOUNT_LENGTH,\n                    pattern: NUMERIC_INPUT_REGEXP_PATTERN,\n                    spellCheck: false,\n                }}\n                placeholder={placeholder}\n                onKeyDown={(ev) => {\n                    if (ev.key === 'Enter') ev.preventDefault()\n                }}\n                onMaxClick={() => {\n                    if (!token) return\n                    const amount = new BigNumber(maxAmount ?? balance).dividedBy(maxAmountShares).decimalPlaces(0, 1)\n                    const formattedBalance = formatBalance(\n                        amount,\n                        token.decimals,\n                        token.decimals,\n                        true,\n                        false,\n                        4,\n                        false,\n                    )\n\n                    onAmountChange(\n                        (isZero(formattedBalance)\n                            ? new BigNumber(leftShift(amount, token.decimals).toPrecision(2)).toFormat()\n                            : formattedBalance) ?? '0',\n                    )\n                }}\n                balance={balance}\n                required\n                loadingBalance={loadingBalance}\n                disabled={disabled}\n                disableMax={disableMax}\n                disableBalance={disableBalance}\n                disableToken={disableToken}\n            />\n        )\n    },\n)\nFungibleTokenInput.displayName = 'FungibleTokenInput'\n","const DEFAULT_IMAGES = [\n    new URL('./Aura1.svg', import.meta.url).toString(),\n    new URL('./Aura2.svg', import.meta.url).toString(),\n    new URL('./Aura3.svg', import.meta.url).toString(),\n    new URL('./Aura4.svg', import.meta.url).toString(),\n    new URL('./Aura5.svg', import.meta.url).toString(),\n    new URL('./Aura6.svg', import.meta.url).toString(),\n    new URL('./Aura7.svg', import.meta.url).toString(),\n    new URL('./Aura8.svg', import.meta.url).toString(),\n    new URL('./Aura9.svg', import.meta.url).toString(),\n    new URL('./Aura10.svg', import.meta.url).toString(),\n    new URL('./Aura11.svg', import.meta.url).toString(),\n    new URL('./Aura12.svg', import.meta.url).toString(),\n]\n\nexport const name2Image = (name?: string): string => {\n    if (!name) return DEFAULT_IMAGES[0]\n    let sum = 0\n    for (let i = 0; i < name.length; i += 1) {\n        sum += name.charCodeAt(i)\n    }\n\n    return DEFAULT_IMAGES[sum % DEFAULT_IMAGES.length]\n}\n","import { memo, useState } from 'react'\nimport { Avatar, type AvatarProps, useTheme } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { name2Image } from './name2Image.js'\n\nconst useStyles = makeStyles<Pick<IconProps, 'size'>>()((theme, { size }) => ({\n    icon: {\n        margin: 0,\n        borderRadius: '50%',\n        color: `${theme.palette.maskColor.dark} !important`,\n        backgroundSize: 'cover',\n        height: size,\n        width: size,\n    },\n}))\n\nexport interface IconProps extends AvatarProps {\n    color?: string\n    size?: number | string\n    name?: string\n    label?: string\n    logoURL?: string\n}\n\nexport const Icon = memo<IconProps>(function Icon(props) {\n    const { logoURL, size, color, name, label, className, ...rest } = props\n    const [failed, setFailed] = useState(false)\n\n    const defaultBackgroundImage = name2Image(name)\n    const { classes, cx } = useStyles({ size })\n    const theme = useTheme()\n\n    const showImage = logoURL && !failed\n\n    return (\n        <Avatar\n            className={cx(classes.icon, className)}\n            src={logoURL}\n            {...rest}\n            imgProps={{\n                onError: (event) => {\n                    setFailed(true)\n                    rest.imgProps?.onError?.(event)\n                },\n                ...rest.imgProps,\n            }}\n            sx={{\n                ...rest.sx,\n                backgroundImage: showImage ? undefined : `url(\"${defaultBackgroundImage}\")`,\n                backgroundColor: showImage ? color ?? theme.palette.common.white : undefined,\n            }}>\n            {label ?? name?.slice(0, 1).toUpperCase() ?? '?'}\n        </Avatar>\n    )\n})\n\nIcon.displayName = 'Icon'\n","import { memo, type HTMLProps, type CSSProperties } from 'react'\n\nexport interface ImageIconProps extends HTMLProps<HTMLImageElement> {\n    size?: number\n    icon?: string\n    iconFilterColor?: string\n}\n\nexport const ImageIcon = memo(function ImageIcon({ size = 48, icon, iconFilterColor, ...rest }: ImageIconProps) {\n    const style: CSSProperties | undefined = iconFilterColor\n        ? {\n              filter: `drop-shadow(0px 6px 12px ${iconFilterColor})`,\n              backdropFilter: 'blur(16px)',\n              ...rest.style,\n          }\n        : rest.style\n\n    return <img height={size} width={size} src={icon?.toString()} {...rest} style={style} />\n})\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useFungibleToken, useWeb3Hub } from '@masknet/web3-hooks-base'\nimport { TokenType } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { first } from 'lodash-es'\nimport { memo } from 'react'\nimport { Icon, type IconProps } from '../Icon/index.js'\n\nexport interface TokenIconProps extends IconProps {\n    pluginID?: NetworkPluginID\n    chainId?: Web3Helper.ChainIdAll\n    address: string\n    symbol?: string\n    tokenType?: TokenType\n    disableDefaultIcon?: boolean\n}\n\nexport const TokenIcon = memo(function TokenIcon(props: TokenIconProps) {\n    const {\n        pluginID = NetworkPluginID.PLUGIN_EVM,\n        chainId: propChainId,\n        address,\n        logoURL,\n        symbol,\n        tokenType = TokenType.Fungible,\n        disableDefaultIcon,\n        name,\n        ...rest\n    } = props\n    const { data: token } = useFungibleToken(pluginID, address, undefined, { chainId: propChainId })\n\n    const { chainId } = useChainContext({ chainId: props.chainId })\n    const Hub = useWeb3Hub(pluginID)\n    const isNFT = tokenType === TokenType.NonFungible\n    const { data } = useQuery({\n        queryKey: ['token-icon', chainId, address, isNFT],\n        enabled: !logoURL,\n        queryFn: async () => {\n            const logoURLs = isNFT\n                ? (() => {\n                      throw new Error(\n                          \"Unreachable: it used to call Hub.getNonFungibleTokenIconURLs, but it's default implementation is throw an error, and not override by any subclass.\",\n                      )\n                  })()\n                : await Hub.getFungibleTokenIconURLs(chainId, address).catch(() => [])\n            return first(logoURLs)\n        },\n    })\n\n    if (data && disableDefaultIcon) return null\n    const text = token?.name || token?.symbol || symbol || name || '?' // `?` prevent to fallback to avatar icon\n    const url = logoURL || token?.logoURL || data\n    return <Icon {...rest} logoURL={url} name={text} />\n})\n","import { useSubscription } from 'use-subscription'\nimport { FALSE, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRiskWarningApproved<T extends NetworkPluginID>(pluginID?: T) {\n    const { RiskWarning } = useWeb3State(pluginID)\n    return useSubscription(RiskWarning?.approved ?? FALSE)\n}\n","import { makeStyles, ActionButton, type ActionButtonProps } from '@masknet/theme'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { isZero } from '@masknet/web3-shared-base'\nimport {\n    useChainContext,\n    useNetworkContext,\n    useNativeTokenBalance,\n    useRiskWarningApproved,\n    useWallet,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useAsync } from 'react-use'\nimport { SmartPayBundler } from '@masknet/web3-providers'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { SelectProviderModal, WalletRiskWarningModal } from '../../modals/modals.js'\n\nconst useStyles = makeStyles()({\n    button: {\n        margin: 0,\n    },\n})\n\nexport interface WalletConnectedBoundaryProps extends withClasses<'connectWallet' | 'button'> {\n    offChain?: boolean\n    children?: React.ReactNode\n    expectedChainId: Web3Helper.ChainIdAll\n    hideRiskWarningConfirmed?: boolean\n    ActionButtonProps?: ActionButtonProps\n    startIcon?: React.ReactNode\n}\n\nexport function WalletConnectedBoundary(props: WalletConnectedBoundaryProps) {\n    const { children = null, offChain = false, hideRiskWarningConfirmed = false, expectedChainId } = props\n\n    const t = useSharedTrans()\n    const { classes, cx } = useStyles(undefined, { props })\n\n    const { pluginID } = useNetworkContext()\n    const { account, chainId: chainIdValid } = useChainContext({ chainId: expectedChainId })\n    const wallet = useWallet()\n    const { value: smartPayChainId } = useAsync(async () => SmartPayBundler.getSupportedChainId(), [])\n\n    const nativeTokenBalance = useNativeTokenBalance(undefined, {\n        chainId: chainIdValid,\n    })\n    const approved = useRiskWarningApproved()\n\n    const buttonClass = cx(classes.button, classes.connectWallet)\n\n    if (!account)\n        return (\n            <ActionButton\n                startIcon={props.startIcon}\n                className={buttonClass}\n                fullWidth\n                onClick={() => SelectProviderModal.open()}\n                {...props.ActionButtonProps}>\n                {t.plugin_wallet_connect_a_wallet()}\n            </ActionButton>\n        )\n\n    if (!approved && !hideRiskWarningConfirmed && pluginID === NetworkPluginID.PLUGIN_EVM)\n        return (\n            <ActionButton\n                className={buttonClass}\n                fullWidth\n                variant=\"contained\"\n                onClick={() => {\n                    WalletRiskWarningModal.open({\n                        account,\n                        pluginID,\n                    })\n                }}\n                {...props.ActionButtonProps}>\n                {t.plugin_wallet_confirm_risk_warning()}\n            </ActionButton>\n        )\n\n    if (!(wallet?.owner && chainIdValid === smartPayChainId) && isZero(nativeTokenBalance.value ?? '0') && !offChain)\n        return (\n            <ActionButton\n                className={buttonClass}\n                disabled={!nativeTokenBalance.error}\n                fullWidth\n                variant=\"contained\"\n                onClick={nativeTokenBalance.retry}\n                {...props.ActionButtonProps}>\n                {nativeTokenBalance.loading ? t.plugin_wallet_update_gas_fee() : t.plugin_wallet_no_gas_fee()}\n            </ActionButton>\n        )\n\n    if (!chainIdValid && !offChain)\n        return (\n            <ActionButton className={buttonClass} disabled fullWidth variant=\"contained\" {...props.ActionButtonProps}>\n                {t.plugin_wallet_invalid_network()}\n            </ActionButton>\n        )\n\n    return <>{children}</>\n}\n","import { makeStyles } from '@masknet/theme'\nimport { ImageIcon } from '../ImageIcon/index.js'\n\ninterface StyleProps {\n    size: number\n    badgeIconBorderColor?: string\n}\n\nconst useStyles = makeStyles<StyleProps>()((theme, props) => ({\n    root: {\n        position: 'relative',\n        display: 'flex',\n        height: props.size,\n        width: props.size,\n    },\n    mainIcon: {\n        display: 'block',\n    },\n    badgeIcon: {\n        position: 'absolute',\n        right: -6,\n        bottom: -4,\n        border: `1px solid ${props.badgeIconBorderColor ?? theme.palette.common.white}`,\n        borderRadius: '50%',\n    },\n}))\n\ninterface WalletIconProps extends withClasses<'root' | 'mainIcon'> {\n    size?: number\n    badgeSize?: number\n    mainIcon?: string\n    badgeIcon?: string\n    badgeIconBorderColor?: string\n    iconFilterColor?: string\n}\n\nexport function WalletIcon(props: WalletIconProps) {\n    const { size = 24, badgeSize = 14, mainIcon, badgeIcon, badgeIconBorderColor, iconFilterColor } = props\n    const { classes } = useStyles(\n        {\n            size: badgeSize > size ? badgeSize : size,\n            badgeIconBorderColor,\n        },\n        { props: { classes: props.classes } },\n    )\n\n    return (\n        <div\n            className={classes.root}\n            style={{\n                height: size,\n                width: size,\n            }}>\n            {mainIcon ? (\n                <ImageIcon className={classes.mainIcon} size={size} icon={mainIcon} iconFilterColor={iconFilterColor} />\n            ) : null}\n            {badgeIcon ? <ImageIcon className={classes.badgeIcon} size={badgeSize} icon={badgeIcon} /> : null}\n        </div>\n    )\n}\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { SelectProviderModalOpenProps, SelectProviderModalCloseProps } from './SelectProviderModal/index.js'\nimport type { WalletConnectQRCodeOpenProps } from './WalletConnectQRCodeModal/index.js'\nimport type { WalletRiskWarningModalOpenProps } from './WalletRiskWarningModal/index.js'\nimport type { ConnectWalletModalOpenProps, ConnectWalletModalCloseProps } from './ConnectWalletModal/index.js'\nimport type { LeavePageConfirmModalOpenProps } from './LeavePageConfirmModal/index.js'\nimport type {\n    ApplicationBoardModalOpenProps,\n    ApplicationBoardSettingsModalOpenProps,\n} from './ApplicationBoardModal/index.js'\nimport type { GasSettingModalOpenOrCloseProps } from './GasSettingModal/index.js'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { ConfirmDialogOpenProps } from './ConfirmDialog/index.js'\nimport type { TransactionConfirmModalOpenProps } from './TokenTransactionConfirmModal/index.js'\nimport type { SelectNonFungibleContractModalOpenProps } from './SelectNonFungibleContractModal/index.js'\nimport type {\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps,\n} from './SelectFungibleTokenModal/index.js'\nimport type {\n    SelectGasSettingsModalCloseProps,\n    SelectGasSettingsModalOpenProps,\n} from './SelectAdvancedSettingsDialog/index.js'\nimport type { AddCollectiblesModalCloseProps, AddCollectiblesModalOpenProps } from './AddCollectiblesModal/index.js'\nimport type { PersonaSelectPanelModalOpenProps } from './PersonaSelectPanelModal/index.js'\nimport type { ShareSelectNetworkModalOpenProps } from './ShareSelectNetwork/index.js'\n\nexport const WalletConnectQRCodeModal = new SingletonModal<WalletConnectQRCodeOpenProps>()\nexport const SelectProviderModal = new SingletonModal<SelectProviderModalOpenProps, SelectProviderModalCloseProps>()\nexport const WalletStatusModal = new SingletonModal()\nexport const WalletRiskWarningModal = new SingletonModal<WalletRiskWarningModalOpenProps>()\nexport const ConnectWalletModal = new SingletonModal<ConnectWalletModalOpenProps, ConnectWalletModalCloseProps>()\nexport const LeavePageConfirmModal = new SingletonModal<LeavePageConfirmModalOpenProps>()\nexport const ApplicationBoardModal = new SingletonModal<ApplicationBoardModalOpenProps>()\nexport const ApplicationBoardSettingsModal = new SingletonModal<ApplicationBoardSettingsModalOpenProps>()\nexport const GasSettingModal = new SingletonModal<GasSettingModalOpenOrCloseProps, GasSettingModalOpenOrCloseProps>()\nexport const TransactionConfirmModal = new SingletonModal<TransactionConfirmModalOpenProps>()\nexport const TransactionSnackbar = new SingletonModal()\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const ConfirmDialog = new SingletonModal<ConfirmDialogOpenProps, boolean>()\nexport const SelectNonFungibleContractModal = new SingletonModal<SelectNonFungibleContractModalOpenProps>()\nexport const SelectGasSettingsModal = new SingletonModal<\n    SelectGasSettingsModalOpenProps,\n    SelectGasSettingsModalCloseProps\n>()\nexport const AddCollectiblesModal = new SingletonModal<AddCollectiblesModalOpenProps, AddCollectiblesModalCloseProps>()\nexport const SelectFungibleTokenModal = new SingletonModal<\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps\n>()\n\nexport const PersonaSelectPanelModal = new SingletonModal<PersonaSelectPanelModalOpenProps>()\n\nexport const ShareSelectNetworkModal = new SingletonModal<ShareSelectNetworkModalOpenProps>()\n\nexport { ApplicationSettingTabs } from './ApplicationBoardModal/ApplicationBoardDialog.js'\n","import { Fragment } from 'react'\nimport { identity } from 'lodash-es'\n\nexport interface FormattedAddressProps {\n    address?: string\n    size?: number\n    formatter?: (address: string, size?: number) => string\n}\n\nexport function FormattedAddress({ address, size, formatter = identity }: FormattedAddressProps) {\n    if (!address) return null\n    return <Fragment>{formatter(address, size)}</Fragment>\n}\n","import { Fragment } from 'react'\nimport { BigNumber } from 'bignumber.js'\nimport { isZero, isLessThan } from '@masknet/web3-shared-base'\nimport { makeStyles } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => ({\n    balance: {\n        marginRight: theme.spacing(0.5),\n    },\n}))\n\nexport interface FormattedBalanceProps extends withClasses<'balance' | 'symbol'> {\n    value: BigNumber.Value | undefined\n    decimals?: number\n    significant?: number\n    symbol?: string\n    minimumBalance?: BigNumber.Value\n    formatter?: (value: BigNumber.Value, decimals?: number, significant?: number) => string\n}\n\nexport function FormattedBalance(props: FormattedBalanceProps) {\n    const { value, decimals, significant, symbol, minimumBalance, formatter = (value) => value } = props\n    const valueInt = new BigNumber(value ?? '0').toFixed(0)\n    let formatted = formatter(valueInt, decimals, significant)\n    if (minimumBalance && !isZero(formatted) && isLessThan(valueInt, minimumBalance)) {\n        // it's a BigNumber so it's ok\n        // eslint-disable-next-line @typescript-eslint/no-base-to-string\n        formatted = '<' + formatter(minimumBalance, decimals, significant).toString()\n    }\n    const { classes } = useStyles(undefined, { props })\n\n    if (symbol)\n        return (\n            <Fragment>\n                <span className={classes.balance}>{String(formatted)}</span>\n                <span className={classes?.symbol}>{symbol}</span>\n            </Fragment>\n        )\n    return <Fragment>{String(formatted)}</Fragment>\n}\n","import { memo, useCallback } from 'react'\nimport { Done as DoneIcon } from '@mui/icons-material'\nimport { Link, Typography } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { ExplorerResolver } from '@masknet/web3-providers'\nimport { useSharedTrans } from '../locales/index.js'\nimport { ConfirmModal } from '../UI/modals/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    content: {\n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    icon: {\n        fontSize: 64,\n        width: 64,\n        height: 64,\n    },\n    link: {\n        marginTop: theme.spacing(0.5),\n    },\n    primary: {\n        fontSize: 18,\n        marginTop: theme.spacing(1),\n    },\n    secondary: {},\n}))\n\ninterface ShareTransactionOptions {\n    title?: string\n    message?: string\n    content?: string\n    hash: string\n    buttonLabel?: string\n    // TODO Expose onShare until we have share API added our runtime\n    onShare?: () => void\n}\n\ntype ShareTransactionProps = Omit<ShareTransactionOptions, 'title' | 'onShare'>\n\nconst ShareTransaction = memo(({ message, content, hash }: ShareTransactionProps) => {\n    const { classes } = useStyles()\n    const t = useSharedTrans()\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const link = ExplorerResolver.transactionLink(chainId, hash)\n    return (\n        <div className={classes.content}>\n            <DoneIcon className={classes.icon} />\n            {message ? (\n                <Typography className={classes.primary} color=\"textPrimary\" variant=\"subtitle1\">\n                    {message}\n                </Typography>\n            ) : null}\n            {content ? (\n                <Typography className={classes.secondary} color=\"textSecondary\">\n                    {content}\n                </Typography>\n            ) : null}\n            {link ? (\n                <Typography>\n                    <Link className={classes.link} href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n                        {t.share_dialog_view_on_explorer()}\n                    </Link>\n                </Typography>\n            ) : null}\n        </div>\n    )\n})\n\nexport function useOpenShareTxDialog() {\n    const t = useSharedTrans()\n\n    return useCallback(\n        async ({ title, message, content, hash, buttonLabel, onShare }: ShareTransactionOptions) => {\n            const confirmed = await ConfirmModal.openAndWaitForClose({\n                title: title ?? t.share_dialog_transaction(),\n                content: (\n                    <ShareTransaction\n                        message={message ?? t.share_dialog_transaction_confirmed()}\n                        content={content}\n                        hash={hash}\n                    />\n                ),\n                confirmLabel: onShare ? buttonLabel ?? t.dialog_share() : t.dialog_dismiss(),\n            })\n            if (confirmed) onShare?.()\n        },\n        [t],\n    )\n}\n","export const LightColor = {\n    bg: '##F9F9F9',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#FFFFFF',\n    secondary: '#e8f0fe',\n    secondaryContrastText: '#1c68f3',\n    input: '#F6F6F8',\n    primaryBackground: '#ffffff',\n    primaryBackground2: '#FBFBFC',\n    secondaryBackground: '#f9fafa',\n    lightBackground: '#F9FAFA',\n    mainBackground: '#ffffff',\n    suspensionBackground: 'rgba(249, 250, 250, 0.8)',\n    normalBackground: '#F3F3F4',\n    twitterBackground: '#F7F9FA',\n    twitterBackgroundHover: '#EFF1F2',\n    twitterInputBackground: '#F6F8F8',\n    twitterButton: '#111418',\n    twitterButtonText: '#ffffff',\n    twitterBlue: '#1C68F3',\n    twitterBorderLine: '#EDF1F2',\n    twitterSecond: '#7B8192',\n    twitterMain: '#0F1419',\n    twitterBottom: '#ffffff',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterBg: '#F6F8F8',\n    twitterTooltipBg: 'rgba(0,0,0,.6)',\n    twitterInput: '#EDF1F2',\n    twitterLine: '#EBEEF0',\n    redMain: '#ff5f5f',\n    redLight: '#ffafaf',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#e6f6f0',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#faf0d8',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#eff3f4',\n\n    border: '#F3F3F4',\n    borderSecondary: '#536471',\n\n    textPrimary: '#111432',\n    textSecondary: '#7b8192',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: '#7B8192',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#1C68F3',\n    lineLight: '#E4E8F1',\n    lineLighter: '#E9E9EA',\n    textLight: '#A6A9B6',\n    lightestBackground: '#FFFFFF',\n    linkText: '#1C68F3',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#F9FAFA',\n    main: '#1C68F3',\n    errorBackground: 'rgba(255, 95, 95, 0.15)',\n    tooltipBackground: '#ffffff',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#000000',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport const DarkColor: typeof LightColor = {\n    bg: '#1C1C1C',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#15171A',\n    secondary: '#242e57',\n    secondaryContrastText: '#ffffff',\n    input: '#282B49',\n    primaryBackground: '#212442',\n    primaryBackground2: '#212442',\n    secondaryBackground: '#252846',\n    lightBackground: '#2E314F',\n    mainBackground: '#111432',\n    suspensionBackground: 'rgba(27, 30, 60, 0.8)',\n    normalBackground: '#262947',\n    twitterInputBackground: '#17191D',\n    twitterBackground: '#17191D',\n    twitterBackgroundHover: '#17191D',\n    twitterButton: '#EFF3F4',\n    twitterButtonText: '#0F1419',\n    twitterBlue: '#4989FF',\n    twitterBorderLine: '#2F3336',\n    twitterInput: '#1D2023',\n    twitterSecond: '#636B72',\n    twitterMain: '#D9D9D9',\n    twitterBottom: '#000000',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterLine: '#2F3336',\n    twitterBg: '#15171A',\n    twitterTooltipBg: 'rgba(91,112,131,.6)',\n    redMain: '#ff5f5f',\n    redLight: '#46304a',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#314457',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#463e3f',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#3e455e',\n\n    border: '#3E455E',\n    borderSecondary: '#6e767d',\n\n    // TODO: ?\n    textPrimary: '#ffffff',\n    // TODO: ?\n    textSecondary: 'ghostwhite',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: 'rgba(255, 255, 255, 0.8)',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#ffffff',\n    lineLight: '#32365B',\n    lineLighter: '#32365B',\n    textLight: '#A6A9B6',\n    lightestBackground: '#212422',\n    linkText: '#ffffff',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#000000',\n    main: '#D4D4D4',\n    errorBackground: 'rgba(255, 95, 95, 0.1)',\n    tooltipBackground: '#1A1D20',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#ffffff',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport type Color = typeof LightColor\n","import type { Theme } from '@mui/material'\nimport { kebabCase } from 'lodash-es'\nimport { LightColor, DarkColor } from './constants.js'\n\nexport function getMaskColor(theme: Theme) {\n    if (theme.palette.mode === 'dark') return DarkColor\n    return LightColor\n}\nexport type MaskCSSVariableColor = string & {\n    /** Append alpha channel to the original color */\n    alpha(alpha: number): string\n} & ((defaultValue?: string) => string)\n\nfunction set(key: string | symbol) {\n    if (typeof key === 'symbol') return undefined\n    const cssVar = kebabCase(key)\n    function value(defaultValue?: string) {\n        // it might be an object when used in styled components.\n        if (typeof defaultValue !== 'string') defaultValue = undefined\n        const x = `var(--mask-${cssVar}${defaultValue ? ', ' + defaultValue : ''})`\n        return x\n    }\n    Object.assign(value, {\n        [Symbol.toPrimitive]: () => `var(--mask-${cssVar})`,\n        alpha: (alpha: number) => `rgba(var(--mask-${cssVar}-fragment), ${alpha})`,\n    })\n    Object.defineProperty(MaskColorVar, key, { configurable: true, enumerable: true, value })\n    return value\n}\n/**\n * @deprecated Use theme.palette.maskColor\n */\nexport const MaskColorVar: Record<keyof typeof LightColor, MaskCSSVariableColor> = {\n    __proto__: new Proxy(\n        {},\n        {\n            get: (_, p) => set(p),\n            getOwnPropertyDescriptor: (_, p) => {\n                set(p)\n                return Object.getOwnPropertyDescriptor(MaskColorVar, p)\n            },\n        },\n    ),\n} as any\n","import { Box, Button } from '@mui/material'\nimport type { ButtonProps } from '@mui/material/Button'\nimport { LoadingBase } from '../LoadingBase/index.js'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nexport interface ActionButtonProps extends ButtonProps {\n    width?: number | string\n    loading?: boolean\n}\n\nconst useStyles = makeStyles()({\n    loading: {\n        ['& > *']: {\n            opacity: 0.3,\n        },\n    },\n})\n\nexport function ActionButton<T extends React.ComponentType<any> = React.ComponentType>(\n    props: ActionButtonProps & PropsOf<T>,\n) {\n    const { width, loading, children, className, style, ...rest } = props\n    const { classes, cx } = useStyles()\n    return (\n        <Button\n            className={cx('actionButton', className, loading ? classes.loading : undefined)}\n            style={{ width, ...style, pointerEvents: loading ? 'none' : undefined }}\n            {...rest}\n            disableElevation\n            disabled={!!(rest.disabled || loading)}>\n            {loading ? (\n                <Box\n                    position=\"absolute\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                    style={{ opacity: 1 }}>\n                    <LoadingBase />\n                </Box>\n            ) : null}\n            {children}\n        </Button>\n    )\n}\n","import { useRef, useContext, createContext, useState, useMemo, useLayoutEffect } from 'react'\nimport { type DialogProps } from '@mui/material'\nimport { noop } from 'lodash-es'\n\ninterface StackContext {\n    stack: readonly string[]\n    push(id: string): void\n    pop(id: string): void\n    setParent(selfID: string, parentID: string | null): () => void\n    hasGlobalBackdrop: boolean\n}\nconst DialogStackingContext = createContext<StackContext>({\n    stack: [],\n    push: noop,\n    pop: noop,\n    setParent: () => noop,\n    hasGlobalBackdrop: false,\n})\nDialogStackingContext.displayName = 'DialogStackingContext'\n\nconst DialogHierarchyContext = createContext<string | null>(null)\nDialogHierarchyContext.displayName = 'DialogHierarchyContext'\n\n/**\n * If you're using <Dialog> on its own and you want to support DialogStack, please use this hook.\n *\n * Your dialog component MUST support the following attributes with the same semantics with MUI Dialog component.\n *\n * - disableEscapeKeyDown\n * - disableScrollLock\n * - hideBackdrop\n * - style\n * - aria-hidden\n * - open\n * - transitionDuration\n * @example\n * function SomeComponent() {\n *     const [open, setOpen] = useState(false)\n *     const { shouldReplaceExitWithBack, extraProps, TrackDialogHierarchy } = useDialogStackConsumer(open)\n *     return <TrackDialogHierarchy>\n *         <button onClick={() => setOpen(true)}></button>\n *         <Dialog open={open} {...extraProps}>\n *             You MUST hide Close button and and BackButton based on the value of `shouldReplaceExitWithBack`\n *         </Dialog>\n *     </TrackDialogHierarchy>\n * }\n */\nexport function useDialogStackActor(open: boolean): useDialogStackActorReturn {\n    const selfID = useRef('' + Math.random()).current\n    const { pop, push, stack, setParent, hasGlobalBackdrop } = useContext(DialogStackingContext)\n\n    // children's useEffect will run before parent's useEffect.\n    // when the hierarchy is A > B and they are both open,\n    // the stack will be [\"B\", \"A\"] (B pushed into the stack first.)\n    // we need to notify the context the react component tree hierarchy to order them correctly.\n    const parentID = useContext(DialogHierarchyContext)\n    useLayoutEffect(() => setParent(selfID, parentID), [parentID])\n\n    useLayoutEffect(() => {\n        open ? push(selfID) : pop(selfID)\n        return () => pop(selfID)\n    }, [open])\n\n    const TrackDialogHierarchy = (useRef<useDialogStackActorReturn['TrackDialogHierarchy']>(null!).current ??=\n        function TrackDialogHierarchy({ children }) {\n            return <DialogHierarchyContext.Provider value={selfID}>{children}</DialogHierarchyContext.Provider>\n        })\n\n    const returnVal: useDialogStackActorReturn = {\n        shouldReplaceExitWithBack: stack.length > 1,\n        extraProps: { open },\n        TrackDialogHierarchy,\n    }\n    if (hasGlobalBackdrop) returnVal.extraProps.hideBackdrop = true\n    if (stack.length > 1) returnVal.extraProps.transitionDuration = 0\n\n    if (!open) return returnVal\n    if (stack.at(-1) !== selfID) {\n        returnVal.extraProps = {\n            ...returnVal.extraProps,\n            disableEscapeKeyDown: true,\n            disableScrollLock: true,\n            hideBackdrop: true,\n            hidden: true,\n            style: { visibility: 'hidden' },\n            'aria-hidden': true,\n        }\n    }\n    return returnVal\n}\n\nexport interface useDialogStackActorReturn {\n    shouldReplaceExitWithBack: boolean\n    extraProps: DialogProps\n    TrackDialogHierarchy: React.ComponentType<React.PropsWithChildren<{}>>\n}\n\nexport interface DialogStackingProviderProps extends React.PropsWithChildren<{}> {\n    hasGlobalBackdrop?: boolean\n}\n\n/**\n * This Provider can turn any `MaskDialog` or `InjectedDialog` in the subtree into a unified dialog.\n *\n * For example:\n *\n * ```tsx\n * <DialogStackingProvider>\n *    <Dialog1>\n *        <Dialog2></Dialog2>\n *    </Dialog1>\n *    <Dialog3></Dialog3>\n * </DialogStackingProvider>\n * ```\n *\n * When Dialog1 and Dialog2 both opened, only Dialog2 will be visible and the left top button\n * becomes \"BackArrow\".\n */\nexport function DialogStackingProvider(props: DialogStackingProviderProps) {\n    const [stack, setStack] = useState<readonly string[]>([])\n    const [hierarchy, setHierarchy] = useState<Hierarchy>({})\n    const context = useMemo((): StackContext => {\n        const sortedStack = sortStackByHierarchy(hierarchy, stack)\n        return {\n            hasGlobalBackdrop: props.hasGlobalBackdrop || false,\n            stack: sortedStack,\n            // Note: the following methods MUST NOT use stack or hierarchy out of the useState callback.\n            setParent(child, parent) {\n                if (!parent) return noop\n                setHierarchy((hierarchy) => {\n                    if (hierarchy[parent]?.has(child)) return hierarchy\n                    const newSet = new Set(hierarchy[parent] || [])\n                    newSet.add(child)\n                    return { ...hierarchy, [parent]: newSet }\n                })\n\n                return () => {\n                    setHierarchy((hierarchy) => {\n                        const newSet = new Set(hierarchy[parent])\n                        newSet.delete(child)\n                        return { ...hierarchy, [parent]: newSet }\n                    })\n                }\n            },\n            pop(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack.filter((x) => x !== id) : stack))\n            },\n            push(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack : stack.concat(id)))\n            },\n        }\n    }, [stack, hierarchy, props.hasGlobalBackdrop])\n    return <DialogStackingContext.Provider value={context}>{props.children}</DialogStackingContext.Provider>\n}\n\nexport function useDialogStacking() {\n    return useContext(DialogStackingContext)\n}\n\ntype Hierarchy = {\n    readonly [parent: string]: undefined | ReadonlySet<string>\n}\nfunction sortStackByHierarchy(hierarchy: Hierarchy, stack: readonly string[]): readonly string[] {\n    if (stack.length <= 1) return stack\n    const last = stack.at(-1)!\n    const children = hierarchy[last]\n    if (!children?.size) return stack\n    for (const child of children) {\n        if (stack.includes(child)) return sortStackByHierarchy(hierarchy, [last].concat(stack.slice(0, -1)))\n    }\n    return stack\n}\n","import { type GeneratedIconProps, Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    animated: {\n        '@keyframes loadingAnimation': {\n            '0%': {\n                transform: 'rotate(0deg)',\n            },\n            '100%': {\n                transform: 'rotate(360deg)',\n            },\n        },\n        animation: 'loadingAnimation 1s linear infinite',\n    },\n}))\n\nexport function LoadingBase(props: GeneratedIconProps) {\n    const { classes, cx } = useStyles()\n    return <Icons.CircleLoading {...props} className={cx(classes.animated, props.className)} />\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import { forwardRef, useRef, memo, useCallback } from 'react'\nimport { keyframes } from 'tss-react'\nimport {\n    SnackbarProvider,\n    type SnackbarProviderProps,\n    type SnackbarKey,\n    useSnackbar,\n    type VariantType,\n    type SnackbarMessage,\n    SnackbarContent,\n    type SnackbarAction,\n    type OptionsObject,\n} from 'notistack'\nimport { Typography, IconButton, alpha } from '@mui/material'\nimport { Close as CloseIcon, Warning as WarningIcon, Info as InfoIcon } from '@mui/icons-material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\nimport { MaskColorVar } from '../../CSSVariables/index.js'\nimport { usePortalShadowRoot } from '../../ShadowRoot/index.js'\n\nexport { PopupSnackbarProvider, usePopupCustomSnackbar } from './PopupSnackbar.js'\nexport { SnackbarProvider, useSnackbar } from 'notistack'\nexport type { VariantType, OptionsObject, SnackbarKey, SnackbarMessage } from 'notistack'\n\nexport interface StyleProps {\n    offsetY?: number\n}\n\nconst useStyles = makeStyles<StyleProps, 'title' | 'message'>()((theme, { offsetY }, classNames) => {\n    const spinningAnimationKeyFrames = keyframes`\n        to {\n          transform: rotate(360deg)\n        }\n    `\n    const title = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        fontSize: 14,\n        lineHeight: '18px',\n    } as const\n    const message = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 400,\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: 14,\n        lineHeight: '18px',\n        wordBreak: 'break-word',\n        '& > a': {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        '& :focus:not(:focus-visible)': {\n            outline: 0,\n        },\n    } as const\n    const defaultVariant = {\n        background: theme.palette.maskColor.bottom,\n        color: theme.palette.maskColor.main,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n\n        [`& .${classNames.message}`]: {\n            color: 'inherit',\n        },\n    }\n    const success = {\n        backgroundColor: theme.palette.maskColor.success,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.success, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const error = {\n        background: theme.palette.maskColor.danger,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.danger, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const info = {\n        background: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    }\n\n    const warning = {\n        backgroundColor: theme.palette.maskColor.warn,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.warn, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    return {\n        root: {\n            zIndex: 9999,\n            transform: typeof offsetY !== 'undefined' ? `translateY(${offsetY}px)` : 'none',\n            color: MaskColorVar.textLight,\n            pointerEvents: 'inherit',\n        },\n        content: {\n            alignItems: 'center',\n            padding: theme.spacing(2),\n            borderRadius: 12,\n            width: 380,\n            flexWrap: 'nowrap !important' as 'nowrap',\n        },\n        // eslint-disable-next-line tss-unused-classes/unused-classes\n        default: defaultVariant,\n        success,\n        error,\n        info,\n        warning,\n        icon: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '& > svg': {\n                width: 24,\n                height: 24,\n            },\n        },\n        spinning: {\n            display: 'flex',\n            animation: `${spinningAnimationKeyFrames} 2s infinite linear`,\n        },\n        action: {\n            marginLeft: 'auto',\n        },\n        closeButton: {\n            color: 'inherit',\n            transform: 'translateY(-10px)',\n        },\n        texts: {\n            marginLeft: theme.spacing(1.5),\n            '& :focus:not(:focus-visible)': {\n                outline: 0,\n            },\n        },\n        title,\n        message,\n    }\n})\n\nexport interface CustomSnackbarContentProps {\n    id: SnackbarKey\n    title: SnackbarMessage\n    message?: string | React.ReactNode\n    icon?: React.ReactNode\n    processing?: boolean\n    variant?: VariantType\n    action?: SnackbarAction\n    offsetY?: number\n    classes?: Partial<ReturnType<typeof useStyles>['classes']>\n}\nconst IconMap: Record<VariantType, React.ReactNode> = {\n    default: <InfoIcon color=\"inherit\" />,\n    success: <Icons.SuccessForSnackBar />,\n    error: <Icons.TransactionFailed />,\n    warning: <WarningIcon color=\"inherit\" />,\n    info: <InfoIcon color=\"inherit\" />,\n}\n\nexport const CustomSnackbarContent = forwardRef<HTMLDivElement, CustomSnackbarContentProps>((props, ref) => {\n    const { classes, cx } = useStyles({ offsetY: props.offsetY }, { props })\n    const snackbar = useSnackbar()\n    const loadingIcon = <Icons.CircleLoading className={classes.spinning} />\n    const variantIcon = props.processing ? loadingIcon : props.variant ? IconMap[props.variant] : null\n    let renderedAction: React.ReactNode = (\n        <IconButton className={classes.closeButton} onClick={() => snackbar.closeSnackbar(props.id)}>\n            <CloseIcon />\n        </IconButton>\n    )\n    if (props.action) {\n        renderedAction = typeof props.action === 'function' ? props.action(props.id) : props.action\n    }\n    return (\n        <SnackbarContent ref={ref} className={cx(classes.content, classes[props.variant!])}>\n            {variantIcon ? <div className={classes.icon}>{variantIcon}</div> : null}\n            <div className={classes.texts}>\n                <Typography className={classes.title} variant=\"h2\">\n                    {props.title}\n                </Typography>\n                {props.message ? (\n                    <Typography className={classes.message} variant=\"body1\">\n                        {props.message}\n                    </Typography>\n                ) : null}\n            </div>\n            <div className={classes.action}>{renderedAction}</div>\n        </SnackbarContent>\n    )\n})\n\nexport const CustomSnackbarProvider = memo<\n    SnackbarProviderProps & {\n        offsetY?: number\n    }\n>(function CustomSnackbarProvider({ offsetY, ...rest }) {\n    const ref = useRef<SnackbarProvider>(null)\n    const { classes } = useStyles({ offsetY })\n    const onDismiss = (key: string | number) => () => {\n        ref.current?.closeSnackbar(key)\n    }\n\n    return usePortalShadowRoot((container) => (\n        <SnackbarProvider\n            ref={ref}\n            maxSnack={30}\n            disableWindowBlurListener\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            hideIconVariant\n            // this is a false positive, SnackbarProvider won't use it like it is a component.\n            // eslint-disable-next-line react/no-unstable-nested-components\n            content={(key, title) => (\n                <CustomSnackbarContent id={key} variant={rest.variant ?? 'default'} title={title} offsetY={offsetY} />\n            )}\n            // eslint-disable-next-line react/no-unstable-nested-components\n            action={(key) => (\n                <IconButton size=\"large\" onClick={onDismiss(key)} sx={{ color: 'inherit' }}>\n                    <CloseIcon color=\"inherit\" />\n                </IconButton>\n            )}\n            classes={{\n                containerRoot: classes.root,\n                variantSuccess: classes.success,\n                variantError: classes.error,\n                variantInfo: classes.info,\n                variantWarning: classes.warning,\n            }}\n            domRoot={container}\n            {...rest}\n        />\n    ))\n})\n\nexport interface ShowSnackbarOptions\n    extends OptionsObject,\n        Pick<CustomSnackbarContentProps, 'message' | 'processing' | 'icon' | 'classes'> {}\n\nexport function useCustomSnackbar() {\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n    const showSnackbar = useCallback(\n        (\n            text: SnackbarMessage,\n            options: ShowSnackbarOptions = {\n                variant: 'default',\n            },\n        ) => {\n            const { processing, message, variant, ...rest } = options\n            return enqueueSnackbar(text, {\n                variant: options.variant,\n                content: (key, title) => {\n                    return (\n                        <CustomSnackbarContent\n                            variant={variant ?? 'default'}\n                            id={key}\n                            title={title}\n                            message={message}\n                            processing={processing}\n                            action={rest.action}\n                            classes={rest.classes}\n                        />\n                    )\n                },\n                ...rest,\n            })\n        },\n        [enqueueSnackbar],\n    )\n\n    return { showSnackbar, closeSnackbar }\n}\n","import { Tooltip } from '@mui/material'\nimport { createShadowRootForwardedPopperComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootTooltip = createShadowRootForwardedPopperComponent(Tooltip)\nShadowRootTooltip.displayName = 'ShadowRootTooltip'\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { useRef, forwardRef, useContext } from 'react'\nimport { Flags } from '@masknet/flags'\nimport type { PopperProps } from '@mui/material'\nimport {\n    DisableShadowRootContext,\n    PreventShadowRootEventPropagationListContext,\n    stopPropagation,\n    StyleSheetsContext,\n} from './Contexts.js'\nimport { ref } from './ShadowRootSetup.js'\n\n/**\n * Render to a React Portal in to the page needs this hook. It will provide a wrapped container that provides ShadowRoot isolation and CSS support for it.\n *\n * The return value can only be used once!\n * @param renderer A function that want to use PortalShadowRoot\n * @example\n * const picker = usePortalShadowRoot((container) => (\n *      <DatePicker\n *          DialogProps={{ container }}\n *          PopperProps={{ container }}\n *          value={new Date()}\n *          onChange={() => {}}\n *          renderInput={(props) => <TextField {...props} />}\n *      />\n * ))\n */\nexport function usePortalShadowRoot<T>(renderer: (container: HTMLElement | undefined) => T, debugKey?: string): T {\n    const disabled = useRef(useContext(DisableShadowRootContext)).current\n    // we ignore the changes on DisableShadowRootContext during multiple render\n    // so we can violates the React hooks rule and still be safe.\n    if (disabled) return renderer(undefined)\n\n    const sheet = useContext(StyleSheetsContext)\n    const signal = useRef<AbortController | null>(null)\n    const preventEventPropagationList = useContext(PreventShadowRootEventPropagationListContext)\n    const container = useRefInit(() => {\n        signal.current = new AbortController()\n        const portal = ref.portalContainer\n\n        const root = document.createElement('div')\n        root.dataset.portalShadowRoot = debugKey || ''\n        const shadow = root.attachShadow(Flags.shadowRootInit)\n\n        for (const each of preventEventPropagationList) {\n            shadow.addEventListener(each, stopPropagation, { signal: signal.current.signal })\n        }\n\n        const container = shadow.appendChild(document.createElement('main'))\n\n        sheet.addContainer(shadow)\n\n        // This is important to make the portal orders correct.\n        Object.defineProperty(container, 'appendChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                if (!root.parentElement) portal.appendChild(root)\n                Node.prototype.appendChild.call(container, child)\n                return child\n            },\n        })\n        Object.defineProperty(container, 'removeChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                Node.prototype.removeChild.call(container, child)\n                if (container.childElementCount === 0) portal.removeChild(root)\n                return child\n            },\n        })\n\n        return container\n    })\n\n    return renderer(container)\n}\n\nexport function createShadowRootForwardedComponent<\n    T extends {\n        container?: Element | (() => Element | null) | null | undefined\n        open: boolean\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => <Component container={container} {...props} ref={ref} />)\n    }) as any as typeof Component\n}\n\nexport function createShadowRootForwardedPopperComponent<\n    T extends {\n        PopperProps?: Partial<PopperProps>\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => {\n            return <Component {...props} PopperProps={{ container, ...props.PopperProps }} ref={ref} />\n        })\n    }) as any as typeof Component\n}\n\nfunction useRefInit<T>(f: () => T): T {\n    const ref = useRef<T>(undefined!)\n    if (!ref.current) ref.current = f()\n    return ref.current\n}\n","import { ObservableMap } from '@masknet/shared-base'\nimport { StrictMode, useEffect, useState } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { PreventShadowRootEventPropagationListContext } from './Contexts.js'\n\n/**\n * This container is used to attach the single React root.\n * It does not contain direct DOM decedents.\n * All decedents are mounted via <Portal>.\n */\nlet globalContainer: HTMLElement\n/**\n * This container is prepared for all the Modals.\n */\nlet portalContainer: ShadowRoot\nexport type WrapJSX = ((jsx: React.ReactNode) => JSX.Element) | undefined\n/** @internal */\nexport const shadowEnvironmentMountingRoots = new ObservableMap<any, JSX.Element>()\n\nexport function setupReactShadowRootEnvironment(\n    init: ShadowRootInit,\n    preventEventPropagationList: Array<keyof HTMLElementEventMap>,\n    wrapJSX?: WrapJSX,\n) {\n    if (portalContainer) return portalContainer\n    // TODO: make sure globalContainer is the last DOM in the body?\n    globalContainer = document.body.appendChild(document.createElement('div'))\n    portalContainer = globalContainer.attachShadow(init)\n\n    // Note: This React Root does not expect to have any direct DOM children.\n    createRoot(globalContainer).render(\n        <StrictMode>\n            <MountingPoint wrapJSX={wrapJSX} preventPropagationList={preventEventPropagationList} />\n        </StrictMode>,\n    )\n    return portalContainer\n}\nfunction MountingPoint(props: { wrapJSX: WrapJSX; preventPropagationList: Array<keyof HTMLElementEventMap> }) {\n    const [children, setChildren] = useState<JSX.Element[]>([])\n    useEffect(() => {\n        shadowEnvironmentMountingRoots.event.on(shadowEnvironmentMountingRoots.ALL_EVENTS, () => {\n            setChildren(Array.from(shadowEnvironmentMountingRoots.values()))\n        })\n    }, [])\n    return (\n        <PreventShadowRootEventPropagationListContext.Provider value={props.preventPropagationList}>\n            {props.wrapJSX ? props.wrapJSX(children) : children}\n        </PreventShadowRootEventPropagationListContext.Provider>\n    )\n}\n\n/** @internal */\nexport const ref = {\n    get portalContainer(): Element | ShadowRoot {\n        let dom: Element | ShadowRoot\n        if (location.protocol.includes('extension')) dom = document.body\n        else if (globalThis.location.hostname === 'localhost') return document.body\n        else if (!portalContainer) throw new TypeError('Please call setupPortalShadowRoot first')\n        else dom = portalContainer\n\n        Object.defineProperty(ref, 'mountingPoint', { value: dom })\n        return dom\n    },\n}\n","import type { NonSerializableTypedMessage, Meta } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\n/**\n * A single image\n * TODO: it should be serializable but still not decided how to do that yet.\n */\nexport interface TypedMessageImage extends NonSerializableTypedMessage {\n    readonly type: 'image'\n    readonly image: string | Blob\n    readonly width?: number\n    readonly height?: number\n}\n\nexport const isTypedMessageImage = createIsType<TypedMessageImage>('image')\n\nexport function makeTypedMessageImage(\n    image: TypedMessageImage['image'],\n    size?: { width: number; height: number },\n    meta?: Meta,\n): TypedMessageImage {\n    return {\n        type: 'image',\n        serializable: false,\n        image,\n        width: size?.width,\n        height: size?.height,\n        meta,\n    }\n}\n","import type { TypedMessage, NonSerializableTypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\nexport interface PendingPromise<T> extends Promise<T> {\n    status: 'pending'\n}\nexport interface FulfilledPromise<T> extends Promise<T> {\n    readonly status: 'fulfilled'\n    readonly value: T\n}\nexport interface RejectedPromise<T> extends Promise<T> {\n    readonly status: 'rejected'\n    readonly reason: any\n}\nexport type StatusExposedPromise<T> = PendingPromise<T> | FulfilledPromise<T> | RejectedPromise<T>\nexport interface TypedMessagePromise<T extends TypedMessage = TypedMessage> extends NonSerializableTypedMessage {\n    readonly type: 'promise'\n    readonly promise: StatusExposedPromise<T>\n    readonly meta?: undefined\n    /** What to display when the message is not ready. */\n    readonly alt?: TypedMessage\n}\n\nexport const isTypedMessagePromise = createIsType<TypedMessagePromise>('promise')\n\nexport function makeTypedMessagePromise<T extends TypedMessage = TypedMessage>(\n    promise: Promise<T>,\n    alt?: TypedMessage,\n): TypedMessagePromise<T> {\n    const x: TypedMessagePromise<T> = {\n        type: 'promise',\n        serializable: false,\n        promise: getPromiseWithStatus(promise),\n        alt,\n        meta: undefined,\n    }\n    return x\n}\nconst seen = new WeakMap<Promise<any>, StatusExposedPromise<any>>()\nfunction getPromiseWithStatus<T>(promise: Promise<T>): StatusExposedPromise<T> {\n    // let's assume it already handle the status update\n    if ('status' in promise) return promise as StatusExposedPromise<T>\n    if (seen.has(promise)) return seen.get(promise)!\n    const _ = Promise.resolve(promise) as StatusExposedPromise<T>\n    Object.defineProperty(_, 'status', { configurable: true, value: 'pending' })\n    _.then(\n        (value) => {\n            Object.defineProperties(_, {\n                status: { value: 'fulfilled' },\n                value: { value },\n            })\n        },\n        (error) => {\n            Object.defineProperties(_, {\n                status: { value: 'rejected' },\n                reason: { value: error },\n            })\n        },\n    )\n    seen.set(promise, _)\n    return _\n}\n","import type { SerializableTypedMessage, TypedMessage, Meta } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\nexport type TypedMessageText = TypedMessageTextV1\n\n/** A text message */\nexport interface TypedMessageTextV1 extends SerializableTypedMessage<1> {\n    readonly type: 'text'\n    readonly content: string\n}\n\nexport const isTypedMessageTextV1 = createIsType<TypedMessageTextV1>('text', 1)\n\nexport const isTypedMessageText: (x: TypedMessage) => x is TypedMessageText = isTypedMessageTextV1\n\nexport function makeTypedMessageText(text: string, meta?: Meta): TypedMessageTextV1 {\n    return {\n        type: 'text',\n        version: 1,\n        serializable: true,\n        content: text,\n        meta,\n    }\n}\n","import type { SerializableTypedMessage, SerializableTypedMessages, TypedMessage, Meta } from '../base.js'\nimport { isSerializableTypedMessage } from '../utils/index.js'\nimport { composeEvery } from '../utils/internal.js'\n\n/** Multiple TypedMessages (ordered) */\nexport interface TypedMessageTuple<T extends readonly TypedMessage[] = readonly TypedMessage[]> extends TypedMessage {\n    readonly type: 'tuple'\n    readonly items: T\n}\nexport interface TypedMessageTupleSerializable<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n> extends SerializableTypedMessage<1>,\n        TypedMessageTuple<T> {\n    readonly type: 'tuple'\n}\n\nexport function isTypedMessageTuple(x: TypedMessage): x is TypedMessageTuple | TypedMessageTupleSerializable {\n    return x.type === 'tuple'\n}\n\nexport const isTypedMessageTupleSerializable: (x: TypedMessage) => x is TypedMessageTupleSerializable = composeEvery(\n    isTypedMessageTuple,\n    isSerializableTypedMessage,\n) as any\n\nexport function makeTypedMessageTuple<T extends readonly TypedMessage[] = readonly TypedMessage[]>(\n    items: T,\n    meta?: Meta,\n): TypedMessageTuple<T> {\n    return { type: 'tuple', items, meta }\n}\nexport function makeTypedMessageTupleFromList<T extends readonly TypedMessage[] = readonly TypedMessage[]>(\n    ...args: T\n): TypedMessageTuple<T> {\n    return { type: 'tuple', items: args }\n}\n\nexport function makeTypedMessageTupleSerializable<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n>(items: T, meta?: Meta): TypedMessageTupleSerializable<T> {\n    return { type: 'tuple', version: 1, serializable: true, items, meta }\n}\n\nexport function makeTypedMessageSerializableTupleFromList<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n>(...args: T): TypedMessageTupleSerializable<T> {\n    return { type: 'tuple', version: 1, items: args, serializable: true }\n}\n","import type { Meta, TypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\n/**\n * This TypedMessage represents an encrypted TypedMessage.\n */\nexport interface TypedMessageMaskPayload extends TypedMessage {\n    readonly type: 'x-mask-payload'\n    readonly message: TypedMessage\n}\nexport const isTypedMessageMaskPayload = createIsType<TypedMessageMaskPayload>('x-mask-payload')\n\nexport function makeTypedMessageMaskPayload(\n    message: TypedMessageMaskPayload['message'],\n    meta?: Meta,\n): TypedMessageMaskPayload {\n    return {\n        type: 'x-mask-payload',\n        message,\n        meta,\n    }\n}\n","import type { Meta, NonSerializableWithAltTypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\nimport { makeTypedMessageText, type TypedMessageImage, type TypedMessageText } from '../core/index.js'\n\n/** It represents a single link. */\nexport interface TypedMessageAnchor extends NonSerializableWithAltTypedMessage {\n    readonly type: 'x-anchor'\n    readonly category: 'normal' | 'user' | 'cash' | 'hash'\n    readonly href: string\n    readonly content: string\n    readonly alt: TypedMessageText\n    /** The message that should be displayed as a decorate after the link. */\n    readonly postImage?: TypedMessageImage\n}\n\nexport const isTypedMessageAnchor = createIsType<TypedMessageAnchor>('x-anchor')\n\nexport function makeTypedMessageAnchor(\n    category: TypedMessageAnchor['category'],\n    href: TypedMessageAnchor['href'],\n    content: TypedMessageAnchor['content'],\n    postImage?: TypedMessageImage,\n    meta?: Meta | undefined,\n): TypedMessageAnchor {\n    return {\n        type: 'x-anchor',\n        serializable: false,\n        category,\n        href,\n        content,\n        alt: makeTypedMessageText(`[${content}](${href})`, meta),\n        postImage,\n        meta,\n    }\n}\n","import type { TypedMessage } from '../base.js'\nimport { isTypedMessageText, isTypedMessageImage } from '../core/index.js'\nimport { isTypedMessageAnchor } from '../extension/index.js'\nimport { type Option, Some, None } from 'ts-results-es'\nimport { forEachTypedMessageChild } from '../visitor/index.js'\n\n/**\n * Get inner text from a TypedMessage\n * @param message message\n */\nexport function extractTextFromTypedMessage(\n    message: TypedMessage | null,\n    options?: { linkAsText: boolean },\n): Option<string> {\n    if (!message) return None\n\n    const text: string[] = []\n    function visitor(message: TypedMessage) {\n        if (isTypedMessageText(message)) text.push(message.content)\n        else if (isTypedMessageAnchor(message)) {\n            text.push(message.content)\n            if (options?.linkAsText) text.push(`(${message.href})`)\n        } else forEachTypedMessageChild(message, visitor)\n    }\n    visitor(message)\n    forEachTypedMessageChild(message, visitor)\n    if (text.length) return Some(text.join(' '))\n    return None\n}\nexport function extractImageFromTypedMessage(message: TypedMessage | null): Array<string | Blob> {\n    if (!message) return []\n\n    const image: Array<string | Blob> = []\n    function visitor(message: TypedMessage): void {\n        if (isTypedMessageImage(message)) return void image.push(message.image)\n        return forEachTypedMessageChild(message, visitor)\n    }\n    visitor(message)\n    forEachTypedMessageChild(message, visitor)\n    return image\n}\n","import type {\n    TypedMessage,\n    SerializableTypedMessages,\n    SerializableTypedMessage,\n    NonSerializableWithAltTypedMessage,\n} from '../base.js'\nimport { isEqual } from 'lodash-es'\n\nexport * from './extract.js'\n\nexport function isNonSerializableTypedMessageWithAlt(x: TypedMessage): x is NonSerializableWithAltTypedMessage {\n    const y = x as NonSerializableWithAltTypedMessage\n    if (y.serializable !== false) return false\n    if (!y.alt) return false\n    return isSerializableTypedMessage(y.alt)\n}\nexport function isSerializableTypedMessage(x: TypedMessage): x is SerializableTypedMessages {\n    if ((x as SerializableTypedMessage<number>).serializable) return true\n    return isNonSerializableTypedMessageWithAlt(x)\n}\n\n/**\n * This is a tree compare algorithm, may need to find a more efficient one from NPM\n */\nexport function isTypedMessageEqual(message1: TypedMessage, message2: TypedMessage): boolean {\n    if (message1.type !== message2.type) return false\n    if (message1.meta !== message2.meta) return false\n    // perform a deep equal\n    return isEqual(message1, message2)\n}\n","import type { SerializableTypedMessage, TypedMessage } from '../base.js'\n\n/** @internal */\nexport function createIsType<T extends TypedMessage>(x: T['type'], version?: number) {\n    return (y: TypedMessage): y is T => {\n        if (version !== undefined && (y as SerializableTypedMessage<number>).version !== version) return false\n        return y.type === x\n    }\n}\n/** @internal */\nexport function composeSome<Args extends any[]>(...fns: Array<(...args: Args) => boolean>) {\n    return (...args: Args) => fns.some((f) => f(...args))\n}\n\n/** @internal */\nexport function composeEvery<Args extends any[]>(...fns: Array<(...args: Args) => boolean>) {\n    return (...args: Args) => fns.every((f) => f(...args))\n}\n","import { isTypedMessagePromise, isTypedMessageTuple } from '../core/index.js'\nimport { isNonSerializableTypedMessageWithAlt } from '../utils/index.js'\nimport type { TypedMessage } from '../base.js'\nimport { isTypedMessageMaskPayload } from '../extension/index.js'\n\nexport function forEachTypedMessageChild(node: TypedMessage, visitor: (x: TypedMessage) => void | 'stop') {\n    let stop: void | 'stop'\n    if (isTypedMessageTuple(node)) {\n        for (const each of node.items) {\n            stop = visitor(each)\n            if (stop) return\n        }\n    } else if (isTypedMessagePromise(node)) {\n        // if Promise has a resolved value, we ignore it's alt.\n        if ('value' in node.promise) visitor(node.promise.value)\n        else if (node.alt) visitor(node.alt)\n    } else if (isTypedMessageMaskPayload(node)) {\n        visitor(node.message)\n    } else if (isNonSerializableTypedMessageWithAlt(node)) {\n        visitor(node.alt)\n    }\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Others } from './useWeb3Others.js'\n\nexport function useChainIdValid<T extends NetworkPluginID>(\n    pluginID?: T,\n    expectedChainId?: Web3Helper.Definition[T]['ChainId'],\n) {\n    const { account, chainId } = useChainContext({ chainId: expectedChainId })\n    const Others = useWeb3Others(pluginID)\n\n    return (!account || Others.chainResolver.isValidChainId?.(chainId, process.env.NODE_ENV === 'development')) ?? false\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useChainContext } from './useContext.js'\nimport { isNativeTokenAddress } from '@masknet/web3-shared-evm'\nimport { useNetworks } from './useNetworks.js'\n\nexport function useFungibleToken<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string | null,\n    fallbackToken?: Web3Helper.FungibleTokenScope<S, T>,\n    options?: HubOptions<T>,\n) {\n    const { chainId } = useChainContext({ chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, {\n        chainId,\n        ...options,\n    })\n    const networks = useNetworks(pluginID)\n\n    return useQuery({\n        enabled: true,\n        queryKey: ['fungible-token', pluginID, address, chainId, options],\n        queryFn: async () => {\n            if (!address) return\n            return attemptUntil(\n                [\n                    async () => {\n                        if (pluginID !== NetworkPluginID.PLUGIN_EVM || !isNativeTokenAddress(address) || !chainId)\n                            return\n                        const network = networks.find((x) => x.chainId === chainId)\n                        return network?.nativeCurrency\n                    },\n                    async () => {\n                        const token = await Hub.getFungibleToken(address, { chainId })\n                        if (!token) return\n                        const logoURL = token.logoURL ?? fallbackToken?.logoURL\n                        const symbol =\n                            token.symbol === 'UNKNOWN' || !token.symbol ? fallbackToken?.symbol : token.symbol\n                        return { ...token, symbol, logoURL } as Web3Helper.FungibleTokenScope<S, T>\n                    },\n                ],\n                fallbackToken,\n            )\n        },\n    })\n}\n","import { noop } from 'lodash-es'\nimport { useEffect } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useFungibleTokenBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string,\n    options?: ConnectionOptions<T>,\n    /** Allow to control the request */\n    enabled = true,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        ...options,\n    })\n    const { BalanceNotifier } = useWeb3State(pluginID)\n\n    const result = useQuery({\n        enabled,\n        queryKey: ['fungible-token', 'balance', pluginID, account, address, options],\n        queryFn: async () => {\n            if (!address) return '0'\n            return Web3.getFungibleTokenBalance(address, undefined, options)\n        },\n    })\n\n    useEffect(() => {\n        return (\n            BalanceNotifier?.emitter.on('update', (ev) => {\n                if (isSameAddress(account, ev.account)) {\n                    result.refetch()\n                }\n            }) ?? noop\n        )\n    }, [account, result.refetch, BalanceNotifier])\n\n    return result\n}\n","import { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\n\nexport function useFungibleTokenSpenders<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: HubOptions<T>,\n) {\n    const { account, chainId } = useChainContext<T>({\n        account: options?.account,\n        chainId: options?.chainId,\n    })\n    const Hub = useWeb3Hub(pluginID, {\n        account,\n        chainId,\n        ...options,\n    })\n    return useQuery({\n        queryKey: ['fungible-tokens', 'spenders', chainId, account],\n        enabled: true,\n        queryFn: async () => Hub.getFungibleTokenSpenders(chainId, account),\n    })\n}\n","import { useAsyncRetry } from 'react-use'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\n\nexport function useNativeTokenBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        ...options,\n    })\n\n    return useAsyncRetry(async () => {\n        return Web3.getNativeTokenBalance()\n    }, [account, Web3])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedChainIdOrNetworkTypeOrID?: string | number,\n): Web3Helper.NetworkDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { networkType } = useChainContext()\n\n    return getRegisteredWeb3Networks(pluginID).find((x) =>\n        [x.chainId, x.type, x.ID].includes(expectedChainIdOrNetworkTypeOrID ?? networkType ?? ''),\n    )\n}\n","import { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { uniqBy } from 'lodash-es'\nimport { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport { useWeb3State } from './useWeb3State.js'\n\n/**\n * Bulletin networks and custom networks.\n * There could be duplicate chian id among them, because that's allow to custom networks.\n */\nexport function useNetworks<T extends NetworkPluginID = NetworkPluginID>(pluginID?: T, uniqChainId?: boolean) {\n    const { Network } = useWeb3State(pluginID)\n    const networks = useSubscription(Network?.networks ?? EMPTY_ARRAY)\n    return useMemo(() => {\n        const list = networks.filter((x) => x.network === 'mainnet' || x.isCustomized)\n        return uniqChainId ? uniqBy(list, (x) => x.chainId) : list\n    }, [networks, uniqChainId])\n}\n","import { useMemo } from 'react'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWallets } from './useWallets.js'\n\n/**\n * Use the currently selected wallet.\n * @param pluginID\n * @returns\n */\nexport function useWallet<T extends NetworkPluginID>(\n    pluginID?: T,\n    providerType?: Web3Helper.Definition[T]['ProviderType'],\n) {\n    const { account } = useChainContext()\n    const wallets = useWallets()\n\n    return useMemo(() => {\n        return account ? wallets.find((x) => isSameAddress?.(x.address, account)) ?? null : null\n    }, [account, wallets])\n}\n","import { EMPTY_LIST, type Wallet } from '@masknet/shared-base'\nimport { Providers } from '@masknet/web3-providers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useMemo } from 'react'\nimport { usePersistSubscription } from '@masknet/shared-base-ui'\n\nexport function useWallets() {\n    // We got stored Mask wallets only.\n    const wallets = usePersistSubscription(\n        '@@mask-wallets',\n        Providers[ProviderType.MaskWallet].subscription.wallets ?? EMPTY_LIST,\n    )\n\n    return useMemo(() => {\n        return [...wallets]\n            .map((w) => {\n                // Could be serialized by react query persist client\n                if (w.createdAt instanceof Date && w.updatedAt instanceof Date) return w\n                return {\n                    ...w,\n                    createdAt: new Date(w.createdAt),\n                    updatedAt: new Date(w.updatedAt),\n                } as Wallet\n            })\n            .sort((a, b) => {\n                if (a.owner && !b.owner) return 1\n                const timestampA = a.createdAt.getTime()\n                const timestampB = b.createdAt.getTime()\n                if (timestampA - timestampB > 10000) {\n                    return 1\n                } else if (timestampB - timestampA > 10000) {\n                    return -1\n                }\n                const numA = a.name.split('Wallet ')[1]\n                const numB = b.name.split('Wallet ')[1]\n                try {\n                    if (!numA && numB && !Number.isNaN(numB)) return 1\n                    if (!Number.isNaN(numA) && !Number.isNaN(numB)) {\n                        return Number(numA) > Number(numB) ? 1 : -1\n                    } else {\n                        return numB.length - numA.length\n                    }\n                } catch {\n                    return 0\n                }\n            })\n    }, [wallets])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { Web3All } from '@masknet/web3-providers'\nimport type { Connection, ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Connection<T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => Web3All.use(pluginID, options) as Connection<T>, [pluginID, JSON.stringify(options)])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { HubAll } from '@masknet/web3-providers'\nimport type { Hub, HubOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Hub<T extends NetworkPluginID = NetworkPluginID>(expectedPluginID?: T, options?: HubOptions<T>) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => HubAll.use(pluginID, options) as Hub<T>, [pluginID, JSON.stringify(options)])\n}\n","import { useMemo } from 'react'\nimport type { AbiItem } from 'web3-utils'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { Web3 } from '@masknet/web3-providers'\nimport { type ChainId, createContract } from '@masknet/web3-shared-evm'\nimport type { BaseContract } from '@masknet/web3-contracts/types/types.js'\n\n/**\n * Create a contract which will forward its all transactions to the\n * EthereumService in the background page and decode the result of calls automatically\n * @param address\n * @param ABI\n * @param chainId\n */\nexport function useContract<T extends BaseContract>(chainId?: ChainId, address = '', ABI: AbiItem[] = EMPTY_LIST) {\n    return useMemo(() => createContract<T>(Web3.getWeb3({ chainId }), address, ABI), [address, ABI])\n}\n\n/**\n * Create many contracts with same ABI\n * @param listOfAddress\n * @param ABI\n * @param chainId\n */\nexport function useContracts<T extends BaseContract>(\n    chainId?: ChainId,\n    listOfAddress: string[] = EMPTY_LIST,\n    ABI: AbiItem[] = EMPTY_LIST,\n) {\n    return useMemo(\n        () =>\n            listOfAddress\n                .map((address) => createContract<T>(Web3.getWeb3({ chainId }), address, ABI))\n                .filter(Boolean) as T[],\n        [JSON.stringify(listOfAddress), ABI],\n    )\n}\n","import { Contract } from '@masknet/web3-providers'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport { useQuery } from '@tanstack/react-query'\n\nexport function useERC20TokenAllowance(\n    address?: string,\n    spender?: string,\n    options?: ConnectionOptions<NetworkPluginID.PLUGIN_EVM>,\n) {\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>({\n        account: options?.account,\n        chainId: options?.chainId,\n    })\n\n    return useQuery({\n        queryKey: ['erc20-allowance', address, account, spender],\n        queryFn: async () => {\n            if (!account || !address || !spender) return '0'\n            return Contract.getERC20Contract(address, { chainId })?.methods.allowance(account, spender).call({\n                from: account,\n            })\n        },\n        refetchInterval: 30 * 1000,\n    })\n}\n","import { useCallback, useMemo } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { Web3 } from '@masknet/web3-providers'\nimport { isLessThan, toFixed, isZero } from '@masknet/web3-shared-base'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { useChainContext, useFungibleTokenBalance } from '@masknet/web3-hooks-base'\nimport { useERC20TokenAllowance } from './useERC20TokenAllowance.js'\n\nconst MaxUint256 = toFixed('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff')\n\nexport enum ApproveStateType {\n    UNKNOWN = 0,\n    NOT_APPROVED = 1,\n    UPDATING = 2,\n    PENDING = 3,\n    APPROVED = 4,\n    FAILED = 5,\n}\n\nexport function useERC20TokenApproveCallback(\n    address: string,\n    amount: string,\n    spender: string,\n    callback?: () => void,\n    tokenChainId?: ChainId,\n) {\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n\n    // read the approved information from the chain\n    const {\n        data: balance = '0',\n        isLoading: loadingBalance,\n        error: errorBalance,\n        refetch: revalidateBalance,\n    } = useFungibleTokenBalance(NetworkPluginID.PLUGIN_EVM, address, { chainId: tokenChainId })\n    const {\n        data: allowance = '0',\n        isLoading: loadingAllowance,\n        error: errorAllowance,\n        refetch: revalidateAllowance,\n    } = useERC20TokenAllowance(address, spender, { chainId: tokenChainId })\n\n    // the computed approve state\n    const approveStateType = useMemo(() => {\n        if (!amount || !spender) return ApproveStateType.UNKNOWN\n        if (loadingBalance || loadingAllowance) return ApproveStateType.UPDATING\n        if (errorBalance || errorAllowance) return ApproveStateType.FAILED\n        return isLessThan(allowance, amount) || (allowance === amount && isZero(amount))\n            ? ApproveStateType.NOT_APPROVED\n            : ApproveStateType.APPROVED\n    }, [amount, spender, balance, allowance, errorBalance, errorAllowance, loadingAllowance, loadingBalance])\n\n    const [state, approveCallback] = useAsyncFn(\n        async (useExact = false, isRevoke = false) => {\n            if (approveStateType === ApproveStateType.UNKNOWN || !amount || !spender) {\n                return\n            }\n            // error: failed to approve token\n            if (approveStateType !== ApproveStateType.NOT_APPROVED && !isRevoke) {\n                return\n            }\n\n            if (tokenChainId !== chainId) {\n                await Web3.switchChain?.(tokenChainId ?? chainId)\n            }\n\n            const hash = await Web3.approveFungibleToken(address, spender, useExact ? amount : MaxUint256, {\n                chainId: tokenChainId,\n            })\n\n            const receipt = await Web3.confirmTransaction(hash, {\n                chainId: tokenChainId,\n                signal: AbortSignal.timeout(5 * 60 * 1000),\n            })\n\n            if (receipt) {\n                callback?.()\n                revalidateBalance()\n                revalidateAllowance()\n            }\n        },\n        [account, amount, spender, address, approveStateType, tokenChainId, chainId],\n    )\n\n    const resetCallback = useCallback(() => {\n        revalidateBalance()\n        revalidateAllowance()\n    }, [revalidateBalance])\n\n    return [\n        {\n            type: approveStateType,\n            allowance,\n            amount,\n            spender,\n            balance,\n        },\n        { ...state, loading: loadingAllowance || loadingBalance || state.loading, loadingApprove: state.loading },\n        approveCallback,\n        resetCallback,\n    ] as const\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'OpenInNew');","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Global } from '@emotion/react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction isEmpty(obj) {\n  return obj === undefined || obj === null || Object.keys(obj).length === 0;\n}\n\nexport default function GlobalStyles(props) {\n  const {\n    styles,\n    defaultTheme = {}\n  } = props;\n  const globalStyles = typeof styles === 'function' ? themeInput => styles(isEmpty(themeInput) ? defaultTheme : themeInput) : styles;\n  return /*#__PURE__*/_jsx(Global, {\n    styles: globalStyles\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? GlobalStyles.propTypes = {\n  defaultTheme: PropTypes.object,\n  styles: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func])\n} : void 0;","import e from\"void-elements\";var t=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function n(n){var r={type:\"tag\",name:\"\",voidElement:!1,attrs:{},children:[]},i=n.match(/<\\/?([^\\s]+?)[/\\s>]/);if(i&&(r.name=i[1],(e[i[1]]||\"/\"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith(\"!--\"))){var s=n.indexOf(\"--\\x3e\");return{type:\"comment\",comment:-1!==s?n.slice(4,s):\"\"}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,\"\"];o.indexOf(\"=\")>-1&&(l=o.split(\"=\")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g,i=/^\\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case\"text\":return e+t.content;case\"tag\":return e+=\"<\"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'=\"'+e[n]+'\"');return t.length?\" \"+t.join(\" \"):\"\"}(t.attrs):\"\")+(t.voidElement?\"/>\":\">\"),t.voidElement?e:e+t.children.reduce(a,\"\")+\"</\"+t.name+\">\";case\"comment\":return e+\"\\x3c!--\"+t.comment+\"--\\x3e\"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf(\"<\")){var u=e.indexOf(\"<\");c.push({type:\"text\",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!==\"</\"+a.name+\">\")return;m=!1}var u,f=\"/\"!==r.charAt(1),h=r.startsWith(\"\\x3c!--\"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,\"tag\"===(a=n(r)).type&&t.components[a.name]&&(a.type=\"component\",m=!0),a.voidElement||m||!d||\"<\"===d||a.children.push({type:\"text\",content:e.slice(p,e.indexOf(\"<\",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&\"<\"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf(\"<\",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=\" \"),(x>-1&&l+u.length>=0||\" \"!==g)&&u.push({type:\"text\",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a(\"\",t)},\"\")}};export default c;\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n","'use client';\nimport * as React from 'react';\n\nconst IsRestoringContext = /*#__PURE__*/React.createContext(false);\nconst useIsRestoring = () => React.useContext(IsRestoringContext);\nconst IsRestoringProvider = IsRestoringContext.Provider;\n\nexport { IsRestoringProvider, useIsRestoring };\n//# sourceMappingURL=isRestoring.mjs.map\n"],"names":["parser","parseURLs","text","requireProtocol","lib","default","list","map","x","string","filter","y","URL","canParse","createContext","useEffect","useContext","noop","emptyPluginWrapperMethods","setWrap","setWrapperName","setWidth","PluginWrapperMethodsContext","displayName","usePluginWrapper","open","options","width","name","useMemo","useSubscription","useObservableValues","subscription","getCurrentValue","asValues","subscribe","callback","event","on","ALL_EVENTS","createElement","ObservableMap","ObservableSet","ValueRef","useValueRef","PostInfoContext","PostInfoProvider","props","Provider","value","post","children","usePostInfoDetails","__proto__","Proxy","get","_","key","undefined","postInfo","TypeError","k","isSubscription","Object","defineProperty","configurable","lastRecognizedProfile","currentVisitingProfile","currentNextIDPlatform","currentPersonaIdentifier","getPostURL","share","getUserIdentity","getPostIdFromNewPostToast","postMessage","getSearchedKeyword","connectPersona","__setSiteAdaptorContext__","usePostLink","id","postID","identifier","ChainId","artBlocksHostnames","artBlocksPathnameRegex","checkUrl","url","protocol","_url","test","includes","hostname","pathname","getRelevantUrl","textContent","urls","find","getAssetInfoFromURL","matches","match","chain_id","host","Ropsten","Mainnet","project_id","buildTokenId","projectId","invocation","urlcat","createLookupTableResolver","ArtBlocksRopstenUrl","ArtBlocksMainnetUrl","ArtBlocksMainnetHostImageUrl","ArtBlocksRopstenHostImageUrl","ArtBlocksMainnetSubgraphLink","ArtBlocksRopstenSubgraphLink","resolveTokenLinkOnArtBlocks","chainId","tokenId","resolveProjectLinkOnArtBlocks","resolveUserLinkOnArtBlocks","address","resolveImageLinkOnArtBlocks","tokenImage","resolveSubgraphLinkOnArtBlocks","useState","useTheme","MobileStepper","Button","Box","Paper","Typography","Skeleton","Link","KeyboardArrowLeft","KeyboardArrowRight","OpenInNew","makeStyles","useChainContext","useStyles","theme","root","borderRadius","scrollbarWidth","display","title","marginLeft","spacing","marginRight","paper","alignItems","justifyContent","bgcolor","paddingRight","paddingLeft","skeletonImage","height","skeletonTitle","hidden","buttonPrev","buttonNext","tokenIdRedirectionIcon","verticalAlign","stepper","backgroundColor","imageContainer","textAlign","image","maxHeight","CollectionView","classes","project","isImageLoaded","setImageLoaded","activeStep","setActiveStep","currentSelectedToken","Number","contract","maxSteps","parseInt","invocations","handleNext","prevActiveStep","handleBack","handleImageLoad","tokenLink","className","square","elevation","animation","variant","href","target","fontSize","steps","position","nextButton","size","onClick","disabled","direction","backButton","div","img","src","alt","onLoad","useTranslation","Trans","createProxy","initValue","define","container","getPrototypeOf","setPrototypeOf","v","getOwnPropertyDescriptor","useArtBlocksTrans","t","bind","createComponent","i18nKey","ns","ArtBlocksTrans","FormattedAddress","BigNumber","formatEthereumAddress","formatWeiToEther","ChainResolver","ExplorerResolver","padding","nameRedirectionIcon","nameRedirectionLink","description","marginTop","marginBottom","whiteSpace","meta_row","DetailsView","maxInvocations","price","pricePerTokenInWei","sx","rel","plugin_artblocks_created_by","artistAddress","artistName","website","plugin_artblocks_website","plugin_artblocks_infos","plugin_artblocks_price_row","currencySymbol","plugin_artblocks_minted_row","plugin_artblocks_license_row","license","scriptJSON","plugin_artblocks_library_row","JSON","parse","type","plugin_artblocks_chain","plugin_artblocks_blockchain_row","chainName","plugin_artblocks_contract_row","transactionLink","formatter","fetchJSON","fetchProject","body","query","data","stringify","method","headers","useAsyncRetry","useFetchProject","useControlledDialog","setOpen","onClose","onOpen","useFungibleTokenBalance","useFungibleToken","useFungibleTokenWatched","pluginID","address_","amount","setAmount","setAddress","token","balance","useContract","useArtBlocksConstants","ArtBlocksCoreContractABI","useArtBlocksContract","GEN_ART_721_MINTER","useAsyncFn","ContractTransaction","SchemaType","Web3","usePurchaseCallback","schema","Native","account","genArt721MinterContract","tx","fillAll","methods","purchase","from","toFixed","sendTransaction","useCallback","Card","CardActions","CardContent","Checkbox","DialogContent","FormControlLabel","InjectedDialog","FungibleTokenInput","useOpenShareTxDialog","WalletConnectedBoundary","EthereumERC20TokenApprovedBoundary","ConfirmModal","ActionButton","leftShift","NetworkPluginID","Sniffings","content","button","flex","margin","PurchaseDialog","PLUGIN_EVM","currencyAddress","ToS_Checked","setToS_Checked","loading","isPurchasing","purchaseCallback","decimals","postLink","shareText","is_twitter_page","is_facebook_page","plugin_artblocks_share","symbol","plugin_artblocks_share_no_official_account","join","openShareTxDialog","hash","onShare","err","Error","openAndWaitForClose","message","spender","validationMessage","balance_","isZero","isGreaterThan","plugin_collectible_insufficient_balance","plugin_artblocks_check_tos_document","actionButton","color","fullWidth","plugin_artblocks_purchasing","plugin_artblocks_purchase","label","plugin_artblocks_price_per_mint","toString","onAmountChange","control","checked","onChange","components","terms","expectedChainId","ERC20","ActionBar","openMintDialog","onCloseMintDialog","onOpenMintDialog","status","active","plugin_artblocks_not_active","complete","plugin_artblocks_completed","paused","plugin_artblocks_paused","Tab","Tabs","CardHeader","Avatar","LoadingBase","ArtBlocksLogoUrl","ChainBoundary","border","palette","divider","tab","minHeight","borderTop","borderBottom","flexDirection","Collectible","projectChainId","tabIndex","setTabIndex","error","projects","align","plugin_artblocks_smt_wrong","tabs","plugin_artblocks_collection","plugin_artblocks_details","pages","avatar","subheader","indicatorColor","textColor","ev","newValue","TabIndicatorProps","style","expectedPluginID","ActionButtonPromiseProps","uniq","base","extractTextFromTypedMessage","Icons","PluginID","site","init","signal","PostInspector","links","mentionedLinks","link","asset","Renderer","DecryptedInspector","collectibleUrl","unwrapOr","ApplicationEntries","ApplicationEntryID","ID","category","marketListSortingPriority","ArtBlocks","icon","useRef","useBuildInfo_raw","BuildInfo","BuildInfoProvider","useBuildInfo","current","useBuildInfoMarkdown","env","gitInfo","COMMIT_HASH","DIRTY","BRANCH_NAME","buildInfoMarkdown","VERSION","process","NODE_ENV","navigator","userAgent","channel","BUILD_DATE","defer","delay","Emitter","SingletonModal","constructor","close","abort","emitter","onAbort","dispatchPeek","dispatchOpen","dispatchClose","dispatchAbort","register","creator","ref","emit","peek","console","warn","Promise","resolve","reject","SingletonModalQueued","opened","tasks","cleanup","push","d","length","shift","FALSE","TRUE","useWeb3State","useAllowTestnet","Settings","allowTestnet","React","memo","ShadowRootTooltip","useCustomSnackbar","useNetworkContext","useNetworkDescriptor","useChainIdValid","RevokeChainContextProvider","useWeb3Others","useWeb3Connection","ProviderType","WalletIcon","useSharedTrans","SelectProviderModal","tooltip","background","common","black","white","maxWidth","arrow","connectWallet","lineHeight","ChainBoundaryWithoutContext","expectedAccount","actualNetworkPluginID","switchText","forceShowingWrongNetworkButton","disableConnectWallet","predicate","actualPluginID","actualChainId","showSnackbar","providerType","actualProviderType","expectedOthers","expectedAllowTestnet","chainIdValid","expectedChainName","chainResolver","expectedNetworkDescriptor","expectedChainAllowed","isValidChainId","isPluginIDMatched","isMatched","onSwitchChain","WalletConnect","switchChain","plugin_wallet_switch_network_title","processing","plugin_wallet_unsupported_chain","network","autoHideDuration","plugin_wallet_switch_chain_failed","renderBox","tips","placement","hiddenConnectButton","startIcon","Wallet","plugin_wallet_wrong_network","plugin_wallet_connect_a_wallet","switchButton","mainIcon","plugin_wallet_change_wallet","plugin_wallet_connect_tips","plugin_wallet_not_support_network","plugin_wallet_switch_network","unreachable","TokenIcon","useFungibleTokenSpenders","ApproveStateType","useERC20TokenApproveCallback","isGte","isSameAddress","rightShift","HelpOutline","refs","helpIcon","infiniteUnlockContent","contractName","showHelperToken","failedContent","tokenBalance","spenders","isLoading","spendersLoading","isError","refetch","approveAmount","approveStateType","allowance","transactionState","approveCallback","approved","some","tokenInfo","UPDATING","loadingApprove","onApprove","ActionButtonProps","wallet_load_retry","disableDefaultIcon","endIcon","plugin_wallet_token_infinite_unlock_tips","provider","leaveDelay","disableInteractive","disableFocusListener","disableTouchListener","plugin_wallet_token_infinite_unlock","InputBase","Chip","lighten","inputBaseClasses","chipClasses","alpha","formatBalance","FormattedBalance","input","paddingTop","paddingBottom","fontWeight","top","left","maskColor","second","rowGap","chip","cursor","main","tokenIcon","selectToken","primary","maxChip","textOverflow","overflow","arrowIcon","chipLabel","FungibleTokenInputUI","isNative","onSelectToken","onMaxClick","loadingBalance","disableMax","disableToken","disableBalance","cx","startAdornment","endAdornment","component","available_balance","significant","columnGap","logoURL","deleteIcon","ArrowDrop","onDelete","select_a_token","currentTarget","RegExp","inputProps","pattern","NUMERIC_INPUT_REGEXP_PATTERN","MIN_AMOUNT_LENGTH","MAX_AMOUNT_LENGTH","maxAmount","isAvailableBalance","placeholder","maxAmountShares","Others","isNativeTokenAddress","RE_MATCH_WHOLE_AMOUNT","RE_MATCH_FRACTION_AMOUNT","amount_","replaceAll","autoComplete","autoCorrect","inputMode","min","minLength","maxLength","spellCheck","onKeyDown","preventDefault","dividedBy","decimalPlaces","formattedBalance","toPrecision","toFormat","required","DEFAULT_IMAGES","name2Image","sum","i","charCodeAt","dark","backgroundSize","Icon","rest","failed","setFailed","defaultBackgroundImage","showImage","imgProps","onError","backgroundImage","slice","toUpperCase","ImageIcon","iconFilterColor","backdropFilter","useWeb3Hub","TokenType","useQuery","first","propChainId","tokenType","Fungible","Hub","isNFT","NonFungible","queryKey","enabled","queryFn","logoURLs","getFungibleTokenIconURLs","catch","useRiskWarningApproved","RiskWarning","useNativeTokenBalance","useWallet","useAsync","SmartPayBundler","WalletRiskWarningModal","offChain","hideRiskWarningConfirmed","wallet","smartPayChainId","getSupportedChainId","nativeTokenBalance","buttonClass","plugin_wallet_confirm_risk_warning","owner","retry","plugin_wallet_update_gas_fee","plugin_wallet_no_gas_fee","plugin_wallet_invalid_network","badgeIcon","right","bottom","badgeIconBorderColor","badgeSize","WalletConnectQRCodeModal","WalletStatusModal","ConnectWalletModal","LeavePageConfirmModal","ApplicationBoardModal","ApplicationBoardSettingsModal","GasSettingModal","TransactionConfirmModal","TransactionSnackbar","ConfirmDialog","SelectNonFungibleContractModal","SelectGasSettingsModal","AddCollectiblesModal","SelectFungibleTokenModal","PersonaSelectPanelModal","ShareSelectNetworkModal","ApplicationSettingTabs","Fragment","identity","isLessThan","minimumBalance","valueInt","formatted","span","String","Done","DoneIcon","secondary","ShareTransaction","share_dialog_view_on_explorer","buttonLabel","confirmed","share_dialog_transaction","share_dialog_transaction_confirmed","confirmLabel","dialog_share","dialog_dismiss","LightColor","bg","primaryContrastText","secondaryContrastText","primaryBackground","primaryBackground2","secondaryBackground","lightBackground","mainBackground","suspensionBackground","normalBackground","twitterBackground","twitterBackgroundHover","twitterInputBackground","twitterButton","twitterButtonText","twitterBlue","twitterBorderLine","twitterSecond","twitterMain","twitterBottom","twitterInfoBackground","twitterInfo","twitterBg","twitterTooltipBg","twitterInput","twitterLine","redMain","redLight","redContrastText","greenMain","greenLight","orangeMain","orangeLight","iconLight","borderSecondary","textPrimary","textSecondary","secondaryInfoText","normalText","normalTextLight","infoBackground","success","warning","blue","textLink","lineLight","lineLighter","textLight","lightestBackground","linkText","twitter","facebook","errorBackground","tooltipBackground","warningBackground","cyberconnectPrimary","errorPlugin","buttonPluginBackground","textPluginColor","buttonPluginColor","DarkColor","kebabCase","getMaskColor","mode","set","cssVar","defaultValue","assign","Symbol","toPrimitive","MaskColorVar","enumerable","p","opacity","pointerEvents","disableElevation","useLayoutEffect","DialogStackingContext","stack","pop","setParent","hasGlobalBackdrop","DialogHierarchyContext","useDialogStackActor","selfID","Math","random","parentID","TrackDialogHierarchy","returnVal","shouldReplaceExitWithBack","extraProps","hideBackdrop","transitionDuration","at","disableEscapeKeyDown","disableScrollLock","visibility","DialogStackingProvider","setStack","hierarchy","setHierarchy","context","sortedStack","sortStackByHierarchy","child","parent","has","newSet","Set","add","delete","concat","useDialogStacking","last","animated","transform","CircleLoading","forwardRef","keyframes","SnackbarProvider","useSnackbar","SnackbarContent","IconButton","Close","CloseIcon","Warning","WarningIcon","Info","InfoIcon","usePortalShadowRoot","PopupSnackbarProvider","usePopupCustomSnackbar","offsetY","classNames","spinningAnimationKeyFrames","wordBreak","outline","defaultVariant","boxShadow","danger","info","zIndex","flexWrap","spinning","action","closeButton","texts","IconMap","SuccessForSnackBar","TransactionFailed","CustomSnackbarContent","snackbar","loadingIcon","variantIcon","renderedAction","closeSnackbar","CustomSnackbarProvider","onDismiss","maxSnack","disableWindowBlurListener","anchorOrigin","vertical","horizontal","hideIconVariant","containerRoot","variantSuccess","variantError","variantInfo","variantWarning","domRoot","enqueueSnackbar","Tooltip","createShadowRootForwardedPopperComponent","Flags","DisableShadowRootContext","PreventShadowRootEventPropagationListContext","stopPropagation","StyleSheetsContext","renderer","debugKey","sheet","preventEventPropagationList","useRefInit","AbortController","portal","portalContainer","document","dataset","portalShadowRoot","shadow","attachShadow","shadowRootInit","each","addEventListener","appendChild","addContainer","writable","parentElement","Node","prototype","call","removeChild","childElementCount","createShadowRootForwardedComponent","Component","PopperProps","f","StrictMode","createRoot","globalContainer","shadowEnvironmentMountingRoots","setupReactShadowRootEnvironment","wrapJSX","render","MountingPoint","preventPropagationList","setChildren","Array","values","dom","location","globalThis","createIsType","isTypedMessageImage","makeTypedMessageImage","meta","serializable","isTypedMessagePromise","makeTypedMessagePromise","promise","getPromiseWithStatus","seen","WeakMap","then","defineProperties","reason","isTypedMessageTextV1","isTypedMessageText","makeTypedMessageText","version","isSerializableTypedMessage","composeEvery","isTypedMessageTuple","isTypedMessageTupleSerializable","makeTypedMessageTuple","items","makeTypedMessageTupleFromList","args","makeTypedMessageTupleSerializable","makeTypedMessageSerializableTupleFromList","isTypedMessageMaskPayload","makeTypedMessageMaskPayload","isTypedMessageAnchor","makeTypedMessageAnchor","postImage","Some","None","forEachTypedMessageChild","visitor","linkAsText","extractImageFromTypedMessage","isEqual","isNonSerializableTypedMessageWithAlt","isTypedMessageEqual","message1","message2","composeSome","fns","every","node","stop","attemptUntil","useNetworks","fallbackToken","networks","nativeCurrency","getFungibleToken","BalanceNotifier","result","getFungibleTokenBalance","getFungibleTokenSpenders","getNativeTokenBalance","getRegisteredWeb3Networks","expectedChainIdOrNetworkTypeOrID","networkType","EMPTY_ARRAY","uniqBy","uniqChainId","Network","isCustomized","useWallets","wallets","EMPTY_LIST","Providers","usePersistSubscription","MaskWallet","w","createdAt","Date","updatedAt","sort","a","b","timestampA","getTime","timestampB","numA","split","numB","isNaN","Web3All","use","HubAll","createContract","ABI","getWeb3","useContracts","listOfAddress","Boolean","Contract","useERC20TokenAllowance","getERC20Contract","refetchInterval","MaxUint256","UNKNOWN","NOT_APPROVED","PENDING","APPROVED","FAILED","tokenChainId","errorBalance","revalidateBalance","loadingAllowance","errorAllowance","revalidateAllowance","state","useExact","isRevoke","approveFungibleToken","receipt","confirmTransaction","AbortSignal","timeout","resetCallback"],"sourceRoot":"","x_google_ignoreList":[7,8,27,47,48,77,78,79,80,81,82,83,84]}