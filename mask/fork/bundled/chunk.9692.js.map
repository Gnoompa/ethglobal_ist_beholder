{"version":3,"file":"bundled/chunk.9692.js","mappings":"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","sources":["webpack://mask-network/./packages/plugin-infra/src/dom/usePluginWrapper.tsx","webpack://mask-network/./packages/plugin-infra/src/dom/useTrans.tsx","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/CompositionContext.ts","webpack://mask-network/./packages/plugin-infra/src/utils/message.ts","webpack://mask-network/./packages/plugin-infra/src/utils/rpc.ts","webpack://mask-network/./packages/plugins/FileService/src/locales/i18n_generated.ts","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/FileChip.tsx","webpack://mask-network/./packages/shared/src/UI/components/FileFrame/index.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/Files/UploadingFile.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/Files/ManageableFile.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/Files/SelectableFile.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/Files/DisplayingFile.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/rpc.ts","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/contexts/FileManagement/index.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/modals/modals.ts","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/FileList.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/FileViewer.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/storage.ts","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/emitter.ts","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/RouterDialog.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/FileBrowser.tsx","webpack://mask-network/./packages/shared/src/UI/components/UploadDropArea/index.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/UploadFile.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/components/Terms.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/Routes.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/MainDialog.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/FileServiceInjection.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/modals/ConfirmModal/ConfirmDialog.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/modals/ConfirmModal/index.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/modals/RenameModal/RenameDialog.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/modals/RenameModal/index.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/modals/index.tsx","webpack://mask-network/./packages/plugins/FileService/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/plugins/FileService/src/helpers.ts","webpack://mask-network/./packages/plugins/FileService/src/types.ts","webpack://mask-network/./packages/shared-base-ui/src/bom/open-window.ts","webpack://mask-network/./packages/shared-base-ui/src/hooks/useSingletonModal.ts","webpack://mask-network/./packages/shared-base/src/SingletonModal/index.ts","webpack://mask-network/./packages/shared-base/src/helpers/getLocalImplementation.tsx","webpack://mask-network/./packages/shared/src/UI/modals/modals.ts","webpack://mask-network/./packages/theme/src/CSSVariables/constants.ts","webpack://mask-network/./packages/theme/src/CSSVariables/vars.ts","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Info.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Warning.js","webpack://mask-network/./packages/theme/src/Components/Snackbar/index.tsx","webpack://mask-network/./packages/theme/src/Components/TextField/index.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootMenu.ts","webpack://mask-network/./packages/typed-message/react/src/Metadata/index.ts","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/cjs/react-is.production.min.js","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/index.js","webpack://mask-network/./node_modules/.pnpm/use-subscription@1.8.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-subscription/cjs/use-subscription.production.min.js","webpack://mask-network/./node_modules/.pnpm/use-subscription@1.8.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-subscription/index.js","webpack://mask-network/./node_modules/.pnpm/use-sync-external-store@1.2.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","webpack://mask-network/./node_modules/.pnpm/use-sync-external-store@1.2.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-sync-external-store/shim/index.js"],"sourcesContent":["import { createContext, useEffect, useContext, type ForwardRefExoticComponent, type RefAttributes } from 'react'\nimport { noop } from 'lodash-es'\nimport type { Plugin } from '../types.js'\n\nexport type PluginWrapperComponent<T extends Plugin.Shared.Definition = Plugin.Shared.Definition> =\n    ForwardRefExoticComponent<\n        React.PropsWithChildren<\n            RefAttributes<PluginWrapperMethods> & {\n                definition: T\n                lackHostPermission?: boolean\n            }\n        >\n    >\n\nconst emptyPluginWrapperMethods = {\n    setWrap: noop,\n    setWrapperName: noop,\n    setWidth: noop,\n}\n/** @internal */\nexport const PluginWrapperMethodsContext = createContext<PluginWrapperMethods>(emptyPluginWrapperMethods)\nPluginWrapperMethodsContext.displayName = 'PluginWrapperMethodsContext'\nexport interface PluginWrapperMethods {\n    setWrap(open: boolean): void\n    setWrapperName(name: string | undefined): void\n    setWidth(width: number | undefined): void\n}\n\nexport function usePluginWrapper(\n    open: boolean,\n    options?: {\n        width?: number\n        name?: string\n    },\n) {\n    const { setWidth, setWrap, setWrapperName } = useContext(PluginWrapperMethodsContext)\n    const { width, name } = options || {}\n\n    useEffect(() => {\n        setWrap(open)\n        return () => setWrap(open)\n    }, [open, setWrap])\n    useEffect(() => setWidth(width), [width, setWidth])\n    useEffect(() => setWrapperName(name), [name, setWrapperName])\n}\n","import { useTranslation } from 'react-i18next'\nimport type { I18NFieldOrReactNode, I18NStringField } from '../types.js'\n\nexport interface PluginTransFieldRenderProps {\n    field: I18NFieldOrReactNode\n    pluginID: string\n}\nexport function PluginTransFieldRender({ pluginID, field }: PluginTransFieldRenderProps) {\n    const [t] = useTranslation()\n    if (!field) return null\n    if (typeof field === 'object' && 'fallback' in field) {\n        if (field.i18nKey) {\n            const translate = t(field.i18nKey, { ns: pluginID, nsSeparator: '%%%', defaultValue: field.fallback })\n            return <>{translate}</>\n        }\n        return <>{field.fallback}</>\n    }\n    return <>{field}</>\n}\nexport function usePluginTransField() {\n    const [t] = useTranslation()\n    return function (pluginID: string, field: I18NStringField) {\n        if (!field.i18nKey) return field.fallback\n        if (!field.i18nKey.startsWith('__')) {\n            /**\n             * This field is used in the definition of a plugin in form of\n             * { fallback: \"Text\", i18nKey: \"name\" }\n             *\n             * Which is highly not likely to be analyzed by the type system.\n             * Enforce those key to starts with __, we can exclude those keys\n             * from the unused key result to keep the functionality of the analyzer.\n             */\n            console.warn(\n                `[@masknet/plugin-infra] Plugin ${pluginID} uses i18n key ${field.i18nKey}. Please change it to __${field.i18nKey}.`,\n            )\n            return field.fallback\n        }\n        return t(field.i18nKey, { ns: pluginID, nsSeparator: '%%%', defaultValue: field.fallback })\n    }\n}\n","import { useContext, createContext } from 'react'\n\nexport type CompositionType = 'popup' | 'timeline'\n\nexport interface CompositionContext {\n    type: CompositionType\n    getMetadata(): ReadonlyMap<string, unknown> | undefined\n    attachMetadata(metaID: string, value: unknown): void\n    dropMetadata(metaID: string): void\n}\nexport const CompositionContext = createContext<CompositionContext>({\n    type: 'popup',\n    getMetadata: () => undefined,\n    attachMetadata() {},\n    dropMetadata() {},\n})\nCompositionContext.displayName = 'CompositionContext'\nexport const useCompositionContext = () => useContext(CompositionContext)\nimport.meta.webpackHot?.accept()\n","import { WebExtensionMessage } from '@dimensiondev/holoflows-kit'\nimport type { PluginMessageEmitterItem } from '@masknet/plugin-infra'\nimport { serializer } from '@masknet/shared-base'\n\n/** @internal */\nexport const DOMAIN_RPC = Symbol('create RPC instead of normal message')\n/**\n * Create a plugin message emitter\n * @param pluginID The plugin ID\n *\n * @example\n * export const MyPluginMessage = getPluginMessage(PLUGIN_ID)\n */\nexport let getPluginMessage = <T>(pluginID: string, type?: typeof DOMAIN_RPC): PluginMessageEmitter<T> => {\n    const domain = (type === DOMAIN_RPC ? '@plugin-rpc/' : '@plugin/') + pluginID\n    if (cache.has(domain)) return cache.get(domain) as any\n\n    const messageCenter = new WebExtensionMessage<T>({ domain })\n    const events = messageCenter.events\n    messageCenter.serialization = serializer\n    cache.set(domain, events)\n    return events\n}\n\nexport function __workaround__replaceImplementationOfCreatePluginMessage__(\n    newImpl: (pluginID: string) => PluginMessageEmitter<any>,\n) {\n    getPluginMessage = newImpl\n}\nexport type PluginMessageEmitter<T> = { readonly [key in keyof T]: PluginMessageEmitterItem<T[key]> }\nconst cache = new Map<string, PluginMessageEmitter<unknown>>()\n\n// TODO: this type should be defined here, not shared-base\nexport type { PluginMessageEmitterItem } from '@masknet/shared-base'\n","import { Environment, isEnvironment } from '@dimensiondev/holoflows-kit'\nimport { AsyncCall, type AsyncCallLogLevel, AsyncGeneratorCall } from 'async-call-rpc/full'\nimport { serializer, getOrUpdateLocalImplementationHMR } from '@masknet/shared-base'\nimport { getPluginMessage } from '@masknet/plugin-infra'\nimport { DOMAIN_RPC } from './message.js'\n\nconst log: AsyncCallLogLevel = {\n    type: 'pretty',\n    requestReplay: process.env.NODE_ENV === 'development',\n    sendLocalStack: process.env.NODE_ENV === 'development',\n}\nlet isBackground = () => isEnvironment(Environment.ManifestBackground)\nexport function __workaround__replaceIsBackground__(f: () => boolean) {\n    isBackground = f\n}\n\nfunction getPluginRPCInternal(\n    cache: Map<string, object>,\n    pluginID: string,\n    starter: typeof AsyncCall | typeof AsyncGeneratorCall,\n    entry: keyof RPCMessage,\n) {\n    if (cache.has(pluginID)) return cache.get(pluginID)\n    const message = getPluginMessage<RPCMessage>(pluginID, DOMAIN_RPC)\n    const rpc = starter(Object.create(null), {\n        key: `@plugin/${pluginID}`,\n        channel: {\n            on: message[entry].on,\n            send: message[entry].sendToBackgroundPage,\n        },\n        serializer,\n        log,\n        thenable: false,\n    })\n    cache.set(pluginID, rpc)\n    return rpc\n}\nconst cache = new Map<string, object>()\nconst cacheGenerator = new Map<string, object>()\nexport function getPluginRPC<T>(pluginID: string): T {\n    if (isBackground()) startPluginRPC(pluginID, new AbortController().signal, Object.create(null))\n    return getPluginRPCInternal(cache, pluginID, AsyncCall, '_') as T\n}\nexport function getPluginRPCGenerator<T>(pluginID: string): T {\n    if (isBackground()) startPluginGeneratorRPC(pluginID, new AbortController().signal, Object.create(null))\n    return getPluginRPCInternal(cacheGenerator, pluginID, AsyncGeneratorCall, '$') as T\n}\n\nfunction startPluginRPCInternal(\n    cache: Map<string, object>,\n    pluginID: string,\n    signal: AbortSignal,\n    impl: object,\n    starter: typeof AsyncCall | typeof AsyncGeneratorCall,\n    entry: keyof RPCMessage,\n) {\n    if (!isBackground()) throw new Error('Cannot start RPC in the UI.')\n    const message = getPluginMessage<RPCMessage>(pluginID, DOMAIN_RPC)\n    const delegate = getOrUpdateLocalImplementationHMR(() => impl, message[entry])\n    if (cache.has(pluginID)) return\n    cache.set(pluginID, delegate)\n    starter(delegate, {\n        key: pluginID,\n        channel: {\n            on: message[entry].on,\n            send: message[entry].sendByBroadcast,\n        },\n        serializer,\n        log,\n        thenable: false,\n    })\n}\n/** @internal */\nexport function startPluginRPC(pluginID: string, signal: AbortSignal, impl: object) {\n    startPluginRPCInternal(cache, pluginID, signal, impl, AsyncCall, '_')\n}\n/** @internal */\nexport function startPluginGeneratorRPC(pluginID: string, signal: AbortSignal, impl: object) {\n    startPluginRPCInternal(cacheGenerator, pluginID, signal, impl, AsyncGeneratorCall, '$')\n}\n\ninterface RPCMessage {\n    // RPC\n    _: unknown\n    // Generator\n    $: unknown\n}\n","// @ts-nocheck\n/* eslint-disable */\nimport { createElement, useMemo, type ComponentType } from \"react\";\nimport { useTranslation, Trans, type TransProps } from \"react-i18next\";\ntype TypedTransProps<Value, Components> = Omit<TransProps<string>, \"values\" | \"ns\" | \"i18nKey\"> & ({} extends Value ? {} : {\n    values: Value;\n}) & {\n    components: Components;\n};\nfunction createProxy(initValue: (key: string) => any) {\n    function define(key: string) {\n        const value = initValue(key);\n        Object.defineProperty(container, key, { value, configurable: true });\n        return value;\n    }\n    const container = {\n        __proto__: new Proxy({ __proto__: null }, {\n            get(_, key) {\n                if (typeof key === \"symbol\")\n                    return undefined;\n                return define(key);\n            }\n        })\n    };\n    return new Proxy(container, {\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, key) => {\n            if (typeof key === \"symbol\")\n                return undefined;\n            if (!(key in container))\n                define(key);\n            return Object.getOwnPropertyDescriptor(container, key);\n        }\n    });\n}\nexport function useFileServiceTrans(): {\n    /**\n      * `Web3 File Service`\n      */\n    __display_name(): string;\n    /**\n      * `Upload and share files on top of Arweave network. Store data, permanently.`\n      */\n    __description(): string;\n    /**\n      * `📃 Web3 File Service`\n      */\n    __composition_entry(): string;\n    /**\n      * `File Service`\n      */\n    name(): string;\n    /**\n      * `Use the file`\n      */\n    on_insert(): string;\n    /**\n      * `Preparing`\n      */\n    uploading_preparing(): string;\n    /**\n      * `Estimating time…`\n      */\n    uploading_estimating_time(): string;\n    /**\n      * `{{seconds}}s remaining`\n      */\n    uploading_in_minute_remaining(options: {\n        readonly seconds: string;\n    }): string;\n    /**\n      * `{{minutes}}m {{seconds}}s remaining`\n      */\n    uploading_remaining(options: Readonly<{\n        minutes: string;\n        seconds: string;\n    }>): string;\n    /**\n      * `Uploading… Please do not close this page.`\n      */\n    uploading_on_cancel(): string;\n    /**\n      * `Recent files`\n      */\n    recent_files(): string;\n    /**\n      * `Show More`\n      */\n    show_more(): string;\n    /**\n      * `This file is not encrypted`\n      */\n    unencrypted(): string;\n    /**\n      * `Service unavailable. Wait a few minutes and try again.`\n      */\n    signing_failed(): string;\n    /**\n      * `Make It Encrypted`\n      */\n    on_encrypt_it(): string;\n    /**\n      * `Use Meson CDN`\n      */\n    use_cdn(): string;\n    /**\n      * `Web3 File Service`\n      */\n    __plugin_name(): string;\n    /**\n      * `Decentralized file storage, permanently. Upload and share files to your Mask friends on top of Arweave Network.`\n      */\n    __plugin_description(): string;\n    /**\n      * `Arweave`\n      */\n    provider_arweave(): string;\n    /**\n      * `IPFS`\n      */\n    provider_ipfs(): string;\n    /**\n      * `Cancel`\n      */\n    cancel(): string;\n    /**\n      * `Confirm`\n      */\n    confirm(): string;\n    /**\n      * `What is Web3 File Service?`\n      */\n    what_is_web3_file_service(): string;\n    /**\n      * `Download`\n      */\n    download(): string;\n    /**\n      * `Rename`\n      */\n    rename(): string;\n    /**\n      * `Delete`\n      */\n    [\"delete\"](): string;\n    /**\n      * `Delete File`\n      */\n    delete_file(): string;\n    /**\n      * `File name must between 3 to 20 characters.`\n      */\n    rename_validation(): string;\n    /**\n      * `You haven't uploaded any files yet.`\n      */\n    no_uploaded_files(): string;\n    /**\n      * `No results found`\n      */\n    empty(): string;\n    /**\n      * `Upload File`\n      */\n    upload_file(): string;\n    /**\n      * `Uploaded files`\n      */\n    uploaded_files(): string;\n    /**\n      * `Users can only delete local links of these files. Files on the decentralized storage protocols cannot be deleted.`\n      */\n    delete_description(): string;\n    /**\n      * `Failed to upload file`\n      */\n    upload_file_title$failed(): string;\n    /**\n      * `Exceeded the maximum file size of 10MB.`\n      */\n    upload_file_message$failed(): string;\n    /**\n      * `File saved successfully`\n      */\n    save_file_title$success(): string;\n    /**\n      * `Failed to save file`\n      */\n    save_file_title$failed(): string;\n    /**\n      * `You’ve saved {{name}} to Web3 file service.`\n      */\n    save_file_message$success(options: {\n        readonly name: string;\n    }): string;\n    /**\n      * `Failed to save the file. Please try again.`\n      */\n    save_file_message$failed(): string;\n    /**\n      * `Delete successfully`\n      */\n    delete_file_title$success(): string;\n    /**\n      * `Delete failed`\n      */\n    delete_file_title$failed(): string;\n    /**\n      * `Delete file {{name}} successfully.`\n      */\n    delete_file_message$success(options: {\n        readonly name: string;\n    }): string;\n    /**\n      * `Failed to delete, please try again.`\n      */\n    delete_file_message$failed(): string;\n    /**\n      * `Please click Browse Files button to select files to upload.`\n      */\n    upload_tips(): string;\n    /**\n      * `Attached File: {{name}} ({{size}})`\n      */\n    file_chip_single(options: Readonly<{\n        name: string;\n        size: string;\n    }>): string;\n    /**\n      * `{{count}} files selected`\n      */\n    file_chip_multiple(options: {\n        readonly count: string;\n    }): string;\n    /**\n      * `size`\n      */\n    size(): string;\n    /**\n      * - upload_file_title$failed: `Failed to upload file`\n      */\n    upload_file_title(options: {\n        readonly context: \"failed\";\n    }): string;\n    /**\n      * - upload_file_message$failed: `Exceeded the maximum file size of 10MB.`\n      */\n    upload_file_message(options: {\n        readonly context: \"failed\";\n    }): string;\n    /**\n      * - save_file_title$success: `File saved successfully`\n    \n      * - save_file_title$failed: `Failed to save file`\n      */\n    save_file_title(options: {\n        readonly context: \"success\" | \"failed\";\n    }): string;\n    /**\n      * - save_file_message$success: `You’ve saved {{name}} to Web3 file service.`\n    \n      * - save_file_message$failed: `Failed to save the file. Please try again.`\n      */\n    save_file_message(options: Readonly<{\n        name: string;\n        context?: \"success\" | \"failed\";\n    }>): string;\n    /**\n      * - delete_file_title$success: `Delete successfully`\n    \n      * - delete_file_title$failed: `Delete failed`\n      */\n    delete_file_title(options: {\n        readonly context: \"success\" | \"failed\";\n    }): string;\n    /**\n      * - delete_file_message$success: `Delete file {{name}} successfully.`\n    \n      * - delete_file_message$failed: `Failed to delete, please try again.`\n      */\n    delete_file_message(options: Readonly<{\n        name: string;\n        context?: \"success\" | \"failed\";\n    }>): string;\n} { const { t } = useTranslation(\"com.maskbook.fileservice\"); return useMemo(() => createProxy((key) => t.bind(null, key)), [t]); }\nfunction createComponent(i18nKey: string) {\n    return (props) => createElement(Trans, { i18nKey, ns: \"com.maskbook.fileservice\", shouldUnescape: true, ...props });\n}\nexport const FileServiceTrans: {\n    /**\n      * `Web3 File Service is a decentralized storage service provided by Mask Network. It allows users to store files in different decentralized network. This feature is powered by Mask Network’s partner file storage protocols such as IPFS, Arweave and Meson Network.It supports files in PDF, DOC, JPG, PNG, MP3, MP4. and other formats. At present, the maximum file upload size is 10 MB. <br/><br/>You can store files in multiple decentralized networks through the Web3 file service function. When uploading files, you can choose to encrypt or decrypt them. According to the selected upload encrypted method, you can obtain two file links with encryption and non encryption. Users of Mask Network can share files to social platforms through this link. By using encrypted files, you can ensure the security of your files and prevent privacy leakage. <br/><br/>It should be noted that any user who has the link can download and share the file. With the characteristics of decentralized file storage systems, your uploaded files can never be deleted or tampered. Please upload files containing personal privacy with caution. <br/><br/>The Web3 File Service provided by Mask Network enables individuals to be free from data restrictions imposed by traditional social platforms, enabling free encrypted transmission and sharing of files. At present, the service is provisionally free for all users with Mask Network absorbing all the costs. Mask Network will provide updates on future costs users may have to bear.`\n      */\n    introduction: ComponentType<TypedTransProps<Readonly<{}>, {\n        br: JSX.Element;\n    }>>;\n    /**\n      * `By using this plugin, you agree to the <terms>terms</terms> and the <policy>privacy policy</policy>.`\n      */\n    foot_note: ComponentType<TypedTransProps<Readonly<{}>, {\n        terms: JSX.Element;\n        policy: JSX.Element;\n    }>>;\n    /**\n      * `Do you want to delete file <file>{{ name }}</file>`\n      */\n    delete_message: ComponentType<TypedTransProps<{\n        readonly name: string;\n    }, {\n        file: JSX.Element;\n    }>>;\n    /**\n      * `File Key: <key>{{key}}</key>`\n      */\n    file_key: ComponentType<TypedTransProps<{\n        readonly key: string;\n    }, {\n        key: JSX.Element;\n    }>>;\n} = /*#__PURE__*/ createProxy(createComponent);\n","import type { HTMLProps } from 'react'\nimport { Typography } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '@masknet/theme'\nimport { useFileServiceTrans } from '../../locales/i18n_generated.js'\nimport { type CompositionType, useCompositionContext } from '@masknet/plugin-infra/content-script'\n\nconst useStyles = makeStyles()((theme) => ({\n    chip: {\n        display: 'flex',\n        alignItems: 'center',\n        cursor: 'pointer',\n    },\n}))\n\ninterface SingleFileChipProps extends Omit<HTMLProps<HTMLDivElement>, 'ref' | 'size' | 'onClick'> {\n    name: string\n    size: string\n    onClick(options: { compositionType: CompositionType }): void\n}\n\nexport function SingleFileChip({ name, size, onClick, ...rest }: SingleFileChipProps) {\n    const { classes } = useStyles()\n    const t = useFileServiceTrans()\n    const { type } = useCompositionContext()\n    return (\n        <Typography\n            className={classes.chip}\n            {...rest}\n            onClick={() => {\n                onClick({ compositionType: type })\n            }}>\n            <Icons.FileService size={16} />\n            {t.file_chip_single({ name, size })}\n        </Typography>\n    )\n}\n\ninterface MultipleFileChipProps\n    extends Omit<HTMLProps<HTMLDivElement>, 'ref' | 'onClick'>,\n        Pick<SingleFileChipProps, 'onClick'> {\n    count: number\n}\nexport function MultipleFileChip({ count, onClick, ...rest }: MultipleFileChipProps) {\n    const { classes, cx } = useStyles()\n    const t = useFileServiceTrans()\n    const { type } = useCompositionContext()\n    return (\n        <Typography\n            component=\"div\"\n            className={cx(classes.chip)}\n            {...rest}\n            onClick={() => {\n                onClick({ compositionType: type })\n            }}>\n            <Icons.FileService size={16} />\n            {t.file_chip_multiple({ count: count.toString() })}\n        </Typography>\n    )\n}\n","import { type HTMLProps, memo, type ReactNode, useEffect, useRef, useState } from 'react'\nimport { Icons } from '@masknet/icons'\nimport { Typography } from '@mui/material'\nimport { makeStyles, ShadowRootTooltip, useBoundedPopperProps } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => ({\n    file: {\n        backgroundColor: theme.palette.maskColor.bottom,\n        borderRadius: 8,\n        display: 'flex',\n        alignItems: 'center',\n        padding: theme.spacing(1.5),\n        overflow: 'auto',\n        ['&:hover']: {\n            background: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.08)' : theme.palette.maskColor.bg,\n        },\n    },\n    content: {\n        flexGrow: 1,\n        marginRight: 'auto',\n        marginLeft: theme.spacing(1),\n        overflow: 'auto',\n    },\n    name: {\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        lineHeight: '18px',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n}))\n\nexport interface FileFrameProps extends HTMLProps<HTMLDivElement> {\n    fileName?: string\n    operations?: ReactNode\n}\n\nexport const FileFrame = memo(function FileFrame({\n    className,\n    children,\n    fileName,\n    operations,\n    ...rest\n}: FileFrameProps) {\n    const { classes, cx } = useStyles()\n\n    const rootRef = useRef<HTMLDivElement>(null)\n\n    const nameRef = useRef<HTMLDivElement>(null)\n    const [showTooltip, setShowTooltip] = useState(false)\n\n    // DecryptedInspector lazy loading makes it fail to get offsetWidth of name\n    // element correctly during rendering. So we do a checking after when mouse\n    // enter\n    useEffect(() => {\n        const root = rootRef.current\n        if (!root) return\n        const check = () => {\n            if (nameRef.current) {\n                setShowTooltip(nameRef.current.offsetWidth !== nameRef.current.scrollWidth)\n            }\n        }\n        root.addEventListener('mouseenter', check)\n        return () => {\n            root.removeEventListener('mouseenter', check)\n        }\n    }, [])\n\n    const tooltipPopperProps = useBoundedPopperProps()\n\n    return (\n        <div className={cx(className, classes.file)} {...rest} ref={rootRef}>\n            <Icons.Message size={24} />\n            <div className={classes.content}>\n                <ShadowRootTooltip\n                    title={showTooltip ? fileName : undefined}\n                    disableInteractive\n                    arrow\n                    PopperProps={tooltipPopperProps}>\n                    <Typography className={classes.name} ref={nameRef}>\n                        {fileName}\n                    </Typography>\n                </ShadowRootTooltip>\n                {children}\n            </div>\n            {operations}\n        </div>\n    )\n})\n\nFileFrame.displayName = 'FileFrame'\n","import { formatFileSize } from '@masknet/kit'\nimport { FileFrame } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport { LinearProgress, linearProgressClasses, Typography } from '@mui/material'\nimport { memo } from 'react'\nimport type { FileBaseProps, FileInfo } from '../../../types.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    desc: {\n        color: theme.palette.maskColor.second,\n        fontWeight: 700,\n        fontSize: 12,\n        marginTop: 7,\n    },\n    progressBar: {\n        height: 4,\n        marginTop: 7,\n        borderRadius: 2,\n        [`&.${linearProgressClasses.colorPrimary}`]: {\n            backgroundColor: theme.palette.maskColor.thirdMain,\n        },\n        [`& .${linearProgressClasses.bar}`]: {\n            borderRadius: 2,\n            backgroundColor: theme.palette.maskColor.success,\n        },\n    },\n}))\n\ninterface UploadingFileProps extends FileBaseProps {\n    file: FileInfo\n    progress?: number\n}\n\nexport const UploadingFile = memo(({ file, progress, ...rest }: UploadingFileProps) => {\n    const { classes } = useStyles()\n\n    return (\n        <FileFrame fileName={file.name} {...rest}>\n            <LinearProgress\n                className={classes.progressBar}\n                variant={progress === 0 ? 'indeterminate' : 'determinate'}\n                value={progress}\n            />\n            <Typography className={classes.desc}>{formatFileSize(file.size, true)}</Typography>\n        </FileFrame>\n    )\n})\n\nUploadingFile.displayName = 'UploadingFile'\n","import { Icons } from '@masknet/icons'\nimport { formatFileSize } from '@masknet/kit'\nimport { FileFrame } from '@masknet/shared'\nimport { makeStyles, ShadowRootMenu } from '@masknet/theme'\nimport { MenuItem, Typography } from '@mui/material'\nimport { memo, useRef, useState } from 'react'\nimport { FileServiceTrans, useFileServiceTrans } from '../../../locales/index.js'\nimport type { FileBaseProps, FileInfo } from '../../../types.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    meta: {\n        fontSize: 12,\n        fontWeight: 700,\n        color: theme.palette.maskColor.third,\n    },\n    metaValue: {\n        fontSize: 12,\n        color: theme.palette.maskColor.second,\n    },\n    operations: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    operationButton: {\n        marginLeft: theme.spacing(1),\n        color: theme.palette.maskColor.main,\n    },\n    menuButton: {\n        color: theme.palette.maskColor.second,\n    },\n    menuLabel: {\n        fontSize: 14,\n        fontWeight: 700,\n        lineHeight: '18px',\n        padding: '6px',\n    },\n    menu: {\n        minWidth: 229,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px 0px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px 0px rgba(0, 0, 0, 0.10)',\n    },\n    row: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    rightGap: {\n        marginRight: '24px',\n    },\n    bottomGap: {\n        marginBottom: '12px',\n    },\n}))\n\nexport interface ManageableFileProps extends FileBaseProps {\n    file: FileInfo\n    onDelete?(file: FileInfo): void\n    onRename?(file: FileInfo): void\n    onDownload?(file: FileInfo): void\n    onSend?(file: FileInfo): void\n}\n\nexport const ManageableFile = memo(({ file, onDownload, onRename, onDelete, onSend, ...rest }: ManageableFileProps) => {\n    const { classes, cx } = useStyles()\n    const menuRef = useRef<HTMLDivElement>(null)\n    const [menuOpen, setMenuOpen] = useState(false)\n    const t = useFileServiceTrans()\n\n    return (\n        <FileFrame\n            fileName={file.name}\n            {...rest}\n            operations={\n                <div className={classes.operations}>\n                    <Icons.Send\n                        className={classes.operationButton}\n                        onClick={() => {\n                            onSend?.(file)\n                        }}\n                        size={20}\n                    />\n                    <Icons.More\n                        ref={menuRef}\n                        className={cx(classes.operationButton, classes.menuButton)}\n                        onClick={() => setMenuOpen(true)}\n                        size={20}\n                    />\n                    <ShadowRootMenu\n                        classes={{ paper: classes.menu }}\n                        anchorEl={menuRef.current}\n                        anchorOrigin={{\n                            horizontal: 'right',\n                            vertical: 'bottom',\n                        }}\n                        transformOrigin={{\n                            horizontal: 'right',\n                            vertical: 'top',\n                        }}\n                        disableScrollLock\n                        open={menuOpen}\n                        disablePortal\n                        onClose={() => setMenuOpen(false)}>\n                        <MenuItem\n                            onClick={() => {\n                                onDownload?.(file)\n                                setMenuOpen(false)\n                            }}\n                            className={classes.bottomGap}>\n                            <Typography className={classes.menuLabel}>{t.download()}</Typography>\n                        </MenuItem>\n                        <MenuItem\n                            onClick={() => {\n                                onRename?.(file)\n                                setMenuOpen(false)\n                            }}\n                            className={classes.bottomGap}>\n                            <Typography className={classes.menuLabel}>{t.rename()}</Typography>\n                        </MenuItem>\n                        <MenuItem\n                            onClick={() => {\n                                onDelete?.(file)\n                                setMenuOpen(false)\n                            }}>\n                            <Typography className={classes.menuLabel} color={(theme) => theme.palette.maskColor.danger}>\n                                {t.delete()}\n                            </Typography>\n                        </MenuItem>\n                    </ShadowRootMenu>\n                </div>\n            }>\n            <div className={classes.row}>\n                <Typography className={classes.meta}>{t.size()}:</Typography>\n                <Typography className={cx(classes.metaValue, classes.rightGap)}>\n                    {formatFileSize(file.size, true)}\n                </Typography>\n                {file.key ? (\n                    <Typography className={classes.meta}>\n                        <FileServiceTrans.file_key\n                            components={{\n                                key: <Typography className={classes.metaValue} component=\"span\" />,\n                            }}\n                            values={{ key: file.key }}\n                        />\n                    </Typography>\n                ) : null}\n            </div>\n        </FileFrame>\n    )\n})\n","import { Icons } from '@masknet/icons'\nimport { formatFileSize } from '@masknet/kit'\nimport { FileFrame } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport { Checkbox, Typography } from '@mui/material'\nimport { memo } from 'react'\nimport { FileServiceTrans } from '../../../locales/index.js'\nimport type { FileBaseProps, FileInfo } from '../../../types.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    desc: {\n        color: theme.palette.maskColor.second,\n        fontWeight: 700,\n        fontSize: 12,\n    },\n    meta: {\n        fontSize: 12,\n        fontWeight: 700,\n        color: theme.palette.maskColor.third,\n    },\n    metaValue: {\n        color: theme.palette.maskColor.second,\n    },\n}))\n\ninterface SelectableFileProps extends Omit<FileBaseProps, 'onChange'> {\n    file: FileInfo\n    disabled?: boolean\n    selected?: boolean\n    onChange?(/** file id */ value: string, checked: boolean): void\n}\n\nexport const SelectableFile = memo(({ file, selected, onChange, disabled, ...rest }: SelectableFileProps) => {\n    const { classes, theme } = useStyles()\n\n    return (\n        <FileFrame\n            fileName={file.name}\n            {...rest}\n            operations={\n                <Checkbox\n                    disabled={disabled}\n                    checked={selected}\n                    icon={<Icons.CheckboxBlank size={20} />}\n                    checkedIcon={<Icons.Checkbox size={20} color={theme.palette.maskColor.primary} />}\n                    onChange={(event) => {\n                        onChange?.(file.id, event.currentTarget.checked)\n                    }}\n                />\n            }>\n            <Typography className={classes.desc}>{formatFileSize(file.size, true)}</Typography>\n            {file.key ? (\n                <Typography className={classes.meta}>\n                    <FileServiceTrans.file_key\n                        components={{\n                            key: <Typography className={classes.metaValue} component=\"span\" />,\n                        }}\n                        values={{ key: file.key }}\n                    />\n                </Typography>\n            ) : null}\n        </FileFrame>\n    )\n})\n\nSelectableFile.displayName = 'SelectableFile'\n","import { Icons } from '@masknet/icons'\nimport { formatFileSize } from '@masknet/kit'\nimport { FileFrame } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport { Button, Typography } from '@mui/material'\nimport { memo } from 'react'\nimport { FileServiceTrans } from '../../../locales/index.js'\nimport type { FileBaseProps, FileInfo } from '../../../types.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    desc: {\n        color: theme.palette.maskColor.second,\n        fontWeight: 700,\n        fontSize: 12,\n    },\n    meta: {\n        fontSize: 12,\n        fontWeight: 700,\n        color: theme.palette.maskColor.third,\n    },\n    metaValue: {\n        color: theme.palette.maskColor.second,\n    },\n    operations: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    operationButton: {\n        color: theme.palette.maskColor.white,\n        marginLeft: theme.spacing(1),\n    },\n}))\n\nexport interface DisplayingFileProps extends FileBaseProps {\n    file: FileInfo\n    onSave?(file: FileInfo): void\n    onDownload?(file: FileInfo): void\n}\n\nexport const DisplayingFile = memo(({ file, onSave, onDownload, ...rest }: DisplayingFileProps) => {\n    const { classes } = useStyles()\n\n    return (\n        <FileFrame\n            fileName={file.name}\n            {...rest}\n            operations={\n                <div className={classes.operations}>\n                    <Button\n                        className={classes.operationButton}\n                        size=\"small\"\n                        variant=\"roundedDark\"\n                        onClick={() => onSave?.(file)}>\n                        <Icons.Dump size={16} />\n                    </Button>\n                    <Button\n                        className={classes.operationButton}\n                        size=\"small\"\n                        variant=\"roundedDark\"\n                        onClick={() => onDownload?.(file)}>\n                        <Icons.Download2 size={16} />\n                    </Button>\n                </div>\n            }>\n            <Typography className={classes.desc}>{formatFileSize(file.size, true)}</Typography>\n            {file.key ? (\n                <Typography className={classes.meta}>\n                    <FileServiceTrans.file_key\n                        components={{\n                            key: <Typography className={classes.metaValue} component=\"span\" />,\n                        }}\n                        values={{ key: file.key }}\n                    />\n                </Typography>\n            ) : null}\n        </FileFrame>\n    )\n})\n\nDisplayingFile.displayName = 'DisplayingFile'\n","import { getPluginRPC, getPluginRPCGenerator } from '@masknet/plugin-infra'\nimport { PluginID } from '@masknet/shared-base'\nimport type { upload } from '../Worker/service.js'\n\nimport.meta.webpackHot?.accept()\n\nexport const PluginFileServiceRPC = getPluginRPC<Omit<typeof import('../Worker/service.js'), 'upload'>>(\n    PluginID.FileService,\n)\nexport const PluginFileServiceRPCGenerator = getPluginRPCGenerator<{ upload: typeof upload }>(PluginID.FileService)\n","import { noop, omit } from 'lodash-es'\nimport {\n    createContext,\n    type Dispatch,\n    memo,\n    type PropsWithChildren,\n    type SetStateAction,\n    useCallback,\n    useContext,\n    useMemo,\n    useState,\n} from 'react'\nimport { useAsyncRetry } from 'react-use'\nimport { useNavigate } from 'react-router-dom'\nimport type { CompositionType } from '@masknet/plugin-infra/content-script'\nimport { ApplicationBoardModal } from '@masknet/shared'\nimport { CrossIsolationMessages, EMPTY_LIST } from '@masknet/shared-base'\nimport { META_KEY_3, RoutePaths } from '../../../constants.js'\nimport { digest, makeFileKey } from '../../../helpers.js'\nimport type { FileInfo, Provider } from '../../../types.js'\nimport { PluginFileServiceRPC, PluginFileServiceRPCGenerator } from '../../rpc.js'\n\ninterface UploadState {\n    progress: number\n}\ntype UploadStateMap = Record<string, UploadState>\ninterface FileManagementContextOptions {\n    files: FileInfo[]\n    recentFiles: FileInfo[]\n    refetchFiles: () => void\n    uploadingFiles: FileInfo[]\n    uploadStateMap: UploadStateMap\n    setUploadProgress: (id: string, progress: number) => void\n    setUploadingFiles: Dispatch<SetStateAction<FileInfo[]>>\n    uploadFile: (file: File, provider: Provider, useCDN: boolean, encrypted: boolean) => Promise<FileInfo>\n    attachToPost: (info: FileInfo | FileInfo[]) => void\n}\n\nconst FileManagementContext = createContext<FileManagementContextOptions>({\n    files: [],\n    recentFiles: [],\n    refetchFiles: noop,\n    uploadingFiles: [],\n    uploadStateMap: {},\n    setUploadProgress: noop,\n    setUploadingFiles: noop,\n    uploadFile: null!,\n    attachToPost: noop,\n})\n\nfunction openCompositionWithFiles(type: CompositionType, files: FileInfo[]) {\n    CrossIsolationMessages.events.compositionDialogEvent.sendToLocal({\n        reason: type,\n        open: true,\n        options: {\n            initialMetas: {\n                [META_KEY_3]: files,\n            },\n        },\n    })\n}\n\ninterface Props extends PropsWithChildren<{}> {\n    // The file management could be opened via different ways\n    compositionType: CompositionType\n}\n\nexport const FileManagementProvider = memo(({ children, compositionType }: Props) => {\n    const { value: files = EMPTY_LIST, retry: refetchFiles } = useAsyncRetry(\n        () => PluginFileServiceRPC.getAllFiles(),\n        [],\n    )\n\n    const navigate = useNavigate()\n    const [uploadingFiles, setUploadingFiles] = useState<FileInfo[]>([])\n    const [uploadStateMap, setUploadStateMap] = useState<UploadStateMap>({})\n    const setUploadProgress = useCallback((id: string, progress: number) => {\n        setUploadStateMap((map) => {\n            return {\n                ...map,\n                [id]: { ...map[id], progress },\n            }\n        })\n    }, [])\n\n    const uploadFile = useCallback(\n        async (file: File, provider: Provider, useCDN: boolean, encrypted: boolean) => {\n            const key = encrypted ? makeFileKey() : undefined\n            const buffer = new Uint8Array(await file.arrayBuffer())\n            const id = await digest(file, [provider, useCDN, encrypted])\n            const createdAt = Date.now()\n\n            const removeUnloadingFile = (id: string) => {\n                setUploadingFiles((files) => files.filter((x) => x.id !== id))\n                setUploadStateMap((map) => omit(map, [id]))\n            }\n\n            setUploadingFiles((files) => [\n                ...files,\n                {\n                    type: 'file',\n                    key,\n                    provider,\n                    id,\n                    name: file.name,\n                    size: file.size,\n                    createdAt,\n                },\n            ])\n            setUploadProgress(id, 0)\n\n            const payloadTxID = await PluginFileServiceRPC.makeAttachment(provider, {\n                key,\n                name: file.name,\n                type: file.type,\n                block: buffer,\n            })\n            // Uploading\n            for await (const progress of PluginFileServiceRPCGenerator.upload(provider, payloadTxID)) {\n                setUploadProgress(id, progress)\n            }\n\n            const landingTxID = await PluginFileServiceRPC.uploadLandingPage(provider, {\n                name: file.name,\n                size: file.size,\n                txId: payloadTxID,\n                type: file.type,\n                key,\n                useCDN,\n            })\n\n            const fileInfo: FileInfo = {\n                type: 'file',\n                provider,\n                id,\n                name: file.name,\n                size: file.size,\n                createdAt,\n                key,\n                payloadTxID,\n                landingTxID,\n            }\n\n            await PluginFileServiceRPC.setFileInfo(fileInfo)\n            removeUnloadingFile(id)\n            refetchFiles()\n            return fileInfo\n        },\n        [refetchFiles],\n    )\n\n    const attachToPost = useCallback(\n        (fileInfo: FileInfo | FileInfo[]) => {\n            openCompositionWithFiles(compositionType, Array.isArray(fileInfo) ? fileInfo : [fileInfo])\n            ApplicationBoardModal.close()\n            navigate(RoutePaths.Exit)\n        },\n        [compositionType, navigate],\n    )\n\n    const recentFiles = useMemo(() => files.slice(0, 4), [files])\n    const contextValue: FileManagementContextOptions = useMemo(() => {\n        return {\n            files,\n            recentFiles,\n            refetchFiles,\n            uploadingFiles,\n            uploadStateMap,\n            uploadFile,\n            setUploadProgress,\n            setUploadingFiles,\n            attachToPost,\n        }\n    }, [files, recentFiles, uploadStateMap, uploadingFiles, attachToPost, refetchFiles, uploadFile])\n\n    return <FileManagementContext.Provider value={contextValue}>{children}</FileManagementContext.Provider>\n})\n\nFileManagementProvider.displayName = 'FileManagementProvider'\n\nexport function useFileManagement() {\n    return useContext(FileManagementContext)\n}\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { RenameModalCloseProps, RenameModalOpenProps } from './RenameModal/index.js'\n\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const RenameModal = new SingletonModal<RenameModalOpenProps, RenameModalCloseProps>()\n","import { type HTMLProps, useCallback, useRef } from 'react'\nimport { List, ListItem, Typography } from '@mui/material'\nimport { EMPTY_LIST } from '@masknet/shared-base'\n\nimport { makeStyles, Boundary, useCustomSnackbar } from '@masknet/theme'\nimport type { FileInfo } from '../../types.js'\nimport {\n    DisplayingFile,\n    type DisplayingFileProps,\n    ManageableFile,\n    type ManageableFileProps,\n    SelectableFile,\n    UploadingFile,\n} from './Files/index.js'\nimport { FileServiceTrans, useFileServiceTrans } from '../../locales/index.js'\nimport { useFileManagement } from '../contexts/index.js'\nimport { PluginFileServiceRPC } from '../rpc.js'\nimport { ConfirmModal, RenameModal } from '../modals/modals.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    container: {\n        userSelect: 'none',\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    list: {\n        flexGrow: 1,\n        overflow: 'auto',\n        paddingTop: theme.spacing(1),\n        '&::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n    listRoot: {\n        padding: 0,\n    },\n    listItem: {\n        width: 'auto',\n        padding: 0,\n        margin: theme.spacing(0, 2),\n    },\n    disabled: {\n        opacity: 0.5,\n    },\n    file: {\n        width: '100%',\n    },\n}))\n\ninterface FileListBaseProps extends HTMLProps<HTMLElement> {\n    files: FileInfo[]\n    onLoadMore?(): void\n}\ninterface FileListProps extends FileListBaseProps, Pick<ManageableFileProps, 'onDownload' | 'onSend'> {\n    onLoadMore?(): void\n}\n\nexport function FileList({ files, onLoadMore, className, onDownload, onSend, ...rest }: FileListProps) {\n    const t = useFileServiceTrans()\n    const { classes, cx } = useStyles()\n    const { uploadStateMap, refetchFiles } = useFileManagement()\n\n    const { showSnackbar } = useCustomSnackbar()\n\n    const deleteFile = useCallback(\n        async (file: FileInfo) => {\n            try {\n                await PluginFileServiceRPC.deleteFile(file.id)\n                refetchFiles()\n                showSnackbar(t.delete_file_title({ context: 'success' }), {\n                    variant: 'success',\n                    message: t.delete_file_message({ context: 'success', name: file.name }),\n                })\n            } catch (err) {\n                showSnackbar(t.delete_file_title({ context: 'failed' }), {\n                    variant: 'error',\n                    message: t.delete_file_message({ context: 'failed', name: file.name }),\n                })\n            }\n        },\n        [refetchFiles],\n    )\n\n    const handleDelete = useCallback(\n        async (file: FileInfo) => {\n            const confirmed = await ConfirmModal.openAndWaitForClose({\n                title: t.delete_file(),\n                message: (\n                    <FileServiceTrans.delete_message\n                        values={{\n                            name: file.name,\n                        }}\n                        components={{\n                            file: (\n                                <Typography\n                                    color={(theme) => theme.palette.maskColor.main}\n                                    fontSize={14}\n                                    fontWeight={700}\n                                />\n                            ),\n                        }}\n                    />\n                ),\n                description: t.delete_description(),\n                confirmLabel: t.delete(),\n            })\n            if (confirmed) await deleteFile(file)\n        },\n        [refetchFiles, t],\n    )\n\n    const handleRename = useCallback(\n        async (file: FileInfo) => {\n            const name = await RenameModal.openAndWaitForClose({\n                currentName: file.name,\n                message: t.rename_validation(),\n            })\n            if (!name) return\n\n            await PluginFileServiceRPC.renameFile(file.id, name)\n            refetchFiles()\n        },\n        [refetchFiles, t],\n    )\n\n    return (\n        <section className={cx(classes.container, className)} {...rest}>\n            <Boundary>\n                <List className={classes.list} classes={{ root: classes.listRoot }}>\n                    {files.map((file) => (\n                        <ListItem key={file.id} className={classes.listItem}>\n                            {uploadStateMap[file.id] ? (\n                                <UploadingFile\n                                    className={classes.file}\n                                    file={file}\n                                    progress={uploadStateMap[file.id]?.progress ?? 0}\n                                />\n                            ) : (\n                                <ManageableFile\n                                    className={classes.file}\n                                    file={file}\n                                    onDelete={handleDelete}\n                                    onRename={handleRename}\n                                    onDownload={onDownload}\n                                    onSend={onSend}\n                                />\n                            )}\n                        </ListItem>\n                    ))}\n                </List>\n            </Boundary>\n        </section>\n    )\n}\n\ninterface SelectableFileListProps extends Omit<FileListBaseProps, 'onChange' | 'selected'> {\n    selectedIds?: string[]\n    onChange?(selectedIds: string[]): void\n}\n\nconst FILE_LIMIT = 2\nexport function SelectableFileList({\n    files,\n    className,\n    selectedIds = EMPTY_LIST,\n    onChange,\n    ...rest\n}: SelectableFileListProps) {\n    const { classes, cx } = useStyles()\n\n    const selectedIdsRef = useRef(selectedIds)\n    const filesRef = useRef(files)\n    const onChangeRef = useRef(onChange)\n\n    selectedIdsRef.current = selectedIds\n    filesRef.current = files\n    onChangeRef.current = onChange\n\n    const handleChange = useCallback((fileId: string, checked: boolean) => {\n        const oldIds = selectedIdsRef.current\n        const newIds = filesRef.current.map((x) => x.id).filter((id) => (id === fileId ? checked : oldIds.includes(id)))\n        onChangeRef.current?.(newIds)\n    }, [])\n\n    return (\n        <section className={cx(classes.container, className)} {...rest}>\n            <Boundary>\n                <List className={classes.list} classes={{ root: classes.listRoot }}>\n                    {files.map((file) => {\n                        const disabled = selectedIds.length >= FILE_LIMIT && !selectedIds.includes(file.id)\n                        return (\n                            <ListItem\n                                key={file.id}\n                                className={cx(classes.listItem, disabled ? classes.disabled : null)}>\n                                <SelectableFile\n                                    disabled={disabled}\n                                    className={classes.file}\n                                    file={file}\n                                    selected={selectedIds.includes(file.id)}\n                                    onChange={handleChange}\n                                />\n                            </ListItem>\n                        )\n                    })}\n                </List>\n            </Boundary>\n        </section>\n    )\n}\ninterface DisplayingFileFileListProps extends FileListBaseProps, Pick<DisplayingFileProps, 'onSave' | 'onDownload'> {}\n\n/**\n * Render in decrypted post\n */\nexport function DisplayingFileList({ files, className, onSave, onDownload, ...rest }: DisplayingFileFileListProps) {\n    const { classes, cx } = useStyles()\n\n    return (\n        <section className={cx(classes.container, className)} {...rest}>\n            <List className={classes.list} classes={{ root: classes.listRoot }}>\n                {files.map((file) => (\n                    <ListItem key={file.id} className={classes.listItem}>\n                        <DisplayingFile className={classes.file} file={file} onSave={onSave} onDownload={onDownload} />\n                    </ListItem>\n                ))}\n            </List>\n        </section>\n    )\n}\n","import { Paper } from '@mui/material'\nimport { makeStyles, useCustomSnackbar } from '@masknet/theme'\nimport type { FileInfo } from '../types.js'\nimport { usePluginWrapper } from '@masknet/plugin-infra/content-script'\nimport { DisplayingFileList } from './components/FileList.js'\nimport { useCallback } from 'react'\nimport { PluginFileServiceRPC } from './rpc.js'\nimport { downloadFile } from '../helpers.js'\nimport { useFileServiceTrans } from '../locales/i18n_generated.js'\n\nconst useStyles = makeStyles()({\n    file: {\n        width: '100%',\n    },\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        boxSizing: 'border-box',\n        userSelect: 'none',\n        padding: 0,\n        backgroundColor: 'transparent',\n    },\n})\n\nexport function FileViewer({ files }: { files: FileInfo[] }) {\n    usePluginWrapper(true)\n    const { classes } = useStyles()\n    const t = useFileServiceTrans()\n\n    const { showSnackbar } = useCustomSnackbar()\n    const handleSave = useCallback(\n        async (file: FileInfo) => {\n            try {\n                await PluginFileServiceRPC.setFileInfo(file)\n                showSnackbar(t.save_file_title({ context: 'success' }), {\n                    variant: 'success',\n                    message: t.save_file_message({ context: 'success', name: file.name }),\n                })\n            } catch (err) {\n                showSnackbar(t.save_file_title({ context: 'failed' }), {\n                    variant: 'error',\n                    message: t.save_file_message({ context: 'failed', name: file.name }),\n                })\n            }\n        },\n        [showSnackbar, showSnackbar, t],\n    )\n\n    return (\n        <Paper elevation={0} className={classes.root}>\n            <DisplayingFileList className={classes.file} files={files} onSave={handleSave} onDownload={downloadFile} />\n        </Paper>\n    )\n}\n","import type { ScopedStorage } from '@masknet/shared-base'\nimport { useSubscription } from 'use-subscription'\n\nexport interface StorageOptions {\n    termsConfirmed: boolean | undefined\n}\nlet so: ScopedStorage<StorageOptions>\n\nexport function setupStorage(_: ScopedStorage<StorageOptions>) {\n    so = _\n}\n\nexport function useTermsConfirmed(): [value: boolean | undefined, callback: (newValue: boolean) => void] {\n    const value = useSubscription(so?.storage?.termsConfirmed?.subscription)\n    return [\n        value,\n        function setConfirmed(newValue: boolean) {\n            so?.storage.termsConfirmed.setValue(newValue)\n        },\n    ]\n}\n","import type { CompositionType } from '@masknet/plugin-infra/content-script'\nimport { Emitter } from '@servie/events'\n\nexport const emitter = new Emitter<{\n    open: [{ compositionType: CompositionType; selectMode: boolean; selectedFiles?: string[] }]\n}>()\n\nexport function openBrowser(compositionType: CompositionType) {\n    emitter.emit('open', { compositionType, selectMode: false })\n}\n\nexport function openPicker(selectedFiles: string[], compositionType: CompositionType) {\n    emitter.emit('open', { compositionType, selectMode: true, selectedFiles })\n}\n","import { InjectedDialog, type InjectedDialogProps } from '@masknet/shared'\nimport { useLayoutEffect } from 'react'\nimport { matchPath, useLocation, useNavigate } from 'react-router-dom'\nimport { RoutePaths } from '../../constants.js'\nimport { useFileServiceTrans } from '../../locales/i18n_generated.js'\n\nexport function RouterDialog(props: InjectedDialogProps) {\n    const t = useFileServiceTrans()\n    const { pathname } = useLocation()\n    const navigate = useNavigate()\n\n    const title = matchPath(RoutePaths.UploadFile, pathname) ? t.upload_file() : t.__display_name()\n\n    useLayoutEffect(() => {\n        if (pathname === RoutePaths.Exit) {\n            props.onClose?.()\n        }\n    }, [pathname === RoutePaths.Exit, props.onClose])\n\n    return (\n        <InjectedDialog\n            {...props}\n            title={title}\n            onClose={() => {\n                if (pathname === RoutePaths.Terms) {\n                    props.onClose?.()\n                    return\n                }\n                navigate(-1)\n            }}\n        />\n    )\n}\n","import { Icons } from '@masknet/icons'\nimport { getEnumAsArray } from '@masknet/kit'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { makeStyles, MaskTextField } from '@masknet/theme'\nimport { TabsUnstyled, TabUnstyled, tabUnstyledClasses } from '@mui/base'\nimport { Button, styled, Typography } from '@mui/material'\nimport { useMemo, useState } from 'react'\nimport { useNavigate, useSearchParams } from 'react-router-dom'\nimport { RoutePaths } from '../../constants.js'\nimport { downloadFile } from '../../helpers.js'\nimport { useFileServiceTrans } from '../../locales/index.js'\nimport { Provider } from '../../types.js'\nimport { useFileManagement } from '../contexts/index.js'\nimport { FileList, SelectableFileList } from './FileList.js'\n\nconst Tabs = styled(TabsUnstyled)(({ theme }) => ({\n    display: 'flex',\n    gap: theme.spacing(0.5),\n}))\nconst Tab = styled(TabUnstyled)(({ theme }) => ({\n    height: 34,\n    minWidth: 60,\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    boxSizing: 'border-box',\n    color: theme.palette.maskColor.second,\n    fontSize: 14,\n    fontWeight: 700,\n    backgroundColor: 'transparent',\n    border: 'none',\n    cursor: 'pointer',\n    borderRadius: 18,\n    '&:hover': {\n        color: theme.palette.maskColor.main,\n    },\n    [`&.${tabUnstyledClasses.selected}`]: {\n        color: theme.palette.maskColor.main,\n        backgroundColor: theme.palette.maskColor.bg,\n    },\n}))\n\nconst useStyles = makeStyles()((theme) => ({\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        height: 40,\n        flexShrink: 0,\n        margin: theme.spacing(2, 2, 0),\n    },\n    tabs: {\n        flexGrow: 1,\n    },\n    operations: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: theme.spacing(1.5),\n    },\n    operationButton: {\n        display: 'flex',\n        height: 36,\n        width: 36,\n        minWidth: 36,\n        padding: 0,\n        border: 0,\n        boxSizing: 'border-box',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    searchInput: {\n        flexGrow: 1,\n    },\n    button: {\n        marginLeft: theme.spacing(2),\n    },\n    content: {\n        display: 'flex',\n        height: '100%',\n        flexDirection: 'column',\n        overflow: 'auto',\n        boxSizing: 'border-box',\n        paddingBottom: theme.spacing(2),\n        '&::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n    emptyBox: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    emptyMessage: {\n        fontSize: 14,\n        color: theme.palette.maskColor.second,\n        marginTop: theme.spacing(1.5),\n    },\n    fileList: {\n        paddingTop: theme.spacing(1.5),\n        width: '100%',\n        overflow: 'auto',\n        flexGrow: 1,\n        '&::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n    actions: {\n        padding: theme.spacing(2, 2, 0),\n        flexShrink: 0,\n        boxSizing: 'border-box',\n        boxShadow:\n            theme.palette.mode === 'light'\n                ? '0px 0px 20px rgba(0, 0, 0, 0.05)'\n                : '0px 0px 20px rgba(255, 255, 255, 0.12)',\n    },\n}))\n\nenum ProviderTabs {\n    All = 'All',\n    IPFS = 'IPFS',\n    Arweave = 'Arweave',\n}\n\nconst TabToProviderMap: Record<ProviderTabs, Provider | null> = {\n    [ProviderTabs.All]: null,\n    [ProviderTabs.IPFS]: Provider.IPFS,\n    [ProviderTabs.Arweave]: Provider.Arweave,\n}\n\nconst providers = getEnumAsArray(ProviderTabs)\n\nexport function FilePicker() {\n    const [params] = useSearchParams()\n    const idsQuery = params.get('selectedFileIds') ?? ''\n    const ids = useMemo(() => idsQuery.split(',').filter(Boolean), [idsQuery])\n    return <FileBrowser key={idsQuery} selectedFileIds={ids} selectMode />\n}\n\ninterface Props {\n    selectMode?: boolean\n    selectedFileIds?: string[]\n}\n\nexport function FileBrowser({ selectMode, selectedFileIds = EMPTY_LIST }: Props) {\n    const t = useFileServiceTrans()\n    const { classes } = useStyles()\n    const [tab, setTab] = useState(ProviderTabs.All)\n    const navigate = useNavigate()\n    const { files, attachToPost } = useFileManagement()\n\n    const [searching, setSearching] = useState(false)\n    const [input, setInput] = useState('')\n    const [keyword, setKeyword] = useState('')\n\n    const visibleFiles = useMemo(() => {\n        if (searching) {\n            if (!keyword) return files\n            const kw = keyword.toLowerCase()\n            return files.filter((x) => {\n                return x.name.toLowerCase().includes(kw) || x.key?.toLowerCase().includes(kw)\n            })\n        }\n        const provider = TabToProviderMap[tab]\n        if (!provider) return files\n        return files.filter((x) => x.provider === provider)\n    }, [files, searching, keyword, tab])\n\n    const [selectedIds, setSelectedFileIds] = useState<string[]>(selectedFileIds)\n    const selectedFiles = useMemo(() => files.filter((file) => selectedIds.includes(file.id)), [files, selectedIds])\n\n    function renderList() {\n        if (selectMode)\n            return (\n                <SelectableFileList\n                    files={visibleFiles}\n                    className={classes.fileList}\n                    selectedIds={selectedIds}\n                    onChange={setSelectedFileIds}\n                />\n            )\n        return (\n            <FileList\n                files={visibleFiles}\n                className={classes.fileList}\n                onSend={attachToPost}\n                onDownload={downloadFile}\n            />\n        )\n    }\n\n    return (\n        <div className={classes.content}>\n            {searching ? (\n                <div className={classes.header}>\n                    <MaskTextField\n                        wrapperProps={{ className: classes.searchInput }}\n                        placeholder=\"Search my files\"\n                        value={input}\n                        autoFocus\n                        fullWidth\n                        InputProps={{\n                            style: { height: 40 },\n                            inputProps: { style: { paddingLeft: 4 } },\n                            startAdornment: <Icons.Search size={18} />,\n                            endAdornment: input ? <Icons.Close size={18} onClick={() => setInput('')} /> : null,\n                            onKeyDown: (event) => {\n                                if (event.code === 'Enter') {\n                                    setKeyword(event.currentTarget.value)\n                                }\n                            },\n                            onBlur: (event) => {\n                                setKeyword(event.currentTarget.value)\n                            },\n                        }}\n                        onChange={(event) => {\n                            setInput(event.currentTarget.value)\n                        }}\n                    />\n                    <Button className={classes.button} onClick={() => setSearching(false)}>\n                        {t.cancel()}\n                    </Button>\n                </div>\n            ) : (\n                <div className={classes.header}>\n                    <div className={classes.tabs}>\n                        <Tabs value={tab} onChange={(_, newTab) => setTab(newTab as ProviderTabs)}>\n                            {providers.map((x) => (\n                                <Tab key={x.key} aria-label={x.key} value={x.value}>\n                                    <Typography variant=\"body2\" fontWeight={700}>\n                                        {x.value}\n                                    </Typography>\n                                </Tab>\n                            ))}\n                        </Tabs>\n                    </div>\n                    <div className={classes.operations}>\n                        <Button className={classes.operationButton} variant=\"text\" onClick={() => setSearching(true)}>\n                            <Icons.Search size={20} />\n                        </Button>\n                        <Button\n                            className={classes.operationButton}\n                            variant=\"text\"\n                            onClick={() => navigate(RoutePaths.UploadFile)}>\n                            <Icons.Upload size={20} />\n                        </Button>\n                    </div>\n                </div>\n            )}\n            {visibleFiles.length ? (\n                renderList()\n            ) : (\n                <>\n                    <div className={classes.emptyBox}>\n                        <Icons.EmptySimple size={36} />\n                        <Typography className={classes.emptyMessage}>\n                            {files.length ? t.empty() : t.no_uploaded_files()}\n                        </Typography>\n                    </div>\n                    {files.length ? null : (\n                        <div className={classes.actions}>\n                            <Button fullWidth onClick={() => navigate(RoutePaths.UploadFile)}>\n                                {t.upload_file()}\n                            </Button>\n                        </div>\n                    )}\n                </>\n            )}\n            {selectMode && files.length ? (\n                <div className={classes.actions}>\n                    <Button fullWidth disabled={!selectedIds.length} onClick={() => attachToPost(selectedFiles)}>\n                        {t.confirm()}\n                    </Button>\n                </div>\n            ) : null}\n        </div>\n    )\n}\n","import { Icons } from '@masknet/icons'\nimport { useCustomSnackbar, makeStyles } from '@masknet/theme'\nimport { alpha, Button, Typography } from '@mui/material'\nimport { type HTMLProps, memo, useCallback, useRef } from 'react'\nimport { useDropArea } from 'react-use'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    dropArea: {\n        display: 'flex',\n        height: 230,\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        position: 'relative',\n        boxSizing: 'border-box',\n        borderRadius: 8,\n        textAlign: 'center',\n        padding: theme.spacing(3),\n        overflow: 'hidden',\n        userSelect: 'none',\n        background: theme.palette.maskColor.whiteBlue,\n    },\n    dragOver: {\n        borderColor: theme.palette.maskColor.primary,\n    },\n    uploadIcon: {\n        height: 54,\n        width: 54,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: alpha(theme.palette.maskColor.bottom, 0.8),\n        borderRadius: '50%',\n        boxShadow:\n            theme.palette.mode === 'dark' ? '0px 4px 6px rgba(0, 0, 0, 0.1)' : '0px 4px 6px rgba(102, 108, 135, 0.1)',\n    },\n    tips: {\n        lineHeight: '18px',\n        fontSize: 14,\n        color: theme.palette.maskColor.second,\n        fontWeight: 700,\n        marginTop: 10,\n    },\n    limit: {\n        lineHeight: '18px',\n        fontSize: 14,\n        color: theme.palette.maskColor.second,\n    },\n    or: {\n        marginTop: 10,\n        color: theme.palette.maskColor.second,\n    },\n    button: {\n        width: 164,\n        marginTop: 10,\n        boxShadow: theme.palette.mode === 'dark' ? 'none' : '0px 8px 25px rgba(0, 0, 0, 0.2)',\n        backgroundColor: theme.palette.maskColor.main,\n        color: theme.palette.mode === 'dark' ? theme.palette.maskColor.bottom : theme.palette.maskColor.white,\n    },\n}))\n\ninterface Props extends HTMLProps<HTMLDivElement> {\n    maxFileSize?: number\n    omitSizeLimit?: boolean\n    accept?: string\n    onSelectFile(file: File): void\n}\n\nexport const UploadDropArea = memo(\n    ({ maxFileSize = Number.POSITIVE_INFINITY, omitSizeLimit, onSelectFile, className, accept, ...rest }: Props) => {\n        const t = useSharedTrans()\n        const { classes, cx } = useStyles()\n        const { showSnackbar } = useCustomSnackbar()\n        const handleFiles = (files: File[] | FileList | null) => {\n            if (!files || files.length !== 1) {\n                showMessage(101)\n            } else if (!omitSizeLimit && files[0].size > maxFileSize) {\n                showMessage(102)\n            } else {\n                onSelectFile(files[0])\n            }\n        }\n        const handleFilesRef = useRef<(file: File[] | FileList | null) => void>()\n        handleFilesRef.current = handleFiles\n\n        const selectFile = useCallback(() => {\n            const input = document.createElement('input')\n            input.type = 'file'\n            input.hidden = true\n            if (accept) input.accept = accept\n            input.addEventListener('input', function onInput(event) {\n                handleFilesRef.current?.((event.currentTarget as any).files as FileList)\n                input.removeEventListener('input', onInput)\n                document.body.removeChild(input)\n            })\n            input.click()\n            document.body.append(input)\n        }, [accept])\n        const [bond, { over }] = useDropArea({\n            onFiles: handleFiles,\n            onText: () => showMessage(101),\n            onUri: () => showMessage(101),\n        })\n        const showMessage = (code: 101 | 102) => {\n            switch (code) {\n                case 101:\n                    showSnackbar(t.upload_error({ context: 'single', limit: '' }), { variant: 'error' })\n                    break\n                case 102:\n                    showSnackbar(t.upload_file_title({ context: 'failed' }), {\n                        variant: 'error',\n                        message: t.upload_file_message({ context: 'failed' }),\n                    })\n            }\n        }\n        return (\n            <div className={cx(classes.dropArea, { [classes.dragOver]: over }, className)} {...rest} {...bond}>\n                <div className={classes.uploadIcon}>\n                    <Icons.Upload size={30} />\n                </div>\n                <Typography className={classes.tips}>{t.upload_drag_n_drop()}</Typography>\n                {omitSizeLimit ? null : <Typography className={classes.limit}>{t.upload_size_limit()}</Typography>}\n                <Typography className={classes.or}>{t.upload_or()}</Typography>\n                <Button className={classes.button} variant=\"contained\" onClick={selectFile}>\n                    {t.upload_browse_files()}\n                </Button>\n            </div>\n        )\n    },\n)\n","import { Icons } from '@masknet/icons'\nimport { UploadDropArea } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport { Checkbox, FormControlLabel, Radio, Typography } from '@mui/material'\nimport { useCallback, useMemo, useState } from 'react'\nimport { MAX_FILE_SIZE } from '../../constants.js'\nimport { downloadFile } from '../../helpers.js'\nimport { useFileServiceTrans } from '../../locales/i18n_generated.js'\nimport type { ProviderConfig } from '../../types.js'\nimport { Provider } from '../../types.js'\nimport { useFileManagement } from '../contexts/index.js'\nimport { FileList } from './FileList.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'auto',\n        height: '100%',\n        paddingBottom: theme.spacing(2),\n        boxSizing: 'border-box',\n    },\n    uploadArea: {\n        display: 'flex',\n        flexShrink: 0,\n        margin: theme.spacing(2, 2, 0),\n    },\n    options: {\n        display: 'flex',\n        fontSize: 18,\n        justifyContent: 'start',\n        alignItems: 'center',\n        height: 'fit-content',\n        margin: theme.spacing(1.5, 2, 0),\n    },\n    control: {\n        padding: 0,\n        marginRight: theme.spacing(1),\n    },\n    checked: {\n        color: theme.palette.maskColor.primary,\n        boxShadow: '0px 4px 10px rgba(28, 104, 243, 0.2)',\n    },\n    label: {\n        userSelect: 'none',\n        marginLeft: 0,\n    },\n    heading: {\n        fontSize: 14,\n        fontWeight: 700,\n        color: theme.palette.text.primary,\n        margin: theme.spacing(3, 2, 0.5),\n    },\n    fileList: {\n        flexGrow: 1,\n        overflow: 'auto',\n        marginTop: theme.spacing(1),\n    },\n    emptyBox: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    emptyMessage: {\n        fontSize: 14,\n        color: theme.palette.maskColor.second,\n        marginTop: theme.spacing(1.5),\n    },\n}))\n\nexport function UploadFile() {\n    const t = useFileServiceTrans()\n    const { classes, theme } = useStyles()\n    const [encrypted, setEncrypted] = useState(true)\n    const [useCDN, setUseCDN] = useState(false)\n    const [provider, setProvider] = useState<Provider>(Provider.Arweave)\n    const { recentFiles, uploadingFiles, uploadFile, attachToPost } = useFileManagement()\n\n    const files = useMemo(() => {\n        return [...uploadingFiles, ...recentFiles]\n    }, [uploadingFiles, recentFiles])\n\n    const providers: ProviderConfig[] = [\n        {\n            provider: Provider.Arweave,\n            name: t.provider_arweave(),\n        },\n        {\n            provider: Provider.IPFS,\n            name: t.provider_ipfs(),\n        },\n    ]\n\n    const onSelectFile = useCallback(\n        async (file: File) => {\n            await uploadFile(file, provider, useCDN, encrypted)\n        },\n        [encrypted, useCDN, provider],\n    )\n\n    const cdnButton =\n        provider === Provider.Arweave ? (\n            <FormControlLabel\n                control={\n                    <Checkbox\n                        classes={{ root: classes.control, checked: classes.checked }}\n                        color=\"primary\"\n                        checked={useCDN}\n                        icon={<Icons.CheckboxBlank size={18} />}\n                        checkedIcon={<Icons.Checkbox color={theme.palette.maskColor.primary} size={18} />}\n                        onChange={(event) => setUseCDN(event.target.checked)}\n                    />\n                }\n                className={classes.label}\n                label={t.use_cdn()}\n            />\n        ) : null\n\n    return (\n        <section className={classes.container}>\n            <UploadDropArea className={classes.uploadArea} maxFileSize={MAX_FILE_SIZE} onSelectFile={onSelectFile} />\n            <div className={classes.options}>\n                {providers.map((config: ProviderConfig) => (\n                    <FormControlLabel\n                        key={config.provider}\n                        control={\n                            <Radio\n                                classes={{ root: classes.control, checked: classes.checked }}\n                                color=\"primary\"\n                                checked={provider === config.provider}\n                                icon={<Icons.RadioButtonUnChecked size={18} />}\n                                checkedIcon={<Icons.RadioButtonChecked size={18} />}\n                                onChange={() => setProvider(config.provider)}\n                            />\n                        }\n                        className={classes.label}\n                        label={config.name}\n                    />\n                ))}\n            </div>\n            <section className={classes.options}>\n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            classes={{ root: classes.control, checked: classes.checked }}\n                            size=\"small\"\n                            color=\"primary\"\n                            checked={encrypted}\n                            icon={<Icons.CheckboxBlank size={18} />}\n                            checkedIcon={<Icons.Checkbox color={theme.palette.maskColor.primary} size={18} />}\n                            onChange={(event) => setEncrypted(event.target.checked)}\n                        />\n                    }\n                    className={classes.label}\n                    label={t.on_encrypt_it()}\n                />\n                {cdnButton}\n            </section>\n            <Typography className={classes.heading}>{t.uploaded_files()}</Typography>\n            {files.length ? (\n                <FileList files={files} className={classes.fileList} onSend={attachToPost} onDownload={downloadFile} />\n            ) : (\n                <div className={classes.emptyBox}>\n                    <Icons.EmptySimple size={36} />\n                    <Typography className={classes.emptyMessage}>{t.upload_tips()}</Typography>\n                </div>\n            )}\n        </section>\n    )\n}\n","import { makeStyles } from '@masknet/theme'\nimport { Button, Link, Typography } from '@mui/material'\nimport { useLayoutEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { RoutePaths } from '../../constants.js'\nimport { FileServiceTrans, useFileServiceTrans } from '../../locales/index.js'\nimport { useTermsConfirmed } from '../storage.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    terms: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        overflow: 'auto',\n    },\n    content: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        flexGrow: 1,\n        overflow: 'auto',\n        flexDirection: 'column',\n        boxSizing: 'border-box',\n        '&::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n    title: {\n        fontSize: 16,\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        lineHeight: '20px',\n    },\n    introduction: {\n        lineHeight: '18px',\n        color: theme.palette.maskColor.second,\n        marginTop: theme.spacing(2),\n        flexGrow: 1,\n        marginBottom: 'auto',\n    },\n    footNote: {\n        color: theme.palette.maskColor.second,\n        fontSize: 16,\n        marginTop: theme.spacing(2),\n    },\n    link: {\n        color: theme.palette.primary.main,\n    },\n    actions: {\n        padding: '16px',\n        display: 'flex',\n        boxShadow:\n            theme.palette.mode === 'light'\n                ? '0px 0px 20px rgba(0, 0, 0, 0.05)'\n                : '0px 0px 20px rgba(255, 255, 255, 0.12)',\n        justifyContent: 'space-between',\n        gap: theme.spacing(2),\n        '& > :not(:first-of-type)': {\n            marginLeft: 0,\n        },\n    },\n    cancelButton: {\n        color: theme.palette.maskColor.main,\n        backgroundColor: theme.palette.maskColor.thirdMain,\n        '&:hover': {\n            backgroundColor: theme.palette.maskColor.thirdMain,\n        },\n    },\n    confirmButton: {\n        color: theme.palette.maskColor.bottom,\n        backgroundColor: theme.palette.maskColor.main,\n    },\n    button: {\n        flexGrow: 1,\n        height: 40,\n    },\n}))\n\nconst TERMS_URL = 'https://legal.mask.io/arweave/file-service/plugin-terms.html'\nconst POLICY_URL = 'https://legal.mask.io/arweave/file-service/privacy-policy-uploader.html'\n\nexport function Terms() {\n    const t = useFileServiceTrans()\n    const { classes, cx } = useStyles()\n    const navigate = useNavigate()\n    const [confirmed, setConfirmed] = useTermsConfirmed()\n\n    useLayoutEffect(() => {\n        if (confirmed) navigate(-1)\n    }, [confirmed])\n\n    return (\n        <div className={classes.terms}>\n            <div className={classes.content}>\n                <Typography variant=\"h1\" className={classes.title}>\n                    {t.what_is_web3_file_service()}\n                </Typography>\n                <Typography variant=\"body2\" className={classes.introduction}>\n                    <FileServiceTrans.introduction multiple components={{ br: <br /> }} />\n                </Typography>\n                <Typography variant=\"body2\" className={classes.footNote}>\n                    <FileServiceTrans.foot_note\n                        components={{\n                            terms: <Link target=\"_blank\" className={classes.link} href={TERMS_URL} />,\n                            policy: <Link target=\"_blank\" className={classes.link} href={POLICY_URL} />,\n                        }}\n                    />\n                </Typography>\n            </div>\n            <div className={classes.actions}>\n                <Button className={cx(classes.button, classes.cancelButton)} onClick={() => navigate(RoutePaths.Exit)}>\n                    {t.cancel()}\n                </Button>\n                <Button className={cx(classes.button, classes.confirmButton)} onClick={() => setConfirmed(true)}>\n                    {t.confirm()}\n                </Button>\n            </div>\n        </div>\n    )\n}\n","import { Navigate, Route, Routes } from 'react-router-dom'\nimport { RoutePaths } from '../constants.js'\nimport { Terms, FileBrowser, FilePicker, UploadFile } from './components/index.js'\n\nexport function FileRoutes() {\n    return (\n        <Routes>\n            <Route path={RoutePaths.Browser} element={<FileBrowser />} />\n            <Route path={RoutePaths.FileSelector} element={<FilePicker />} />\n            <Route path={RoutePaths.UploadFile} element={<UploadFile />} />\n            <Route path={RoutePaths.Terms} element={<Terms />} />\n            {/* If router is embedded inside a dialog, */}\n            {/* which should know it's time to close itself once we enter Exit */}\n            <Route path={RoutePaths.Exit} element={null} />\n            <Route path=\"*\" element={<Navigate replace to={RoutePaths.Browser} />} />\n        </Routes>\n    )\n}\n","import type { CompositionType } from '@masknet/plugin-infra/content-script'\nimport { makeStyles } from '@masknet/theme'\nimport { DialogContent } from '@mui/material'\nimport { useMemo } from 'react'\nimport { MemoryRouter } from 'react-router-dom'\nimport urlcat from 'urlcat'\nimport { RoutePaths } from '../constants.js'\nimport { RouterDialog } from './components/RouterDialog.js'\nimport { FileManagementProvider } from './contexts/index.js'\nimport { FileRoutes } from './Routes.js'\nimport { useTermsConfirmed } from './storage.js'\n\ninterface FileServiceDialogProps {\n    onClose: () => void\n    open: boolean\n    selectMode?: boolean\n    selectedFileIds?: string[]\n    compositionType: CompositionType\n}\n\nconst useStyles = makeStyles()((theme) => ({\n    paper: {\n        width: 600,\n        maxWidth: 'none',\n        height: 620,\n        boxShadow: 'none',\n        backgroundImage: 'none',\n        [theme.breakpoints.down('sm')]: {\n            margin: 12,\n        },\n    },\n    content: {\n        padding: 0,\n        overflow: 'auto',\n        boxSizing: 'border-box',\n        '&::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n}))\n\nexport function FileServiceDialog({ onClose, selectMode, selectedFileIds, compositionType }: FileServiceDialogProps) {\n    const { classes } = useStyles()\n    const [confirmed] = useTermsConfirmed()\n\n    const initialEntries = useMemo(() => {\n        const OpenEntry = selectMode\n            ? {\n                  pathname: RoutePaths.FileSelector,\n                  search: '?' + urlcat('', { selectedFileIds: selectedFileIds?.join(',') }),\n              }\n            : RoutePaths.Browser\n        return [RoutePaths.Exit, OpenEntry, RoutePaths.Terms]\n    }, [selectMode, selectedFileIds])\n    const initialIndex = confirmed ? 1 : 2\n\n    return (\n        <MemoryRouter initialEntries={initialEntries} initialIndex={initialIndex}>\n            <FileManagementProvider compositionType={compositionType}>\n                <RouterDialog\n                    open\n                    onClose={onClose}\n                    classes={{ paper: classes.paper }}\n                    maxWidth=\"xs\"\n                    fullWidth\n                    independent>\n                    <DialogContent className={classes.content}>\n                        <FileRoutes />\n                    </DialogContent>\n                </RouterDialog>\n            </FileManagementProvider>\n        </MemoryRouter>\n    )\n}\n","import type { CompositionType } from '@masknet/plugin-infra/content-script'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { memo, useEffect, useState } from 'react'\nimport { emitter } from './emitter.js'\nimport { FileServiceDialog } from './MainDialog.js'\n\nexport const FileServiceInjection = memo(function FileServiceInjection() {\n    const [open, setOpen] = useState(false)\n    const [selectedFiles, setSelectedFiles] = useState<string[]>([])\n    const [compositionType, setCompositionType] = useState<CompositionType>('popup')\n    const [selectMode, setSelectMode] = useState(false)\n    useEffect(() => {\n        const unsubscribe = emitter.on('open', (options) => {\n            setOpen(true)\n            setCompositionType(options.compositionType)\n            setSelectMode(options.selectMode)\n            setSelectedFiles(options.selectedFiles ?? EMPTY_LIST)\n        })\n        return () => {\n            unsubscribe()\n        }\n    }, [])\n\n    if (!open) return null\n    return (\n        <FileServiceDialog\n            open\n            onClose={() => setOpen(false)}\n            compositionType={compositionType}\n            selectMode={selectMode}\n            selectedFileIds={selectedFiles}\n        />\n    )\n})\n","import { memo, type ReactNode } from 'react'\nimport { Button, DialogContent, Typography } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '@masknet/theme'\nimport { InjectedDialog, type InjectedDialogProps } from '@masknet/shared'\n\nconst useStyles = makeStyles()((theme) => ({\n    paper: {\n        minWidth: 320,\n        width: 320,\n        minHeight: 280,\n    },\n    title: {\n        fontSize: 24,\n        lineHeight: '120%',\n        fontWeight: 700,\n        marginTop: theme.spacing(3),\n        color: theme.palette.maskColor.main,\n    },\n    content: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: 80,\n        padding: theme.spacing(2),\n        margin: theme.spacing(0),\n        fontSize: 18,\n        fontWeight: 'bold',\n        textAlign: 'center',\n    },\n    message: {\n        margin: theme.spacing(1.5, 0),\n        lineHeight: '20px',\n        fontSize: 14,\n        color: theme.palette.maskColor.second,\n        wordBreak: 'break-all',\n    },\n    desc: {\n        flexGrow: 1,\n        fontSize: 14,\n        textAlign: 'center',\n        color: theme.palette.maskColor.second,\n        marginBottom: theme.spacing(1),\n    },\n    closeButton: {\n        position: 'absolute',\n        top: theme.spacing(2),\n        right: theme.spacing(2),\n        color: theme.palette.maskColor.main,\n    },\n}))\n\ninterface ConfirmDialogProps extends Omit<InjectedDialogProps, 'title' | 'onSubmit'> {\n    title?: string\n    message?: ReactNode | string\n    description?: ReactNode | string\n    confirmLabel?: string\n    onSubmit(): void\n}\n\n// Yet, another Confirm Dialog\nexport const ConfirmDialog = memo(\n    ({ title, message, description, confirmLabel = 'Confirm', onSubmit, onClose, ...rest }: ConfirmDialogProps) => {\n        const { classes } = useStyles()\n\n        return (\n            <InjectedDialog classes={{ paper: classes.paper, ...rest.classes }} {...rest}>\n                <DialogContent className={classes.content}>\n                    <Typography variant=\"h1\" className={classes.title} component=\"div\">\n                        {title}\n                    </Typography>\n                    <Typography className={classes.message} component=\"div\">\n                        {message}\n                    </Typography>\n                    <Typography className={classes.desc} component=\"div\">\n                        {description}\n                    </Typography>\n                    <Button fullWidth color=\"error\" onClick={() => onSubmit()}>\n                        {confirmLabel}\n                    </Button>\n                    <Icons.Close className={classes.closeButton} size={24} onClick={onClose} />\n                </DialogContent>\n            </InjectedDialog>\n        )\n    },\n)\n","import { forwardRef, useState } from 'react'\nimport type { SingletonModalRefCreator } from '@masknet/shared-base'\nimport { useSingletonModal } from '@masknet/shared-base-ui'\nimport { type InjectedDialogProps } from '@masknet/shared'\nimport { ConfirmDialog } from './ConfirmDialog.js'\n\nexport interface ConfirmModalOpenProps extends Omit<InjectedDialogProps, 'title' | 'onSubmit' | 'content' | 'open'> {\n    title?: string\n    message?: React.ReactNode | string\n    description?: React.ReactNode | string\n    confirmLabel?: string\n}\n\nexport type ConfirmModalCloseProps = boolean\n\nexport const ConfirmModal = forwardRef<SingletonModalRefCreator<ConfirmModalOpenProps, ConfirmModalCloseProps>>(\n    (props, ref) => {\n        const [props_, setProps_] = useState<ConfirmModalOpenProps>()\n        const [open, dispatch] = useSingletonModal(ref, {\n            onOpen(props) {\n                setProps_(props)\n            },\n        })\n\n        if (!open) return null\n\n        return (\n            <ConfirmDialog\n                open\n                onSubmit={() => dispatch?.close(true)}\n                onClose={() => dispatch?.close(false)}\n                {...props_}\n                message={props_?.message}\n            />\n        )\n    },\n)\n","import { memo, type ReactNode, useState } from 'react'\nimport { Icons } from '@masknet/icons'\nimport { InjectedDialog, type InjectedDialogProps } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport { Button, DialogContent, InputBase, Typography } from '@mui/material'\nimport { useFileServiceTrans } from '../../../locales/i18n_generated.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    paper: {\n        minWidth: 320,\n        width: 330,\n        minHeight: 243,\n        borderRadius: '24px',\n        boxShadow: '0px 4px 30px 0px rgba(0, 0, 0, 0.10)',\n    },\n    title: {\n        fontSize: 24,\n        lineHeight: '120%',\n        fontWeight: 700,\n        marginTop: theme.spacing(3),\n        color: theme.palette.maskColor.main,\n    },\n    content: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: 80,\n        padding: theme.spacing(2),\n        margin: theme.spacing(0),\n        fontSize: 18,\n        fontWeight: 'bold',\n        textAlign: 'center',\n    },\n    message: {\n        marginTop: theme.spacing(1.5),\n        lineHeight: '18px',\n        color: theme.palette.maskColor.third,\n        fontSize: 14,\n        fontWeight: 400,\n    },\n    inputBox: {\n        flexGrow: 1,\n        textAlign: 'center',\n        width: '100%',\n        color: theme.palette.maskColor.second,\n        marginTop: theme.spacing(4),\n        boxSizing: 'border-box',\n    },\n    input: {\n        boxSizing: 'border-box',\n    },\n    button: {\n        marginTop: theme.spacing(2),\n    },\n    closeButton: {\n        position: 'absolute',\n        top: theme.spacing(2),\n        right: theme.spacing(2),\n        color: theme.palette.maskColor.main,\n    },\n}))\n\ninterface RenameDialogProps extends Omit<InjectedDialogProps, 'title' | 'onSubmit'> {\n    title?: string\n    currentName: string\n    message?: ReactNode | string\n    description?: ReactNode | string\n    onSubmit(name: string): void\n    onClose(): void\n}\n\nexport const RenameDialog = memo(\n    ({ title, message, description, currentName, onSubmit, onClose, ...rest }: RenameDialogProps) => {\n        const { classes } = useStyles()\n        const t = useFileServiceTrans()\n        const [name, setName] = useState(currentName)\n        const isDirty = name !== currentName\n        const isValid = isDirty && name.length >= 3 && name.length <= 20\n\n        return (\n            <InjectedDialog classes={{ paper: classes.paper, ...rest.classes }} {...rest}>\n                <DialogContent className={classes.content}>\n                    <Typography variant=\"h1\" className={classes.title}>\n                        {t.rename()}\n                    </Typography>\n                    <Typography component=\"div\" className={classes.message}>\n                        {message}\n                    </Typography>\n                    <div className={classes.inputBox}>\n                        <InputBase\n                            fullWidth\n                            autoFocus\n                            className={classes.input}\n                            value={name}\n                            onChange={(event) => setName(event.currentTarget.value)}\n                        />\n                    </div>\n                    <Button\n                        className={classes.button}\n                        fullWidth\n                        color=\"primary\"\n                        disabled={!isValid}\n                        onClick={() => onSubmit(name)}>\n                        {t.confirm()}\n                    </Button>\n                    <Icons.Close className={classes.closeButton} size={24} onClick={() => onClose()} />\n                </DialogContent>\n            </InjectedDialog>\n        )\n    },\n)\n","import { forwardRef, useState } from 'react'\nimport type { InjectedDialogProps } from '@masknet/shared'\nimport type { SingletonModalRefCreator } from '@masknet/shared-base'\nimport { useSingletonModal } from '@masknet/shared-base-ui'\nimport { RenameDialog } from './RenameDialog.js'\n\nexport interface RenameModalOpenProps extends Omit<InjectedDialogProps, 'title' | 'onSubmit' | 'open'> {\n    title?: string\n    currentName?: string\n    message?: React.ReactNode | string\n    description?: React.ReactNode | string\n}\n\nexport type RenameModalCloseProps = string | void\n\nexport const RenameModal = forwardRef<SingletonModalRefCreator<RenameModalOpenProps, RenameModalCloseProps>>(\n    (props, ref) => {\n        const [props_, setProps_] = useState<RenameModalOpenProps>()\n\n        const [open, dispatch] = useSingletonModal(ref, {\n            onOpen(props) {\n                setProps_(props)\n            },\n        })\n\n        if (!open) return null\n        return (\n            <RenameDialog\n                open\n                onSubmit={(name) => dispatch?.close(name)}\n                onClose={() => dispatch?.close()}\n                {...props_}\n                currentName={props_?.currentName ?? ''}\n            />\n        )\n    },\n)\n","import { memo } from 'react'\nimport { ConfirmModal } from './ConfirmModal/index.js'\nimport { RenameModal } from './RenameModal/index.js'\n\nimport * as modals from './modals.js'\n\nexport const Modals = memo(function Modals() {\n    return (\n        <>\n            <ConfirmModal ref={modals.ConfirmModal.register} />\n            <RenameModal ref={modals.RenameModal.register} />\n        </>\n    )\n})\n","import { truncate } from 'lodash-es'\nimport { EMPTY_LIST, PluginID } from '@masknet/shared-base'\nimport { formatFileSize } from '@masknet/kit'\nimport { Icons } from '@masknet/icons'\nimport type { Plugin } from '@masknet/plugin-infra'\nimport { PluginTransFieldRender } from '@masknet/plugin-infra/content-script'\nimport { ApplicationEntry } from '@masknet/shared'\nimport { MaskLightTheme } from '@masknet/theme'\nimport { ThemeProvider } from '@mui/material'\nimport { Trans } from 'react-i18next'\nimport { base } from '../base.js'\nimport { META_KEY_1, META_KEY_2, META_KEY_3 } from '../constants.js'\nimport { getFileInfoMetadata } from '../helpers.js'\nimport type { FileInfo } from '../types.js'\nimport { MultipleFileChip, SingleFileChip } from './components/index.js'\nimport { FileViewer } from './FileViewer.js'\nimport { setupStorage, type StorageOptions } from './storage.js'\nimport { openBrowser, openPicker } from './emitter.js'\nimport { FileServiceInjection } from './FileServiceInjection.js'\nimport { Modals } from './modals/index.js'\nimport { Telemetry } from '@masknet/web3-telemetry'\nimport { EventID, EventType } from '@masknet/web3-telemetry/types'\n\ntype BadgeRenderer<T> = (f: T) => Plugin.SiteAdaptor.BadgeDescriptor\n\nfunction clickHandler() {\n    return openBrowser('popup')\n}\nconst definition: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    init(signal, context) {\n        setupStorage(context.createKVStorage<StorageOptions>('persistent', { termsConfirmed: undefined }))\n    },\n    DecryptedInspector(props) {\n        const metadata = getFileInfoMetadata(props.message.meta)\n\n        if (!metadata.isOk()) return null\n        return (\n            <ThemeProvider theme={MaskLightTheme}>\n                <FileViewer files={metadata.value} />\n            </ThemeProvider>\n        )\n    },\n    CompositionDialogMetadataBadgeRender: new Map<string, BadgeRenderer<FileInfo> | BadgeRenderer<FileInfo[]>>([\n        [META_KEY_1, onAttachedFile],\n        [META_KEY_2, onAttachedFile],\n        [META_KEY_3, onAttachedMultipleFile],\n    ]),\n    GlobalInjection() {\n        return (\n            <>\n                <Modals />\n                <FileServiceInjection />\n            </>\n        )\n    },\n    CompositionDialogEntry: {\n        label: (\n            <>\n                <Icons.FileService size={16} />\n                <Trans ns={PluginID.FileService} i18nKey=\"name\" />\n            </>\n        ),\n        onClick: ({ compositionType, metadata }) => {\n            const payload = metadata?.get(META_KEY_3) as FileInfo[] | undefined\n            const selectedIds = Array.isArray(payload) ? payload.map((f) => f.id) : EMPTY_LIST\n            openPicker(selectedIds, compositionType)\n        },\n    },\n    ApplicationEntries: [\n        (() => {\n            const icon = <Icons.FileService size={36} />\n            const name = <Trans ns={PluginID.FileService} i18nKey=\"__plugin_name\" />\n            const iconFilterColor = 'rgba(247, 147, 30, 0.3)'\n            return {\n                ApplicationEntryID: base.ID,\n                RenderEntryComponent(EntryComponentProps) {\n                    return (\n                        <ApplicationEntry\n                            title={<PluginTransFieldRender field={name} pluginID={base.ID} />}\n                            {...EntryComponentProps}\n                            icon={icon}\n                            iconFilterColor={iconFilterColor}\n                            onClick={() => {\n                                EntryComponentProps.onClick\n                                    ? EntryComponentProps.onClick?.(clickHandler)\n                                    : clickHandler()\n                                Telemetry.captureEvent(EventType.Access, EventID.EntryAppFileOpen)\n                            }}\n                        />\n                    )\n                },\n                appBoardSortingDefaultPriority: 3,\n                marketListSortingPriority: 3,\n                icon,\n                category: 'dapp',\n                description: <Trans ns={PluginID.FileService} i18nKey=\"__plugin_description\" />,\n                name,\n                iconFilterColor,\n                tutorialLink: 'https://realmasknetwork.notion.site/8c8fe1efce5a48b49739a38f4ea8c60f',\n            }\n        })(),\n    ],\n    wrapperProps: {\n        icon: <Icons.FileService size={24} style={{ filter: 'drop-shadow(0px 6px 12px rgba(247, 147, 30, 0.2))' }} />,\n        backgroundGradient:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(255, 177, 16, 0.2) 100%), #FFFFFF;',\n    },\n}\n\nexport default definition\n\nfunction onAttachedFile(file: FileInfo): Plugin.SiteAdaptor.BadgeDescriptor {\n    const name = truncate(file.name, { length: 10 })\n    const size = formatFileSize(file.size, true)\n\n    return {\n        text: (\n            <SingleFileChip\n                name={name}\n                size={size}\n                onClick={({ compositionType }) => {\n                    openPicker([file.id], compositionType)\n                }}\n            />\n        ),\n        tooltip: `${file.name} (${size})`,\n    }\n}\n\nfunction onAttachedMultipleFile(files: FileInfo[]): Plugin.SiteAdaptor.BadgeDescriptor {\n    if (files.length === 1) return onAttachedFile(files[0])\n    return {\n        text: (\n            <MultipleFileChip\n                count={files.length}\n                role=\"button\"\n                onClick={({ compositionType }) => {\n                    openPicker(\n                        files.map((file) => file.id),\n                        compositionType,\n                    )\n                }}\n            />\n        ),\n    }\n}\n","import urlcat from 'urlcat'\nimport { isNil } from 'lodash-es'\nimport type { Result } from 'ts-results-es'\nimport { isAfter } from 'date-fns'\nimport { encodeArrayBuffer, encodeText } from '@masknet/kit'\nimport { createLookupTableResolver } from '@masknet/shared-base'\nimport { openWindow } from '@masknet/shared-base-ui'\nimport type { TypedMessage } from '@masknet/typed-message'\nimport { createTypedMessageMetadataReader } from '@masknet/typed-message-react'\nimport { META_KEY_1, META_KEY_2, META_KEY_3, RECOVERY_PAGE } from './constants.js'\nimport { type FileInfo, type FileInfoV1, Provider } from './types.js'\nimport schemaV1 from './schema-v1.json'\nimport schemaV2 from './schema-v2.json'\nimport schemaV3 from './schema-v3.json'\n\n// Note: if the latest version has been changed, please update packages/mask/content-script/components/CompositionDialog/useSubmit.ts\nconst reader_v1 = createTypedMessageMetadataReader<FileInfoV1>(META_KEY_1, schemaV1)\nconst reader_v2 = createTypedMessageMetadataReader<FileInfo>(META_KEY_2, schemaV2)\nconst reader_v3 = createTypedMessageMetadataReader<FileInfo[]>(META_KEY_3, schemaV3)\n\nexport function getFileInfoMetadata(meta: TypedMessage['meta']): Result<FileInfo[], void> {\n    const v3 = reader_v3(meta)\n    if (v3.isOk()) return v3\n    const v2 = reader_v2(meta).map((info) => [info])\n    if (v2.isOk()) return v2\n    return reader_v1(meta).map(migrateFileInfoV1)\n}\n\nexport function migrateFileInfoV1(info: FileInfoV1): FileInfo[] {\n    return [{ ...info, type: 'file', provider: 'arweave' as Provider }]\n}\n\nexport async function makeFileKeySigned(fileKey: string | undefined | null) {\n    if (isNil(fileKey)) {\n        return null\n    }\n    const encodedKey = encodeText(fileKey)\n    const key = await crypto.subtle.generateKey({ name: 'HMAC', hash: { name: 'SHA-256' } }, true, ['sign', 'verify'])\n    const exportedKey = await crypto.subtle.exportKey('raw', key)\n    const signed = await crypto.subtle.sign({ name: 'HMAC' }, key, encodedKey)\n    return [signed, exportedKey].map(encodeArrayBuffer)\n}\n\nconst resolveGatewayAPI = createLookupTableResolver<Provider, string>(\n    {\n        [Provider.Arweave]: 'https://arweave.net',\n        [Provider.IPFS]: 'https://mask.infura-ipfs.io/ipfs',\n    },\n    () => 'Unknown provider',\n)\n\nexport function makeFileKey(length = 16) {\n    let key = ''\n    // cspell:disable-next-line\n    const table = 'ABDEFGHJKMNPQRTWXYadefhijkmnprstuvwxyz03478'\n    for (let i = 0; i < length; i += 1) {\n        key += table.charAt(Math.floor(Math.random() * table.length))\n    }\n    return key\n}\n\nexport function downloadFile(file: FileInfo) {\n    const gateway = resolveGatewayAPI(file.provider)\n    let link = urlcat(gateway, '/:txId', { txId: file.landingTxID })\n    if (isAfter(new Date(2022, 8, 1), new Date(file.createdAt))) {\n        link = urlcat(RECOVERY_PAGE, {\n            url: encodeURIComponent(link),\n        })\n    }\n    openWindow(file.key ? `${link}#${file.key}` : link)\n}\n\nasync function digestFile(file: File) {\n    const buffer = await file.arrayBuffer()\n    const hashBuffer = await crypto.subtle.digest('SHA-256', buffer)\n    const hashHex = Array.from(new Uint8Array(hashBuffer)).map((b) => b.toString(16).padStart(2, '0'))\n    return hashHex\n}\n\nasync function digestMessage(message: string) {\n    const buffer = new TextEncoder().encode(message)\n    const hashBuffer = await crypto.subtle.digest('SHA-256', buffer)\n    const hashHex = Array.from(new Uint8Array(hashBuffer))\n        .map((b) => b.toString(16).padStart(2, '0'))\n        .join('')\n    return hashHex\n}\n\nexport async function digest(file: File, extraData: Array<number | string | boolean | null>) {\n    const fileDigest = await digestFile(file)\n    const dataDigest = await digestMessage(JSON.stringify(extraData))\n    return digestMessage(JSON.stringify([fileDigest, dataDigest]))\n}\n","import type { FileFrameProps } from '@masknet/shared'\n\nexport enum Provider {\n    Arweave = 'arweave',\n    IPFS = 'ipfs',\n}\n\nexport interface ProviderConfig {\n    name: string\n    provider: Provider\n}\n\nexport interface LandingPageMetadata {\n    key: string | null | undefined\n    name: string\n    size: number\n    type: string\n    txId: string\n    useCDN: boolean\n}\n\nexport interface AttachmentOptions {\n    key?: string | null\n    type: string\n    block: Uint8Array\n    name: string\n}\n\nexport interface ProviderAgent {\n    makeAttachment(options: AttachmentOptions): Promise<string>\n    upload(id: string): AsyncGenerator<number>\n    uploadLandingPage(metadata: LandingPageMetadata): Promise<string>\n}\n\nexport interface FileInfo {\n    type: 'file'\n    provider: Provider\n    /**\n     * Before v3, it's checksum of the file.\n     * Since v3, it's digest(file, [provider, useCDN, encrypted])\n     */\n    id: string\n\n    name: string\n    size: number\n    /**\n     * Before v3, it's Date\n     * Since v3, it's number\n     */\n    createdAt: number | string\n\n    key: string | undefined\n    /** Doesn't exist in uploading file info */\n    payloadTxID?: string\n    /** Doesn't exist in uploading file info */\n    landingTxID?: string\n}\n\nexport type FileBaseProps = Omit<FileFrameProps, 'fileName'>\n\nexport type FileInfoV1 = Omit<FileInfo, 'type' | 'provider'> & {\n    type: 'arweave'\n}\n","type WindowTarget = LiteralUnion<'_top' | '_self' | '_parent' | '_blank'>\n\ninterface BehaviorFlags {\n    popup?: boolean\n    toolbar?: boolean\n    status?: boolean\n    resizable?: boolean\n    scrollbars?: boolean\n}\n\ninterface WindowFeatureFlags {\n    // Behavior\n    opener?: boolean\n    referrer?: boolean\n    behaviors?: BehaviorFlags\n    // Dimension\n    width?: number\n    height?: number\n    screenX?: number\n    screenY?: number\n}\n\nexport function openWindow(\n    url: string | URL | undefined | null,\n    target: WindowTarget = '_blank',\n    features: WindowFeatureFlags = {},\n): Window | null {\n    if (!url) return null\n    const flags = []\n    for (const [name, value] of Object.entries(features.behaviors ?? {})) {\n        if (value) flags.push(`${name}=1`)\n    }\n    if (!features.opener) flags.push('noopener')\n    if (!features.referrer) flags.push('noreferrer')\n    if (Number.isFinite(features.width)) flags.push(`width=${features.width}`)\n    if (Number.isFinite(features.height)) flags.push(`height=${features.height}`)\n    if (Number.isFinite(features.screenX)) flags.push(`screenX=${features.screenX}`)\n    if (Number.isFinite(features.screenY)) flags.push(`screenY=${features.screenY}`)\n    return window.open(url, target, flags.join(' '))\n}\n","import { useCallback, useImperativeHandle, useRef, useState } from 'react'\nimport type { SingletonModalRefCreator } from '@masknet/shared-base'\n\nexport function useSingletonModal<OpenProps, CloseProps>(\n    ref: React.ForwardedRef<SingletonModalRefCreator<OpenProps, CloseProps>>,\n    options?: {\n        onOpen?: (props: OpenProps) => void\n        onClose?: (props: CloseProps) => void\n        onAbort?: (error: Error) => void\n    },\n) {\n    type T = SingletonModalRefCreator<OpenProps, CloseProps>\n\n    const [open, setOpen] = useState(false)\n    const dispatchRef = useRef<ReturnType<T>>()\n    const optionsRef = useRef<typeof options>()\n    const openRef = useRef(open)\n    optionsRef.current = options\n    openRef.current = open\n\n    const creator: T = useCallback((dispatchOpen, dispatchClose, dispatchAbort) => {\n        dispatchRef.current = {\n            peek() {\n                return openRef.current\n            },\n            open(props) {\n                optionsRef.current?.onOpen?.(props)\n                dispatchOpen(props)\n                setOpen(true)\n            },\n            close(props) {\n                optionsRef.current?.onClose?.(props)\n                dispatchClose(props)\n                setOpen(false)\n            },\n            abort(error) {\n                optionsRef.current?.onAbort?.(error)\n                dispatchAbort(error)\n                setOpen(false)\n            },\n        }\n        return dispatchRef.current\n    }, [])\n\n    useImperativeHandle(ref, () => creator, [creator])\n\n    return [open, dispatchRef.current] as const\n}\n","import { defer, delay, type DeferTuple } from '@masknet/kit'\nimport { Emitter } from '@servie/events'\n\nexport type SingletonModalRefCreator<OpenProps = void, CloseProps = void> = (\n    onOpen: (props: OpenProps) => void,\n    onClose: (props: CloseProps) => void,\n    onAbort: (error: Error) => void,\n) => {\n    peek: () => boolean\n    open: (props: OpenProps) => void\n    close: (props: CloseProps) => void\n    abort?: (error: Error) => void\n}\n\nexport interface SingletonModalProps {\n    children: React.ReactNode\n}\n\nexport class SingletonModal<\n    OpenProps = void,\n    CloseProps = void,\n    T extends SingletonModalRefCreator<OpenProps, CloseProps> = SingletonModalRefCreator<OpenProps, CloseProps>,\n> {\n    constructor() {\n        this.open = this.open.bind(this)\n        this.close = this.close.bind(this)\n        this.abort = this.abort.bind(this)\n        this.openAndWaitForClose = this.openAndWaitForClose.bind(this)\n    }\n    readonly emitter = new Emitter<{\n        open: [OpenProps]\n        close: [CloseProps]\n        abort: [Error]\n    }>()\n\n    protected onOpen: ReturnType<T>['open'] | undefined\n    protected onClose: ReturnType<T>['close'] | undefined\n    protected onAbort: ReturnType<T>['abort'] | undefined\n\n    private dispatchPeek: ReturnType<T>['peek'] | undefined\n    private dispatchOpen: ReturnType<T>['open'] | undefined\n    private dispatchClose: ReturnType<T>['close'] | undefined\n    private dispatchAbort: ReturnType<T>['abort'] | undefined\n\n    /**\n     * Register a React modal component that implemented a forwarded ref.\n     * The ref item should be fed with open and close methods.\n     */\n    register = (creator: T | null) => {\n        if (!creator) {\n            this.dispatchOpen = undefined\n            this.dispatchClose = undefined\n            this.dispatchAbort = undefined\n            return\n        }\n\n        const ref = creator(\n            (props) => {\n                this.onOpen?.(props)\n                this.emitter.emit('open', props)\n            },\n            (props) => {\n                this.onClose?.(props)\n                this.emitter.emit('close', props)\n            },\n            (error) => {\n                this.onAbort?.(error)\n                this.emitter.emit('abort', error)\n            },\n        )\n        this.dispatchPeek = ref.peek\n        this.dispatchOpen = ref.open\n        this.dispatchClose = ref.close\n        this.dispatchAbort = ref.abort\n    }\n\n    /**\n     * Peek the open state of the React modal component.\n     */\n    peek() {\n        return this.dispatchPeek?.() ?? false\n    }\n\n    /**\n     * Open the registered modal component with props\n     * @param props\n     */\n    open(props: OpenProps) {\n        if (typeof this.dispatchOpen === 'undefined') console.warn(\"[SingletonModal]: The modal hasn't registered yet.\")\n        this.dispatchOpen?.(props)\n    }\n\n    /**\n     * Close the registered modal component with props\n     * @param props\n     */\n    close(props: CloseProps) {\n        this.dispatchClose?.(props)\n    }\n\n    /**\n     * Abort the registered modal component with Error\n     */\n    abort(error: Error) {\n        this.dispatchAbort?.(error)\n    }\n\n    /**\n     * Open the registered modal component and wait for it closes\n     * @param props\n     */\n    openAndWaitForClose(props: OpenProps): Promise<CloseProps> {\n        return new Promise<CloseProps>((resolve, reject) => {\n            this.open(props)\n            this.onClose = (props) => resolve(props)\n            this.onAbort = (error) => reject(error)\n        })\n    }\n}\n\nexport class SingletonModalQueued<OpenProps = void, CloseProps = void> extends SingletonModal<OpenProps, CloseProps> {\n    private opened = false\n    private tasks: Array<{\n        props: OpenProps\n        defer?: DeferTuple<CloseProps, Error>\n    }> = []\n\n    constructor() {\n        super()\n\n        this.emitter.on('open', () => {\n            this.opened = true\n        })\n        this.emitter.on('close', () => {\n            this.opened = false\n            this.cleanup()\n        })\n        this.emitter.on('abort', () => {\n            this.opened = false\n            this.cleanup()\n        })\n    }\n\n    override open(props: OpenProps) {\n        if (!this.opened) {\n            super.open(props)\n            return\n        }\n\n        this.tasks.push({\n            props,\n        })\n    }\n\n    override close(props: CloseProps) {\n        if (!this.opened) return\n\n        super.close(props)\n    }\n\n    override openAndWaitForClose(props: OpenProps) {\n        if (!this.opened) return super.openAndWaitForClose(props)\n\n        const d = defer<CloseProps, Error>()\n        this.tasks.push({\n            props,\n            defer: d,\n        })\n        return d[0]\n    }\n\n    private async cleanup() {\n        if (this.opened || !this.tasks.length) return\n\n        await delay(300)\n\n        const { props, defer } = this.tasks.shift()!\n\n        this.open(props)\n        if (!defer) return\n        this.onClose = (props) => defer[1](props)\n        this.onAbort = (error) => defer[2](error)\n    }\n}\n","const cache = new WeakMap<object, object>()\n/**\n * This function provides a localImplementation that has HMR support.\n * To update, call this function with the SAME key object.\n * @param impl The implementation. Can be an async function.\n * @param key The reference object that must be the same if you're updating.\n */\nexport async function getOrUpdateLocalImplementationHMR<T extends object>(impl: () => T | Promise<T>, key: object) {\n    if (!import.meta.webpackHot) return impl()\n\n    const result: any = await impl()\n    if (!cache.has(key)) cache.set(key, Object.create(null))\n    const localImpl = cache.get(key)\n    Object.setPrototypeOf(localImpl, result)\n    return localImpl\n}\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { SelectProviderModalOpenProps, SelectProviderModalCloseProps } from './SelectProviderModal/index.js'\nimport type { WalletConnectQRCodeOpenProps } from './WalletConnectQRCodeModal/index.js'\nimport type { WalletRiskWarningModalOpenProps } from './WalletRiskWarningModal/index.js'\nimport type { ConnectWalletModalOpenProps, ConnectWalletModalCloseProps } from './ConnectWalletModal/index.js'\nimport type { LeavePageConfirmModalOpenProps } from './LeavePageConfirmModal/index.js'\nimport type {\n    ApplicationBoardModalOpenProps,\n    ApplicationBoardSettingsModalOpenProps,\n} from './ApplicationBoardModal/index.js'\nimport type { GasSettingModalOpenOrCloseProps } from './GasSettingModal/index.js'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { ConfirmDialogOpenProps } from './ConfirmDialog/index.js'\nimport type { TransactionConfirmModalOpenProps } from './TokenTransactionConfirmModal/index.js'\nimport type { SelectNonFungibleContractModalOpenProps } from './SelectNonFungibleContractModal/index.js'\nimport type {\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps,\n} from './SelectFungibleTokenModal/index.js'\nimport type {\n    SelectGasSettingsModalCloseProps,\n    SelectGasSettingsModalOpenProps,\n} from './SelectAdvancedSettingsDialog/index.js'\nimport type { AddCollectiblesModalCloseProps, AddCollectiblesModalOpenProps } from './AddCollectiblesModal/index.js'\nimport type { PersonaSelectPanelModalOpenProps } from './PersonaSelectPanelModal/index.js'\nimport type { ShareSelectNetworkModalOpenProps } from './ShareSelectNetwork/index.js'\n\nexport const WalletConnectQRCodeModal = new SingletonModal<WalletConnectQRCodeOpenProps>()\nexport const SelectProviderModal = new SingletonModal<SelectProviderModalOpenProps, SelectProviderModalCloseProps>()\nexport const WalletStatusModal = new SingletonModal()\nexport const WalletRiskWarningModal = new SingletonModal<WalletRiskWarningModalOpenProps>()\nexport const ConnectWalletModal = new SingletonModal<ConnectWalletModalOpenProps, ConnectWalletModalCloseProps>()\nexport const LeavePageConfirmModal = new SingletonModal<LeavePageConfirmModalOpenProps>()\nexport const ApplicationBoardModal = new SingletonModal<ApplicationBoardModalOpenProps>()\nexport const ApplicationBoardSettingsModal = new SingletonModal<ApplicationBoardSettingsModalOpenProps>()\nexport const GasSettingModal = new SingletonModal<GasSettingModalOpenOrCloseProps, GasSettingModalOpenOrCloseProps>()\nexport const TransactionConfirmModal = new SingletonModal<TransactionConfirmModalOpenProps>()\nexport const TransactionSnackbar = new SingletonModal()\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const ConfirmDialog = new SingletonModal<ConfirmDialogOpenProps, boolean>()\nexport const SelectNonFungibleContractModal = new SingletonModal<SelectNonFungibleContractModalOpenProps>()\nexport const SelectGasSettingsModal = new SingletonModal<\n    SelectGasSettingsModalOpenProps,\n    SelectGasSettingsModalCloseProps\n>()\nexport const AddCollectiblesModal = new SingletonModal<AddCollectiblesModalOpenProps, AddCollectiblesModalCloseProps>()\nexport const SelectFungibleTokenModal = new SingletonModal<\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps\n>()\n\nexport const PersonaSelectPanelModal = new SingletonModal<PersonaSelectPanelModalOpenProps>()\n\nexport const ShareSelectNetworkModal = new SingletonModal<ShareSelectNetworkModalOpenProps>()\n\nexport { ApplicationSettingTabs } from './ApplicationBoardModal/ApplicationBoardDialog.js'\n","export const LightColor = {\n    bg: '##F9F9F9',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#FFFFFF',\n    secondary: '#e8f0fe',\n    secondaryContrastText: '#1c68f3',\n    input: '#F6F6F8',\n    primaryBackground: '#ffffff',\n    primaryBackground2: '#FBFBFC',\n    secondaryBackground: '#f9fafa',\n    lightBackground: '#F9FAFA',\n    mainBackground: '#ffffff',\n    suspensionBackground: 'rgba(249, 250, 250, 0.8)',\n    normalBackground: '#F3F3F4',\n    twitterBackground: '#F7F9FA',\n    twitterBackgroundHover: '#EFF1F2',\n    twitterInputBackground: '#F6F8F8',\n    twitterButton: '#111418',\n    twitterButtonText: '#ffffff',\n    twitterBlue: '#1C68F3',\n    twitterBorderLine: '#EDF1F2',\n    twitterSecond: '#7B8192',\n    twitterMain: '#0F1419',\n    twitterBottom: '#ffffff',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterBg: '#F6F8F8',\n    twitterTooltipBg: 'rgba(0,0,0,.6)',\n    twitterInput: '#EDF1F2',\n    twitterLine: '#EBEEF0',\n    redMain: '#ff5f5f',\n    redLight: '#ffafaf',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#e6f6f0',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#faf0d8',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#eff3f4',\n\n    border: '#F3F3F4',\n    borderSecondary: '#536471',\n\n    textPrimary: '#111432',\n    textSecondary: '#7b8192',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: '#7B8192',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#1C68F3',\n    lineLight: '#E4E8F1',\n    lineLighter: '#E9E9EA',\n    textLight: '#A6A9B6',\n    lightestBackground: '#FFFFFF',\n    linkText: '#1C68F3',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#F9FAFA',\n    main: '#1C68F3',\n    errorBackground: 'rgba(255, 95, 95, 0.15)',\n    tooltipBackground: '#ffffff',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#000000',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport const DarkColor: typeof LightColor = {\n    bg: '#1C1C1C',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#15171A',\n    secondary: '#242e57',\n    secondaryContrastText: '#ffffff',\n    input: '#282B49',\n    primaryBackground: '#212442',\n    primaryBackground2: '#212442',\n    secondaryBackground: '#252846',\n    lightBackground: '#2E314F',\n    mainBackground: '#111432',\n    suspensionBackground: 'rgba(27, 30, 60, 0.8)',\n    normalBackground: '#262947',\n    twitterInputBackground: '#17191D',\n    twitterBackground: '#17191D',\n    twitterBackgroundHover: '#17191D',\n    twitterButton: '#EFF3F4',\n    twitterButtonText: '#0F1419',\n    twitterBlue: '#4989FF',\n    twitterBorderLine: '#2F3336',\n    twitterInput: '#1D2023',\n    twitterSecond: '#636B72',\n    twitterMain: '#D9D9D9',\n    twitterBottom: '#000000',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterLine: '#2F3336',\n    twitterBg: '#15171A',\n    twitterTooltipBg: 'rgba(91,112,131,.6)',\n    redMain: '#ff5f5f',\n    redLight: '#46304a',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#314457',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#463e3f',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#3e455e',\n\n    border: '#3E455E',\n    borderSecondary: '#6e767d',\n\n    // TODO: ?\n    textPrimary: '#ffffff',\n    // TODO: ?\n    textSecondary: 'ghostwhite',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: 'rgba(255, 255, 255, 0.8)',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#ffffff',\n    lineLight: '#32365B',\n    lineLighter: '#32365B',\n    textLight: '#A6A9B6',\n    lightestBackground: '#212422',\n    linkText: '#ffffff',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#000000',\n    main: '#D4D4D4',\n    errorBackground: 'rgba(255, 95, 95, 0.1)',\n    tooltipBackground: '#1A1D20',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#ffffff',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport type Color = typeof LightColor\n","import type { Theme } from '@mui/material'\nimport { kebabCase } from 'lodash-es'\nimport { LightColor, DarkColor } from './constants.js'\n\nexport function getMaskColor(theme: Theme) {\n    if (theme.palette.mode === 'dark') return DarkColor\n    return LightColor\n}\nexport type MaskCSSVariableColor = string & {\n    /** Append alpha channel to the original color */\n    alpha(alpha: number): string\n} & ((defaultValue?: string) => string)\n\nfunction set(key: string | symbol) {\n    if (typeof key === 'symbol') return undefined\n    const cssVar = kebabCase(key)\n    function value(defaultValue?: string) {\n        // it might be an object when used in styled components.\n        if (typeof defaultValue !== 'string') defaultValue = undefined\n        const x = `var(--mask-${cssVar}${defaultValue ? ', ' + defaultValue : ''})`\n        return x\n    }\n    Object.assign(value, {\n        [Symbol.toPrimitive]: () => `var(--mask-${cssVar})`,\n        alpha: (alpha: number) => `rgba(var(--mask-${cssVar}-fragment), ${alpha})`,\n    })\n    Object.defineProperty(MaskColorVar, key, { configurable: true, enumerable: true, value })\n    return value\n}\n/**\n * @deprecated Use theme.palette.maskColor\n */\nexport const MaskColorVar: Record<keyof typeof LightColor, MaskCSSVariableColor> = {\n    __proto__: new Proxy(\n        {},\n        {\n            get: (_, p) => set(p),\n            getOwnPropertyDescriptor: (_, p) => {\n                set(p)\n                return Object.getOwnPropertyDescriptor(MaskColorVar, p)\n            },\n        },\n    ),\n} as any\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import { forwardRef, useRef, memo, useCallback } from 'react'\nimport { keyframes } from 'tss-react'\nimport {\n    SnackbarProvider,\n    type SnackbarProviderProps,\n    type SnackbarKey,\n    useSnackbar,\n    type VariantType,\n    type SnackbarMessage,\n    SnackbarContent,\n    type SnackbarAction,\n    type OptionsObject,\n} from 'notistack'\nimport { Typography, IconButton, alpha } from '@mui/material'\nimport { Close as CloseIcon, Warning as WarningIcon, Info as InfoIcon } from '@mui/icons-material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\nimport { MaskColorVar } from '../../CSSVariables/index.js'\nimport { usePortalShadowRoot } from '../../ShadowRoot/index.js'\n\nexport { PopupSnackbarProvider, usePopupCustomSnackbar } from './PopupSnackbar.js'\nexport { SnackbarProvider, useSnackbar } from 'notistack'\nexport type { VariantType, OptionsObject, SnackbarKey, SnackbarMessage } from 'notistack'\n\nexport interface StyleProps {\n    offsetY?: number\n}\n\nconst useStyles = makeStyles<StyleProps, 'title' | 'message'>()((theme, { offsetY }, classNames) => {\n    const spinningAnimationKeyFrames = keyframes`\n        to {\n          transform: rotate(360deg)\n        }\n    `\n    const title = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        fontSize: 14,\n        lineHeight: '18px',\n    } as const\n    const message = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 400,\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: 14,\n        lineHeight: '18px',\n        wordBreak: 'break-word',\n        '& > a': {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        '& :focus:not(:focus-visible)': {\n            outline: 0,\n        },\n    } as const\n    const defaultVariant = {\n        background: theme.palette.maskColor.bottom,\n        color: theme.palette.maskColor.main,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n\n        [`& .${classNames.message}`]: {\n            color: 'inherit',\n        },\n    }\n    const success = {\n        backgroundColor: theme.palette.maskColor.success,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.success, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const error = {\n        background: theme.palette.maskColor.danger,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.danger, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const info = {\n        background: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    }\n\n    const warning = {\n        backgroundColor: theme.palette.maskColor.warn,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.warn, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    return {\n        root: {\n            zIndex: 9999,\n            transform: typeof offsetY !== 'undefined' ? `translateY(${offsetY}px)` : 'none',\n            color: MaskColorVar.textLight,\n            pointerEvents: 'inherit',\n        },\n        content: {\n            alignItems: 'center',\n            padding: theme.spacing(2),\n            borderRadius: 12,\n            width: 380,\n            flexWrap: 'nowrap !important' as 'nowrap',\n        },\n        // eslint-disable-next-line tss-unused-classes/unused-classes\n        default: defaultVariant,\n        success,\n        error,\n        info,\n        warning,\n        icon: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '& > svg': {\n                width: 24,\n                height: 24,\n            },\n        },\n        spinning: {\n            display: 'flex',\n            animation: `${spinningAnimationKeyFrames} 2s infinite linear`,\n        },\n        action: {\n            marginLeft: 'auto',\n        },\n        closeButton: {\n            color: 'inherit',\n            transform: 'translateY(-10px)',\n        },\n        texts: {\n            marginLeft: theme.spacing(1.5),\n            '& :focus:not(:focus-visible)': {\n                outline: 0,\n            },\n        },\n        title,\n        message,\n    }\n})\n\nexport interface CustomSnackbarContentProps {\n    id: SnackbarKey\n    title: SnackbarMessage\n    message?: string | React.ReactNode\n    icon?: React.ReactNode\n    processing?: boolean\n    variant?: VariantType\n    action?: SnackbarAction\n    offsetY?: number\n    classes?: Partial<ReturnType<typeof useStyles>['classes']>\n}\nconst IconMap: Record<VariantType, React.ReactNode> = {\n    default: <InfoIcon color=\"inherit\" />,\n    success: <Icons.SuccessForSnackBar />,\n    error: <Icons.TransactionFailed />,\n    warning: <WarningIcon color=\"inherit\" />,\n    info: <InfoIcon color=\"inherit\" />,\n}\n\nexport const CustomSnackbarContent = forwardRef<HTMLDivElement, CustomSnackbarContentProps>((props, ref) => {\n    const { classes, cx } = useStyles({ offsetY: props.offsetY }, { props })\n    const snackbar = useSnackbar()\n    const loadingIcon = <Icons.CircleLoading className={classes.spinning} />\n    const variantIcon = props.processing ? loadingIcon : props.variant ? IconMap[props.variant] : null\n    let renderedAction: React.ReactNode = (\n        <IconButton className={classes.closeButton} onClick={() => snackbar.closeSnackbar(props.id)}>\n            <CloseIcon />\n        </IconButton>\n    )\n    if (props.action) {\n        renderedAction = typeof props.action === 'function' ? props.action(props.id) : props.action\n    }\n    return (\n        <SnackbarContent ref={ref} className={cx(classes.content, classes[props.variant!])}>\n            {variantIcon ? <div className={classes.icon}>{variantIcon}</div> : null}\n            <div className={classes.texts}>\n                <Typography className={classes.title} variant=\"h2\">\n                    {props.title}\n                </Typography>\n                {props.message ? (\n                    <Typography className={classes.message} variant=\"body1\">\n                        {props.message}\n                    </Typography>\n                ) : null}\n            </div>\n            <div className={classes.action}>{renderedAction}</div>\n        </SnackbarContent>\n    )\n})\n\nexport const CustomSnackbarProvider = memo<\n    SnackbarProviderProps & {\n        offsetY?: number\n    }\n>(function CustomSnackbarProvider({ offsetY, ...rest }) {\n    const ref = useRef<SnackbarProvider>(null)\n    const { classes } = useStyles({ offsetY })\n    const onDismiss = (key: string | number) => () => {\n        ref.current?.closeSnackbar(key)\n    }\n\n    return usePortalShadowRoot((container) => (\n        <SnackbarProvider\n            ref={ref}\n            maxSnack={30}\n            disableWindowBlurListener\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            hideIconVariant\n            // this is a false positive, SnackbarProvider won't use it like it is a component.\n            // eslint-disable-next-line react/no-unstable-nested-components\n            content={(key, title) => (\n                <CustomSnackbarContent id={key} variant={rest.variant ?? 'default'} title={title} offsetY={offsetY} />\n            )}\n            // eslint-disable-next-line react/no-unstable-nested-components\n            action={(key) => (\n                <IconButton size=\"large\" onClick={onDismiss(key)} sx={{ color: 'inherit' }}>\n                    <CloseIcon color=\"inherit\" />\n                </IconButton>\n            )}\n            classes={{\n                containerRoot: classes.root,\n                variantSuccess: classes.success,\n                variantError: classes.error,\n                variantInfo: classes.info,\n                variantWarning: classes.warning,\n            }}\n            domRoot={container}\n            {...rest}\n        />\n    ))\n})\n\nexport interface ShowSnackbarOptions\n    extends OptionsObject,\n        Pick<CustomSnackbarContentProps, 'message' | 'processing' | 'icon' | 'classes'> {}\n\nexport function useCustomSnackbar() {\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n    const showSnackbar = useCallback(\n        (\n            text: SnackbarMessage,\n            options: ShowSnackbarOptions = {\n                variant: 'default',\n            },\n        ) => {\n            const { processing, message, variant, ...rest } = options\n            return enqueueSnackbar(text, {\n                variant: options.variant,\n                content: (key, title) => {\n                    return (\n                        <CustomSnackbarContent\n                            variant={variant ?? 'default'}\n                            id={key}\n                            title={title}\n                            message={message}\n                            processing={processing}\n                            action={rest.action}\n                            classes={rest.classes}\n                        />\n                    )\n                },\n                ...rest,\n            })\n        },\n        [enqueueSnackbar],\n    )\n\n    return { showSnackbar, closeSnackbar }\n}\n","import { type ForwardedRef, forwardRef } from 'react'\nimport { omit } from 'lodash-es'\nimport type { BoxProps } from '@mui/system'\nimport {\n    Box,\n    formHelperTextClasses,\n    TextField,\n    type StandardTextFieldProps,\n    type InputProps,\n    Typography,\n    InputBase,\n    inputBaseClasses,\n    alpha,\n} from '@mui/material'\nimport { Sniffings } from '@masknet/shared-base'\nimport { makeStyles } from '../../UIHelper/makeStyles.js'\nimport { MaskColorVar, getMaskColor } from '../../CSSVariables/vars.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    label: {\n        fontSize: 12,\n        lineHeight: '16px',\n        fontWeight: 'bolder',\n    },\n    required: {\n        fontSize: 12,\n        lineHeight: '16px',\n        fontWeight: 'bolder',\n        color: getMaskColor(theme).redMain,\n        paddingLeft: theme.spacing(0.5),\n    },\n    field: {\n        width: '100%',\n        [`& > .${formHelperTextClasses.root}`]: {\n            paddingTop: theme.spacing(1),\n            borderRadius: '2px',\n            fontSize: 14,\n            lineHeight: '16px',\n        },\n        '& input[type=number]': {\n            MozAppearance: 'textfield',\n            WebkitAppearance: 'none',\n        },\n        '& input[type=number]::-webkit-outer-spin-button': {\n            WebkitAppearance: 'none',\n        },\n        '& input[type=number]::-webkit-inner-spin-button': {\n            WebkitAppearance: 'none',\n        },\n        '& input::-webkit-input-placeholder': {\n            color: theme.palette.maskColor.third,\n        },\n        [`&.${inputBaseClasses.focused}`]: {\n            background: 'transparent',\n        },\n    },\n    input: {\n        padding: theme.spacing(1),\n        background: theme.palette.maskColor.input,\n        fontSize: 13,\n        lineHeight: '16px',\n        borderRadius: 6,\n        border: '1px solid transparent',\n        [`&.${formHelperTextClasses.error}`]: {\n            boxShadow: `0 0 0 ${theme.spacing(0.5)} ${MaskColorVar.redMain.alpha(0.2)}`,\n            borderColor: MaskColorVar.redMain.alpha(0.8),\n        },\n        [`&.${formHelperTextClasses.focused}`]: {\n            borderColor: Sniffings.is_dashboard_page ? alpha(theme.palette.maskColor.primary, 0.5) : 'transparent',\n        },\n    },\n    inputDisabled: {\n        opacity: 0.5,\n        color: 'rgba(255, 255, 255, 0.4)',\n    },\n    inputFocused: {\n        background: 'transparent',\n        ...(Sniffings.is_dashboard_page\n            ? {\n                  outline: `2px solid ${alpha(theme.palette.maskColor.primary, 0.2)}`,\n                  borderColor: alpha(theme.palette.maskColor.primary, 0.5),\n              }\n            : { boxShadow: `0 0 0 2px ${theme.palette.mode === 'dark' ? '#4F5378' : 'rgba(28, 104, 243, 0.2)'}` }),\n    },\n}))\n\nexport interface MaskTextFieldProps extends Exclude<StandardTextFieldProps, 'variant'> {\n    wrapperProps?: BoxProps\n}\n\nexport const MaskTextField = forwardRef((props: MaskTextFieldProps, ref: ForwardedRef<any>) => {\n    const { label, sx, required = false, className, wrapperProps, helperText, ...rest } = props\n    const InputProps = (props.InputProps as InputProps) ?? {}\n    const { classes, cx } = useStyles()\n    return (\n        <Box sx={sx} {...wrapperProps}>\n            {label && typeof label === 'string' ? (\n                <Typography sx={{ mb: 1 }} variant=\"body2\" className={classes.label}>\n                    {label}\n                    {required ? (\n                        <Typography className={classes.required} component=\"span\">\n                            *\n                        </Typography>\n                    ) : null}\n                </Typography>\n            ) : null}\n            {label && typeof label !== 'string' ? label : null}\n            {Sniffings.is_dashboard_page ? (\n                <TextField\n                    ref={ref}\n                    {...rest}\n                    classes={{ root: classes.field }}\n                    variant=\"standard\"\n                    required={required}\n                    helperText={helperText}\n                    InputProps={{\n                        disableUnderline: true,\n                        classes: {\n                            disabled: classes.inputDisabled,\n                            focused: classes.inputFocused,\n                            ...InputProps.classes,\n                        },\n                        ...InputProps,\n                        className: cx(classes.input, InputProps?.className),\n                    }}\n                />\n            ) : (\n                <InputBase\n                    className={classes.field}\n                    {...omit(InputProps, 'disableUnderline')}\n                    {...omit(rest, 'margin', 'onKeyDown', 'onKeyUp', 'InputProps', 'inputProps', 'FormHelperTextProps')}\n                />\n            )}\n        </Box>\n    )\n})\n\nMaskTextField.displayName = 'MaskTextField'\n","import { Menu } from '@mui/material'\nimport { createShadowRootForwardedComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootMenu = createShadowRootForwardedComponent(Menu)\nShadowRootMenu.displayName = 'ShadowRootTooltip'\n","import type { TypedMessage } from '@masknet/typed-message'\nimport { type Result, Ok, Err, Some, type Option, None } from 'ts-results-es'\nimport type { ReactNode } from 'react'\nimport z_schema from 'z-schema'\nimport { produce, enableMapSet, type Draft } from 'immer'\n\nconst metadataSchemaStore = new Map<string, object>()\nexport function getKnownMetadataKeys() {\n    return [...metadataSchemaStore.keys()]\n}\n\nexport function getMetadataSchema(key: string): Option<object> {\n    return metadataSchemaStore.has(key) ? Some(metadataSchemaStore.get(key)!) : None\n}\n\n/**\n * Register your metadata with a JSON Schema so we can validate the schema for you.\n * @param key Metadata key\n * @param jsonSchema JSON Schema to validate the metadata\n */\nexport function registerMetadataSchema(key: string, jsonSchema: object) {\n    metadataSchemaStore.set(key, jsonSchema)\n}\n\n/**\n * Create a TypedMessage metadata reader for your plugin\n * @param key Metadata key\n * @param jsonSchema JSON Schema to validate the metadata\n * @example\n * export const getFilePluginMetadata = createTypedMessageMetadataReader('plugin.meta.key', schema)\n * getFilePluginMetadata(meta)\n */\nexport function createTypedMessageMetadataReader<T>(key: string, jsonSchema?: object) {\n    if (jsonSchema) registerMetadataSchema(key, jsonSchema)\n    return (meta: TypedMessage['meta']) => readTypedMessageMetadataUntyped<T>(meta, key)\n}\n\n/**\n * The raw parser of metadata reader\n * @param meta Metadata object\n * @param key Metadata key\n * @param jsonSchema JSON Schema to validate the metadata\n */\nexport function readTypedMessageMetadataUntyped<T>(\n    meta: TypedMessage['meta'],\n    key: string,\n    jsonSchema?: object,\n): Result<T, void> {\n    if (!meta) return Err.EMPTY\n    if (!meta.has(key)) return Err.EMPTY\n    if (metadataSchemaStore.has(key) && !jsonSchema) jsonSchema = metadataSchemaStore.get(key)!\n    const data = meta.get(key)! as T\n    if (!jsonSchema) console.warn('You should add a JSON Schema to verify the metadata in the TypedMessage')\n    else {\n        const match = isDataMatchJSONSchema(data, jsonSchema)\n        if (match.isErr()) {\n            console.warn('The problematic metadata is dropped', data, 'errors:', match.error)\n            return Err.EMPTY\n        }\n    }\n    return Ok(data)\n}\n\nexport function isDataMatchJSONSchema(data: any, jsonSchema: object) {\n    const validator = new z_schema({})\n    if (!validator.validate(data, jsonSchema)) return Err(validator.getLastErrors())\n    return Ok.EMPTY\n}\n\n/**\n * Create a render of Metadata.\n * @param metadataReader A metadata reader (can be return value of createTypedMessageMetadataReader)\n */\nexport function createRenderWithMetadata<T>(metadataReader: (meta: TypedMessage['meta']) => Result<T, void>) {\n    return (metadata: TypedMessage['meta'], render: (data: T) => ReactNode | null): ReactNode | null => {\n        const message = metadataReader(metadata)\n        if (message.isOk()) return render(message.value)\n        return null\n    }\n}\n\nlet immer_setup = false\nexport function editTypedMessageMeta<T extends TypedMessage>(\n    typedMessage: T,\n    edit: (meta: NonNullable<Draft<TypedMessage['meta']>>) => void,\n): T {\n    if (!immer_setup) {\n        enableMapSet()\n        immer_setup = true\n    }\n    return produce(typedMessage, (e) => {\n        if (!e.meta) e.meta = new Map()\n        edit(e.meta)\n        if (e.meta.size === 0) e.meta = undefined\n    })\n}\n\n/**\n * Render with metadata\n * @param metadata Metadata\n * @param key Metadata key\n * @param render The render\n * @param jsonSchema JSON Schema to validate the metadata\n */\nexport function renderWithMetadataUntyped(\n    metadata: TypedMessage['meta'],\n    key: string,\n    render: (data: unknown) => ReactNode,\n    jsonSchema?: object,\n): ReactNode | null {\n    const message = readTypedMessageMetadataUntyped(metadata, key, jsonSchema)\n    if (message.isOk()) return render(message.value)\n    return null\n}\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * @license React\n * use-subscription.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=require(\"use-sync-external-store/shim\");exports.useSubscription=function(a){return b.useSyncExternalStore(a.subscribe,a.getCurrentValue)};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-subscription.production.min.js');\n} else {\n  module.exports = require('./cjs/use-subscription.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n"],"names":["createContext","useEffect","useContext","noop","emptyPluginWrapperMethods","setWrap","setWrapperName","setWidth","PluginWrapperMethodsContext","displayName","usePluginWrapper","open","options","width","name","useTranslation","PluginTransFieldRender","pluginID","field","t","i18nKey","translate","ns","nsSeparator","defaultValue","fallback","usePluginTransField","startsWith","console","warn","CompositionContext","type","getMetadata","undefined","attachMetadata","dropMetadata","useCompositionContext","webpackHot","accept","WebExtensionMessage","serializer","DOMAIN_RPC","Symbol","getPluginMessage","domain","cache","has","get","messageCenter","events","serialization","set","__workaround__replaceImplementationOfCreatePluginMessage__","newImpl","Map","Environment","isEnvironment","AsyncCall","AsyncGeneratorCall","getOrUpdateLocalImplementationHMR","log","requestReplay","process","env","NODE_ENV","sendLocalStack","isBackground","ManifestBackground","__workaround__replaceIsBackground__","f","getPluginRPCInternal","starter","entry","message","rpc","Object","create","key","channel","on","send","sendToBackgroundPage","thenable","cacheGenerator","getPluginRPC","startPluginRPC","AbortController","signal","getPluginRPCGenerator","startPluginGeneratorRPC","startPluginRPCInternal","impl","Error","delegate","sendByBroadcast","createElement","useMemo","Trans","createProxy","initValue","define","value","defineProperty","container","configurable","__proto__","Proxy","_","getPrototypeOf","setPrototypeOf","v","getOwnPropertyDescriptor","useFileServiceTrans","bind","createComponent","props","shouldUnescape","FileServiceTrans","Typography","Icons","makeStyles","useStyles","theme","chip","display","alignItems","cursor","SingleFileChip","size","onClick","rest","classes","className","compositionType","FileService","file_chip_single","MultipleFileChip","count","cx","component","file_chip_multiple","toString","memo","useRef","useState","ShadowRootTooltip","useBoundedPopperProps","file","backgroundColor","palette","maskColor","bottom","borderRadius","padding","spacing","overflow","background","mode","bg","content","flexGrow","marginRight","marginLeft","color","main","fontWeight","lineHeight","textOverflow","whiteSpace","FileFrame","children","fileName","operations","rootRef","nameRef","showTooltip","setShowTooltip","root","current","check","offsetWidth","scrollWidth","addEventListener","removeEventListener","tooltipPopperProps","div","ref","Message","title","disableInteractive","arrow","PopperProps","formatFileSize","LinearProgress","linearProgressClasses","desc","second","fontSize","marginTop","progressBar","height","colorPrimary","thirdMain","bar","success","UploadingFile","progress","variant","ShadowRootMenu","MenuItem","meta","third","metaValue","operationButton","menuButton","menuLabel","menu","minWidth","boxShadow","row","rightGap","bottomGap","marginBottom","ManageableFile","onDownload","onRename","onDelete","onSend","menuRef","menuOpen","setMenuOpen","Send","More","paper","anchorEl","anchorOrigin","horizontal","vertical","transformOrigin","disableScrollLock","disablePortal","onClose","download","rename","danger","delete","file_key","components","values","Checkbox","SelectableFile","selected","onChange","disabled","checked","icon","CheckboxBlank","checkedIcon","primary","event","id","currentTarget","Button","white","DisplayingFile","onSave","Dump","Download2","PluginID","PluginFileServiceRPC","PluginFileServiceRPCGenerator","omit","useCallback","useAsyncRetry","useNavigate","ApplicationBoardModal","CrossIsolationMessages","EMPTY_LIST","META_KEY_3","RoutePaths","digest","makeFileKey","FileManagementContext","files","recentFiles","refetchFiles","uploadingFiles","uploadStateMap","setUploadProgress","setUploadingFiles","uploadFile","attachToPost","openCompositionWithFiles","compositionDialogEvent","sendToLocal","reason","initialMetas","FileManagementProvider","retry","getAllFiles","navigate","setUploadStateMap","map","provider","useCDN","encrypted","buffer","Uint8Array","arrayBuffer","createdAt","Date","now","removeUnloadingFile","filter","x","payloadTxID","makeAttachment","block","upload","landingTxID","uploadLandingPage","txId","fileInfo","setFileInfo","Array","isArray","close","Exit","slice","contextValue","Provider","useFileManagement","SingletonModal","ConfirmModal","RenameModal","List","ListItem","Boundary","useCustomSnackbar","userSelect","flexDirection","list","paddingTop","listRoot","listItem","margin","opacity","FileList","onLoadMore","showSnackbar","deleteFile","delete_file_title","context","delete_file_message","err","handleDelete","confirmed","openAndWaitForClose","delete_file","delete_message","description","delete_description","confirmLabel","handleRename","currentName","rename_validation","renameFile","section","FILE_LIMIT","SelectableFileList","selectedIds","selectedIdsRef","filesRef","onChangeRef","handleChange","fileId","oldIds","newIds","includes","length","DisplayingFileList","Paper","downloadFile","boxSizing","FileViewer","handleSave","save_file_title","save_file_message","elevation","useSubscription","so","setupStorage","useTermsConfirmed","storage","termsConfirmed","subscription","setConfirmed","newValue","setValue","Emitter","emitter","openBrowser","emit","selectMode","openPicker","selectedFiles","InjectedDialog","useLayoutEffect","matchPath","useLocation","RouterDialog","pathname","UploadFile","upload_file","__display_name","Terms","getEnumAsArray","MaskTextField","TabsUnstyled","TabUnstyled","tabUnstyledClasses","styled","useSearchParams","Tabs","gap","Tab","paddingLeft","paddingRight","border","header","flexShrink","tabs","justifyContent","searchInput","button","paddingBottom","emptyBox","emptyMessage","fileList","actions","ProviderTabs","All","IPFS","Arweave","TabToProviderMap","providers","FilePicker","params","idsQuery","ids","split","Boolean","FileBrowser","selectedFileIds","tab","setTab","searching","setSearching","input","setInput","keyword","setKeyword","visibleFiles","kw","toLowerCase","setSelectedFileIds","renderList","wrapperProps","placeholder","autoFocus","fullWidth","InputProps","style","inputProps","startAdornment","Search","endAdornment","Close","onKeyDown","code","onBlur","cancel","newTab","aria-label","Upload","EmptySimple","empty","no_uploaded_files","confirm","alpha","useDropArea","useSharedTrans","dropArea","position","textAlign","whiteBlue","dragOver","borderColor","uploadIcon","tips","limit","or","UploadDropArea","maxFileSize","Number","POSITIVE_INFINITY","omitSizeLimit","onSelectFile","handleFiles","showMessage","handleFilesRef","selectFile","document","hidden","onInput","body","removeChild","click","append","bond","over","onFiles","onText","onUri","upload_error","upload_file_title","upload_file_message","upload_drag_n_drop","upload_size_limit","upload_or","upload_browse_files","FormControlLabel","Radio","MAX_FILE_SIZE","uploadArea","control","label","heading","text","setEncrypted","setUseCDN","setProvider","provider_arweave","provider_ipfs","cdnButton","target","use_cdn","config","RadioButtonUnChecked","RadioButtonChecked","on_encrypt_it","uploaded_files","upload_tips","Link","terms","introduction","footNote","link","cancelButton","confirmButton","TERMS_URL","POLICY_URL","what_is_web3_file_service","multiple","br","foot_note","href","policy","Navigate","Route","Routes","FileRoutes","path","Browser","element","FileSelector","replace","to","DialogContent","MemoryRouter","urlcat","maxWidth","backgroundImage","breakpoints","down","FileServiceDialog","initialEntries","OpenEntry","search","join","initialIndex","independent","FileServiceInjection","setOpen","setSelectedFiles","setCompositionType","setSelectMode","unsubscribe","minHeight","wordBreak","closeButton","top","right","ConfirmDialog","onSubmit","forwardRef","useSingletonModal","props_","setProps_","dispatch","onOpen","InputBase","inputBox","RenameDialog","setName","isDirty","isValid","modals","Modals","register","truncate","ApplicationEntry","MaskLightTheme","ThemeProvider","base","META_KEY_1","META_KEY_2","getFileInfoMetadata","Telemetry","EventID","EventType","clickHandler","definition","init","createKVStorage","DecryptedInspector","metadata","isOk","CompositionDialogMetadataBadgeRender","onAttachedFile","onAttachedMultipleFile","GlobalInjection","CompositionDialogEntry","payload","ApplicationEntries","iconFilterColor","ApplicationEntryID","ID","RenderEntryComponent","EntryComponentProps","captureEvent","Access","EntryAppFileOpen","appBoardSortingDefaultPriority","marketListSortingPriority","category","tutorialLink","backgroundGradient","tooltip","role","isNil","isAfter","encodeArrayBuffer","encodeText","createLookupTableResolver","openWindow","createTypedMessageMetadataReader","RECOVERY_PAGE","schemaV1","schemaV2","schemaV3","reader_v1","reader_v2","reader_v3","v3","v2","info","migrateFileInfoV1","makeFileKeySigned","fileKey","encodedKey","crypto","subtle","generateKey","hash","exportedKey","exportKey","signed","sign","resolveGatewayAPI","table","i","charAt","Math","floor","random","gateway","url","encodeURIComponent","digestFile","hashBuffer","hashHex","from","b","padStart","digestMessage","TextEncoder","encode","extraData","fileDigest","dataDigest","JSON","stringify","features","flags","entries","behaviors","push","opener","referrer","isFinite","screenX","screenY","window","useImperativeHandle","dispatchRef","optionsRef","openRef","creator","dispatchOpen","dispatchClose","dispatchAbort","peek","abort","error","onAbort","defer","delay","constructor","dispatchPeek","Promise","resolve","reject","SingletonModalQueued","opened","tasks","cleanup","d","shift","WeakMap","result","localImpl","WalletConnectQRCodeModal","SelectProviderModal","WalletStatusModal","WalletRiskWarningModal","ConnectWalletModal","LeavePageConfirmModal","ApplicationBoardSettingsModal","GasSettingModal","TransactionConfirmModal","TransactionSnackbar","SelectNonFungibleContractModal","SelectGasSettingsModal","AddCollectiblesModal","SelectFungibleTokenModal","PersonaSelectPanelModal","ShareSelectNetworkModal","ApplicationSettingTabs","LightColor","primaryContrastText","secondary","secondaryContrastText","primaryBackground","primaryBackground2","secondaryBackground","lightBackground","mainBackground","suspensionBackground","normalBackground","twitterBackground","twitterBackgroundHover","twitterInputBackground","twitterButton","twitterButtonText","twitterBlue","twitterBorderLine","twitterSecond","twitterMain","twitterBottom","twitterInfoBackground","twitterInfo","twitterBg","twitterTooltipBg","twitterInput","twitterLine","redMain","redLight","redContrastText","greenMain","greenLight","orangeMain","orangeLight","iconLight","divider","borderSecondary","textPrimary","textSecondary","secondaryInfoText","normalText","normalTextLight","infoBackground","warning","blue","textLink","lineLight","lineLighter","textLight","lightestBackground","linkText","twitter","facebook","errorBackground","tooltipBackground","warningBackground","cyberconnectPrimary","errorPlugin","buttonPluginBackground","textPluginColor","buttonPluginColor","DarkColor","kebabCase","getMaskColor","cssVar","assign","toPrimitive","MaskColorVar","enumerable","p","keyframes","SnackbarProvider","useSnackbar","SnackbarContent","IconButton","CloseIcon","Warning","WarningIcon","Info","InfoIcon","usePortalShadowRoot","PopupSnackbarProvider","usePopupCustomSnackbar","offsetY","classNames","spinningAnimationKeyFrames","outline","defaultVariant","backdropFilter","zIndex","transform","pointerEvents","flexWrap","default","spinning","animation","action","texts","IconMap","SuccessForSnackBar","TransactionFailed","CustomSnackbarContent","snackbar","loadingIcon","CircleLoading","variantIcon","processing","renderedAction","closeSnackbar","CustomSnackbarProvider","onDismiss","maxSnack","disableWindowBlurListener","hideIconVariant","sx","containerRoot","variantSuccess","variantError","variantInfo","variantWarning","domRoot","enqueueSnackbar","Box","formHelperTextClasses","TextField","inputBaseClasses","Sniffings","required","MozAppearance","WebkitAppearance","focused","is_dashboard_page","inputDisabled","inputFocused","helperText","mb","disableUnderline","Menu","createShadowRootForwardedComponent","Ok","Err","Some","None","z_schema","produce","enableMapSet","metadataSchemaStore","getKnownMetadataKeys","keys","getMetadataSchema","registerMetadataSchema","jsonSchema","readTypedMessageMetadataUntyped","EMPTY","data","match","isDataMatchJSONSchema","isErr","validator","validate","getLastErrors","createRenderWithMetadata","metadataReader","render","immer_setup","editTypedMessageMeta","typedMessage","edit","e","renderWithMetadataUntyped"],"sourceRoot":"","x_google_ignoreList":[42,43,48,49,50,51,52,53]}