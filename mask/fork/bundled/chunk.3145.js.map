{"version":3,"file":"bundled/chunk.3145.js","mappings":"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BAAoB,EAAE5N,OAAuB;IACjH,MAAM,EAAEpZ,QAAQ,EAAE,GAAG+lB,2EAAiBA,CAACiB;IACvC,OAAO/lB,8CAAOA,CAAC,IAAMy1B,qEAAMA,CAACC,GAAG,CAAC32B,UAAUoZ,UAAoB;QAACpZ;QAAU42B,KAAKC,SAAS,CAACzd;KAAS;AACrG;;;;;;;;;;;;;;;ACT+B;AACI;AACK;AACQ;;AAEhD;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,IAAI;AACJ;AACA,sBAAsB,sDAAI,CAAC,4DAAM;AACjC;AACA,GAAG;AACH;AACA,MAAqC,GAAG,CAGvC,CAAC;;;;;;;;ACtBW;;AAEb,sBAAsB,mBAAO,CAAC,KAAkB;;AAEhD;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,IAAI;;AAE/C;AACA;AACA,4BAA4B,UAAU;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;AAC+B;;AAE/B,wCAAwC,gDAAmB;AAC3D,6BAA6B,6CAAgB;AAC7C;;AAE+C;AAC/C;;;;;;;;;;;;;;;ACRA;AAC6E;AAC3B;;AAElD;AACA,kBAAkB,8EAAc;AAChC,SAAS,wEAAY,UAAU,gFAAqB;AACpD;;AAE4B;AAC5B","sources":["webpack://mask-network/./packages/plugin-infra/src/site-adaptor/context.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/useCurrentVisitingIdentity.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/useLastRecognizedIdentity.ts","webpack://mask-network/./packages/plugin-infra/src/utils/message.ts","webpack://mask-network/./packages/plugins/Pets/src/messages.ts","webpack://mask-network/./packages/plugins/Pets/src/hooks/useUser.ts","webpack://mask-network/./packages/plugins/Pets/src/locales/i18n_generated.ts","webpack://mask-network/./packages/plugins/Pets/src/hooks/useEssay.ts","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/ImageLoader.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/ModelView.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/PreviewBox.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/Drag.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/NormalNFT.tsx","webpack://mask-network/./packages/plugins/Pets/src/settings.ts","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/Animate.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/PetShareDialog.tsx","webpack://mask-network/./packages/plugins/Pets/src/hooks/useNfts.ts","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/PetSetDialog.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/PetDialog.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/PetsGlobalInjection.tsx","webpack://mask-network/./packages/plugins/Pets/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/shared-base-ui/src/hooks/useRemoteControlledDialog.ts","webpack://mask-network/./packages/shared-base/src/SingletonModal/index.ts","webpack://mask-network/./packages/shared/src/UI/components/CopyButton/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/Image/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ImageIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/Action.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/PluginWalletStatusBar.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/WalletDescription.tsx","webpack://mask-network/./packages/shared/src/UI/modals/modals.ts","webpack://mask-network/./packages/theme/src/CSSVariables/constants.ts","webpack://mask-network/./packages/theme/src/CSSVariables/vars.ts","webpack://mask-network/./packages/theme/src/Components/ActionButton/index.tsx","webpack://mask-network/./packages/theme/src/Components/LoadingBase/index.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Info.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Warning.js","webpack://mask-network/./packages/theme/src/Components/Snackbar/index.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootPopper.ts","webpack://mask-network/./packages/web3-hooks/base/src/useBlockedNonFungibleTokens.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptors.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNonFungibleAssets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useProviderDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useRecentTransactions.ts","webpack://mask-network/./packages/web3-hooks/base/src/useReverseAddress.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallet.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Hub.ts","webpack://mask-network/./node_modules/.pnpm/@mui+styled-engine@5.10.8_@emotion+react@11.11.1_@emotion+styled@11.11.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/styled-engine/GlobalStyles/GlobalStyles.js","webpack://mask-network/./node_modules/.pnpm/copy-to-clipboard@3.3.1/node_modules/copy-to-clipboard/index.js","webpack://mask-network/./node_modules/.pnpm/toggle-selection@1.0.6/node_modules/toggle-selection/index.js","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/isRestoring.mjs","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs"],"sourcesContent":["// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { NextIDPlatform, PersonaIdentifier, PostIdentifier } from '@masknet/shared-base'\n\nexport interface __SiteAdaptorContext__ {\n    lastRecognizedProfile: Subscription<IdentityResolved | undefined>\n    currentVisitingProfile: Subscription<IdentityResolved | undefined>\n    currentNextIDPlatform: NextIDPlatform | undefined\n    currentPersonaIdentifier: Subscription<PersonaIdentifier | undefined>\n    getPostURL: (identifier: PostIdentifier) => URL | null\n    share: undefined | ((text: string) => void)\n    getUserIdentity: ((useId: string) => Promise<IdentityResolved | undefined>) | undefined\n    getPostIdFromNewPostToast: (() => string) | undefined\n    postMessage: ((text: string, options?: any) => Promise<void>) | undefined\n    getSearchedKeyword: (() => string) | undefined\n    connectPersona: () => Promise<void>\n}\nexport let lastRecognizedProfile: __SiteAdaptorContext__['lastRecognizedProfile']\nexport let currentVisitingProfile: __SiteAdaptorContext__['currentVisitingProfile']\nexport let currentNextIDPlatform: NextIDPlatform | undefined\nexport let currentPersonaIdentifier: __SiteAdaptorContext__['currentPersonaIdentifier']\nexport let getPostURL: __SiteAdaptorContext__['getPostURL']\nexport let share: __SiteAdaptorContext__['share']\nexport let getUserIdentity: __SiteAdaptorContext__['getUserIdentity']\nexport let getPostIdFromNewPostToast: __SiteAdaptorContext__['getPostIdFromNewPostToast']\nexport let postMessage: __SiteAdaptorContext__['postMessage']\nexport let getSearchedKeyword: __SiteAdaptorContext__['getSearchedKeyword']\nexport let connectPersona: __SiteAdaptorContext__['connectPersona']\nexport function __setSiteAdaptorContext__(value: __SiteAdaptorContext__) {\n    ;({\n        lastRecognizedProfile,\n        currentVisitingProfile,\n        currentNextIDPlatform,\n        currentPersonaIdentifier,\n        getPostURL,\n        share,\n        getUserIdentity,\n        getPostIdFromNewPostToast,\n        postMessage,\n        getSearchedKeyword,\n        connectPersona,\n    } = value)\n}\n","import { useSubscription } from 'use-subscription'\nimport { currentVisitingProfile } from './context.js'\n\nexport function useCurrentVisitingIdentity() {\n    return useSubscription(currentVisitingProfile)\n}\n","import { useSubscription } from 'use-subscription'\nimport { UNDEFINED } from '@masknet/shared-base'\nimport { lastRecognizedProfile } from './context.js'\n\nexport function useLastRecognizedIdentity() {\n    return useSubscription(lastRecognizedProfile ?? UNDEFINED)\n}\n","import { WebExtensionMessage } from '@dimensiondev/holoflows-kit'\nimport type { PluginMessageEmitterItem } from '@masknet/plugin-infra'\nimport { serializer } from '@masknet/shared-base'\n\n/** @internal */\nexport const DOMAIN_RPC = Symbol('create RPC instead of normal message')\n/**\n * Create a plugin message emitter\n * @param pluginID The plugin ID\n *\n * @example\n * export const MyPluginMessage = getPluginMessage(PLUGIN_ID)\n */\nexport let getPluginMessage = <T>(pluginID: string, type?: typeof DOMAIN_RPC): PluginMessageEmitter<T> => {\n    const domain = (type === DOMAIN_RPC ? '@plugin-rpc/' : '@plugin/') + pluginID\n    if (cache.has(domain)) return cache.get(domain) as any\n\n    const messageCenter = new WebExtensionMessage<T>({ domain })\n    const events = messageCenter.events\n    messageCenter.serialization = serializer\n    cache.set(domain, events)\n    return events\n}\n\nexport function __workaround__replaceImplementationOfCreatePluginMessage__(\n    newImpl: (pluginID: string) => PluginMessageEmitter<any>,\n) {\n    getPluginMessage = newImpl\n}\nexport type PluginMessageEmitter<T> = { readonly [key in keyof T]: PluginMessageEmitterItem<T[key]> }\nconst cache = new Map<string, PluginMessageEmitter<unknown>>()\n\n// TODO: this type should be defined here, not shared-base\nexport type { PluginMessageEmitterItem } from '@masknet/shared-base'\n","import { getPluginMessage, type PluginMessageEmitter } from '@masknet/plugin-infra'\nimport { PetsPluginID } from './constants.js'\nimport type { PetsDialogEvent } from './types.js'\ninterface PetMessage {\n    /**\n     * Pets essay set dialog\n     */\n    essayDialogUpdated: PetsDialogEvent\n    setResult: number\n}\n\nimport.meta.webpackHot?.accept()\nexport const PluginPetMessages: PluginMessageEmitter<PetMessage> = getPluginMessage<PetMessage>(PetsPluginID)\n","import { useMemo } from 'react'\nimport { useAsync } from 'react-use'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport { Web3Storage } from '@masknet/web3-providers'\nimport { PetsPluginID } from '../constants.js'\nimport { useCurrentVisitingIdentity, useLastRecognizedIdentity } from '@masknet/plugin-infra/content-script'\n\nexport function useUser() {\n    const { account } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const whoAmI = useLastRecognizedIdentity()\n\n    return useMemo(() => {\n        if (!account || !whoAmI?.identifier || whoAmI.identifier?.userId === '$unknown') return\n        return {\n            userId: whoAmI.identifier.userId,\n            address: account,\n        }\n    }, [account, whoAmI])\n}\n\nconst DEFAULT_USER = { userId: '', address: '' }\n\nexport function useCurrentVisitingUser(flag?: number) {\n    const identity = useCurrentVisitingIdentity()\n    const { value: user = DEFAULT_USER } = useAsync(async () => {\n        const userId = location.href?.endsWith(identity?.identifier?.userId ?? '')\n            ? identity?.identifier?.userId ?? ''\n            : ''\n        try {\n            if (!userId || userId === '$unknown') return DEFAULT_USER\n            const storage = Web3Storage.createKVStorage(PetsPluginID)\n            const address = (await storage.get<string>(userId)) ?? ''\n            return {\n                userId,\n                address,\n            }\n        } catch {\n            return {\n                userId,\n                address: '',\n            }\n        }\n    }, [identity, flag, location.href])\n    return user\n}\n","// @ts-nocheck\n/* eslint-disable */\nimport { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nfunction createProxy(initValue: (key: string) => any) {\n    function define(key: string) {\n        const value = initValue(key);\n        Object.defineProperty(container, key, { value, configurable: true });\n        return value;\n    }\n    const container = {\n        __proto__: new Proxy({ __proto__: null }, {\n            get(_, key) {\n                if (typeof key === \"symbol\")\n                    return undefined;\n                return define(key);\n            }\n        })\n    };\n    return new Proxy(container, {\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, key) => {\n            if (typeof key === \"symbol\")\n                return undefined;\n            if (!(key in container))\n                define(key);\n            return Object.getOwnPropertyDescriptor(container, key);\n        }\n    });\n}\nexport function usePetsTrans(): {\n    /**\n      * `Non-Fungible Friends`\n      */\n    pets_dialog_title(): string;\n    /**\n      * `Successful`\n      */\n    pets_dialog_title_share(): string;\n    /**\n      * `NFT Contract`\n      */\n    pets_dialog_contract(): string;\n    /**\n      * `Token ID`\n      */\n    pets_dialog_token(): string;\n    /**\n      * `Greeting message`\n      */\n    pets_dialog_msg(): string;\n    /**\n      * `Optional, 100 characters max.`\n      */\n    pets_dialog_msg_optional(): string;\n    /**\n      * `Confirm`\n      */\n    pets_dialog_btn(): string;\n    /**\n      * `Share`\n      */\n    pets_dialog_btn_share(): string;\n    /**\n      * `Preview`\n      */\n    pets_dialog_preview(): string;\n    /**\n      * ` (unverified)`\n      */\n    pets_dialog_unverified(): string;\n    /**\n      * `Created by NonFFriend`\n      */\n    pets_dialog_created(): string;\n    /**\n      * `Powered by RSS3`\n      */\n    pets_dialog_powered(): string;\n    /**\n      * `Powered by`\n      */\n    pets_powered_by(): string;\n    /**\n      * `Your Non-Fungible Friend has been set up successfully.`\n      */\n    pets_dialog_success(): string;\n    /**\n      * `Setting failed, please try later`\n      */\n    pets_dialog_fail(): string;\n    /**\n      * `Show NFT friends on the profile page.`\n      */\n    pets_dialog_check_title(): string;\n    /**\n      * `Change`\n      */\n    pets_dialog_menu_change(): string;\n    /**\n      * `Ski`\n      */\n    pets_dialog_menu_ski(): string;\n    /**\n      * `About us`\n      */\n    pets_dialog_menu_about(): string;\n    /**\n      * `Non-F Friends`\n      */\n    plugin_pets_name(): string;\n    /**\n      * `Discover the infinite possibilities of #NFTs.`\n      */\n    plugin_pets_description(): string;\n    /**\n      * `I just set up NFT personal image with @realMaskNetwork chrome extension. Visit my profile to check it out. Install Mask Network extension from mask.io and set yours.\n    #mask_io #nonfungiblefriends\n     Setting steps: https://twitter.com/NonFFriend/status/1508791087149641731`\n      */\n    share_twitter(): string;\n    /**\n      * `Click the Mask icon in the sidebar and access the Non-F Friends app to configure your personalized desktop NFT pet.`\n      */\n    pet_setting_tooltip$default(): string;\n    /**\n      * `I'm CryptoPunk #6128! Voyagers, welcome to the uncharted waters of WEB3!`\n      */\n    pet_setting_tooltip$punk(): string;\n    /**\n      * - pet_setting_tooltip$default: `Click the Mask icon in the sidebar and access the Non-F Friends app to configure your personalized desktop NFT pet.`\n    \n      * - pet_setting_tooltip$punk: `I'm CryptoPunk #6128! Voyagers, welcome to the uncharted waters of WEB3!`\n      */\n    pet_setting_tooltip(options: {\n        readonly context: \"default\" | \"punk\";\n    }): string;\n} { const { t } = useTranslation(\"com.maskbook.pets\"); return useMemo(() => createProxy((key) => t.bind(null, key)), [t]); }\n","import { useMemo } from 'react'\nimport { useAsync } from 'react-use'\nimport { Web3Storage } from '@masknet/web3-providers'\nimport { ImageType } from '../types.js'\nimport type { User, ShowMeta, EssayRSSNode } from '../types.js'\nimport { MASK_TWITTER, PunkIcon, Punk3D } from '../constants.js'\nimport { useUser } from './useUser.js'\nimport { usePetsTrans } from '../locales/i18n_generated.js'\n\nexport function useEssay(user: User, refresh?: number) {\n    const { value } = useAsync(async () => {\n        if (!user.address) return null\n        const stringStorage = Web3Storage.createFireflyStorage('Pets', user.address)\n        let result: EssayRSSNode | undefined = await stringStorage.get<EssayRSSNode>('pet')\n        if (!result?.essay || result.essay.userId !== user.userId) {\n            const rss3Storage = Web3Storage.createRSS3Storage(user.address)\n            result = await rss3Storage.get<EssayRSSNode>('_pet')\n        }\n        return result?.essay.userId === user.userId ? result.essay : null\n    }, [user, refresh])\n\n    return value\n}\n\nexport function useDefaultEssay(user: User) {\n    const profileUser = useUser()\n    const t = usePetsTrans()\n    const essayMeta = useMemo<ShowMeta | undefined>(() => {\n        if (user?.userId || user?.userId !== '$unknown') {\n            const isProfile = user.userId === profileUser?.userId\n            const isMASK = user.userId === MASK_TWITTER\n            return {\n                image: isMASK ? Punk3D.url : isProfile ? PunkIcon : '',\n                word: t.pet_setting_tooltip({ context: isMASK ? 'punk' : 'default' }),\n                type: ImageType.NORMAL,\n                contract: '',\n                tokenId: '',\n                chainId: undefined,\n            }\n        } else {\n            return\n        }\n    }, [user, profileUser, t])\n    return essayMeta\n}\n","import { LoadingBase } from '@masknet/theme'\nimport { type ImgHTMLAttributes, useState, type SyntheticEvent } from 'react'\nimport { DefaultIcon } from '../constants.js'\n\nexport function ImageLoader(props: ImgHTMLAttributes<HTMLImageElement>) {\n    const [loaded, setLoaded] = useState(false)\n    const onErrorHandle = (event: SyntheticEvent<HTMLImageElement>) => {\n        event.currentTarget.src = DefaultIcon\n    }\n    return (\n        <>\n            <img\n                {...props}\n                onLoad={() => setLoaded(!!props.src)}\n                onError={onErrorHandle}\n                style={{ display: loaded || !props.src ? 'block' : 'none' }}\n            />\n            {!loaded && !!props.src ? <LoadingBase size={20} /> : null}\n        </>\n    )\n}\n","import type { HTMLProps } from 'react'\n\ninterface ModelViewProps extends HTMLProps<HTMLDivElement> {\n    source: string\n}\n\nfunction ModelView({ source, ...rest }: ModelViewProps) {\n    if (!source) return null\n\n    return (\n        <div {...rest}>\n            <iframe src={source} />\n        </div>\n    )\n}\n\nexport default ModelView\n","import { makeStyles } from '@masknet/theme'\nimport { Typography } from '@mui/material'\nimport { usePetsTrans } from '../locales/index.js'\nimport type { OwnerERC721TokenInfo } from '../types.js'\nimport { ImageLoader } from './ImageLoader.js'\nimport ModelView from './ModelView.js'\n\nexport const useStyles = makeStyles()((theme) => ({\n    box: {\n        position: 'relative',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: 'calc(100% - 16px)',\n        border: '1px dashed #bbb',\n        borderRadius: '4px',\n        marginTop: '16px',\n        boxSizing: 'border-box',\n        padding: '8px',\n        overflow: 'hidden',\n    },\n    msgBox: {\n        width: '80%',\n        backgroundColor: '#fff',\n        borderRadius: '12px',\n        boxShadow: '0 0 8px #ddd',\n        opacity: 1,\n        pointerEvents: 'none',\n        transition: 'all 200ms',\n        padding: '12px',\n        fontSize: '12px',\n        lineHeight: '16px',\n        color: '#222',\n        textAlign: 'center',\n        marginBottom: '12px',\n        '&::before': {\n            content: '\"\"',\n            width: '8px',\n            height: '8px',\n            backgroundColor: '#fff',\n            position: 'absolute',\n            bottom: '-4px',\n            left: '50%',\n            boxShadow: '3px 3px 6px #ccc',\n            transform: 'translateX(-50%) rotate(45deg)',\n        },\n\n        '@keyframes word-show': {\n            '0%': {\n                opacity: 0,\n                transform: 'scale3d(1, 1, 1)',\n            },\n            '30%': {\n                transform: 'scale3d(1.25, 0.75, 1)',\n            },\n            '40%': {\n                transform: 'scale3d(0.75, 1.25, 1)',\n            },\n            '50%': {\n                transform: 'scale3d(1.15, 0.85, 1)',\n            },\n            '65%': {\n                transform: 'scale3d(0.95, 1.05, 1)',\n            },\n            '75%': {\n                transform: 'scale3d(1.05, 0.95, 1)',\n            },\n            '100%': {\n                transform: 'scale3d(1, 1, 1)',\n            },\n        },\n    },\n    wordShow: {\n        animation: 'word-show 0.9s both;',\n        fontSize: '12px',\n        fontFamily: 'TwitterChirp',\n        lineHeight: '16px',\n        color: '#222',\n        textAlign: 'left',\n        overflowWrap: 'break-word',\n    },\n    image: {\n        borderRadius: '4px',\n        width: '100%',\n        opacity: 0,\n        transition: 'all 200ms',\n        '@keyframes image-show': {\n            '0%': {\n                opacity: 0,\n            },\n            '100%': {\n                opacity: '1',\n            },\n        },\n        animation: 'image-show 0.4s both;',\n    },\n    video: {\n        width: '100%',\n        height: '100%',\n        transition: 'all 200ms',\n    },\n    noData: {\n        paddingBottom: '-12px',\n        color: '#7b8192',\n        fontSize: '12px',\n        textAlign: 'center',\n    },\n    glbView: {\n        width: '100%',\n        height: 150,\n    },\n}))\n\ninterface Props {\n    message?: string\n    imageUrl?: string\n    mediaUrl?: string\n    tokenInfo?: OwnerERC721TokenInfo | null\n}\n\nexport function PreviewBox(props: Props) {\n    const { classes, cx } = useStyles()\n    const t = usePetsTrans()\n\n    const renderPreview = (mediaUrl: string, imageUrl: string) => {\n        if (/\\.(mp4|webm|ogg)/.test(mediaUrl ?? '')) {\n            return (\n                <video className={classes.video} autoPlay loop muted playsInline poster={imageUrl}>\n                    <source\n                        src={mediaUrl}\n                        type={`video/${mediaUrl.slice(Math.max(0, mediaUrl.lastIndexOf('.') + 1))}`}\n                    />\n                </video>\n            )\n        } else {\n            return <ImageLoader className={classes.image} src={imageUrl} />\n        }\n    }\n\n    return (\n        <div className={classes.box}>\n            {props.message ? (\n                <div\n                    className={cx({\n                        [classes.msgBox]: true,\n                        [classes.wordShow]: true,\n                    })}>\n                    {props.message}\n                </div>\n            ) : null}\n            {props.mediaUrl ? (\n                props.tokenInfo?.glbSupport ? (\n                    <div>\n                        <ModelView className={classes.glbView} source={props.mediaUrl} />\n                    </div>\n                ) : (\n                    renderPreview(props.mediaUrl, props.imageUrl ?? '')\n                )\n            ) : null}\n            {!(props.message || props.mediaUrl) && (\n                <div className={classes.noData}>\n                    <Typography color=\"textPrimary\">{t.pets_dialog_preview()}</Typography>\n                </div>\n            )}\n        </div>\n    )\n}\n","import { PureComponent, type PropsWithChildren, type MouseEvent as ReactMouseEvent, createRef } from 'react'\n\ninterface StateProps {\n    pos: {\n        x: number\n        y: number\n    }\n    dragging: boolean\n    rel: any\n}\n\nconst contentWidth = 150\nconst contentHeight = 150\nconst startPosition = {\n    x: 50,\n    y: 150,\n}\n\ninterface DraggableProps {\n    baseWidth?: number\n    baseHeight?: number\n    moveHandle?: (x: number, y: number) => void\n}\n\n// TODO: rewrite to function components\n// TODO: use library like react-dnd instead.\n// eslint-disable-next-line @masknet/jsx-no-class-component\nclass Draggable extends PureComponent<PropsWithChildren<DraggableProps>> {\n    ref = createRef<HTMLDivElement>()\n    mouseMoveFuc = this.onMouseMove.bind(this)\n    mouseUpFuc = this.onMouseUp.bind(this)\n\n    static defaultProps = {\n        transferMsg: (x: number, y: number) => {},\n    }\n\n    override state: StateProps = {\n        pos: {\n            x: startPosition.x,\n            y: startPosition.y,\n        },\n        dragging: false,\n        rel: null,\n    }\n\n    onMouseDown(e: MouseEvent | ReactMouseEvent) {\n        if (e.button !== 0) return\n        if (!this.ref?.current) return\n        const divDom = this.ref.current\n        const left = divDom.offsetLeft\n        const top = divDom.offsetTop\n        this.setState({\n            dragging: true,\n            rel: {\n                x: e.pageX - left,\n                y: e.pageY - top,\n            },\n        })\n        e.stopPropagation()\n        e.preventDefault()\n    }\n\n    onMouseUp(e: MouseEvent) {\n        this.setState({ dragging: false })\n        e.stopPropagation()\n        e.preventDefault()\n    }\n\n    onMouseMove(e: MouseEvent) {\n        if (!this.state.dragging) return\n        this.setState({\n            pos: {\n                x: window.innerWidth - (this.props.baseWidth || contentWidth) - (e.pageX - this.state.rel.x),\n                y: window.innerHeight - (this.props.baseHeight || contentHeight) - (e.pageY - this.state.rel.y),\n            },\n        })\n        if (this.props.moveHandle) {\n            this.props.moveHandle(this.state.pos.x, this.state.pos.y)\n        }\n        e.stopPropagation()\n        e.preventDefault()\n    }\n\n    override componentDidUpdate(_props: any, state: StateProps) {\n        if (this.state.dragging && !state.dragging) {\n            document.addEventListener('mousemove', this.mouseMoveFuc)\n            document.addEventListener('mouseup', this.mouseUpFuc)\n        } else if (!this.state.dragging && state.dragging) {\n            document.removeEventListener('mousemove', this.mouseMoveFuc)\n            document.removeEventListener('mouseup', this.mouseUpFuc)\n        }\n    }\n    override componentWillUnmount() {\n        document.removeEventListener('mousemove', this.mouseMoveFuc)\n        document.removeEventListener('mouseup', this.mouseUpFuc)\n    }\n    override render() {\n        return (\n            <div\n                ref={this.ref}\n                onMouseDown={this.onMouseDown.bind(this)}\n                style={{\n                    position: 'fixed',\n                    right: this.state.pos.x,\n                    bottom: this.state.pos.y,\n                    width: this.props.baseWidth || contentWidth,\n                    height: this.props.baseHeight || contentHeight,\n                }}>\n                {this.props.children || null}\n            </div>\n        )\n    }\n}\n\nexport default Draggable\n","import { useState } from 'react'\nimport { makeStyles } from '@masknet/theme'\nimport { Box } from '@mui/material'\nimport { useStyles as useBoxStyles } from './PreviewBox.js'\nimport Drag from './Drag.js'\nimport type { ShowMeta } from '../types.js'\nimport { CloseIcon } from '../constants.js'\nimport { Image } from '@masknet/shared'\n\nconst useStyles = makeStyles()(() => ({\n    imgContent: {\n        zIndex: 999,\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    imgBox: {\n        textAlign: 'center',\n        width: '80%',\n        height: '80%',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    close: {\n        width: 15,\n        height: 15,\n        cursor: 'pointer',\n        backgroundSize: 'contain',\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        zIndex: 99,\n    },\n    wordContent: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    wordBox: {\n        position: 'absolute',\n        maxWidth: 150,\n        bottom: 150,\n    },\n}))\n\ninterface NormalNFTProps {\n    start: boolean\n    infoShow: boolean\n    showMeta: ShowMeta | undefined\n    handleClose: () => void\n}\n\nfunction handleMenuShow(e: React.MouseEvent) {\n    e.preventDefault()\n}\nexport function NormalNFT(props: NormalNFTProps) {\n    const { start, infoShow, showMeta, handleClose } = props\n    const { classes, cx } = useStyles()\n    const { classes: boxClasses } = useBoxStyles()\n\n    const [, setPosition] = useState({ x: 50, y: 150 })\n    const moveHandle = (x: number, y: number) => {\n        setPosition({ x, y })\n    }\n\n    return (\n        <Drag moveHandle={moveHandle} baseWidth={150} baseHeight={150}>\n            {start && showMeta?.word ? (\n                <Box className={classes.wordContent}>\n                    <Box\n                        className={cx(\n                            {\n                                [boxClasses.msgBox]: true,\n                                [boxClasses.wordShow]: true,\n                            },\n                            classes.wordBox,\n                        )}>\n                        {showMeta?.word}\n                    </Box>\n                </Box>\n            ) : null}\n            <Box className={classes.imgContent} onContextMenu={handleMenuShow}>\n                <div className={classes.imgBox}>\n                    <Image\n                        src={showMeta?.image ?? ''}\n                        style={{\n                            objectFit: 'contain',\n                            maxWidth: '100%',\n                            maxHeight: '100%',\n                            borderRadius: 10,\n                            alignSelf: 'center',\n                        }}\n                    />\n                </div>\n            </Box>\n            {infoShow ? (\n                <div className={classes.close} onClick={handleClose} style={{ backgroundImage: `url(${CloseIcon})` }} />\n            ) : null}\n        </Drag>\n    )\n}\n","import { createGlobalSettings } from '@masknet/shared-base'\nimport { PetsPluginID } from './constants.js'\n\nexport const petShowSettings = createGlobalSettings(`${PetsPluginID}+selectedClosePet`, true)\n","import { useEffect, useState } from 'react'\nimport { makeStyles } from '@masknet/theme'\nimport { useValueRef } from '@masknet/shared-base-ui'\nimport { useEssay, useDefaultEssay, useCurrentVisitingUser } from '../hooks/index.js'\nimport { NormalNFT } from './NormalNFT.js'\nimport { PluginPetMessages } from '../messages.js'\nimport { petShowSettings } from '../settings.js'\n\nconst useStyles = makeStyles()(() => ({\n    root: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n    },\n}))\n\nfunction AnimatePic() {\n    const { classes } = useStyles()\n\n    const petShow = useValueRef<boolean>(petShowSettings)\n\n    const [start, setStart] = useState(true)\n    const [refresh, setRefresh] = useState(0)\n\n    const visitor = useCurrentVisitingUser(refresh)\n    const visitorMeta = useEssay(visitor, refresh)\n    const defMeta = useDefaultEssay(visitor)\n    const showMeta = visitorMeta ?? defMeta\n\n    const [infoShow, setInfoShow] = useState(false)\n\n    const handleClose = () => (petShowSettings.value = false)\n    const handleMouseEnter = () => setInfoShow(true)\n    const handleMouseLeave = () => setInfoShow(false)\n\n    useEffect(() => {\n        const refreshHandle = async (data: number) => setRefresh(data)\n        PluginPetMessages.setResult.on(refreshHandle)\n        let count = 0\n        const timer = setInterval(() => {\n            const check = count % 9 < 5\n            setStart(check)\n            count += 1\n        }, 1000)\n        return () => {\n            clearInterval(timer)\n            PluginPetMessages.setResult.off(refreshHandle)\n        }\n    }, [])\n    if (!petShow || !visitor.userId || visitor.userId === '$unknown' || !showMeta?.image) return null\n    return (\n        <div\n            className={classes.root}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n            key={visitor.userId}>\n            <NormalNFT start={start} infoShow={infoShow} showMeta={showMeta} handleClose={handleClose} />\n        </div>\n    )\n}\n\nexport default AnimatePic\n","import { makeStyles } from '@masknet/theme'\nimport { Box, Button, Typography } from '@mui/material'\nimport { useCallback } from 'react'\nimport { usePetsTrans } from '../locales/index.js'\nimport { share } from '@masknet/plugin-infra/content-script/context'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        margin: theme.spacing(0, 2.5),\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n    },\n    content: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flex: 1,\n    },\n    notice: {\n        color: theme.palette.maskColor.main,\n        fontSize: '16px',\n        fontFamily: 'TwitterChirp',\n        lineHeight: '16px',\n        marginTop: theme.spacing(2),\n    },\n    button: {\n        width: '100%',\n        margin: theme.spacing(4, 0, 3),\n    },\n}))\n\ninterface PetSetDialogProps {\n    onClose: () => void\n}\n\nexport function PetShareDialog({ onClose }: PetSetDialogProps) {\n    const t = usePetsTrans()\n    const { classes } = useStyles()\n\n    const onShareClick = useCallback(() => {\n        share?.(t.share_twitter())\n        onClose()\n    }, [onClose])\n\n    return (\n        <Box className={classes.root}>\n            <Box className={classes.content}>\n                <Typography className={classes.notice}>{t.pets_dialog_success()}</Typography>\n            </Box>\n            <Button onClick={onShareClick} size=\"large\" className={classes.button}>\n                {t.pets_dialog_btn_share()}\n            </Button>\n        </Box>\n    )\n}\n","import { useEffect, useMemo } from 'react'\nimport { EMPTY_LIST, NetworkPluginID } from '@masknet/shared-base'\nimport { resolveIPFS_URL } from '@masknet/web3-shared-base'\nimport type { NonFungibleContract, OwnerERC721TokenInfo } from '../types.js'\nimport { useChainContext, useNonFungibleAssets } from '@masknet/web3-hooks-base'\nimport { isLens, isLensCollect, isLensComment, isLensFollower, isLensPost } from '@masknet/web3-shared-evm'\n\nexport function useNFTs() {\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const {\n        value: assets = EMPTY_LIST,\n        loading: isLoading,\n        done,\n        next,\n        dataUpdatedAt,\n    } = useNonFungibleAssets(NetworkPluginID.PLUGIN_EVM, undefined, {\n        chainId,\n    })\n    useEffect(() => {\n        if (done) return\n        next()\n    }, [isLoading, done, next, dataUpdatedAt])\n\n    const nfts = useMemo(() => {\n        const map: Record<string, NonFungibleContract> = {}\n        if (!assets.length) {\n            return EMPTY_LIST\n        }\n        const normalAssets = assets.filter((x) => {\n            const name = x.collection?.name || x.contract?.name || x.metadata?.name\n            if (!name) return true\n            if (isLensFollower(name) || isLensComment(name) || isLensPost(name) || isLensCollect(name) || isLens(name))\n                return false\n            return true\n        })\n        for (const asset of normalAssets) {\n            const glbSupport = asset.metadata?.imageURL?.endsWith('.glb') ?? false\n            if (asset.metadata?.imageURL) {\n                asset.metadata.imageURL = resolveIPFS_URL(asset.metadata.imageURL)\n            }\n            const tokens: Record<string, OwnerERC721TokenInfo> = {\n                ...map[asset.address]?.tokens,\n                [asset.tokenId]: { ...asset, tokenId: asset.tokenId, glbSupport },\n            }\n            map[asset.address] = {\n                name: (asset.collection?.name || asset.contract?.name) ?? '',\n                contract: asset.address,\n                icon: (asset.collection?.iconURL || asset.metadata?.imageURL) ?? '',\n                tokens,\n                chainId: asset.chainId,\n            }\n        }\n        const nfts = Object.values(map).map((v) => ({ ...v, tokens: Object.values(v.tokens) }))\n        return nfts\n    }, [assets])\n\n    return { nfts, isLoading }\n}\n","import { Icons } from '@masknet/icons'\nimport { PluginWalletStatusBar, useSharedTrans } from '@masknet/shared'\nimport { EMPTY_LIST, NetworkPluginID } from '@masknet/shared-base'\nimport { useValueRef } from '@masknet/shared-base-ui'\nimport { ActionButton, LoadingBase, ShadowRootPopper, makeStyles, useCustomSnackbar } from '@masknet/theme'\nimport { useWallet } from '@masknet/web3-hooks-base'\nimport { Web3Storage } from '@masknet/web3-providers'\nimport { isSameAddress, type Constant } from '@masknet/web3-shared-base'\nimport {\n    Autocomplete,\n    Box,\n    Checkbox,\n    FormControlLabel,\n    Grid,\n    InputBase,\n    MenuItem,\n    Snackbar,\n    Typography,\n    inputBaseClasses,\n    useTheme,\n} from '@mui/material'\nimport { useMemo, useState, type ReactNode } from 'react'\nimport { useTimeout } from 'react-use'\nimport { GLB3DIcon, PetsPluginID, initMeta } from '../constants.js'\nimport { useNFTs, useUser } from '../hooks/index.js'\nimport { usePetsTrans } from '../locales/index.js'\nimport { PluginPetMessages } from '../messages.js'\nimport { petShowSettings } from '../settings.js'\nimport { ImageType, type FilterContract, type OwnerERC721TokenInfo, type PetMetaDB } from '../types.js'\nimport { ImageLoader } from './ImageLoader.js'\nimport { PreviewBox } from './PreviewBox.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    desBox: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        margin: theme.spacing(1, 0),\n        alignItems: 'center',\n    },\n    poweredBy: {\n        marginRight: theme.spacing(1),\n        color: '#767F8D',\n    },\n    des: {\n        marginRight: theme.spacing(1),\n    },\n    input: {\n        margin: theme.spacing(2, 0, 0),\n        [`&.${inputBaseClasses.focused}`]: {\n            backgroundColor: theme.palette.maskColor.bottom,\n        },\n    },\n    inputOption: {\n        margin: theme.spacing(4, 0, 0),\n    },\n    menuItem: {\n        width: '100%',\n        color: theme.palette.maskColor.main,\n    },\n    btn: {\n        margin: 0,\n        padding: 0,\n        height: 40,\n    },\n    thumbnail: {\n        width: 25,\n        height: 25,\n        objectFit: 'cover',\n        margin: theme.spacing(0, 1, 0, 0),\n        display: 'inline-block',\n        borderRadius: 4,\n    },\n    glbIcon: {\n        width: 15,\n        height: 18,\n        marginLeft: theme.spacing(1),\n    },\n    itemFix: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n    },\n    itemTxt: {\n        flex: 1,\n        marginLeft: theme.spacing(0.5),\n        textOverflow: 'ellipsis',\n        WebkitLineCamp: '1',\n        maxWidth: '260px',\n        overflow: 'hidden',\n    },\n    boxPaper: {\n        backgroundColor: theme.palette.maskColor.bottom,\n        marginBottom: 10,\n        boxShadow: theme.palette.mode === 'dark' ? '0 0 5px #FFFFFF' : '0 0 5px #CCCCCC',\n        '& > ul': {\n            '::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n    },\n    icon: {\n        margin: theme.spacing(0, 1),\n    },\n    arrowIcon: {\n        width: 22.5,\n        height: 22.5,\n        top: 'calc(50% - 11.25px)',\n        color: theme.palette.maskColor.second,\n    },\n}))\n\ninterface PetSetDialogProps {\n    configNFTs: Record<string, Constant> | undefined\n    onClose: () => void\n}\n\nexport function PetSetDialog({ configNFTs, onClose }: PetSetDialogProps) {\n    const t = usePetsTrans()\n    const sharedI18N = useSharedTrans()\n    const { classes } = useStyles()\n    const theme = useTheme()\n    const { showSnackbar } = useCustomSnackbar()\n    const [loading, setLoading] = useState(false)\n    const checked = useValueRef<boolean>(petShowSettings)\n    const [isReady, cancel] = useTimeout(2000)\n\n    const wallet = useWallet(NetworkPluginID.PLUGIN_EVM)\n    const user = useUser()\n    const { nfts, isLoading } = useNFTs()\n    const blacklist = Object.values(configNFTs ?? {}).map((v) => v.Mainnet)\n\n    const [collection, setCollection] = useState<FilterContract>()\n    const [isCollectionsError, setCollectionsError] = useState(false)\n\n    const [metaData, setMetaData] = useState<PetMetaDB>(initMeta)\n    const [isImageError, setImageError] = useState(false)\n    const [isTipVisible, setTipVisible] = useState(false)\n    const [holderChange, setHolderChange] = useState(true)\n    const [tokenInfoSelect, setTokenInfoSelect] = useState<OwnerERC721TokenInfo | null>(null)\n    const [inputTokenName, setInputTokenName] = useState('')\n\n    const closeDialogHandle = () => {\n        setTipVisible(true)\n        onClose()\n        isReady() ? setTipVisible(false) : cancel()\n        PluginPetMessages.setResult.sendToAll(Math.random())\n    }\n\n    const saveHandle = async () => {\n        if (!collection?.name) {\n            setCollectionsError(true)\n            return\n        }\n        if (!metaData.image) {\n            setImageError(true)\n            return\n        }\n        if (!user) return\n        setLoading(true)\n        const chosenToken = collection.tokens.find((item) => item?.metadata?.imageURL === metaData.image)\n        const meta = {\n            ...metaData,\n            userId: user.userId,\n            contract: collection.contract,\n            tokenId: chosenToken?.tokenId ?? '',\n            chainId: chosenToken?.chainId,\n        }\n        try {\n            const kvStorage = Web3Storage.createKVStorage(PetsPluginID)\n            await kvStorage.set(user.userId, user.address)\n            const storage = Web3Storage.createFireflyStorage('Pets', user.address)\n            await storage.set('pet', { address: user.address, essay: meta })\n            closeDialogHandle()\n        } catch {\n            showSnackbar(t.pets_dialog_fail(), { variant: 'error' })\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const onCollectionChange = (v: FilterContract | null) => {\n        if (!user || !v) return\n        const matched = nfts.find((item) => isSameAddress(item.contract, v.contract))\n        if (matched) {\n            setCollection(matched)\n            setTokenInfoSelect(null)\n            setInputTokenName('')\n            setMetaData({\n                ...metaData,\n                userId: user.userId,\n                tokenId: '',\n                image: '',\n            })\n        }\n        setCollectionsError(false)\n    }\n\n    const onImageChange = (v: OwnerERC721TokenInfo | null) => {\n        if (!user) return\n        setTokenInfoSelect(v)\n        setInputTokenName(v?.metadata?.name ?? '')\n        setMetaData({\n            ...metaData,\n            userId: user.userId,\n            tokenId: v?.tokenId ?? '',\n            image: v?.metadata?.imageURL ?? '',\n            type: v?.glbSupport ? ImageType.GLB : ImageType.NORMAL,\n        })\n        setImageError(false)\n    }\n\n    const setMsgValueCheck = (v: string) => {\n        if (v.length <= 100) {\n            setMetaData({ ...metaData, word: v })\n        }\n    }\n\n    const imageChose = useMemo(() => {\n        if (!metaData.image || !collection) return ''\n        const imageChosen = collection.tokens.find((item) => item.tokenId === metaData.tokenId)\n        return imageChosen?.metadata?.imageURL\n    }, [metaData.image, collection?.tokens])\n\n    const mediaChose = useMemo(() => {\n        if (!collection) return\n        const imageChosen = collection.tokens.find((item) => item.tokenId === metaData.tokenId)\n        return imageChosen?.metadata?.mediaURL\n    }, [metaData.tokenId, collection?.tokens])\n\n    const renderImg = (item: FilterContract) => {\n        return <ImageLoader className={classes.thumbnail} src={item.icon} />\n    }\n\n    const paperComponent = (children: ReactNode | undefined) => <Box className={classes.boxPaper}>{children}</Box>\n\n    const nftsRender = (\n        <Autocomplete\n            id=\"collection-box\"\n            options={nfts}\n            value={collection}\n            onChange={(_event, newValue) => onCollectionChange(newValue)}\n            isOptionEqualToValue={(op, value) => isSameAddress(op.contract, value.contract)}\n            getOptionLabel={(option) => option.name}\n            PopperComponent={ShadowRootPopper}\n            PaperComponent={({ children }) => paperComponent(children)}\n            renderOption={(props, option) => (\n                <MenuItem\n                    {...props}\n                    key={option.contract}\n                    value={option.name}\n                    disabled={!option.tokens.length || blacklist.includes(option.contract)}\n                    className={classes.menuItem}>\n                    <Box component=\"span\" className={classes.itemFix} key={option.contract}>\n                        {renderImg(option)}\n                        <Typography className={classes.itemTxt}>{option.name}</Typography>\n                        <Typography>{blacklist.includes(option.contract) ? t.pets_dialog_unverified() : ''}</Typography>\n                    </Box>\n                </MenuItem>\n            )}\n            renderInput={(params) => (\n                <InputBase\n                    {...params.InputProps}\n                    fullWidth\n                    placeholder={t.pets_dialog_contract()}\n                    error={isCollectionsError}\n                    className={classes.input}\n                    inputProps={{ ...params.inputProps }}\n                    endAdornment={\n                        <Box pr={2} display=\"flex\" alignItems=\"center\">\n                            {isLoading ? <LoadingBase size={20} /> : <Icons.ArrowDrop className={classes.arrowIcon} />}\n                        </Box>\n                    }\n                />\n            )}\n        />\n    )\n\n    const tokensRender = (\n        <Autocomplete\n            id=\"token-box\"\n            options={collection?.tokens ?? EMPTY_LIST}\n            inputValue={inputTokenName}\n            onChange={(_event, newValue) => onImageChange(newValue)}\n            getOptionLabel={(option) => option?.metadata?.name ?? ''}\n            PaperComponent={({ children }) => paperComponent(children)}\n            isOptionEqualToValue={(op, value) =>\n                isSameAddress(op.address, value.address) && op.tokenId === value.tokenId\n            }\n            PopperComponent={ShadowRootPopper}\n            renderOption={(props, option) => (\n                <MenuItem {...props} key={option.tokenId}>\n                    <Box className={classes.itemFix}>\n                        {!option.glbSupport ? (\n                            <img className={classes.thumbnail} key=\"thumbnail\" src={option.metadata?.imageURL} />\n                        ) : null}\n                        <Typography color={(theme) => theme.palette.maskColor.main} key=\"name\">\n                            {option?.metadata?.name}\n                        </Typography>\n                        {option.glbSupport ? <img className={classes.glbIcon} key=\"glb\" src={GLB3DIcon} /> : null}\n                    </Box>\n                </MenuItem>\n            )}\n            renderInput={(params) => (\n                <InputBase\n                    {...params.InputProps}\n                    fullWidth\n                    placeholder={t.pets_dialog_token()}\n                    error={isImageError}\n                    className={classes.input}\n                    inputProps={{ ...params.inputProps }}\n                    endAdornment={\n                        <Box pr={2} display=\"flex\" alignItems=\"center\">\n                            <Icons.ArrowDrop className={classes.arrowIcon} />\n                        </Box>\n                    }\n                />\n            )}\n        />\n    )\n\n    return (\n        <>\n            <Box style={{ padding: '16px 16px 0 16px' }}>\n                <Grid container spacing={2}>\n                    <Grid item xs={4}>\n                        <PreviewBox\n                            message={metaData.word}\n                            imageUrl={imageChose}\n                            mediaUrl={mediaChose}\n                            tokenInfo={tokenInfoSelect}\n                        />\n                    </Grid>\n                    <Grid item xs={8}>\n                        {nftsRender}\n                        {tokensRender}\n                        <InputBase\n                            className={classes.inputOption}\n                            placeholder={holderChange ? t.pets_dialog_msg_optional() : t.pets_dialog_msg()}\n                            fullWidth\n                            multiline\n                            rows={3}\n                            disabled={!collection?.name}\n                            value={metaData.word}\n                            onChange={(e) => setMsgValueCheck(e.target.value)}\n                            onBlur={() => setHolderChange(true)}\n                            onFocus={() => setHolderChange(false)}\n                        />\n                    </Grid>\n                </Grid>\n                <FormControlLabel\n                    control={\n                        <Checkbox checked={checked} onChange={(e) => (petShowSettings.value = e.target.checked)} />\n                    }\n                    label={t.pets_dialog_check_title()}\n                    sx={{ marginTop: '4px' }}\n                />\n                <Box className={classes.desBox}>\n                    <Typography fontSize={14} fontWeight={700} className={classes.poweredBy}>\n                        {t.pets_powered_by()}\n                    </Typography>\n                    <Typography color=\"textPrimary\" fontSize={14} fontWeight={700}>\n                        NFF\n                    </Typography>\n                    <Icons.Pets className={classes.icon} />\n                    <Typography fontSize={14} color=\"textSecondary\" fontWeight={700} className={classes.des}>\n                        &\n                    </Typography>\n                    <Typography fontSize={14} color=\"textSecondary\" fontWeight={700} className={classes.des}>\n                        RSS3\n                    </Typography>\n                    <Icons.RSS3 color={theme.palette.mode === 'light' ? '#000' : '#fff'} />\n                </Box>\n            </Box>\n\n            <PluginWalletStatusBar>\n                <ActionButton\n                    loading={loading}\n                    fullWidth\n                    className={classes.btn}\n                    onClick={saveHandle}\n                    disabled={!collection?.name || !metaData.image || !!wallet?.owner}>\n                    {wallet?.owner ? sharedI18N.coming_soon() : t.pets_dialog_btn()}\n                </ActionButton>\n            </PluginWalletStatusBar>\n\n            <Snackbar\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n                open={isTipVisible}\n                message={t.pets_dialog_success()}\n            />\n        </>\n    )\n}\n","import { memo, useState } from 'react'\nimport { useAsync, useTimeout } from 'react-use'\nimport type { Constant } from '@masknet/web3-shared-base'\nimport { InjectedDialog } from '@masknet/shared'\nimport { DialogContent } from '@mui/material'\nimport { Web3Storage } from '@masknet/web3-providers'\nimport { usePetConstants } from '@masknet/web3-shared-evm'\nimport { PetShareDialog } from './PetShareDialog.js'\nimport { PetSetDialog } from './PetSetDialog.js'\nimport { usePetsTrans } from '../locales/index.js'\nimport type { ConfigRSSNode } from '../types.js'\n\nenum PetFriendNFTStep {\n    SetFriendNFT = 'set',\n    ShareFriendNFT = 'share',\n}\n\ninterface Props {\n    open: boolean\n    onClose(): void\n}\nexport const PetDialog = memo(function PetDialog({ open, onClose }: Props) {\n    const t = usePetsTrans()\n    const [step, setStep] = useState(PetFriendNFTStep.SetFriendNFT)\n    const [configNFTs, setConfigNFTs] = useState<Record<string, Constant> | undefined>(undefined)\n    const [isReady, cancel] = useTimeout(500)\n    const { NFTS_BLOCK_ADDRESS = '' } = usePetConstants()\n    useAsync(async () => {\n        const storage = Web3Storage.createFireflyStorage('Pets', NFTS_BLOCK_ADDRESS)\n        const result = await storage.get<ConfigRSSNode>('_pet_nfts')\n        setConfigNFTs(result?.essay)\n    }, [Storage, NFTS_BLOCK_ADDRESS])\n\n    const handleSetDialogClose = () => setStep(PetFriendNFTStep.ShareFriendNFT)\n\n    const handleClose = () => {\n        onClose()\n        isReady() ? setStep(PetFriendNFTStep.SetFriendNFT) : cancel()\n    }\n\n    return (\n        <InjectedDialog\n            open={open}\n            onClose={handleClose}\n            title={step === PetFriendNFTStep.SetFriendNFT ? t.pets_dialog_title() : t.pets_dialog_title_share()}\n            titleBarIconStyle=\"back\">\n            <DialogContent style={{ padding: 0, display: 'flex', flexDirection: 'column' }}>\n                {step === PetFriendNFTStep.SetFriendNFT ? (\n                    <PetSetDialog onClose={handleSetDialogClose} configNFTs={configNFTs} />\n                ) : (\n                    <PetShareDialog onClose={handleClose} />\n                )}\n            </DialogContent>\n        </InjectedDialog>\n    )\n})\n","import { memo } from 'react'\nimport { useRemoteControlledDialog } from '@masknet/shared-base-ui'\nimport { PluginPetMessages } from '../messages.js'\nimport AnimatePic from './Animate.js'\nimport { PetDialog } from './PetDialog.js'\n\nexport const PetsGlobalInjection = memo(function PetsGlobalInjection() {\n    const { open, closeDialog } = useRemoteControlledDialog(PluginPetMessages.essayDialogUpdated, () => {})\n    return (\n        <>\n            <AnimatePic />\n            {open ? <PetDialog open onClose={closeDialog} /> : null}\n        </>\n    )\n})\n","import { Trans } from 'react-i18next'\nimport type { Plugin } from '@masknet/plugin-infra'\nimport { ApplicationEntry } from '@masknet/shared'\nimport { useRemoteControlledDialog } from '@masknet/shared-base-ui'\nimport { Icons } from '@masknet/icons'\nimport { base } from '../base.js'\nimport { PluginPetMessages } from '../messages.js'\nimport { PetsGlobalInjection } from './PetsGlobalInjection.js'\nimport { PluginID } from '@masknet/shared-base'\n\nconst site: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    init() {},\n    GlobalInjection: PetsGlobalInjection,\n    ApplicationEntries: [\n        (() => {\n            const icon = <Icons.Pets size={36} />\n            const name = <Trans i18nKey=\"plugin_pets_name\" ns={PluginID.Pets} />\n            const iconFilterColor = 'rgba(226, 0, 233, 0.2)'\n            return {\n                ApplicationEntryID: base.ID,\n                RenderEntryComponent(EntryComponentProps) {\n                    const { openDialog } = useRemoteControlledDialog(PluginPetMessages.essayDialogUpdated)\n\n                    return (\n                        <ApplicationEntry\n                            {...EntryComponentProps}\n                            title={name}\n                            icon={icon}\n                            iconFilterColor={iconFilterColor}\n                            onClick={\n                                EntryComponentProps.onClick\n                                    ? () => EntryComponentProps.onClick?.(openDialog)\n                                    : openDialog\n                            }\n                        />\n                    )\n                },\n                appBoardSortingDefaultPriority: 13,\n                marketListSortingPriority: 13,\n                icon,\n                description: <Trans i18nKey=\"plugin_pets_description\" ns={PluginID.Pets} />,\n                name,\n                tutorialLink: 'https://twitter.com/NonFFriend',\n                iconFilterColor,\n                category: 'dapp',\n            }\n        })(),\n    ],\n}\n\nexport default site\n","import type { PluginMessageEmitterItem } from '@masknet/shared-base'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { v4 as uuid } from 'uuid'\n\nexport interface RemoteControlledDialogEvent {\n    open: boolean\n    hookId?: string\n}\n\ninterface Result<T> {\n    open: boolean\n    closeDialog: () => void\n    openDialog: () => void\n    setDialog: (ev: T) => void\n}\n\n/**\n * Use a dialog state controlled by remote\n */\nexport function useRemoteControlledDialog<T extends { open: boolean }>(\n    event: PluginMessageEmitterItem<T>,\n    onUpdateByRemote?: (ev: T) => void,\n    tabType: 'self' | 'activated' = 'self',\n): Result<T> {\n    const [HOOK_ID] = useState(uuid) // create an uuid for every hook\n    const [open, setOpen] = useState(false)\n\n    useEffect(\n        () =>\n            event.on((_ev: T) => {\n                const event = _ev as unknown as RemoteControlledDialogEvent\n\n                // ignore the event from the same hook\n                if (event.hookId === HOOK_ID) return\n\n                setOpen(event.open)\n                onUpdateByRemote?.(_ev)\n            }),\n        [onUpdateByRemote, event, HOOK_ID],\n    )\n\n    const timer = useRef<ReturnType<typeof setTimeout> | null>(null)\n    const onUpdateByLocal = useCallback(\n        (ev: T) => {\n            setOpen(ev.open)\n\n            const timer_ = timer.current\n            if (timer_ !== null) clearTimeout(timer_)\n            timer.current = setTimeout(() => {\n                const payload: T & RemoteControlledDialogEvent = {\n                    hookId: HOOK_ID,\n                    ...ev,\n                }\n                tabType === 'self' ? event.sendToLocal(payload) : event.sendToVisiblePages(payload)\n            }, 100)\n        },\n        [event, tabType, HOOK_ID],\n    )\n    const openDialog = useCallback(() => {\n        onUpdateByLocal({ open: true } as T)\n    }, [])\n    const closeDialog = useCallback(() => {\n        onUpdateByLocal({ open: false } as T)\n    }, [])\n\n    return {\n        open,\n        openDialog,\n        closeDialog,\n        setDialog: onUpdateByLocal,\n    }\n}\n","import { defer, delay, type DeferTuple } from '@masknet/kit'\nimport { Emitter } from '@servie/events'\n\nexport type SingletonModalRefCreator<OpenProps = void, CloseProps = void> = (\n    onOpen: (props: OpenProps) => void,\n    onClose: (props: CloseProps) => void,\n    onAbort: (error: Error) => void,\n) => {\n    peek: () => boolean\n    open: (props: OpenProps) => void\n    close: (props: CloseProps) => void\n    abort?: (error: Error) => void\n}\n\nexport interface SingletonModalProps {\n    children: React.ReactNode\n}\n\nexport class SingletonModal<\n    OpenProps = void,\n    CloseProps = void,\n    T extends SingletonModalRefCreator<OpenProps, CloseProps> = SingletonModalRefCreator<OpenProps, CloseProps>,\n> {\n    constructor() {\n        this.open = this.open.bind(this)\n        this.close = this.close.bind(this)\n        this.abort = this.abort.bind(this)\n        this.openAndWaitForClose = this.openAndWaitForClose.bind(this)\n    }\n    readonly emitter = new Emitter<{\n        open: [OpenProps]\n        close: [CloseProps]\n        abort: [Error]\n    }>()\n\n    protected onOpen: ReturnType<T>['open'] | undefined\n    protected onClose: ReturnType<T>['close'] | undefined\n    protected onAbort: ReturnType<T>['abort'] | undefined\n\n    private dispatchPeek: ReturnType<T>['peek'] | undefined\n    private dispatchOpen: ReturnType<T>['open'] | undefined\n    private dispatchClose: ReturnType<T>['close'] | undefined\n    private dispatchAbort: ReturnType<T>['abort'] | undefined\n\n    /**\n     * Register a React modal component that implemented a forwarded ref.\n     * The ref item should be fed with open and close methods.\n     */\n    register = (creator: T | null) => {\n        if (!creator) {\n            this.dispatchOpen = undefined\n            this.dispatchClose = undefined\n            this.dispatchAbort = undefined\n            return\n        }\n\n        const ref = creator(\n            (props) => {\n                this.onOpen?.(props)\n                this.emitter.emit('open', props)\n            },\n            (props) => {\n                this.onClose?.(props)\n                this.emitter.emit('close', props)\n            },\n            (error) => {\n                this.onAbort?.(error)\n                this.emitter.emit('abort', error)\n            },\n        )\n        this.dispatchPeek = ref.peek\n        this.dispatchOpen = ref.open\n        this.dispatchClose = ref.close\n        this.dispatchAbort = ref.abort\n    }\n\n    /**\n     * Peek the open state of the React modal component.\n     */\n    peek() {\n        return this.dispatchPeek?.() ?? false\n    }\n\n    /**\n     * Open the registered modal component with props\n     * @param props\n     */\n    open(props: OpenProps) {\n        if (typeof this.dispatchOpen === 'undefined') console.warn(\"[SingletonModal]: The modal hasn't registered yet.\")\n        this.dispatchOpen?.(props)\n    }\n\n    /**\n     * Close the registered modal component with props\n     * @param props\n     */\n    close(props: CloseProps) {\n        this.dispatchClose?.(props)\n    }\n\n    /**\n     * Abort the registered modal component with Error\n     */\n    abort(error: Error) {\n        this.dispatchAbort?.(error)\n    }\n\n    /**\n     * Open the registered modal component and wait for it closes\n     * @param props\n     */\n    openAndWaitForClose(props: OpenProps): Promise<CloseProps> {\n        return new Promise<CloseProps>((resolve, reject) => {\n            this.open(props)\n            this.onClose = (props) => resolve(props)\n            this.onAbort = (error) => reject(error)\n        })\n    }\n}\n\nexport class SingletonModalQueued<OpenProps = void, CloseProps = void> extends SingletonModal<OpenProps, CloseProps> {\n    private opened = false\n    private tasks: Array<{\n        props: OpenProps\n        defer?: DeferTuple<CloseProps, Error>\n    }> = []\n\n    constructor() {\n        super()\n\n        this.emitter.on('open', () => {\n            this.opened = true\n        })\n        this.emitter.on('close', () => {\n            this.opened = false\n            this.cleanup()\n        })\n        this.emitter.on('abort', () => {\n            this.opened = false\n            this.cleanup()\n        })\n    }\n\n    override open(props: OpenProps) {\n        if (!this.opened) {\n            super.open(props)\n            return\n        }\n\n        this.tasks.push({\n            props,\n        })\n    }\n\n    override close(props: CloseProps) {\n        if (!this.opened) return\n\n        super.close(props)\n    }\n\n    override openAndWaitForClose(props: OpenProps) {\n        if (!this.opened) return super.openAndWaitForClose(props)\n\n        const d = defer<CloseProps, Error>()\n        this.tasks.push({\n            props,\n            defer: d,\n        })\n        return d[0]\n    }\n\n    private async cleanup() {\n        if (this.opened || !this.tasks.length) return\n\n        await delay(300)\n\n        const { props, defer } = this.tasks.shift()!\n\n        this.open(props)\n        if (!defer) return\n        this.onClose = (props) => defer[1](props)\n        this.onAbort = (error) => defer[2](error)\n    }\n}\n","import { Icons, type GeneratedIconProps } from '@masknet/icons'\nimport { ShadowRootTooltip, makeStyles } from '@masknet/theme'\nimport { Link, type LinkProps } from '@mui/material'\nimport { memo, useCallback, useRef, useState, type MouseEvent } from 'react'\nimport { useCopyToClipboard } from 'react-use'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    copy: {\n        '&:hover': {\n            color: theme.palette.maskColor.main,\n        },\n    },\n}))\n\nexport interface CopyButtonProps\n    extends Omit<LinkProps<'button'>, 'color'>,\n        Pick<GeneratedIconProps, 'size' | 'color'> {\n    title?: string\n    text: string\n    /** defaults to 'Copied' */\n    successText?: string\n    /** stop event propagation and prevent default */\n    scoped?: boolean\n}\n\nexport const CopyButton = memo<CopyButtonProps>(function CopyButton({\n    text,\n    title,\n    successText,\n    size,\n    color,\n    scoped = true,\n    className,\n    ...props\n}) {\n    const t = useSharedTrans()\n    const { classes, cx, theme } = useStyles(undefined, { props })\n\n    const [, copyToClipboard] = useCopyToClipboard()\n    const [copied, setCopied] = useState(false)\n    const [active, setActive] = useState(false)\n    const timerRef = useRef<ReturnType<typeof setTimeout>>()\n\n    const handleCopy = useCallback(\n        async (ev: MouseEvent<HTMLAnchorElement>) => {\n            if (scoped) {\n                ev.stopPropagation()\n                ev.preventDefault()\n            }\n            copyToClipboard(text)\n            setCopied(true)\n            setActive(true)\n            clearTimeout(timerRef.current)\n            timerRef.current = setTimeout(setActive, 1500, false)\n        },\n        [text, scoped],\n    )\n\n    const tooltipTitle = copied ? successText ?? t.copied() : title ?? t.copy()\n    const iconProps = { size, color }\n\n    return (\n        <ShadowRootTooltip open={active} title={tooltipTitle} placement=\"top\" disableInteractive arrow>\n            <Link\n                underline=\"none\"\n                component=\"button\"\n                onClick={handleCopy}\n                color=\"inherit\"\n                {...props}\n                fontSize={0}\n                className={cx(classes.root, className)}>\n                {active ? (\n                    <Icons.Check {...iconProps} color={theme.palette.maskColor.success} />\n                ) : (\n                    <Icons.Copy {...iconProps} className={classes.copy} />\n                )}\n            </Link>\n        </ShadowRootTooltip>\n    )\n})\n","import { type HTMLProps, type ImgHTMLAttributes, useState } from 'react'\nimport { makeStyles } from '@masknet/theme'\nimport { useTheme } from '@mui/material'\n\nconst useStyles = makeStyles<Pick<ImageProps, 'size' | 'rounded'>, 'center'>()((theme, { size, rounded }, refs) => ({\n    optimistic: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    container: {\n        width: size ?? '100%',\n        height: size ?? '100%',\n        position: 'relative',\n        borderRadius: rounded ? '50%' : undefined,\n        overflow: rounded ? 'hidden' : undefined,\n    },\n    image: {\n        display: 'block',\n    },\n    failImage: {\n        width: 30,\n        height: 30,\n    },\n    center: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    failed: {\n        [`&.${refs.center}`]: {\n            background:\n                theme.palette.mode === 'light'\n                    ? 'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.9) 100%), linear-gradient(90deg, rgba(98, 152, 234, 0.2) 1.03%, rgba(98, 152, 234, 0.2) 1.04%, rgba(98, 126, 234, 0.2) 100%)'\n                    : 'linear-gradient(180deg, #202020 0%, #181818 100%)',\n        },\n    },\n}))\n\nconst MASK_DARK_FALLBACK = new URL('./mask-dark.png', import.meta.url).href\nconst MASK_LIGHT_FALLBACK = new URL('./mask-light.png', import.meta.url).href\n\nexport interface ImageProps\n    extends ImgHTMLAttributes<HTMLImageElement>,\n        withClasses<'container' | 'fallbackImage' | 'imageLoading' | 'failed'> {\n    size?: number | string\n    rounded?: boolean\n    fallback?: string | JSX.Element | null\n    disableSpinner?: boolean\n    containerProps?: HTMLProps<HTMLDivElement>\n}\n\nexport function Image({\n    fallback,\n    size,\n    rounded,\n    disableSpinner,\n    classes: extraClasses,\n    onClick,\n    containerProps,\n    ...rest\n}: ImageProps) {\n    const { classes, cx } = useStyles({ size, rounded }, { props: { classes: extraClasses } })\n    const theme = useTheme()\n    const [failed, setFailed] = useState(false)\n\n    if (rest.src && !failed) {\n        return (\n            <div {...containerProps} className={cx(classes.container, classes.optimistic, containerProps?.className)}>\n                <img\n                    className={classes.image}\n                    width={size}\n                    height={size}\n                    {...rest}\n                    src={rest.src}\n                    onError={() => setFailed(true)}\n                />\n            </div>\n        )\n    }\n\n    if (fallback && !(fallback instanceof URL) && typeof fallback !== 'string') {\n        return (\n            <div\n                {...containerProps}\n                className={cx(classes.container, classes.failed, classes.center, containerProps?.className)}>\n                {fallback}\n            </div>\n        )\n    }\n\n    return (\n        <div\n            {...containerProps}\n            className={cx(classes.container, classes.failed, classes.center, containerProps?.className)}>\n            <img\n                loading=\"lazy\"\n                decoding=\"async\"\n                width={size}\n                height={size}\n                {...rest}\n                src={fallback?.toString() ?? (theme.palette.mode === 'dark' ? MASK_DARK_FALLBACK : MASK_LIGHT_FALLBACK)}\n                className={cx(classes.image, classes.failImage, classes.fallbackImage)}\n            />\n        </div>\n    )\n}\n","import { memo, type HTMLProps, type CSSProperties } from 'react'\n\nexport interface ImageIconProps extends HTMLProps<HTMLImageElement> {\n    size?: number\n    icon?: string\n    iconFilterColor?: string\n}\n\nexport const ImageIcon = memo(function ImageIcon({ size = 48, icon, iconFilterColor, ...rest }: ImageIconProps) {\n    const style: CSSProperties | undefined = iconFilterColor\n        ? {\n              filter: `drop-shadow(0px 6px 12px ${iconFilterColor})`,\n              backdropFilter: 'blur(16px)',\n              ...rest.style,\n          }\n        : rest.style\n\n    return <img height={size} width={size} src={icon?.toString()} {...rest} style={style} />\n})\n","import { makeStyles } from '@masknet/theme'\nimport { ImageIcon } from '../ImageIcon/index.js'\n\ninterface StyleProps {\n    size: number\n    badgeIconBorderColor?: string\n}\n\nconst useStyles = makeStyles<StyleProps>()((theme, props) => ({\n    root: {\n        position: 'relative',\n        display: 'flex',\n        height: props.size,\n        width: props.size,\n    },\n    mainIcon: {\n        display: 'block',\n    },\n    badgeIcon: {\n        position: 'absolute',\n        right: -6,\n        bottom: -4,\n        border: `1px solid ${props.badgeIconBorderColor ?? theme.palette.common.white}`,\n        borderRadius: '50%',\n    },\n}))\n\ninterface WalletIconProps extends withClasses<'root' | 'mainIcon'> {\n    size?: number\n    badgeSize?: number\n    mainIcon?: string\n    badgeIcon?: string\n    badgeIconBorderColor?: string\n    iconFilterColor?: string\n}\n\nexport function WalletIcon(props: WalletIconProps) {\n    const { size = 24, badgeSize = 14, mainIcon, badgeIcon, badgeIconBorderColor, iconFilterColor } = props\n    const { classes } = useStyles(\n        {\n            size: badgeSize > size ? badgeSize : size,\n            badgeIconBorderColor,\n        },\n        { props: { classes: props.classes } },\n    )\n\n    return (\n        <div\n            className={classes.root}\n            style={{\n                height: size,\n                width: size,\n            }}>\n            {mainIcon ? (\n                <ImageIcon className={classes.mainIcon} size={size} icon={mainIcon} iconFilterColor={iconFilterColor} />\n            ) : null}\n            {badgeIcon ? <ImageIcon className={classes.badgeIcon} size={badgeSize} icon={badgeIcon} /> : null}\n        </div>\n    )\n}\n","import { memo, type PropsWithChildren, useRef } from 'react'\nimport { Box, Button } from '@mui/material'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { Sniffings } from '@masknet/shared-base'\n\ninterface ActionProps extends PropsWithChildren<{}> {\n    openSelectWalletDialog: () => void\n}\n\nexport const Action = memo<ActionProps>(function Action({ children, openSelectWalletDialog }) {\n    const ref = useRef<HTMLDivElement>()\n    const t = useSharedTrans()\n\n    return (\n        <Box display=\"flex\" columnGap={16} minWidth={!Sniffings.is_popup_page ? 276 : 176} ref={ref}>\n            {children ?? (\n                <Button fullWidth onClick={openSelectWalletDialog}>\n                    {t.wallet_status_button_change()}\n                </Button>\n            )}\n        </Box>\n    )\n})\n","import { memo, type PropsWithChildren, useCallback, useMemo } from 'react'\nimport { alpha, Box, Button } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, MaskColorVar } from '@masknet/theme'\nimport {\n    useNetworkContext,\n    useProviderDescriptor,\n    useRecentTransactions,\n    useNetworkDescriptor,\n    useWallet,\n    useReverseAddress,\n    useWeb3Others,\n    useChainContext,\n    NetworkContextProvider,\n    RevokeChainContextProvider,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { type NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport { TransactionStatusType } from '@masknet/web3-shared-base'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { WalletDescription } from './WalletDescription.js'\nimport { Action } from './Action.js'\nimport { SelectProviderModal, WalletStatusModal } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        boxSizing: 'content-box',\n        display: 'flex',\n        backgroundColor: Sniffings.is_dashboard_page\n            ? MaskColorVar.mainBackground\n            : alpha(theme.palette.maskColor.bottom, 0.8),\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 0px 20px rgba(255, 255, 255, 0.12)'\n                : '0px 0px 20px rgba(0, 0, 0, 0.05)',\n        backdropFilter: 'blur(16px)',\n        padding: theme.spacing(2),\n        borderRadius: '0 0 12px 12px',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flex: 1,\n        maxHeight: 40,\n    },\n    connection: {\n        width: 18,\n        height: 18,\n        marginRight: 8,\n    },\n}))\n\nexport interface WalletStatusBarProps<T extends NetworkPluginID> extends PropsWithChildren<{}> {\n    className?: string\n    actualPluginID?: T\n    expectedPluginID?: T\n    expectedChainId?: Web3Helper.Definition[T]['ChainId']\n    onClick?: (ev: React.MouseEvent<HTMLDivElement>) => void\n    requiredSupportChainIds?: Array<Web3Helper.Definition[T]['ChainId']>\n    requiredSupportPluginID?: NetworkPluginID\n}\n\nconst PluginWalletStatusBarWithoutContext = memo<WalletStatusBarProps<NetworkPluginID>>(\n    ({\n        className,\n        onClick,\n        expectedPluginID,\n        expectedChainId,\n        children,\n        requiredSupportChainIds,\n        requiredSupportPluginID,\n    }) => {\n        const t = useSharedTrans()\n        const { classes, cx } = useStyles()\n\n        const { pluginID } = useNetworkContext()\n        const { account, chainId, providerType } = useChainContext()\n        const wallet = useWallet(pluginID)\n        const providerDescriptor = useProviderDescriptor()\n        const networkDescriptor = useNetworkDescriptor(pluginID, chainId)\n        const expectedNetworkDescriptor = useNetworkDescriptor(expectedPluginID, expectedChainId)\n        const { data: domain } = useReverseAddress(pluginID, account)\n        const Others = useWeb3Others()\n\n        const openSelectProviderDialog = useCallback(() => {\n            SelectProviderModal.open({\n                requiredSupportChainIds,\n                requiredSupportPluginID,\n            })\n        }, [expectedNetworkDescriptor, requiredSupportChainIds, requiredSupportPluginID])\n\n        const pendingTransactions = useRecentTransactions(pluginID, TransactionStatusType.NOT_DEPEND)\n\n        const walletName = useMemo(() => {\n            if (domain) return domain\n            if (providerType === ProviderType.MaskWallet && wallet?.name) return wallet?.name\n            return providerDescriptor?.name || Others.formatAddress(account, 4)\n        }, [account, domain, providerType, wallet?.name, providerDescriptor?.name, Others.formatAddress])\n\n        if (!account) {\n            return (\n                <Box className={cx(classes.root, className)}>\n                    <Button fullWidth onClick={openSelectProviderDialog}>\n                        <Icons.Wallet className={classes.connection} /> {t.plugin_wallet_connect_a_wallet()}\n                    </Button>\n                </Box>\n            )\n        }\n\n        return (\n            <Box className={cx(classes.root, className)}>\n                <WalletDescription\n                    pending={!!pendingTransactions.length}\n                    providerIcon={providerDescriptor?.icon}\n                    networkIcon={networkDescriptor?.icon}\n                    iconFilterColor={providerDescriptor?.iconFilterColor}\n                    name={walletName}\n                    formattedAddress={Others.formatAddress(account, 4)}\n                    addressLink={Others.explorerResolver.addressLink(chainId, account)}\n                    onClick={onClick ?? openSelectProviderDialog}\n                    onPendingClick={() => WalletStatusModal.open()}\n                />\n                <Action openSelectWalletDialog={openSelectProviderDialog}>{children}</Action>\n            </Box>\n        )\n    },\n)\n\nPluginWalletStatusBarWithoutContext.displayName = 'PluginWalletStatusBarWithoutContext'\n\nexport const PluginWalletStatusBar = memo<WalletStatusBarProps<NetworkPluginID>>((props) => {\n    const children = (\n        <RevokeChainContextProvider>\n            <PluginWalletStatusBarWithoutContext {...props} />\n        </RevokeChainContextProvider>\n    )\n\n    return props.actualPluginID ? (\n        <NetworkContextProvider value={props.actualPluginID}>{children}</NetworkContextProvider>\n    ) : (\n        children\n    )\n})\n\nPluginWalletStatusBar.displayName = 'PluginWalletStatusBar'\n","import { makeStyles, LoadingBase } from '@masknet/theme'\nimport { memo } from 'react'\nimport { alpha, Box, Link, Typography } from '@mui/material'\nimport { CopyButton, WalletIcon } from '@masknet/shared'\nimport { Icons } from '@masknet/icons'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        cursor: 'pointer',\n    },\n    description: {\n        marginLeft: 10,\n    },\n    walletName: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        lineHeight: '18px',\n    },\n    address: {\n        color: theme.palette.maskColor.second,\n        lineHeight: '18px',\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 2,\n    },\n    pending: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2,\n        borderRadius: 2,\n        padding: '2px 4px',\n        backgroundColor: alpha(theme.palette.maskColor.warn, 0.1),\n        color: theme.palette.maskColor.warn,\n        lineHeight: '18px',\n    },\n    progress: {\n        color: theme.palette.maskColor.warn,\n    },\n    linkIcon: {\n        color: theme.palette.maskColor.second,\n        cursor: 'pointer',\n        height: 14,\n    },\n}))\n\nexport interface WalletDescriptionProps {\n    onClick?: (ev: React.MouseEvent<HTMLDivElement>) => void\n    pending?: boolean\n    onPendingClick?: () => void\n    providerIcon?: string\n    networkIcon?: string\n    iconFilterColor?: string\n    name?: string\n    address?: string\n    formattedAddress?: string\n    addressLink?: string\n    verified?: boolean\n}\n\nexport const WalletDescription = memo<WalletDescriptionProps>(\n    ({\n        onClick,\n        providerIcon,\n        networkIcon,\n        iconFilterColor,\n        name,\n        address,\n        formattedAddress,\n        addressLink,\n        onPendingClick,\n        pending,\n        verified,\n    }) => {\n        const { classes } = useStyles()\n        const t = useSharedTrans()\n\n        return (\n            <Box onClick={onClick} className={classes.root}>\n                <WalletIcon\n                    size={30}\n                    badgeSize={12}\n                    mainIcon={providerIcon ?? networkIcon}\n                    badgeIcon={providerIcon ? networkIcon : undefined}\n                    iconFilterColor={iconFilterColor}\n                />\n                <Box className={classes.description}>\n                    <Typography className={classes.walletName}>\n                        <span>{name}</span>\n                        {verified ? <Icons.Verification size={18} /> : null}\n                        {onPendingClick ? <Icons.ArrowDrop /> : null}\n                    </Typography>\n                    <Typography className={classes.address}>\n                        <span>{formattedAddress}</span>\n                        {address ? <CopyButton size={14} className={classes.linkIcon} text={address} /> : null}\n                        <Link\n                            href={addressLink}\n                            target=\"_blank\"\n                            title=\"View on Explorer\"\n                            rel=\"noopener noreferrer\"\n                            onClick={(event) => {\n                                event.stopPropagation()\n                            }}\n                            className={classes.linkIcon}>\n                            <Icons.LinkOut size={14} className={classes.linkIcon} />\n                        </Link>\n                        {pending ? (\n                            <span\n                                className={classes.pending}\n                                onClick={(e) => {\n                                    e.stopPropagation()\n                                    onPendingClick?.()\n                                }}>\n                                {t.recent_transaction_pending()}\n                                <LoadingBase size={12} className={classes.progress} />\n                            </span>\n                        ) : null}\n                    </Typography>\n                </Box>\n            </Box>\n        )\n    },\n)\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { SelectProviderModalOpenProps, SelectProviderModalCloseProps } from './SelectProviderModal/index.js'\nimport type { WalletConnectQRCodeOpenProps } from './WalletConnectQRCodeModal/index.js'\nimport type { WalletRiskWarningModalOpenProps } from './WalletRiskWarningModal/index.js'\nimport type { ConnectWalletModalOpenProps, ConnectWalletModalCloseProps } from './ConnectWalletModal/index.js'\nimport type { LeavePageConfirmModalOpenProps } from './LeavePageConfirmModal/index.js'\nimport type {\n    ApplicationBoardModalOpenProps,\n    ApplicationBoardSettingsModalOpenProps,\n} from './ApplicationBoardModal/index.js'\nimport type { GasSettingModalOpenOrCloseProps } from './GasSettingModal/index.js'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { ConfirmDialogOpenProps } from './ConfirmDialog/index.js'\nimport type { TransactionConfirmModalOpenProps } from './TokenTransactionConfirmModal/index.js'\nimport type { SelectNonFungibleContractModalOpenProps } from './SelectNonFungibleContractModal/index.js'\nimport type {\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps,\n} from './SelectFungibleTokenModal/index.js'\nimport type {\n    SelectGasSettingsModalCloseProps,\n    SelectGasSettingsModalOpenProps,\n} from './SelectAdvancedSettingsDialog/index.js'\nimport type { AddCollectiblesModalCloseProps, AddCollectiblesModalOpenProps } from './AddCollectiblesModal/index.js'\nimport type { PersonaSelectPanelModalOpenProps } from './PersonaSelectPanelModal/index.js'\nimport type { ShareSelectNetworkModalOpenProps } from './ShareSelectNetwork/index.js'\n\nexport const WalletConnectQRCodeModal = new SingletonModal<WalletConnectQRCodeOpenProps>()\nexport const SelectProviderModal = new SingletonModal<SelectProviderModalOpenProps, SelectProviderModalCloseProps>()\nexport const WalletStatusModal = new SingletonModal()\nexport const WalletRiskWarningModal = new SingletonModal<WalletRiskWarningModalOpenProps>()\nexport const ConnectWalletModal = new SingletonModal<ConnectWalletModalOpenProps, ConnectWalletModalCloseProps>()\nexport const LeavePageConfirmModal = new SingletonModal<LeavePageConfirmModalOpenProps>()\nexport const ApplicationBoardModal = new SingletonModal<ApplicationBoardModalOpenProps>()\nexport const ApplicationBoardSettingsModal = new SingletonModal<ApplicationBoardSettingsModalOpenProps>()\nexport const GasSettingModal = new SingletonModal<GasSettingModalOpenOrCloseProps, GasSettingModalOpenOrCloseProps>()\nexport const TransactionConfirmModal = new SingletonModal<TransactionConfirmModalOpenProps>()\nexport const TransactionSnackbar = new SingletonModal()\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const ConfirmDialog = new SingletonModal<ConfirmDialogOpenProps, boolean>()\nexport const SelectNonFungibleContractModal = new SingletonModal<SelectNonFungibleContractModalOpenProps>()\nexport const SelectGasSettingsModal = new SingletonModal<\n    SelectGasSettingsModalOpenProps,\n    SelectGasSettingsModalCloseProps\n>()\nexport const AddCollectiblesModal = new SingletonModal<AddCollectiblesModalOpenProps, AddCollectiblesModalCloseProps>()\nexport const SelectFungibleTokenModal = new SingletonModal<\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps\n>()\n\nexport const PersonaSelectPanelModal = new SingletonModal<PersonaSelectPanelModalOpenProps>()\n\nexport const ShareSelectNetworkModal = new SingletonModal<ShareSelectNetworkModalOpenProps>()\n\nexport { ApplicationSettingTabs } from './ApplicationBoardModal/ApplicationBoardDialog.js'\n","export const LightColor = {\n    bg: '##F9F9F9',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#FFFFFF',\n    secondary: '#e8f0fe',\n    secondaryContrastText: '#1c68f3',\n    input: '#F6F6F8',\n    primaryBackground: '#ffffff',\n    primaryBackground2: '#FBFBFC',\n    secondaryBackground: '#f9fafa',\n    lightBackground: '#F9FAFA',\n    mainBackground: '#ffffff',\n    suspensionBackground: 'rgba(249, 250, 250, 0.8)',\n    normalBackground: '#F3F3F4',\n    twitterBackground: '#F7F9FA',\n    twitterBackgroundHover: '#EFF1F2',\n    twitterInputBackground: '#F6F8F8',\n    twitterButton: '#111418',\n    twitterButtonText: '#ffffff',\n    twitterBlue: '#1C68F3',\n    twitterBorderLine: '#EDF1F2',\n    twitterSecond: '#7B8192',\n    twitterMain: '#0F1419',\n    twitterBottom: '#ffffff',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterBg: '#F6F8F8',\n    twitterTooltipBg: 'rgba(0,0,0,.6)',\n    twitterInput: '#EDF1F2',\n    twitterLine: '#EBEEF0',\n    redMain: '#ff5f5f',\n    redLight: '#ffafaf',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#e6f6f0',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#faf0d8',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#eff3f4',\n\n    border: '#F3F3F4',\n    borderSecondary: '#536471',\n\n    textPrimary: '#111432',\n    textSecondary: '#7b8192',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: '#7B8192',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#1C68F3',\n    lineLight: '#E4E8F1',\n    lineLighter: '#E9E9EA',\n    textLight: '#A6A9B6',\n    lightestBackground: '#FFFFFF',\n    linkText: '#1C68F3',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#F9FAFA',\n    main: '#1C68F3',\n    errorBackground: 'rgba(255, 95, 95, 0.15)',\n    tooltipBackground: '#ffffff',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#000000',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport const DarkColor: typeof LightColor = {\n    bg: '#1C1C1C',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#15171A',\n    secondary: '#242e57',\n    secondaryContrastText: '#ffffff',\n    input: '#282B49',\n    primaryBackground: '#212442',\n    primaryBackground2: '#212442',\n    secondaryBackground: '#252846',\n    lightBackground: '#2E314F',\n    mainBackground: '#111432',\n    suspensionBackground: 'rgba(27, 30, 60, 0.8)',\n    normalBackground: '#262947',\n    twitterInputBackground: '#17191D',\n    twitterBackground: '#17191D',\n    twitterBackgroundHover: '#17191D',\n    twitterButton: '#EFF3F4',\n    twitterButtonText: '#0F1419',\n    twitterBlue: '#4989FF',\n    twitterBorderLine: '#2F3336',\n    twitterInput: '#1D2023',\n    twitterSecond: '#636B72',\n    twitterMain: '#D9D9D9',\n    twitterBottom: '#000000',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterLine: '#2F3336',\n    twitterBg: '#15171A',\n    twitterTooltipBg: 'rgba(91,112,131,.6)',\n    redMain: '#ff5f5f',\n    redLight: '#46304a',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#314457',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#463e3f',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#3e455e',\n\n    border: '#3E455E',\n    borderSecondary: '#6e767d',\n\n    // TODO: ?\n    textPrimary: '#ffffff',\n    // TODO: ?\n    textSecondary: 'ghostwhite',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: 'rgba(255, 255, 255, 0.8)',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#ffffff',\n    lineLight: '#32365B',\n    lineLighter: '#32365B',\n    textLight: '#A6A9B6',\n    lightestBackground: '#212422',\n    linkText: '#ffffff',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#000000',\n    main: '#D4D4D4',\n    errorBackground: 'rgba(255, 95, 95, 0.1)',\n    tooltipBackground: '#1A1D20',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#ffffff',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport type Color = typeof LightColor\n","import type { Theme } from '@mui/material'\nimport { kebabCase } from 'lodash-es'\nimport { LightColor, DarkColor } from './constants.js'\n\nexport function getMaskColor(theme: Theme) {\n    if (theme.palette.mode === 'dark') return DarkColor\n    return LightColor\n}\nexport type MaskCSSVariableColor = string & {\n    /** Append alpha channel to the original color */\n    alpha(alpha: number): string\n} & ((defaultValue?: string) => string)\n\nfunction set(key: string | symbol) {\n    if (typeof key === 'symbol') return undefined\n    const cssVar = kebabCase(key)\n    function value(defaultValue?: string) {\n        // it might be an object when used in styled components.\n        if (typeof defaultValue !== 'string') defaultValue = undefined\n        const x = `var(--mask-${cssVar}${defaultValue ? ', ' + defaultValue : ''})`\n        return x\n    }\n    Object.assign(value, {\n        [Symbol.toPrimitive]: () => `var(--mask-${cssVar})`,\n        alpha: (alpha: number) => `rgba(var(--mask-${cssVar}-fragment), ${alpha})`,\n    })\n    Object.defineProperty(MaskColorVar, key, { configurable: true, enumerable: true, value })\n    return value\n}\n/**\n * @deprecated Use theme.palette.maskColor\n */\nexport const MaskColorVar: Record<keyof typeof LightColor, MaskCSSVariableColor> = {\n    __proto__: new Proxy(\n        {},\n        {\n            get: (_, p) => set(p),\n            getOwnPropertyDescriptor: (_, p) => {\n                set(p)\n                return Object.getOwnPropertyDescriptor(MaskColorVar, p)\n            },\n        },\n    ),\n} as any\n","import { Box, Button } from '@mui/material'\nimport type { ButtonProps } from '@mui/material/Button'\nimport { LoadingBase } from '../LoadingBase/index.js'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nexport interface ActionButtonProps extends ButtonProps {\n    width?: number | string\n    loading?: boolean\n}\n\nconst useStyles = makeStyles()({\n    loading: {\n        ['& > *']: {\n            opacity: 0.3,\n        },\n    },\n})\n\nexport function ActionButton<T extends React.ComponentType<any> = React.ComponentType>(\n    props: ActionButtonProps & PropsOf<T>,\n) {\n    const { width, loading, children, className, style, ...rest } = props\n    const { classes, cx } = useStyles()\n    return (\n        <Button\n            className={cx('actionButton', className, loading ? classes.loading : undefined)}\n            style={{ width, ...style, pointerEvents: loading ? 'none' : undefined }}\n            {...rest}\n            disableElevation\n            disabled={!!(rest.disabled || loading)}>\n            {loading ? (\n                <Box\n                    position=\"absolute\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                    style={{ opacity: 1 }}>\n                    <LoadingBase />\n                </Box>\n            ) : null}\n            {children}\n        </Button>\n    )\n}\n","import { type GeneratedIconProps, Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    animated: {\n        '@keyframes loadingAnimation': {\n            '0%': {\n                transform: 'rotate(0deg)',\n            },\n            '100%': {\n                transform: 'rotate(360deg)',\n            },\n        },\n        animation: 'loadingAnimation 1s linear infinite',\n    },\n}))\n\nexport function LoadingBase(props: GeneratedIconProps) {\n    const { classes, cx } = useStyles()\n    return <Icons.CircleLoading {...props} className={cx(classes.animated, props.className)} />\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import { forwardRef, useRef, memo, useCallback } from 'react'\nimport { keyframes } from 'tss-react'\nimport {\n    SnackbarProvider,\n    type SnackbarProviderProps,\n    type SnackbarKey,\n    useSnackbar,\n    type VariantType,\n    type SnackbarMessage,\n    SnackbarContent,\n    type SnackbarAction,\n    type OptionsObject,\n} from 'notistack'\nimport { Typography, IconButton, alpha } from '@mui/material'\nimport { Close as CloseIcon, Warning as WarningIcon, Info as InfoIcon } from '@mui/icons-material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\nimport { MaskColorVar } from '../../CSSVariables/index.js'\nimport { usePortalShadowRoot } from '../../ShadowRoot/index.js'\n\nexport { PopupSnackbarProvider, usePopupCustomSnackbar } from './PopupSnackbar.js'\nexport { SnackbarProvider, useSnackbar } from 'notistack'\nexport type { VariantType, OptionsObject, SnackbarKey, SnackbarMessage } from 'notistack'\n\nexport interface StyleProps {\n    offsetY?: number\n}\n\nconst useStyles = makeStyles<StyleProps, 'title' | 'message'>()((theme, { offsetY }, classNames) => {\n    const spinningAnimationKeyFrames = keyframes`\n        to {\n          transform: rotate(360deg)\n        }\n    `\n    const title = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        fontSize: 14,\n        lineHeight: '18px',\n    } as const\n    const message = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 400,\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: 14,\n        lineHeight: '18px',\n        wordBreak: 'break-word',\n        '& > a': {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        '& :focus:not(:focus-visible)': {\n            outline: 0,\n        },\n    } as const\n    const defaultVariant = {\n        background: theme.palette.maskColor.bottom,\n        color: theme.palette.maskColor.main,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n\n        [`& .${classNames.message}`]: {\n            color: 'inherit',\n        },\n    }\n    const success = {\n        backgroundColor: theme.palette.maskColor.success,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.success, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const error = {\n        background: theme.palette.maskColor.danger,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.danger, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const info = {\n        background: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    }\n\n    const warning = {\n        backgroundColor: theme.palette.maskColor.warn,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.warn, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    return {\n        root: {\n            zIndex: 9999,\n            transform: typeof offsetY !== 'undefined' ? `translateY(${offsetY}px)` : 'none',\n            color: MaskColorVar.textLight,\n            pointerEvents: 'inherit',\n        },\n        content: {\n            alignItems: 'center',\n            padding: theme.spacing(2),\n            borderRadius: 12,\n            width: 380,\n            flexWrap: 'nowrap !important' as 'nowrap',\n        },\n        // eslint-disable-next-line tss-unused-classes/unused-classes\n        default: defaultVariant,\n        success,\n        error,\n        info,\n        warning,\n        icon: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '& > svg': {\n                width: 24,\n                height: 24,\n            },\n        },\n        spinning: {\n            display: 'flex',\n            animation: `${spinningAnimationKeyFrames} 2s infinite linear`,\n        },\n        action: {\n            marginLeft: 'auto',\n        },\n        closeButton: {\n            color: 'inherit',\n            transform: 'translateY(-10px)',\n        },\n        texts: {\n            marginLeft: theme.spacing(1.5),\n            '& :focus:not(:focus-visible)': {\n                outline: 0,\n            },\n        },\n        title,\n        message,\n    }\n})\n\nexport interface CustomSnackbarContentProps {\n    id: SnackbarKey\n    title: SnackbarMessage\n    message?: string | React.ReactNode\n    icon?: React.ReactNode\n    processing?: boolean\n    variant?: VariantType\n    action?: SnackbarAction\n    offsetY?: number\n    classes?: Partial<ReturnType<typeof useStyles>['classes']>\n}\nconst IconMap: Record<VariantType, React.ReactNode> = {\n    default: <InfoIcon color=\"inherit\" />,\n    success: <Icons.SuccessForSnackBar />,\n    error: <Icons.TransactionFailed />,\n    warning: <WarningIcon color=\"inherit\" />,\n    info: <InfoIcon color=\"inherit\" />,\n}\n\nexport const CustomSnackbarContent = forwardRef<HTMLDivElement, CustomSnackbarContentProps>((props, ref) => {\n    const { classes, cx } = useStyles({ offsetY: props.offsetY }, { props })\n    const snackbar = useSnackbar()\n    const loadingIcon = <Icons.CircleLoading className={classes.spinning} />\n    const variantIcon = props.processing ? loadingIcon : props.variant ? IconMap[props.variant] : null\n    let renderedAction: React.ReactNode = (\n        <IconButton className={classes.closeButton} onClick={() => snackbar.closeSnackbar(props.id)}>\n            <CloseIcon />\n        </IconButton>\n    )\n    if (props.action) {\n        renderedAction = typeof props.action === 'function' ? props.action(props.id) : props.action\n    }\n    return (\n        <SnackbarContent ref={ref} className={cx(classes.content, classes[props.variant!])}>\n            {variantIcon ? <div className={classes.icon}>{variantIcon}</div> : null}\n            <div className={classes.texts}>\n                <Typography className={classes.title} variant=\"h2\">\n                    {props.title}\n                </Typography>\n                {props.message ? (\n                    <Typography className={classes.message} variant=\"body1\">\n                        {props.message}\n                    </Typography>\n                ) : null}\n            </div>\n            <div className={classes.action}>{renderedAction}</div>\n        </SnackbarContent>\n    )\n})\n\nexport const CustomSnackbarProvider = memo<\n    SnackbarProviderProps & {\n        offsetY?: number\n    }\n>(function CustomSnackbarProvider({ offsetY, ...rest }) {\n    const ref = useRef<SnackbarProvider>(null)\n    const { classes } = useStyles({ offsetY })\n    const onDismiss = (key: string | number) => () => {\n        ref.current?.closeSnackbar(key)\n    }\n\n    return usePortalShadowRoot((container) => (\n        <SnackbarProvider\n            ref={ref}\n            maxSnack={30}\n            disableWindowBlurListener\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            hideIconVariant\n            // this is a false positive, SnackbarProvider won't use it like it is a component.\n            // eslint-disable-next-line react/no-unstable-nested-components\n            content={(key, title) => (\n                <CustomSnackbarContent id={key} variant={rest.variant ?? 'default'} title={title} offsetY={offsetY} />\n            )}\n            // eslint-disable-next-line react/no-unstable-nested-components\n            action={(key) => (\n                <IconButton size=\"large\" onClick={onDismiss(key)} sx={{ color: 'inherit' }}>\n                    <CloseIcon color=\"inherit\" />\n                </IconButton>\n            )}\n            classes={{\n                containerRoot: classes.root,\n                variantSuccess: classes.success,\n                variantError: classes.error,\n                variantInfo: classes.info,\n                variantWarning: classes.warning,\n            }}\n            domRoot={container}\n            {...rest}\n        />\n    ))\n})\n\nexport interface ShowSnackbarOptions\n    extends OptionsObject,\n        Pick<CustomSnackbarContentProps, 'message' | 'processing' | 'icon' | 'classes'> {}\n\nexport function useCustomSnackbar() {\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n    const showSnackbar = useCallback(\n        (\n            text: SnackbarMessage,\n            options: ShowSnackbarOptions = {\n                variant: 'default',\n            },\n        ) => {\n            const { processing, message, variant, ...rest } = options\n            return enqueueSnackbar(text, {\n                variant: options.variant,\n                content: (key, title) => {\n                    return (\n                        <CustomSnackbarContent\n                            variant={variant ?? 'default'}\n                            id={key}\n                            title={title}\n                            message={message}\n                            processing={processing}\n                            action={rest.action}\n                            classes={rest.classes}\n                        />\n                    )\n                },\n                ...rest,\n            })\n        },\n        [enqueueSnackbar],\n    )\n\n    return { showSnackbar, closeSnackbar }\n}\n","import { Popper } from '@mui/material'\nimport { createShadowRootForwardedComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootPopper = createShadowRootForwardedComponent(Popper)\nShadowRootPopper.displayName = 'ShadowRootTooltip'\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useBlockedNonFungibleTokens<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    schemaType?: Web3Helper.SchemaTypeScope<S, T>,\n) {\n    const { Token } = useWeb3State(pluginID)\n    const nfts = useSubscription(Token?.blockedNonFungibleTokens ?? EMPTY_ARRAY)\n    return useMemo<Array<Web3Helper.NonFungibleTokenScope<S, T>>>(() => {\n        return nfts.length && schemaType ? nfts.filter((x) => x.schema === schemaType) : nfts\n    }, [schemaType, nfts])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedChainIdOrNetworkTypeOrID?: string | number,\n): Web3Helper.NetworkDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { networkType } = useChainContext()\n\n    return getRegisteredWeb3Networks(pluginID).find((x) =>\n        [x.chainId, x.type, x.ID].includes(expectedChainIdOrNetworkTypeOrID ?? networkType ?? ''),\n    )\n}\n","import { type NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport { useNetworkContext } from './useContext.js'\n\n/**\n * Get all built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptors<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return getRegisteredWeb3Networks(pluginID)\n}\n","import { EMPTY_LIST, type NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useInfiniteQuery } from '@tanstack/react-query'\nimport { useCallback, useMemo } from 'react'\nimport { useBlockedNonFungibleTokens } from './useBlockedNonFungibleTokens.js'\nimport { useChainContext } from './useContext.js'\nimport { useNetworkDescriptors } from './useNetworkDescriptors.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\n\n/**\n * Blocked tokens would be filtered out\n */\nexport function useNonFungibleAssets<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    schemaType?: Web3Helper.SchemaTypeScope<S, T>,\n    options?: HubOptions<T>,\n) {\n    const { account, chainId } = useChainContext({ account: options?.account })\n    const Hub = useWeb3Hub(pluginID, { account, chainId, ...options })\n    const networks = useNetworkDescriptors(pluginID)\n    const availableChainIds = useMemo(() => {\n        return networks\n            .filter((x) => x.isMainnet && (options?.chainId ? x.chainId === options.chainId : true))\n            .map((x) => x.chainId)\n    }, [networks, options?.chainId])\n\n    const blockedTokens = useBlockedNonFungibleTokens()\n    const blockedTokenIds = useMemo(() => {\n        return blockedTokens.filter((x) => availableChainIds.includes(x.chainId)).map((x) => x.id)\n    }, [blockedTokens, availableChainIds])\n    const { data, isLoading, fetchNextPage, hasNextPage, refetch, error, dataUpdatedAt } = useInfiniteQuery({\n        queryKey: ['non-fungible-assets', account, availableChainIds, blockedTokenIds],\n        queryFn: async ({ pageParam }) => {\n            const chainId = pageParam?.chainId || availableChainIds[0]\n            const res = await Hub.getNonFungibleAssets!(account, {\n                indicator: pageParam?.indicator,\n                size: 20,\n                chainId,\n            })\n            const data = blockedTokenIds.length\n                ? res.data.filter((x) => {\n                      const id = `${x.chainId}.${x.address}.${x.tokenId}`.toLowerCase()\n                      return !blockedTokenIds.includes(id)\n                  })\n                : res.data\n            return {\n                ...res,\n                data,\n                chainId,\n            }\n        },\n        getNextPageParam: (lastPage) => {\n            const { nextIndicator, chainId } = lastPage\n            const nextChainId = nextIndicator ? chainId : availableChainIds[availableChainIds.indexOf(chainId) + 1]\n            if (!nextChainId) return\n            return {\n                indicator: nextIndicator,\n                chainId: nextChainId,\n            }\n        },\n    })\n\n    const list = useMemo(() => data?.pages.flatMap((x) => x.data) || EMPTY_LIST, [data?.pages])\n    const nextPage = useCallback(() => fetchNextPage(), [fetchNextPage])\n\n    // TODO rename these fields in style of react-query\n    return {\n        value: list,\n        next: nextPage,\n        loading: isLoading,\n        done: !hasNextPage,\n        retry: refetch,\n        error,\n        dataUpdatedAt,\n    }\n}\n","import { getRegisteredWeb3Providers } from '@masknet/web3-providers'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared provider descriptor\n * @param expectedPluginID\n * @param expectedProviderTypeOrID\n * @returns\n */\nexport function useProviderDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedProviderTypeOrID?: string,\n): Web3Helper.ProviderDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { providerType } = useChainContext()\n\n    return getRegisteredWeb3Providers(pluginID).find((x) =>\n        [x.type, x.ID].includes(expectedProviderTypeOrID ?? providerType ?? ''),\n    )\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport type { RecentTransactionComputed, TransactionStatusType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRecentTransactions<T extends NetworkPluginID>(pluginID?: T, status?: TransactionStatusType) {\n    const { Transaction } = useWeb3State(pluginID)\n    const transactions = useSubscription(Transaction?.transactions ?? EMPTY_ARRAY)\n    type ChainId = Web3Helper.Definition[T]['ChainId']\n    type Transaction = Web3Helper.Definition[T]['Transaction']\n\n    return useMemo<Array<RecentTransactionComputed<ChainId, Transaction>>>(() => {\n        return (status ? transactions.filter((x) => status === x.status) : transactions).map((x) => ({\n            ...x,\n            _tx: x.candidates[x.indexId],\n        }))\n    }, [status, transactions])\n}\n","import { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useReverseAddress<T extends NetworkPluginID>(pluginID?: T, address?: string, domainOnly?: boolean) {\n    const { NameService } = useWeb3State(pluginID)\n\n    return useQuery({\n        queryKey: ['reverse', address, domainOnly],\n        enabled: !!NameService?.reverse,\n        queryFn: async () => {\n            if (!address) return null\n            return (await NameService?.reverse?.(address, domainOnly)) || null\n        },\n    })\n}\n","import { useMemo } from 'react'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWallets } from './useWallets.js'\n\n/**\n * Use the currently selected wallet.\n * @param pluginID\n * @returns\n */\nexport function useWallet<T extends NetworkPluginID>(\n    pluginID?: T,\n    providerType?: Web3Helper.Definition[T]['ProviderType'],\n) {\n    const { account } = useChainContext()\n    const wallets = useWallets()\n\n    return useMemo(() => {\n        return account ? wallets.find((x) => isSameAddress?.(x.address, account)) ?? null : null\n    }, [account, wallets])\n}\n","import { EMPTY_LIST, type Wallet } from '@masknet/shared-base'\nimport { Providers } from '@masknet/web3-providers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useMemo } from 'react'\nimport { usePersistSubscription } from '@masknet/shared-base-ui'\n\nexport function useWallets() {\n    // We got stored Mask wallets only.\n    const wallets = usePersistSubscription(\n        '@@mask-wallets',\n        Providers[ProviderType.MaskWallet].subscription.wallets ?? EMPTY_LIST,\n    )\n\n    return useMemo(() => {\n        return [...wallets]\n            .map((w) => {\n                // Could be serialized by react query persist client\n                if (w.createdAt instanceof Date && w.updatedAt instanceof Date) return w\n                return {\n                    ...w,\n                    createdAt: new Date(w.createdAt),\n                    updatedAt: new Date(w.updatedAt),\n                } as Wallet\n            })\n            .sort((a, b) => {\n                if (a.owner && !b.owner) return 1\n                const timestampA = a.createdAt.getTime()\n                const timestampB = b.createdAt.getTime()\n                if (timestampA - timestampB > 10000) {\n                    return 1\n                } else if (timestampB - timestampA > 10000) {\n                    return -1\n                }\n                const numA = a.name.split('Wallet ')[1]\n                const numB = b.name.split('Wallet ')[1]\n                try {\n                    if (!numA && numB && !Number.isNaN(numB)) return 1\n                    if (!Number.isNaN(numA) && !Number.isNaN(numB)) {\n                        return Number(numA) > Number(numB) ? 1 : -1\n                    } else {\n                        return numB.length - numA.length\n                    }\n                } catch {\n                    return 0\n                }\n            })\n    }, [wallets])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { HubAll } from '@masknet/web3-providers'\nimport type { Hub, HubOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Hub<T extends NetworkPluginID = NetworkPluginID>(expectedPluginID?: T, options?: HubOptions<T>) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => HubAll.use(pluginID, options) as Hub<T>, [pluginID, JSON.stringify(options)])\n}\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Global } from '@emotion/react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction isEmpty(obj) {\n  return obj === undefined || obj === null || Object.keys(obj).length === 0;\n}\n\nexport default function GlobalStyles(props) {\n  const {\n    styles,\n    defaultTheme = {}\n  } = props;\n  const globalStyles = typeof styles === 'function' ? themeInput => styles(isEmpty(themeInput) ? defaultTheme : themeInput) : styles;\n  return /*#__PURE__*/_jsx(Global, {\n    styles: globalStyles\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? GlobalStyles.propTypes = {\n  defaultTheme: PropTypes.object,\n  styles: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func])\n} : void 0;","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","'use client';\nimport * as React from 'react';\n\nconst IsRestoringContext = /*#__PURE__*/React.createContext(false);\nconst useIsRestoring = () => React.useContext(IsRestoringContext);\nconst IsRestoringProvider = IsRestoringContext.Provider;\n\nexport { IsRestoringProvider, useIsRestoring };\n//# sourceMappingURL=isRestoring.mjs.map\n","'use client';\nimport { parseQueryArgs, InfiniteQueryObserver } from '@tanstack/query-core';\nimport { useBaseQuery } from './useBaseQuery.mjs';\n\nfunction useInfiniteQuery(arg1, arg2, arg3) {\n  const options = parseQueryArgs(arg1, arg2, arg3);\n  return useBaseQuery(options, InfiniteQueryObserver);\n}\n\nexport { useInfiniteQuery };\n//# sourceMappingURL=useInfiniteQuery.mjs.map\n"],"names":["lastRecognizedProfile","currentVisitingProfile","currentNextIDPlatform","currentPersonaIdentifier","getPostURL","share","getUserIdentity","getPostIdFromNewPostToast","postMessage","getSearchedKeyword","connectPersona","__setSiteAdaptorContext__","value","useSubscription","useCurrentVisitingIdentity","UNDEFINED","useLastRecognizedIdentity","WebExtensionMessage","serializer","DOMAIN_RPC","Symbol","getPluginMessage","pluginID","type","domain","cache","has","get","messageCenter","events","serialization","set","__workaround__replaceImplementationOfCreatePluginMessage__","newImpl","Map","PetsPluginID","webpackHot","accept","PluginPetMessages","useMemo","useAsync","useChainContext","Web3Storage","useUser","account","whoAmI","identifier","userId","address","DEFAULT_USER","useCurrentVisitingUser","flag","identity","user","location","href","endsWith","storage","createKVStorage","useTranslation","createProxy","initValue","define","key","Object","defineProperty","container","configurable","__proto__","Proxy","_","undefined","getPrototypeOf","setPrototypeOf","v","getOwnPropertyDescriptor","usePetsTrans","t","bind","ImageType","MASK_TWITTER","PunkIcon","Punk3D","useEssay","refresh","stringStorage","createFireflyStorage","result","essay","rss3Storage","createRSS3Storage","useDefaultEssay","profileUser","essayMeta","isProfile","isMASK","image","url","word","pet_setting_tooltip","context","NORMAL","contract","tokenId","chainId","LoadingBase","useState","DefaultIcon","ImageLoader","props","loaded","setLoaded","onErrorHandle","event","currentTarget","src","img","onLoad","onError","style","display","size","ModelView","source","rest","div","iframe","makeStyles","Typography","useStyles","theme","box","position","flexDirection","alignItems","justifyContent","height","border","borderRadius","marginTop","boxSizing","padding","overflow","msgBox","width","backgroundColor","boxShadow","opacity","pointerEvents","transition","fontSize","lineHeight","color","textAlign","marginBottom","content","bottom","left","transform","wordShow","animation","fontFamily","overflowWrap","video","noData","paddingBottom","glbView","PreviewBox","classes","cx","renderPreview","mediaUrl","imageUrl","test","className","autoPlay","loop","muted","playsInline","poster","slice","Math","max","lastIndexOf","message","tokenInfo","glbSupport","pets_dialog_preview","PureComponent","createRef","contentWidth","contentHeight","startPosition","x","y","Draggable","ref","mouseMoveFuc","onMouseMove","mouseUpFuc","onMouseUp","defaultProps","transferMsg","state","pos","dragging","rel","onMouseDown","e","button","current","divDom","offsetLeft","top","offsetTop","setState","pageX","pageY","stopPropagation","preventDefault","window","innerWidth","baseWidth","innerHeight","baseHeight","moveHandle","componentDidUpdate","_props","document","addEventListener","removeEventListener","componentWillUnmount","render","right","children","Box","useBoxStyles","Drag","CloseIcon","Image","imgContent","zIndex","imgBox","close","cursor","backgroundSize","wordContent","wordBox","maxWidth","handleMenuShow","NormalNFT","start","infoShow","showMeta","handleClose","boxClasses","setPosition","onContextMenu","objectFit","maxHeight","alignSelf","onClick","backgroundImage","createGlobalSettings","petShowSettings","useEffect","useValueRef","root","AnimatePic","petShow","setStart","setRefresh","visitor","visitorMeta","defMeta","setInfoShow","handleMouseEnter","handleMouseLeave","refreshHandle","data","setResult","on","count","timer","setInterval","check","clearInterval","off","onMouseEnter","onMouseLeave","Button","useCallback","margin","spacing","flex","notice","palette","maskColor","main","PetShareDialog","onClose","onShareClick","share_twitter","pets_dialog_success","pets_dialog_btn_share","EMPTY_LIST","NetworkPluginID","resolveIPFS_URL","useNonFungibleAssets","isLens","isLensCollect","isLensComment","isLensFollower","isLensPost","useNFTs","assets","loading","isLoading","done","next","dataUpdatedAt","PLUGIN_EVM","nfts","map","length","normalAssets","filter","name","collection","metadata","asset","imageURL","tokens","icon","iconURL","values","Icons","PluginWalletStatusBar","useSharedTrans","ActionButton","ShadowRootPopper","useCustomSnackbar","useWallet","isSameAddress","Autocomplete","Checkbox","FormControlLabel","Grid","InputBase","MenuItem","Snackbar","inputBaseClasses","useTheme","useTimeout","GLB3DIcon","initMeta","desBox","poweredBy","marginRight","des","input","focused","inputOption","menuItem","btn","thumbnail","glbIcon","marginLeft","itemFix","itemTxt","textOverflow","WebkitLineCamp","boxPaper","mode","arrowIcon","second","PetSetDialog","configNFTs","sharedI18N","showSnackbar","setLoading","checked","isReady","cancel","wallet","blacklist","Mainnet","setCollection","isCollectionsError","setCollectionsError","metaData","setMetaData","isImageError","setImageError","isTipVisible","setTipVisible","holderChange","setHolderChange","tokenInfoSelect","setTokenInfoSelect","inputTokenName","setInputTokenName","closeDialogHandle","sendToAll","random","saveHandle","chosenToken","find","item","meta","kvStorage","pets_dialog_fail","variant","onCollectionChange","matched","onImageChange","GLB","setMsgValueCheck","imageChose","imageChosen","mediaChose","mediaURL","renderImg","paperComponent","nftsRender","id","options","onChange","_event","newValue","isOptionEqualToValue","op","getOptionLabel","option","PopperComponent","PaperComponent","renderOption","disabled","includes","component","pets_dialog_unverified","renderInput","params","InputProps","fullWidth","placeholder","pets_dialog_contract","error","inputProps","endAdornment","pr","ArrowDrop","tokensRender","inputValue","pets_dialog_token","xs","pets_dialog_msg_optional","pets_dialog_msg","multiline","rows","target","onBlur","onFocus","control","label","pets_dialog_check_title","sx","fontWeight","pets_powered_by","Pets","RSS3","owner","coming_soon","pets_dialog_btn","anchorOrigin","vertical","horizontal","open","memo","InjectedDialog","DialogContent","usePetConstants","PetFriendNFTStep","SetFriendNFT","ShareFriendNFT","PetDialog","step","setStep","setConfigNFTs","NFTS_BLOCK_ADDRESS","Storage","handleSetDialogClose","title","pets_dialog_title","pets_dialog_title_share","titleBarIconStyle","useRemoteControlledDialog","PetsGlobalInjection","closeDialog","essayDialogUpdated","Trans","ApplicationEntry","base","PluginID","site","init","GlobalInjection","ApplicationEntries","i18nKey","ns","iconFilterColor","ApplicationEntryID","ID","RenderEntryComponent","EntryComponentProps","openDialog","appBoardSortingDefaultPriority","marketListSortingPriority","description","tutorialLink","category","useRef","v4","uuid","onUpdateByRemote","tabType","HOOK_ID","setOpen","_ev","hookId","onUpdateByLocal","ev","timer_","clearTimeout","setTimeout","payload","sendToLocal","sendToVisiblePages","setDialog","defer","delay","Emitter","SingletonModal","constructor","abort","openAndWaitForClose","emitter","onOpen","onAbort","dispatchPeek","dispatchOpen","dispatchClose","dispatchAbort","register","creator","emit","peek","console","warn","Promise","resolve","reject","SingletonModalQueued","opened","tasks","cleanup","push","d","shift","ShadowRootTooltip","Link","useCopyToClipboard","copy","CopyButton","text","successText","scoped","copyToClipboard","copied","setCopied","active","setActive","timerRef","handleCopy","tooltipTitle","iconProps","placement","disableInteractive","arrow","underline","Check","success","Copy","rounded","refs","optimistic","failImage","center","failed","background","MASK_DARK_FALLBACK","URL","MASK_LIGHT_FALLBACK","fallback","disableSpinner","extraClasses","containerProps","setFailed","decoding","toString","fallbackImage","ImageIcon","backdropFilter","mainIcon","badgeIcon","badgeIconBorderColor","common","white","WalletIcon","badgeSize","Sniffings","Action","openSelectWalletDialog","columnGap","minWidth","is_popup_page","wallet_status_button_change","alpha","MaskColorVar","useNetworkContext","useProviderDescriptor","useRecentTransactions","useNetworkDescriptor","useReverseAddress","useWeb3Others","NetworkContextProvider","RevokeChainContextProvider","TransactionStatusType","ProviderType","WalletDescription","SelectProviderModal","WalletStatusModal","is_dashboard_page","mainBackground","connection","PluginWalletStatusBarWithoutContext","expectedPluginID","expectedChainId","requiredSupportChainIds","requiredSupportPluginID","providerType","providerDescriptor","networkDescriptor","expectedNetworkDescriptor","Others","openSelectProviderDialog","pendingTransactions","NOT_DEPEND","walletName","MaskWallet","formatAddress","Wallet","plugin_wallet_connect_a_wallet","pending","providerIcon","networkIcon","formattedAddress","addressLink","explorerResolver","onPendingClick","displayName","actualPluginID","gap","progress","linkIcon","verified","span","Verification","LinkOut","recent_transaction_pending","WalletConnectQRCodeModal","WalletRiskWarningModal","ConnectWalletModal","LeavePageConfirmModal","ApplicationBoardModal","ApplicationBoardSettingsModal","GasSettingModal","TransactionConfirmModal","TransactionSnackbar","ConfirmModal","ConfirmDialog","SelectNonFungibleContractModal","SelectGasSettingsModal","AddCollectiblesModal","SelectFungibleTokenModal","PersonaSelectPanelModal","ShareSelectNetworkModal","ApplicationSettingTabs","LightColor","bg","primary","primaryContrastText","secondary","secondaryContrastText","primaryBackground","primaryBackground2","secondaryBackground","lightBackground","suspensionBackground","normalBackground","twitterBackground","twitterBackgroundHover","twitterInputBackground","twitterButton","twitterButtonText","twitterBlue","twitterBorderLine","twitterSecond","twitterMain","twitterBottom","twitterInfoBackground","twitterInfo","twitterBg","twitterTooltipBg","twitterInput","twitterLine","redMain","redLight","redContrastText","greenMain","greenLight","orangeMain","orangeLight","iconLight","divider","borderSecondary","textPrimary","textSecondary","secondaryInfoText","normalText","normalTextLight","infoBackground","warning","blue","textLink","lineLight","lineLighter","textLight","lightestBackground","linkText","twitter","facebook","errorBackground","tooltipBackground","warningBackground","cyberconnectPrimary","errorPlugin","buttonPluginBackground","textPluginColor","buttonPluginColor","DarkColor","kebabCase","getMaskColor","cssVar","defaultValue","assign","toPrimitive","enumerable","p","disableElevation","animated","CircleLoading","forwardRef","keyframes","SnackbarProvider","useSnackbar","SnackbarContent","IconButton","Close","Warning","WarningIcon","Info","InfoIcon","usePortalShadowRoot","PopupSnackbarProvider","usePopupCustomSnackbar","offsetY","classNames","spinningAnimationKeyFrames","wordBreak","outline","defaultVariant","danger","info","flexWrap","default","spinning","action","closeButton","texts","IconMap","SuccessForSnackBar","TransactionFailed","CustomSnackbarContent","snackbar","loadingIcon","variantIcon","processing","renderedAction","closeSnackbar","CustomSnackbarProvider","onDismiss","maxSnack","disableWindowBlurListener","hideIconVariant","containerRoot","variantSuccess","variantError","variantInfo","variantWarning","domRoot","enqueueSnackbar","Popper","createShadowRootForwardedComponent","EMPTY_ARRAY","useWeb3State","useBlockedNonFungibleTokens","schemaType","Token","blockedNonFungibleTokens","schema","getRegisteredWeb3Networks","expectedChainIdOrNetworkTypeOrID","networkType","useNetworkDescriptors","useInfiniteQuery","useWeb3Hub","Hub","networks","availableChainIds","isMainnet","blockedTokens","blockedTokenIds","fetchNextPage","hasNextPage","refetch","queryKey","queryFn","pageParam","res","getNonFungibleAssets","indicator","toLowerCase","getNextPageParam","lastPage","nextIndicator","nextChainId","indexOf","list","pages","flatMap","nextPage","retry","getRegisteredWeb3Providers","expectedProviderTypeOrID","status","Transaction","transactions","_tx","candidates","indexId","useQuery","domainOnly","NameService","enabled","reverse","useWallets","wallets","Providers","usePersistSubscription","subscription","w","createdAt","Date","updatedAt","sort","a","b","timestampA","getTime","timestampB","numA","split","numB","Number","isNaN","HubAll","use","JSON","stringify"],"sourceRoot":"","x_google_ignoreList":[35,36,49,50,51,52,53]}