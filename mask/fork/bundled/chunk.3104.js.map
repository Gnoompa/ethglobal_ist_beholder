{"version":3,"file":"bundled/chunk.3104.js","mappings":"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SE,aAAa5J,MAAM,CAAC,CAAC7C,IAAMuM,WAAWvM,EAAEuM,MAAM,IAAIE,YAAW,EAAG/E,GAAG,CAAC,CAAC1H,IAAO;gBACzF,GAAGA,CAAC;gBACJ0M,KAAK1M,EAAE2M,UAAU,CAAC3M,EAAE4M,OAAO,CAAC;YAChC;IACJ,GAAG;QAACL;QAAQE;KAAa;AAC7B;;;;;;;;;;;;;ACnB4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,2CAA2C,4EAA4E,IAAI;AAClI,8BAA8B,+CAAQ;AACtC,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;ACjGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,KAA4B;;AAE/D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,KAAqC,EAAE,qCAO1C,CAAC;AACF;AACA;AACA,mBAAm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","sources":["webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/Action.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/hooks/useWalletName.ts","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/WalletMenuItem.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/PluginVerifiedWalletStatusBar.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/WalletDescription.tsx","webpack://mask-network/./packages/shared/src/hooks/useMenu.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootMenu.ts","webpack://mask-network/./packages/web3-hooks/base/src/useRecentTransactions.ts","webpack://mask-network/./node_modules/.pnpm/@react-hookz+web@23.1.0_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-experimental-0a360642d-20230711/node_modules/@react-hookz/web/esm/useIntersectionObserver/index.js","webpack://mask-network/./node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/factoryWithThrowingShims.js","webpack://mask-network/./node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js","webpack://mask-network/./node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://mask-network/./node_modules/.pnpm/react-avatar-editor@13.0.0_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-experimental-0a360642d-20230711/node_modules/react-avatar-editor/dist/index.js"],"sourcesContent":["import { memo, type PropsWithChildren, useRef } from 'react'\nimport { Box, Button } from '@mui/material'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { Sniffings } from '@masknet/shared-base'\n\ninterface ActionProps extends PropsWithChildren<{}> {\n    openSelectWalletDialog: () => void\n}\n\nexport const Action = memo<ActionProps>(function Action({ children, openSelectWalletDialog }) {\n    const ref = useRef<HTMLDivElement>()\n    const t = useSharedTrans()\n\n    return (\n        <Box display=\"flex\" columnGap={16} minWidth={!Sniffings.is_popup_page ? 276 : 176} ref={ref}>\n            {children ?? (\n                <Button fullWidth onClick={openSelectWalletDialog}>\n                    {t.wallet_status_button_change()}\n                </Button>\n            )}\n        </Box>\n    )\n})\n","import { useMemo } from 'react'\nimport { Sniffings, type NetworkPluginID } from '@masknet/shared-base'\nimport {\n    useChainContext,\n    useReverseAddress,\n    useProviderDescriptor,\n    useWallets,\n    useWeb3Others,\n} from '@masknet/web3-hooks-base'\nimport { ProviderType, formatDomainName } from '@masknet/web3-shared-evm'\nimport { isSameAddress, resolveNetworkWalletName } from '@masknet/web3-shared-base'\n\nexport const useWalletName = (\n    expectedAccount?: string,\n    expectedPluginId?: NetworkPluginID,\n    isNextIdWallet?: boolean,\n) => {\n    const { account, providerType } = useChainContext({ account: expectedAccount })\n    const { data: domain } = useReverseAddress(expectedPluginId, account)\n    const wallets = useWallets()\n    const providerDescriptor = useProviderDescriptor(expectedPluginId)\n    const Others = useWeb3Others(expectedPluginId)\n\n    return useMemo(() => {\n        // Binding Wallet Just display domain and network name\n        if (domain) return Sniffings.is_popup_page ? formatDomainName(domain, 12) : domain\n        if (isNextIdWallet && expectedPluginId) return resolveNetworkWalletName(expectedPluginId)\n        const wallet = wallets.find((x) => isSameAddress(x.address, expectedAccount ?? account))\n        if (providerType === ProviderType.MaskWallet && wallet?.name) return wallet?.name\n\n        return providerDescriptor?.name || Others.formatAddress(account, 4)\n    }, [\n        wallets,\n        expectedAccount,\n        providerType,\n        domain,\n        providerDescriptor?.name,\n        Others.formatAddress,\n        account,\n        isNextIdWallet,\n        expectedPluginId,\n    ])\n}\n","import { memo } from 'react'\nimport { Button, ListItemIcon, MenuItem } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { resolveNextID_NetworkPluginID } from '@masknet/web3-shared-base'\nimport type { NetworkPluginID, NextIDPlatform } from '@masknet/shared-base'\nimport { useWalletName } from './hooks/useWalletName.js'\nimport {\n    useNetworkContext,\n    useChainContext,\n    useDefaultChainId,\n    useNetworkDescriptor,\n    useProviderDescriptor,\n    useWeb3Others,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { makeStyles } from '@masknet/theme'\nimport { WalletDescription, type WalletDescriptionProps } from './WalletDescription.js'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    icon: {\n        color: theme.palette.maskColor.line,\n    },\n}))\ninterface WalletMenuItemProps {\n    onSelect?: (value: WalletDescriptionProps, chainId: Web3Helper.ChainIdAll, pluginID: NetworkPluginID) => void\n    address: string\n    selected?: boolean\n    verified?: boolean\n    onChangeWallet?: () => void\n    platform?: NextIDPlatform\n    expectedChainId?: Web3Helper.ChainIdAll\n}\n\nexport const WalletMenuItem = memo<WalletMenuItemProps>(\n    ({ address, selected, onChangeWallet, platform, onSelect, verified, expectedChainId }) => {\n        const t = useSharedTrans()\n        const { classes } = useStyles()\n\n        const { pluginID } = useNetworkContext(platform ? resolveNextID_NetworkPluginID(platform) : undefined)\n        const defaultChainId = useDefaultChainId(pluginID)\n        const { chainId } = useChainContext({\n            chainId: platform ? defaultChainId : expectedChainId,\n        })\n\n        const name = useWalletName(address, pluginID, !!platform)\n        const Others = useWeb3Others(pluginID)\n\n        const providerDescriptor = useProviderDescriptor()\n        const networkDescriptor = useNetworkDescriptor(pluginID, chainId)\n        const formattedAddress = Others.formatAddress(address, 4)\n        const addressLink = Others.explorerResolver.addressLink(chainId, address)\n\n        const descriptionProps = {\n            name,\n            providerIcon: !platform ? providerDescriptor?.icon : undefined,\n            networkIcon: networkDescriptor?.icon,\n            iconFilterColor: !platform ? providerDescriptor?.iconFilterColor : undefined,\n            formattedAddress,\n            addressLink,\n            address,\n            verified,\n        }\n\n        return (\n            <MenuItem value={address} onClick={() => onSelect?.(descriptionProps, chainId, pluginID)}>\n                {/* TODO: replace to radio */}\n                <ListItemIcon>\n                    {selected ? (\n                        <Icons.RadioButtonChecked\n                            size={24}\n                            style={{ filter: 'drop-shadow(0px 0px 6px rgba(28, 104, 243, 0.6))' }}\n                        />\n                    ) : (\n                        <Icons.RadioButtonUnChecked size={24} className={classes.icon} />\n                    )}\n                </ListItemIcon>\n                <WalletDescription {...descriptionProps} />\n                {onChangeWallet ? (\n                    <Button size=\"medium\" variant=\"roundedContained\" onClick={onChangeWallet} sx={{ marginLeft: 4 }}>\n                        {t.wallet_status_button_change()}\n                    </Button>\n                ) : null}\n            </MenuItem>\n        )\n    },\n)\n","import { memo, type PropsWithChildren, useCallback, useMemo, useState } from 'react'\nimport { useAsync, useUpdateEffect } from 'react-use'\nimport { first, omit } from 'lodash-es'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, MaskColorVar } from '@masknet/theme'\nimport { SmartPayBundler } from '@masknet/web3-providers'\nimport { isSameAddress, resolveNextID_NetworkPluginID, TransactionStatusType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { alpha, Box, Button, Divider, MenuItem, Typography } from '@mui/material'\nimport { type BindingProof, type NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport {\n    useChainContext,\n    useNetworkContext,\n    useNetworkDescriptor,\n    useProviderDescriptor,\n    useDefaultChainId,\n    useRecentTransactions,\n    useWallets,\n    useAccount,\n    useChainId,\n    useWeb3Others,\n} from '@masknet/web3-hooks-base'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { Action } from './Action.js'\nimport type { WalletDescriptionProps } from './WalletDescription.js'\nimport { useWalletName } from './hooks/useWalletName.js'\nimport { WalletDescription } from './WalletDescription.js'\nimport { WalletMenuItem } from './WalletMenuItem.js'\nimport { SelectProviderModal, WalletStatusModal, useMenuConfig } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        boxSizing: 'content-box',\n        display: 'flex',\n        backgroundColor: Sniffings.is_dashboard_page\n            ? MaskColorVar.mainBackground\n            : alpha(theme.palette.maskColor.bottom, 0.8),\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 0px 20px rgba(255, 255, 255, 0.12)'\n                : '0px 0px 20px rgba(0, 0, 0, 0.05)',\n        backdropFilter: 'blur(16px)',\n        padding: theme.spacing(2),\n        borderRadius: '0 0 12px 12px',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flex: 1,\n        maxHeight: 40,\n    },\n    connection: {\n        width: 18,\n        height: 18,\n        marginRight: 8,\n    },\n    menu: {\n        background: theme.palette.maskColor.bottom,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        borderRadius: Sniffings.is_popup_page ? 16 : undefined,\n    },\n}))\n\ninterface PluginVerifiedWalletStatusBarProps extends PropsWithChildren<{}> {\n    verifiedWallets: BindingProof[]\n    className?: string\n    expectedAddress: string\n    openPopupWindow?: () => void\n    onChange?: (address: string, pluginID: NetworkPluginID, chainId: Web3Helper.ChainIdAll) => void\n    onChangeWallet?: () => void\n}\n\nexport const PluginVerifiedWalletStatusBar = memo<PluginVerifiedWalletStatusBarProps>(\n    ({ className, children, verifiedWallets, onChange, expectedAddress, openPopupWindow, onChangeWallet }) => {\n        const t = useSharedTrans()\n        const { classes, cx } = useStyles()\n\n        const account = useAccount()\n        const globalChainId = useChainId()\n        const { chainId } = useChainContext()\n        const allWallets = useWallets()\n        const { pluginID: currentPluginID } = useNetworkContext()\n        const isSmartPay = !!allWallets.find((x) => isSameAddress(x.address, account) && x.owner)\n        const { value: smartPaySupportChainId } = useAsync(async () => SmartPayBundler.getSupportedChainId(), [])\n\n        // exclude current account\n        const wallets = verifiedWallets.filter((x) => !isSameAddress(x.identity, account))\n\n        const selectedWallet = wallets.find((x) => isSameAddress(x.identity, expectedAddress))\n\n        const defaultVerifiedWallet = selectedWallet ?? first(wallets)\n\n        // Whether the current account is verified\n        const isVerifiedAccount = verifiedWallets.some((x) => isSameAddress(x.identity, account))\n\n        const pluginIdByDefaultVerifiedWallet = defaultVerifiedWallet\n            ? resolveNextID_NetworkPluginID(defaultVerifiedWallet?.platform)\n            : undefined\n\n        const isNextIdWallet = !account || !isSameAddress(account, expectedAddress)\n\n        const defaultPluginId = isNextIdWallet ? pluginIdByDefaultVerifiedWallet : currentPluginID\n\n        const defaultWalletName = useWalletName(\n            isNextIdWallet ? defaultVerifiedWallet?.identity : account,\n            defaultPluginId,\n            isNextIdWallet,\n        )\n\n        const Others = useWeb3Others(defaultPluginId)\n        const defaultChainId = useDefaultChainId(defaultPluginId)\n\n        const providerDescriptor = useProviderDescriptor(defaultPluginId)\n        const networkDescriptor = useNetworkDescriptor(\n            defaultPluginId,\n            !isNextIdWallet ? globalChainId : defaultChainId,\n        )\n\n        const pendingTransactions = useRecentTransactions(currentPluginID, TransactionStatusType.NOT_DEPEND)\n\n        // actual address\n        const walletIdentity = !isNextIdWallet ? account : defaultVerifiedWallet?.identity\n\n        const description = useMemo(\n            () => ({\n                name: defaultWalletName,\n                networkIcon: networkDescriptor?.icon,\n                providerIcon: !isNextIdWallet ? providerDescriptor?.icon : undefined,\n                iconFilterColor: !isNextIdWallet ? providerDescriptor?.iconFilterColor : '',\n                formattedAddress: walletIdentity ? Others.formatAddress(walletIdentity, 4) : '',\n                addressLink: walletIdentity\n                    ? Others.explorerResolver.addressLink(!isNextIdWallet ? chainId : defaultChainId, walletIdentity)\n                    : '',\n                address: walletIdentity,\n                verified: !isNextIdWallet ? isVerifiedAccount : true,\n            }),\n            [\n                account,\n                defaultWalletName,\n                providerDescriptor,\n                networkDescriptor,\n                defaultVerifiedWallet,\n                defaultChainId,\n                chainId,\n                walletIdentity,\n            ],\n        )\n\n        const [descriptionProps, setDescriptionProps] = useState<WalletDescriptionProps>(description)\n\n        const onSelect = useCallback(\n            (props: WalletDescriptionProps, chainId: Web3Helper.ChainIdAll, pluginID: NetworkPluginID) => {\n                setDescriptionProps(props)\n\n                if (!props.address) return\n\n                onChange?.(props.address, pluginID, chainId)\n            },\n            [setDescriptionProps, onChange],\n        )\n\n        const [menu, openMenu] = useMenuConfig(\n            [\n                account ? (\n                    <WalletMenuItem\n                        address={account}\n                        verified={isVerifiedAccount}\n                        onChangeWallet={onChangeWallet ? onChangeWallet : () => SelectProviderModal.open()}\n                        selected={isSameAddress(descriptionProps.address, account)}\n                        onSelect={onSelect}\n                        expectedChainId={isSmartPay ? smartPaySupportChainId : globalChainId}\n                    />\n                ) : (\n                    <MenuItem key=\"connect\">\n                        <Button\n                            variant=\"roundedContained\"\n                            fullWidth\n                            onClick={() => SelectProviderModal.open()}\n                            sx={{ minWidth: 311 }}>\n                            {t.connect_your_wallet()}\n                        </Button>\n                    </MenuItem>\n                ),\n                wallets.length ? <Divider key=\"divider\" style={{ marginLeft: 8, marginRight: 8 }} /> : null,\n                ...wallets.map((x) => (\n                    <WalletMenuItem\n                        key={x.identity}\n                        address={x.identity}\n                        verified\n                        platform={x.platform}\n                        selected={isSameAddress(descriptionProps.address, x.identity)}\n                        onSelect={onSelect}\n                    />\n                )),\n                openPopupWindow ? (\n                    <MenuItem key=\"Wallet Setting\" onClick={openPopupWindow}>\n                        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                            <Icons.WalletSetting size={30} sx={{ marginRight: 1, transform: 'translate(0px, 2px)' }} />\n                            <Typography fontSize={14} fontWeight={700}>\n                                {t.connected_wallet_settings()}\n                            </Typography>\n                        </Box>\n                    </MenuItem>\n                ) : null,\n            ],\n            {\n                classes: { paper: classes.menu },\n            },\n        )\n\n        useUpdateEffect(() => {\n            setDescriptionProps(description)\n        }, [description])\n\n        if (!account && verifiedWallets.length === 0) {\n            return (\n                <Box className={cx(classes.root, className)}>\n                    <Button fullWidth onClick={() => SelectProviderModal.open()}>\n                        <Icons.Wallet className={classes.connection} /> {t.plugin_wallet_connect_a_wallet()}\n                    </Button>\n                </Box>\n            )\n        }\n\n        return (\n            <>\n                <Box className={cx(classes.root, className)}>\n                    <WalletDescription\n                        {...omit(descriptionProps, 'address')}\n                        onClick={openMenu}\n                        pending={!!pendingTransactions.length}\n                        onPendingClick={() => WalletStatusModal.open()}\n                    />\n                    <Action openSelectWalletDialog={() => SelectProviderModal.open()}>{children}</Action>\n                </Box>\n                {menu}\n            </>\n        )\n    },\n)\n","import { makeStyles, LoadingBase } from '@masknet/theme'\nimport { memo } from 'react'\nimport { alpha, Box, Link, Typography } from '@mui/material'\nimport { CopyButton, WalletIcon } from '@masknet/shared'\nimport { Icons } from '@masknet/icons'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        cursor: 'pointer',\n    },\n    description: {\n        marginLeft: 10,\n    },\n    walletName: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        lineHeight: '18px',\n    },\n    address: {\n        color: theme.palette.maskColor.second,\n        lineHeight: '18px',\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 2,\n    },\n    pending: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2,\n        borderRadius: 2,\n        padding: '2px 4px',\n        backgroundColor: alpha(theme.palette.maskColor.warn, 0.1),\n        color: theme.palette.maskColor.warn,\n        lineHeight: '18px',\n    },\n    progress: {\n        color: theme.palette.maskColor.warn,\n    },\n    linkIcon: {\n        color: theme.palette.maskColor.second,\n        cursor: 'pointer',\n        height: 14,\n    },\n}))\n\nexport interface WalletDescriptionProps {\n    onClick?: (ev: React.MouseEvent<HTMLDivElement>) => void\n    pending?: boolean\n    onPendingClick?: () => void\n    providerIcon?: string\n    networkIcon?: string\n    iconFilterColor?: string\n    name?: string\n    address?: string\n    formattedAddress?: string\n    addressLink?: string\n    verified?: boolean\n}\n\nexport const WalletDescription = memo<WalletDescriptionProps>(\n    ({\n        onClick,\n        providerIcon,\n        networkIcon,\n        iconFilterColor,\n        name,\n        address,\n        formattedAddress,\n        addressLink,\n        onPendingClick,\n        pending,\n        verified,\n    }) => {\n        const { classes } = useStyles()\n        const t = useSharedTrans()\n\n        return (\n            <Box onClick={onClick} className={classes.root}>\n                <WalletIcon\n                    size={30}\n                    badgeSize={12}\n                    mainIcon={providerIcon ?? networkIcon}\n                    badgeIcon={providerIcon ? networkIcon : undefined}\n                    iconFilterColor={iconFilterColor}\n                />\n                <Box className={classes.description}>\n                    <Typography className={classes.walletName}>\n                        <span>{name}</span>\n                        {verified ? <Icons.Verification size={18} /> : null}\n                        {onPendingClick ? <Icons.ArrowDrop /> : null}\n                    </Typography>\n                    <Typography className={classes.address}>\n                        <span>{formattedAddress}</span>\n                        {address ? <CopyButton size={14} className={classes.linkIcon} text={address} /> : null}\n                        <Link\n                            href={addressLink}\n                            target=\"_blank\"\n                            title=\"View on Explorer\"\n                            rel=\"noopener noreferrer\"\n                            onClick={(event) => {\n                                event.stopPropagation()\n                            }}\n                            className={classes.linkIcon}>\n                            <Icons.LinkOut size={14} className={classes.linkIcon} />\n                        </Link>\n                        {pending ? (\n                            <span\n                                className={classes.pending}\n                                onClick={(e) => {\n                                    e.stopPropagation()\n                                    onPendingClick?.()\n                                }}>\n                                {t.recent_transaction_pending()}\n                                <LoadingBase size={12} className={classes.progress} />\n                            </span>\n                        ) : null}\n                    </Typography>\n                </Box>\n            </Box>\n        )\n    },\n)\n","import {\n    type SyntheticEvent,\n    cloneElement,\n    isValidElement,\n    useCallback,\n    useState,\n    type MutableRefObject,\n    createElement,\n} from 'react'\nimport { useUpdate } from 'react-use'\nimport { Menu, type MenuProps } from '@mui/material'\nimport { makeStyles, ShadowRootMenu } from '@masknet/theme'\n\n/**\n * A util hooks for easier to use `<Menu>`s.\n *\n * If you need configuration, please use useMenuConfig\n */\n// ! Do not change signature of this. Change useMenuConfig instead.\nexport function useMenu(...elements: Array<JSX.Element | null>) {\n    return useMenuConfig(elements, {})\n}\n\nexport interface MenuConfigOptions extends Partial<MenuProps> {\n    anchorSibling?: boolean\n    useShadowRoot?: boolean\n}\n\nconst useStyles = makeStyles()((theme) => ({\n    menu: {\n        // TODO: replace hard code to theme\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 0px 20px rgba(255, 255, 255, 0.12)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n    },\n}))\n\nexport function useMenuConfig(\n    elements: Array<JSX.Element | null>,\n    config: MenuConfigOptions,\n    ref?: MutableRefObject<HTMLDivElement | null>,\n): [\n    menu: React.ReactNode,\n    openDialog: (anchorElOrEvent: HTMLElement | SyntheticEvent<HTMLElement>) => void,\n    closeDialog: () => void,\n    open: boolean,\n] {\n    const { classes } = useStyles()\n    const { anchorSibling = false, useShadowRoot = true, ...menuProps } = config\n    const [open, setOpen] = useState(false)\n    const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null)\n    const close = () => {\n        setOpen(false)\n        setAnchorEl(null)\n    }\n    const update = useUpdate()\n    return [\n        createElement(\n            useShadowRoot ? ShadowRootMenu : Menu,\n            {\n                ...menuProps,\n                PaperProps: menuProps?.PaperProps,\n                classes: { paper: classes.menu, ...menuProps.classes },\n                MenuListProps: menuProps?.MenuListProps,\n                open,\n                anchorEl,\n                ref,\n                onClose: close,\n                onClick: close,\n                anchorOrigin: menuProps?.anchorOrigin,\n                transformOrigin: menuProps?.transformOrigin,\n                disableScrollLock: true,\n            },\n            elements?.map((element, key) =>\n                isValidElement<object>(element) ? cloneElement(element, { ...element.props, key }) : element,\n            ),\n        ),\n        useCallback((anchorElOrEvent: HTMLElement | SyntheticEvent<HTMLElement>) => {\n            let element: HTMLElement\n            if (anchorElOrEvent instanceof HTMLElement) {\n                element = anchorElOrEvent\n            } else {\n                element = anchorElOrEvent.currentTarget\n            }\n\n            // when the essential content of currentTarget would be closed over,\n            //  we can set the anchorEl with currentTarget's bottom sibling to avoid it.\n            const finalAnchor = anchorSibling ? (element.nextElementSibling as HTMLElement) ?? undefined : element\n            setAnchorEl(finalAnchor)\n            setOpen(true)\n            // HACK: it seems like anchor doesn't work correctly\n            // but a force repaint can solve the problem.\n            window.requestAnimationFrame(update)\n        }, []),\n        useCallback(() => {\n            setOpen(false)\n            setAnchorEl(null)\n        }, []),\n        open,\n    ]\n}\n","import { Menu } from '@mui/material'\nimport { createShadowRootForwardedComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootMenu = createShadowRootForwardedComponent(Menu)\nShadowRootMenu.displayName = 'ShadowRootTooltip'\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport type { RecentTransactionComputed, TransactionStatusType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRecentTransactions<T extends NetworkPluginID>(pluginID?: T, status?: TransactionStatusType) {\n    const { Transaction } = useWeb3State(pluginID)\n    const transactions = useSubscription(Transaction?.transactions ?? EMPTY_ARRAY)\n    type ChainId = Web3Helper.Definition[T]['ChainId']\n    type Transaction = Web3Helper.Definition[T]['Transaction']\n\n    return useMemo<Array<RecentTransactionComputed<ChainId, Transaction>>>(() => {\n        return (status ? transactions.filter((x) => status === x.status) : transactions).map((x) => ({\n            ...x,\n            _tx: x.candidates[x.indexId],\n        }))\n    }, [status, transactions])\n}\n","import { useEffect, useState } from 'react';\nconst DEFAULT_THRESHOLD = [0];\nconst DEFAULT_ROOT_MARGIN = '0px';\nconst observers = new Map();\nconst getObserverEntry = (options) => {\n    const root = options.root ?? document;\n    let rootObservers = observers.get(root);\n    if (!rootObservers) {\n        rootObservers = new Map();\n        observers.set(root, rootObservers);\n    }\n    const opt = JSON.stringify([options.rootMargin, options.threshold]);\n    let entry = rootObservers.get(opt);\n    if (!entry) {\n        const callbacks = new Map();\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach((e) => callbacks.get(e.target)?.forEach((cb) => setTimeout(() => {\n                cb(e);\n            }, 0)));\n        }, options);\n        entry = {\n            observer,\n            observe(target, callback) {\n                let cbs = callbacks.get(target);\n                if (!cbs) {\n                    // If target has no observers yet - register it\n                    cbs = new Set();\n                    callbacks.set(target, cbs);\n                    observer.observe(target);\n                }\n                // As Set is duplicate-safe - simply add callback on each call\n                cbs.add(callback);\n            },\n            unobserve(target, callback) {\n                const cbs = callbacks.get(target);\n                // Else branch should never occur in case of normal execution\n                // because callbacks map is hidden in closure - it is impossible to\n                // simulate situation with non-existent `cbs` Set\n                /* istanbul ignore else */\n                if (cbs) {\n                    // Remove current observer\n                    cbs.delete(callback);\n                    if (!cbs.size) {\n                        // If no observers left unregister target completely\n                        callbacks.delete(target);\n                        observer.unobserve(target);\n                        // If not tracked elements left - disconnect observer\n                        if (!callbacks.size) {\n                            observer.disconnect();\n                            rootObservers.delete(opt);\n                            if (!rootObservers.size) {\n                                observers.delete(root);\n                            }\n                        }\n                    }\n                }\n            },\n        };\n        rootObservers.set(opt, entry);\n    }\n    return entry;\n};\n/**\n * Tracks intersection of a target element with an ancestor element or with a\n * top-level document's viewport.\n *\n * @param target React reference or Element to track.\n * @param options Like `IntersectionObserver` options but `root` can also be\n * react reference\n */\nexport function useIntersectionObserver(target, { threshold = DEFAULT_THRESHOLD, root: r, rootMargin = DEFAULT_ROOT_MARGIN, } = {}) {\n    const [state, setState] = useState();\n    useEffect(() => {\n        const tgt = target && 'current' in target ? target.current : target;\n        if (!tgt)\n            return;\n        let subscribed = true;\n        const observerEntry = getObserverEntry({\n            root: r && 'current' in r ? r.current : r,\n            rootMargin,\n            threshold,\n        });\n        const handler = (entry) => {\n            // It is reinsurance for the highly asynchronous invocations, almost\n            // impossible to achieve in tests, thus excluding from LOC\n            /* istanbul ignore else */\n            if (subscribed) {\n                setState(entry);\n            }\n        };\n        observerEntry.observe(tgt, handler);\n        return () => {\n            subscribed = false;\n            observerEntry.unobserve(tgt, handler);\n        };\n    }, [target, r, rootMargin, ...threshold]);\n    return state;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"prop-types\"),require(\"react\")):\"function\"==typeof define&&define.amd?define([\"prop-types\",\"react\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).AvatarEditor=t(e.PropTypes,e.React)}(this,function(e,t){\"use strict\";function o(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=o(e),i=o(t);function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function a(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){s(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(null==e)return{};var o,n=function(e,t){if(null==e)return{};for(var o,n={},a=Object.keys(e),r=0;r<a.length;r++)o=a[r],0<=t.indexOf(o)||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),r=0;r<a.length;r++)o=a[r],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(r){var i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n,a=h(r);return t=i?(e=h(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),o=this,!(n=t)||\"object\"!=typeof n&&\"function\"!=typeof n?d(o):n}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return o}(e,t)||g(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function g(e,t){if(e){if(\"string\"==typeof e)return f(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===o&&e.constructor&&(o=e.constructor.name),\"Map\"===o||\"Set\"===o?Array.from(e):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function v(a,r){return new Promise(function(e,t){var o,n=new Image;n.onload=function(){return e(n)},n.onerror=t,!1==(null!==(o=a)&&!!o.match(/^\\s*data:([a-z]+\\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*\\s*$/i))&&r&&(n.crossOrigin=r),n.src=a})}var b,w=!(\"undefined\"==typeof window||\"undefined\"==typeof navigator||!(\"ontouchstart\"in window||0<navigator.msMaxTouchPoints)),M=\"undefined\"!=typeof File,O={touch:{react:{down:\"onTouchStart\",mouseDown:\"onMouseDown\",drag:\"onTouchMove\",move:\"onTouchMove\",mouseMove:\"onMouseMove\",up:\"onTouchEnd\",mouseUp:\"onMouseUp\"},native:{down:\"touchstart\",mouseDown:\"mousedown\",drag:\"touchmove\",move:\"touchmove\",mouseMove:\"mousemove\",up:\"touchend\",mouseUp:\"mouseup\"}},desktop:{react:{down:\"onMouseDown\",drag:\"onDragOver\",move:\"onMouseMove\",up:\"onMouseUp\"},native:{down:\"mousedown\",drag:\"dragStart\",move:\"mousemove\",up:\"mouseup\"}}},I=w?O.touch:O.desktop,P=\"undefined\"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,C={x:.5,y:.5},x=function(){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,i[\"default\"].Component);var e,t,o,n=p(a);function a(e){var v;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),s(d(v=n.call(this,e)),\"state\",{drag:!1,my:null,mx:null,image:C}),s(d(v),\"handleImageReady\",function(e){var t=v.getInitialSize(e.width,e.height);t.resource=e,t.x=.5,t.y=.5,t.backgroundColor=v.props.backgroundColor,v.setState({drag:!1,image:t},v.props.onImageReady),v.props.onLoadSuccess(t)}),s(d(v),\"clearImage\",function(){v.canvas.getContext(\"2d\").clearRect(0,0,v.canvas.width,v.canvas.height),v.setState({image:C})}),s(d(v),\"handleMouseDown\",function(e){(e=e||window.event).preventDefault(),v.setState({drag:!0,mx:null,my:null})}),s(d(v),\"handleMouseUp\",function(){v.state.drag&&(v.setState({drag:!1}),v.props.onMouseUp())}),s(d(v),\"handleMouseMove\",function(e){var t,o,n,a,r,i,s,u,h,c,l,d,p,g,f,m;e=e||window.event,!1!==v.state.drag&&(e.preventDefault(),n={mx:t=e.targetTouches?e.targetTouches[0].pageX:e.clientX,my:o=e.targetTouches?e.targetTouches[0].pageY:e.clientY},m=v.props.rotate,m=(m%=360)<0?m+360:m,v.state.mx&&v.state.my&&(a=v.state.mx-t,r=v.state.my-o,i=v.state.image.width*v.props.scale,s=v.state.image.height*v.props.scale,h=(u=v.getCroppingRect()).x,c=u.y,h*=i,c*=s,l=function(e){return e*(Math.PI/180)},d=Math.cos(l(m)),g=c+-a*(p=Math.sin(l(m)))+r*d,f={x:(h+a*d+r*p)/i+1/v.props.scale*v.getXScale()/2,y:g/s+1/v.props.scale*v.getYScale()/2},v.props.onPositionChange(f),n.image=y(y({},v.state.image),f)),v.setState(n),v.props.onMouseMove(e))}),s(d(v),\"setCanvas\",function(e){v.canvas=e}),v.canvas=null,v}return e=a,(t=[{key:\"componentDidMount\",value:function(){this.props.disableHiDPIScaling&&(P=1);var e,t,o=this.canvas.getContext(\"2d\");this.props.image&&this.loadImage(this.props.image),this.paint(o),document&&(e=!!function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",e,e),window.removeEventListener(\"test\",e,e)}catch(e){t=!1}return t}()&&{passive:!1},t=I.native,document.addEventListener(t.move,this.handleMouseMove,e),document.addEventListener(t.up,this.handleMouseUp,e),w&&(document.addEventListener(t.mouseMove,this.handleMouseMove,e),document.addEventListener(t.mouseUp,this.handleMouseUp,e)))}},{key:\"componentDidUpdate\",value:function(e,t){this.props.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height||this.props.backgroundColor!==e.backgroundColor?this.loadImage(this.props.image):this.props.image||t.image===C||this.clearImage();var o=this.canvas.getContext(\"2d\");o.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(o),this.paintImage(o,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y&&t.backgroundColor===this.state.backgroundColor||this.props.onImageChange()}},{key:\"componentWillUnmount\",value:function(){var e;document&&(e=I.native,document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),w&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1)))}},{key:\"isVertical\",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:\"getBorders\",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.border;return Array.isArray(t)?t:[t,t]}},{key:\"getDimensions\",value:function(){var e=this.props,t=e.width,o=e.height,n=e.rotate,a=e.border,r={},i=m(this.getBorders(a),2),s=i[0],u=i[1],h=t,c=o;return this.isVertical()?(r.width=c,r.height=h):(r.width=h,r.height=c),r.width+=2*s,r.height+=2*u,{canvas:r,rotate:n,width:t,height:o,border:a}}},{key:\"getImage\",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var o=document.createElement(\"canvas\");this.isVertical()?(o.width=e.height,o.height=e.width):(o.width=e.width,o.height=e.height);var n=o.getContext(\"2d\");return n.translate(o.width/2,o.height/2),n.rotate(this.props.rotate*Math.PI/180),n.translate(-o.width/2,-o.height/2),this.isVertical()&&n.translate((o.width-o.height)/2,(o.height-o.width)/2),t.backgroundColor&&(n.fillStyle=t.backgroundColor,n.fillRect(-e.x,-e.y,t.resource.width,t.resource.height)),n.drawImage(t.resource,-e.x,-e.y),o}},{key:\"getImageScaledToCanvas\",value:function(){var e=this.getDimensions(),t=e.width,o=e.height,n=document.createElement(\"canvas\");return this.isVertical()?(n.width=o,n.height=t):(n.width=t,n.height=o),this.paintImage(n.getContext(\"2d\"),this.state.image,0,1),n}},{key:\"getXScale\",value:function(){var e=this.props.width/this.props.height,t=this.state.image.width/this.state.image.height;return Math.min(1,e/t)}},{key:\"getYScale\",value:function(){var e=this.props.height/this.props.width,t=this.state.image.height/this.state.image.width;return Math.min(1,e/t)}},{key:\"getCroppingRect\",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),o=1/this.props.scale*this.getYScale(),n={x:e.x-t/2,y:e.y-o/2,width:t,height:o},a=0,r=1-n.width,i=0,s=1-n.height;return(this.props.disableBoundaryChecks||1<t||1<o)&&(a=-n.width,i=-n.height,s=r=1),y(y({},n),{},{x:Math.max(a,Math.min(n.x,r)),y:Math.max(i,Math.min(n.y,s))})}},{key:\"loadImage\",value:function(e){var t;M&&e instanceof File?this.loadingImage=(t=e,new Promise(function(o,n){var e=new FileReader;e.onload=function(e){try{var t=v(e.target.result);o(t)}catch(e){n(e)}},e.readAsDataURL(t)}).then(this.handleImageReady).catch(this.props.onLoadFailure)):\"string\"==typeof e&&(this.loadingImage=v(e,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:\"getInitialSize\",value:function(e,t){var o,n,a=this.getDimensions();return t/e<a.height/a.width?n=e*((o=this.getDimensions().height)/t):o=t*((n=this.getDimensions().width)/e),{height:o,width:n}}},{key:\"paintImage\",value:function(e,t,o,n){var a,r=3<arguments.length&&void 0!==n?n:P;t.resource&&(a=this.calculatePosition(t,o),e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(r,r),e.globalCompositeOperation=\"destination-over\",e.drawImage(t.resource,a.x,a.y,a.width,a.height),t.backgroundColor&&(e.fillStyle=t.backgroundColor,e.fillRect(a.x,a.y,a.width,a.height)),e.restore())}},{key:\"calculatePosition\",value:function(e,t){e=e||this.state.image;var o=m(this.getBorders(t),2),n=o[0],a=o[1],r=this.getCroppingRect(),i=e.width*this.props.scale,s=e.height*this.props.scale,u=-r.x*i,h=-r.y*s;return this.isVertical()?(u+=a,h+=n):(u+=n,h+=a),{x:u,y:h,height:s,width:i}}},{key:\"paint\",value:function(e){e.save(),e.scale(P,P),e.translate(0,0),e.fillStyle=\"rgba(\"+this.props.color.slice(0,4).join(\",\")+\")\";var t,o,n,a,r,i,s,u,h=this.props.borderRadius,c=this.getDimensions(),l=m(this.getBorders(c.border),2),d=l[0],p=l[1],g=c.canvas.height,f=c.canvas.width,h=Math.max(h,0);h=Math.min(h,f/2-d,g/2-p),e.beginPath(),t=e,a=f-2*(o=d),r=g-2*(n=p),0===(i=h)?t.rect(o,n,a,r):(s=a-i,u=r-i,t.translate(o,n),t.arc(i,i,i,Math.PI,1.5*Math.PI),t.lineTo(s,0),t.arc(s,i,i,1.5*Math.PI,2*Math.PI),t.lineTo(a,u),t.arc(s,u,i,2*Math.PI,.5*Math.PI),t.lineTo(i,r),t.arc(i,u,i,.5*Math.PI,Math.PI),t.translate(-o,-n)),e.rect(f,0,-f,g),e.fill(\"evenodd\"),e.restore()}},{key:\"render\",value:function(){var e=this.props,t=(e.scale,e.rotate,e.image,e.border,e.borderRadius,e.width,e.height,e.position,e.color,e.backgroundColor,e.style),o=(e.crossOrigin,e.onLoadFailure,e.onLoadSuccess,e.onImageReady,e.onImageChange,e.onMouseUp,e.onMouseMove,e.onPositionChange,e.disableBoundaryChecks,e.disableHiDPIScaling,e.disableCanvasRotation,l(e,[\"scale\",\"rotate\",\"image\",\"border\",\"borderRadius\",\"width\",\"height\",\"position\",\"color\",\"backgroundColor\",\"style\",\"crossOrigin\",\"onLoadFailure\",\"onLoadSuccess\",\"onImageReady\",\"onImageChange\",\"onMouseUp\",\"onMouseMove\",\"onPositionChange\",\"disableBoundaryChecks\",\"disableHiDPIScaling\",\"disableCanvasRotation\"])),n=this.getDimensions(),a={width:n.canvas.width,height:n.canvas.height,cursor:this.state.drag?\"grabbing\":\"grab\",touchAction:\"none\"},r={width:n.canvas.width*P,height:n.canvas.height*P,style:y(y({},a),t)};return r[I.react.down]=this.handleMouseDown,w&&(r[I.react.mouseDown]=this.handleMouseDown),i.default.createElement(\"canvas\",u({ref:this.setCanvas},r,o))}}])&&r(e.prototype,t),o&&r(e,o),a}();return s(x,\"propTypes\",{scale:n.default.number,rotate:n.default.number,image:n.default.oneOfType([n.default.string].concat(function(e){if(Array.isArray(e))return f(e)}(b=M?[n.default.instanceOf(File)]:[])||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(b)||g(b)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())),border:n.default.oneOfType([n.default.number,n.default.arrayOf(n.default.number)]),borderRadius:n.default.number,width:n.default.number,height:n.default.number,position:n.default.shape({x:n.default.number,y:n.default.number}),color:n.default.arrayOf(n.default.number),backgroundColor:n.default.string,crossOrigin:n.default.oneOf([\"\",\"anonymous\",\"use-credentials\"]),onLoadFailure:n.default.func,onLoadSuccess:n.default.func,onImageReady:n.default.func,onImageChange:n.default.func,onMouseUp:n.default.func,onMouseMove:n.default.func,onPositionChange:n.default.func,disableBoundaryChecks:n.default.bool,disableHiDPIScaling:n.default.bool,disableCanvasRotation:n.default.bool}),s(x,\"defaultProps\",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),x});\n"],"names":["memo","useRef","Box","Button","useSharedTrans","Sniffings","Action","children","openSelectWalletDialog","ref","t","display","columnGap","minWidth","is_popup_page","fullWidth","onClick","wallet_status_button_change","useMemo","useChainContext","useReverseAddress","useProviderDescriptor","useWallets","useWeb3Others","ProviderType","formatDomainName","isSameAddress","resolveNetworkWalletName","useWalletName","expectedAccount","expectedPluginId","isNextIdWallet","account","providerType","data","domain","wallets","providerDescriptor","Others","wallet","find","x","address","MaskWallet","name","formatAddress","ListItemIcon","MenuItem","Icons","resolveNextID_NetworkPluginID","useNetworkContext","useDefaultChainId","useNetworkDescriptor","makeStyles","WalletDescription","useStyles","theme","icon","color","palette","maskColor","line","WalletMenuItem","selected","onChangeWallet","platform","onSelect","verified","expectedChainId","classes","pluginID","undefined","defaultChainId","chainId","networkDescriptor","formattedAddress","addressLink","explorerResolver","descriptionProps","providerIcon","networkIcon","iconFilterColor","value","RadioButtonChecked","size","style","filter","RadioButtonUnChecked","className","variant","sx","marginLeft","useCallback","useState","useAsync","useUpdateEffect","first","omit","MaskColorVar","SmartPayBundler","TransactionStatusType","alpha","Divider","Typography","useRecentTransactions","useAccount","useChainId","SelectProviderModal","WalletStatusModal","useMenuConfig","root","boxSizing","backgroundColor","is_dashboard_page","mainBackground","bottom","boxShadow","mode","backdropFilter","padding","spacing","borderRadius","alignItems","justifyContent","flex","maxHeight","connection","width","height","marginRight","menu","background","PluginVerifiedWalletStatusBar","verifiedWallets","onChange","expectedAddress","openPopupWindow","cx","globalChainId","allWallets","currentPluginID","isSmartPay","owner","smartPaySupportChainId","getSupportedChainId","identity","selectedWallet","defaultVerifiedWallet","isVerifiedAccount","some","pluginIdByDefaultVerifiedWallet","defaultPluginId","defaultWalletName","pendingTransactions","NOT_DEPEND","walletIdentity","description","setDescriptionProps","props","openMenu","open","connect_your_wallet","length","map","WalletSetting","transform","fontSize","fontWeight","connected_wallet_settings","paper","Wallet","plugin_wallet_connect_a_wallet","pending","onPendingClick","LoadingBase","Link","CopyButton","WalletIcon","cursor","walletName","main","lineHeight","second","gap","warn","progress","linkIcon","badgeSize","mainIcon","badgeIcon","span","Verification","ArrowDrop","text","href","target","title","rel","event","stopPropagation","LinkOut","e","recent_transaction_pending","cloneElement","isValidElement","createElement","useUpdate","Menu","ShadowRootMenu","useMenu","elements","config","anchorSibling","useShadowRoot","menuProps","setOpen","anchorEl","setAnchorEl","close","update","PaperProps","MenuListProps","onClose","anchorOrigin","transformOrigin","disableScrollLock","element","key","anchorElOrEvent","HTMLElement","currentTarget","finalAnchor","nextElementSibling","window","requestAnimationFrame","createShadowRootForwardedComponent","displayName","useSubscription","EMPTY_ARRAY","useWeb3State","status","Transaction","transactions","_tx","candidates","indexId"],"sourceRoot":"","x_google_ignoreList":[8,9,10,11,12]}