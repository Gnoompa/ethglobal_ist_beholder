{"version":3,"file":"bundled/chunk.6189.js","mappings":"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;ACfA,6BAAe,gBAAS;AACxB;AACA;;;ACF8B;AACI;;AAElC,6BAAe,iBAAW;AAC1B,aAAa,SAAS,iCAAiC,MAAM;AAC7D;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,sDAAsD;AACvF,wCAAwC,gDAAgD;AACxF,sCAAsC,8CAA8C;AACpF,yCAAyC;AACzC;;;ACrBA,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;;;ACJkC;AACA;AACC;;AAEnC,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA,MAAM;AACN,qBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,qBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA;;AAEA,6BAAe,cAAS;AACxB;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA,2CAA2C,QAAQ;;AAEnD,uGAAuG,OAAO;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,6CAA6C,iBAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;;ACrH8B;AACI;;AAElC,6BAAe,gBAAW;AAC1B,aAAa,SAAS,gCAAgC,MAAM;AAC5D;;;ACLA,6BAAe,cAAS;AACxB;AACA;AACA;AACA,qCAAqC;AACrC;AACA;;;ACNkC;;AAElC,6BAAe,eAAS;;AAExB,+JAA+J,OAAO;AACtK,yHAAyH,OAAO;AAChI;AACA;AACA;AACA;AACA;;AAEA,SAAS,QAAQ;AACjB;AACA;;AAEA,aAAa,SAAS;AACtB;;;ACjBA,6BAAe,iBAAW;;AAE1B,6DAA6D,QAAQ;AACrE,6EAA6E,SAAS;AACtF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;ACZkC;;AAElC,6BAAe,cAAS;AACxB;;AAEA;AACA;AACA;;AAEA,uFAAuF,OAAO;AAC9F,yGAAyG,OAAO;AAChH;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;;AAEA;AACA;AACA;;;ACvBA,6BAAe,gBAAW;AAC1B;AACA;AACA;AACA;AACA;;;ACLA,6BAAe,iBAAW;AAC1B;AACA,yBAAyB,oBAAoB;AAC7C;AACA;;;ACJA,6BAAe,gBAAW;;AAE1B,4DAA4D,OAAO;AACnE,yDAAyD,OAAO;AAChE;AACA;AACA;AACA;;AAEA;AACA;;;ACVA,6BAAe,gBAAW;AAC1B;AACA,yBAAyB,SAAS;AAClC;AACA;;;ACJA,6BAAe,iBAAW;AAC1B;AACA;;;ACFA,6BAAe,cAAS;;AAExB,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA;AACA;;AAEA;AACA;;;;;ACTqC;;AAErC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,cAAS;AACxB,iBAAiB,4BAAS;;AAE1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;ACxDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,iBAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AC1EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,wBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,cAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxBA;AACA;AACA;;AAEA,6BAAe,2BAAW;AAC1B;AACA;;;ACNA;AACA;AACA;;AAEA,6BAAe,2BAAW;AAC1B;AACA;;;;;ACNoC;AACD;;AAEnC;AACA;AACA;AACA;AACA,mBAAmB,uBAAK,8CAA8C,uBAAK;AAC3E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,iBAAS;AACxB,iBAAiB,4BAAS;AAC1B;AACA;AACA;AACA;;;ACxBiC;;AAEjC,6BAAe,gBAAS;AACxB,mDAAmD,OAAO;AAC1D;AACA;AACA,GAAG;AACH;;;ACPiC;AACE;;AAEnC;AACA;AACA;;AAEA,6BAAe,gBAAS;AACxB,mDAAmD,OAAO;AAC1D,uFAAuF,2BAAQ;AAC/F;AACA;AACA,GAAG;AACH;;;ACbA;AACA;AACA;AACA;;AAEA,6BAAe,4BAAW;AAC1B;AACA;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAAe,eAAS;AACxB;AACA;;;ACZA,6BAAe,eAAS;AACxB;AACA;AACA;AACA;;;;;;;ACJoC;;AAEpC;AACA,eAAe,6BAAW;AAC1B;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;;;ACjCwC;AACM;AACN;AACJ;AACE;AACF;AACA;AACE;AACA;AACF;AACA;AACE;AACF;AACA;AACE;AACF;AACA;AACE;AACM;AACF;AACN;AACA;AACE;AACA;AACE;AACA;AACA;AACF;AACA;AACN;AACY;;AAErC;;AAEA;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB;AAC1B,aAAa,SAAmB;AAChC,UAAU,MAAgB;AAC1B,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB,SAAS,KAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,oBAAe;AACxB,YAAY,QAAkB;AAC9B,WAAW,OAAiB;AAC5B,QAAQ,cAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,eAAe;AACxB,SAAS,eAAe;AACxB,UAAU,MAAgB;AAC1B,UAAU,MAAgB;AAC1B,UAAU,gBAAgB;AAC1B,SAAS,KAAe;AACxB,SAAS,KAAe;AACxB,MAAM,kBAAY;AAClB,YAAY,QAAkB;AAC9B;;AAEA,oDAAe,SAAS,EAAC;;;;;;;;;;;;;AC9EzB;;AAEO;;AAEP;AACA;AACA;AACA,oBAAoB;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,OAAO;AACrD;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;AACA;AACA,8CAA8C,OAAO;AACrD,6BAA6B,OAAO;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;AC1GoC;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,SAAS,4DAAW;AACpB;;;;;;;;;;;AClCA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;ACRA,6BAAe,oCAAS;AACxB;AACA;AACA,2BAA2B;AAC3B;;;;;;;;;;;;;;;;;;;;ACJqC;AACG;;AAExC,cAAc,2BAAQ;AACtB;;AAEO;AACA,IAAI,kBAAS;AACb;AACA;AACA;AACA;AACA;;AAEP,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEO;AACP;AACA,2DAA2D;AAC3D;AACA;;AAEO;AACP;AACA,2DAA2D;AAC3D;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,uBAAK;;AAEpB;AACA,iBAAiB,kBAAS;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,kBAAS;;AAEhC;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C,sCAAsC,0BAAO;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yDAAyD;AACzD;AACA,2DAA2D;AAC3D;AACA,IAAI,0BAAO;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,yCAAyC;AACzC;;AAEA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;;ACxJiE;;AAEjE,6BAAe,mBAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,mDAAmD,eAAe;AAClE,8BAA8B,QAAQ,qBAAqB,MAAM;AACjE,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;;ACvBwC;;AAExC,6BAAe,6BAAS;AACxB;AACA,IAAI,SAAS;AACb,GAAG;AACH;;;;;;;ACNuC;;AAEvC;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB,4BAA4B,OAAO;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,eAAS;AACxB;;AAEA;;AAEA;AACA,gBAAgB,GAAG;AACnB,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;;AAEA;AACA,mBAAmB,GAAG;AACtB,2CAA2C;AAC3C,GAAG;;AAEH;AACA,WAAW,GAAG;AACd;AACA;;;;;;;;;;;AChF+B;AACqD;;AAEpF,6BAAe,qBAAS;AACxB;AACA,kCAAkC,qBAAiB;AACnD,qBAAqB,qBAAK,GAAG,mBAAc;AAC3C,aAAa,yBAAK,eAAe,mBAAc;AAC/C,QAAQ,qBAAiB;AACzB;;;ACT+E;AACxC;AACD;AACK;;AAE3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,cAAS;AACxB,iBAAiB,4BAAS,uCAAuC,wCAAoB,GAAG,WAAW;AACnG;AACA,sEAAsE,UAAU;AAChF;AACA;AACA;;;AC7EuC;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,8BAAS;AACxB;AACA;AACA;AACA;AACA,iBAAiB,4BAAS;AAC1B;AACA;;;AC3CwC;;AAExC;AACA;AACA,IAAI,IAAI;AACR;AACA;;AAEA;AACA;AACA,IAAI,IAAI;AACR;AACA;;AAEA,6BAAe,eAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;;;ACtBuC;;AAEvC;AACA;AACA,IAAI,GAAG;AACP;AACA;;AAEA;AACA;AACA,IAAI,GAAG;AACP;AACA;;AAEA,6BAAe,kBAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;;;ACtBuC;;AAEvC;AACA;AACA;AACA,IAAI,GAAG;AACP;AACA;;AAEA,6BAAe,cAAS;AACxB;;AAEA;AACA;AACA,QAAQ,GAAG;AACX;;;;;ACfqC;AACC;;AAEtC,6BAAe,gBAAS;AACxB,2CAA2C,0BAAO;;AAElD,sFAAsF,OAAO;AAC7F,6FAA6F,OAAO;AACpG;AACA;AACA;AACA;AACA;;AAEA,aAAa,qBAAU;AACvB;;;ACfsC;;AAEtC,6BAAe,eAAS;AACxB;;AAEA,gKAAgK,OAAO;AACvK,yHAAyH,OAAO;AAChI;AACA;AACA;AACA;AACA;;AAEA,SAAS,QAAQ;AACjB;AACA;;AAEA,aAAa,qBAAU;AACvB;;;AClB6C;;AAE7C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,oCAAoC,IAAI,GAAG,GAAG;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,YAAS;AACxB;;AAEA;AACA,QAAQ,GAAG;AACX;AACA;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,kBAAW;AAC1B;AACA;;;;;ACVsC;AACA;AACM;;AAE5C,6BAAe,2BAAS;AACxB;AACA;;AAEA,6CAA6C,2BAAQ;;AAErD,sFAAsF,OAAO;AAC7F,gHAAgH,OAAO;AACvH;AACA;AACA;AACA,QAAQ,QAAQ,qCAAqC,GAAG;AACxD;AACA;AACA;;AAEA,aAAa,qBAAU;AACvB;;;;;ACrByC;AACH;AACM;;AAE5C,6BAAe,mBAAS;AACxB;AACA;;AAEA,6CAA6C,8BAAW;;AAExD,0FAA0F,OAAO;AACjG,+DAA+D,OAAO;AACtE;AACA,yFAAyF,GAAG,wCAAwC,OAAO;AAC3I;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,qBAAU;AACvB;;;ACzBuC;;AAEvC,gBAAgB,yBAAS;;AAEzB,6BAAe,gCAAW;AAC1B;AACA;;;;;ACN+E;AAC5C;AACD;AACI;AACK;;AAE3C;AACA;AACA;AACA;AACA;AACA,kBAAkB,2BAAK;AACvB,oDAAoD,2BAAK;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2BAAK;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2BAAK;AACvB;AACA;AACA,6EAA6E,2BAAK;AAClF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,0BAAS;AACxB,yCAAyC,wCAAoB,GAAG,WAAW;AAC3E;AACA;AACA;AACA;AACA,+CAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;;;AC/EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,+BAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;;ACvBsC;;AAEtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,yBAAS;AACxB;AACA,qBAAqB,UAAU;AAC/B;AACA;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,8BAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;;ACvB6C;AACD;;AAE5C,6BAAe,sBAAW;AAC1B;AACA;AACA,YAAY,KAAK;;AAEjB,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA,sBAAsB,GAAG;AACzB,QAAQ,QAAQ;AAChB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,aAAa,qBAAU;AACvB;;;ACvBkC;;AAElC,6BAAe,eAAW;AAC1B;AACA;AACA,kBAAkB,cAAc;AAChC,eAAe,oBAAoB;;AAEnC;AACA,qBAAqB,GAAG;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;;;ACzBuC;AACC;AACU;AACR;AACM;AACR;AACI;AACF;AACN;AACQ;AACA;AACM;AACA;AACR;AACU;AACZ;AACU;AACE;AACV;AACJ;;AAEtC;;AAEO,SAAS,qBAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEe,SAAS,qBAAU;AAClC,SAAS,6BAAS;AAClB;;AAEO;AACP;AACA;;AAEA,0BAA0B,yBAAS;;AAEnC,qBAAU,aAAa,qBAAU;AACjC,eAAe,qBAAU;AACzB,UAAU,iBAAiB;AAC3B,aAAa,SAAoB;AACjC,UAAU,MAAiB;AAC3B,SAAS,KAAgB;AACzB,aAAa,oBAAoB;AACjC,cAAc,UAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,EAAa;AACnB,QAAQ,IAAe;AACvB,aAAa,oBAAoB;AACjC,SAAS,gBAAgB;AACzB,cAAc,qBAAqB;AACnC,QAAQ,eAAe;AACvB,aAAa,oBAAoB;AACjC,UAAU,MAAiB;AAC3B,SAAS,KAAgB;AACzB,SAAS,KAAgB;AACzB,YAAY,QAAmB;AAC/B,QAAQ,IAAe;AACvB,OAAO,GAAc;AACrB;;;;;ACnEyD;AACR;AACV;AACV;;AAE7B;AACA;AACA;AACA;AACA,QAAQ,wBAAc;AACtB;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,qBAAG;AACrC;AACA;AACA;AACA;;AAEA,6BAAe,8BAAS;AACxB;AACA;;AAEA,sBAAsB,qBAAU;AAChC;AACA,IAAI;AACJ,SAAS,KAAK,oCAAoC,qBAAG;AACrD;;AAEA,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA,QAAQ,QAAQ;AAChB;AACA;AACA;;AAEA,aAAa,qBAAU;AACvB;;;ACzCuC;AACU;AACE;;AAEnD,yBAAS,uBAAuB,mBAAmB;AACnD,yBAAS,wBAAwB,oBAAoB;;;ACLJ;AACE;;AAEnD,WAAW,sDAAM;;AAEjB,6BAAe,gBAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;ACpB8B;AAC8B;AACd;AACM;;;;;;;;;;;;ACHpD;AACA,iBAAiB;AACjB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,gBAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uDAAe,YAAY,EAAC;;;AC5OoB;;AAEzC;AACP;AACA,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA,EAAE,KAAK;AACP,EAAE,KAAK;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,2CAA2C;;AAE3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP,UAAU,KAAK;AACf;;AAEA;AACA,4BAA4B,KAAK;AACjC;AACA,iDAAiD,eAAO;AACxD,mDAAmD,eAAO;AAC1D,aAAa,KAAK;AAClB;AACA;AACA;;;ACvKwC;AACQ;;AAEzC;AACP,SAAS,KAAK;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP,sBAAsB,KAAK,gCAAgC,OAAO;AAClE,gBAAgB,KAAK;AACrB;AACA;AACA,kBAAkB,OAAO,sDAAsD,KAAK;AACpF,kCAAkC,6BAA6B;AAC/D,kBAAkB,OAAO;AACzB,kBAAkB,OAAO;AACzB;AACA;AACA;;AAEO;AACP,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,gBAAgB;AAClC,eAAe,KAAK;AACpB;AACA;AACA;;AAEA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,KAAK;AACzC,wCAAwC,KAAK;AAC7C,sCAAsC,eAAO,8BAA8B,eAAO;AAClF,yCAAyC,KAAK,MAAM,gBAAgB;AACpE,oCAAoC,eAAO,gBAAgB,eAAO,gCAAgC,eAAO;AACzG,sCAAsC,eAAO,gBAAgB,eAAO,4BAA4B,eAAO;AACvG,sCAAsC,eAAO,gBAAgB,eAAO,gCAAgC,eAAO;AAC3G,sCAAsC,eAAO,gBAAgB,eAAO,4BAA4B,eAAO;AACvG;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAkC,gBAAgB;AAClD,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,KAAK,MAAM,gBAAgB;AACnC,QAAQ,KAAK,MAAM,gBAAgB;AACnC,QAAQ,KAAK,MAAM,gBAAgB;AACnC,QAAQ,KAAK,MAAM,gBAAgB;AACnC;AACA;AACA;;AAEA,4CAA4C;AAC5C,kBAAkB,gBAAgB;AAClC,eAAe,KAAK;AACpB;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;;;AC7H4C;AACA;;AAE5C;;AAEO;;AAEP;AACA,EAAE,YAAY;AACd;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,QAAQ;;AAEpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8DAA8D;;AAE9D;;AAEA;AACA,aAAa,OAAO;;AAEpB;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B,MAAM;AACN;AACA,aAAa,eAAe;AAC5B;AACA;;AAEA,EAAE,OAAO;AACT;AACA;;AAEO;AACP;AACA;AACA;AACA,IAAI,OAAO;AACX;AACA,IAAI,YAAY;AAChB;AACA;AACA;;;AC7E4C;AACV;AACkB;AACN;AACH;;AAE3C;;AAEA;AACA,EAAE,YAAY;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,YAAY;AACd,EAAE,OAAO;AACT;AACA,EAAE,YAAY;AACd;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,uCAAuC,eAAO;AAC9C,wCAAwC,eAAO;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,YAAY;;AAEd;AACA;AACA,uCAAuC,eAAO;AAC9C,wCAAwC,eAAO;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,YAAY;;AAEd;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA,IAAI,UAAU;AACd;;AAEA;AACA;AACA,cAAc,UAAU;;AAExB,EAAE,YAAY;AACd,EAAE,YAAY;AACd;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;;AAEpB;AACA;AACA,cAAc,eAAO,iBAAiB;AACtC;AACA,gBAAgB,eAAO;AACvB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,mBAAmB,eAAO;AAC1B;AACA;AACA,UAAU,gBAAgB,eAAO;AACjC;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE,UAAU;AACZ;AACA,EAAE,OAAO;;AAET;;AAEA;AACA,IAAI,YAAY;AAChB;AACA,IAAI,OAAO;AACX,8BAA8B,UAAU;AACxC,IAAI,YAAY;AAChB,IAAI,YAAY;AAChB;AACA;;AAEA,eAAe;AACf,kBAAkB,UAAU;AAC5B;AACA;;AAEA;AACA,EAAE,YAAY;AACd,EAAE,YAAY;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE,UAAU;AACZ,gBAAgB,UAAU;AAC1B,cAAc,UAAU;AACxB,EAAE,YAAY;AACd,EAAE,YAAY;AACd;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AChM8C;AACyB;AAClC;AACJ;AACS;;AAEnC,IAAI,eAAO;AACX;AACA;AACA;AACA;AACA;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEe,SAAS,eAAO;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,gBAAY;AAC5B,gBAAgB,gBAAY;;AAE5B;AACA,aAAa,WAAW;AACxB;AACA;AACA,QAAQ,QAAQ;AAChB;AACA;AACA;AACA,MAAM;AACN,MAAM,WAAW;AACjB,MAAM;AACN;AACA;AACA;;AAEA,EAAE,iBAAiB;;AAEnB;AACA;AACA;AACA;AACA;AACA,IAAI,SAAS;AACb,IAAI,SAAS;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAO;AACP,eAAe,eAAO;;AAEtB;AACA;;AAEA;AACA,qDAAqD,OAAO,iBAAiB,mBAAmB;AAChG;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;;AAEN;;AAEA;AACA;AACA;;;AC7IkC;AACe;AACN;;AAE3C,6BAAe,mBAAW;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AC/C6C","sources":["webpack://mask-network/./packages/plugin-infra/src/site-adaptor/context.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/useThemeSettings.ts","webpack://mask-network/./packages/plugin-infra/src/utils/theme/color-tools.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNonFungibleAssetsByCollection.ts","webpack://mask-network/./packages/shared/src/UI/components/NFTList/index.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/context.tsx","webpack://mask-network/./packages/plugins/Trader/src/trending/usePriceStats.ts","webpack://mask-network/./packages/plugins/Trader/src/trending/useTrending.ts","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trader/TradeView.tsx","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatInteger.ts","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/CoinMarketTable.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/CoinMarketPanel.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/PriceChart.tsx","webpack://mask-network/./packages/plugins/Trader/src/helpers/resolveDaysName.ts","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/PriceChartDaysControl.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TickersTable.tsx","webpack://mask-network/./packages/plugins/Transak/src/hooks/useTransakAllowanceCoin.ts","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/CoinIcon.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TrendingCard.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/ArrowDropDown.js","webpack://mask-network/./packages/shared/src/UI/components/FootnoteMenu/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/SourceSwitcher/index.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/PluginDescriptor.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TrendingViewDescriptor.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TrendingViewDeck.tsx","webpack://mask-network/./packages/web3-providers/src/helpers/resolveActivityTypeBackgroundColor.ts","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/NonFungibleTickersTable.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TrendingViewSkeleton.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/FailedTrendingView.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TrendingView.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TrendingPopper.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/trending/TagInspector.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/cashTag.tsx","webpack://mask-network/./packages/plugins/Trader/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/plugins/Transak/src/messages.ts","webpack://mask-network/./packages/shared-base-ui/src/components/AnchorContext/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/AccountIcons/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/AddressItem/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ApplicationEntry/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/AssetPreviewer/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ElementAnchor/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/EmptyStatus/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/Image/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/LoadRetry/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/LoadingStatus/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/PluginCardFrame/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/PluginEnableBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ProgressiveText/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/SourceProviderIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/TokenMenuList/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/TokenWithSocialGroupMenu/index.tsx","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedAddress.tsx","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedCurrency.tsx","webpack://mask-network/./packages/shared/src/constants.tsx","webpack://mask-network/./packages/shared/src/hooks/useMenu.tsx","webpack://mask-network/./packages/shared/src/hooks/useReportSpam.tsx","webpack://mask-network/./packages/shared/src/hooks/useSocialAccountsBySettings.ts","webpack://mask-network/./packages/shared/src/hooks/useTokenMenuCollectionList.ts","webpack://mask-network/./packages/theme/src/Components/TextOverflowTooltip/index.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootMenu.ts","webpack://mask-network/./packages/theme/src/hooks/useDetectOverflow.ts","webpack://mask-network/./packages/web3-hooks/base/src/useCurrencyType.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFiatCurrencyRate.ts","webpack://mask-network/./packages/web3-hooks/base/src/useHiddenAddressConfig.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNativeToken.ts","webpack://mask-network/./packages/web3-hooks/base/src/useSocialAddressesAll.ts","webpack://mask-network/./packages/web3-hooks/base/src/useSocialAccountsFrom.ts","webpack://mask-network/./packages/web3-hooks/base/src/useSocialAccountsAll.ts","webpack://mask-network/./packages/web3-providers/src/types/Trending.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatElapsed.ts","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/RadioButtonUnchecked.js","webpack://mask-network/./node_modules/.pnpm/@react-hookz+web@23.1.0_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-experimental-0a360642d-20230711/node_modules/@react-hookz/web/esm/useIntersectionObserver/index.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/sourceEvent.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/point.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/mouse.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/select.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/index.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/matcher.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/namespace.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/namespaces.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/select.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/selectAll.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/filter.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/sparse.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/enter.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/constant.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/data.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/exit.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/join.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/merge.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/order.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/sort.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/call.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/nodes.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/node.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/size.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/empty.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/each.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/attr.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/property.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/classed.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/text.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/html.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/raise.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/lower.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/creator.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/append.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/insert.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/remove.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/clone.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/datum.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/dispatch.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/index.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/on.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selection/style.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selector.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/selectorAll.js","webpack://mask-network/./node_modules/.pnpm/d3-selection@1.4.2/node_modules/d3-selection/src/window.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/schedule.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/interrupt.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/selection/interrupt.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/tween.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/interpolate.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/attr.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/attrTween.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/delay.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/duration.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/ease.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/filter.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/merge.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/on.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/remove.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/select.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/selectAll.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/selection.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/style.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/styleTween.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/text.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/textTween.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/transition.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/end.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/transition/index.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/selection/transition.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/selection/index.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/active.js","webpack://mask-network/./node_modules/.pnpm/d3-transition@1.3.2/node_modules/d3-transition/src/index.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/RedBlackTree.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/Edge.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/Cell.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/Circle.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/Beach.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/Diagram.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/voronoi.js","webpack://mask-network/./node_modules/.pnpm/d3-voronoi@1.1.4/node_modules/d3-voronoi/src/index.js"],"sourcesContent":["// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { NextIDPlatform, PersonaIdentifier, PostIdentifier } from '@masknet/shared-base'\n\nexport interface __SiteAdaptorContext__ {\n    lastRecognizedProfile: Subscription<IdentityResolved | undefined>\n    currentVisitingProfile: Subscription<IdentityResolved | undefined>\n    currentNextIDPlatform: NextIDPlatform | undefined\n    currentPersonaIdentifier: Subscription<PersonaIdentifier | undefined>\n    getPostURL: (identifier: PostIdentifier) => URL | null\n    share: undefined | ((text: string) => void)\n    getUserIdentity: ((useId: string) => Promise<IdentityResolved | undefined>) | undefined\n    getPostIdFromNewPostToast: (() => string) | undefined\n    postMessage: ((text: string, options?: any) => Promise<void>) | undefined\n    getSearchedKeyword: (() => string) | undefined\n    connectPersona: () => Promise<void>\n}\nexport let lastRecognizedProfile: __SiteAdaptorContext__['lastRecognizedProfile']\nexport let currentVisitingProfile: __SiteAdaptorContext__['currentVisitingProfile']\nexport let currentNextIDPlatform: NextIDPlatform | undefined\nexport let currentPersonaIdentifier: __SiteAdaptorContext__['currentPersonaIdentifier']\nexport let getPostURL: __SiteAdaptorContext__['getPostURL']\nexport let share: __SiteAdaptorContext__['share']\nexport let getUserIdentity: __SiteAdaptorContext__['getUserIdentity']\nexport let getPostIdFromNewPostToast: __SiteAdaptorContext__['getPostIdFromNewPostToast']\nexport let postMessage: __SiteAdaptorContext__['postMessage']\nexport let getSearchedKeyword: __SiteAdaptorContext__['getSearchedKeyword']\nexport let connectPersona: __SiteAdaptorContext__['connectPersona']\nexport function __setSiteAdaptorContext__(value: __SiteAdaptorContext__) {\n    ;({\n        lastRecognizedProfile,\n        currentVisitingProfile,\n        currentNextIDPlatform,\n        currentPersonaIdentifier,\n        getPostURL,\n        share,\n        getUserIdentity,\n        getPostIdFromNewPostToast,\n        postMessage,\n        getSearchedKeyword,\n        connectPersona,\n    } = value)\n}\n","import type { Theme } from '@mui/material'\nimport { getBackgroundColor } from '../utils/theme/color-tools.js'\n\nexport function useSiteThemeMode(theme: Theme) {\n    const backgroundColor = getBackgroundColor(document.body)\n    const isDark = theme.palette.mode === 'dark'\n    const isDarker = backgroundColor === 'rgb(0,0,0)'\n\n    return isDark ? (!isDarker ? 'dim' : 'dark') : 'light'\n}\n","import { clamp } from 'lodash-es'\n\ntype RGB = [number, number, number]\ntype RGBA = [number, number, number, number]\n\nexport function isDark([r, g, b]: RGB) {\n    return r < 68 && g < 68 && b < 68\n}\n\nexport function toRGB(channels: RGB | undefined) {\n    if (!channels) return ''\n    return `rgb(${channels.join(',')})`\n}\n\nexport function fromRGB(rgb: string): RGB | undefined {\n    const matched = rgb.match(/rgb\\(\\s*(\\d+?)\\s*,\\s*(\\d+?)\\s*,\\s*(\\d+?)\\s*\\)/)\n    if (matched) {\n        const [_, r, g, b] = matched\n        return [Number.parseInt(r, 10), Number.parseInt(g, 10), Number.parseInt(b, 10)]\n    }\n    return\n}\n\nexport function shade(channels: RGB, percentage: number): RGB {\n    return channels.map((c) => clamp(Math.floor((c * (100 + percentage)) / 100), 0, 255)) as RGB\n}\n\nfunction fromRGBAtoRGB(color: string): string {\n    const matched = color.match(/^rgba\\((\\d{1,3}%?),\\s*(\\d{1,3}%?),\\s*(\\d{1,3}%?),\\s*(\\d*(?:\\.\\d+)?)\\)$/)\n    if (matched) {\n        const [_, r, g, b, a] = matched\n        const rgba: RGBA = [\n            Number.parseInt(r, 10),\n            Number.parseInt(g, 10),\n            Number.parseInt(b, 10),\n            Number.parseInt(a, 10),\n        ]\n\n        return toRGB(shade(rgba.slice(0, 3) as RGB, rgba[3] * 100))\n    }\n\n    return ''\n}\n\nfunction isRGBA(color: string) {\n    return color.match(/^rgba\\((\\d{1,3}%?),\\s*(\\d{1,3}%?),\\s*(\\d{1,3}%?),\\s*(\\d*(?:\\.\\d+)?)\\)$/)\n}\n\nexport function getBackgroundColor(element: HTMLElement | HTMLBodyElement | undefined) {\n    if (!element) return ''\n    const color = getComputedStyle(element).backgroundColor\n    if (isRGBA(color)) {\n        return fromRGBAtoRGB(color)\n    }\n    return color ? toRGB(fromRGB(color)) : ''\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { EMPTY_LIST, type NetworkPluginID, pageableToIterator } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useWeb3Hub } from './useWeb3Hub.js'\n\nexport function useNonFungibleAssetsByCollection<\n    S extends 'all' | void = void,\n    T extends NetworkPluginID = NetworkPluginID,\n>(address?: string, pluginID?: T, options?: HubOptions<T>) {\n    const [assets, setAssets] = useState<Array<Web3Helper.NonFungibleAssetScope<S, T>>>(EMPTY_LIST)\n    const [done, setDone] = useState(false)\n    const [loading, toggleLoading] = useState(false)\n    const [error, setError] = useState<string>()\n    const Hub = useWeb3Hub(pluginID, options)\n\n    // create iterator\n    const iterator = useMemo(() => {\n        setAssets(EMPTY_LIST)\n        setDone(false)\n\n        return pageableToIterator(async (indicator) => {\n            return Hub.getNonFungibleAssetsByCollection(address ?? '', {\n                indicator,\n                size: 50,\n                ...options,\n            })\n        })\n    }, [Hub, address])\n\n    const next = useCallback(async () => {\n        if (!iterator || done) return\n\n        const batchResult: Array<Web3Helper.NonFungibleAssetScope<S, T>> = []\n        toggleLoading(true)\n        try {\n            for (const _ of Array.from({ length: options?.size ?? 36 })) {\n                const { value, done: iteratorDone } = await iterator.next()\n                if (value instanceof Error) {\n                    // Controlled error\n                    setError(value.message)\n                    break\n                } else {\n                    if (iteratorDone) {\n                        setDone(true)\n                        break\n                    }\n                    if (!iteratorDone && value) {\n                        batchResult.push(value)\n                    }\n                }\n            }\n        } catch (error_) {\n            // Uncontrolled error\n            setError(error_ as string)\n            setDone(true)\n        }\n        toggleLoading(false)\n        setAssets((pred) => [...pred, ...batchResult].sort((a, b) => Number(a.tokenId) - Number(b.tokenId)))\n    }, [iterator, done])\n\n    // Execute once after next update\n    useEffect(() => {\n        if (next) next()\n    }, [next])\n\n    const retry = useCallback(() => {\n        setAssets(EMPTY_LIST)\n        setDone(false)\n    }, [])\n\n    return {\n        value: assets.filter((x) => (options?.chainId ? x.chainId === options?.chainId : true)),\n        next,\n        loading,\n        done,\n        retry,\n        error,\n    }\n}\n","import { useCallback } from 'react'\nimport { noop } from 'lodash-es'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { ElementAnchor, AssetPreviewer, RetryHint } from '@masknet/shared'\nimport { LoadingBase, makeStyles, ShadowRootTooltip, TextOverflowTooltip } from '@masknet/theme'\nimport { CrossIsolationMessages, NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3Others } from '@masknet/web3-hooks-base'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { Checkbox, List, ListItem, Radio, Stack, Typography } from '@mui/material'\nimport { isLens, resolveImageURL } from '@masknet/web3-shared-evm'\n\ninterface NFTItemProps {\n    token: Web3Helper.NonFungibleTokenAll\n    pluginID: NetworkPluginID\n}\n\nexport type NFTKeyPair = [address: string, tokenId: string]\n\ninterface Props {\n    selectable?: boolean\n    tokens: Web3Helper.NonFungibleAssetScope[]\n    selectedPairs?: NFTKeyPair[]\n    onChange?: (id: string | null, contractAddress?: string) => void\n    limit?: number\n    columns?: number\n    gap?: number\n    className?: string\n    onNextPage(): void\n    finished: boolean\n    hasError?: boolean\n    pluginID: NetworkPluginID\n}\n\nconst useStyles = makeStyles<{ columns?: number; gap?: number }>()((theme, { columns = 4, gap = 12 }) => {\n    const isLight = theme.palette.mode === 'light'\n    return {\n        checkbox: {\n            position: 'absolute',\n            right: 0,\n            top: 0,\n        },\n        list: {\n            gridGap: gap,\n            padding: 0,\n            display: 'grid',\n            gridTemplateColumns: `repeat(${columns}, 1fr)`,\n        },\n        nftContainer: {\n            background: theme.palette.maskColor.bg,\n            borderRadius: 8,\n            width: 126,\n            height: 154,\n            transition: 'all 0.2s ease',\n            overflow: 'hidden',\n            '&:hover': {\n                backgroundColor: isLight ? theme.palette.background.paper : undefined,\n                boxShadow: isLight ? '0px 4px 30px rgba(0, 0, 0, 0.1)' : undefined,\n            },\n        },\n        nftItem: {\n            position: 'relative',\n            cursor: 'pointer',\n            display: 'flex',\n            padding: 0,\n            flexDirection: 'column',\n            userSelect: 'none',\n        },\n        disabled: {\n            opacity: 0.5,\n            cursor: 'not-allowed',\n        },\n        selected: {\n            position: 'relative',\n            '&::after': {\n                position: 'absolute',\n                border: `2px solid ${theme.palette.primary.main}`,\n                content: '\"\"',\n                left: 0,\n                top: 0,\n                pointerEvents: 'none',\n                boxSizing: 'border-box',\n                width: '100%',\n                height: '100%',\n                borderRadius: 12,\n            },\n        },\n        inactive: {\n            opacity: 0.5,\n        },\n        fallbackImage: {\n            width: 30,\n            height: 30,\n        },\n        fallbackENSImage: {\n            width: '100%',\n            height: '100%',\n        },\n        image: {\n            background: 'transparent !important',\n            width: 126,\n            height: 126,\n        },\n        caption: {\n            padding: theme.spacing(0.5),\n            color: theme.palette.text.primary,\n            fontWeight: 700,\n            fontSize: 12,\n            whiteSpace: 'nowrap',\n            textOverflow: 'ellipsis',\n            overflow: 'hidden',\n        },\n        root: {\n            width: 'auto',\n            height: 'auto',\n        },\n    }\n})\n\nexport function NFTItem({ token, pluginID }: NFTItemProps) {\n    const { classes } = useStyles({})\n    const Others = useWeb3Others(pluginID)\n    const caption = isLens(token.metadata?.name) ? token.metadata?.name : Others.formatTokenId(token.tokenId, 4)\n\n    const onClick = useCallback(() => {\n        if (!token.chainId || !pluginID) return\n        CrossIsolationMessages.events.nonFungibleTokenDialogEvent.sendToLocal({\n            open: true,\n            chainId: token.chainId,\n            pluginID,\n            tokenId: token.tokenId,\n            tokenAddress: token.address,\n        })\n    }, [pluginID, token.chainId, token.tokenId, token.address])\n\n    const fallbackImageURL = resolveImageURL(\n        undefined,\n        token.metadata?.name,\n        token.collection?.name,\n        token.contract?.address,\n    )\n    return (\n        <div className={classes.nftContainer} onClick={onClick}>\n            <AssetPreviewer\n                url={token.metadata?.imageURL ?? token.metadata?.imageURL}\n                classes={{\n                    fallbackImage: fallbackImageURL ? classes.fallbackENSImage : classes.fallbackImage,\n                    container: classes.image,\n                    root: classes.root,\n                }}\n                fallbackImage={fallbackImageURL}\n            />\n            <TextOverflowTooltip as={ShadowRootTooltip} title={caption} disableInteractive arrow placement=\"bottom\">\n                <Typography className={classes.caption}>\n                    {Others.isValidDomain(token.metadata?.name ?? '') || pluginID === NetworkPluginID.PLUGIN_SOLANA\n                        ? token.metadata?.name\n                        : caption}\n                </Typography>\n            </TextOverflowTooltip>\n        </div>\n    )\n}\n\nexport function NFTList({\n    selectable,\n    selectedPairs,\n    tokens,\n    onChange,\n    limit = 1,\n    columns = 4,\n    gap = 12,\n    className,\n    onNextPage,\n    finished,\n    pluginID,\n    hasError,\n}: Props) {\n    const { classes, cx } = useStyles({ columns, gap })\n\n    const isRadio = limit === 1\n    const reachedLimit = selectedPairs && selectedPairs.length >= limit\n\n    const toggleItem = useCallback(\n        (currentId: string | null, contractAddress?: string) => {\n            onChange?.(currentId, contractAddress)\n        },\n        [onChange],\n    )\n    const includes: (pairs: NFTKeyPair[], pair: NFTKeyPair) => boolean =\n        pluginID === NetworkPluginID.PLUGIN_EVM\n            ? (pairs, pair) => {\n                  return !!pairs.find(([address, tokenId]) => isSameAddress(address, pair[0]) && tokenId === pair[1])\n              }\n            : (pairs, pair) => {\n                  return !!pairs.find(([, tokenId]) => tokenId === pair[1])\n              }\n\n    const SelectComponent = isRadio ? Radio : Checkbox\n\n    return (\n        <>\n            <List className={cx(classes.list, className)}>\n                {tokens.map((token) => {\n                    const selected = selectedPairs\n                        ? includes(selectedPairs, [token.contract?.address!, token.tokenId])\n                        : false\n                    const inactive = selectedPairs ? selectedPairs.length > 0 && !selected : false\n                    const disabled = selectable ? !isRadio && reachedLimit && !selected : false\n                    return (\n                        <ListItem\n                            key={token.tokenId + token.id}\n                            className={cx(classes.nftItem, {\n                                [classes.disabled]: disabled,\n                                [classes.selected]: selected,\n                                [classes.inactive]: inactive,\n                            })}>\n                            <NFTItem token={token} pluginID={pluginID} />\n                            {selectable ? (\n                                <SelectComponent\n                                    size=\"small\"\n                                    onChange={noop}\n                                    disabled={disabled}\n                                    onClick={() => {\n                                        if (disabled) return\n                                        if (selected) {\n                                            toggleItem(null, '')\n                                        } else {\n                                            toggleItem(token.tokenId, token.contract?.address)\n                                        }\n                                    }}\n                                    className={classes.checkbox}\n                                    checked={selected}\n                                />\n                            ) : null}\n                        </ListItem>\n                    )\n                })}\n            </List>\n            {hasError && finished && tokens.length ? (\n                <Stack py={1}>\n                    <RetryHint hint={false} retry={onNextPage} />\n                </Stack>\n            ) : null}\n            <Stack py={1}>\n                <ElementAnchor callback={onNextPage}>{!finished && <LoadingBase />}</ElementAnchor>\n            </Stack>\n        </>\n    )\n}\n","import { createContext, useMemo, type PropsWithChildren } from 'react'\n\ninterface TrendingViewContextProps {\n    isTokenTagPopper: boolean\n    isCollectionProjectPopper: boolean\n    isProfilePage: boolean\n    isPreciseSearch: boolean\n    isDSearch: boolean\n}\n\nexport const TrendingViewContext = createContext<TrendingViewContextProps>({\n    isTokenTagPopper: true,\n    isCollectionProjectPopper: false,\n    isProfilePage: false,\n    isPreciseSearch: false,\n    isDSearch: false,\n})\n\nexport function TrendingViewProvider({\n    isTokenTagPopper,\n    isCollectionProjectPopper,\n    isProfilePage,\n    isPreciseSearch,\n    children,\n}: PropsWithChildren<TrendingViewContextProps>) {\n    const context = useMemo(\n        () => ({\n            isTokenTagPopper,\n            isDSearch: !isTokenTagPopper && !isCollectionProjectPopper && !isProfilePage,\n            isCollectionProjectPopper,\n            isProfilePage,\n            isPreciseSearch,\n        }),\n        [isTokenTagPopper, isCollectionProjectPopper, isProfilePage, isPreciseSearch],\n    )\n    return <TrendingViewContext.Provider value={context}>{children}</TrendingViewContext.Provider>\n}\n","import { isUndefined } from 'lodash-es'\nimport { Days, EMPTY_LIST } from '@masknet/shared-base'\nimport type { SourceType } from '@masknet/web3-shared-base'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { PluginTraderRPC } from '../messages.js'\nimport type { Currency } from '../types/index.js'\nimport { useQuery } from '@tanstack/react-query'\n\nexport function usePriceStats({\n    chainId: expectedChainId,\n    coinId,\n    currency,\n    days = Days.MAX,\n    sourceType,\n}: {\n    chainId: Web3Helper.ChainIdAll\n    coinId?: string\n    currency?: Currency\n    days?: Days\n    sourceType?: SourceType\n}) {\n    const { chainId } = useChainContext({\n        chainId: expectedChainId,\n    })\n    return useQuery(['price-stats', chainId, coinId, currency, days, sourceType], async () => {\n        if (isUndefined(days) || isUndefined(coinId) || isUndefined(sourceType) || isUndefined(currency))\n            return EMPTY_LIST\n        return PluginTraderRPC.getPriceStats(chainId, coinId, currency, days, sourceType)\n    })\n}\n","import { flatten } from 'lodash-es'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport type { AsyncState } from 'react-use/lib/useAsyncFn.js'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useFungibleToken } from '@masknet/web3-hooks-base'\nimport { trending } from '@masknet/web3-providers/helpers'\nimport type { TrendingAPI } from '@masknet/web3-providers/types'\nimport { TokenType, type NonFungibleTokenActivity } from '@masknet/web3-shared-base'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { PluginTraderRPC } from '../messages.js'\nimport { useQuery } from '@tanstack/react-query'\n\nexport function useNFT_TrendingOverview(\n    pluginID: NetworkPluginID,\n    id: string, // For nftscan it's address, for simplehash it's collection id.\n    expectedChainId?: Web3Helper.ChainIdAll,\n) {\n    return useQuery(['nft-trending-overview', pluginID, expectedChainId, id], async () => {\n        if (!id || !expectedChainId || !pluginID) return null\n        return PluginTraderRPC.getNFT_TrendingOverview(pluginID, expectedChainId, id)\n    })\n}\n\nexport function useNonFungibleTokenActivities(\n    pluginID: NetworkPluginID,\n    id: string,\n    expectedChainId?: Web3Helper.ChainIdAll,\n) {\n    const cursorRef = useRef<string>('')\n    const [nonFungibleTokenActivities, setNonFungibleTokenActivities] = useState<\n        Record<string, Array<NonFungibleTokenActivity<Web3Helper.ChainIdAll, Web3Helper.SchemaTypeAll>>>\n    >({})\n    const [{ loading: loadingActivities }, fetchActivities] = useAsyncFn(async () => {\n        if (!id || !expectedChainId || !pluginID) return\n\n        const result = await PluginTraderRPC.getNonFungibleTokenActivities(\n            pluginID,\n            expectedChainId,\n            id,\n            cursorRef.current,\n        )\n\n        setNonFungibleTokenActivities((currentActivities) => {\n            if (!result || currentActivities[result.cursor] || !result?.content) return currentActivities\n            cursorRef.current = result.cursor\n\n            return { ...currentActivities, [cursorRef.current]: result.content }\n        })\n    }, [id, expectedChainId, pluginID])\n\n    useEffect(() => {\n        fetchActivities()\n    }, [fetchActivities])\n\n    return {\n        activities: flatten(Object.values(nonFungibleTokenActivities)),\n        fetchActivities,\n        loadingActivities,\n    }\n}\n\nexport function useTrendingById(\n    result: Web3Helper.TokenResultAll,\n    address?: string,\n): AsyncState<{\n    currency?: TrendingAPI.Currency\n    trending?: TrendingAPI.Trending | null\n}> {\n    const { chainId } = useChainContext({ chainId: result.chainId })\n    const currency = trending.getCurrency(result.chainId, result.source)\n\n    const {\n        isLoading,\n        data: coinTrending,\n        error,\n    } = useQuery({\n        queryKey: ['get-coin-trending', result, currency?.id],\n        queryFn: async () => {\n            if (!currency || !result.source) return null\n            return PluginTraderRPC.getCoinTrending(result, currency)\n        },\n    })\n\n    const { data: detailedToken } = useFungibleToken(result.pluginID, coinTrending?.coin.contract_address, undefined, {\n        chainId: coinTrending?.coin.chainId as ChainId,\n    })\n\n    const trendingData = useMemo(() => {\n        if (isLoading || error || !coinTrending) return\n        return {\n            ...coinTrending,\n            coin: {\n                ...coinTrending.coin,\n                id: coinTrending.coin.id ?? '',\n                name: coinTrending.coin.name ?? '',\n                symbol: coinTrending.coin.symbol ?? '',\n                type: coinTrending.coin.type ?? TokenType.Fungible,\n                decimals: coinTrending.coin.decimals || detailedToken?.decimals || 0,\n                contract_address: coinTrending.coin.contract_address ?? coinTrending.contracts?.[0]?.address ?? address,\n                chainId: coinTrending.coin.chainId ?? coinTrending.contracts?.[0]?.chainId ?? chainId,\n            },\n        }\n    }, [isLoading, error, coinTrending, detailedToken?.decimals])\n\n    if (isLoading) {\n        return {\n            loading: true,\n        }\n    }\n\n    if (error) {\n        return {\n            loading: false,\n            error: error as Error,\n        }\n    }\n\n    return {\n        value: {\n            currency,\n            trending: trendingData,\n        },\n        loading: isLoading,\n    }\n}\n\nexport function useHighestFloorPrice(id: string) {\n    return useQuery(['highest-floor-price', id], async () => {\n        if (!id) return null\n        return PluginTraderRPC.getHighestFloorPrice(id)\n    })\n}\n\nexport function useOneDaySaleAmounts(id: string) {\n    return useQuery(['one-day-sale-amount', id], async () => {\n        if (!id) return null\n        return PluginTraderRPC.getOneDaySaleAmounts(id)\n    })\n}\n","import { makeStyles } from '@masknet/theme'\nimport { isNativeTokenAddress } from '@masknet/web3-shared-evm'\nimport { useChainContext, useFungibleToken, useNetworkContext } from '@masknet/web3-hooks-base'\nimport { Trader, type TraderProps } from './Trader.js'\nimport { AllProviderTradeContext } from '../../trader/useAllProviderTradeContext.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            width: '100%',\n            paddingTop: theme.spacing(2),\n            position: 'relative',\n            boxSizing: 'border-box',\n        },\n        trade: {\n            padding: `${theme.spacing(0, 2)}!important`,\n            margin: '0 !important',\n        },\n    }\n})\n\ninterface TradeViewProps extends withClasses<'root'> {\n    TraderProps: TraderProps\n}\n\nexport function TradeView(props: TradeViewProps) {\n    const { TraderProps } = props\n    const { chainId } = useChainContext()\n    const { pluginID } = useNetworkContext()\n    const { data: inputToken } = useFungibleToken(\n        pluginID,\n        TraderProps.defaultInputCoin?.address ?? '',\n        TraderProps.defaultInputCoin,\n        { chainId },\n    )\n\n    const { data: outputToken } = useFungibleToken(\n        pluginID,\n        TraderProps.defaultOutputCoin?.address ?? '',\n        TraderProps.defaultOutputCoin,\n        { chainId: TraderProps.defaultOutputCoin?.chainId ?? chainId },\n    )\n\n    const { classes } = useStyles(undefined, { props })\n    return (\n        <div className={classes.root}>\n            <AllProviderTradeContext.Provider>\n                <Trader\n                    {...TraderProps}\n                    defaultOutputCoin={isNativeTokenAddress(outputToken?.address) ? undefined : outputToken}\n                    defaultInputCoin={inputToken}\n                    chainId={chainId}\n                    classes={{ root: classes.trade }}\n                    settings\n                />\n            </AllProviderTradeContext.Provider>\n        </div>\n    )\n}\n","import { BigNumber } from 'bignumber.js'\n\nexport function formatInteger(value: BigNumber.Value | null | undefined, fallback?: string | number) {\n    if (value === undefined || value === null) return fallback\n    const result = new BigNumber(typeof value === 'string' ? value.replaceAll(',', '') : value)\n    return result.isNaN() ? fallback : result.toFormat(0)\n}\n","import { Stack, Typography, Grid } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useNetworkDescriptor } from '@masknet/web3-hooks-base'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { TokenIcon, WalletIcon, FungibleCoinMarketTable } from '@masknet/shared'\nimport { CurrencyType, formatInteger, formatSupply, TokenType } from '@masknet/web3-shared-base'\nimport type { Trending } from '../../types/index.js'\nimport { useHighestFloorPrice, useNFT_TrendingOverview, useOneDaySaleAmounts } from '../../trending/useTrending.js'\nimport { useTraderTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    gridContainer: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(4, 1fr)',\n        gap: '12px',\n    },\n    gridItem: {\n        display: 'flex',\n        width: 132.5,\n        height: 66,\n        background: theme.palette.maskColor.bg,\n        borderRadius: 8,\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column',\n        fontWeight: 700,\n        fontSize: 14,\n    },\n    gridItemTitle: {\n        fontSize: 12,\n        fontWeight: 400,\n    },\n    gridItemValue: {\n        fontSize: 14,\n        fontWeight: 700,\n    },\n    amountWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    amount: {\n        marginLeft: 4,\n    },\n}))\n\ninterface CoinMarketTableProps {\n    result: Web3Helper.TokenResultAll\n    trending: Trending\n}\n\nfunction NonFungibleCoinMarketTable(props: CoinMarketTableProps) {\n    const t = useTraderTrans()\n    const { trending, result } = props\n    const chainId = result.chainId ?? trending.coin.chainId\n    const { data: overview } = useNFT_TrendingOverview(result.pluginID, trending.coin.id, chainId)\n    const { data: highestPrice_ } = useHighestFloorPrice(\n        overview?.highest_price ?? trending.market?.highest_price ? '' : trending.coin.id,\n    )\n    const { data: salesOneDay_ } = useOneDaySaleAmounts(\n        overview?.sales_24h ?? overview?.sales ?? trending.market?.total_24h ? '' : trending.coin.id,\n    )\n    const salesOneDay = salesOneDay_ ?? overview?.sales_24h ?? overview?.sales ?? trending.market?.total_24h\n    const highestPrice = highestPrice_ ?? overview?.highest_price ?? trending.market?.highest_price\n\n    const { classes, cx } = useStyles()\n    const chain = useNetworkDescriptor(result.pluginID ?? NetworkPluginID.PLUGIN_EVM, chainId)\n    const PaymentIcon = trending.market?.price_token_address ? (\n        <TokenIcon address={trending.market?.price_token_address} chainId={chainId} size={14} />\n    ) : (\n        <WalletIcon mainIcon={chain?.icon} size={14} />\n    )\n\n    return (\n        <Stack>\n            <Grid spacing={4} className={classes.gridContainer}>\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_total_assets()}\n                    </Typography>\n                    <Typography color=\"textPrimary\" variant=\"body2\" className={classes.gridItemValue}>\n                        {formatSupply(overview?.items_total ?? trending.market?.total_supply, '--')}\n                    </Typography>\n                </Grid>\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_owners_count()}\n                    </Typography>\n                    <Typography color=\"textPrimary\" variant=\"body2\" className={classes.gridItemValue}>\n                        {formatInteger(overview?.owners_total ?? trending.market?.owners_count, '--')}\n                    </Typography>\n                </Grid>\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_market_cap()}\n                    </Typography>\n                    <div className={classes.amountWrapper}>\n                        {overview?.market_cap ? PaymentIcon : null}\n                        <Typography\n                            color=\"textPrimary\"\n                            variant=\"body2\"\n                            className={cx(classes.gridItemValue, classes.amount)}>\n                            {formatInteger(overview?.market_cap ?? trending.market?.market_cap, '--')}\n                        </Typography>\n                    </div>\n                </Grid>\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_highest_price()}\n                    </Typography>\n                    <div className={classes.amountWrapper}>\n                        {highestPrice ? PaymentIcon : null}\n                        <Typography\n                            color=\"textPrimary\"\n                            variant=\"body2\"\n                            className={cx(classes.gridItemValue, classes.amount)}>\n                            {formatSupply(highestPrice, '--')}\n                        </Typography>\n                    </div>\n                </Grid>\n\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_total_volume()}\n                    </Typography>\n                    <div className={classes.amountWrapper}>\n                        {overview?.total_volume ? PaymentIcon : null}\n                        <Typography\n                            color=\"textPrimary\"\n                            variant=\"body2\"\n                            className={cx(classes.gridItemValue, classes.amount)}>\n                            {formatSupply(overview?.total_volume ?? trending.market?.total_volume, '--')}\n                        </Typography>\n                    </div>\n                </Grid>\n\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_one_day_average_price()}\n                    </Typography>\n                    <div className={classes.amountWrapper}>\n                        {overview?.average_price_24h ?? overview?.average_price ? PaymentIcon : null}\n                        <Typography\n                            color=\"textPrimary\"\n                            variant=\"body2\"\n                            className={cx(classes.gridItemValue, classes.amount)}>\n                            {formatSupply(overview?.average_price_24h ?? overview?.average_price, '--')}\n                        </Typography>\n                    </div>\n                </Grid>\n\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_one_day_traded_volume()}\n                    </Typography>\n                    <div className={classes.amountWrapper}>\n                        {overview?.volume_24h ?? overview?.volume ? PaymentIcon : null}\n                        <Typography\n                            color=\"textPrimary\"\n                            variant=\"body2\"\n                            className={cx(classes.gridItemValue, classes.amount)}>\n                            {formatSupply(\n                                overview?.volume_24h ?? overview?.volume ?? trending.market?.volume_24h,\n                                '--',\n                            )}\n                        </Typography>\n                    </div>\n                </Grid>\n\n                <Grid item className={classes.gridItem}>\n                    <Typography color=\"textSecondary\" variant=\"body2\" className={classes.gridItemTitle}>\n                        {t.plugin_trader_one_day_sale()}\n                    </Typography>\n                    <Typography color=\"textPrimary\" variant=\"body2\" className={classes.gridItemValue}>\n                        {formatSupply(salesOneDay, '--')}\n                    </Typography>\n                </Grid>\n            </Grid>\n        </Stack>\n    )\n}\n\nexport function CoinMarketTable(props: CoinMarketTableProps) {\n    const isNFT = props.trending.coin.type === TokenType.NonFungible\n    return isNFT ? (\n        <NonFungibleCoinMarketTable {...props} />\n    ) : (\n        <FungibleCoinMarketTable {...props} sign={CurrencyType.USD} />\n    )\n}\n","import { CoinMetadataTable } from '@masknet/shared'\nimport type { TrendingAPI } from '@masknet/web3-providers/types'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { Stack } from '@mui/material'\nimport { CoinMarketTable } from './CoinMarketTable.js'\n\ninterface CoinMarketPanelProps {\n    trending: TrendingAPI.Trending\n    result: Web3Helper.TokenResultAll\n}\n\nexport function CoinMarketPanel(props: CoinMarketPanelProps) {\n    const { trending, result } = props\n\n    return (\n        <Stack p={2} gap={1}>\n            <CoinMarketTable trending={trending} result={result} />\n            <CoinMetadataTable trending={trending} />\n        </Stack>\n    )\n}\n","import { useRef } from 'react'\nimport { Stack, Typography } from '@mui/material'\nimport { LoadingBase, makeStyles } from '@masknet/theme'\nimport { openWindow } from '@masknet/shared-base-ui'\nimport { useDimension, usePriceLineChart, type Dimension } from '@masknet/shared'\nimport { useTraderTrans } from '../../locales/index.js'\nimport type { Coin, Currency, Stat } from '../../types/index.js'\n\nconst DEFAULT_DIMENSION: Dimension = {\n    top: 32,\n    right: 16,\n    bottom: 32,\n    left: 16,\n    width: 566,\n    height: 190,\n}\n\nconst useStyles = makeStyles<PriceChartProps>()((theme, { stats, coin }) => {\n    return {\n        root: {\n            position: 'relative',\n            cursor: stats.length && coin?.platform_url ? 'pointer' : 'default',\n        },\n        svg: {\n            display: 'block',\n        },\n        progress: {\n            position: 'absolute',\n            left: 275,\n            top: 85,\n        },\n        placeholder: {\n            paddingTop: theme.spacing(10),\n            paddingBottom: theme.spacing(10),\n            borderStyle: 'none',\n        },\n    }\n})\n\ninterface PriceChartProps extends withClasses<'root'> {\n    coin?: Coin\n    currency: Currency\n    stats: Stat[]\n    loading?: boolean\n    width?: number\n    height?: number\n    amount: number\n    children?: React.ReactNode\n}\n\nexport function PriceChart(props: PriceChartProps) {\n    const t = useTraderTrans()\n    const { classes } = useStyles(props, { props })\n    const rootRef = useRef<HTMLDivElement>(null)\n    const svgRef = useRef<SVGSVGElement>(null)\n\n    useDimension(svgRef, DEFAULT_DIMENSION)\n\n    usePriceLineChart(\n        svgRef,\n        props.stats.map(([date, price]) => ({\n            date: new Date(date),\n            value: price,\n        })),\n        DEFAULT_DIMENSION,\n        'x-trader-price-line-chart',\n        { sign: props.currency.name ?? 'USD' },\n    )\n\n    return (\n        <div className={classes.root} ref={rootRef}>\n            {props.loading && props.stats.length ? (\n                <LoadingBase className={classes.progress} color=\"primary\" size={15} />\n            ) : null}\n\n            <Stack gap={2}>\n                {props.stats.length ? (\n                    <svg\n                        className={classes.svg}\n                        ref={svgRef}\n                        width={DEFAULT_DIMENSION.width}\n                        height={DEFAULT_DIMENSION.height}\n                        viewBox={`0 0 ${DEFAULT_DIMENSION.width} ${DEFAULT_DIMENSION.height}`}\n                        preserveAspectRatio=\"xMidYMid meet\"\n                        onClick={() => {\n                            props.stats.length && openWindow(props.coin?.platform_url)\n                        }}\n                    />\n                ) : (\n                    <Typography className={classes.placeholder} align=\"center\" color=\"textSecondary\">\n                        {t.plugin_trader_no_data()}\n                    </Typography>\n                )}\n                {props.children}\n            </Stack>\n        </div>\n    )\n}\n","export function resolveDaysName(days: number) {\n    if (days === 0) return 'MAX'\n    if (days >= 365) return `${Math.floor(days / 365)}Y`\n    if (days >= 30) return `${Math.floor(days / 30)}M`\n    if (days >= 7) return `${Math.floor(days / 7)}W`\n    if (days === 1) return '24H'\n    return `${days}d`\n}\n","import { Link, Stack, Typography } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { Days } from '@masknet/shared-base'\nimport { resolveDaysName } from '../../helpers/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        background: theme.palette.maskColor.input,\n        borderRadius: 28,\n        padding: theme.spacing(0.5),\n    },\n    active: {\n        boxShadow: '0px 2px 5px 1px rgba(0, 0, 0, 0.05)',\n        background: theme.palette.maskColor.bottom,\n        fontWeight: 700,\n    },\n    link: {\n        padding: theme.spacing(1),\n        width: '25%',\n        cursor: 'pointer',\n        borderRadius: 18,\n        textAlign: 'center',\n        color: theme.palette.text.primary,\n        textDecoration: 'none !important',\n    },\n}))\n\nexport const DEFAULT_RANGE_OPTIONS = [Days.ONE_DAY, Days.ONE_WEEK, Days.ONE_MONTH, Days.ONE_YEAR, Days.MAX]\n\ninterface PriceChartDaysControlProps {\n    days: number\n    rangeOptions?: Days[]\n    onDaysChange?: (days: number) => void\n}\n\nexport function PriceChartDaysControl({\n    rangeOptions = DEFAULT_RANGE_OPTIONS,\n    days,\n    onDaysChange,\n}: PriceChartDaysControlProps) {\n    const { classes, cx } = useStyles()\n    return (\n        <Stack className={classes.root} direction=\"row\" gap={2}>\n            {rangeOptions.map((daysOption) => (\n                <Link\n                    className={cx(classes.link, days === daysOption ? classes.active : '')}\n                    key={daysOption}\n                    onClick={() => onDaysChange?.(daysOption)}>\n                    <Typography sx={{ ':hover': { fontWeight: 700 } }} component=\"span\">\n                        {resolveDaysName(daysOption)}\n                    </Typography>\n                </Link>\n            ))}\n        </Stack>\n    )\n}\n","import { type ReactNode, useContext } from 'react'\nimport { pick } from 'lodash-es'\nimport {\n    Box,\n    Link,\n    Stack,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Typography,\n    useTheme,\n} from '@mui/material'\nimport { useSiteThemeMode } from '@masknet/plugin-infra/content-script'\nimport { makeStyles, ShadowRootTooltip } from '@masknet/theme'\nimport { FormattedCurrency } from '@masknet/shared'\nimport { formatEthereumAddress } from '@masknet/web3-shared-evm'\nimport { CurrencyType, formatCurrency, formatElapsed } from '@masknet/web3-shared-base'\nimport type { Ticker } from '../../types/index.js'\nimport { TrendingViewContext } from './context.js'\nimport { useTraderTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles<{ themeMode?: 'dim' | 'dark' | 'light'; isPopper?: boolean }>()(\n    (theme, { themeMode, isPopper }) => ({\n        container: {\n            maxHeight: 266,\n            scrollbarWidth: 'none',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        cell: {\n            paddingLeft: theme.spacing(0.5),\n            paddingRight: theme.spacing(0.5),\n            background: themeMode === 'dim' && !isPopper ? '#15202b' : theme.palette.maskColor.bottom,\n            fontSize: 12,\n            fontWeight: 700,\n            whiteSpace: 'nowrap',\n            border: 'none',\n            '&:not(:first-child)': {\n                textAlign: 'center',\n            },\n        },\n        logo: {\n            width: 18,\n            height: 18,\n            verticalAlign: 'bottom',\n            marginRight: theme.spacing(0.5),\n        },\n        placeholder: {\n            paddingTop: theme.spacing(10),\n            paddingBottom: theme.spacing(10),\n            borderStyle: 'none',\n        },\n        pair: {\n            whiteSpace: 'nowrap',\n            textOverflow: 'ellipsis',\n            overflow: 'hidden',\n            maxWidth: 100,\n            width: 100,\n        },\n    }),\n)\n\ninterface TickersTableProps {\n    tickers: Ticker[]\n}\n\ntype Cells = 'exchange' | 'pair' | 'price' | 'volume' | 'updated'\n\nexport function TickersTable({ tickers }: TickersTableProps) {\n    const t = useTraderTrans()\n    const theme = useTheme()\n    const themeMode = useSiteThemeMode(theme)\n    const { isCollectionProjectPopper, isTokenTagPopper } = useContext(TrendingViewContext)\n    const { classes } = useStyles({ themeMode, isPopper: isCollectionProjectPopper || isTokenTagPopper })\n\n    const headCellMap: Record<Cells, string> = {\n        volume: t.plugin_trader_table_volume(),\n        updated: t.plugin_trader_table_updated(),\n        exchange: t.plugin_trader_table_exchange(),\n        pair: t.plugin_trader_table_pair(),\n        price: t.plugin_trader_table_price(),\n    }\n\n    const columns: Cells[] = ['exchange', 'pair', 'price', 'volume', 'updated']\n    const tickerRows = tickers.map((ticker, index) => {\n        const price = ticker.price ?? ticker.floor_price\n        const volume = ticker.volume\n        const marketplaceOrExchange = (\n            <Stack direction=\"row\" alignItems=\"center\">\n                {ticker.logo_url ? <img className={classes.logo} src={ticker.logo_url} /> : null}\n                <Typography component=\"span\">{ticker.market_name}</Typography>\n            </Stack>\n        )\n        const cellMap: Record<Cells, ReactNode> = {\n            volume: volume ? (\n                <FormattedCurrency value={volume} formatter={formatCurrency} sign={CurrencyType.USD} />\n            ) : null,\n            updated: ticker.updated ? formatElapsed(ticker.updated.getTime()) : null,\n            exchange: marketplaceOrExchange,\n            pair: (() => {\n                if (!ticker.base_name || !ticker.target_name) return null\n                const formatted = formatEthereumAddress(ticker.base_name, 2)\n                const basename = formatted !== ticker.base_name ? ticker.base_name : ''\n                const targetName = formatEthereumAddress(ticker.target_name, 2)\n\n                return (\n                    <ShadowRootTooltip\n                        placement=\"top-start\"\n                        disableInteractive\n                        PopperProps={{\n                            disablePortal: true,\n                        }}\n                        disableHoverListener={basename.length + targetName.length < 9}\n                        title={`${formatted} / ${formatEthereumAddress(ticker.target_name, 2)}`}\n                        arrow>\n                        <Box className={classes.pair}>\n                            <Link\n                                color={(theme) => theme.palette.maskColor?.primary}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                href={ticker.trade_url}>\n                                <Typography\n                                    component=\"span\"\n                                    title={formatted !== ticker.base_name ? ticker.base_name : ''}>\n                                    {formatted}\n                                </Typography>\n                                <span>/</span>\n                                <Typography component=\"span\">{formatEthereumAddress(ticker.target_name, 2)}</Typography>\n                            </Link>\n                        </Box>\n                    </ShadowRootTooltip>\n                )\n            })(),\n            price: price ? (\n                <FormattedCurrency value={price} formatter={formatCurrency} sign={CurrencyType.USD} />\n            ) : null,\n        }\n\n        const cells = Object.entries(pick(cellMap, columns)).map(([name, cell]) => (\n            <TableCell key={name} className={classes.cell}>\n                {cell}\n            </TableCell>\n        ))\n        return <TableRow key={index}>{cells}</TableRow>\n    })\n\n    const headCells = Object.values(pick(headCellMap, columns))\n\n    return (\n        <TableContainer className={classes.container}>\n            <Table size=\"small\" stickyHeader>\n                <TableHead>\n                    <TableRow>\n                        {headCells.map((x) => (\n                            <TableCell className={classes.cell} key={x}>\n                                {x}\n                            </TableCell>\n                        ))}\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {columns.length ? (\n                        tickerRows\n                    ) : (\n                        <TableRow>\n                            <TableCell\n                                className={classes.cell}\n                                colSpan={columns.length}\n                                style={{ borderStyle: 'none' }}>\n                                <Typography className={classes.placeholder} align=\"center\" color=\"textSecondary\">\n                                    {t.plugin_trader_no_data()}\n                                </Typography>\n                            </TableCell>\n                        </TableRow>\n                    )}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    )\n}\n","import { useAsync } from 'react-use'\n\nconst ENV = {\n    production: 'https://api.transak.com/api/v2/currencies/crypto-currencies',\n    development: 'https://staging-api.transak.com/api/v2/currencies/crypto-currencies',\n    test: 'https://development-api.transak.com/api/v2/currencies/crypto-currencies',\n}\n\nconst URL = ENV[process.env.NODE_ENV]\n\nexport function useTransakAllowanceCoin(token: { address?: string; symbol: string }): boolean {\n    return useAsync(async () => {\n        if (token.symbol) {\n            const allowanceList = await fetch(URL, { method: 'GET' })\n                .then((res) => res.json())\n                .then((res) => res.response)\n            return allowanceList.map((val: { symbol: string }) => val.symbol).includes(token.symbol)\n        }\n        return false\n    }, [JSON.stringify(token)]).value\n}\n","import { TokenIcon, type TokenIconProps } from '@masknet/shared'\nimport type { TokenType } from '@masknet/web3-shared-base'\nimport { NetworkPluginID } from '@masknet/shared-base'\n\ninterface CoinIconProps extends TokenIconProps {\n    type: TokenType\n}\n\nexport function CoinIcon({ type, ...rest }: CoinIconProps) {\n    return <TokenIcon tokenType={type} pluginID={NetworkPluginID.PLUGIN_EVM} {...rest} />\n}\n","import { Card } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        root: {\n            overflow: 'auto',\n            backgroundColor: 'transparent',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n            marginBottom: theme.spacing(1.5),\n        },\n    }\n})\n\nexport interface TrendingCardProps extends withClasses<'root'> {\n    children?: React.ReactNode\n}\n\nexport function TrendingCard(props: TrendingCardProps) {\n    const { children } = props\n    const { classes } = useStyles(undefined, { props })\n    return (\n        <Card className={classes.root} elevation={0} component=\"article\">\n            {children}\n        </Card>\n    )\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m7 10 5 5 5-5z\"\n}), 'ArrowDropDown');","import { Typography, MenuItem, Link, Stack } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { useMenuConfig } from '@masknet/shared'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport {\n    RadioButtonUnchecked as RadioButtonUncheckedIcon,\n    ArrowDropDown as ArrowDropDownIcon,\n} from '@mui/icons-material'\nimport { Icons } from '@masknet/icons'\n\nconst useStyles = makeStyles()((theme) => ({\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n        cursor: 'pointer',\n    },\n    title: {\n        display: 'inline-flex',\n        alignItems: 'center',\n        fontSize: 10,\n    },\n    icon: {\n        color: theme.palette.maskColor.main,\n    },\n}))\n\nexport interface FootnoteMenuOption {\n    name: React.ReactNode\n    value: Web3Helper.TokenResultAll\n    disabled?: boolean\n}\n\nexport interface FootnoteMenuProps extends withClasses<'title' | 'icon'> {\n    options: FootnoteMenuOption[]\n    selectedIndex?: number\n    children?: React.ReactNode\n    onChange?: (option: Web3Helper.TokenResultAll) => void\n}\n\nexport function FootnoteMenu(props: FootnoteMenuProps) {\n    const { children, options, selectedIndex = -1, onChange } = props\n\n    const { classes, theme } = useStyles(undefined, { props })\n    const onSelect = (option: FootnoteMenuOption) => {\n        onChange?.(option.value)\n    }\n    const [menu, openMenu] = useMenuConfig(\n        options.map((x, i) => (\n            <MenuItem disabled={x.disabled} key={x.value.id} onClick={() => onSelect(x)}>\n                <Stack direction=\"row\" justifyContent=\"space-around\" gap={1} alignItems=\"center\" width=\"100%\">\n                    <Stack flexGrow={1} color={theme.palette.maskColor.main}>\n                        {x.name}\n                    </Stack>\n                    {selectedIndex === i ? (\n                        <Icons.CheckCircle\n                            size={20}\n                            style={{\n                                color: theme.palette.maskColor.primary,\n                                boxShadow: '0px 4px 10px rgba(28, 104, 243, 0.2)',\n                            }}\n                        />\n                    ) : (\n                        <RadioButtonUncheckedIcon\n                            style={{ fontSize: 20, color: theme.palette.maskColor.secondaryLine }}\n                        />\n                    )}\n                </Stack>\n            </MenuItem>\n        )),\n        {\n            anchorSibling: false,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right',\n            },\n            transformOrigin: {\n                vertical: 'top',\n                horizontal: 'right',\n            },\n            PaperProps: {\n                style: { background: theme.palette.maskColor.bottom },\n            },\n        },\n    )\n\n    return (\n        <>\n            <Link\n                className={classes.link}\n                color=\"inherit\"\n                underline=\"none\"\n                onClick={options.length > 1 ? openMenu : undefined}>\n                <Typography className={classes.title} variant=\"subtitle2\">\n                    {options[selectedIndex]?.name}\n                    {options.length > 1 ? (\n                        <ArrowDropDownIcon style={{ fontSize: 16, cursor: 'pointer' }} className={classes.icon} />\n                    ) : null}\n                </Typography>\n                {children}\n            </Link>\n            {menu}\n        </>\n    )\n}\n","import { makeStyles } from '@masknet/theme'\nimport { uniqBy } from 'lodash-es'\nimport { Stack, Typography } from '@mui/material'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { resolveSourceTypeName } from '@masknet/web3-shared-base'\nimport { Box } from '@mui/system'\nimport { FootnoteMenu } from '../FootnoteMenu/index.js'\nimport { SourceProviderIcon } from '../SourceProviderIcon/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        source: {\n            justifyContent: 'space-between',\n        },\n        sourceMenu: {\n            fontSize: 14,\n            fontWeight: 700,\n        },\n        sourceName: {\n            fontWeight: 700,\n            color: theme.palette.mode === 'dark' ? '' : theme.palette.maskColor.publicMain,\n        },\n    }\n})\n\nexport interface SourceSwitcherProps extends withClasses<'source' | 'selectedOption' | 'arrowDropIcon'> {\n    result: Web3Helper.TokenResultAll\n    resultList: Web3Helper.TokenResultAll[]\n    setResult: (a: Web3Helper.TokenResultAll) => void\n}\n\nexport function SourceSwitcher(props: SourceSwitcherProps) {\n    const { result, setResult, resultList } = props\n    const { classes } = useStyles(undefined, { props })\n    const sourceTypes = uniqBy(resultList, (x) => x.source).map((x) => x.source)\n    return (\n        <Box className={classes.source}>\n            <Stack\n                className={classes.sourceMenu}\n                display=\"inline-flex\"\n                flexDirection=\"row\"\n                alignItems=\"center\"\n                gap={0.5}>\n                <FootnoteMenu\n                    options={uniqBy(resultList, (x) => x.source).map((x) => ({\n                        name: (\n                            <Stack display=\"inline-flex\" flexDirection=\"row\" alignItems=\"center\" gap={0.5}>\n                                <Typography className={classes.sourceName}>\n                                    {resolveSourceTypeName(x.source)}\n                                </Typography>\n                                <SourceProviderIcon provider={x.source} size={20} />\n                            </Stack>\n                        ),\n                        value: x,\n                    }))}\n                    selectedIndex={typeof result.source !== 'undefined' ? sourceTypes.indexOf(result.source) : -1}\n                    onChange={setResult}\n                    classes={{ title: classes.selectedOption, icon: classes.arrowDropIcon }}\n                />\n            </Stack>\n        </Box>\n    )\n}\n","import { Icons } from '@masknet/icons'\nimport { Stack, Typography } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { useSharedTrans } from '@masknet/shared'\nimport { Box } from '@mui/system'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        cardIcon: {\n            filter: 'drop-shadow(0px 6px 12px rgba(0, 65, 185, 0.2))',\n            marginLeft: theme.spacing(0.25),\n        },\n    }\n})\ninterface PluginHeaderProps extends React.PropsWithChildren<{}> {\n    isCollectionProjectPopper?: boolean\n    isProfilePage?: boolean\n    isTokenTagPopper?: boolean\n}\n\nexport function PluginDescriptor({\n    children,\n    isCollectionProjectPopper,\n    isProfilePage,\n    isTokenTagPopper,\n}: PluginHeaderProps) {\n    const { classes } = useStyles()\n    const t = useSharedTrans()\n\n    return (\n        <Stack flexDirection=\"row\" justifyContent=\"space-between\" alignItems=\"center\" width=\"100%\">\n            <Stack flexDirection=\"row\" justifyContent=\"space-between\" gap={0.5} alignItems=\"center\">\n                {isCollectionProjectPopper || isTokenTagPopper ? (\n                    <Icons.Web3ProfileCard className={classes.cardIcon} size={24} />\n                ) : isProfilePage ? (\n                    <Icons.Web3Profile className={classes.cardIcon} size={24} />\n                ) : (\n                    <Icons.DecentralizedSearch />\n                )}\n                <Typography\n                    fontWeight=\"bolder\"\n                    fontSize={16}\n                    color={(theme) =>\n                        isCollectionProjectPopper || isTokenTagPopper\n                            ? theme.palette.maskColor.main\n                            : theme.palette.maskColor.dark\n                    }>\n                    {isTokenTagPopper || isCollectionProjectPopper\n                        ? t.web3_profile_card_name()\n                        : isProfilePage\n                        ? t.profile_card_name()\n                        : t.decentralized_search_name()}\n                </Typography>\n            </Stack>\n            <Box>{children}</Box>\n        </Stack>\n    )\n}\n","import { useContext } from 'react'\nimport { uniqBy } from 'lodash-es'\nimport { Box } from '@mui/system'\nimport { SourceSwitcher } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { Stack, Typography } from '@mui/material'\nimport { TrendingViewContext } from './context.js'\nimport { PluginDescriptor } from './PluginDescriptor.js'\nimport { useTraderTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles<{\n    isTokenTagPopper: boolean\n    isCollectionProjectPopper: boolean\n}>()((theme, props) => {\n    return {\n        source: {\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        sourceNote: {\n            color: theme.palette.maskColor.secondaryDark,\n            marginRight: 4,\n            fontWeight: 700,\n        },\n        sourceMenu: {\n            fontSize: 14,\n            fontWeight: 700,\n        },\n        selectedOption: {\n            fontWeight: 700,\n            color:\n                props.isCollectionProjectPopper || props.isTokenTagPopper\n                    ? theme.palette.maskColor.main\n                    : theme.palette.maskColor.dark,\n        },\n        arrowDropIcon: {\n            color:\n                props.isCollectionProjectPopper || props.isTokenTagPopper\n                    ? theme.palette.maskColor.main\n                    : theme.palette.maskColor.dark,\n        },\n    }\n})\n\nexport interface TrendingViewDescriptorProps {\n    result: Web3Helper.TokenResultAll\n    resultList: Web3Helper.TokenResultAll[]\n    setResult: (a: Web3Helper.TokenResultAll) => void\n}\n\nexport function TrendingViewDescriptor(props: TrendingViewDescriptorProps) {\n    const { result, resultList, setResult } = props\n    const {\n        isProfilePage,\n        isCollectionProjectPopper = false,\n        isTokenTagPopper = true,\n    } = useContext(TrendingViewContext)\n    const t = useTraderTrans()\n\n    const { classes } = useStyles({ isTokenTagPopper, isCollectionProjectPopper })\n\n    const displayList = uniqBy(\n        resultList.filter((x) => x.type === result.type),\n        (x) => x.source,\n    )\n\n    return (\n        <PluginDescriptor\n            isCollectionProjectPopper={isCollectionProjectPopper}\n            isProfilePage={isProfilePage}\n            isTokenTagPopper={isTokenTagPopper}>\n            <Box className={classes.source}>\n                <Stack\n                    className={classes.sourceMenu}\n                    display=\"inline-flex\"\n                    flexDirection=\"row\"\n                    alignItems=\"center\"\n                    gap={0.5}>\n                    <Typography className={classes.sourceNote}>{t.powered_by()}</Typography>\n                </Stack>\n                <SourceSwitcher\n                    resultList={displayList}\n                    result={result}\n                    setResult={setResult}\n                    classes={{ selectedOption: classes.selectedOption, arrowDropIcon: classes.arrowDropIcon }}\n                />\n            </Box>\n        </PluginDescriptor>\n    )\n}\n","import { Icons } from '@masknet/icons'\nimport { useActivatedPluginsSiteAdaptor, useIsMinimalMode } from '@masknet/plugin-infra/content-script'\nimport { signWithPersona } from '@masknet/plugin-infra/dom/context'\nimport { PluginTransakMessages, useTransakAllowanceCoin } from '@masknet/plugin-transak'\nimport {\n    EnhanceableSite_RSS3_NFT_SITE_KEY_map,\n    Linking,\n    NFTSpamBadge,\n    PriceChange,\n    TokenSecurityBar,\n    TokenWithSocialGroupMenu,\n    useReportSpam,\n    useSocialAccountsBySettings,\n    useTokenMenuCollectionList,\n    useTokenSecurity,\n} from '@masknet/shared'\nimport {\n    CrossIsolationMessages,\n    EMPTY_LIST,\n    PluginID,\n    type EnhanceableSite,\n    type NetworkPluginID,\n    type SocialIdentity,\n} from '@masknet/shared-base'\nimport { useAnchor, useRemoteControlledDialog } from '@masknet/shared-base-ui'\nimport { LoadingBase, MaskColors, MaskLightTheme, makeStyles } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { TrendingAPI } from '@masknet/web3-providers/types'\nimport { SourceType, TokenType, formatCurrency } from '@masknet/web3-shared-base'\nimport { Telemetry } from '@masknet/web3-telemetry'\nimport { EventID, EventType } from '@masknet/web3-telemetry/types'\nimport {\n    Avatar,\n    Button,\n    CardContent,\n    IconButton,\n    Paper,\n    Stack,\n    ThemeProvider,\n    Typography,\n    useTheme,\n} from '@mui/material'\nimport { first, last } from 'lodash-es'\nimport { useCallback, useContext, useEffect, useRef, useState } from 'react'\nimport { useTraderTrans } from '../../locales/index.js'\nimport { ContentTab, type Currency, type Stat } from '../../types/index.js'\nimport { CoinIcon } from './CoinIcon.js'\nimport { TrendingCard, type TrendingCardProps } from './TrendingCard.js'\nimport { TrendingViewDescriptor } from './TrendingViewDescriptor.js'\nimport { TrendingViewContext } from './context.js'\n\nconst useStyles = makeStyles<{\n    isTokenTagPopper: boolean\n    isCollectionProjectPopper: boolean\n}>()((theme, props) => {\n    return {\n        content: {\n            paddingTop: 0,\n            paddingBottom: '0 !important',\n            '&:last-child': {\n                padding: 0,\n            },\n        },\n        cardHeader: {\n            padding: theme.spacing(2),\n            paddingBottom: theme.spacing(6.5),\n            background:\n                'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(69, 163, 251, 0.2) 100%), #FFFFFF;',\n        },\n        headline: {\n            marginTop: props.isCollectionProjectPopper || props.isTokenTagPopper ? 0 : 16,\n            alignItems: 'center',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            position: 'relative',\n        },\n        title: {\n            display: 'flex',\n            maxWidth: 350,\n            alignItems: 'center',\n            whiteSpace: 'nowrap',\n        },\n        name: {\n            maxWidth: 200,\n            whiteSpace: 'nowrap',\n            textOverflow: 'ellipsis',\n            overflow: 'hidden',\n            fontSize: 18,\n            fontWeight: 700,\n            color: theme.palette.maskColor?.dark,\n        },\n        symbol: {\n            fontWeight: 700,\n            fontSize: 18,\n            color: theme.palette.maskColor.dark,\n            marginLeft: theme.spacing(0.5),\n            marginRight: theme.spacing(0.5),\n            display: 'flex',\n            alignItems: 'center',\n        },\n        symbolText: {\n            display: 'inline-block',\n            maxWidth: 200,\n            whiteSpace: 'nowrap',\n            textOverflow: 'ellipsis',\n            fontStyle: 'normal',\n            overflow: 'hidden',\n            textTransform: 'uppercase',\n        },\n        rank: {\n            display: 'inline-flex',\n            padding: theme.spacing(0.25, 0.5),\n            color: theme.palette.maskColor?.white,\n            fontWeight: 400,\n            fontSize: 10,\n            background: theme.palette.maskColor?.dark,\n            borderRadius: theme.spacing(0.5),\n        },\n        avatar: {\n            width: 24,\n            height: 24,\n            fontSize: 10,\n            backgroundColor: theme.palette.common.white,\n        },\n        buyButton: {\n            marginLeft: 'auto',\n        },\n        icon: {\n            color: MaskColors.dark.maskColor.dark,\n        },\n        pluginDescriptorWrapper: {\n            padding: '15px 17px 15px 13px',\n            position: 'absolute',\n            width: '100%',\n            height: 48,\n            left: 0,\n            bottom: 12,\n            right: 0,\n            display: 'flex',\n            alignItems: 'center',\n            background: theme.palette.maskColor.bg,\n            backdropFilter: 'blur(5px)',\n            boxSizing: 'border-box',\n            borderBottomRightRadius: '16px',\n            borderBottomLeftRadius: '16px',\n            zIndex: 2,\n        },\n        link: {\n            outline: 0,\n        },\n    }\n})\n\ninterface TrendingViewDeckProps extends withClasses<'header' | 'body' | 'footer' | 'content' | 'cardHeader'> {\n    stats: Stat[]\n    currency: Currency\n    currentTab: ContentTab\n    trending: TrendingAPI.Trending\n    identity?: SocialIdentity | null\n    setActive?: (x: boolean) => void\n    setResult: (a: Web3Helper.TokenResultAll) => void\n    result: Web3Helper.TokenResultAll\n    resultList?: Web3Helper.TokenResultAll[]\n    children?: React.ReactNode\n    TrendingCardProps?: Partial<TrendingCardProps>\n}\n\nexport function TrendingViewDeck(props: TrendingViewDeckProps) {\n    const {\n        trending,\n        stats,\n        children,\n        TrendingCardProps,\n        resultList = EMPTY_LIST,\n        result,\n        setResult,\n        setActive,\n        currentTab,\n        identity,\n    } = props\n\n    const { coin, market } = trending\n    const [walletMenuOpen, setWalletMenuOpen] = useState(false)\n    const closeMenu = useCallback(() => setWalletMenuOpen(false), [])\n    const { isCollectionProjectPopper, isTokenTagPopper, isPreciseSearch, isProfilePage } =\n        useContext(TrendingViewContext)\n    const { anchorEl, anchorBounding } = useAnchor()\n    const [timer, setTimer] = useState<ReturnType<typeof setTimeout>>()\n\n    const t = useTraderTrans()\n    const theme = useTheme()\n    const { classes } = useStyles({ isTokenTagPopper, isCollectionProjectPopper }, { props })\n    const isNFT = coin.type === TokenType.NonFungible\n\n    // #region buy\n    const transakPluginEnabled = useActivatedPluginsSiteAdaptor('any').some((x) => x.ID === PluginID.Transak)\n    const transakIsMinimalMode = useIsMinimalMode(PluginID.Transak)\n\n    const { account } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const isAllowanceCoin = useTransakAllowanceCoin({ address: coin.contract_address, symbol: coin.symbol })\n    const { setDialog: setBuyDialog } = useRemoteControlledDialog(PluginTransakMessages.buyTokenDialogUpdated)\n\n    const minimalPlugins = useActivatedPluginsSiteAdaptor(true)\n    const isTokenSecurityEnable = !isNFT && !minimalPlugins.map((x) => x.ID).includes(PluginID.GoPlusSecurity)\n\n    const { value: tokenSecurity, error } = useTokenSecurity(\n        coin.chainId,\n        coin.contract_address?.trim(),\n        isTokenSecurityEnable,\n    )\n\n    const isBuyable = !isNFT && transakPluginEnabled && !transakIsMinimalMode && coin.symbol && isAllowanceCoin\n    const onBuyButtonClicked = useCallback(() => {\n        setBuyDialog({\n            open: true,\n            code: coin.symbol,\n            address: account,\n        })\n    }, [account, coin.symbol])\n    // #endregion\n\n    const titleRef = useRef<HTMLElement>(null)\n\n    const coinAddress = coin.address || coin.contract_address\n    const coinName = result.name || coin.name\n\n    const collectionList = useTokenMenuCollectionList(resultList, result)\n\n    const rss3Key = EnhanceableSite_RSS3_NFT_SITE_KEY_map[identity?.identifier?.network as EnhanceableSite]\n    const { data: socialAccounts = EMPTY_LIST } = useSocialAccountsBySettings(\n        identity,\n        undefined,\n        undefined,\n        signWithPersona,\n    )\n\n    const openRss3Profile = useCallback(\n        (address: string) => {\n            if (!isCollectionProjectPopper) {\n                CrossIsolationMessages.events.hideSearchResultInspectorEvent.sendToLocal({ hide: true })\n                return\n            }\n\n            if (!identity?.identifier?.userId || !anchorBounding) return\n\n            CrossIsolationMessages.events.profileCardEvent.sendToLocal({\n                open: true,\n                userId: identity?.identifier?.userId,\n                anchorBounding,\n                anchorEl,\n                address,\n                external: true,\n            })\n            setActive?.(false)\n        },\n        [identity, isCollectionProjectPopper, anchorBounding, anchorEl],\n    )\n\n    const { isReporting, isSpam, promptReport } = useReportSpam({\n        address: coin.address,\n        chainId: coin.chainId,\n    })\n\n    useEffect(() => {\n        if (timer) clearTimeout(timer)\n\n        if (isCollectionProjectPopper || isTokenTagPopper) {\n            const timer = setTimeout(() => {\n                Telemetry.captureEvent(\n                    EventType.Access,\n                    isNFT ? EventID.EntryTimelineHoverNftDuration : EventID.EntryTimelineHoverTokenDuration,\n                )\n            }, 1000)\n            setTimer(timer)\n        }\n        return () => {\n            if (timer) clearTimeout(timer)\n            setTimer(undefined)\n        }\n    }, [isCollectionProjectPopper, isTokenTagPopper, isProfilePage, isNFT])\n\n    const floorPrice =\n        trending.dataProvider === SourceType.CoinMarketCap\n            ? last(stats)?.[1] ?? market?.current_price\n            : market?.current_price\n    return (\n        <TrendingCard {...TrendingCardProps}>\n            <Stack className={classes.cardHeader}>\n                {isCollectionProjectPopper || isTokenTagPopper ? null : (\n                    <TrendingViewDescriptor result={result} resultList={resultList} setResult={setResult} />\n                )}\n                <Stack className={classes.headline}>\n                    <Stack gap={2} flexGrow={1}>\n                        <Stack>\n                            <Stack flexDirection=\"row\" alignItems=\"center\" gap={0.5} ref={titleRef}>\n                                <Linking LinkProps={{ className: classes.link }} href={first(coin.home_urls)}>\n                                    <Avatar className={classes.avatar} src={coin.image_url} alt={coin.symbol}>\n                                        <CoinIcon\n                                            type={coin.type}\n                                            name={coinName}\n                                            label=\"\"\n                                            symbol={coin.symbol}\n                                            address={coinAddress ?? ''}\n                                            logoURL={coin.image_url}\n                                            size={20}\n                                        />\n                                    </Avatar>\n                                </Linking>\n\n                                <Typography className={classes.title} variant=\"h6\">\n                                    <Linking\n                                        href={first(coin.home_urls)}\n                                        LinkProps={{ className: classes.name, title: coinName }}>\n                                        {coinName}\n                                    </Linking>\n                                    {coin.symbol ? (\n                                        <Typography component=\"span\" className={classes.symbol}>\n                                            (<em className={classes.symbolText}>{coin.symbol}</em>)\n                                        </Typography>\n                                    ) : null}\n                                </Typography>\n                                {typeof coin.market_cap_rank === 'number' || result.rank ? (\n                                    <Typography component=\"span\" className={classes.rank} title=\"Index Cap Rank\">\n                                        {t.plugin_trader_rank({\n                                            rank: result.rank?.toString() ?? coin.market_cap_rank?.toString() ?? '',\n                                        })}\n                                    </Typography>\n                                ) : null}\n                                {(collectionList.length > 1 || (socialAccounts.length && rss3Key)) &&\n                                !isPreciseSearch ? (\n                                    <>\n                                        <IconButton\n                                            sx={{ padding: 0 }}\n                                            size=\"small\"\n                                            onClick={() => setWalletMenuOpen((v) => !v)}>\n                                            <Icons.ArrowDrop size={24} className={classes.icon} />\n                                        </IconButton>\n\n                                        <TokenWithSocialGroupMenu\n                                            disablePortal\n                                            disableScrollLock={false}\n                                            open={walletMenuOpen}\n                                            onClose={closeMenu}\n                                            anchorEl={titleRef.current}\n                                            onAddressChange={openRss3Profile}\n                                            collectionList={collectionList}\n                                            socialAccounts={socialAccounts}\n                                            currentCollection={result}\n                                            onTokenChange={setResult}\n                                        />\n                                    </>\n                                ) : null}\n                                <ThemeProvider theme={MaskLightTheme}>\n                                    {isBuyable ? (\n                                        <Button\n                                            color=\"primary\"\n                                            className={classes.buyButton}\n                                            size=\"small\"\n                                            startIcon={<Icons.Buy size={16} />}\n                                            variant=\"contained\"\n                                            onClick={onBuyButtonClicked}>\n                                            {t.buy_now()}\n                                        </Button>\n                                    ) : null}\n                                    {isNFT && first(coin.home_urls) ? (\n                                        <Button\n                                            color=\"primary\"\n                                            className={classes.buyButton}\n                                            size=\"small\"\n                                            endIcon={<Icons.LinkOut size={16} />}\n                                            variant=\"roundedContained\"\n                                            onClick={() => window.open(first(coin.home_urls))}>\n                                            {t.open()}\n                                        </Button>\n                                    ) : null}\n                                </ThemeProvider>\n                            </Stack>\n                            <Stack direction=\"row\" justifyContent=\"space-between\" marginTop={2}>\n                                <Stack direction=\"row\" gap={1} alignItems=\"center\">\n                                    {market ? (\n                                        <Typography\n                                            fontSize={18}\n                                            fontWeight={500}\n                                            lineHeight=\"24px\"\n                                            color={theme.palette.maskColor.dark}>\n                                            {isNFT ? `${t.plugin_trader_floor_price()}: ` : null}\n                                            {floorPrice\n                                                ? formatCurrency(floorPrice, isNFT ? market.price_symbol : 'USD')\n                                                : '--'}\n                                        </Typography>\n                                    ) : (\n                                        <Typography fontSize={14} fontWeight={500} lineHeight=\"24px\">\n                                            {t.plugin_trader_no_data()}\n                                        </Typography>\n                                    )}\n                                    {isNFT && !isSpam ? (\n                                        <IconButton onClick={promptReport} disabled={isReporting}>\n                                            {isReporting ? (\n                                                <LoadingBase size={16} />\n                                            ) : (\n                                                <Icons.Flag size={16} color={theme.palette.maskColor.dark} />\n                                            )}\n                                        </IconButton>\n                                    ) : null}\n                                    {market && !isNFT ? (\n                                        <PriceChange\n                                            change={\n                                                market.price_change_percentage_24h_in_currency ||\n                                                market.price_change_24h ||\n                                                0\n                                            }\n                                        />\n                                    ) : null}\n                                </Stack>\n                                {isNFT && isSpam ? (\n                                    <NFTSpamBadge />\n                                ) : isTokenSecurityEnable && tokenSecurity && !error ? (\n                                    <TokenSecurityBar tokenSecurity={tokenSecurity} />\n                                ) : null}\n                            </Stack>\n                        </Stack>\n                    </Stack>\n                </Stack>\n            </Stack>\n            <CardContent className={classes.content}>\n                <Paper className={classes.body} elevation={0}>\n                    {children}\n                    {(isCollectionProjectPopper || isTokenTagPopper) && currentTab === ContentTab.Market ? (\n                        <Stack style={{ height: 48, width: '100%', background: theme.palette.maskColor.bottom }} />\n                    ) : null}\n                </Paper>\n                {(isCollectionProjectPopper || isTokenTagPopper) && currentTab !== ContentTab.Swap ? (\n                    <section className={classes.pluginDescriptorWrapper}>\n                        <TrendingViewDescriptor result={result} resultList={resultList} setResult={setResult} />\n                    </section>\n                ) : null}\n            </CardContent>\n        </TrendingCard>\n    )\n}\n","import { createLookupTableResolver } from '@masknet/shared-base'\nimport { ActivityType } from '@masknet/web3-shared-base'\n\nexport const resolveActivityTypeBackgroundColor = createLookupTableResolver<ActivityType, string>(\n    {\n        [ActivityType.Sale]: 'rgba(28, 104, 243, 0.1)',\n        [ActivityType.Burn]: 'rgba(255, 53, 69, 0.1)',\n        [ActivityType.Transfer]: 'rgba(61, 194, 51, 0.1)',\n        [ActivityType.Mint]: 'rgba(255, 177, 0, 0.1)',\n        [ActivityType.CancelOffer]: 'rgba(255, 177, 0, 0.1)',\n        [ActivityType.List]: 'rgba(255, 177, 0, 0.1)',\n        [ActivityType.Offer]: 'rgba(255, 177, 0, 0.1)',\n    },\n    '',\n)\n","import { useRef, useContext } from 'react'\nimport { format as formatDateTime, fromUnixTime } from 'date-fns'\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Typography,\n    Link,\n    Stack,\n    useTheme,\n} from '@mui/material'\nimport { makeStyles, LoadingBase } from '@masknet/theme'\nimport { Icons } from '@masknet/icons'\nimport { useSiteThemeMode } from '@masknet/plugin-infra/content-script'\nimport { TokenIcon, FormattedAddress, Image, WalletIcon, ElementAnchor } from '@masknet/shared'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { useNetworkDescriptor, useFungibleToken, useWeb3Others } from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { formatCurrency } from '@masknet/web3-shared-base'\nimport { resolveActivityTypeBackgroundColor } from '@masknet/web3-providers/helpers'\nimport { useNonFungibleTokenActivities } from '../../trending/useTrending.js'\nimport { TrendingViewContext } from './context.js'\nimport { useTraderTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles<{ isPopper: boolean; themeMode?: 'dim' | 'dark' | 'light' }>()(\n    (theme, { isPopper, themeMode }) => ({\n        container: {\n            maxHeight: isPopper ? 320 : 266,\n            scrollbarWidth: 'none',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        cell: {\n            paddingLeft: theme.spacing(0.5),\n            paddingRight: theme.spacing(0.5),\n            background: themeMode === 'dim' && !isPopper ? '#15202b' : theme.palette.maskColor.bottom,\n            fontSize: 12,\n            fontWeight: 700,\n            whiteSpace: 'nowrap',\n            border: 'none',\n            '&:not(:first-child)': {\n                textAlign: 'center',\n            },\n            '&:last-child': {\n                textAlign: 'right',\n            },\n        },\n        nftImage: {\n            height: 20,\n            width: 20,\n            marginRight: 4,\n            borderRadius: 4,\n        },\n        nftCell: {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        cellWrapper: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        methodCellWrapper: {\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'center',\n        },\n        methodCell: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            height: 24,\n            width: 62,\n            borderRadius: 500,\n            fontWeight: 400,\n        },\n        tokenIcon: {\n            width: 16,\n            height: 16,\n            marginRight: 4,\n        },\n        imageLoading: {\n            color: theme.palette.maskColor.main,\n            height: '15px !important',\n            width: '15px !important',\n        },\n        linkIcon: {\n            color: theme.palette.text.primary,\n        },\n        transactionLink: {\n            height: 16,\n            marginLeft: 4,\n        },\n        placeholder: {\n            paddingTop: theme.spacing(10),\n            paddingBottom: theme.spacing(10),\n            borderStyle: 'none',\n        },\n        loadMore: {\n            display: 'flex',\n            width: '100%',\n            justifyContent: 'center',\n            transform: 'translateY(-16px)',\n        },\n        loadMoreIcon: {\n            marginBottom: 16,\n        },\n    }),\n)\n\ninterface NonFungibleTickersTableProps {\n    id: string\n    chainId: Web3Helper.ChainIdAll\n    result: Web3Helper.TokenResultAll\n}\n\ntype Cells = 'nft' | 'method' | 'value' | 'from' | 'to' | 'time'\n\nexport function NonFungibleTickersTable({ id, chainId, result }: NonFungibleTickersTableProps) {\n    const t = useTraderTrans()\n    const theme = useTheme()\n    const containerRef = useRef(null)\n    const themeMode = useSiteThemeMode(theme)\n    const { isCollectionProjectPopper, isTokenTagPopper } = useContext(TrendingViewContext)\n    const { classes } = useStyles({ isPopper: isCollectionProjectPopper || isTokenTagPopper, themeMode })\n    const Others = useWeb3Others(result.pluginID)\n    const { activities, fetchActivities, loadingActivities } = useNonFungibleTokenActivities(\n        result.pluginID,\n        id,\n        chainId,\n    )\n    const headCellMap: Record<Cells, string> = {\n        nft: t.plugin_trader_table_nft(),\n        method: t.plugin_trader_table_method(),\n        value: t.plugin_trader_table_value(),\n        from: t.plugin_trader_table_from(),\n        to: t.plugin_trader_table_to(),\n        time: t.plugin_trader_table_time(),\n    }\n\n    const tickerRows: JSX.Element[] =\n        activities?.map((x, index) => {\n            const cellMap: Record<Cells, React.ReactNode> = {\n                nft: (\n                    <div className={classes.nftCell}>\n                        <Image\n                            fallback={<Icons.MaskAvatar size={20} />}\n                            src={x.imageURL}\n                            classes={{\n                                container: classes.nftImage,\n                                imageLoading: classes.imageLoading,\n                            }}\n                            className={classes.nftImage}\n                        />\n                        <Typography fontSize={12}>{Others.formatTokenId(x.token_id || x.token_address, 3)}</Typography>\n                    </div>\n                ),\n                method: (\n                    <div className={classes.methodCellWrapper}>\n                        <div\n                            className={classes.methodCell}\n                            style={{ backgroundColor: resolveActivityTypeBackgroundColor(x.event_type) }}>\n                            <Typography fontSize={12}>{x.event_type}</Typography>\n                        </div>\n                    </div>\n                ),\n                value: <TransactionValue chainId={chainId} activity={x} result={result} />,\n                from: (\n                    <Typography fontSize={12}>\n                        <FormattedAddress\n                            address={x.send ?? x.from ?? x.source}\n                            formatter={(address) =>\n                                Others.formatAddress(Others.formatDomainName(address, 12), 3) ?? address\n                            }\n                        />\n                    </Typography>\n                ),\n                to: (\n                    <Typography fontSize={12}>\n                        <FormattedAddress\n                            address={x.receive ?? x.destination}\n                            formatter={(address) =>\n                                Others.formatAddress(Others.formatDomainName(address, 12), 3) ?? address\n                            }\n                        />\n                    </Typography>\n                ),\n                time: (\n                    <div className={classes.cellWrapper}>\n                        <Typography fontSize={12}>\n                            {formatDateTime(\n                                fromUnixTime(Number.parseInt((x.timestamp / 1000).toFixed(0), 10)),\n                                'yyyy-MM-dd HH:mm',\n                            )}{' '}\n                        </Typography>\n                        <Link\n                            href={x.transaction_link}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className={classes.transactionLink}>\n                            <Icons.LinkOut size={15} className={classes.linkIcon} />\n                        </Link>\n                    </div>\n                ),\n            }\n\n            const cells = Object.entries(cellMap).map(([name, cell]) => (\n                <TableCell key={name} className={classes.cell}>\n                    {cell}\n                </TableCell>\n            ))\n            return <TableRow key={index}>{cells}</TableRow>\n        }) ?? []\n\n    const headCells = Object.values(headCellMap)\n\n    return (\n        <TableContainer className={classes.container} ref={containerRef}>\n            {activities.length === 0 && loadingActivities ? (\n                <Stack height={298} width={566} alignItems=\"center\" justifyContent=\"center\">\n                    <LoadingBase />\n                    <Typography fontSize=\"14px\" mt={1.5}>\n                        {t.loading()}\n                    </Typography>\n                </Stack>\n            ) : (\n                <>\n                    <Table size=\"small\" stickyHeader>\n                        <TableHead>\n                            <TableRow>\n                                {headCells.map((x) => (\n                                    <TableCell className={classes.cell} key={x}>\n                                        {x}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {tickerRows.length ? (\n                                tickerRows\n                            ) : (\n                                <TableRow>\n                                    <TableCell\n                                        className={classes.cell}\n                                        colSpan={headCells.length}\n                                        style={{ borderStyle: 'none' }}>\n                                        <Typography\n                                            className={classes.placeholder}\n                                            align=\"center\"\n                                            color=\"textSecondary\">\n                                            {t.plugin_trader_no_data()}\n                                        </Typography>\n                                    </TableCell>\n                                </TableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n\n                    <Stack py={1} className={classes.loadMore}>\n                        <ElementAnchor callback={fetchActivities}>\n                            {activities.length > 0 && loadingActivities ? (\n                                <LoadingBase className={classes.loadMoreIcon} />\n                            ) : null}\n                        </ElementAnchor>\n                    </Stack>\n                </>\n            )}\n        </TableContainer>\n    )\n}\n\ninterface TransactionValueProps {\n    result: Web3Helper.TokenResultAll\n    chainId: Web3Helper.ChainIdAll\n    activity: Web3Helper.NonFungibleTokenActivityAll\n}\n\nfunction TransactionValue({ result, chainId, activity }: TransactionValueProps) {\n    const { classes } = useStyles({ isPopper: false })\n    const chain = useNetworkDescriptor(result.pluginID, chainId)\n    const { data: token } = useFungibleToken(result.pluginID, activity.trade_token?.address, activity.trade_token, {\n        chainId: result.chainId,\n    })\n\n    return (\n        <div className={classes.cellWrapper}>\n            {result.pluginID === NetworkPluginID.PLUGIN_SOLANA ? (\n                <div className={classes.tokenIcon}>\n                    <WalletIcon mainIcon={chain?.icon} size={16} />\n                </div>\n            ) : activity.trade_symbol?.toUpperCase() === 'WETH' ? (\n                <Icons.WETH size={16} className={classes.tokenIcon} />\n            ) : (\n                <TokenIcon\n                    logoURL={token?.logoURL || activity.trade_token?.logoURL}\n                    symbol={activity.trade_symbol}\n                    address={activity.contract_address}\n                    className={classes.tokenIcon}\n                />\n            )}\n\n            <Typography fontSize={12}>\n                {formatCurrency((activity.trade_price ?? activity.fee ?? 0).toFixed(4), '')}\n            </Typography>\n        </div>\n    )\n}\n","import { useContext, type ReactNode } from 'react'\nimport { LoadingBase, makeStyles } from '@masknet/theme'\nimport { CardContent, Stack, Typography } from '@mui/material'\nimport { TrendingViewContext } from './context.js'\nimport { PluginDescriptor } from './PluginDescriptor.js'\nimport { TrendingCard, type TrendingCardProps } from './TrendingCard.js'\nimport { useTraderTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        padding: theme.spacing(1, 1.5),\n        background:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(69, 163, 251, 0.2) 100%), #FFFFFF;',\n    },\n    content: {\n        height: 162,\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n}))\n\ninterface TrendingViewSkeletonProps extends withClasses<'content' | 'footer'> {\n    TrendingCardProps?: Partial<TrendingCardProps>\n    children?: ReactNode\n}\n\nexport function TrendingViewSkeleton(props: TrendingViewSkeletonProps) {\n    const { TrendingCardProps, children } = props\n    const { isCollectionProjectPopper, isProfilePage, isTokenTagPopper } = useContext(TrendingViewContext)\n    const { classes } = useStyles(undefined, { props })\n    const t = useTraderTrans()\n\n    return (\n        <TrendingCard {...TrendingCardProps}>\n            <Stack className={classes.root}>\n                {isCollectionProjectPopper || isTokenTagPopper ? null : (\n                    <PluginDescriptor\n                        isCollectionProjectPopper={isCollectionProjectPopper}\n                        isProfilePage={isProfilePage}\n                        isTokenTagPopper={isTokenTagPopper}\n                    />\n                )}\n                <CardContent className={classes.content}>\n                    {children ?? (\n                        <Stack height=\"100%\" alignItems=\"center\" justifyContent=\"center\">\n                            <LoadingBase />\n                            <Typography fontSize=\"14px\" mt={1.5}>\n                                {t.loading()}\n                            </Typography>\n                        </Stack>\n                    )}\n                </CardContent>\n                {isCollectionProjectPopper || isTokenTagPopper ? (\n                    <PluginDescriptor\n                        isCollectionProjectPopper={isCollectionProjectPopper}\n                        isProfilePage={isProfilePage}\n                        isTokenTagPopper={isTokenTagPopper}\n                    />\n                ) : null}\n            </Stack>\n        </TrendingCard>\n    )\n}\n","import { MaskLightTheme, makeStyles } from '@masknet/theme'\nimport { ThemeProvider } from '@mui/material'\nimport { TrendingCard, type TrendingCardProps } from './TrendingCard.js'\nimport { EmptyStatus } from '@masknet/shared'\nimport { TrendingViewDescriptor, type TrendingViewDescriptorProps } from './TrendingViewDescriptor.js'\nimport { useTraderTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    content: {\n        background:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(69, 163, 251, 0.2) 100%), #FFFFFF;',\n        padding: theme.spacing(1, 1.5),\n        boxSizing: 'border-box',\n        height: 202,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}))\n\ninterface Props extends TrendingCardProps, TrendingViewDescriptorProps {}\n\nexport function FailedTrendingView({ result, resultList, setResult, ...rest }: Props) {\n    const t = useTraderTrans()\n    const { classes } = useStyles()\n    return (\n        <ThemeProvider theme={MaskLightTheme}>\n            <TrendingCard {...rest}>\n                <div className={classes.content}>\n                    <EmptyStatus style={{ height: 'auto', flexGrow: 1 }}>{t.load_failed()}</EmptyStatus>\n                    <TrendingViewDescriptor result={result} resultList={resultList} setResult={setResult} />\n                </div>\n            </TrendingCard>\n        </ThemeProvider>\n    )\n}\n","import { useEffect, useMemo, useState, useContext, useCallback, useLayoutEffect } from 'react'\nimport { compact, first } from 'lodash-es'\nimport { TabContext } from '@mui/lab'\nimport { Box, useTheme } from '@mui/system'\nimport { Stack, Tab, ThemeProvider } from '@mui/material'\nimport { useIsMinimalMode } from '@masknet/plugin-infra/content-script'\nimport {\n    useChainContext,\n    useNativeToken,\n    useNonFungibleAssetsByCollection,\n    Web3ContextProvider,\n} from '@masknet/web3-hooks-base'\nimport { ChainId, isNativeTokenAddress, isNativeTokenSymbol, SchemaType } from '@masknet/web3-shared-evm'\nimport { createFungibleToken, SourceType, TokenType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { NFTList, PluginCardFrameMini, PluginEnableBoundary } from '@masknet/shared'\nimport {\n    EMPTY_LIST,\n    PluginID,\n    NetworkPluginID,\n    getSiteType,\n    type SocialIdentity,\n    pluginIDsSettings,\n    Days,\n} from '@masknet/shared-base'\nimport { useValueRef } from '@masknet/shared-base-ui'\nimport { makeStyles, MaskLightTheme, MaskTabList, useTabs } from '@masknet/theme'\nimport type { TrendingAPI } from '@masknet/web3-providers/types'\nimport { Telemetry } from '@masknet/web3-telemetry'\nimport { EventType, EventID } from '@masknet/web3-telemetry/types'\nimport { TrendingViewContext } from './context.js'\nimport { usePriceStats } from '../../trending/usePriceStats.js'\nimport { useTrendingById } from '../../trending/useTrending.js'\nimport { TradeView } from '../trader/TradeView.js'\nimport { CoinMarketPanel } from './CoinMarketPanel.js'\nimport { PriceChart } from './PriceChart.js'\nimport { DEFAULT_RANGE_OPTIONS, PriceChartDaysControl } from './PriceChartDaysControl.js'\nimport { TickersTable } from './TickersTable.js'\nimport { TrendingViewDeck } from './TrendingViewDeck.js'\nimport { NonFungibleTickersTable } from './NonFungibleTickersTable.js'\nimport { TrendingViewSkeleton } from './TrendingViewSkeleton.js'\nimport { ContentTab } from '../../types/index.js'\nimport { FailedTrendingView } from './FailedTrendingView.js'\nimport { useTraderTrans } from '../../locales/index.js'\nimport { share } from '@masknet/plugin-infra/content-script/context'\n\nconst useStyles = makeStyles<{\n    isTokenTagPopper: boolean\n    isCollectionProjectPopper: boolean\n    currentTab: ContentTab\n}>()((theme, props) => {\n    return {\n        root:\n            props.isTokenTagPopper || props.isCollectionProjectPopper\n                ? {\n                      width: 598,\n                      borderRadius: theme.spacing(2),\n                      boxShadow:\n                          theme.palette.mode === 'dark'\n                              ? 'rgba(255, 255, 255, 0.2) 0 0 15px, rgba(255, 255, 255, 0.15) 0 0 3px 1px'\n                              : 'rgba(101, 119, 134, 0.2) 0 0 15px, rgba(101, 119, 134, 0.15) 0 0 3px 1px',\n                  }\n                : {\n                      width: '100%',\n                      boxShadow: 'none',\n                      borderRadius: 0,\n                      marginBottom: 0,\n                  },\n        tabListRoot: {\n            flexGrow: 0,\n        },\n        body: props.isCollectionProjectPopper\n            ? {\n                  minHeight: 374,\n                  maxHeight: props.isCollectionProjectPopper\n                      ? props.currentTab === ContentTab.Price\n                          ? 450\n                          : props.currentTab === ContentTab.Swap\n                          ? 'unset'\n                          : 374\n                      : 'unset',\n                  overflow: 'hidden',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  background: 'transparent',\n              }\n            : {\n                  background: 'transparent',\n                  maxHeight: props.currentTab === ContentTab.Market ? 374 : 'unset',\n                  display: 'flex',\n                  flexDirection: 'column',\n              },\n        footerSkeleton: props.isTokenTagPopper\n            ? {}\n            : {\n                  borderBottom: `solid 1px ${theme.palette.divider}`,\n              },\n        content: props.isTokenTagPopper\n            ? {}\n            : {\n                  border: 'none',\n              },\n        tradeViewRoot: {\n            maxWidth: '100% !important',\n        },\n        priceChartRoot: props.isTokenTagPopper\n            ? {\n                  flex: 1,\n              }\n            : {},\n        cardHeader: {\n            marginBottom: '-36px',\n        },\n        nftItems: {\n            height: props.isCollectionProjectPopper ? 360 : 530,\n            padding: theme.spacing(2),\n            boxSizing: 'border-box',\n            overflow: 'auto',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        priceChartWrapper: {\n            padding: theme.spacing(4, 2, props.isTokenTagPopper ? 8 : 4, 2),\n        },\n        nftList: {\n            gap: 12,\n        },\n        hidden: {\n            padding: 0,\n            visibility: 'hidden',\n            height: 0,\n        },\n    }\n})\n\ninterface TrendingViewProps {\n    resultList: Web3Helper.TokenResultAll[]\n    currentResult?: Web3Helper.TokenResultAll\n    identity?: SocialIdentity | null\n    setActive?: (x: boolean) => void\n    address?: string\n    onUpdate?: () => void\n}\n\nexport function TrendingView(props: TrendingViewProps) {\n    const { resultList, identity, setActive, currentResult } = props\n    const [result, setResult] = useState(currentResult ?? resultList[0])\n    const { isTokenTagPopper, isCollectionProjectPopper, isProfilePage } = useContext(TrendingViewContext)\n    const t = useTraderTrans()\n    const theme = useTheme()\n    const isMinimalMode = useIsMinimalMode(PluginID.Trader)\n    const isWeb3ProfileMinimalMode = useIsMinimalMode(PluginID.Web3Profile)\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n\n    const { data: nativeToken } = useNativeToken<'all'>(NetworkPluginID.PLUGIN_EVM, {\n        chainId: result.chainId ?? chainId,\n    })\n\n    const site = getSiteType()\n    const pluginIDs = useValueRef(pluginIDsSettings)\n    const context = { pluginID: site ? pluginIDs[site] : NetworkPluginID.PLUGIN_EVM }\n\n    // #region merge trending\n    const { value: { trending } = {}, loading: loadingTrending, error } = useTrendingById(result, result.address)\n    // #endregion\n\n    useEffect(() => {\n        if (currentResult) setResult(currentResult)\n    }, [currentResult])\n\n    // #region stats\n    const [days, setDays] = useState(Days.ONE_DAY)\n    const [currentPriceChange, setCurrentPriceChange] = useState(\n        trending?.market?.price_change_percentage_24h_in_currency,\n    )\n    const onPriceDaysControlChange = useCallback(\n        (days: number) => {\n            setDays(days)\n            const map: Partial<Record<Days, number | undefined>> = {\n                [Days.ONE_DAY]: trending?.market?.price_change_percentage_24h_in_currency,\n                [Days.ONE_WEEK]: trending?.market?.price_change_percentage_7d_in_currency,\n                [Days.ONE_MONTH]: trending?.market?.price_change_percentage_30d_in_currency,\n                [Days.ONE_YEAR]: trending?.market?.price_change_percentage_1y_in_currency,\n                [Days.MAX]: trending?.market?.atl_change_percentage,\n            }\n            setCurrentPriceChange(map[days as Days])\n        },\n        [trending?.market],\n    )\n\n    useEffect(() => {\n        onPriceDaysControlChange(Days.ONE_DAY)\n    }, [trending?.market])\n\n    const isNFT = trending?.coin.type === TokenType.NonFungible\n    const { data: stats = EMPTY_LIST, isLoading: loadingStats } = usePriceStats({\n        chainId: result.chainId,\n        coinId: trending?.coin.id,\n        sourceType: isNFT ? SourceType.NFTScan : trending?.dataProvider,\n        currency: trending?.currency,\n        days,\n    })\n    // #endregion\n\n    // #region expected chainId\n    const swapExpectedContract = useMemo(() => {\n        const contracts = trending?.contracts?.filter((x) => x.chainId && x.address) ?? []\n        const fallbackContracts: TrendingAPI.Contract[] =\n            trending?.coin.chainId && trending.coin.contract_address\n                ? [\n                      {\n                          chainId: trending.coin.chainId,\n                          address: trending.coin.contract_address,\n                          pluginID: NetworkPluginID.PLUGIN_EVM,\n                      },\n                  ]\n                : []\n\n        const _contracts = (contracts.length ? contracts : fallbackContracts).filter((x) => x.chainId === chainId) ?? []\n        if (_contracts.length > 0) return first(_contracts)\n        return first(contracts)\n    }, [trending, chainId])\n    // #endregion\n\n    // #region if the coin is a native token or contract address exists\n    const isSwappable =\n        !isMinimalMode &&\n        !isNFT &&\n        !!trending?.coin.contract_address &&\n        (!swapExpectedContract?.pluginID || swapExpectedContract?.pluginID === NetworkPluginID.PLUGIN_EVM)\n    // #endregion\n\n    // #region tabs\n    const tabs = useMemo(() => {\n        const list = [ContentTab.Market, ContentTab.Price, ContentTab.Exchange]\n        if (isSwappable) list.push(ContentTab.Swap)\n        if (isNFT) list.push(ContentTab.NFTItems)\n        return list\n    }, [isSwappable, isNFT])\n    const [currentTab, , , setTab] = useTabs<ContentTab>(tabs[0], ...tabs)\n    useLayoutEffect(() => {\n        setTab(tabs[0])\n    }, [result, tabs[0]])\n\n    const TabComponents = useMemo(() => {\n        const configs = [\n            {\n                key: ContentTab.Market,\n                label: t.plugin_trader_tab_market(),\n            },\n            {\n                key: ContentTab.Price,\n                label: t.plugin_trader_trending(),\n            },\n            {\n                key: ContentTab.Exchange,\n                label: isNFT ? t.plugin_trader_tab_activities() : t.plugin_trader_tab_exchange(),\n            },\n            isSwappable\n                ? {\n                      key: ContentTab.Swap,\n                      label: t.plugin_trader_tab_swap(),\n                  }\n                : undefined,\n            isNFT\n                ? {\n                      key: ContentTab.NFTItems,\n                      label: t.plugin_trader_nft_items(),\n                  }\n                : undefined,\n        ]\n        return compact(configs).map((x) => <Tab value={x.key} key={x.key} label={x.label} />)\n    }, [t, isSwappable, isNFT])\n    // #endregion\n\n    const { classes, cx } = useStyles({ isTokenTagPopper, isCollectionProjectPopper, currentTab })\n\n    // #region api ready callback\n    useEffect(() => {\n        props.onUpdate?.()\n    }, [loadingTrending])\n    // #endregion\n\n    const collectionId =\n        trending?.coin.type === TokenType.NonFungible\n            ? result.pluginID === NetworkPluginID.PLUGIN_SOLANA\n                ? result.name\n                : trending.coin.contract_address\n            : undefined\n    const {\n        value: fetchedTokens = EMPTY_LIST,\n        done,\n        next,\n        error: loadError,\n    } = useNonFungibleAssetsByCollection(collectionId, result.pluginID, {\n        chainId: result.chainId,\n    })\n\n    if (error) {\n        return (\n            <FailedTrendingView\n                result={result}\n                resultList={resultList}\n                setResult={setResult}\n                classes={{ root: classes.root }}\n            />\n        )\n    }\n\n    // #region display loading skeleton\n    if (!trending?.currency || loadingTrending)\n        return (\n            <ThemeProvider theme={MaskLightTheme}>\n                <TrendingViewSkeleton\n                    classes={{ footer: classes.footerSkeleton }}\n                    TrendingCardProps={{ classes: { root: classes.root } }}\n                />\n            </ThemeProvider>\n        )\n    // #endregion\n\n    const { coin, tickers } = trending\n\n    const Component = (\n        <TrendingViewDeck\n            classes={{\n                body: classes.body,\n                content: classes.content,\n                cardHeader: classes.cardHeader,\n            }}\n            currentTab={currentTab}\n            stats={stats}\n            identity={identity}\n            setActive={setActive}\n            setResult={setResult}\n            resultList={resultList}\n            result={result}\n            currency={trending.currency}\n            trending={trending}\n            TrendingCardProps={{ classes: { root: classes.root } }}>\n            <TabContext value={currentTab}>\n                <Stack px={2}>\n                    <MaskTabList\n                        variant=\"base\"\n                        classes={{ root: classes.tabListRoot }}\n                        onChange={(_, v: ContentTab) => {\n                            setTab(v)\n\n                            if (!isProfilePage) return\n\n                            if (isNFT) {\n                                if (v === ContentTab.Price) {\n                                    Telemetry.captureEvent(EventType.Access, EventID.EntryProfileNFT_TrendSwitchTo)\n                                } else if (v === ContentTab.NFTItems) {\n                                    Telemetry.captureEvent(EventType.Access, EventID.EntryProfileNFT_ItemsSwitchTo)\n                                } else if (v === ContentTab.Exchange) {\n                                    Telemetry.captureEvent(EventType.Access, EventID.EntryProfileNFT_ActivitiesSwitchTo)\n                                }\n                            } else {\n                                if (v === ContentTab.Price) {\n                                    Telemetry.captureEvent(EventType.Access, EventID.EntryProfileTokenSwitchTrend)\n                                } else if (v === ContentTab.Exchange) {\n                                    Telemetry.captureEvent(EventType.Access, EventID.EntryProfileTokenSwitchMarket)\n                                }\n                            }\n                        }}\n                        aria-label=\"Network Tabs\">\n                        {TabComponents}\n                    </MaskTabList>\n                </Stack>\n            </TabContext>\n            <Stack\n                sx={{\n                    backgroundColor:\n                        isTokenTagPopper || isCollectionProjectPopper ? theme.palette.maskColor.bottom : 'transparent',\n                    flexGrow: 1,\n                    overflow: 'auto',\n                    '&::-webkit-scrollbar': {\n                        display: 'none',\n                    },\n                }}>\n                {currentTab === ContentTab.Market && trending.dataProvider ? (\n                    <CoinMarketPanel trending={trending} result={result} />\n                ) : null}\n                {currentTab === ContentTab.Price ? (\n                    <Box className={classes.priceChartWrapper}>\n                        <PriceChart\n                            classes={{ root: classes.priceChartRoot }}\n                            coin={coin}\n                            amount={\n                                currentPriceChange ?? trending?.market?.price_change_percentage_24h_in_currency ?? 0\n                            }\n                            currency={trending.currency}\n                            stats={stats}\n                            loading={loadingStats}>\n                            <PriceChartDaysControl\n                                rangeOptions={DEFAULT_RANGE_OPTIONS}\n                                days={days}\n                                onDaysChange={onPriceDaysControlChange}\n                            />\n                        </PriceChart>\n                    </Box>\n                ) : null}\n                {currentTab === ContentTab.Exchange && trending.dataProvider ? (\n                    <Box p={2}>\n                        {isNFT ? (\n                            <NonFungibleTickersTable\n                                id={\n                                    (result.pluginID === NetworkPluginID.PLUGIN_SOLANA ? result.name : coin.address) ??\n                                    ''\n                                }\n                                chainId={result.chainId ?? coin.chainId ?? ChainId.Mainnet}\n                                result={result}\n                            />\n                        ) : (\n                            <TickersTable tickers={tickers} />\n                        )}\n                    </Box>\n                ) : null}\n                {currentTab === ContentTab.Swap && isSwappable ? (\n                    <Web3ContextProvider\n                        value={{\n                            pluginID: context.pluginID,\n                            chainId: isNativeTokenSymbol(coin.symbol) ? coin.chainId : swapExpectedContract?.chainId,\n                        }}>\n                        <TradeView\n                            classes={{ root: classes.tradeViewRoot }}\n                            TraderProps={{\n                                share,\n                                defaultInputCoin: createFungibleToken(\n                                    result.chainId,\n                                    SchemaType.Native,\n                                    nativeToken?.address ?? '',\n                                    nativeToken?.name ?? '',\n                                    nativeToken?.symbol ?? '',\n                                    nativeToken?.decimals ?? 0,\n                                    isNativeTokenAddress(result.address) ? result.logoURL : undefined,\n                                ),\n                                defaultOutputCoin: isNativeTokenAddress(coin.contract_address)\n                                    ? undefined\n                                    : createFungibleToken(\n                                          swapExpectedContract?.chainId as ChainId,\n                                          SchemaType.ERC20,\n                                          swapExpectedContract?.address || '',\n                                          coin.name ?? coin.name,\n                                          coin.symbol ?? coin.symbol ?? '',\n                                          coin.decimals ?? 0,\n                                          result.logoURL,\n                                      ),\n                            }}\n                        />\n                    </Web3ContextProvider>\n                ) : null}\n\n                {isNFT ? (\n                    <Box className={cx(classes.nftItems, currentTab === ContentTab.NFTItems ? '' : classes.hidden)}>\n                        <NFTList\n                            pluginID={result.pluginID}\n                            className={classes.nftList}\n                            tokens={fetchedTokens}\n                            onNextPage={next}\n                            finished={done}\n                            hasError={!!loadError}\n                            gap={16}\n                        />\n                    </Box>\n                ) : null}\n            </Stack>\n        </TrendingViewDeck>\n    )\n\n    if (isProfilePage && isWeb3ProfileMinimalMode) {\n        return (\n            <PluginCardFrameMini>\n                <ThemeProvider theme={MaskLightTheme}>\n                    <PluginEnableBoundary pluginID={PluginID.Web3Profile}>{Component}</PluginEnableBoundary>\n                </ThemeProvider>\n            </PluginCardFrameMini>\n        )\n    }\n\n    return Component\n}\n","import { memo, useEffect, useState } from 'react'\nimport { useLocation } from 'react-use'\nimport { ClickAwayListener, Fade } from '@mui/material'\nimport type { SocialIdentity } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { TrendingAPI } from '@masknet/web3-providers/types'\nimport { AnchorProvider } from '@masknet/shared-base-ui'\nimport { PluginTraderMessages } from '../../messages.js'\n\ninterface TrendingPopperProps {\n    children?: (\n        name?: string,\n        type?: TrendingAPI.TagType,\n        currentResult?: Web3Helper.TokenResultAll,\n        setActive?: (x: boolean) => void,\n        identity?: SocialIdentity,\n        address?: string,\n        isCollectionProjectPopper?: boolean,\n    ) => React.ReactNode\n    locked?: boolean\n}\n\nexport const TrendingPopper = memo(function TrendingPopper({ children, locked }: TrendingPopperProps) {\n    const [active, setActive] = useState(false)\n    const [name, setName] = useState('')\n    const [isCollectionProjectPopper, setIsNFTProjectPopper] = useState(false)\n    const [identity, setIdentity] = useState<SocialIdentity>()\n    const [badgeBounding, setBadgeBounding] = useState<DOMRect>()\n    const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null)\n    const [address, setAddress] = useState('')\n    const [currentResult, setCurrentResult] = useState<Web3Helper.TokenResultAll>()\n    const [type, setType] = useState<TrendingAPI.TagType>()\n    const [initialOffsetY, setInitialOffsetY] = useState(0)\n\n    // open popper from message center\n    useEffect(() => {\n        return PluginTraderMessages.trendingAnchorObserved.on((ev) => {\n            setInitialOffsetY(window.scrollY)\n            setName(ev.name)\n            setCurrentResult(ev.currentResult)\n            setType(ev.type)\n            setBadgeBounding(ev.anchorBounding)\n            setAnchorEl(ev.anchorEl)\n            setAddress(ev.address ?? '')\n            setIdentity(ev.identity)\n            setIsNFTProjectPopper(!!ev.isCollectionProjectPopper)\n            setActive(true)\n        })\n    }, [])\n\n    useEffect(() => {\n        const onResize = () => setActive(false)\n\n        window.addEventListener('resize', onResize)\n\n        return () => {\n            window.removeEventListener('resize', onResize)\n        }\n    }, [])\n\n    // close popper if location was changed\n    const location = useLocation()\n    useEffect(() => setActive(false), [location.state?.key, location.href])\n\n    const badgeBoundingBottom = badgeBounding?.bottom ?? 0\n    const badgeBoundingLeft = badgeBounding?.left ?? 0\n    const positionY_Type = badgeBoundingBottom < 550 ? 'bottom' : 'top'\n    const positionX_Type = window.innerWidth - badgeBoundingLeft < 700 ? 'right' : 'left'\n\n    if (!type) return null\n\n    return (\n        <ClickAwayListener\n            useCapture\n            onClickAway={() => {\n                if (!locked) setActive(false)\n            }}>\n            <Fade in={active} easing=\"linear\" timeout={250}>\n                <div\n                    style={{\n                        position: 'absolute',\n                        left: positionX_Type === 'left' ? badgeBoundingLeft - 20 : badgeBoundingLeft - 300,\n                        ...(positionY_Type === 'bottom'\n                            ? { top: badgeBoundingBottom + initialOffsetY + 10 }\n                            : { bottom: window.innerHeight - badgeBoundingBottom + 10 - initialOffsetY }),\n                    }}>\n                    <AnchorProvider anchorEl={anchorEl} anchorBounding={badgeBounding}>\n                        {children?.(name, type, currentResult, setActive, identity, address, isCollectionProjectPopper)}\n                    </AnchorProvider>\n                </div>\n            </Fade>\n        </ClickAwayListener>\n    )\n})\n","import { useCallback } from 'react'\nimport { useAsyncRetry } from 'react-use'\nimport { EMPTY_LIST, type SocialIdentity } from '@masknet/shared-base'\nimport { useDialogStacking } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { DefaultWeb3ContextProvider } from '@masknet/web3-hooks-base'\nimport { DSearch } from '@masknet/web3-providers'\nimport { TrendingAPI } from '@masknet/web3-providers/types'\nimport { SearchResultType, SourceType } from '@masknet/web3-shared-base'\nimport { TrendingPopper } from './TrendingPopper.js'\nimport { TrendingView } from './TrendingView.js'\nimport { TrendingViewProvider } from './context.js'\n\nexport function TagInspector() {\n    const createTrendingView = useCallback(\n        (\n            name?: string,\n            type?: TrendingAPI.TagType,\n            currentResult?: Web3Helper.TokenResultAll,\n            setActive?: (x: boolean) => void,\n            identity?: SocialIdentity,\n            address?: string,\n            isCollectionProjectPopper?: boolean,\n            reposition?: () => void,\n        ) => {\n            return (\n                <TrendingViewWrapper\n                    address={address}\n                    currentResult={currentResult}\n                    identity={identity}\n                    setActive={setActive}\n                    name={name}\n                    type={type}\n                    reposition={reposition}\n                    isCollectionProjectPopper={isCollectionProjectPopper}\n                />\n            )\n        },\n        [],\n    )\n    const { stack } = useDialogStacking()\n    return (\n        <DefaultWeb3ContextProvider>\n            <TrendingPopper locked={stack.length > 0}>{createTrendingView}</TrendingPopper>\n        </DefaultWeb3ContextProvider>\n    )\n}\n\ninterface TrendingViewWrapperProps {\n    name?: string\n    type?: TrendingAPI.TagType\n    currentResult?: Web3Helper.TokenResultAll\n    setActive?: (x: boolean) => void\n    identity?: SocialIdentity\n    address?: string\n    isCollectionProjectPopper?: boolean\n    reposition?: () => void\n}\n\nfunction TrendingViewWrapper({\n    name,\n    type,\n    reposition,\n    currentResult,\n    setActive,\n    address,\n    identity,\n    isCollectionProjectPopper,\n}: TrendingViewWrapperProps) {\n    const { value: resultList, loading: loadingResultList } = useAsyncRetry(async () => {\n        if (!name || !type) return EMPTY_LIST\n        const results = await DSearch.search<Web3Helper.TokenResultAll>(\n            isCollectionProjectPopper ? name : `${type === TrendingAPI.TagType.CASH ? '$' : '#'}${name}`,\n            isCollectionProjectPopper ? SearchResultType.CollectionListByTwitterHandler : undefined,\n        )\n        return results.sort((a) => (a.source === SourceType.CoinMarketCap ? 1 : 0))\n    }, [name, type, isCollectionProjectPopper])\n\n    if (!resultList?.length || loadingResultList) return null\n\n    return (\n        <TrendingViewProvider\n            isDSearch={false}\n            isCollectionProjectPopper={!!isCollectionProjectPopper}\n            isProfilePage={false}\n            isTokenTagPopper={!isCollectionProjectPopper}\n            isPreciseSearch={false}>\n            <TrendingView\n                currentResult={currentResult}\n                resultList={resultList}\n                onUpdate={reposition}\n                address={address}\n                identity={identity}\n                setActive={setActive}\n            />\n        </TrendingViewProvider>\n    )\n}\n","import { PluginTraderMessages } from '../messages.js'\nimport { TrendingAPI } from '@masknet/web3-providers/types'\nimport type { Plugin } from '@masknet/plugin-infra'\n\nexport const enhanceTag: Plugin.SiteAdaptor.Definition['enhanceTag'] = {\n    onHover(kind, content, event) {\n        const element = event.currentTarget\n        const timer = setTimeout(async () => {\n            const type = kind === 'cash' ? TrendingAPI.TagType.CASH : TrendingAPI.TagType.HASH\n\n            PluginTraderMessages.trendingAnchorObserved.sendToLocal({\n                name: content,\n                type,\n                anchorBounding: element.getBoundingClientRect(),\n                anchorEl: element,\n            })\n        }, 500)\n        return () => {\n            clearTimeout(timer)\n        }\n    },\n}\n","import { Trans } from 'react-i18next'\nimport type { Plugin } from '@masknet/plugin-infra'\nimport { TrendingView } from './trending/TrendingView.js'\nimport { DefaultWeb3ContextProvider, Web3ContextProvider } from '@masknet/web3-hooks-base'\nimport { ApplicationEntry } from '@masknet/shared'\nimport { Icons } from '@masknet/icons'\nimport { CrossIsolationMessages, PluginID } from '@masknet/shared-base'\nimport { SearchResultType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { Others } from '@masknet/web3-providers'\nimport { Telemetry } from '@masknet/web3-telemetry'\nimport { EventType, EventID } from '@masknet/web3-telemetry/types'\nimport { base } from '../base.js'\nimport { TrendingViewProvider } from './trending/context.js'\nimport { TraderDialog } from './trader/TraderDialog.js'\nimport { TagInspector } from './trending/TagInspector.js'\nimport { enhanceTag } from './cashTag.js'\nimport { share } from '@masknet/plugin-infra/content-script/context'\n\nfunction openDialog() {\n    return CrossIsolationMessages.events.swapDialogEvent.sendToLocal({\n        open: true,\n    })\n}\nconst site: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    init() {},\n    SearchResultInspector: {\n        ID: PluginID.Trader,\n        UI: {\n            Content: function TraderSearchResultContent({ currentResult, resultList, isProfilePage, identity }) {\n                if (!resultList.length || !currentResult) return null\n                const { chainId, keyword, pluginID } = currentResult\n                return (\n                    <Web3ContextProvider\n                        value={{\n                            pluginID,\n                            chainId,\n                        }}>\n                        <TrendingViewProvider\n                            isDSearch={!isProfilePage}\n                            isCollectionProjectPopper={false}\n                            isProfilePage={!!isProfilePage}\n                            isTokenTagPopper={false}\n                            isPreciseSearch={Others.isValidAddress(keyword)}>\n                            <TrendingView\n                                resultList={resultList as Web3Helper.TokenResultAll[]}\n                                identity={identity}\n                                currentResult={currentResult as Web3Helper.TokenResultAll}\n                            />\n                        </TrendingViewProvider>\n                    </Web3ContextProvider>\n                )\n            },\n        },\n        Utils: {\n            shouldDisplay(result) {\n                return [\n                    SearchResultType.FungibleToken,\n                    SearchResultType.NonFungibleToken,\n                    SearchResultType.NonFungibleCollection,\n                    SearchResultType.CollectionListByTwitterHandler,\n                ].includes(result.type)\n            },\n        },\n    },\n    GlobalInjection() {\n        return (\n            <>\n                <TagInspector />\n                <DefaultWeb3ContextProvider>\n                    <TraderDialog share={share} />\n                </DefaultWeb3ContextProvider>\n            </>\n        )\n    },\n    enhanceTag,\n    ApplicationEntries: [\n        (() => {\n            const icon = <Icons.SwapColorful size={36} />\n            const name = <Trans i18nKey=\"plugin_trader_swap\" ns={PluginID.Trader} />\n            const iconFilterColor = 'rgba(247, 147, 30, 0.3)'\n            return {\n                ApplicationEntryID: base.ID,\n                RenderEntryComponent(EntryComponentProps) {\n                    return (\n                        <ApplicationEntry\n                            {...EntryComponentProps}\n                            title={name}\n                            icon={icon}\n                            iconFilterColor={iconFilterColor}\n                            onClick={() => {\n                                EntryComponentProps.onClick ? EntryComponentProps.onClick?.(openDialog) : openDialog()\n                                Telemetry.captureEvent(EventType.Access, EventID.EntryAppSwapOpen)\n                            }}\n                        />\n                    )\n                },\n                appBoardSortingDefaultPriority: 7,\n                marketListSortingPriority: 7,\n                icon,\n                category: 'dapp',\n                name,\n                tutorialLink: 'https://realmasknetwork.notion.site/f2e7d081ee38487ca1db958393ac1edc',\n                description: <Trans i18nKey=\"plugin_trader_swap_description\" />,\n                iconFilterColor,\n                hiddenInList: true,\n            }\n        })(),\n    ],\n    wrapperProps: {\n        icon: <Icons.SwapColorful size={24} style={{ filter: 'drop-shadow(0px 6px 12px rgba(254, 156, 0, 0.2))' }} />,\n        backgroundGradient:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(254, 156, 0, 0.2) 100%), #FFFFFF;',\n    },\n}\n\nexport default site\n","import { getPluginMessage, type PluginMessageEmitter } from '@masknet/plugin-infra'\nimport { PLUGIN_ID } from './constants.js'\n\ntype BuyTokenDialogEvent =\n    | {\n          open: true\n          code?: string\n          address: string\n      }\n    | {\n          open: false\n      }\n\ninterface PluginTransakMessage {\n    buyTokenDialogUpdated: BuyTokenDialogEvent\n}\n\nimport.meta.webpackHot?.accept()\nexport const PluginTransakMessages: PluginMessageEmitter<PluginTransakMessage> = getPluginMessage(PLUGIN_ID)\n","import { createContext, useMemo, type PropsWithChildren, useContext } from 'react'\n\ninterface AnchorContextOptions {\n    anchorEl: HTMLElement | null\n    anchorBounding?: DOMRect\n}\n\nexport const AnchorContext = createContext<AnchorContextOptions>({\n    anchorEl: null,\n})\n\ninterface Props {\n    anchorEl: HTMLElement | null\n    anchorBounding?: DOMRect\n}\nexport function AnchorProvider({ anchorEl, anchorBounding, children }: PropsWithChildren<Props>) {\n    const contextValue = useMemo(() => ({ anchorEl, anchorBounding }), [anchorEl, anchorBounding])\n    return <AnchorContext.Provider value={contextValue}>{children}</AnchorContext.Provider>\n}\n\nexport function useAnchor() {\n    return useContext(AnchorContext)\n}\n","import { Icons } from '@masknet/icons'\nimport { SocialAddressType, type SocialAccount } from '@masknet/shared-base'\nimport { makeStyles, ShadowRootTooltip } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { resolveSocialAddressLink } from '@masknet/web3-shared-base'\nimport { Typography, type TooltipProps, Link } from '@mui/material'\nimport { compact } from 'lodash-es'\nimport { Linking } from '../../../index.js'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => {\n    return {\n        icon: {\n            width: 20,\n            height: 20,\n        },\n        iconStack: {\n            display: 'inline-flex',\n            alignItems: 'center',\n        },\n        stackedIcon: {\n            marginRight: -6,\n            display: 'inline-flex',\n            alignItems: 'center',\n        },\n        linking: {\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n        },\n        link: {\n            color: theme.palette.maskColor.primary,\n            textDecoration: 'none',\n        },\n        actionIcon: {\n            marginLeft: theme.spacing(0.5),\n            color: theme.palette.maskColor.main,\n        },\n        roundedIcon: {\n            borderRadius: '50%',\n        },\n        tooltip: {\n            maxWidth: 'unset',\n        },\n    }\n})\n\nenum AddressPlatform {\n    Facebook = 'facebook',\n    Twitter = 'twitter',\n    NextId = 'next_id',\n}\n\ninterface AccountTooltipsProps extends Omit<TooltipProps, 'title'> {\n    type?: SocialAddressType\n    platform?: AddressPlatform\n}\n\nfunction AccountTooltips({ platform, type, children }: AccountTooltipsProps) {\n    const { classes } = useStyles()\n    const t = useSharedTrans()\n    return (\n        <ShadowRootTooltip\n            classes={{ tooltip: classes.tooltip }}\n            disableInteractive\n            title={\n                <Typography fontSize={14} lineHeight=\"18px\">\n                    {SocialAddressType.Address === type\n                        ? t.account_icon_tooltips_only({\n                              context: platform!,\n                          })\n                        : t.account_icon_tooltips({\n                              source: type?.replace('_', ' ') ?? '',\n                              context: platform,\n                          })}\n                </Typography>\n            }\n            arrow>\n            {children}\n        </ShadowRootTooltip>\n    )\n}\n\nexport interface AccountIconProps extends withClasses<'icon'> {\n    socialAccount: SocialAccount<Web3Helper.ChainIdAll>\n}\n\nexport function AccountIcons({ socialAccount, classes: externalClasses }: AccountIconProps) {\n    const t = useSharedTrans()\n    const { classes, cx, theme } = useStyles(undefined, { props: { classes: externalClasses } })\n\n    const { supportedAddressTypes } = socialAccount\n    if (!supportedAddressTypes?.length) return null\n\n    const iconStyle =\n        theme.palette.mode === 'light'\n            ? {\n                  boxShadow: '0px 6px 12px rgba(28, 104, 243, 0.2)',\n                  backdropFilter: 'blur(8px)',\n              }\n            : undefined\n\n    const fromTwitter = [\n        SocialAddressType.ENS,\n        SocialAddressType.SPACE_ID,\n        SocialAddressType.ARBID,\n        SocialAddressType.Lens,\n        SocialAddressType.TwitterBlue,\n        SocialAddressType.Address,\n    ].find((x) => supportedAddressTypes.includes(x))\n    const fromNextId = supportedAddressTypes.includes(SocialAddressType.NEXT_ID)\n\n    const normalClasses = cx(classes.actionIcon, classes.icon)\n    const roundedClasses = cx(classes.actionIcon, classes.icon, classes.roundedIcon)\n    const configs = compact([\n        fromNextId\n            ? {\n                  link: resolveSocialAddressLink(SocialAddressType.NEXT_ID),\n                  platform: AddressPlatform.NextId,\n                  icon: <Icons.NextIDMini className={normalClasses} style={{ ...iconStyle, width: 32, height: 18 }} />,\n              }\n            : null,\n        fromTwitter\n            ? {\n                  platform: AddressPlatform.Twitter,\n                  type: fromTwitter,\n                  icon: <Icons.TwitterXRound className={roundedClasses} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.CyberConnect)\n            ? {\n                  link: resolveSocialAddressLink(SocialAddressType.CyberConnect),\n                  type: SocialAddressType.CyberConnect,\n                  icon: <Icons.CyberConnect className={normalClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n\n        supportedAddressTypes.includes(SocialAddressType.Leaderboard)\n            ? {\n                  link: resolveSocialAddressLink(SocialAddressType.Leaderboard),\n                  type: SocialAddressType.Leaderboard,\n                  icon: <Icons.Leaderboard className={normalClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.Sybil)\n            ? {\n                  link: resolveSocialAddressLink(SocialAddressType.Sybil),\n                  type: SocialAddressType.Sybil,\n                  icon: <Icons.Sybil className={roundedClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.Mask)\n            ? {\n                  type: SocialAddressType.Mask,\n                  icon: <Icons.MaskBlue className={roundedClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.Firefly)\n            ? {\n                  type: SocialAddressType.Firefly,\n                  icon: <Icons.Firefly className={normalClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.OpenSea)\n            ? {\n                  type: SocialAddressType.OpenSea,\n                  icon: <Icons.OpenSea className={roundedClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.RSS3)\n            ? {\n                  type: SocialAddressType.RSS3,\n                  icon: <Icons.RSS3 className={roundedClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.SPACE_ID)\n            ? {\n                  type: SocialAddressType.SPACE_ID,\n                  icon: <Icons.SpaceId className={roundedClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n        supportedAddressTypes.includes(SocialAddressType.Lens)\n            ? {\n                  type: SocialAddressType.Lens,\n                  icon: <Icons.Lens className={roundedClasses} size={18} style={iconStyle} />,\n              }\n            : null,\n    ])\n\n    if (configs.length <= 3) {\n        return (\n            <>\n                {configs.map(({ platform, type, link, icon }, i) => {\n                    const node = (\n                        <AccountTooltips key={i} platform={platform} type={type}>\n                            {icon}\n                        </AccountTooltips>\n                    )\n                    if (link)\n                        return (\n                            <Linking key={i} href={link} LinkProps={{ className: classes.linking }}>\n                                {node}\n                            </Linking>\n                        )\n                    return node\n                })}\n            </>\n        )\n    }\n    const sources = compact(\n        configs.flatMap((config, i) => {\n            return config.type && config.link\n                ? [\n                      <Link\n                          className={classes.link}\n                          href={config.link}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          key={config.type}>\n                          {config.type}\n                      </Link>,\n                      i === configs.length ? '' : ', ',\n                  ]\n                : null\n        }),\n    )\n    return (\n        <ShadowRootTooltip\n            classes={{ tooltip: classes.tooltip }}\n            title={\n                <Typography fontSize={14} lineHeight=\"18px\" component=\"div\">\n                    {t.account_icon_merged_tooltip({\n                        context: fromTwitter ? AddressPlatform.Twitter : fromNextId ? AddressPlatform.NextId : 'normal',\n                    })}\n                    <>{sources}</>\n                </Typography>\n            }>\n            <span className={classes.iconStack}>\n                {configs.map(({ icon }, i) => {\n                    return (\n                        <span className={classes.stackedIcon} key={i}>\n                            {icon}\n                        </span>\n                    )\n                })}\n            </span>\n        </ShadowRootTooltip>\n    )\n}\n","import { first } from 'lodash-es'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '@masknet/theme'\nimport { Box, Link, Typography, type TypographyProps } from '@mui/material'\nimport { SocialAddressType, type SocialAccount } from '@masknet/shared-base'\nimport { useWeb3Others } from '@masknet/web3-hooks-base'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { isEnsSubdomain } from '@masknet/web3-shared-evm'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { ReversedAddress } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    link: {\n        cursor: 'pointer',\n        zIndex: 1,\n        '&:hover': {\n            textDecoration: 'none',\n        },\n        lineHeight: 0,\n    },\n    arrowDropIcon: {\n        color: theme.palette.maskColor.dark,\n    },\n}))\n\nexport interface AddressItemProps {\n    socialAccount?: SocialAccount<Web3Helper.ChainIdAll>\n    TypographyProps?: TypographyProps\n    linkIconClassName?: string\n    disableLinkIcon?: boolean\n    onClick?: (ev: React.MouseEvent) => void\n    isMenu?: boolean\n}\n\nexport function AddressItem({\n    socialAccount,\n    TypographyProps = { fontSize: '14px', fontWeight: 700 },\n    linkIconClassName,\n    disableLinkIcon,\n    onClick,\n    isMenu = false,\n}: AddressItemProps) {\n    const { classes } = useStyles()\n    const Others = useWeb3Others(socialAccount?.pluginID)\n\n    if (!socialAccount) return null\n\n    const preferAddress =\n        !socialAccount.label ||\n        isEnsSubdomain(socialAccount.label) ||\n        socialAccount.supportedAddressTypes?.includes(SocialAddressType.Firefly) || // Label from Firefly is not reliable\n        isSameAddress(socialAccount.label, socialAccount.address)\n\n    return (\n        <>\n            <Box onClick={(ev: React.MouseEvent) => onClick?.(ev)}>\n                {preferAddress ? (\n                    <ReversedAddress\n                        {...TypographyProps}\n                        address={socialAccount.address}\n                        pluginID={socialAccount.pluginID}\n                    />\n                ) : (\n                    <Typography fontSize=\"14px\" fontWeight={700} {...TypographyProps}>\n                        {socialAccount.label}\n                    </Typography>\n                )}\n            </Box>\n            {disableLinkIcon ? null : (\n                <Link\n                    className={classes.link}\n                    href={Others.explorerResolver.addressLink(\n                        first(socialAccount.supportedChainIds) ?? Others.getDefaultChainId(),\n                        socialAccount.address,\n                    )}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\">\n                    <Icons.LinkOut size={20} className={linkIconClassName} />\n                </Link>\n            )}\n            {isMenu ? <Icons.ArrowDrop className={classes.arrowDropIcon} onClick={onClick} /> : null}\n        </>\n    )\n}\n","import type { Plugin } from '@masknet/plugin-infra'\nimport { makeStyles, ShadowRootTooltip, useBoundedPopperProps } from '@masknet/theme'\nimport { Button, Typography } from '@mui/material'\n\nconst useStyles = makeStyles<{ disabled: boolean; iconFilterColor?: string }>()(\n    (theme, { disabled, iconFilterColor }) => ({\n        applicationBox: {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            backgroundColor: theme.palette.maskColor.bg,\n            borderRadius: '8px',\n            height: 100,\n        },\n        applicationBoxHover: {\n            cursor: 'pointer',\n            '&:hover': {\n                transform: 'scale(1.02) translateY(-2px)',\n                background: theme.palette.maskColor.bottom,\n                boxShadow:\n                    theme.palette.mode === 'light'\n                        ? '0px 5px 8px rgba(0, 0, 0, 0.05)'\n                        : '0px 0px 20px rgba(255, 255, 255, 0.12)',\n            },\n        },\n        title: {\n            whiteSpace: 'nowrap',\n            fontSize: 14,\n        },\n        disabled: {\n            opacity: 0.4,\n            cursor: 'default !important',\n            pointerEvent: 'none',\n        },\n        iconWrapper: {\n            '> *': {\n                width: 36,\n                height: 36,\n            },\n            ...(iconFilterColor ? { filter: `drop-shadow(0px 6px 12px ${iconFilterColor})` } : {}),\n        },\n        arrow: {\n            marginLeft: '-12px',\n            color: theme.palette.mode === 'light' ? theme.palette.common.black : theme.palette.common.white,\n        },\n        firstAreaArrow: {\n            marginLeft: '12px !important',\n        },\n        recommendFeatureApplicationBox: {\n            width: 257,\n            minWidth: 257,\n            height: 97,\n            marginRight: 9.5,\n            cursor: 'pointer',\n            display: 'inline-flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            padding: 10,\n            borderRadius: 8,\n            boxSizing: 'content-box',\n        },\n        recommendFeatureAppIconWrapper: {\n            marginRight: 12,\n            '> *': {\n                width: '48px !important',\n                height: '48px !important',\n            },\n        },\n        recommendFeatureAppListItemName: {\n            textAlign: 'left',\n            fontSize: 18,\n            fontWeight: 700,\n            cursor: disabled ? 'default' : 'pointer',\n            color: theme.palette.common.white,\n        },\n        recommendFeatureAppListItemDescription: {\n            textAlign: 'left',\n            fontSize: 12,\n            fontWeight: 500,\n            cursor: disabled ? 'default' : 'pointer',\n            color: theme.palette.common.white,\n        },\n    }),\n)\n\ninterface ApplicationEntryProps {\n    icon: React.ReactNode\n    title: React.ReactNode\n    secondTitle?: React.ReactNode\n    disabled?: boolean\n    recommendFeature?: Plugin.SiteAdaptor.ApplicationEntry['recommendFeature']\n    iconFilterColor?: string\n    tooltipHint?: React.ReactNode\n    onClick: () => void\n}\n\nexport function ApplicationEntry(props: ApplicationEntryProps) {\n    const {\n        title,\n        secondTitle,\n        onClick,\n        disabled = false,\n        icon,\n        tooltipHint,\n        recommendFeature,\n        iconFilterColor,\n    } = props\n    const { classes, cx } = useStyles({ disabled, iconFilterColor })\n    const popperProps = useBoundedPopperProps()\n    const jsx = recommendFeature ? (\n        <Button\n            variant=\"text\"\n            // do not change to sx. the hover image will be changed in applicationBoxHover\n            style={{ background: recommendFeature.backgroundGradient }}\n            disabled={disabled}\n            className={cx(\n                classes.recommendFeatureApplicationBox,\n                disabled ? classes.disabled : classes.applicationBoxHover,\n            )}\n            onClick={disabled ? undefined : onClick}>\n            <div className={classes.recommendFeatureAppIconWrapper}>{icon}</div>\n            <div>\n                <Typography className={classes.recommendFeatureAppListItemName}>{title}</Typography>\n                {secondTitle ? (\n                    <Typography className={classes.recommendFeatureAppListItemDescription}>{secondTitle}</Typography>\n                ) : null}\n                <Typography className={classes.recommendFeatureAppListItemDescription}>\n                    {recommendFeature.description}\n                </Typography>\n            </div>\n        </Button>\n    ) : (\n        <Button\n            className={cx(classes.applicationBox, disabled ? classes.disabled : classes.applicationBoxHover)}\n            onClick={disabled ? undefined : onClick}\n            variant=\"text\"\n            disabled={disabled}>\n            <div className={classes.iconWrapper}>{icon}</div>\n            <Typography className={classes.title} color=\"textPrimary\">\n                {title}\n            </Typography>\n            {secondTitle ? (\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                    {secondTitle}\n                </Typography>\n            ) : null}\n        </Button>\n    )\n    return tooltipHint && !disabled ? (\n        <ShadowRootTooltip\n            PopperProps={{\n                ...popperProps,\n                disablePortal: true,\n                placement: recommendFeature ? 'bottom' : 'top',\n            }}\n            classes={{\n                arrow: cx(classes.arrow, recommendFeature?.isFirst ? classes.firstAreaArrow : ''),\n            }}\n            placement={recommendFeature ? 'bottom' : 'top'}\n            arrow\n            title={<Typography>{tooltipHint}</Typography>}>\n            {jsx}\n        </ShadowRootTooltip>\n    ) : (\n        jsx\n    )\n}\n","import { makeStyles } from '@masknet/theme'\nimport { Image } from '../Image/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n    },\n    fallbackImage: {\n        height: 64,\n        width: 64,\n    },\n    icon: {\n        position: 'absolute',\n        top: theme.spacing(0.5),\n        left: theme.spacing(0.5),\n    },\n}))\n\nexport interface AssetPreviewerProps extends withClasses<'root' | 'fallbackImage' | 'container'> {\n    url?: string\n    fallbackImage?: JSX.Element | string\n    icon?: React.ReactNode\n}\n\nexport function AssetPreviewer(props: AssetPreviewerProps) {\n    const { fallbackImage, url, icon } = props\n\n    const { classes } = useStyles(undefined, { props })\n\n    return (\n        <div className={classes.root}>\n            <Image\n                classes={{\n                    fallbackImage: classes.fallbackImage,\n                    container: classes.container,\n                }}\n                width=\"100%\"\n                height=\"100%\"\n                style={{ objectFit: 'cover' }}\n                src={url}\n                fallback={fallbackImage}\n            />\n            {icon ? <div className={classes.icon}>{icon}</div> : null}\n        </div>\n    )\n}\n","import { memo, useEffect, useRef } from 'react'\nimport { useIntersectionObserver } from '@react-hookz/web'\nimport { Stack, type StackProps } from '@mui/material'\n\ninterface ElementAnchorProps extends StackProps {\n    callback: (intersection: IntersectionObserverEntry | undefined) => void\n}\n\nexport const ElementAnchor = memo<ElementAnchorProps>(({ callback, children, ...rest }) => {\n    const elementRef = useRef<HTMLDivElement>(null)\n    const intersection = useIntersectionObserver(elementRef, {\n        rootMargin: '200px',\n    })\n\n    const callbackRef = useRef(callback)\n    callbackRef.current = callback\n    useEffect(() => {\n        if (!intersection?.isIntersecting) return\n        callbackRef.current(intersection)\n    }, [intersection])\n\n    return (\n        <Stack pt={1} ref={elementRef} justifyContent=\"center\" alignItems=\"center\" direction=\"row\" {...rest}>\n            {children}\n        </Stack>\n    )\n})\n\nElementAnchor.displayName = 'ElementAnchor'\n","import { Icons } from '@masknet/icons'\nimport { makeStyles } from '@masknet/theme'\nimport { Box, Typography, type BoxProps } from '@mui/material'\nimport { memo } from 'react'\n\nconst useStyles = makeStyles()((theme) => ({\n    statusBox: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n    },\n    text: {\n        color: theme.palette.maskColor.second,\n        fontSize: '14px',\n        fontWeight: 400,\n        marginTop: theme.spacing(1.5),\n    },\n}))\n\ninterface Props extends BoxProps {\n    iconSize?: number\n}\n\nexport const EmptyStatus = memo(function EmptyStatus({ className, children, iconSize = 32, ...rest }: Props) {\n    const { classes, cx } = useStyles()\n    return (\n        <Box className={cx(classes.statusBox, className)} p={2} {...rest}>\n            <Icons.EmptySimple size={iconSize} />\n            <Typography className={classes.text} component=\"div\">\n                {children}\n            </Typography>\n        </Box>\n    )\n})\n","import { type HTMLProps, type ImgHTMLAttributes, useState } from 'react'\nimport { makeStyles } from '@masknet/theme'\nimport { useTheme } from '@mui/material'\n\nconst useStyles = makeStyles<Pick<ImageProps, 'size' | 'rounded'>, 'center'>()((theme, { size, rounded }, refs) => ({\n    optimistic: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    container: {\n        width: size ?? '100%',\n        height: size ?? '100%',\n        position: 'relative',\n        borderRadius: rounded ? '50%' : undefined,\n        overflow: rounded ? 'hidden' : undefined,\n    },\n    image: {\n        display: 'block',\n    },\n    failImage: {\n        width: 30,\n        height: 30,\n    },\n    center: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    failed: {\n        [`&.${refs.center}`]: {\n            background:\n                theme.palette.mode === 'light'\n                    ? 'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.9) 100%), linear-gradient(90deg, rgba(98, 152, 234, 0.2) 1.03%, rgba(98, 152, 234, 0.2) 1.04%, rgba(98, 126, 234, 0.2) 100%)'\n                    : 'linear-gradient(180deg, #202020 0%, #181818 100%)',\n        },\n    },\n}))\n\nconst MASK_DARK_FALLBACK = new URL('./mask-dark.png', import.meta.url).href\nconst MASK_LIGHT_FALLBACK = new URL('./mask-light.png', import.meta.url).href\n\nexport interface ImageProps\n    extends ImgHTMLAttributes<HTMLImageElement>,\n        withClasses<'container' | 'fallbackImage' | 'imageLoading' | 'failed'> {\n    size?: number | string\n    rounded?: boolean\n    fallback?: string | JSX.Element | null\n    disableSpinner?: boolean\n    containerProps?: HTMLProps<HTMLDivElement>\n}\n\nexport function Image({\n    fallback,\n    size,\n    rounded,\n    disableSpinner,\n    classes: extraClasses,\n    onClick,\n    containerProps,\n    ...rest\n}: ImageProps) {\n    const { classes, cx } = useStyles({ size, rounded }, { props: { classes: extraClasses } })\n    const theme = useTheme()\n    const [failed, setFailed] = useState(false)\n\n    if (rest.src && !failed) {\n        return (\n            <div {...containerProps} className={cx(classes.container, classes.optimistic, containerProps?.className)}>\n                <img\n                    className={classes.image}\n                    width={size}\n                    height={size}\n                    {...rest}\n                    src={rest.src}\n                    onError={() => setFailed(true)}\n                />\n            </div>\n        )\n    }\n\n    if (fallback && !(fallback instanceof URL) && typeof fallback !== 'string') {\n        return (\n            <div\n                {...containerProps}\n                className={cx(classes.container, classes.failed, classes.center, containerProps?.className)}>\n                {fallback}\n            </div>\n        )\n    }\n\n    return (\n        <div\n            {...containerProps}\n            className={cx(classes.container, classes.failed, classes.center, containerProps?.className)}>\n            <img\n                loading=\"lazy\"\n                decoding=\"async\"\n                width={size}\n                height={size}\n                {...rest}\n                src={fallback?.toString() ?? (theme.palette.mode === 'dark' ? MASK_DARK_FALLBACK : MASK_LIGHT_FALLBACK)}\n                className={cx(classes.image, classes.failImage, classes.fallbackImage)}\n            />\n        </div>\n    )\n}\n","import { memo } from 'react'\nimport { Button, type ButtonProps, Stack, Typography } from '@mui/material'\nimport { useSharedTrans } from '../../../locales/index.js'\n\ninterface RetryHintProps {\n    hint?: boolean\n    retry?(): void\n    ButtonProps?: ButtonProps\n}\n\nexport const RetryHint = memo<RetryHintProps>(({ retry, hint = true, ButtonProps }) => {\n    const t = useSharedTrans()\n    return (\n        <Stack justifyContent=\"center\" direction=\"row\" alignItems=\"center\" height={hint ? '100%' : '100px'}>\n            <Stack gap={2.75}>\n                {hint ? (\n                    <Typography textAlign=\"center\" fontSize={12} fontWeight={700}>\n                        {t.load_failed()}\n                    </Typography>\n                ) : null}\n                <Button {...ButtonProps} size=\"small\" style={{ borderRadius: 16 }} onClick={() => retry?.()}>\n                    {t.load_retry()}\n                </Button>\n            </Stack>\n        </Stack>\n    )\n})\n\nRetryHint.displayName = 'RetryHint'\n","import { LoadingBase, makeStyles } from '@masknet/theme'\nimport { Box, Typography, type BoxProps } from '@mui/material'\nimport { memo } from 'react'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    statusBox: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n    },\n    text: {\n        color: theme.palette.maskColor.second,\n        fontSize: '14px',\n        fontWeight: 400,\n        marginTop: theme.spacing(1.5),\n    },\n}))\n\ninterface Props extends BoxProps {\n    omitText?: boolean\n    iconSize?: number\n}\n\nexport const LoadingStatus = memo(function LoadingStatus({\n    omitText,\n    className,\n    iconSize = 32,\n    children,\n    ...rest\n}: Props) {\n    const { classes, cx } = useStyles()\n    const t = useSharedTrans()\n    return (\n        <Box className={cx(classes.statusBox, className)} p={2} {...rest}>\n            <LoadingBase size={iconSize} />\n            {omitText ? null : <Typography className={classes.text}>{children ?? t.loading()}</Typography>}\n        </Box>\n    )\n})\n","import { makeStyles } from '@masknet/theme'\nimport { Link, Stack, Typography } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { LoadingStatus } from '../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: theme.palette.maskColor.main,\n    },\n    container: {\n        background:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(45, 41, 253, 0.2) 100%), #FFFFFF;',\n        minHeight: '196px',\n        justifyContent: 'space-between',\n        color: theme.palette.maskColor.main,\n    },\n    web3Icon: {\n        marginRight: 6,\n        marginTop: 2,\n    },\n    item1: {\n        color: theme.palette.maskColor.secondaryDark,\n        fontSize: '14px',\n        fontWeight: 400,\n    },\n    item2: {\n        color: theme.palette.maskColor.dark,\n        fontSize: '14px',\n        fontWeight: 500,\n        marginLeft: '2px',\n    },\n    linkOutIcon: {\n        color: theme.palette.maskColor.secondaryDark,\n    },\n}))\n\nexport interface PluginCardFrameMiniProps {\n    icon?: React.ReactNode\n    title?: React.ReactNode\n    provider?: React.ReactNode\n    providerLink?: string\n    children?: React.ReactNode\n}\n\nexport function PluginCardFrameMini({ icon, title, provider, providerLink, children }: PluginCardFrameMiniProps) {\n    const t = useSharedTrans()\n    const { classes, theme } = useStyles()\n\n    const PluginName = (\n        <Stack className={classes.title} direction=\"row\">\n            {icon ?? <Icons.Web3Profile className={classes.web3Icon} />}\n            <Typography fontSize={16} fontWeight={700} color={theme.palette.maskColor.main}>\n                {title ?? t.plugin_card_frame_default_title()}\n            </Typography>\n        </Stack>\n    )\n\n    return (\n        <Stack className={classes.container}>\n            <Stack direction=\"row\" justifyContent=\"space-between\" p={1.5}>\n                {PluginName}\n                <Stack direction=\"row\" gap={0.5}>\n                    <Typography className={classes.item1}>{t.plugin_card_frame_default_provided_by()}</Typography>\n                    <Typography className={classes.item2}>\n                        {provider ?? t.plugin_card_frame_default_provided_by_value()}\n                    </Typography>\n                    <Link\n                        underline=\"none\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        color=\"textPrimary\"\n                        href={providerLink ?? 'https://mask.io/'}\n                        width=\"22px\"\n                        height=\"22px\"\n                        style={{ alignSelf: 'center', marginLeft: '4px' }}>\n                        <Icons.LinkOut size={16} className={classes.linkOutIcon} />\n                    </Link>\n                </Stack>\n            </Stack>\n            <Stack flex={1} justifyContent=\"center\" alignItems=\"center\" p={1.5}>\n                {children ?? (\n                    <LoadingStatus iconSize={24} color={theme.palette.maskColor.main}>\n                        {t.plugin_card_frame_loading()}\n                    </LoadingStatus>\n                )}\n            </Stack>\n        </Stack>\n    )\n}\n","import { memo } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { Icons } from '@masknet/icons'\nimport type { PluginID } from '@masknet/shared-base'\nimport { useIsMinimalMode } from '@masknet/plugin-infra/content-script'\nimport { Stack, Typography } from '@mui/material'\nimport { makeStyles, ActionButton } from '@masknet/theme'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { setPluginMinimalModeEnabled } from '@masknet/plugin-infra/dom/context'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        display: 'inline-flex',\n        justifyContent: 'center',\n        borderRadius: 20,\n        width: 254,\n        height: 40,\n    },\n}))\n\ninterface PluginEnableBoundaryProps extends withClasses<'root'> {\n    pluginID: PluginID\n    children: React.ReactNode\n}\n\nexport const PluginEnableBoundary = memo<PluginEnableBoundaryProps>((props) => {\n    const t = useSharedTrans()\n    const { children, pluginID } = props\n    const { classes } = useStyles(undefined, { props })\n    const disabled = useIsMinimalMode(pluginID)\n\n    const [{ loading }, onEnablePlugin] = useAsyncFn(async () => {\n        await setPluginMinimalModeEnabled?.(pluginID, false)\n    }, [pluginID])\n\n    if (disabled) {\n        return (\n            <Stack alignItems=\"center\">\n                <Stack justifyContent=\"center\" alignItems=\"center\" width=\"100%\" boxSizing=\"border-box\">\n                    <Typography fontWeight={400} fontSize={14}>\n                        {t.enable_plugin_boundary_description()}\n                    </Typography>\n                </Stack>\n                <ActionButton\n                    loading={loading}\n                    startIcon={<Icons.Plugin size={18} />}\n                    className={classes.root}\n                    color=\"primary\"\n                    onClick={onEnablePlugin}\n                    sx={{ mt: 6 }}>\n                    {t.enable_plugin_boundary()}\n                </ActionButton>\n            </Stack>\n        )\n    }\n    return <>{children}</>\n})\n","import { Skeleton, Typography, type TypographyProps } from '@mui/material'\nimport { forwardRef, memo, type ReactNode } from 'react'\n\nexport interface ProgressiveTextProps extends Omit<TypographyProps, 'component'> {\n    loading?: boolean\n    skeletonWidth?: string | number\n    skeletonHeight?: string | number\n    fallback?: ReactNode\n    component?: string\n}\n\nexport const ProgressiveText = memo(\n    forwardRef<HTMLDivElement | HTMLParagraphElement | HTMLSpanElement, ProgressiveTextProps>(function ProgressiveText(\n        { loading, skeletonWidth, skeletonHeight, children, fallback = '--', ...props },\n        ref,\n    ) {\n        if (loading) {\n            return (\n                <Typography {...props}>\n                    <Skeleton\n                        animation=\"wave\"\n                        variant=\"text\"\n                        height={skeletonHeight ?? '1.5em'}\n                        width={skeletonWidth ?? '100%'}\n                    />\n                </Typography>\n            )\n        }\n\n        return (\n            <Typography {...props} ref={ref}>\n                {children ?? fallback}\n            </Typography>\n        )\n    }),\n)\n","import { SourceType } from '@masknet/web3-shared-base'\nimport { Icons } from '@masknet/icons'\n\nexport interface SourceProviderIconProps {\n    provider: SourceType\n    size?: number\n}\n\nexport function SourceProviderIcon(props: SourceProviderIconProps) {\n    const { size = 16 } = props\n    switch (props.provider) {\n        case SourceType.NFTScan:\n            return <Icons.NFTScan size={size} />\n        case SourceType.Gem:\n            return <Icons.Gem size={size} />\n        case SourceType.Rarible:\n            return <Icons.Rarible size={size} />\n        case SourceType.OpenSea:\n            return <Icons.OpenSea size={size} />\n        case SourceType.CoinGecko:\n            return <Icons.CoinGecko size={size} />\n        case SourceType.CoinMarketCap:\n            return <Icons.CoinMarketCap size={size} />\n        case SourceType.UniswapInfo:\n            return <Icons.Uniswap size={size} />\n        case SourceType.LooksRare:\n            return <Icons.LooksRare size={size} />\n        case SourceType.X2Y2:\n            return <Icons.X2Y2 size={size} />\n        case SourceType.SimpleHash:\n            return <Icons.SimpleHash size={size} />\n        default:\n            return <></>\n    }\n}\n","import { isEqual } from 'lodash-es'\nimport { Icons } from '@masknet/icons'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { TokenIcon } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport { RadioButtonUnchecked as RadioButtonUncheckedIcon } from '@mui/icons-material'\nimport { MenuItem, Stack, Typography } from '@mui/material'\nimport { useTheme } from '@mui/system'\n\nconst useStyles = makeStyles()((theme) => ({\n    menuItem: {\n        display: 'flex',\n        overflow: 'hidden',\n        alignItems: 'center',\n        height: 36,\n        padding: '0 12px',\n    },\n    itemText: {\n        flexDirection: 'row',\n        flexGrow: 1,\n        justifyContent: 'space-around',\n        gap: theme.spacing(1),\n        alignItems: 'center',\n        overflow: 'hidden',\n    },\n    itemCheckout: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    rank: {\n        marginRight: 4,\n    },\n    name: {\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n    },\n    symbol: {\n        marginLeft: theme.spacing(0.5),\n    },\n    coinIcon: {\n        marginRight: 4,\n    },\n    checkedIcon: {\n        filter: 'drop-shadow(0px 4px 10px rgba(28, 104, 243, 0.2))',\n        color: theme.palette.maskColor.primary,\n    },\n}))\n\nexport interface TokenMenuListProps {\n    options: Web3Helper.TokenResultAll[]\n    currentOption?: Web3Helper.TokenResultAll\n    onSelect(value: Web3Helper.TokenResultAll, index: number): void\n    fromSocialCard?: boolean\n}\n\nexport function TokenMenuList({ options, currentOption, onSelect, fromSocialCard = false }: TokenMenuListProps) {\n    const { classes } = useStyles()\n    const theme = useTheme()\n    return (\n        <>\n            {options.map((x, i) => {\n                const selected = isEqual(x, currentOption)\n                return (\n                    <MenuItem className={classes.menuItem} key={i} onClick={() => onSelect(x, i)}>\n                        <TokenIcon\n                            className={classes.coinIcon}\n                            logoURL={x.logoURL}\n                            address={x.address || ''}\n                            symbol={x.symbol}\n                            size={20}\n                        />\n\n                        <Stack className={classes.itemText}>\n                            <Typography\n                                fontSize={14}\n                                fontWeight={700}\n                                flexGrow={1}\n                                overflow=\"hidden\"\n                                textOverflow=\"ellipsis\">\n                                <span className={classes.name}>{x.name}</span>\n                                {x.symbol ? <span className={classes.symbol}>({x.symbol})</span> : null}\n                            </Typography>\n                            <div className={classes.itemCheckout}>\n                                {x.rank ? (\n                                    <Typography\n                                        fontSize={14}\n                                        fontWeight={700}\n                                        flexGrow={1}\n                                        overflow=\"hidden\"\n                                        className={classes.rank}\n                                        textOverflow=\"ellipsis\">\n                                        #{x.rank}\n                                    </Typography>\n                                ) : null}\n                                {fromSocialCard ? null : selected ? (\n                                    <Icons.CheckCircle size={20} className={classes.checkedIcon} />\n                                ) : (\n                                    <RadioButtonUncheckedIcon\n                                        style={{\n                                            fontSize: 20,\n                                            color: theme.palette.maskColor.secondaryLine,\n                                            visibility: 'hidden',\n                                        }}\n                                    />\n                                )}\n                            </div>\n                        </Stack>\n                    </MenuItem>\n                )\n            })}\n        </>\n    )\n}\n","import { Icons } from '@masknet/icons'\nimport { AccountIcons, AddressItem, TokenMenuList, useTokenMenuCollectionList } from '@masknet/shared'\nimport type { SocialAccount } from '@masknet/shared-base'\nimport { makeStyles } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { isSameAddress, type SearchResultType } from '@masknet/web3-shared-base'\nimport { Divider, Menu, MenuItem, Typography, type MenuProps } from '@mui/material'\nimport { groupBy, toPairs } from 'lodash-es'\nimport { memo, useCallback, type PropsWithChildren } from 'react'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst MENU_ITEM_HEIGHT = 40\nconst MENU_LIST_PADDING = 8\n\nconst useStyles = makeStyles()((theme) => ({\n    groupName: {\n        height: 18,\n        marginTop: 5,\n        fontWeight: 700,\n        fontSize: 14,\n        padding: '0 12px',\n    },\n\n    group: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n    },\n\n    addressMenu: {\n        maxHeight: MENU_ITEM_HEIGHT * 9 + MENU_LIST_PADDING * 2,\n        minWidth: 320,\n        backgroundColor: theme.palette.maskColor.bottom,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        borderRadius: 16,\n    },\n\n    divider: {\n        margin: theme.spacing(1, 0),\n        width: 'calc(100% - 24px)',\n        color: theme.palette.maskColor.line,\n        borderColor: theme.palette.maskColor.line,\n        position: 'relative',\n        left: 12,\n    },\n    menuItem: {\n        height: MENU_ITEM_HEIGHT,\n        boxSizing: 'border-box',\n        display: 'flex',\n        alignItems: 'center',\n        flexGrow: 1,\n        justifyContent: 'space-between',\n    },\n    addressItem: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    secondLinkIcon: {\n        color: theme.palette.maskColor.secondaryDark,\n    },\n    selectedIcon: {\n        color: theme.palette.maskColor.primary,\n        marginLeft: theme.spacing(2),\n    },\n}))\n\nexport interface TokenWithSocialGroupProps extends PropsWithChildren<MenuProps> {\n    collectionList: Web3Helper.TokenResultAll[]\n    currentCollection?: Web3Helper.TokenResultAll\n    socialAccounts?: Array<SocialAccount<Web3Helper.ChainIdAll>>\n    currentAddress?: string\n    onTokenChange?: (a: Web3Helper.TokenResultAll, index: number) => void\n    onClose?: () => void\n    onAddressChange?: (address: string) => void\n    fromSocialCard?: boolean\n}\n\nconst menuGroupNameMap: Record<'FungibleToken' | 'NonFungibleToken' | 'NonFungibleCollection', string> = {\n    FungibleToken: 'Token',\n    NonFungibleToken: 'NFT',\n    NonFungibleCollection: 'NFT',\n}\n\nexport const TokenWithSocialGroupMenu = memo(function TokenWithSocialGroupMenu({\n    currentCollection,\n    collectionList: collectionList_,\n    disablePortal = true,\n    disableScrollLock = true,\n    socialAccounts,\n    currentAddress,\n    onAddressChange,\n    fromSocialCard,\n    onTokenChange,\n    onClose,\n    ...rest\n}: TokenWithSocialGroupProps) {\n    const { classes } = useStyles()\n    const t = useSharedTrans()\n\n    const onSelect = useCallback(\n        (value: Web3Helper.TokenResultAll, index: number) => {\n            onTokenChange?.(value, index)\n            onClose?.()\n        },\n        [onTokenChange, onClose],\n    )\n\n    const collectionList = useTokenMenuCollectionList(collectionList_, currentCollection)\n\n    const groups: Array<\n        [\n            type: SearchResultType.FungibleToken | SearchResultType.NonFungibleToken,\n            collectionList: Web3Helper.TokenResultAll[],\n        ]\n    > = toPairs(groupBy(collectionList, (x) => x.type)).map(([type, collectionList]) => [\n        type as SearchResultType.FungibleToken | SearchResultType.NonFungibleToken,\n        collectionList,\n    ])\n\n    return (\n        <Menu\n            disablePortal={disablePortal}\n            disableScrollLock={disableScrollLock}\n            PaperProps={{\n                className: classes.addressMenu,\n            }}\n            onClose={onClose}\n            {...rest}>\n            {groups.map(([type, groupOptions]) => (\n                <div key={type} className={classes.group}>\n                    <Typography className={classes.groupName}>{menuGroupNameMap[type]}</Typography>\n                    <Divider className={classes.divider} />\n                    <TokenMenuList\n                        options={groupOptions}\n                        currentOption={currentCollection}\n                        onSelect={onSelect}\n                        fromSocialCard={fromSocialCard}\n                    />\n                </div>\n            ))}\n\n            <div key=\"rss3\" className={classes.group}>\n                {collectionList?.length > 0 && socialAccounts?.length ? (\n                    <>\n                        <Typography className={classes.groupName}>{t.address_viewer_address_name_address()}</Typography>\n                        <Divider className={classes.divider} />\n                    </>\n                ) : null}\n                {socialAccounts?.map((x) => {\n                    return (\n                        <MenuItem\n                            className={classes.menuItem}\n                            key={x.address}\n                            value={x.address}\n                            onClick={() => {\n                                onAddressChange?.(x.address)\n                                onClose?.()\n                            }}>\n                            <div className={classes.addressItem}>\n                                <AddressItem socialAccount={x} linkIconClassName={classes.secondLinkIcon} />\n                                <AccountIcons socialAccount={x} />\n                            </div>\n                            {isSameAddress(currentAddress, x.address) && (\n                                <Icons.CheckCircle size={20} className={classes.selectedIcon} />\n                            )}\n                        </MenuItem>\n                    )\n                })}\n            </div>\n        </Menu>\n    )\n})\n","import { Fragment } from 'react'\nimport { identity } from 'lodash-es'\n\nexport interface FormattedAddressProps {\n    address?: string\n    size?: number\n    formatter?: (address: string, size?: number) => string\n}\n\nexport function FormattedAddress({ address, size, formatter = identity }: FormattedAddressProps) {\n    if (!address) return null\n    return <Fragment>{formatter(address, size)}</Fragment>\n}\n","import { Fragment } from 'react'\nimport type { BigNumber } from 'bignumber.js'\nimport { useCurrencyType, useFiatCurrencyRate } from '@masknet/web3-hooks-base'\nimport { CurrencyType, type FormatterCurrencyOptions } from '@masknet/web3-shared-base'\n\nexport interface FormattedCurrencyProps {\n    sign?: string\n    value?: BigNumber.Value\n    options?: FormatterCurrencyOptions\n    formatter?: (value: BigNumber.Value, sign?: string, options?: FormatterCurrencyOptions) => string\n}\n\nexport function FormattedCurrency({\n    value = 0,\n    sign,\n    options,\n    // it's a BigNumber so it's ok\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    formatter = (value, sign) => `${sign} ${value}`.trim(),\n}: FormattedCurrencyProps) {\n    const currentSign = useCurrencyType()\n    const { data: currentFiatCurrencyRate } = useFiatCurrencyRate()\n    const rate = options?.fiatCurrencyRate ?? (sign === CurrencyType.USD ? 1 : currentFiatCurrencyRate)\n\n    return (\n        <Fragment>\n            {formatter(value, rate === 1 ? CurrencyType.USD : sign ?? currentSign, {\n                ...options,\n                fiatCurrencyRate: rate,\n            })}\n        </Fragment>\n    )\n}\n","import type { ReactNode } from 'react'\nimport { Icons, type GeneratedIcon } from '@masknet/icons'\nimport { EnhanceableSite } from '@masknet/shared-base'\n\nexport const SOCIAL_MEDIA_ICON_MAPPING: Record<EnhanceableSite | string, ReactNode> = {\n    [EnhanceableSite.Twitter]: <Icons.TwitterX />,\n    [EnhanceableSite.Facebook]: <Icons.FacebookColored />,\n    [EnhanceableSite.Minds]: <Icons.Minds />,\n    [EnhanceableSite.Instagram]: <Icons.InstagramColored />,\n    [EnhanceableSite.OpenSea]: <Icons.OpenSeaColored />,\n    [EnhanceableSite.Mirror]: <Icons.Mirror />,\n    [EnhanceableSite.Localhost]: null,\n}\n\nexport const SOCIAL_MEDIA_ROUND_ICON_MAPPING: Record<EnhanceableSite | string, GeneratedIcon | null> = {\n    [EnhanceableSite.Twitter]: Icons.TwitterXRound,\n    [EnhanceableSite.Facebook]: Icons.FacebookRound,\n    [EnhanceableSite.Minds]: Icons.MindsRound,\n    [EnhanceableSite.Instagram]: Icons.InstagramRoundColored,\n    [EnhanceableSite.OpenSea]: Icons.OpenSeaColored,\n    [EnhanceableSite.Mirror]: Icons.Mirror,\n    [EnhanceableSite.Localhost]: null,\n}\n\nexport enum RSS3_NFT_SITE_KEY {\n    TWITTER = '_nfts',\n    FACEBOOK = '_facebook_nfts',\n    INSTAGRAM = '_instagram_nfts',\n}\n\nexport const EnhanceableSite_RSS3_NFT_SITE_KEY_map: Partial<Record<EnhanceableSite, RSS3_NFT_SITE_KEY>> = {\n    [EnhanceableSite.Facebook]: RSS3_NFT_SITE_KEY.FACEBOOK,\n    [EnhanceableSite.Twitter]: RSS3_NFT_SITE_KEY.TWITTER,\n    [EnhanceableSite.Instagram]: RSS3_NFT_SITE_KEY.INSTAGRAM,\n}\n\nexport const PERSONA_AVATAR_DB_NAMESPACE = 'com.maskbook.persona.avatar.storage'\n\nexport enum PopupHomeTabType {\n    SocialAccounts = 'Social Accounts',\n    ConnectedWallets = 'Connected Wallets',\n}\n","import {\n    type SyntheticEvent,\n    cloneElement,\n    isValidElement,\n    useCallback,\n    useState,\n    type MutableRefObject,\n    createElement,\n} from 'react'\nimport { useUpdate } from 'react-use'\nimport { Menu, type MenuProps } from '@mui/material'\nimport { makeStyles, ShadowRootMenu } from '@masknet/theme'\n\n/**\n * A util hooks for easier to use `<Menu>`s.\n *\n * If you need configuration, please use useMenuConfig\n */\n// ! Do not change signature of this. Change useMenuConfig instead.\nexport function useMenu(...elements: Array<JSX.Element | null>) {\n    return useMenuConfig(elements, {})\n}\n\nexport interface MenuConfigOptions extends Partial<MenuProps> {\n    anchorSibling?: boolean\n    useShadowRoot?: boolean\n}\n\nconst useStyles = makeStyles()((theme) => ({\n    menu: {\n        // TODO: replace hard code to theme\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 0px 20px rgba(255, 255, 255, 0.12)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n    },\n}))\n\nexport function useMenuConfig(\n    elements: Array<JSX.Element | null>,\n    config: MenuConfigOptions,\n    ref?: MutableRefObject<HTMLDivElement | null>,\n): [\n    menu: React.ReactNode,\n    openDialog: (anchorElOrEvent: HTMLElement | SyntheticEvent<HTMLElement>) => void,\n    closeDialog: () => void,\n    open: boolean,\n] {\n    const { classes } = useStyles()\n    const { anchorSibling = false, useShadowRoot = true, ...menuProps } = config\n    const [open, setOpen] = useState(false)\n    const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null)\n    const close = () => {\n        setOpen(false)\n        setAnchorEl(null)\n    }\n    const update = useUpdate()\n    return [\n        createElement(\n            useShadowRoot ? ShadowRootMenu : Menu,\n            {\n                ...menuProps,\n                PaperProps: menuProps?.PaperProps,\n                classes: { paper: classes.menu, ...menuProps.classes },\n                MenuListProps: menuProps?.MenuListProps,\n                open,\n                anchorEl,\n                ref,\n                onClose: close,\n                onClick: close,\n                anchorOrigin: menuProps?.anchorOrigin,\n                transformOrigin: menuProps?.transformOrigin,\n                disableScrollLock: true,\n            },\n            elements?.map((element, key) =>\n                isValidElement<object>(element) ? cloneElement(element, { ...element.props, key }) : element,\n            ),\n        ),\n        useCallback((anchorElOrEvent: HTMLElement | SyntheticEvent<HTMLElement>) => {\n            let element: HTMLElement\n            if (anchorElOrEvent instanceof HTMLElement) {\n                element = anchorElOrEvent\n            } else {\n                element = anchorElOrEvent.currentTarget\n            }\n\n            // when the essential content of currentTarget would be closed over,\n            //  we can set the anchorEl with currentTarget's bottom sibling to avoid it.\n            const finalAnchor = anchorSibling ? (element.nextElementSibling as HTMLElement) ?? undefined : element\n            setAnchorEl(finalAnchor)\n            setOpen(true)\n            // HACK: it seems like anchor doesn't work correctly\n            // but a force repaint can solve the problem.\n            window.requestAnimationFrame(update)\n        }, []),\n        useCallback(() => {\n            setOpen(false)\n            setAnchorEl(null)\n        }, []),\n        open,\n    ]\n}\n","import { useCustomSnackbar } from '@masknet/theme'\nimport { NFTSpam, SPAM_SCORE, SimpleHashEVM } from '@masknet/web3-providers'\nimport { useQuery } from '@tanstack/react-query'\nimport { useCallback } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { ConfirmDialog } from '../UI/modals/modals.js'\nimport { useSharedTrans } from '../locales/i18n_generated.js'\n\ninterface Options {\n    address?: string\n    chainId?: number\n    collectionId?: string\n}\n\n/**\n * collectionId is more accurate\n */\nexport function useReportSpam({ address, chainId, collectionId }: Options) {\n    const t = useSharedTrans()\n    const { data: collectionByAddress } = useQuery({\n        enabled: !collectionId,\n        queryKey: ['simple-hash', 'collection', chainId, address],\n        queryFn: async () => {\n            if (!address || !chainId) return null\n            return SimpleHashEVM.getCollectionByContractAddress(address, { chainId })\n        },\n    })\n    const { data: collectionById } = useQuery({\n        enabled: !!collectionId,\n        queryKey: ['simple-hash', 'collection', collectionId],\n        queryFn: async () => {\n            if (!collectionId) return null\n            return SimpleHashEVM.getSimpleHashCollection(collectionId)\n        },\n    })\n    const collection = collectionById || collectionByAddress\n    const colId = collectionId || collection?.collection_id\n    const [state, reportSpam] = useAsyncFn(async () => {\n        if (!colId) return\n        const res = await NFTSpam.report({\n            collection_id: colId,\n            source: 'mask-network',\n            status: 'reporting',\n        })\n        return res.code === 200\n    }, [colId])\n\n    const { showSnackbar } = useCustomSnackbar()\n    const promptReport = useCallback(async () => {\n        const confirmed = await ConfirmDialog.openAndWaitForClose({\n            title: t.report_nft(),\n            message: (\n                <div style={{ wordBreak: 'keep-all' }}>\n                    {t.confirm_to_report_nft({ name: collection?.name || 'this NFT' })}\n                </div>\n            ),\n            confirmVariant: 'warning',\n        })\n        if (!confirmed || !colId) return\n        const result = await reportSpam()\n        showSnackbar(t.report_spam(), {\n            variant: result ? 'success' : 'error',\n            message: result ? t.report_spam_success() : t.report_spam_fail(),\n        })\n    }, [colId, reportSpam, collection?.name])\n    const isSpam = !!collection && collection.spam_score !== null && collection?.spam_score > SPAM_SCORE\n\n    return {\n        isReporting: state.loading,\n        isSpam,\n        collection,\n        promptReport,\n    }\n}\n","import { useCallback, useMemo } from 'react'\nimport { PluginID, SocialAddressType, type SocialAccount, type SocialIdentity } from '@masknet/shared-base'\nimport { useHiddenAddressConfigOf, useSocialAccountsAll } from '@masknet/web3-hooks-base'\nimport { currySameAddress } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { WalletAPI } from '@masknet/web3-providers/types'\n\nexport function useSocialAccountsBySettings(\n    identity: SocialIdentity | null | undefined,\n    typeWhitelist: SocialAddressType[] | undefined,\n    sorter: ((a: SocialAccount<Web3Helper.ChainIdAll>, z: SocialAccount<Web3Helper.ChainIdAll>) => number) | undefined,\n    signWithPersona: WalletAPI.IOContext['signWithPersona'],\n) {\n    const {\n        data: socialAccounts,\n        isLoading: loadingSocialAccounts,\n        error: loadSocialAccountsError,\n        refetch: refetchSocialAccounts,\n    } = useSocialAccountsAll(identity, typeWhitelist, sorter)\n    const userId = identity?.identifier?.userId\n    const {\n        data: hiddenAddress,\n        isFetching: loadingHiddenAddress,\n        isInitialLoading,\n        error: loadingHiddenAddressError,\n        refetch: refetchLoadHiddenAddress,\n    } = useHiddenAddressConfigOf(identity?.publicKey, PluginID.Web3Profile, userId, signWithPersona)\n\n    const addresses = useMemo(() => {\n        if (!hiddenAddress || !socialAccounts) return socialAccounts\n\n        return socialAccounts.filter((x) => {\n            if (!x.supportedAddressTypes?.includes(SocialAddressType.NEXT_ID)) return true\n            return !hiddenAddress.some(currySameAddress(x.address))\n        })\n    }, [socialAccounts, hiddenAddress, loadingHiddenAddress])\n\n    const refetch = useCallback(() => {\n        refetchSocialAccounts()\n        refetchLoadHiddenAddress()\n    }, [])\n\n    return {\n        data: addresses,\n        isLoading: loadingSocialAccounts || loadingHiddenAddress,\n        isInitialLoading,\n        error: loadSocialAccountsError || loadingHiddenAddressError,\n        refetch,\n    }\n}\n","import { uniqBy } from 'lodash-es'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { SourceType } from '@masknet/web3-shared-base'\n\nexport function useTokenMenuCollectionList(\n    collectionList_: Web3Helper.TokenResultAll[],\n    currentCollection?: Web3Helper.TokenResultAll,\n) {\n    const collectionList = uniqBy(\n        collectionList_,\n        (x) => `${x.address?.toLowerCase()}_${x.chainId}_${x.type}_${x.name?.toLowerCase()}_${x.source}`,\n    )\n\n    const SourceTypeList = collectionList.map((x) => x.source)\n\n    return collectionList.filter((x) => {\n        if (\n            currentCollection &&\n            x.source !== currentCollection.source &&\n            [SourceType.CoinMarketCap, SourceType.CoinGecko].includes(currentCollection.source) &&\n            [SourceType.CoinMarketCap, SourceType.CoinGecko].includes(x.source)\n        ) {\n            return false\n        }\n\n        if (\n            (currentCollection?.source === SourceType.NFTScan || !currentCollection) &&\n            SourceTypeList.includes(SourceType.CoinGecko) &&\n            x.source === SourceType.CoinMarketCap\n        ) {\n            return false\n        }\n\n        return true\n    })\n}\n","import { Tooltip as MuiTooltip, type TooltipProps } from '@mui/material'\nimport { cloneElement, memo, type ReactElement } from 'react'\nimport type { ShadowRootTooltip } from '../index.js'\nimport { useDetectOverflow } from '../../hooks/index.js'\n\ninterface TextOverflowTooltipProps extends TooltipProps {\n    as?: typeof MuiTooltip | typeof ShadowRootTooltip\n    // cloneElement is used.\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    children: ReactElement\n}\n\nexport const TextOverflowTooltip = memo(({ children, as, ...rest }: TextOverflowTooltipProps) => {\n    const [overflow, ref] = useDetectOverflow()\n\n    const Tooltip = as ?? MuiTooltip\n    return (\n        <Tooltip {...rest} title={overflow ? rest.title : ''}>\n            {cloneElement(children, { ...children.props, ref })}\n        </Tooltip>\n    )\n})\n\nTextOverflowTooltip.displayName = 'TextOverflowTooltip'\n","import { Menu } from '@mui/material'\nimport { createShadowRootForwardedComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootMenu = createShadowRootForwardedComponent(Menu)\nShadowRootMenu.displayName = 'ShadowRootTooltip'\n","import { useState, useCallback } from 'react'\n\nexport function useDetectOverflow<T extends HTMLDivElement>(): [overflow: boolean, ref: (node: T | null) => void] {\n    const [overflow, setOverflow] = useState(false)\n    const ref = useCallback((node: T | null) => {\n        if (node) setOverflow(node.offsetWidth !== node.scrollWidth)\n    }, [])\n\n    return [overflow, ref]\n}\n","import { useSubscription } from 'use-subscription'\nimport { UNDEFINED, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useCurrencyType<T extends NetworkPluginID>(pluginID?: T) {\n    const { Settings } = useWeb3State(pluginID)\n    return useSubscription(Settings?.currencyType ?? UNDEFINED)\n}\n","import { FiatCurrencyRate } from '@masknet/web3-providers'\nimport { CurrencyType } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { pick } from 'lodash-es'\nimport { useCurrencyType } from './useCurrencyType.js'\n\nexport function useFiatCurrencyRate() {\n    const fiatCurrencyType = useCurrencyType()\n    const currencyType = fiatCurrencyType?.toUpperCase() || CurrencyType.USD\n\n    return useQuery({\n        queryKey: ['@@fiat-currency-rates'],\n        queryFn: async () => {\n            const allRates = await FiatCurrencyRate.getRates()\n            // Pick what we need only to reduce memory cost.\n            return pick(allRates, Object.keys(CurrencyType))\n        },\n        select: (data) => data[currencyType],\n    })\n}\n","import { EMPTY_LIST, EMPTY_OBJECT, NextIDPlatform, type PluginID, type PersonaIdentifier } from '@masknet/shared-base'\nimport { useQuery, type UseQueryResult } from '@tanstack/react-query'\nimport { Web3Storage } from '@masknet/web3-providers'\nimport { useCallback, useMemo } from 'react'\nimport type { WalletAPI } from '@masknet/web3-providers/types'\n\ntype AddressData = Record<string, string[]> | string[]\ntype StorageValueV1 = string[]\ntype StorageValueV2 = { hiddenAddresses?: string[] }\ntype StorageValueV3 = { hiddenAddresses?: Record<string, string[]> }\ntype CurrentStorageValue = StorageValueV3\ntype StorageValue = StorageValueV1 | StorageValueV2 | StorageValueV3\n\n/**\n *\n * Get unlisted address by persona pubkey.\n *\n * @param personaPubkey The persona identifier in hex string\n * @param pluginID The plugin id as store key\n * @returns\n */\nexport function useHiddenAddressConfig(\n    personaPubkey: string | undefined,\n    pluginID: PluginID | undefined,\n    signWithPersona: WalletAPI.IOContext['signWithPersona'],\n) {\n    return useQuery({\n        queryKey: ['next-id', 'hidden-address', pluginID, personaPubkey],\n        enabled: !!personaPubkey,\n        queryFn: async () => {\n            if (!pluginID || !personaPubkey) return EMPTY_OBJECT\n            const storage = Web3Storage.createNextIDStorage(\n                personaPubkey,\n                NextIDPlatform.NextID,\n                personaPubkey,\n                signWithPersona,\n            )\n\n            const result = await storage.get<StorageValue>(pluginID)\n            if (!result) return EMPTY_OBJECT\n\n            // When the tips data is legacy\n            if (Array.isArray(result)) return result\n\n            if (!result.hiddenAddresses) return EMPTY_OBJECT\n\n            if (Array.isArray(result.hiddenAddresses)) return result.hiddenAddresses\n            return result.hiddenAddresses ?? EMPTY_OBJECT\n        },\n    })\n}\n\nexport function useHiddenAddressConfigOf(\n    personaPubkey: string | undefined,\n    pluginID: PluginID | undefined,\n    socialId: string | undefined,\n    signWithPersona: WalletAPI.IOContext['signWithPersona'],\n) {\n    const result = useHiddenAddressConfig(personaPubkey, pluginID, signWithPersona)\n    return {\n        ...result,\n        // Identities of Twitter proof get lowered case.\n        data: result.data ? getHiddenAddressesOf(result.data, socialId?.toLowerCase()) : undefined,\n    }\n}\n\ninterface Options {\n    /** To update storage, a signer is required */\n    identifier?: PersonaIdentifier\n    pluginID: PluginID\n    /** For data migration */\n    socialIds?: string[]\n}\n\ntype ConfigResult = [UseQueryResult<Record<string, string[]>>, (config: Record<string, string[]>) => Promise<void>]\n/**\n * Provider address config and data updater\n */\nexport function useUnlistedAddressConfig(\n    { identifier, pluginID, socialIds }: Options,\n    signWithPersona: WalletAPI.IOContext['signWithPersona'],\n): ConfigResult {\n    const query = useHiddenAddressConfig(identifier?.publicKeyAsHex, pluginID, signWithPersona)\n    const { data: unlistedAddressConfig } = query\n\n    const migratedUnlistedAddressConfig = useMemo(() => {\n        if (!unlistedAddressConfig || !socialIds?.length) return EMPTY_OBJECT\n        if (!Array.isArray(unlistedAddressConfig)) return unlistedAddressConfig\n\n        return hiddenAddressesAdapter(unlistedAddressConfig, socialIds)\n    }, [unlistedAddressConfig, socialIds])\n\n    const updateConfig = useCallback(\n        async (config: Record<string, string[]>) => {\n            if (!identifier) return\n            const storage = Web3Storage.createNextIDStorage(\n                identifier.publicKeyAsHex,\n                NextIDPlatform.NextID,\n                identifier,\n                signWithPersona,\n            )\n            await storage.set<CurrentStorageValue>(pluginID, {\n                hiddenAddresses: config,\n            })\n        },\n        [pluginID, identifier],\n    )\n\n    return [{ ...query, data: migratedUnlistedAddressConfig } as UseQueryResult<Record<string, string[]>>, updateConfig]\n}\n\nexport function hiddenAddressesAdapter(list: string[], accounts: string[]): Record<string, string[]> {\n    return Object.fromEntries(accounts.map((account) => [account, list]))\n}\n\nexport function getHiddenAddressesOf(config?: AddressData, socialId?: string) {\n    if (!config) return EMPTY_LIST\n    if (Array.isArray(config)) return config\n    return socialId ? config[socialId] ?? EMPTY_LIST : EMPTY_LIST\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useFungibleToken } from './useFungibleToken.js'\nimport { useNativeTokenAddress } from './useNativeTokenAddress.js'\n\nexport function useNativeToken<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const nativeTokenAddress = useNativeTokenAddress(pluginID, options)\n    return useFungibleToken<S, T>(pluginID, nativeTokenAddress, undefined, options)\n}\n","import { NetworkPluginID, type SocialAddress, type SocialAddressType, type SocialIdentity } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useQuery } from '@tanstack/react-query'\nimport { useWeb3State } from './useWeb3State.js'\n\ntype AddressList = Array<SocialAddress<Web3Helper.ChainIdAll>>\n\n/**\n * Get all social addresses across all networks.\n */\nexport function useSocialAddressesAll(\n    identity?: SocialIdentity | null,\n    includes?: SocialAddressType[],\n    sorter?: (a: SocialAddress<Web3Helper.ChainIdAll>, z: SocialAddress<Web3Helper.ChainIdAll>) => number,\n) {\n    // TODO: to add flow\n    const { IdentityService: EVM_IdentityService } = useWeb3State(NetworkPluginID.PLUGIN_EVM)\n    const { IdentityService: SolanaIdentityService } = useWeb3State(NetworkPluginID.PLUGIN_SOLANA)\n\n    const userId = identity?.identifier?.userId\n\n    return useQuery({\n        enabled: !!identity && userId !== '$unknown',\n        queryKey: ['all-social-addresses', userId, identity, includes],\n        queryFn: async () => {\n            const allSettled = await Promise.allSettled<AddressList>(\n                [EVM_IdentityService, SolanaIdentityService].map((x) => x?.lookup(identity!) ?? []),\n            )\n\n            const listOfAddress = allSettled.flatMap((x) => (x.status === 'fulfilled' ? x.value : []))\n            const sorted = sorter && listOfAddress.length ? listOfAddress.sort(sorter) : listOfAddress\n            return includes?.length ? sorted.filter((x) => includes.includes(x.type)) : sorted\n        },\n    })\n}\n","import { useMemo } from 'react'\nimport type { SocialAddress } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useWeb3State } from './useWeb3State.js'\n\n/**\n * Merge many social addresses into a social account.\n */\nexport function useSocialAccountsFrom(socialAddresses: Array<SocialAddress<Web3Helper.ChainIdAll>>) {\n    const { IdentityService } = useWeb3State()\n    return useMemo(() => {\n        return IdentityService?.__mergeSocialAddressesAll__(socialAddresses)\n    }, [socialAddresses, IdentityService])\n}\n","import { type SocialAccount, type SocialAddressType, type SocialIdentity, EMPTY_LIST } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useSocialAddressesAll } from './useSocialAddressesAll.js'\nimport { useSocialAccountsFrom } from './useSocialAccountsFrom.js'\n\n/**\n * Get all social addresses across all networks.\n */\nexport function useSocialAccountsAll(\n    identity?: SocialIdentity | null,\n    includes?: SocialAddressType[],\n    sorter?: (a: SocialAccount<Web3Helper.ChainIdAll>, z: SocialAccount<Web3Helper.ChainIdAll>) => number,\n) {\n    const { data: socialAddressList = EMPTY_LIST, ...rest } = useSocialAddressesAll(identity, includes, sorter)\n    const socialAccounts = useSocialAccountsFrom(socialAddressList) ?? EMPTY_LIST\n\n    return {\n        ...rest,\n        data: socialAccounts,\n    }\n}\n","import type { TokenType, SourceType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport type { NetworkPluginID } from '@masknet/shared-base'\n\nexport namespace TrendingAPI {\n    export interface Settings {\n        currency: Currency\n    }\n    export enum TagType {\n        CASH = 1,\n        HASH = 2,\n    }\n    export interface Currency {\n        id: string\n        chainId?: Web3Helper.ChainIdAll\n        name: string\n        symbol?: string\n        description?: string\n    }\n\n    export interface Platform {\n        id: string | number\n        name: string\n        slug: string\n        symbol: string\n    }\n\n    export type CommunityType =\n        | 'discord'\n        | 'facebook'\n        | 'instagram'\n        | 'medium'\n        | 'reddit'\n        | 'telegram'\n        | 'github'\n        | 'youtube'\n        | 'twitter'\n        | 'other'\n\n    export type CommunityUrls = Array<{ type: Partial<CommunityType>; link: string }>\n    export interface Coin {\n        id: string\n        chainId?: Web3Helper.ChainIdAll\n        name: string\n        symbol: string\n        type: TokenType\n        decimals?: number\n        is_mirrored?: boolean\n        platform_url?: string\n        tags?: string[]\n        tech_docs_urls?: string[]\n        message_board_urls?: string[]\n        source_code_urls?: string[]\n        community_urls?: CommunityUrls\n        home_urls?: string[]\n        nftscan_url?: string\n        announcement_urls?: string[]\n        blockchain_urls?: string[]\n        image_url?: string\n        description?: string\n        market_cap_rank?: number\n        address?: string\n        contract_address?: string\n        facebook_url?: string\n        twitter_url?: string\n        telegram_url?: string\n    }\n\n    export interface CoinInfo {\n        name: string\n        id: string\n        chainId: ChainId\n    }\n\n    export interface Market {\n        current_price: string\n        circulating_supply?: number\n        market_cap?: number\n        max_supply?: number\n        total_supply?: number\n        total_volume?: number\n        price_symbol?: string\n        price_token_address?: string\n        price_change_percentage_1h?: number\n        price_change_24h?: number\n        price_change_percentage_1h_in_currency?: number\n        price_change_percentage_1y_in_currency?: number\n        price_change_percentage_7d_in_currency?: number\n        price_change_percentage_14d_in_currency?: number\n        price_change_percentage_24h_in_currency?: number\n        price_change_percentage_30d_in_currency?: number\n        price_change_percentage_60d_in_currency?: number\n        price_change_percentage_200d_in_currency?: number\n        atl_change_percentage?: number\n        /** NFT only */\n        floor_price?: string\n        /** NFT only */\n        highest_price?: number\n        /** NFT only */\n        owners_count?: number\n        /** NFT only */\n        royalty?: string\n        /** NFT only */\n        total_24h?: number\n        /** NFT only */\n        volume_24h?: number\n        /** NFT only */\n        average_volume_24h?: number\n        /** NFT only */\n        volume_all?: number\n    }\n\n    export interface Ticker {\n        logo_url: string\n        trade_url: string\n        market_name: string\n        /** fungible token only */\n        base_name?: string\n        /** fungible token only */\n        target_name?: string\n        price?: number\n        volume?: number\n        score?: string\n        updated?: Date\n        /** NFT only */\n        volume_24h?: number\n        /** NFT only */\n        floor_price?: number\n        price_symbol?: string\n        /** NFT only */\n        sales_24?: number\n    }\n\n    export interface Contract {\n        chainId?: Web3Helper.ChainIdAll\n        address: string\n        icon_url?: string\n        pluginID: NetworkPluginID\n    }\n\n    export interface Trending {\n        currency: Currency\n        dataProvider: SourceType\n        coin: Coin\n        platform?: Platform\n        contracts?: Contract[]\n        market?: Market\n        tickers: Ticker[]\n        lastUpdated: string\n    }\n\n    // #region historical\n    export type Stat = [number, number]\n\n    export interface HistoricalCoinInfo {\n        id: number\n        is_active: 0 | 1\n        is_fiat: 0 | 1\n        name: string\n        quotes: []\n        symbol: string\n    }\n    // #endregion\n\n    export type HistoricalInterval = '1d' | '2h' | '1h' | '15m' | '5m'\n\n    export type PriceStats = {\n        market_caps: Stat[]\n        prices: Stat[]\n        total_volumes: Stat[]\n    }\n\n    export interface MarketInfo {\n        id: string\n        price?: string\n        market_cap: string\n    }\n\n    export interface Provider<ChainId> {\n        /** Get all supported coins. */\n        getAllCoins: () => Promise<Coin[]>\n        /** Get all related coins with a keyword. */\n        getCoinsByKeyword: (chainId: ChainId, keyword: string) => Promise<Coin[]>\n        /** Get coin info by address. */\n        getCoinInfoByAddress: (address: string, chainId?: number) => Promise<CoinInfo | undefined>\n        /** Get coin trending information by id. */\n        getCoinTrending: (chainId: ChainId, id: string, currency: Currency) => Promise<Trending | undefined>\n        /** Get coin price stats by id. */\n        getCoinPriceStats: (chainId: ChainId, id: string, currency: Currency, days: number) => Promise<Stat[]>\n        /** Get token info by symbol */\n        getCoinMarketInfo: (tokenSymbol: string) => Promise<MarketInfo | undefined>\n    }\n}\n","import { i18NextInstance } from '@masknet/shared-base'\n\nexport function formatElapsed(from: number) {\n    const msPerMinute = 60 * 1000\n    const msPerHour = msPerMinute * 60\n    const msPerDay = msPerHour * 24\n    const msPerMonth = msPerDay * 30\n    const msPerYear = msPerDay * 365\n    const elapsed = Date.now() - from\n    if (elapsed < msPerMinute)\n        return i18NextInstance.t('relative_time_seconds_ago', {\n            count: Math.round(elapsed / 1000),\n        })\n    if (elapsed < msPerHour)\n        return i18NextInstance.t('relative_time_minutes_ago', {\n            count: Math.round(elapsed / msPerMinute),\n        })\n    if (elapsed < msPerDay)\n        return i18NextInstance.t('relative_time_hours_ago', {\n            count: Math.round(elapsed / msPerHour),\n        })\n    if (elapsed < msPerMonth)\n        return i18NextInstance.t('relative_time_days_ago', {\n            count: Math.round(elapsed / msPerDay),\n        })\n    if (elapsed < msPerYear)\n        return i18NextInstance.t('relative_time_months_ago', {\n            count: Math.round(elapsed / msPerMonth),\n        })\n    return i18NextInstance.t('relative_time_years_ago', {\n        count: Math.round(elapsed / msPerYear),\n    })\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'RadioButtonUnchecked');","import { useEffect, useState } from 'react';\nconst DEFAULT_THRESHOLD = [0];\nconst DEFAULT_ROOT_MARGIN = '0px';\nconst observers = new Map();\nconst getObserverEntry = (options) => {\n    const root = options.root ?? document;\n    let rootObservers = observers.get(root);\n    if (!rootObservers) {\n        rootObservers = new Map();\n        observers.set(root, rootObservers);\n    }\n    const opt = JSON.stringify([options.rootMargin, options.threshold]);\n    let entry = rootObservers.get(opt);\n    if (!entry) {\n        const callbacks = new Map();\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach((e) => callbacks.get(e.target)?.forEach((cb) => setTimeout(() => {\n                cb(e);\n            }, 0)));\n        }, options);\n        entry = {\n            observer,\n            observe(target, callback) {\n                let cbs = callbacks.get(target);\n                if (!cbs) {\n                    // If target has no observers yet - register it\n                    cbs = new Set();\n                    callbacks.set(target, cbs);\n                    observer.observe(target);\n                }\n                // As Set is duplicate-safe - simply add callback on each call\n                cbs.add(callback);\n            },\n            unobserve(target, callback) {\n                const cbs = callbacks.get(target);\n                // Else branch should never occur in case of normal execution\n                // because callbacks map is hidden in closure - it is impossible to\n                // simulate situation with non-existent `cbs` Set\n                /* istanbul ignore else */\n                if (cbs) {\n                    // Remove current observer\n                    cbs.delete(callback);\n                    if (!cbs.size) {\n                        // If no observers left unregister target completely\n                        callbacks.delete(target);\n                        observer.unobserve(target);\n                        // If not tracked elements left - disconnect observer\n                        if (!callbacks.size) {\n                            observer.disconnect();\n                            rootObservers.delete(opt);\n                            if (!rootObservers.size) {\n                                observers.delete(root);\n                            }\n                        }\n                    }\n                }\n            },\n        };\n        rootObservers.set(opt, entry);\n    }\n    return entry;\n};\n/**\n * Tracks intersection of a target element with an ancestor element or with a\n * top-level document's viewport.\n *\n * @param target React reference or Element to track.\n * @param options Like `IntersectionObserver` options but `root` can also be\n * react reference\n */\nexport function useIntersectionObserver(target, { threshold = DEFAULT_THRESHOLD, root: r, rootMargin = DEFAULT_ROOT_MARGIN, } = {}) {\n    const [state, setState] = useState();\n    useEffect(() => {\n        const tgt = target && 'current' in target ? target.current : target;\n        if (!tgt)\n            return;\n        let subscribed = true;\n        const observerEntry = getObserverEntry({\n            root: r && 'current' in r ? r.current : r,\n            rootMargin,\n            threshold,\n        });\n        const handler = (entry) => {\n            // It is reinsurance for the highly asynchronous invocations, almost\n            // impossible to achieve in tests, thus excluding from LOC\n            /* istanbul ignore else */\n            if (subscribed) {\n                setState(entry);\n            }\n        };\n        observerEntry.observe(tgt, handler);\n        return () => {\n            subscribed = false;\n            observerEntry.unobserve(tgt, handler);\n        };\n    }, [target, r, rootMargin, ...threshold]);\n    return state;\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import \"./selection/index.js\";\nexport {default as transition} from \"./transition/index.js\";\nexport {default as active} from \"./active.js\";\nexport {default as interrupt} from \"./interrupt.js\";\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// Liang–Barsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there weren’t any edges, have the closest site cover the extent.\n  // It doesn’t matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","export {default as voronoi} from \"./voronoi\";\n"],"names":["lastRecognizedProfile","currentVisitingProfile","currentNextIDPlatform","currentPersonaIdentifier","getPostURL","share","getUserIdentity","getPostIdFromNewPostToast","postMessage","getSearchedKeyword","connectPersona","__setSiteAdaptorContext__","value","getBackgroundColor","useSiteThemeMode","theme","backgroundColor","document","body","isDark","palette","mode","isDarker","clamp","r","g","b","toRGB","channels","join","fromRGB","rgb","matched","match","_","Number","parseInt","shade","percentage","map","c","Math","floor","fromRGBAtoRGB","color","a","rgba","slice","isRGBA","element","getComputedStyle","useCallback","useEffect","useMemo","useState","EMPTY_LIST","pageableToIterator","useWeb3Hub","useNonFungibleAssetsByCollection","address","pluginID","options","assets","setAssets","done","setDone","loading","toggleLoading","error","setError","Hub","iterator","indicator","getNonFungibleAssetsByCollection","size","next","batchResult","Array","from","length","iteratorDone","Error","message","push","error_","pred","sort","tokenId","retry","filter","x","chainId","noop","ElementAnchor","AssetPreviewer","RetryHint","LoadingBase","makeStyles","ShadowRootTooltip","TextOverflowTooltip","CrossIsolationMessages","NetworkPluginID","useWeb3Others","isSameAddress","Checkbox","List","ListItem","Radio","Stack","Typography","isLens","resolveImageURL","useStyles","columns","gap","isLight","checkbox","position","right","top","list","gridGap","padding","display","gridTemplateColumns","nftContainer","background","maskColor","bg","borderRadius","width","height","transition","overflow","paper","undefined","boxShadow","nftItem","cursor","flexDirection","userSelect","disabled","opacity","selected","border","primary","main","content","left","pointerEvents","boxSizing","inactive","fallbackImage","fallbackENSImage","image","caption","spacing","text","fontWeight","fontSize","whiteSpace","textOverflow","root","NFTItem","token","classes","Others","metadata","name","formatTokenId","onClick","events","nonFungibleTokenDialogEvent","sendToLocal","open","tokenAddress","fallbackImageURL","collection","contract","div","className","url","imageURL","container","as","title","disableInteractive","arrow","placement","isValidDomain","PLUGIN_SOLANA","NFTList","selectable","selectedPairs","tokens","onChange","limit","onNextPage","finished","hasError","cx","isRadio","reachedLimit","toggleItem","currentId","contractAddress","includes","PLUGIN_EVM","pairs","pair","find","SelectComponent","checked","id","py","hint","callback","createContext","TrendingViewContext","isTokenTagPopper","isCollectionProjectPopper","isProfilePage","isPreciseSearch","isDSearch","TrendingViewProvider","children","context","Provider","isUndefined","Days","useChainContext","PluginTraderRPC","useQuery","usePriceStats","expectedChainId","coinId","currency","days","MAX","sourceType","getPriceStats","flatten","useRef","useAsyncFn","useFungibleToken","trending","TokenType","useNFT_TrendingOverview","getNFT_TrendingOverview","useNonFungibleTokenActivities","cursorRef","nonFungibleTokenActivities","setNonFungibleTokenActivities","loadingActivities","fetchActivities","result","getNonFungibleTokenActivities","current","currentActivities","activities","Object","values","useTrendingById","getCurrency","source","isLoading","data","coinTrending","queryKey","queryFn","getCoinTrending","detailedToken","coin","contract_address","trendingData","symbol","type","Fungible","decimals","contracts","useHighestFloorPrice","getHighestFloorPrice","useOneDaySaleAmounts","getOneDaySaleAmounts","isNativeTokenAddress","useNetworkContext","Trader","AllProviderTradeContext","paddingTop","trade","margin","TradeView","props","TraderProps","inputToken","defaultInputCoin","outputToken","defaultOutputCoin","settings","BigNumber","formatInteger","fallback","replaceAll","isNaN","toFormat","Grid","useNetworkDescriptor","TokenIcon","WalletIcon","FungibleCoinMarketTable","CurrencyType","formatSupply","useTraderTrans","gridContainer","gridItem","justifyContent","alignItems","gridItemTitle","gridItemValue","amountWrapper","amount","marginLeft","NonFungibleCoinMarketTable","t","overview","highestPrice_","highest_price","market","salesOneDay_","sales_24h","sales","total_24h","salesOneDay","highestPrice","chain","PaymentIcon","price_token_address","mainIcon","icon","item","variant","plugin_trader_total_assets","items_total","total_supply","plugin_trader_owners_count","owners_total","owners_count","plugin_trader_market_cap","market_cap","plugin_trader_highest_price","plugin_trader_total_volume","total_volume","plugin_trader_one_day_average_price","average_price_24h","average_price","plugin_trader_one_day_traded_volume","volume_24h","volume","plugin_trader_one_day_sale","CoinMarketTable","isNFT","NonFungible","sign","USD","CoinMetadataTable","CoinMarketPanel","p","openWindow","useDimension","usePriceLineChart","DEFAULT_DIMENSION","bottom","stats","platform_url","svg","progress","placeholder","paddingBottom","borderStyle","PriceChart","rootRef","svgRef","date","price","Date","ref","viewBox","preserveAspectRatio","align","plugin_trader_no_data","resolveDaysName","Link","input","active","link","textAlign","textDecoration","DEFAULT_RANGE_OPTIONS","ONE_DAY","ONE_WEEK","ONE_MONTH","ONE_YEAR","PriceChartDaysControl","rangeOptions","onDaysChange","direction","daysOption","sx","component","useContext","pick","Box","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","useTheme","FormattedCurrency","formatEthereumAddress","formatCurrency","formatElapsed","themeMode","isPopper","maxHeight","scrollbarWidth","cell","paddingLeft","paddingRight","logo","verticalAlign","marginRight","maxWidth","TickersTable","tickers","headCellMap","plugin_trader_table_volume","updated","plugin_trader_table_updated","exchange","plugin_trader_table_exchange","plugin_trader_table_pair","plugin_trader_table_price","tickerRows","ticker","index","floor_price","marketplaceOrExchange","logo_url","img","src","market_name","cellMap","formatter","getTime","base_name","target_name","formatted","basename","targetName","PopperProps","disablePortal","disableHoverListener","target","rel","href","trade_url","span","cells","entries","headCells","stickyHeader","colSpan","style","useAsync","ENV","production","development","test","URL","process","env","NODE_ENV","useTransakAllowanceCoin","allowanceList","fetch","method","then","res","json","response","val","JSON","stringify","CoinIcon","rest","tokenType","Card","marginBottom","TrendingCard","elevation","MenuItem","useMenuConfig","RadioButtonUnchecked","RadioButtonUncheckedIcon","ArrowDropDown","ArrowDropDownIcon","Icons","FootnoteMenu","selectedIndex","onSelect","option","menu","openMenu","i","flexGrow","CheckCircle","secondaryLine","anchorSibling","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","underline","uniqBy","resolveSourceTypeName","SourceProviderIcon","sourceMenu","sourceName","publicMain","SourceSwitcher","setResult","resultList","sourceTypes","provider","indexOf","selectedOption","arrowDropIcon","useSharedTrans","cardIcon","PluginDescriptor","Web3ProfileCard","Web3Profile","DecentralizedSearch","dark","web3_profile_card_name","profile_card_name","decentralized_search_name","sourceNote","secondaryDark","TrendingViewDescriptor","displayList","powered_by","useActivatedPluginsSiteAdaptor","useIsMinimalMode","signWithPersona","PluginTransakMessages","EnhanceableSite_RSS3_NFT_SITE_KEY_map","Linking","NFTSpamBadge","PriceChange","TokenSecurityBar","TokenWithSocialGroupMenu","useReportSpam","useSocialAccountsBySettings","useTokenMenuCollectionList","useTokenSecurity","PluginID","useAnchor","useRemoteControlledDialog","MaskColors","MaskLightTheme","SourceType","Telemetry","EventID","EventType","Avatar","Button","CardContent","IconButton","Paper","ThemeProvider","first","last","ContentTab","cardHeader","headline","marginTop","symbolText","fontStyle","textTransform","rank","white","avatar","common","buyButton","pluginDescriptorWrapper","backdropFilter","borderBottomRightRadius","borderBottomLeftRadius","zIndex","outline","TrendingViewDeck","TrendingCardProps","setActive","currentTab","identity","walletMenuOpen","setWalletMenuOpen","closeMenu","anchorEl","anchorBounding","timer","setTimer","transakPluginEnabled","some","ID","Transak","transakIsMinimalMode","account","isAllowanceCoin","setDialog","setBuyDialog","buyTokenDialogUpdated","minimalPlugins","isTokenSecurityEnable","GoPlusSecurity","tokenSecurity","trim","isBuyable","onBuyButtonClicked","code","titleRef","coinAddress","coinName","collectionList","rss3Key","identifier","network","socialAccounts","openRss3Profile","hideSearchResultInspectorEvent","hide","userId","profileCardEvent","external","isReporting","isSpam","promptReport","clearTimeout","setTimeout","captureEvent","Access","EntryTimelineHoverNftDuration","EntryTimelineHoverTokenDuration","floorPrice","dataProvider","CoinMarketCap","current_price","LinkProps","home_urls","image_url","alt","label","logoURL","em","market_cap_rank","plugin_trader_rank","toString","v","ArrowDrop","disableScrollLock","onClose","onAddressChange","currentCollection","onTokenChange","startIcon","Buy","buy_now","endIcon","LinkOut","window","lineHeight","plugin_trader_floor_price","price_symbol","Flag","change","price_change_percentage_24h_in_currency","price_change_24h","Market","Swap","section","createLookupTableResolver","ActivityType","resolveActivityTypeBackgroundColor","Sale","Burn","Transfer","Mint","CancelOffer","Offer","format","formatDateTime","fromUnixTime","FormattedAddress","Image","nftImage","nftCell","cellWrapper","methodCellWrapper","methodCell","tokenIcon","imageLoading","linkIcon","transactionLink","loadMore","transform","loadMoreIcon","NonFungibleTickersTable","containerRef","nft","plugin_trader_table_nft","plugin_trader_table_method","plugin_trader_table_value","plugin_trader_table_from","to","plugin_trader_table_to","time","plugin_trader_table_time","MaskAvatar","token_id","token_address","event_type","TransactionValue","activity","send","formatAddress","formatDomainName","receive","destination","timestamp","toFixed","transaction_link","mt","trade_token","trade_symbol","toUpperCase","WETH","trade_price","fee","TrendingViewSkeleton","EmptyStatus","FailedTrendingView","load_failed","useLayoutEffect","compact","TabContext","Tab","useNativeToken","Web3ContextProvider","ChainId","isNativeTokenSymbol","SchemaType","createFungibleToken","PluginCardFrameMini","PluginEnableBoundary","getSiteType","pluginIDsSettings","useValueRef","MaskTabList","useTabs","tabListRoot","minHeight","Price","footerSkeleton","borderBottom","divider","tradeViewRoot","priceChartRoot","flex","nftItems","priceChartWrapper","nftList","hidden","visibility","TrendingView","currentResult","isMinimalMode","isWeb3ProfileMinimalMode","nativeToken","site","pluginIDs","loadingTrending","setDays","currentPriceChange","setCurrentPriceChange","onPriceDaysControlChange","price_change_percentage_7d_in_currency","price_change_percentage_30d_in_currency","price_change_percentage_1y_in_currency","atl_change_percentage","loadingStats","NFTScan","swapExpectedContract","fallbackContracts","_contracts","isSwappable","tabs","Exchange","NFTItems","setTab","TabComponents","configs","key","plugin_trader_tab_market","plugin_trader_trending","plugin_trader_tab_activities","plugin_trader_tab_exchange","plugin_trader_tab_swap","plugin_trader_nft_items","onUpdate","collectionId","fetchedTokens","loadError","footer","Component","px","EntryProfileNFT_TrendSwitchTo","EntryProfileNFT_ItemsSwitchTo","EntryProfileNFT_ActivitiesSwitchTo","EntryProfileTokenSwitchTrend","EntryProfileTokenSwitchMarket","aria-label","Mainnet","Native","ERC20","memo","useLocation","ClickAwayListener","Fade","AnchorProvider","PluginTraderMessages","TrendingPopper","locked","setName","setIsNFTProjectPopper","setIdentity","badgeBounding","setBadgeBounding","setAnchorEl","setAddress","setCurrentResult","setType","initialOffsetY","setInitialOffsetY","trendingAnchorObserved","on","ev","scrollY","onResize","addEventListener","removeEventListener","location","state","badgeBoundingBottom","badgeBoundingLeft","positionY_Type","positionX_Type","innerWidth","useCapture","onClickAway","in","easing","timeout","innerHeight","useAsyncRetry","useDialogStacking","DefaultWeb3ContextProvider","DSearch","TrendingAPI","SearchResultType","TagInspector","createTrendingView","reposition","TrendingViewWrapper","stack","loadingResultList","results","search","TagType","CASH","CollectionListByTwitterHandler","enhanceTag","onHover","kind","event","currentTarget","HASH","getBoundingClientRect","Trans","ApplicationEntry","base","TraderDialog","openDialog","swapDialogEvent","init","SearchResultInspector","UI","Content","TraderSearchResultContent","keyword","isValidAddress","Utils","shouldDisplay","FungibleToken","NonFungibleToken","NonFungibleCollection","GlobalInjection","ApplicationEntries","SwapColorful","i18nKey","ns","iconFilterColor","ApplicationEntryID","RenderEntryComponent","EntryComponentProps","EntryAppSwapOpen","appBoardSortingDefaultPriority","marketListSortingPriority","category","tutorialLink","description","hiddenInList","wrapperProps","backgroundGradient","getPluginMessage","PLUGIN_ID","webpackHot","accept","AnchorContext","contextValue","SocialAddressType","resolveSocialAddressLink","iconStack","stackedIcon","linking","actionIcon","roundedIcon","tooltip","AddressPlatform","Facebook","Twitter","NextId","AccountTooltips","platform","Address","account_icon_tooltips_only","account_icon_tooltips","replace","AccountIcons","socialAccount","externalClasses","supportedAddressTypes","iconStyle","fromTwitter","ENS","SPACE_ID","ARBID","Lens","TwitterBlue","fromNextId","NEXT_ID","normalClasses","roundedClasses","NextIDMini","TwitterXRound","CyberConnect","Leaderboard","Sybil","Mask","MaskBlue","Firefly","OpenSea","RSS3","SpaceId","node","sources","flatMap","config","account_icon_merged_tooltip","isEnsSubdomain","ReversedAddress","AddressItem","TypographyProps","linkIconClassName","disableLinkIcon","isMenu","preferAddress","explorerResolver","addressLink","supportedChainIds","getDefaultChainId","useBoundedPopperProps","applicationBox","applicationBoxHover","pointerEvent","iconWrapper","black","firstAreaArrow","recommendFeatureApplicationBox","minWidth","recommendFeatureAppIconWrapper","recommendFeatureAppListItemName","recommendFeatureAppListItemDescription","secondTitle","tooltipHint","recommendFeature","popperProps","jsx","isFirst","objectFit","useIntersectionObserver","elementRef","intersection","rootMargin","callbackRef","isIntersecting","pt","displayName","statusBox","second","iconSize","EmptySimple","rounded","refs","optimistic","failImage","center","failed","MASK_DARK_FALLBACK","MASK_LIGHT_FALLBACK","disableSpinner","extraClasses","containerProps","setFailed","onError","decoding","ButtonProps","load_retry","LoadingStatus","omitText","web3Icon","item1","item2","linkOutIcon","providerLink","PluginName","plugin_card_frame_default_title","plugin_card_frame_default_provided_by","plugin_card_frame_default_provided_by_value","alignSelf","plugin_card_frame_loading","ActionButton","setPluginMinimalModeEnabled","onEnablePlugin","enable_plugin_boundary_description","Plugin","enable_plugin_boundary","Skeleton","forwardRef","ProgressiveText","skeletonWidth","skeletonHeight","animation","Gem","Rarible","CoinGecko","UniswapInfo","Uniswap","LooksRare","X2Y2","SimpleHash","isEqual","menuItem","itemText","itemCheckout","coinIcon","checkedIcon","TokenMenuList","currentOption","fromSocialCard","Divider","Menu","groupBy","toPairs","MENU_ITEM_HEIGHT","MENU_LIST_PADDING","groupName","group","addressMenu","line","borderColor","addressItem","secondLinkIcon","selectedIcon","menuGroupNameMap","collectionList_","currentAddress","groups","groupOptions","address_viewer_address_name_address","Fragment","useCurrencyType","useFiatCurrencyRate","currentSign","currentFiatCurrencyRate","rate","fiatCurrencyRate","EnhanceableSite","SOCIAL_MEDIA_ICON_MAPPING","TwitterX","FacebookColored","Minds","Instagram","InstagramColored","OpenSeaColored","Mirror","Localhost","SOCIAL_MEDIA_ROUND_ICON_MAPPING","FacebookRound","MindsRound","InstagramRoundColored","RSS3_NFT_SITE_KEY","TWITTER","FACEBOOK","INSTAGRAM","PERSONA_AVATAR_DB_NAMESPACE","PopupHomeTabType","SocialAccounts","ConnectedWallets","cloneElement","isValidElement","createElement","useUpdate","ShadowRootMenu","useMenu","elements","useShadowRoot","menuProps","setOpen","close","update","MenuListProps","anchorElOrEvent","HTMLElement","finalAnchor","nextElementSibling","requestAnimationFrame","useCustomSnackbar","NFTSpam","SPAM_SCORE","SimpleHashEVM","ConfirmDialog","collectionByAddress","enabled","getCollectionByContractAddress","collectionById","getSimpleHashCollection","colId","collection_id","reportSpam","report","status","showSnackbar","confirmed","openAndWaitForClose","report_nft","wordBreak","confirm_to_report_nft","confirmVariant","report_spam","report_spam_success","report_spam_fail","spam_score","useHiddenAddressConfigOf","useSocialAccountsAll","currySameAddress","typeWhitelist","sorter","loadingSocialAccounts","loadSocialAccountsError","refetch","refetchSocialAccounts","hiddenAddress","isFetching","loadingHiddenAddress","isInitialLoading","loadingHiddenAddressError","refetchLoadHiddenAddress","publicKey","addresses","toLowerCase","SourceTypeList","Tooltip","MuiTooltip","useDetectOverflow","createShadowRootForwardedComponent","setOverflow","offsetWidth","scrollWidth","useSubscription","UNDEFINED","useWeb3State","Settings","currencyType","FiatCurrencyRate","fiatCurrencyType","allRates","getRates","keys","select","EMPTY_OBJECT","NextIDPlatform","Web3Storage","useHiddenAddressConfig","personaPubkey","storage","createNextIDStorage","NextID","get","isArray","hiddenAddresses","socialId","getHiddenAddressesOf","useUnlistedAddressConfig","socialIds","query","publicKeyAsHex","unlistedAddressConfig","migratedUnlistedAddressConfig","hiddenAddressesAdapter","updateConfig","set","accounts","fromEntries","useNativeTokenAddress","nativeTokenAddress","useSocialAddressesAll","IdentityService","EVM_IdentityService","SolanaIdentityService","allSettled","Promise","lookup","listOfAddress","sorted","useSocialAccountsFrom","socialAddresses","__mergeSocialAddressesAll__","socialAddressList","i18NextInstance","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","now","count","round"],"sourceRoot":"","x_google_ignoreList":[19,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153]}