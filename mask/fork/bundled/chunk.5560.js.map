{"version":3,"file":"bundled/chunk.5560.js","mappings":"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AACA,4BAA4B,UAAU;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;AAC+B;;AAE/B,wCAAwC,gDAAmB;AAC3D,6BAA6B,6CAAgB;AAC7C;;AAE+C;AAC/C;;;;;;;;;;;;;;ACR0B;;AAE1B;AACA,gBAAgB,gDAAmB;;AAEnC;AACA;AACA,WAAW,gDAAmB;AAC9B;AACA,KAAK;AACL;;AAEA;AACA,gBAAgB,6CAAgB;;AAEhC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEyC;AACzC","sources":["webpack://mask-network/./packages/plugin-infra/src/site-adaptor/context.ts","webpack://mask-network/./packages/plugins/Savings/src/types.ts","webpack://mask-network/./packages/plugins/Savings/src/SiteAdaptor/IconURL.tsx","webpack://mask-network/./packages/plugins/Savings/src/protocols/AAVEProtocol.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3.ts","webpack://mask-network/./packages/plugins/Savings/src/SiteAdaptor/hooks/index.ts","webpack://mask-network/./packages/plugins/Savings/src/locales/i18n_generated.ts","webpack://mask-network/./packages/plugins/Savings/src/SiteAdaptor/SavingsTable/SavingsRow.tsx","webpack://mask-network/./packages/plugins/Savings/src/SiteAdaptor/SavingsTable/index.tsx","webpack://mask-network/./packages/plugins/Savings/src/SiteAdaptor/SavingsForm.tsx","webpack://mask-network/./packages/plugins/Savings/src/protocols/LDOProtocol.ts","webpack://mask-network/./packages/plugins/Savings/src/SiteAdaptor/SavingsDialog.tsx","webpack://mask-network/./packages/plugins/Savings/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/shared-base-ui/src/hooks/useEverSeen.ts","webpack://mask-network/./packages/shared-base/src/SingletonModal/index.ts","webpack://mask-network/./packages/shared/src/UI/components/ActionButton/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/CopyButton/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/FungibleTokenInput/UI.tsx","webpack://mask-network/./packages/shared/src/UI/components/FungibleTokenInput/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/Icon/name2Image.ts","webpack://mask-network/./packages/shared/src/UI/components/Icon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ImageIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/NetworkTab/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/TokenIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/modals/modals.ts","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedBalance.tsx","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedCurrency.tsx","webpack://mask-network/./packages/shared/src/hooks/useOpenShareTxDialog.tsx","webpack://mask-network/./packages/theme/src/CSSVariables/constants.ts","webpack://mask-network/./packages/theme/src/CSSVariables/vars.ts","webpack://mask-network/./packages/theme/src/Components/ActionButton/index.tsx","webpack://mask-network/./packages/theme/src/Components/LoadingBase/index.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/BaseTab.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/FlexibleTab.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/ArrowBackIosNew.js","webpack://mask-network/./packages/theme/src/Components/Tabs/RoundTab.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/index.tsx","webpack://mask-network/./packages/theme/src/hooks/useTabs.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useCurrencyType.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFiatCurrencyRate.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleToken.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenBalance.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenPrice.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokens.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNativeToken.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNativeTokenAddress.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetwork.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptors.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworks.ts","webpack://mask-network/./packages/web3-hooks/base/src/useProviderDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useRecentTransactions.ts","webpack://mask-network/./packages/web3-hooks/base/src/useReverseAddress.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallet.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Connection.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Hub.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatCurrency.ts","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Check.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Done.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Error.js","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabContext/TabContext.js","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabPanel/tabPanelClasses.js","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabPanel/TabPanel.js","webpack://mask-network/./node_modules/.pnpm/@mui+styled-engine@5.10.8_@emotion+react@11.11.1_@emotion+styled@11.11.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/styled-engine/GlobalStyles/GlobalStyles.js","webpack://mask-network/./node_modules/.pnpm/copy-to-clipboard@3.3.1/node_modules/copy-to-clipboard/index.js","webpack://mask-network/./node_modules/.pnpm/toggle-selection@1.0.6/node_modules/toggle-selection/index.js","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/isRestoring.mjs","webpack://mask-network/./node_modules/.pnpm/unstated-next@1.1.0/node_modules/unstated-next/dist/unstated-next.mjs"],"sourcesContent":["// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { NextIDPlatform, PersonaIdentifier, PostIdentifier } from '@masknet/shared-base'\n\nexport interface __SiteAdaptorContext__ {\n    lastRecognizedProfile: Subscription<IdentityResolved | undefined>\n    currentVisitingProfile: Subscription<IdentityResolved | undefined>\n    currentNextIDPlatform: NextIDPlatform | undefined\n    currentPersonaIdentifier: Subscription<PersonaIdentifier | undefined>\n    getPostURL: (identifier: PostIdentifier) => URL | null\n    share: undefined | ((text: string) => void)\n    getUserIdentity: ((useId: string) => Promise<IdentityResolved | undefined>) | undefined\n    getPostIdFromNewPostToast: (() => string) | undefined\n    postMessage: ((text: string, options?: any) => Promise<void>) | undefined\n    getSearchedKeyword: (() => string) | undefined\n    connectPersona: () => Promise<void>\n}\nexport let lastRecognizedProfile: __SiteAdaptorContext__['lastRecognizedProfile']\nexport let currentVisitingProfile: __SiteAdaptorContext__['currentVisitingProfile']\nexport let currentNextIDPlatform: NextIDPlatform | undefined\nexport let currentPersonaIdentifier: __SiteAdaptorContext__['currentPersonaIdentifier']\nexport let getPostURL: __SiteAdaptorContext__['getPostURL']\nexport let share: __SiteAdaptorContext__['share']\nexport let getUserIdentity: __SiteAdaptorContext__['getUserIdentity']\nexport let getPostIdFromNewPostToast: __SiteAdaptorContext__['getPostIdFromNewPostToast']\nexport let postMessage: __SiteAdaptorContext__['postMessage']\nexport let getSearchedKeyword: __SiteAdaptorContext__['getSearchedKeyword']\nexport let connectPersona: __SiteAdaptorContext__['connectPersona']\nexport function __setSiteAdaptorContext__(value: __SiteAdaptorContext__) {\n    ;({\n        lastRecognizedProfile,\n        currentVisitingProfile,\n        currentNextIDPlatform,\n        currentPersonaIdentifier,\n        getPostURL,\n        share,\n        getUserIdentity,\n        getPostIdFromNewPostToast,\n        postMessage,\n        getSearchedKeyword,\n        connectPersona,\n    } = value)\n}\n","import type { BigNumber } from 'bignumber.js'\nimport type { ChainId, SchemaType, Web3 } from '@masknet/web3-shared-evm'\nimport type { FungibleToken } from '@masknet/web3-shared-base'\n\nexport type TokenPair = [FungibleToken<ChainId, SchemaType>, FungibleToken<ChainId, SchemaType>]\n\nexport enum TabType {\n    Deposit = 'deposit',\n    Withdraw = 'withdraw',\n}\n\nexport enum ProtocolType {\n    Lido = 0,\n    AAVE = 1,\n}\nexport interface SavingsProtocol {\n    readonly type: ProtocolType\n\n    /**\n     * combine a bare token and a staked token with being a pair\n     */\n    readonly pair: TokenPair\n\n    readonly bareToken: FungibleToken<ChainId, SchemaType>\n    readonly stakeToken: FungibleToken<ChainId, SchemaType>\n\n    getApr(chainId: ChainId, web3: Web3): Promise<string>\n    getBalance(chainId: ChainId, web3: Web3, account: string): Promise<BigNumber>\n\n    depositEstimate(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value): Promise<BigNumber.Value>\n    deposit(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value): Promise<string>\n    withdrawEstimate(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value): Promise<BigNumber.Value>\n    withdraw(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value): Promise<string>\n}\n","import { ProtocolType } from '../types.js'\n\nexport const ProviderIconURLs: Record<ProtocolType, string> = {\n    [ProtocolType.Lido]: new URL('./assets/lido.png', import.meta.url).toString(),\n    [ProtocolType.AAVE]: new URL('./assets/aave.png', import.meta.url).toString(),\n}\n","import type { AbiItem } from 'web3-utils'\nimport { BigNumber } from 'bignumber.js'\nimport AaveLendingPoolABI from '@masknet/web3-contracts/abis/AaveLendingPool.json'\nimport AaveLendingPoolAddressProviderABI from '@masknet/web3-contracts/abis/AaveLendingPoolAddressProvider.json'\nimport ERC20ABI from '@masknet/web3-contracts/abis/ERC20.json'\nimport type { AaveLendingPool } from '@masknet/web3-contracts/types/AaveLendingPool.js'\nimport type { AaveLendingPoolAddressProvider } from '@masknet/web3-contracts/types/AaveLendingPoolAddressProvider.js'\nimport type { ERC20 } from '@masknet/web3-contracts/types/ERC20.js'\nimport { fetchJSON } from '@masknet/web3-providers/helpers'\nimport { ZERO, pow10, type FungibleToken } from '@masknet/web3-shared-base'\nimport {\n    type Web3,\n    type ChainId,\n    type SchemaType,\n    TransactionEventType,\n    createContract,\n    getAaveConstant,\n} from '@masknet/web3-shared-evm'\nimport { ProtocolType, type SavingsProtocol } from '../types.js'\n\nexport class AAVEProtocol implements SavingsProtocol {\n    static DEFAULT_APR = '0.17'\n\n    private _balance = ZERO\n\n    constructor(readonly pair: [FungibleToken<ChainId, SchemaType>, FungibleToken<ChainId, SchemaType>]) {}\n\n    get type() {\n        return ProtocolType.AAVE\n    }\n\n    get balance() {\n        return this._balance\n    }\n\n    get bareToken() {\n        return this.pair[0]\n    }\n\n    get stakeToken() {\n        return this.pair[1]\n    }\n\n    public async getApr(chainId: ChainId, web3: Web3) {\n        try {\n            const subgraphUrl = getAaveConstant(chainId, 'AAVE_SUBGRAPHS')\n            if (!subgraphUrl) {\n                return '0.00'\n            }\n\n            const body = JSON.stringify({\n                query: /* GraphQL */ `\n                    query GET_APR($address: String, $pool: String) {\n                        reserves(where: { underlyingAsset: $address, pool: $pool }) {\n                            id\n                            name\n                            underlyingAsset\n                            liquidityRate\n                        }\n                    }\n                `,\n                variables: {\n                    address: this.bareToken.address,\n                    pool: '0xb53c1a33016b2dc2ff3653530bff1848a515c8c5',\n                },\n            })\n            const response = await fetchJSON<{\n                data: {\n                    reserves: Array<{\n                        id: string\n                        name: string\n                        decimals: number\n                        underlyingAsset: string\n                        liquidityRate: number\n                    }>\n                }\n            }>(subgraphUrl, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body,\n            })\n\n            const liquidityRate = +response.data.reserves[0].liquidityRate\n\n            const RAY = pow10(27) // 10 to the power 27\n\n            // APY and APR are returned here as decimals, multiply by 100 to get the percents\n            return new BigNumber(liquidityRate).times(100).div(RAY).toFixed(2)\n        } catch (error) {\n            console.error('AAVE: Apr Error:', error)\n            return AAVEProtocol.DEFAULT_APR\n        }\n    }\n\n    public async getBalance(chainId: ChainId, web3: Web3, account: string) {\n        try {\n            const subgraphUrl = getAaveConstant(chainId, 'AAVE_SUBGRAPHS')\n\n            if (!subgraphUrl) {\n                return ZERO\n            }\n\n            const body = JSON.stringify({\n                query: /* GraphQL */ `\n                    query GET_BALANCE($address: String, $pool: String) {\n                        reserves(where: { underlyingAsset: $address, pool: $pool }) {\n                            id\n                            aToken {\n                                id\n                            }\n                        }\n                    }\n                `,\n                variables: {\n                    address: this.bareToken.address,\n                    pool: '0xb53c1a33016b2dc2ff3653530bff1848a515c8c5',\n                },\n            })\n\n            const response = await fetchJSON<{\n                data: {\n                    reserves: Array<{\n                        aToken: {\n                            id: string\n                        }\n                    }>\n                }\n            }>(subgraphUrl, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body,\n            })\n\n            const aTokenId = response.data.reserves[0].aToken.id\n            const contract = createContract<ERC20>(web3, aTokenId, ERC20ABI as AbiItem[])\n            return new BigNumber((await contract?.methods.balanceOf(account).call()) ?? '0')\n        } catch (error) {\n            console.error('AAVE BALANCE ERROR:', error)\n            return ZERO\n        }\n    }\n\n    public async depositEstimate(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        try {\n            const operation = await this.createDepositTokenOperation(account, chainId, web3, value)\n            const gasEstimate = await operation?.estimateGas({\n                from: account,\n            })\n\n            return new BigNumber(gasEstimate || 0)\n        } catch (error) {\n            console.error('AAVE deposit estimate ERROR:', error)\n            return ZERO\n        }\n    }\n\n    private async createDepositTokenOperation(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        const aaveLPoolAddress = getAaveConstant(chainId, 'AAVE_LENDING_POOL_ADDRESSES_PROVIDER_CONTRACT_ADDRESS')\n        const lPoolAddressProviderContract = createContract<AaveLendingPoolAddressProvider>(\n            web3,\n            aaveLPoolAddress,\n            AaveLendingPoolAddressProviderABI as AbiItem[],\n        )\n\n        const poolAddress = await lPoolAddressProviderContract?.methods.getLendingPool().call()\n\n        const contract = createContract<AaveLendingPool>(web3, poolAddress, AaveLendingPoolABI as AbiItem[])\n        return contract?.methods.deposit(this.bareToken.address, new BigNumber(value).toFixed(), account, '0')\n    }\n\n    public async deposit(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        const gasEstimate = await this.depositEstimate(account, chainId, web3, value)\n        const operation = await this.createDepositTokenOperation(account, chainId, web3, value)\n        if (!operation) {\n            throw new Error(\"Can't create deposit operation\")\n        }\n        return new Promise<string>((resolve, reject) => {\n            operation\n                .send({\n                    from: account,\n                    gas: gasEstimate.toNumber(),\n                })\n                .once(TransactionEventType.ERROR, reject)\n                .once(TransactionEventType.CONFIRMATION, (_, receipt) => {\n                    resolve(receipt.transactionHash)\n                })\n        })\n    }\n\n    public async withdrawEstimate(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        try {\n            const lPoolAddressProviderContract = createContract<AaveLendingPoolAddressProvider>(\n                web3,\n                getAaveConstant(chainId, 'AAVE_LENDING_POOL_ADDRESSES_PROVIDER_CONTRACT_ADDRESS'),\n                AaveLendingPoolAddressProviderABI as AbiItem[],\n            )\n\n            const poolAddress = await lPoolAddressProviderContract?.methods.getLendingPool().call()\n\n            const contract = createContract<AaveLendingPool>(web3, poolAddress, AaveLendingPoolABI as AbiItem[])\n            const gasEstimate = await contract?.methods\n                .withdraw(this.bareToken.address, new BigNumber(value).toFixed(), account)\n                .estimateGas({\n                    from: account,\n                })\n            return new BigNumber(gasEstimate || 0)\n        } catch (error) {\n            return ZERO\n        }\n    }\n\n    public async withdraw(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        const lPoolAddressProviderContract = createContract<AaveLendingPoolAddressProvider>(\n            web3,\n            getAaveConstant(chainId, 'AAVE_LENDING_POOL_ADDRESSES_PROVIDER_CONTRACT_ADDRESS'),\n            AaveLendingPoolAddressProviderABI as AbiItem[],\n        )\n\n        const poolAddress = await lPoolAddressProviderContract?.methods.getLendingPool().call()\n\n        const gasEstimate = await this.withdrawEstimate(account, chainId, web3, value)\n        const contract = createContract<AaveLendingPool>(web3, poolAddress, AaveLendingPoolABI as AbiItem[])\n        return new Promise<string>(\n            (resolve, reject) =>\n                contract?.methods\n                    .withdraw(this.bareToken.address, new BigNumber(value).toFixed(), account)\n                    .send({\n                        from: account,\n                        gas: gasEstimate.toNumber(),\n                    })\n                    .once(TransactionEventType.ERROR, reject)\n                    .once(TransactionEventType.CONFIRMATION, (_, receipt) => {\n                        resolve(receipt.transactionHash)\n                    }),\n        )\n    }\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\n\nexport function useWeb3<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n): Web3Helper.Web3Scope<S, T> | null {\n    const { account, chainId, providerType } = useChainContext()\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        chainId,\n        providerType,\n        ...options,\n    })\n\n    const web3 = useMemo(() => {\n        return Web3.getWeb3()\n    }, [Web3])\n\n    return web3 || null\n}\n","import { useQuery } from '@tanstack/react-query'\nimport { AAVEProtocol } from '../../protocols/AAVEProtocol.js'\nimport type { SavingsProtocol } from '../../types.js'\nimport { useChainContext, useWeb3 } from '@masknet/web3-hooks-base'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { ChainId } from '@masknet/web3-shared-evm'\n\nexport function useApr(protocol: SavingsProtocol, enabled: boolean) {\n    const isAAve = protocol instanceof AAVEProtocol\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>({ chainId: ChainId.Mainnet })\n    const web3 = useWeb3(NetworkPluginID.PLUGIN_EVM, { chainId })\n    return useQuery({\n        queryKey: ['savings', 'apr', chainId, isAAve ? protocol.bareToken.address : 'lido'],\n        enabled: enabled && !!web3,\n        queryFn: () => protocol.getApr(chainId, web3!),\n    })\n}\n\nexport function useBalance(protocol: SavingsProtocol, enabled: boolean) {\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const web3 = useWeb3(NetworkPluginID.PLUGIN_EVM, { chainId })\n    return useQuery({\n        queryKey: ['savings', 'balance', chainId, protocol.bareToken.address, account],\n        enabled: enabled && !!web3,\n        queryFn: () => protocol.getBalance(chainId, web3!, account),\n    })\n}\n","// @ts-nocheck\n/* eslint-disable */\nimport { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nfunction createProxy(initValue: (key: string) => any) {\n    function define(key: string) {\n        const value = initValue(key);\n        Object.defineProperty(container, key, { value, configurable: true });\n        return value;\n    }\n    const container = {\n        __proto__: new Proxy({ __proto__: null }, {\n            get(_, key) {\n                if (typeof key === \"symbol\")\n                    return undefined;\n                return define(key);\n            }\n        })\n    };\n    return new Proxy(container, {\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, key) => {\n            if (typeof key === \"symbol\")\n                return undefined;\n            if (!(key in container))\n                define(key);\n            return Object.getOwnPropertyDescriptor(container, key);\n        }\n    });\n}\nexport function useSavingsTrans(): {\n    /**\n      * `Savings`\n      */\n    plugin_savings(): string;\n    /**\n      * `Asset`\n      */\n    plugin_savings_asset(): string;\n    /**\n      * `APR`\n      */\n    plugin_savings_apr(): string;\n    /**\n      * `Wallet`\n      */\n    plugin_savings_wallet(): string;\n    /**\n      * `Operation`\n      */\n    plugin_savings_operation(): string;\n    /**\n      * `Amount`\n      */\n    plugin_savings_amount(): string;\n    /**\n      * `Deposit`\n      */\n    plugin_savings_deposit(): string;\n    /**\n      * `Swap {{token}}`\n      */\n    plugin_savings_swap_token(options: {\n        readonly token: string;\n    }): string;\n    /**\n      * `Withdraw {{token}}`\n      */\n    plugin_savings_withdraw_token(options: {\n        readonly token: string;\n    }): string;\n    /**\n      * `Withdraw`\n      */\n    plugin_savings_withdraw(): string;\n    /**\n      * `Processing Deposit`\n      */\n    plugin_savings_process_deposit(): string;\n    /**\n      * `Processing Withdrawal`\n      */\n    plugin_savings_process_withdraw(): string;\n    /**\n      * `No deposit protocols found.`\n      */\n    plugin_savings_no_protocol(): string;\n    /**\n      * `Loading`\n      */\n    popups_loading(): string;\n    /**\n      * `Enter an amount`\n      */\n    plugin_trader_error_amount_absence(): string;\n    /**\n      * `Insufficient {{symbol}} balance`\n      */\n    plugin_trader_error_insufficient_balance(options: {\n        readonly symbol: string;\n    }): string;\n    /**\n      * `Input amount is below the minimum amount`\n      */\n    plugin_trade_error_input_amount_less_minimum_amount(): string;\n    /**\n      * `realMaskNetwork`\n      */\n    twitter_account(): string;\n    /**\n      * `masknetwork`\n      */\n    facebook_account(): string;\n    /**\n      * `Done`\n      */\n    done(): string;\n    /**\n      * `Failed`\n      */\n    failed(): string;\n    /**\n      * `Hi friends, I just deposit {{- amount}} {{symbol}} on {{chain}}. Follow @{{account}} to find more staking projects.`\n      */\n    promote_savings(options: Readonly<{\n        amount: string;\n        symbol: string;\n        chain: string;\n        account: string;\n    }>): string;\n    /**\n      * `Hi friends, I just withdrew my deposit {{- amount}} {{symbol}} on {{chain}}. Follow @{{account}} to find more staking projects.`\n      */\n    promote_withdraw(options: Readonly<{\n        amount: string;\n        symbol: string;\n        chain: string;\n        account: string;\n    }>): string;\n} { const { t } = useTranslation(\"com.savings\"); return useMemo(() => createProxy((key) => t.bind(null, key)), [t]); }\n","import { FormattedBalance, TokenIcon } from '@masknet/shared'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { useEverSeen } from '@masknet/shared-base-ui'\nimport { makeStyles } from '@masknet/theme'\nimport { useChainContext, useFungibleTokenBalance } from '@masknet/web3-hooks-base'\nimport { ZERO, formatBalance, isZero, rightShift } from '@masknet/web3-shared-base'\nimport { Button, Grid, Typography } from '@mui/material'\nimport { type BigNumber } from 'bignumber.js'\nimport { memo } from 'react'\nimport { ProtocolType, type SavingsProtocol } from '../../types.js'\nimport { ProviderIconURLs } from '../IconURL.js'\nimport { useApr, useBalance } from '../hooks/index.js'\nimport { useSavingsTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles()((theme, props) => ({\n    tableRow: {\n        display: 'flex',\n        background: theme.palette.maskColor.bg,\n        borderRadius: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n\n        '&:last-child': {\n            marginBottom: 0,\n        },\n    },\n    tableCell: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: '15px',\n        fontSize: '14px',\n    },\n    logoWrap: {\n        position: 'relative',\n        margin: '0 20px 0 0',\n    },\n    logo: {\n        width: '32px',\n        height: '32px',\n    },\n    logoMini: {\n        height: '16px',\n        position: 'absolute',\n        bottom: 0,\n        right: '-5px',\n    },\n    protocolLabel: {},\n}))\n\ninterface SavingsRowProps {\n    protocol: SavingsProtocol\n    isDeposit: boolean\n    onWithdraw?(protocol: SavingsProtocol): void\n    onDeposit?(protocol: SavingsProtocol): void\n}\n\nexport const SavingsRow = memo(function SavingsRow({ protocol, isDeposit, onWithdraw, onDeposit }: SavingsRowProps) {\n    const t = useSavingsTrans()\n    const { classes } = useStyles()\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const [seen, ref] = useEverSeen()\n\n    const { data: apr = '0.00', isFetching: isFetchingApr } = useApr(protocol, isDeposit && seen)\n    const { data: balance = ZERO, isSuccess } = useBalance(protocol, !isDeposit || seen)\n\n    if (!isDeposit && isSuccess && balance.isZero()) return null\n\n    return (\n        <Grid container spacing={0} className={classes.tableRow} ref={ref}>\n            <Grid item xs={4} className={classes.tableCell}>\n                <div className={classes.logoWrap}>\n                    <TokenIcon\n                        name={protocol.bareToken.name}\n                        address={protocol.bareToken.address}\n                        className={classes.logo}\n                        chainId={chainId}\n                    />\n                    <img src={ProviderIconURLs[protocol.type]} className={classes.logoMini} />\n                </div>\n                <div>\n                    <Typography variant=\"body1\" className={classes.protocolLabel}>\n                        {protocol.bareToken.symbol}\n                    </Typography>\n                </div>\n            </Grid>\n            {isDeposit ? (\n                <Grid item xs={2} className={classes.tableCell}>\n                    <Typography variant=\"body1\">{isFetchingApr && apr === '0.00' ? '--' : `${apr}%`}</Typography>\n                </Grid>\n            ) : null}\n            <Grid item xs={isDeposit ? 3 : 5} className={classes.tableCell}>\n                <FungibleTokenBalance isDeposit={isDeposit} protocol={protocol} protocolBalance={balance} />\n            </Grid>\n            <Grid item xs={3} className={classes.tableCell}>\n                <Button\n                    color=\"primary\"\n                    disabled={!isDeposit ? isZero(balance) : false}\n                    onClick={() => {\n                        if (!isDeposit && protocol.type === ProtocolType.Lido) {\n                            onWithdraw?.(protocol)\n                            return\n                        }\n                        onDeposit?.(protocol)\n                    }}>\n                    {isDeposit ? t.plugin_savings_deposit() : t.plugin_savings_withdraw()}\n                </Button>\n            </Grid>\n        </Grid>\n    )\n})\n\ninterface Props {\n    protocol: SavingsProtocol\n    isDeposit?: boolean\n    protocolBalance: BigNumber\n}\nfunction FungibleTokenBalance({ protocol, isDeposit, protocolBalance }: Props) {\n    const { data: tokenBalance = '0' } = useFungibleTokenBalance(\n        NetworkPluginID.PLUGIN_EVM,\n        isDeposit ? protocol.bareToken.address : '',\n        { chainId: protocol.bareToken.chainId },\n    )\n\n    return (\n        <Typography variant=\"body1\">\n            <FormattedBalance\n                value={isDeposit ? tokenBalance : protocolBalance}\n                decimals={protocol.bareToken.decimals}\n                significant={6}\n                minimumBalance={rightShift(10, protocol.bareToken.decimals - 6)}\n                formatter={formatBalance}\n            />\n        </Typography>\n    )\n}\n","import { Icons } from '@masknet/icons'\nimport { CrossIsolationMessages } from '@masknet/shared-base'\nimport { makeStyles } from '@masknet/theme'\nimport { ChainId } from '@masknet/web3-shared-evm'\nimport { Box, Grid, Typography, useTheme } from '@mui/material'\nimport { useCallback } from 'react'\nimport { LDO_PAIRS } from '../../constants.js'\nimport { TabType, type SavingsProtocol } from '../../types.js'\nimport { SavingsRow } from './SavingsRow.js'\nimport { useSavingsTrans } from '../../locales/index.js'\n\nconst useStyles = makeStyles()((theme, props) => ({\n    containerWrap: {\n        fontFamily: theme.typography.fontFamily,\n    },\n    tableContainer: {},\n    tableHeader: {\n        display: 'flex',\n        background: theme.palette.maskColor.bg,\n        borderRadius: theme.spacing(1),\n        margin: '0 0 15px 0',\n    },\n    tableCell: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: '15px',\n        fontSize: '14px',\n    },\n    placeholder: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: 300,\n        width: '100%',\n    },\n    loading: {\n        color: theme.palette.text.primary,\n        lineHeight: '18px',\n        marginTop: 12,\n    },\n    animated: {\n        '@keyframes loadingAnimation': {\n            '0%': {\n                transform: 'rotate(0deg)',\n            },\n            '100%': {\n                transform: 'rotate(360deg)',\n            },\n        },\n        animation: 'loadingAnimation 1s linear infinite',\n    },\n    empty: {\n        color: theme.palette.secondaryDivider,\n    },\n}))\n\ninterface SavingsTableProps {\n    tab: TabType\n    loadingProtocols: boolean\n    protocols: SavingsProtocol[]\n    setSelectedProtocol(protocol: SavingsProtocol): void\n}\n\nexport function SavingsTable({ tab, protocols, setSelectedProtocol, loadingProtocols }: SavingsTableProps) {\n    const t = useSavingsTrans()\n    const { classes } = useStyles()\n    const theme = useTheme()\n\n    const handleWithdraw = useCallback((protocol: SavingsProtocol) => {\n        const [ETH, sETH] = LDO_PAIRS[0]\n        CrossIsolationMessages.events.swapDialogEvent.sendToLocal({\n            open: true,\n            traderProps: {\n                defaultInputCoin: sETH,\n                defaultOutputCoin: ETH,\n                chainId: ChainId.Mainnet,\n            },\n        })\n    }, [])\n\n    const isDeposit = tab === TabType.Deposit\n\n    return (\n        <Box className={classes.containerWrap}>\n            <Grid container spacing={0} className={classes.tableHeader}>\n                <Grid item xs={4} className={classes.tableCell}>\n                    <Typography variant=\"body1\">{t.plugin_savings_asset()}</Typography>\n                </Grid>\n                {isDeposit ? (\n                    <Grid item xs={2} className={classes.tableCell}>\n                        <Typography variant=\"body1\"> {t.plugin_savings_apr()}</Typography>\n                    </Grid>\n                ) : null}\n                <Grid item xs={isDeposit ? 3 : 5} className={classes.tableCell}>\n                    <Typography variant=\"body1\">{t.plugin_savings_wallet()}</Typography>\n                </Grid>\n                <Grid item xs={3} className={classes.tableCell}>\n                    <Typography variant=\"body1\">{t.plugin_savings_operation()}</Typography>\n                </Grid>\n            </Grid>\n\n            {loadingProtocols ? (\n                <div className={classes.placeholder}>\n                    <Icons.CircleLoading size={36} className={classes.animated} />\n                    <Typography className={classes.loading}>{t.popups_loading()}</Typography>\n                </div>\n            ) : protocols.length ? (\n                <div className={classes.tableContainer}>\n                    {protocols.map((protocol, index) => (\n                        <SavingsRow\n                            key={index}\n                            protocol={protocol}\n                            isDeposit={isDeposit}\n                            onWithdraw={handleWithdraw}\n                            onDeposit={setSelectedProtocol}\n                        />\n                    ))}\n                </div>\n            ) : (\n                <div className={classes.placeholder}>\n                    <Icons.EmptySimple size={36} className={classes.empty} />\n                    <Typography fontSize=\"14px\" mt={1.5} color={theme.palette.maskColor.second}>\n                        {t.plugin_savings_no_protocol()}\n                    </Typography>\n                </div>\n            )}\n        </Box>\n    )\n}\n","import { useMemo, useState } from 'react'\nimport { useAsync, useAsyncFn } from 'react-use'\nimport { useQueryClient } from '@tanstack/react-query'\nimport { BigNumber } from 'bignumber.js'\nimport type { AbiItem } from 'web3-utils'\nimport {\n    ActionButtonPromise,\n    EthereumERC20TokenApprovedBoundary,\n    FormattedCurrency,\n    FungibleTokenInput,\n    InjectedDialog,\n    PluginWalletStatusBar,\n    TokenIcon,\n    WalletConnectedBoundary,\n    useOpenShareTxDialog,\n} from '@masknet/shared'\nimport { NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport { LoadingBase, makeStyles } from '@masknet/theme'\nimport AaveLendingPoolAddressProviderABI from '@masknet/web3-contracts/abis/AaveLendingPoolAddressProvider.json'\nimport type { AaveLendingPoolAddressProvider } from '@masknet/web3-contracts/types/AaveLendingPoolAddressProvider.js'\nimport {\n    useChainContext,\n    useFungibleTokenBalance,\n    useFungibleTokenPrice,\n    useNativeToken,\n} from '@masknet/web3-hooks-base'\nimport {\n    ZERO,\n    formatBalance,\n    formatCurrency,\n    isLessThan,\n    isLessThanOrEqualTo,\n    isPositive,\n    isZero,\n    rightShift,\n} from '@masknet/web3-shared-base'\nimport { share } from '@masknet/plugin-infra/content-script/context'\nimport { Contract, Others, Web3, ChainResolver } from '@masknet/web3-providers'\nimport { SchemaType, getAaveConstant, isNativeTokenAddress } from '@masknet/web3-shared-evm'\nimport { DialogActions, DialogContent, Typography } from '@mui/material'\nimport { ProtocolType, TabType, type SavingsProtocol } from '../types.js'\nimport { useApr, useBalance } from './hooks/index.js'\nimport { useSavingsTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme, props) => ({\n    containerWrap: {\n        padding: 0,\n        fontFamily: theme.typography.fontFamily,\n    },\n    inputWrap: {\n        position: 'relative',\n        width: '100%',\n        margin: theme.spacing(1.25, 0),\n    },\n    tokenValueUSD: {\n        padding: '0 0 10px 0',\n    },\n    infoRow: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '0 0 15px 0',\n    },\n    infoRowLeft: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    infoRowRight: {\n        fontWeight: 'bold',\n    },\n    rowImage: {\n        width: '24px',\n        height: '24px',\n        margin: '0 5px 0 0',\n    },\n    button: { width: '100%' },\n    connectWallet: {\n        marginTop: 0,\n    },\n    gasFee: {\n        padding: '0 0 0 5px',\n        fontSize: 11,\n        opacity: 0.5,\n    },\n}))\n\ninterface SavingsFormDialogProps {\n    chainId: number\n    protocol: SavingsProtocol\n    tab: TabType\n    onClose?: () => void\n}\n\nexport function SavingsFormDialog({ chainId, protocol, tab, onClose }: SavingsFormDialogProps) {\n    const t = useSavingsTrans()\n    const { classes } = useStyles()\n    const isDeposit = tab === TabType.Deposit\n    const { account, chainId: currentChainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const [inputAmount, setInputAmount] = useState('')\n    const [estimatedGas, setEstimatedGas] = useState<BigNumber.Value>(ZERO)\n    const { data: nativeToken } = useNativeToken<'all'>(NetworkPluginID.PLUGIN_EVM, {\n        chainId,\n    })\n    const { data: nativeTokenBalance } = useFungibleTokenBalance(NetworkPluginID.PLUGIN_EVM, nativeToken?.address, {\n        chainId,\n    })\n\n    // #region form variables\n    const { data: inputTokenBalance } = useFungibleTokenBalance(\n        NetworkPluginID.PLUGIN_EVM,\n        protocol.bareToken.address,\n        { chainId },\n    )\n    const tokenAmount = useMemo(\n        () => new BigNumber(rightShift(inputAmount || '0', protocol.bareToken.decimals)),\n        [inputAmount, protocol.bareToken.decimals],\n    )\n    const { data: apr = '0.00' } = useApr(protocol, true)\n    const { data: balance = ZERO } = useBalance(protocol, true)\n    const balanceAsBN = useMemo(\n        () => (isDeposit ? new BigNumber(inputTokenBalance || '0') : balance),\n        [isDeposit, balance, inputTokenBalance],\n    )\n\n    const balanceGasMinus = Others.isNativeTokenAddress(protocol.bareToken.address)\n        ? balanceAsBN.minus(estimatedGas)\n        : balanceAsBN\n\n    const needsSwap = protocol.type === ProtocolType.Lido && !isDeposit\n\n    const { loading } = useAsync(async () => {\n        if (isLessThanOrEqualTo(tokenAmount, 0)) return\n        try {\n            setEstimatedGas(\n                isDeposit\n                    ? await protocol.depositEstimate(account, chainId, Web3.getWeb3({ chainId }), tokenAmount)\n                    : await protocol.withdrawEstimate(account, chainId, Web3.getWeb3({ chainId }), tokenAmount),\n            )\n        } catch {\n            // do nothing\n            console.error('Failed to estimate gas')\n        }\n    }, [chainId, isDeposit, protocol, tokenAmount])\n    // #endregion\n\n    // #region form validation\n    const validationMessage = useMemo(() => {\n        if (needsSwap) return ''\n        if (tokenAmount.isZero() || !inputAmount) return t.plugin_trader_error_amount_absence()\n        if (isLessThan(tokenAmount, 0)) return t.plugin_trade_error_input_amount_less_minimum_amount()\n        if (isLessThan(balanceGasMinus, tokenAmount)) {\n            return t.plugin_trader_error_insufficient_balance({\n                symbol: isDeposit ? protocol.bareToken.symbol : protocol.stakeToken.symbol,\n            })\n        }\n        return ''\n    }, [inputAmount, tokenAmount, nativeTokenBalance, balanceGasMinus, isDeposit])\n\n    const { data: tokenPrice = 0 } = useFungibleTokenPrice(\n        NetworkPluginID.PLUGIN_EVM,\n        !isNativeTokenAddress(protocol.bareToken.address) ? protocol.bareToken.address : nativeToken?.address,\n        { chainId },\n    )\n\n    const tokenValueUSD = useMemo(\n        () => (inputAmount ? new BigNumber(inputAmount).times(tokenPrice).toFixed(2) : '0'),\n        [inputAmount, tokenPrice],\n    )\n    // #endregion\n\n    const { value: approvalData } = useAsync(async () => {\n        const aavePoolAddress = getAaveConstant(chainId, 'AAVE_LENDING_POOL_ADDRESSES_PROVIDER_CONTRACT_ADDRESS')\n        if (!aavePoolAddress) return\n\n        const lPoolAddressProviderContract = Contract.getWeb3Contract<AaveLendingPoolAddressProvider>(\n            aavePoolAddress,\n            AaveLendingPoolAddressProviderABI as AbiItem[],\n        )\n\n        const token = protocol.bareToken\n\n        return {\n            approveToken: token.schema === SchemaType.ERC20 ? token : undefined,\n            approveAmount: new BigNumber(inputAmount).shiftedBy(token.decimals),\n            approveAddress: await lPoolAddressProviderContract?.methods.getLendingPool().call(),\n        }\n    }, [chainId, protocol.bareToken, inputAmount])\n\n    const openShareTxDialog = useOpenShareTxDialog()\n    const promote = {\n        amount: inputAmount,\n        symbol: protocol.bareToken.symbol,\n        chain: ChainResolver.chainName(chainId) ?? '',\n        account: Sniffings.is_twitter_page ? t.twitter_account() : t.facebook_account(),\n    }\n    const shareText = isDeposit ? t.promote_savings(promote) : t.promote_withdraw(promote)\n    const queryClient = useQueryClient()\n    const [, executor] = useAsyncFn(async () => {\n        const methodName = isDeposit ? 'deposit' : 'withdraw'\n        if (chainId !== currentChainId) await Web3.switchChain?.(chainId)\n        const hash = await protocol[methodName](account, chainId, Web3.getWeb3({ chainId }), tokenAmount)\n        if (typeof hash !== 'string') {\n            throw new Error('Failed to deposit token.')\n        } else {\n            queryClient.invalidateQueries(['savings', 'balance', chainId, protocol.bareToken.address, account])\n        }\n        await openShareTxDialog({\n            hash,\n            onShare() {\n                share?.(shareText)\n            },\n        })\n    }, [isDeposit, protocol, account, chainId, tokenAmount, openShareTxDialog, currentChainId])\n\n    const buttonDom = useMemo(() => {\n        return (\n            <WalletConnectedBoundary\n                expectedChainId={chainId}\n                ActionButtonProps={{ color: 'primary', classes: { root: classes.button } }}\n                classes={{ connectWallet: classes.connectWallet, button: classes.button }}>\n                {isDeposit ? (\n                    inputTokenBalance && !isZero(inputTokenBalance) ? (\n                        <EthereumERC20TokenApprovedBoundary\n                            amount={approvalData?.approveAmount.toFixed() ?? ''}\n                            token={approvalData?.approveToken}\n                            spender={approvalData?.approveAddress}>\n                            <ActionButtonPromise\n                                className={classes.button}\n                                init={validationMessage || t.plugin_savings_deposit() + ' ' + protocol.bareToken.symbol}\n                                waiting={t.plugin_savings_process_deposit()}\n                                failed={t.failed()}\n                                failedOnClick=\"use executor\"\n                                complete={t.done()}\n                                disabled={validationMessage !== '' && !needsSwap}\n                                noUpdateEffect\n                                executor={executor}\n                            />\n                        </EthereumERC20TokenApprovedBoundary>\n                    ) : (\n                        <ActionButtonPromise\n                            className={classes.button}\n                            init={validationMessage || t.plugin_savings_deposit() + ' ' + protocol.bareToken.symbol}\n                            waiting={t.plugin_savings_process_deposit()}\n                            failed={t.failed()}\n                            failedOnClick=\"use executor\"\n                            complete={t.done()}\n                            disabled={validationMessage !== '' && !needsSwap}\n                            noUpdateEffect\n                            executor={executor}\n                        />\n                    )\n                ) : (\n                    <ActionButtonPromise\n                        init={\n                            needsSwap\n                                ? t.plugin_savings_swap_token({ token: protocol.bareToken.symbol })\n                                : validationMessage ||\n                                  t.plugin_savings_withdraw_token({ token: protocol.stakeToken.symbol })\n                        }\n                        waiting={t.plugin_savings_process_withdraw()}\n                        failed={t.failed()}\n                        failedOnClick=\"use executor\"\n                        className={classes.button}\n                        complete={t.done()}\n                        disabled={validationMessage !== ''}\n                        noUpdateEffect\n                        executor={executor}\n                    />\n                )}\n            </WalletConnectedBoundary>\n        )\n    }, [executor, validationMessage, needsSwap, protocol, isDeposit, approvalData, chainId, inputTokenBalance])\n    return (\n        <InjectedDialog\n            title={isDeposit ? t.plugin_savings_deposit() : t.plugin_savings_withdraw()}\n            open\n            onClose={onClose}>\n            <DialogContent className={classes.containerWrap}>\n                <div style={{ padding: '0 15px' }}>\n                    {needsSwap ? null : (\n                        <>\n                            <div className={classes.inputWrap}>\n                                <FungibleTokenInput\n                                    amount={inputAmount}\n                                    maxAmount={balanceGasMinus.toString()}\n                                    balance={balanceAsBN.toString()}\n                                    label={t.plugin_savings_amount()}\n                                    token={protocol.bareToken}\n                                    onAmountChange={setInputAmount}\n                                />\n                            </div>\n\n                            {loading ? (\n                                <Typography variant=\"body2\" textAlign=\"right\" className={classes.tokenValueUSD}>\n                                    <LoadingBase width={16} height={16} />\n                                </Typography>\n                            ) : (\n                                <Typography variant=\"body2\" textAlign=\"right\" className={classes.tokenValueUSD}>\n                                    &asymp; <FormattedCurrency value={tokenValueUSD} formatter={formatCurrency} />\n                                    {isPositive(estimatedGas) ? (\n                                        <span className={classes.gasFee}>+ {formatBalance(estimatedGas, 18)} ETH</span>\n                                    ) : (\n                                        <span />\n                                    )}\n                                </Typography>\n                            )}\n                        </>\n                    )}\n\n                    <div className={classes.infoRow}>\n                        <Typography variant=\"body2\" component=\"div\" className={classes.infoRowLeft}>\n                            <TokenIcon\n                                className={classes.rowImage}\n                                address={protocol.bareToken.address}\n                                logoURL={protocol.bareToken.logoURL}\n                                chainId={protocol.bareToken.chainId}\n                                name={protocol.bareToken.name}\n                            />\n                            {protocol.bareToken.name} {t.plugin_savings_apr()}%\n                        </Typography>\n                        <Typography variant=\"body2\" className={classes.infoRowRight}>\n                            {apr}%\n                        </Typography>\n                    </div>\n                </div>\n            </DialogContent>\n            <DialogActions style={{ padding: 0, position: 'sticky', bottom: 0 }}>\n                <PluginWalletStatusBar>{buttonDom}</PluginWalletStatusBar>\n            </DialogActions>\n        </InjectedDialog>\n    )\n}\n","import type { AbiItem } from 'web3-utils'\nimport { BigNumber } from 'bignumber.js'\nimport {\n    type ChainId,\n    type Web3,\n    createContract,\n    TransactionEventType,\n    ZERO_ADDRESS,\n    getLidoConstant,\n} from '@masknet/web3-shared-evm'\nimport { ZERO } from '@masknet/web3-shared-base'\nimport type { Lido } from '@masknet/web3-contracts/types/Lido.js'\nimport { Lido as LidoAPI } from '@masknet/web3-providers'\nimport LidoABI from '@masknet/web3-contracts/abis/Lido.json'\nimport { ProtocolType, type SavingsProtocol, type TokenPair } from '../types.js'\n\nexport class LidoProtocol implements SavingsProtocol {\n    readonly type = ProtocolType.Lido\n\n    constructor(readonly pair: TokenPair) {}\n\n    get bareToken() {\n        return this.pair[0]\n    }\n\n    get stakeToken() {\n        return this.pair[1]\n    }\n\n    async getApr(chainId: ChainId, web3: Web3) {\n        try {\n            return LidoAPI.getStEthAPR()\n        } catch {\n            // the default APR is 5.30%\n            return '5.30'\n        }\n    }\n    async getBalance(chainId: ChainId, web3: Web3, account: string) {\n        try {\n            const contract = createContract<Lido>(\n                web3,\n                getLidoConstant(chainId, 'LIDO_stETH_ADDRESS'),\n                LidoABI as AbiItem[],\n            )\n            return new BigNumber((await contract?.methods.balanceOf(account).call()) ?? 0)\n        } catch {}\n        return ZERO\n    }\n\n    public async depositEstimate(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        try {\n            const contract = createContract<Lido>(\n                web3,\n                getLidoConstant(chainId, 'LIDO_stETH_ADDRESS'),\n                LidoABI as AbiItem[],\n            )\n            const gasEstimate = await contract?.methods\n                .submit(getLidoConstant(chainId, 'LIDO_REFERRAL_ADDRESS') || ZERO_ADDRESS)\n                .estimateGas({\n                    from: account,\n                    // it's a BigNumber so it's ok\n                    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n                    value: value.toString(),\n                })\n\n            return new BigNumber(gasEstimate || 0)\n        } catch (error) {\n            console.error('LDO `depositEstimate()` Error', error)\n            return new BigNumber(0)\n        }\n    }\n\n    public async deposit(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        const gasEstimate = await this.depositEstimate(account, chainId, web3, value)\n        return new Promise<string>((resolve, reject) => {\n            const contract = createContract<Lido>(\n                web3,\n                getLidoConstant(chainId, 'LIDO_stETH_ADDRESS'),\n                LidoABI as AbiItem[],\n            )\n            return contract?.methods\n                .submit(getLidoConstant(chainId, 'LIDO_REFERRAL_ADDRESS') || ZERO_ADDRESS)\n                .send({\n                    from: account,\n                    // it's a BigNumber so it's ok\n                    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n                    value: value.toString(),\n                    gas: gasEstimate.toNumber(),\n                })\n                .once(TransactionEventType.ERROR, reject)\n                .once(TransactionEventType.CONFIRMATION, (_, receipt) => {\n                    resolve(receipt.transactionHash)\n                })\n        })\n    }\n\n    public async withdrawEstimate(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        return ZERO\n    }\n\n    public async withdraw(account: string, chainId: ChainId, web3: Web3, value: BigNumber.Value) {\n        /*\n         * @TODO: Implement withdraw when stETH Beacon Chain allows for withdraws\n         *\n         * Review: https://github.com/lidofinance/lido-dao when ETH 2.0 is implemented.\n         *\n         * For now, just redirect to swap plugin\n         *\n         * await contract.methods\n         *     .withdraw(inputTokenTradeAmount, '0x0000000000000000000000000000000000000000')\n         *     .send({\n         *         from: account,\n         *         gasLimit: 2100000,\n         *     })\n         */\n        return '0x'\n    }\n}\n","import { useMemo, useState } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { chunk, compact, flatten } from 'lodash-es'\nimport type { AbiItem } from 'web3-utils'\nimport { DialogActions, DialogContent, Tab } from '@mui/material'\nimport { TabContext, TabPanel } from '@mui/lab'\nimport {\n    Web3ContextProvider,\n    useFungibleTokens,\n    RevokeChainContextProvider,\n    ChainContextProvider,\n    useChainContext,\n} from '@masknet/web3-hooks-base'\nimport { EMPTY_LIST, NetworkPluginID } from '@masknet/shared-base'\nimport { makeStyles, MaskTabList, useTabs } from '@masknet/theme'\nimport { ChainId, getAaveConstant } from '@masknet/web3-shared-evm'\nimport { InjectedDialog, PluginWalletStatusBar, NetworkTab } from '@masknet/shared'\nimport { AllProviderTradeContext } from '@masknet/plugin-trader'\nimport { Contract } from '@masknet/web3-providers'\nimport type { AaveProtocolDataProvider } from '@masknet/web3-contracts/types/AaveProtocolDataProvider.js'\nimport AaveProtocolDataProviderABI from '@masknet/web3-contracts/abis/AaveProtocolDataProvider.json'\nimport { type SavingsProtocol, TabType, type TokenPair } from '../types.js'\nimport { SavingsTable } from './SavingsTable/index.js'\nimport { SavingsFormDialog } from './SavingsForm.js'\nimport { LidoProtocol } from '../protocols/LDOProtocol.js'\nimport { AAVEProtocol } from '../protocols/AAVEProtocol.js'\nimport { LDO_PAIRS } from '../constants.js'\nimport { useSavingsTrans } from '../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    abstractTabWrapper: {\n        width: '100%',\n        paddingBottom: theme.spacing(2),\n        position: 'sticky',\n        top: 0,\n        zIndex: 2,\n    },\n    tableTabWrapper: {\n        padding: theme.spacing(1, 2),\n    },\n    content: {\n        padding: 0,\n        '::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n    dialogRoot: {\n        height: 620,\n        minWidth: 400,\n        width: 600,\n        boxShadow: 'none',\n        backgroundImage: 'none',\n        maxWidth: 'none',\n    },\n}))\n\ninterface SavingsDialogProps {\n    open: boolean\n    onClose?: () => void\n}\n\nconst chains = [ChainId.Mainnet]\n\nexport function SavingsDialog({ open, onClose }: SavingsDialogProps) {\n    const t = useSavingsTrans()\n    const { classes } = useStyles()\n\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>({ chainId: ChainId.Mainnet })\n    const [selectedProtocol, setSelectedProtocol] = useState<SavingsProtocol | null>(null)\n\n    const { data: aaveTokens, isLoading: loadingAAve } = useQuery({\n        enabled: open && chainId === ChainId.Mainnet,\n        queryKey: ['savings', 'aave', 'tokens', chainId],\n        queryFn: async () => {\n            const address = getAaveConstant(chainId, 'AAVE_PROTOCOL_DATA_PROVIDER_CONTRACT_ADDRESS')\n            if (!address) return EMPTY_LIST\n\n            const protocolDataContract = Contract.getWeb3Contract<AaveProtocolDataProvider>(\n                address,\n                AaveProtocolDataProviderABI as AbiItem[],\n                {\n                    chainId,\n                },\n            )\n\n            const [tokens, aTokens] = await Promise.all([\n                protocolDataContract?.methods.getAllReservesTokens().call(),\n                protocolDataContract?.methods.getAllATokens().call(),\n            ])\n\n            if (!tokens) return EMPTY_LIST\n            return tokens.map((token) => {\n                return [token[1], aTokens?.find((f) => f[0].toUpperCase() === `a${token[0]}`.toUpperCase())?.[1]]\n            })\n        },\n        staleTime: 300_000,\n    })\n\n    const { value: detailedAaveTokens = EMPTY_LIST, loading: loadingAAveDetails } = useFungibleTokens(\n        NetworkPluginID.PLUGIN_EVM,\n        compact(flatten(aaveTokens ?? [])),\n        {\n            chainId,\n        },\n    )\n\n    const loadingProtocols = loadingAAve || loadingAAveDetails || !detailedAaveTokens.length\n\n    const protocols = useMemo(\n        () => [\n            ...LDO_PAIRS.filter((x) => x[0].chainId === chainId).map((pair) => new LidoProtocol(pair)),\n            ...chunk(detailedAaveTokens, 2).map((pair) => new AAVEProtocol(pair as TokenPair)),\n        ],\n        [chainId, detailedAaveTokens],\n    )\n\n    const [currentTab, onChange, tabs] = useTabs(TabType.Deposit, TabType.Withdraw)\n\n    return (\n        <Web3ContextProvider value={{ pluginID: NetworkPluginID.PLUGIN_EVM, chainId: ChainId.Mainnet }}>\n            <AllProviderTradeContext.Provider>\n                <ChainContextProvider value={{ chainId }}>\n                    <TabContext value={currentTab}>\n                        <InjectedDialog\n                            open={open}\n                            classes={{ paper: classes.dialogRoot }}\n                            title={t.plugin_savings()}\n                            onClose={() => {\n                                onClose?.()\n                                setSelectedProtocol(null)\n                            }}\n                            titleTabs={\n                                <MaskTabList variant=\"base\" onChange={onChange} aria-label=\"Savings\">\n                                    <Tab label={t.plugin_savings_deposit()} value={tabs.deposit} />\n                                    <Tab label={t.plugin_savings_withdraw()} value={tabs.withdraw} />\n                                </MaskTabList>\n                            }>\n                            <DialogContent className={classes.content}>\n                                <div className={classes.abstractTabWrapper}>\n                                    <NetworkTab\n                                        requireChains\n                                        chains={chains.filter(Boolean)}\n                                        pluginID={NetworkPluginID.PLUGIN_EVM}\n                                    />\n                                </div>\n                                <div className={classes.tableTabWrapper}>\n                                    <TabPanel style={{ padding: '8px 0 0 0' }} value={tabs.deposit}>\n                                        <SavingsTable\n                                            loadingProtocols={loadingProtocols}\n                                            tab={TabType.Deposit}\n                                            protocols={protocols}\n                                            setSelectedProtocol={setSelectedProtocol}\n                                        />\n                                    </TabPanel>\n                                    <TabPanel style={{ padding: '8px 0 0 0' }} value={tabs.withdraw}>\n                                        <SavingsTable\n                                            loadingProtocols={loadingProtocols}\n                                            tab={TabType.Withdraw}\n                                            protocols={protocols}\n                                            setSelectedProtocol={setSelectedProtocol}\n                                        />\n                                    </TabPanel>\n                                </div>\n                            </DialogContent>\n\n                            <DialogActions style={{ padding: 0, position: 'sticky', bottom: 0 }}>\n                                <PluginWalletStatusBar />\n                            </DialogActions>\n                        </InjectedDialog>\n                    </TabContext>\n                </ChainContextProvider>\n                {selectedProtocol ? (\n                    <RevokeChainContextProvider>\n                        <SavingsFormDialog\n                            tab={currentTab}\n                            chainId={chainId}\n                            protocol={selectedProtocol}\n                            onClose={() => setSelectedProtocol(null)}\n                        />\n                    </RevokeChainContextProvider>\n                ) : null}\n            </AllProviderTradeContext.Provider>\n        </Web3ContextProvider>\n    )\n}\n","import { useState } from 'react'\nimport { Trans } from 'react-i18next'\nimport type { Plugin } from '@masknet/plugin-infra'\nimport { ApplicationEntry } from '@masknet/shared'\nimport { Icons } from '@masknet/icons'\nimport { base } from '../base.js'\nimport { SavingsDialog } from './SavingsDialog.js'\nimport { PluginID } from '@masknet/shared-base'\n\nconst site: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    init(signal) {},\n    ApplicationEntries: [\n        (() => {\n            const icon = <Icons.Savings size={36} />\n            const name = <Trans i18nKey=\"plugin_savings\" ns={PluginID.Savings} />\n            const iconFilterColor = 'rgba(255, 83, 146, 0.3)'\n            return {\n                ApplicationEntryID: base.ID,\n                RenderEntryComponent(EntryComponentProps) {\n                    const [open, setOpen] = useState(false)\n                    const clickHandler = () => setOpen(true)\n                    return (\n                        <>\n                            <ApplicationEntry\n                                {...EntryComponentProps}\n                                title={name}\n                                iconFilterColor={iconFilterColor}\n                                icon={icon}\n                                onClick={\n                                    EntryComponentProps.onClick\n                                        ? () => EntryComponentProps.onClick?.(clickHandler)\n                                        : clickHandler\n                                }\n                            />\n                            {open ? <SavingsDialog open onClose={() => setOpen(false)} /> : null}\n                        </>\n                    )\n                },\n                appBoardSortingDefaultPriority: 10,\n                icon,\n                name,\n                iconFilterColor,\n            }\n        })(),\n    ],\n}\n\nexport default site\n","import { useState, type RefObject, useEffect, useRef } from 'react'\nimport { useIntersection } from 'react-use'\n\nexport function useEverSeen<E = HTMLDivElement>(): [boolean, RefObject<E>] {\n    const ref = useRef(null)\n    const [seen, setSeen] = useState(false)\n    const nullRef = useRef(null)\n    const entry = useIntersection(seen ? nullRef : ref, {})\n    useEffect(() => {\n        if (entry?.isIntersecting) setSeen(true)\n    }, [entry?.isIntersecting])\n\n    return [seen, ref]\n}\n","import { defer, delay, type DeferTuple } from '@masknet/kit'\nimport { Emitter } from '@servie/events'\n\nexport type SingletonModalRefCreator<OpenProps = void, CloseProps = void> = (\n    onOpen: (props: OpenProps) => void,\n    onClose: (props: CloseProps) => void,\n    onAbort: (error: Error) => void,\n) => {\n    peek: () => boolean\n    open: (props: OpenProps) => void\n    close: (props: CloseProps) => void\n    abort?: (error: Error) => void\n}\n\nexport interface SingletonModalProps {\n    children: React.ReactNode\n}\n\nexport class SingletonModal<\n    OpenProps = void,\n    CloseProps = void,\n    T extends SingletonModalRefCreator<OpenProps, CloseProps> = SingletonModalRefCreator<OpenProps, CloseProps>,\n> {\n    constructor() {\n        this.open = this.open.bind(this)\n        this.close = this.close.bind(this)\n        this.abort = this.abort.bind(this)\n        this.openAndWaitForClose = this.openAndWaitForClose.bind(this)\n    }\n    readonly emitter = new Emitter<{\n        open: [OpenProps]\n        close: [CloseProps]\n        abort: [Error]\n    }>()\n\n    protected onOpen: ReturnType<T>['open'] | undefined\n    protected onClose: ReturnType<T>['close'] | undefined\n    protected onAbort: ReturnType<T>['abort'] | undefined\n\n    private dispatchPeek: ReturnType<T>['peek'] | undefined\n    private dispatchOpen: ReturnType<T>['open'] | undefined\n    private dispatchClose: ReturnType<T>['close'] | undefined\n    private dispatchAbort: ReturnType<T>['abort'] | undefined\n\n    /**\n     * Register a React modal component that implemented a forwarded ref.\n     * The ref item should be fed with open and close methods.\n     */\n    register = (creator: T | null) => {\n        if (!creator) {\n            this.dispatchOpen = undefined\n            this.dispatchClose = undefined\n            this.dispatchAbort = undefined\n            return\n        }\n\n        const ref = creator(\n            (props) => {\n                this.onOpen?.(props)\n                this.emitter.emit('open', props)\n            },\n            (props) => {\n                this.onClose?.(props)\n                this.emitter.emit('close', props)\n            },\n            (error) => {\n                this.onAbort?.(error)\n                this.emitter.emit('abort', error)\n            },\n        )\n        this.dispatchPeek = ref.peek\n        this.dispatchOpen = ref.open\n        this.dispatchClose = ref.close\n        this.dispatchAbort = ref.abort\n    }\n\n    /**\n     * Peek the open state of the React modal component.\n     */\n    peek() {\n        return this.dispatchPeek?.() ?? false\n    }\n\n    /**\n     * Open the registered modal component with props\n     * @param props\n     */\n    open(props: OpenProps) {\n        if (typeof this.dispatchOpen === 'undefined') console.warn(\"[SingletonModal]: The modal hasn't registered yet.\")\n        this.dispatchOpen?.(props)\n    }\n\n    /**\n     * Close the registered modal component with props\n     * @param props\n     */\n    close(props: CloseProps) {\n        this.dispatchClose?.(props)\n    }\n\n    /**\n     * Abort the registered modal component with Error\n     */\n    abort(error: Error) {\n        this.dispatchAbort?.(error)\n    }\n\n    /**\n     * Open the registered modal component and wait for it closes\n     * @param props\n     */\n    openAndWaitForClose(props: OpenProps): Promise<CloseProps> {\n        return new Promise<CloseProps>((resolve, reject) => {\n            this.open(props)\n            this.onClose = (props) => resolve(props)\n            this.onAbort = (error) => reject(error)\n        })\n    }\n}\n\nexport class SingletonModalQueued<OpenProps = void, CloseProps = void> extends SingletonModal<OpenProps, CloseProps> {\n    private opened = false\n    private tasks: Array<{\n        props: OpenProps\n        defer?: DeferTuple<CloseProps, Error>\n    }> = []\n\n    constructor() {\n        super()\n\n        this.emitter.on('open', () => {\n            this.opened = true\n        })\n        this.emitter.on('close', () => {\n            this.opened = false\n            this.cleanup()\n        })\n        this.emitter.on('abort', () => {\n            this.opened = false\n            this.cleanup()\n        })\n    }\n\n    override open(props: OpenProps) {\n        if (!this.opened) {\n            super.open(props)\n            return\n        }\n\n        this.tasks.push({\n            props,\n        })\n    }\n\n    override close(props: CloseProps) {\n        if (!this.opened) return\n\n        super.close(props)\n    }\n\n    override openAndWaitForClose(props: OpenProps) {\n        if (!this.opened) return super.openAndWaitForClose(props)\n\n        const d = defer<CloseProps, Error>()\n        this.tasks.push({\n            props,\n            defer: d,\n        })\n        return d[0]\n    }\n\n    private async cleanup() {\n        if (this.opened || !this.tasks.length) return\n\n        await delay(300)\n\n        const { props, defer } = this.tasks.shift()!\n\n        this.open(props)\n        if (!defer) return\n        this.onClose = (props) => defer[1](props)\n        this.onAbort = (error) => defer[2](error)\n    }\n}\n","import { useState } from 'react'\nimport { CircularProgress } from '@mui/material'\nimport { makeStyles, ActionButton } from '@masknet/theme'\nimport type { ButtonProps } from '@mui/material/Button'\nimport { Check as CheckIcon, Error as ErrorIcon } from '@mui/icons-material'\nimport { red, green } from '@mui/material/colors'\nimport { useUpdateEffect } from 'react-use'\n\nconst circle = <CircularProgress color=\"inherit\" size={18} />\n\nexport interface ActionButtonPromiseProps extends ButtonProps {\n    executor: () => Promise<ActionButtonPromiseState | undefined | void>\n    init: React.ReactNode\n    complete: React.ReactNode\n    completeOnClick?: 'use executor' | (() => void)\n    waiting: React.ReactNode\n    waitingOnClick?: () => ActionButtonPromiseState\n    failed?: React.ReactNode\n    failedButtonStyle?: string\n    failedOnClick?: 'use executor' | (() => void)\n    completeIcon?: React.ReactNode\n    failIcon?: React.ReactNode\n    waitingIcon?: React.ReactNode\n    onComplete?: () => void\n    noUpdateEffect?: boolean\n}\ntype ActionButtonPromiseState = 'init' | 'complete' | 'wait' | 'fail'\nexport function ActionButtonPromise(props: ActionButtonPromiseProps) {\n    const { classes, cx } = useStyles()\n    const {\n        executor,\n        complete,\n        failed,\n        waiting,\n        init,\n        completeOnClick,\n        waitingOnClick,\n        failedOnClick,\n        onComplete,\n        noUpdateEffect,\n        completeIcon = <CheckIcon />,\n        failIcon = <ErrorIcon />,\n        waitingIcon = circle,\n        failedButtonStyle,\n        ...b\n    } = props\n\n    const [state, setState] = useState<ActionButtonPromiseState>('init')\n    const completeClass = cx(classes.success, b.className)\n    const failClass = cx(classes.failed, b.className)\n\n    const run = () => {\n        setState('wait')\n        executor().then(\n            (status?: ActionButtonPromiseState | void) => {\n                setState(status ?? 'complete')\n                onComplete?.()\n            },\n            (error) => {\n                if (error.message.includes('Switch Chain Error')) setState('init')\n                else setState('fail')\n            },\n        )\n    }\n    const cancel = () => {\n        const p = waitingOnClick?.()\n        p && setState(p)\n    }\n    const completeClick = completeOnClick === 'use executor' ? run : completeOnClick\n    const failClick = failedOnClick === 'use executor' ? run : failedOnClick\n\n    useUpdateEffect(() => {\n        if (!noUpdateEffect) {\n            setState((prev) => (prev === 'init' ? prev : 'init'))\n        }\n    }, [executor, noUpdateEffect])\n\n    if (state === 'wait')\n        return <ActionButton {...b} loading disabled={!waitingOnClick} children={waiting} onClick={cancel} />\n    if (state === 'complete')\n        return (\n            <ActionButton\n                {...b}\n                disabled={!completeClick}\n                startIcon={completeIcon}\n                children={complete}\n                className={completeClass}\n                onClick={completeClick}\n            />\n        )\n    if (state === 'fail')\n        return (\n            <ActionButton\n                {...b}\n                disabled={!failClick}\n                startIcon={failIcon}\n                children={failed}\n                className={failedButtonStyle || failClass}\n                onClick={failClick}\n            />\n        )\n    return <ActionButton {...b} children={init} onClick={run} />\n}\nconst useStyles = makeStyles()({\n    success: {\n        color: '#fff',\n        backgroundColor: green[500],\n        '&:hover': {\n            backgroundColor: green[700],\n        },\n    },\n    failed: {\n        backgroundColor: red[500],\n        color: '#fff',\n        '&:hover': {\n            backgroundColor: red[700],\n        },\n    },\n})\n","import { Icons, type GeneratedIconProps } from '@masknet/icons'\nimport { ShadowRootTooltip, makeStyles } from '@masknet/theme'\nimport { Link, type LinkProps } from '@mui/material'\nimport { memo, useCallback, useRef, useState, type MouseEvent } from 'react'\nimport { useCopyToClipboard } from 'react-use'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    copy: {\n        '&:hover': {\n            color: theme.palette.maskColor.main,\n        },\n    },\n}))\n\nexport interface CopyButtonProps\n    extends Omit<LinkProps<'button'>, 'color'>,\n        Pick<GeneratedIconProps, 'size' | 'color'> {\n    title?: string\n    text: string\n    /** defaults to 'Copied' */\n    successText?: string\n    /** stop event propagation and prevent default */\n    scoped?: boolean\n}\n\nexport const CopyButton = memo<CopyButtonProps>(function CopyButton({\n    text,\n    title,\n    successText,\n    size,\n    color,\n    scoped = true,\n    className,\n    ...props\n}) {\n    const t = useSharedTrans()\n    const { classes, cx, theme } = useStyles(undefined, { props })\n\n    const [, copyToClipboard] = useCopyToClipboard()\n    const [copied, setCopied] = useState(false)\n    const [active, setActive] = useState(false)\n    const timerRef = useRef<ReturnType<typeof setTimeout>>()\n\n    const handleCopy = useCallback(\n        async (ev: MouseEvent<HTMLAnchorElement>) => {\n            if (scoped) {\n                ev.stopPropagation()\n                ev.preventDefault()\n            }\n            copyToClipboard(text)\n            setCopied(true)\n            setActive(true)\n            clearTimeout(timerRef.current)\n            timerRef.current = setTimeout(setActive, 1500, false)\n        },\n        [text, scoped],\n    )\n\n    const tooltipTitle = copied ? successText ?? t.copied() : title ?? t.copy()\n    const iconProps = { size, color }\n\n    return (\n        <ShadowRootTooltip open={active} title={tooltipTitle} placement=\"top\" disableInteractive arrow>\n            <Link\n                underline=\"none\"\n                component=\"button\"\n                onClick={handleCopy}\n                color=\"inherit\"\n                {...props}\n                fontSize={0}\n                className={cx(classes.root, className)}>\n                {active ? (\n                    <Icons.Check {...iconProps} color={theme.palette.maskColor.success} />\n                ) : (\n                    <Icons.Copy {...iconProps} className={classes.copy} />\n                )}\n            </Link>\n        </ShadowRootTooltip>\n    )\n})\n","import { memo } from 'react'\nimport {\n    Typography,\n    InputBase,\n    Box,\n    Chip,\n    lighten,\n    inputBaseClasses,\n    chipClasses,\n    type InputBaseProps,\n    alpha,\n} from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { formatBalance } from '@masknet/web3-shared-base'\nimport { Icons } from '@masknet/icons'\nimport { FormattedBalance, TokenIcon, useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        position: 'relative',\n        height: 66,\n        padding: theme.spacing(1.25, 1.5),\n        [`& > .${inputBaseClasses.input}`]: {\n            paddingTop: `${theme.spacing(2.75)}!important`,\n            paddingBottom: '0px !important',\n            flex: 2,\n            paddingLeft: '0px !important',\n            fontSize: 14,\n            fontWeight: 400,\n        },\n    },\n    title: {\n        position: 'absolute',\n        top: 10,\n        left: 12,\n    },\n    label: {\n        fontSize: 13,\n        lineHeight: '18px',\n        color: theme.palette.maskColor.second,\n        whiteSpace: 'nowrap',\n    },\n    control: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-end',\n        rowGap: 4,\n        flex: 1,\n    },\n    chip: {\n        background: 'transparent',\n        cursor: 'pointer',\n        fontSize: 14,\n        lineHeight: '18px',\n        fontWeight: 700,\n        color: theme.palette.maskColor.main,\n    },\n    tokenIcon: {\n        width: 20,\n        height: 20,\n        marginRight: '0px !important',\n    },\n    selectToken: {\n        backgroundColor: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        fontSize: 12,\n        lineHeight: '16px',\n        fontWeight: 700,\n        padding: theme.spacing(0.5, 1),\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderRadius: 99,\n        cursor: 'pointer',\n        ['&:hover']: {\n            backgroundColor: lighten(theme.palette.maskColor.primary, 0.1),\n        },\n    },\n    maxChip: {\n        color: theme.palette.maskColor.white,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: 18,\n        padding: '0 3px',\n        borderRadius: 4,\n        fontSize: 10,\n        marginLeft: 4,\n        fontWeight: 700,\n        lineHeight: '18px',\n        cursor: 'pointer',\n        background: theme.palette.maskColor.primary,\n        '&:hover': {\n            background: alpha(theme.palette.maskColor.primary, 0.8),\n        },\n        [`& > .${chipClasses.label}`]: {\n            padding: 0,\n        },\n    },\n    balance: {\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n        color: theme.palette.maskColor.main,\n        lineHeight: '18px',\n        fontWeight: 700,\n        marginLeft: 4,\n    },\n    arrowIcon: {\n        color: `${theme.palette.maskColor.second}!important`,\n    },\n    chipLabel: {\n        maxWidth: 150,\n    },\n}))\n\nexport interface FungibleTokenInputUIProps extends InputBaseProps {\n    label: string\n    disableMax?: boolean\n    isNative?: boolean\n    token?: Web3Helper.FungibleTokenAll | null\n    onSelectToken?: () => void\n    onMaxClick: () => void\n    balance: string\n    loadingBalance?: boolean\n    disableBalance?: boolean\n    disableToken?: boolean\n}\n\nexport const FungibleTokenInputUI = memo<FungibleTokenInputUIProps>(\n    ({\n        label,\n        isNative,\n        token,\n        onSelectToken,\n        onMaxClick,\n        balance,\n        loadingBalance,\n        disableMax = false,\n        disableToken = false,\n        disableBalance = false,\n        ...props\n    }) => {\n        const { classes, cx } = useStyles()\n        const t = useSharedTrans()\n        return (\n            <InputBase\n                fullWidth\n                startAdornment={<Typography className={cx(classes.label, classes.title)}>{label}</Typography>}\n                endAdornment={\n                    <Box className={classes.control} justifyContent={disableBalance ? 'flex-end' : undefined}>\n                        <Typography className={classes.label} display=\"flex\" alignItems=\"center\" component=\"div\">\n                            {!disableBalance ? (\n                                <>\n                                    {isNative ? t.available_balance() : t.balance()}:\n                                    <Typography className={classes.balance} component=\"span\">\n                                        {token && !loadingBalance ? (\n                                            <FormattedBalance\n                                                value={balance}\n                                                decimals={token?.decimals}\n                                                significant={token?.decimals}\n                                                formatter={formatBalance}\n                                            />\n                                        ) : (\n                                            '--'\n                                        )}\n                                    </Typography>\n                                </>\n                            ) : null}\n                            {!disableMax ? (\n                                <Chip className={classes.maxChip} label=\"MAX\" size=\"small\" onClick={onMaxClick} />\n                            ) : null}\n                        </Typography>\n                        {!disableToken ? (\n                            <Box display=\"flex\" alignItems=\"center\" columnGap=\"12px\">\n                                {token ? (\n                                    <>\n                                        <Chip\n                                            size=\"small\"\n                                            onClick={onSelectToken}\n                                            className={classes.chip}\n                                            classes={{ label: classes.chipLabel }}\n                                            icon={\n                                                <TokenIcon\n                                                    className={classes.tokenIcon}\n                                                    address={token.address}\n                                                    name={token.name}\n                                                    chainId={token.chainId}\n                                                    logoURL={token.logoURL}\n                                                />\n                                            }\n                                            deleteIcon={<Icons.ArrowDrop className={classes.arrowIcon} size={24} />}\n                                            onDelete={onSelectToken}\n                                            label={token.symbol}\n                                        />\n                                    </>\n                                ) : (\n                                    <Box className={classes.selectToken} onClick={onSelectToken}>\n                                        {t.select_a_token()}\n                                        <Icons.ArrowDrop size={16} />\n                                    </Box>\n                                )}\n                            </Box>\n                        ) : null}\n                    </Box>\n                }\n                {...props}\n                onChange={(ev) => {\n                    if (\n                        ev.currentTarget.value &&\n                        !new RegExp(props?.inputProps?.pattern).test(ev.currentTarget.value)\n                    ) {\n                        return\n                    }\n                    props.onChange?.(ev)\n                }}\n                className={cx(classes.root, props.className)}\n            />\n        )\n    },\n)\nFungibleTokenInputUI.displayName = 'FungibleTokenInputUI'\n","import { BigNumber } from 'bignumber.js'\nimport { type ChangeEvent, memo, useCallback, useMemo } from 'react'\nimport { useWeb3Others } from '@masknet/web3-hooks-base'\nimport { NUMERIC_INPUT_REGEXP_PATTERN } from '@masknet/shared-base'\nimport { formatBalance, isZero, leftShift } from '@masknet/web3-shared-base'\nimport { FungibleTokenInputUI, type FungibleTokenInputUIProps } from './UI.js'\n\nconst MIN_AMOUNT_LENGTH = 1\nconst MAX_AMOUNT_LENGTH = 79\n\nexport interface FungibleTokenInputProps extends Omit<FungibleTokenInputUIProps, 'onMaxClick'> {\n    amount: string\n    maxAmount?: string\n    maxAmountShares?: number\n    disabled?: boolean\n    placeholder?: string\n    onAmountChange: (amount: string) => void\n    isAvailableBalance?: boolean\n}\n\nexport const FungibleTokenInput = memo<FungibleTokenInputProps>(\n    ({\n        label,\n        token,\n        disabled,\n        disableMax,\n        disableBalance,\n        disableToken,\n        loadingBalance,\n        onSelectToken,\n        onAmountChange,\n        amount,\n        maxAmount,\n        balance,\n        isAvailableBalance,\n        placeholder = '0.0',\n        maxAmountShares = 1,\n        className,\n    }) => {\n        const Others = useWeb3Others()\n\n        const isNative = isAvailableBalance ?? Others.isNativeTokenAddress(token?.address)\n\n        // #region update amount by self\n        const { RE_MATCH_WHOLE_AMOUNT, RE_MATCH_FRACTION_AMOUNT } = useMemo(\n            () => ({\n                RE_MATCH_FRACTION_AMOUNT: new RegExp(`^\\\\.\\\\d{0,${token?.decimals}}$`),\n                RE_MATCH_WHOLE_AMOUNT: new RegExp(`^\\\\d*\\\\.?\\\\d{0,${token?.decimals}}$`), // d.ddd...d\n            }),\n            [token?.decimals],\n        )\n        const onChange = useCallback(\n            (ev: ChangeEvent<HTMLInputElement>) => {\n                const amount_ = ev.currentTarget.value.replaceAll(',', '.')\n                if (RE_MATCH_FRACTION_AMOUNT.test(amount_)) onAmountChange(`0${amount_}`)\n                else if (amount_ === '' || RE_MATCH_WHOLE_AMOUNT.test(amount_)) onAmountChange(amount_)\n            },\n            [onAmountChange, RE_MATCH_WHOLE_AMOUNT, RE_MATCH_FRACTION_AMOUNT],\n        )\n        // #endregion\n\n        return (\n            <FungibleTokenInputUI\n                label={label}\n                isNative={isNative}\n                token={token}\n                onSelectToken={onSelectToken}\n                value={amount}\n                onChange={onChange}\n                className={className}\n                inputProps={{\n                    autoComplete: 'off',\n                    autoCorrect: 'off',\n                    title: 'Token Amount',\n                    inputMode: 'decimal',\n                    min: 0,\n                    minLength: MIN_AMOUNT_LENGTH,\n                    maxLength: MAX_AMOUNT_LENGTH,\n                    pattern: NUMERIC_INPUT_REGEXP_PATTERN,\n                    spellCheck: false,\n                }}\n                placeholder={placeholder}\n                onKeyDown={(ev) => {\n                    if (ev.key === 'Enter') ev.preventDefault()\n                }}\n                onMaxClick={() => {\n                    if (!token) return\n                    const amount = new BigNumber(maxAmount ?? balance).dividedBy(maxAmountShares).decimalPlaces(0, 1)\n                    const formattedBalance = formatBalance(\n                        amount,\n                        token.decimals,\n                        token.decimals,\n                        true,\n                        false,\n                        4,\n                        false,\n                    )\n\n                    onAmountChange(\n                        (isZero(formattedBalance)\n                            ? new BigNumber(leftShift(amount, token.decimals).toPrecision(2)).toFormat()\n                            : formattedBalance) ?? '0',\n                    )\n                }}\n                balance={balance}\n                required\n                loadingBalance={loadingBalance}\n                disabled={disabled}\n                disableMax={disableMax}\n                disableBalance={disableBalance}\n                disableToken={disableToken}\n            />\n        )\n    },\n)\nFungibleTokenInput.displayName = 'FungibleTokenInput'\n","const DEFAULT_IMAGES = [\n    new URL('./Aura1.svg', import.meta.url).toString(),\n    new URL('./Aura2.svg', import.meta.url).toString(),\n    new URL('./Aura3.svg', import.meta.url).toString(),\n    new URL('./Aura4.svg', import.meta.url).toString(),\n    new URL('./Aura5.svg', import.meta.url).toString(),\n    new URL('./Aura6.svg', import.meta.url).toString(),\n    new URL('./Aura7.svg', import.meta.url).toString(),\n    new URL('./Aura8.svg', import.meta.url).toString(),\n    new URL('./Aura9.svg', import.meta.url).toString(),\n    new URL('./Aura10.svg', import.meta.url).toString(),\n    new URL('./Aura11.svg', import.meta.url).toString(),\n    new URL('./Aura12.svg', import.meta.url).toString(),\n]\n\nexport const name2Image = (name?: string): string => {\n    if (!name) return DEFAULT_IMAGES[0]\n    let sum = 0\n    for (let i = 0; i < name.length; i += 1) {\n        sum += name.charCodeAt(i)\n    }\n\n    return DEFAULT_IMAGES[sum % DEFAULT_IMAGES.length]\n}\n","import { memo, useState } from 'react'\nimport { Avatar, type AvatarProps, useTheme } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { name2Image } from './name2Image.js'\n\nconst useStyles = makeStyles<Pick<IconProps, 'size'>>()((theme, { size }) => ({\n    icon: {\n        margin: 0,\n        borderRadius: '50%',\n        color: `${theme.palette.maskColor.dark} !important`,\n        backgroundSize: 'cover',\n        height: size,\n        width: size,\n    },\n}))\n\nexport interface IconProps extends AvatarProps {\n    color?: string\n    size?: number | string\n    name?: string\n    label?: string\n    logoURL?: string\n}\n\nexport const Icon = memo<IconProps>(function Icon(props) {\n    const { logoURL, size, color, name, label, className, ...rest } = props\n    const [failed, setFailed] = useState(false)\n\n    const defaultBackgroundImage = name2Image(name)\n    const { classes, cx } = useStyles({ size })\n    const theme = useTheme()\n\n    const showImage = logoURL && !failed\n\n    return (\n        <Avatar\n            className={cx(classes.icon, className)}\n            src={logoURL}\n            {...rest}\n            imgProps={{\n                onError: (event) => {\n                    setFailed(true)\n                    rest.imgProps?.onError?.(event)\n                },\n                ...rest.imgProps,\n            }}\n            sx={{\n                ...rest.sx,\n                backgroundImage: showImage ? undefined : `url(\"${defaultBackgroundImage}\")`,\n                backgroundColor: showImage ? color ?? theme.palette.common.white : undefined,\n            }}>\n            {label ?? name?.slice(0, 1).toUpperCase() ?? '?'}\n        </Avatar>\n    )\n})\n\nIcon.displayName = 'Icon'\n","import { memo, type HTMLProps, type CSSProperties } from 'react'\n\nexport interface ImageIconProps extends HTMLProps<HTMLImageElement> {\n    size?: number\n    icon?: string\n    iconFilterColor?: string\n}\n\nexport const ImageIcon = memo(function ImageIcon({ size = 48, icon, iconFilterColor, ...rest }: ImageIconProps) {\n    const style: CSSProperties | undefined = iconFilterColor\n        ? {\n              filter: `drop-shadow(0px 6px 12px ${iconFilterColor})`,\n              backdropFilter: 'blur(16px)',\n              ...rest.style,\n          }\n        : rest.style\n\n    return <img height={size} width={size} src={icon?.toString()} {...rest} style={style} />\n})\n","import { memo, useMemo } from 'react'\nimport { useAsync, useUpdateEffect } from 'react-use'\nimport {\n    useNetworkDescriptors,\n    useChainContext,\n    useNetworkContext,\n    useWallet,\n    useWeb3Others,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { MaskTabList, useTabs, type MaskTabListProps } from '@masknet/theme'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { TabContext } from '@mui/lab'\nimport { Stack, Tab, Typography } from '@mui/material'\nimport { WalletIcon } from '../WalletIcon/index.js'\nimport { SmartPayBundler } from '@masknet/web3-providers'\nimport { ChainId } from '@masknet/web3-shared-evm'\n\ninterface NetworkTabProps extends Omit<MaskTabListProps, 'onChange'> {\n    chains: Web3Helper.ChainIdAll[]\n    pluginID: NetworkPluginID\n    onChange?(chainId: Web3Helper.ChainIdAll): void\n    requireChains?: boolean\n}\n\nexport const NetworkTab = memo(function NetworkTab({\n    chains,\n    pluginID,\n    onChange,\n    requireChains,\n    ...rest\n}: NetworkTabProps) {\n    const { pluginID: networkPluginID } = useNetworkContext(pluginID)\n    const { chainId, setChainId, setNetworkType } = useChainContext()\n    const networks = useNetworkDescriptors(networkPluginID)\n    const wallet = useWallet()\n    const Others = useWeb3Others()\n    const { value: smartPaySupportChainId } = useAsync(async () => SmartPayBundler.getSupportedChainId(), [])\n\n    const supportedChains = useMemo(() => {\n        if (!wallet?.owner || requireChains) return chains\n        return chains.filter((x) => x === smartPaySupportChainId)\n    }, [smartPaySupportChainId, wallet, chains, requireChains])\n\n    const usedNetworks = networks.filter((x) => supportedChains.find((c) => c === x.chainId))\n    const networkIds = usedNetworks.map((x) => x.chainId.toString())\n\n    const isValidChainId = useMemo(() => chains.includes(chainId), [chains, chainId])\n    const [tab, , , setTab] = useTabs(\n        !isValidChainId ? networkIds[0] : chainId?.toString() ?? networkIds[0],\n        ...networkIds,\n    )\n\n    useUpdateEffect(() => {\n        setTab((prev) => {\n            if (isValidChainId && chainId && prev !== chainId?.toString()) return chainId.toString()\n            return prev\n        })\n\n        if (!isValidChainId) setChainId(ChainId.Mainnet)\n    }, [chainId, isValidChainId])\n\n    return (\n        <TabContext value={tab}>\n            <MaskTabList\n                {...rest}\n                variant=\"flexible\"\n                onChange={(_, v) => {\n                    const chainId = Number.parseInt(v, 10)\n                    const networkType = Others.chainResolver.networkType(chainId)\n                    setChainId?.(chainId)\n                    if (networkType) setNetworkType?.(networkType)\n                    onChange?.(chainId)\n                    setTab(v)\n                }}\n                aria-label=\"Network Tabs\">\n                {usedNetworks.map((x) => {\n                    return (\n                        <Tab\n                            aria-label={x.name}\n                            key={x.chainId}\n                            value={x.chainId.toString()}\n                            label={\n                                <Stack display=\"inline-flex\" flexDirection=\"row\" alignItems=\"center\" gap={0.5}>\n                                    <WalletIcon mainIcon={x.icon} size={18} />\n                                    <Typography\n                                        variant=\"body2\"\n                                        fontSize={14}\n                                        fontWeight={tab === x.chainId.toString() ? 700 : 400}>\n                                        {x.shortName ?? x.name}\n                                    </Typography>\n                                </Stack>\n                            }\n                        />\n                    )\n                })}\n            </MaskTabList>\n        </TabContext>\n    )\n})\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useFungibleToken, useWeb3Hub } from '@masknet/web3-hooks-base'\nimport { TokenType } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { first } from 'lodash-es'\nimport { memo } from 'react'\nimport { Icon, type IconProps } from '../Icon/index.js'\n\nexport interface TokenIconProps extends IconProps {\n    pluginID?: NetworkPluginID\n    chainId?: Web3Helper.ChainIdAll\n    address: string\n    symbol?: string\n    tokenType?: TokenType\n    disableDefaultIcon?: boolean\n}\n\nexport const TokenIcon = memo(function TokenIcon(props: TokenIconProps) {\n    const {\n        pluginID = NetworkPluginID.PLUGIN_EVM,\n        chainId: propChainId,\n        address,\n        logoURL,\n        symbol,\n        tokenType = TokenType.Fungible,\n        disableDefaultIcon,\n        name,\n        ...rest\n    } = props\n    const { data: token } = useFungibleToken(pluginID, address, undefined, { chainId: propChainId })\n\n    const { chainId } = useChainContext({ chainId: props.chainId })\n    const Hub = useWeb3Hub(pluginID)\n    const isNFT = tokenType === TokenType.NonFungible\n    const { data } = useQuery({\n        queryKey: ['token-icon', chainId, address, isNFT],\n        enabled: !logoURL,\n        queryFn: async () => {\n            const logoURLs = isNFT\n                ? (() => {\n                      throw new Error(\n                          \"Unreachable: it used to call Hub.getNonFungibleTokenIconURLs, but it's default implementation is throw an error, and not override by any subclass.\",\n                      )\n                  })()\n                : await Hub.getFungibleTokenIconURLs(chainId, address).catch(() => [])\n            return first(logoURLs)\n        },\n    })\n\n    if (data && disableDefaultIcon) return null\n    const text = token?.name || token?.symbol || symbol || name || '?' // `?` prevent to fallback to avatar icon\n    const url = logoURL || token?.logoURL || data\n    return <Icon {...rest} logoURL={url} name={text} />\n})\n","import { makeStyles } from '@masknet/theme'\nimport { ImageIcon } from '../ImageIcon/index.js'\n\ninterface StyleProps {\n    size: number\n    badgeIconBorderColor?: string\n}\n\nconst useStyles = makeStyles<StyleProps>()((theme, props) => ({\n    root: {\n        position: 'relative',\n        display: 'flex',\n        height: props.size,\n        width: props.size,\n    },\n    mainIcon: {\n        display: 'block',\n    },\n    badgeIcon: {\n        position: 'absolute',\n        right: -6,\n        bottom: -4,\n        border: `1px solid ${props.badgeIconBorderColor ?? theme.palette.common.white}`,\n        borderRadius: '50%',\n    },\n}))\n\ninterface WalletIconProps extends withClasses<'root' | 'mainIcon'> {\n    size?: number\n    badgeSize?: number\n    mainIcon?: string\n    badgeIcon?: string\n    badgeIconBorderColor?: string\n    iconFilterColor?: string\n}\n\nexport function WalletIcon(props: WalletIconProps) {\n    const { size = 24, badgeSize = 14, mainIcon, badgeIcon, badgeIconBorderColor, iconFilterColor } = props\n    const { classes } = useStyles(\n        {\n            size: badgeSize > size ? badgeSize : size,\n            badgeIconBorderColor,\n        },\n        { props: { classes: props.classes } },\n    )\n\n    return (\n        <div\n            className={classes.root}\n            style={{\n                height: size,\n                width: size,\n            }}>\n            {mainIcon ? (\n                <ImageIcon className={classes.mainIcon} size={size} icon={mainIcon} iconFilterColor={iconFilterColor} />\n            ) : null}\n            {badgeIcon ? <ImageIcon className={classes.badgeIcon} size={badgeSize} icon={badgeIcon} /> : null}\n        </div>\n    )\n}\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { SelectProviderModalOpenProps, SelectProviderModalCloseProps } from './SelectProviderModal/index.js'\nimport type { WalletConnectQRCodeOpenProps } from './WalletConnectQRCodeModal/index.js'\nimport type { WalletRiskWarningModalOpenProps } from './WalletRiskWarningModal/index.js'\nimport type { ConnectWalletModalOpenProps, ConnectWalletModalCloseProps } from './ConnectWalletModal/index.js'\nimport type { LeavePageConfirmModalOpenProps } from './LeavePageConfirmModal/index.js'\nimport type {\n    ApplicationBoardModalOpenProps,\n    ApplicationBoardSettingsModalOpenProps,\n} from './ApplicationBoardModal/index.js'\nimport type { GasSettingModalOpenOrCloseProps } from './GasSettingModal/index.js'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { ConfirmDialogOpenProps } from './ConfirmDialog/index.js'\nimport type { TransactionConfirmModalOpenProps } from './TokenTransactionConfirmModal/index.js'\nimport type { SelectNonFungibleContractModalOpenProps } from './SelectNonFungibleContractModal/index.js'\nimport type {\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps,\n} from './SelectFungibleTokenModal/index.js'\nimport type {\n    SelectGasSettingsModalCloseProps,\n    SelectGasSettingsModalOpenProps,\n} from './SelectAdvancedSettingsDialog/index.js'\nimport type { AddCollectiblesModalCloseProps, AddCollectiblesModalOpenProps } from './AddCollectiblesModal/index.js'\nimport type { PersonaSelectPanelModalOpenProps } from './PersonaSelectPanelModal/index.js'\nimport type { ShareSelectNetworkModalOpenProps } from './ShareSelectNetwork/index.js'\n\nexport const WalletConnectQRCodeModal = new SingletonModal<WalletConnectQRCodeOpenProps>()\nexport const SelectProviderModal = new SingletonModal<SelectProviderModalOpenProps, SelectProviderModalCloseProps>()\nexport const WalletStatusModal = new SingletonModal()\nexport const WalletRiskWarningModal = new SingletonModal<WalletRiskWarningModalOpenProps>()\nexport const ConnectWalletModal = new SingletonModal<ConnectWalletModalOpenProps, ConnectWalletModalCloseProps>()\nexport const LeavePageConfirmModal = new SingletonModal<LeavePageConfirmModalOpenProps>()\nexport const ApplicationBoardModal = new SingletonModal<ApplicationBoardModalOpenProps>()\nexport const ApplicationBoardSettingsModal = new SingletonModal<ApplicationBoardSettingsModalOpenProps>()\nexport const GasSettingModal = new SingletonModal<GasSettingModalOpenOrCloseProps, GasSettingModalOpenOrCloseProps>()\nexport const TransactionConfirmModal = new SingletonModal<TransactionConfirmModalOpenProps>()\nexport const TransactionSnackbar = new SingletonModal()\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const ConfirmDialog = new SingletonModal<ConfirmDialogOpenProps, boolean>()\nexport const SelectNonFungibleContractModal = new SingletonModal<SelectNonFungibleContractModalOpenProps>()\nexport const SelectGasSettingsModal = new SingletonModal<\n    SelectGasSettingsModalOpenProps,\n    SelectGasSettingsModalCloseProps\n>()\nexport const AddCollectiblesModal = new SingletonModal<AddCollectiblesModalOpenProps, AddCollectiblesModalCloseProps>()\nexport const SelectFungibleTokenModal = new SingletonModal<\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps\n>()\n\nexport const PersonaSelectPanelModal = new SingletonModal<PersonaSelectPanelModalOpenProps>()\n\nexport const ShareSelectNetworkModal = new SingletonModal<ShareSelectNetworkModalOpenProps>()\n\nexport { ApplicationSettingTabs } from './ApplicationBoardModal/ApplicationBoardDialog.js'\n","import { Fragment } from 'react'\nimport { BigNumber } from 'bignumber.js'\nimport { isZero, isLessThan } from '@masknet/web3-shared-base'\nimport { makeStyles } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => ({\n    balance: {\n        marginRight: theme.spacing(0.5),\n    },\n}))\n\nexport interface FormattedBalanceProps extends withClasses<'balance' | 'symbol'> {\n    value: BigNumber.Value | undefined\n    decimals?: number\n    significant?: number\n    symbol?: string\n    minimumBalance?: BigNumber.Value\n    formatter?: (value: BigNumber.Value, decimals?: number, significant?: number) => string\n}\n\nexport function FormattedBalance(props: FormattedBalanceProps) {\n    const { value, decimals, significant, symbol, minimumBalance, formatter = (value) => value } = props\n    const valueInt = new BigNumber(value ?? '0').toFixed(0)\n    let formatted = formatter(valueInt, decimals, significant)\n    if (minimumBalance && !isZero(formatted) && isLessThan(valueInt, minimumBalance)) {\n        // it's a BigNumber so it's ok\n        // eslint-disable-next-line @typescript-eslint/no-base-to-string\n        formatted = '<' + formatter(minimumBalance, decimals, significant).toString()\n    }\n    const { classes } = useStyles(undefined, { props })\n\n    if (symbol)\n        return (\n            <Fragment>\n                <span className={classes.balance}>{String(formatted)}</span>\n                <span className={classes?.symbol}>{symbol}</span>\n            </Fragment>\n        )\n    return <Fragment>{String(formatted)}</Fragment>\n}\n","import { Fragment } from 'react'\nimport type { BigNumber } from 'bignumber.js'\nimport { useCurrencyType, useFiatCurrencyRate } from '@masknet/web3-hooks-base'\nimport { CurrencyType, type FormatterCurrencyOptions } from '@masknet/web3-shared-base'\n\nexport interface FormattedCurrencyProps {\n    sign?: string\n    value?: BigNumber.Value\n    options?: FormatterCurrencyOptions\n    formatter?: (value: BigNumber.Value, sign?: string, options?: FormatterCurrencyOptions) => string\n}\n\nexport function FormattedCurrency({\n    value = 0,\n    sign,\n    options,\n    // it's a BigNumber so it's ok\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    formatter = (value, sign) => `${sign} ${value}`.trim(),\n}: FormattedCurrencyProps) {\n    const currentSign = useCurrencyType()\n    const { data: currentFiatCurrencyRate } = useFiatCurrencyRate()\n    const rate = options?.fiatCurrencyRate ?? (sign === CurrencyType.USD ? 1 : currentFiatCurrencyRate)\n\n    return (\n        <Fragment>\n            {formatter(value, rate === 1 ? CurrencyType.USD : sign ?? currentSign, {\n                ...options,\n                fiatCurrencyRate: rate,\n            })}\n        </Fragment>\n    )\n}\n","import { memo, useCallback } from 'react'\nimport { Done as DoneIcon } from '@mui/icons-material'\nimport { Link, Typography } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { ExplorerResolver } from '@masknet/web3-providers'\nimport { useSharedTrans } from '../locales/index.js'\nimport { ConfirmModal } from '../UI/modals/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    content: {\n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    icon: {\n        fontSize: 64,\n        width: 64,\n        height: 64,\n    },\n    link: {\n        marginTop: theme.spacing(0.5),\n    },\n    primary: {\n        fontSize: 18,\n        marginTop: theme.spacing(1),\n    },\n    secondary: {},\n}))\n\ninterface ShareTransactionOptions {\n    title?: string\n    message?: string\n    content?: string\n    hash: string\n    buttonLabel?: string\n    // TODO Expose onShare until we have share API added our runtime\n    onShare?: () => void\n}\n\ntype ShareTransactionProps = Omit<ShareTransactionOptions, 'title' | 'onShare'>\n\nconst ShareTransaction = memo(({ message, content, hash }: ShareTransactionProps) => {\n    const { classes } = useStyles()\n    const t = useSharedTrans()\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const link = ExplorerResolver.transactionLink(chainId, hash)\n    return (\n        <div className={classes.content}>\n            <DoneIcon className={classes.icon} />\n            {message ? (\n                <Typography className={classes.primary} color=\"textPrimary\" variant=\"subtitle1\">\n                    {message}\n                </Typography>\n            ) : null}\n            {content ? (\n                <Typography className={classes.secondary} color=\"textSecondary\">\n                    {content}\n                </Typography>\n            ) : null}\n            {link ? (\n                <Typography>\n                    <Link className={classes.link} href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n                        {t.share_dialog_view_on_explorer()}\n                    </Link>\n                </Typography>\n            ) : null}\n        </div>\n    )\n})\n\nexport function useOpenShareTxDialog() {\n    const t = useSharedTrans()\n\n    return useCallback(\n        async ({ title, message, content, hash, buttonLabel, onShare }: ShareTransactionOptions) => {\n            const confirmed = await ConfirmModal.openAndWaitForClose({\n                title: title ?? t.share_dialog_transaction(),\n                content: (\n                    <ShareTransaction\n                        message={message ?? t.share_dialog_transaction_confirmed()}\n                        content={content}\n                        hash={hash}\n                    />\n                ),\n                confirmLabel: onShare ? buttonLabel ?? t.dialog_share() : t.dialog_dismiss(),\n            })\n            if (confirmed) onShare?.()\n        },\n        [t],\n    )\n}\n","export const LightColor = {\n    bg: '##F9F9F9',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#FFFFFF',\n    secondary: '#e8f0fe',\n    secondaryContrastText: '#1c68f3',\n    input: '#F6F6F8',\n    primaryBackground: '#ffffff',\n    primaryBackground2: '#FBFBFC',\n    secondaryBackground: '#f9fafa',\n    lightBackground: '#F9FAFA',\n    mainBackground: '#ffffff',\n    suspensionBackground: 'rgba(249, 250, 250, 0.8)',\n    normalBackground: '#F3F3F4',\n    twitterBackground: '#F7F9FA',\n    twitterBackgroundHover: '#EFF1F2',\n    twitterInputBackground: '#F6F8F8',\n    twitterButton: '#111418',\n    twitterButtonText: '#ffffff',\n    twitterBlue: '#1C68F3',\n    twitterBorderLine: '#EDF1F2',\n    twitterSecond: '#7B8192',\n    twitterMain: '#0F1419',\n    twitterBottom: '#ffffff',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterBg: '#F6F8F8',\n    twitterTooltipBg: 'rgba(0,0,0,.6)',\n    twitterInput: '#EDF1F2',\n    twitterLine: '#EBEEF0',\n    redMain: '#ff5f5f',\n    redLight: '#ffafaf',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#e6f6f0',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#faf0d8',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#eff3f4',\n\n    border: '#F3F3F4',\n    borderSecondary: '#536471',\n\n    textPrimary: '#111432',\n    textSecondary: '#7b8192',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: '#7B8192',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#1C68F3',\n    lineLight: '#E4E8F1',\n    lineLighter: '#E9E9EA',\n    textLight: '#A6A9B6',\n    lightestBackground: '#FFFFFF',\n    linkText: '#1C68F3',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#F9FAFA',\n    main: '#1C68F3',\n    errorBackground: 'rgba(255, 95, 95, 0.15)',\n    tooltipBackground: '#ffffff',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#000000',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport const DarkColor: typeof LightColor = {\n    bg: '#1C1C1C',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#15171A',\n    secondary: '#242e57',\n    secondaryContrastText: '#ffffff',\n    input: '#282B49',\n    primaryBackground: '#212442',\n    primaryBackground2: '#212442',\n    secondaryBackground: '#252846',\n    lightBackground: '#2E314F',\n    mainBackground: '#111432',\n    suspensionBackground: 'rgba(27, 30, 60, 0.8)',\n    normalBackground: '#262947',\n    twitterInputBackground: '#17191D',\n    twitterBackground: '#17191D',\n    twitterBackgroundHover: '#17191D',\n    twitterButton: '#EFF3F4',\n    twitterButtonText: '#0F1419',\n    twitterBlue: '#4989FF',\n    twitterBorderLine: '#2F3336',\n    twitterInput: '#1D2023',\n    twitterSecond: '#636B72',\n    twitterMain: '#D9D9D9',\n    twitterBottom: '#000000',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterLine: '#2F3336',\n    twitterBg: '#15171A',\n    twitterTooltipBg: 'rgba(91,112,131,.6)',\n    redMain: '#ff5f5f',\n    redLight: '#46304a',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#314457',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#463e3f',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#3e455e',\n\n    border: '#3E455E',\n    borderSecondary: '#6e767d',\n\n    // TODO: ?\n    textPrimary: '#ffffff',\n    // TODO: ?\n    textSecondary: 'ghostwhite',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: 'rgba(255, 255, 255, 0.8)',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#ffffff',\n    lineLight: '#32365B',\n    lineLighter: '#32365B',\n    textLight: '#A6A9B6',\n    lightestBackground: '#212422',\n    linkText: '#ffffff',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#000000',\n    main: '#D4D4D4',\n    errorBackground: 'rgba(255, 95, 95, 0.1)',\n    tooltipBackground: '#1A1D20',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#ffffff',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport type Color = typeof LightColor\n","import type { Theme } from '@mui/material'\nimport { kebabCase } from 'lodash-es'\nimport { LightColor, DarkColor } from './constants.js'\n\nexport function getMaskColor(theme: Theme) {\n    if (theme.palette.mode === 'dark') return DarkColor\n    return LightColor\n}\nexport type MaskCSSVariableColor = string & {\n    /** Append alpha channel to the original color */\n    alpha(alpha: number): string\n} & ((defaultValue?: string) => string)\n\nfunction set(key: string | symbol) {\n    if (typeof key === 'symbol') return undefined\n    const cssVar = kebabCase(key)\n    function value(defaultValue?: string) {\n        // it might be an object when used in styled components.\n        if (typeof defaultValue !== 'string') defaultValue = undefined\n        const x = `var(--mask-${cssVar}${defaultValue ? ', ' + defaultValue : ''})`\n        return x\n    }\n    Object.assign(value, {\n        [Symbol.toPrimitive]: () => `var(--mask-${cssVar})`,\n        alpha: (alpha: number) => `rgba(var(--mask-${cssVar}-fragment), ${alpha})`,\n    })\n    Object.defineProperty(MaskColorVar, key, { configurable: true, enumerable: true, value })\n    return value\n}\n/**\n * @deprecated Use theme.palette.maskColor\n */\nexport const MaskColorVar: Record<keyof typeof LightColor, MaskCSSVariableColor> = {\n    __proto__: new Proxy(\n        {},\n        {\n            get: (_, p) => set(p),\n            getOwnPropertyDescriptor: (_, p) => {\n                set(p)\n                return Object.getOwnPropertyDescriptor(MaskColorVar, p)\n            },\n        },\n    ),\n} as any\n","import { Box, Button } from '@mui/material'\nimport type { ButtonProps } from '@mui/material/Button'\nimport { LoadingBase } from '../LoadingBase/index.js'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nexport interface ActionButtonProps extends ButtonProps {\n    width?: number | string\n    loading?: boolean\n}\n\nconst useStyles = makeStyles()({\n    loading: {\n        ['& > *']: {\n            opacity: 0.3,\n        },\n    },\n})\n\nexport function ActionButton<T extends React.ComponentType<any> = React.ComponentType>(\n    props: ActionButtonProps & PropsOf<T>,\n) {\n    const { width, loading, children, className, style, ...rest } = props\n    const { classes, cx } = useStyles()\n    return (\n        <Button\n            className={cx('actionButton', className, loading ? classes.loading : undefined)}\n            style={{ width, ...style, pointerEvents: loading ? 'none' : undefined }}\n            {...rest}\n            disableElevation\n            disabled={!!(rest.disabled || loading)}>\n            {loading ? (\n                <Box\n                    position=\"absolute\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                    style={{ opacity: 1 }}>\n                    <LoadingBase />\n                </Box>\n            ) : null}\n            {children}\n        </Button>\n    )\n}\n","import { type GeneratedIconProps, Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    animated: {\n        '@keyframes loadingAnimation': {\n            '0%': {\n                transform: 'rotate(0deg)',\n            },\n            '100%': {\n                transform: 'rotate(360deg)',\n            },\n        },\n        animation: 'loadingAnimation 1s linear infinite',\n    },\n}))\n\nexport function LoadingBase(props: GeneratedIconProps) {\n    const { classes, cx } = useStyles()\n    return <Icons.CircleLoading {...props} className={cx(classes.animated, props.className)} />\n}\n","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { forwardRef } from 'react'\n\nconst BaseTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean }>(({ theme, activated }) => ({\n    flex: 1,\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    height: 36,\n    lineHeight: '18px',\n    boxShadow: activated\n        ? `0px 0px 20px ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.12)' : 'rgba(0, 0, 0, 0.05)'}`\n        : 'none',\n    background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    borderRadius: `${theme.spacing(1.5)} ${theme.spacing(1.5)} 0px 0px !important`,\n    color: activated ? theme.palette.maskColor.main : theme.palette.maskColor.secondaryDark,\n    fontSize: 16,\n    fontWeight: 'bold',\n\n    '&:hover': {\n        boxShadow: activated ? '0 0 20px rgba(0, 0, 0, 0.05)' : 'none',\n        background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    },\n    // If there is only single one tab.\n    '&:first-of-type:last-of-type': {\n        maxWidth: '25%',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    onChange?(event: object, value: string): void\n}\n\nexport const BaseTab = forwardRef<HTMLButtonElement, ButtonTabProps>((props, ref) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (!activated && onChange) onChange(event, String(value))\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <BaseTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...props}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={(e) => handleClick(e)}\n            onChange={undefined}\n        />\n    )\n})\n","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { memo, useEffect, useRef } from 'react'\n\nconst FlexibleTabTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean; color?: string }>(({ theme, activated }) => ({\n    flexShrink: 0,\n    flexGrow: 0,\n    padding: theme.spacing(1.25, 1.5),\n    height: 38,\n    lineHeight: '16px',\n    minWidth: theme.spacing(3),\n    background: activated ? theme.palette.maskColor.input : 'transparent',\n    borderRadius: `${theme.spacing(1)} !important`,\n    color: activated ? theme.palette.maskColor.highlight ?? '#1C68F3' : theme.palette.text.secondary,\n    fontSize: 14,\n    fontWeight: 'bold !important',\n\n    '&:hover': {\n        background: activated ? theme.palette.maskColor.input : 'transparent',\n        color: activated ? theme.palette.maskColor.highlight ?? '#1C68F3' : theme.palette.text.primary,\n        boxShadow: 'none',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    isVisitable: (top: number, right: number) => boolean\n    onChange?(event: object, value: string, isUp: boolean): void\n}\n\nexport const FlexibleTab = memo<ButtonTabProps>((props) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n    const { isVisitable, ...rest } = props\n    const ref = useRef<HTMLButtonElement>(null)\n\n    useEffect(() => {\n        if (!activated) return\n        const visitable = isVisitable(\n            ref.current?.getBoundingClientRect().top ?? 0,\n            ref.current?.getBoundingClientRect().right ?? 0,\n        )\n        if (!visitable) onChange?.({}, String(value), visitable)\n    }, [])\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        const visitable = isVisitable(\n            ref.current?.getBoundingClientRect().top ?? 0,\n            ref.current?.getBoundingClientRect().right ?? 0,\n        )\n        if (!activated && onChange) onChange(event, String(value), visitable)\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <FlexibleTabTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...rest}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={handleClick}\n            onChange={undefined}\n        />\n    )\n})\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z\"\n}), 'ArrowBackIosNew');","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { forwardRef } from 'react'\n\nconst RoundTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean }>(({ theme, activated }) => ({\n    flex: 1,\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    height: 34,\n    lineHeight: '16px',\n    background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    borderRadius: `${theme.spacing(2)} !important`,\n    color: activated ? theme.palette.text.primary : theme.palette.text.secondary,\n    fontSize: 14,\n    fontWeight: 'bold',\n    boxShadow: activated ? ' 0px 2px 5px 1px rgba(0, 0, 0, 0.05);' : 'none',\n\n    '&:hover': {\n        boxShadow: activated ? ' 0px 2px 5px 1px rgba(0, 0, 0, 0.05);' : 'none',\n        color: theme.palette.text.primary,\n        background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    onChange?(event: object, value: string): void\n}\n\nexport const RoundTab = forwardRef<HTMLButtonElement, ButtonTabProps>((props, ref) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (!activated && onChange) onChange(event, String(value))\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <RoundTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...props}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={handleClick}\n            onChange={undefined}\n        />\n    )\n})\n","import {\n    Box,\n    Button,\n    ButtonGroup,\n    type ButtonGroupProps,\n    styled,\n    Tab,\n    alpha,\n    type ButtonGroupClasses,\n} from '@mui/material'\nimport { useTabContext, getPanelId, getTabId } from '@mui/lab'\nimport {\n    forwardRef,\n    Children,\n    isValidElement,\n    useState,\n    useRef,\n    useEffect,\n    useImperativeHandle,\n    type ForwardRefExoticComponent,\n    useMemo,\n} from 'react'\nimport { BaseTab } from './BaseTab.js'\nimport { FlexibleTab } from './FlexibleTab.js'\nimport { ArrowBackIosNew as ArrowBackIosNewIcon } from '@mui/icons-material'\nimport { useClickAway, useWindowSize } from 'react-use'\nimport { RoundTab } from './RoundTab.js'\n\ntype MaskTabVariant = 'base' | 'flexible' | 'round'\nconst defaultTabSize = 38\n\nexport interface MaskTabListProps\n    extends Omit<ButtonGroupProps, 'variant' | 'onChange' | 'classes'>,\n        withClasses<keyof ButtonGroupClasses | 'arrowButton'> {\n    onChange(event: object, value: string): void\n    'aria-label'?: string\n    variant?: MaskTabVariant\n    hideArrowButton?: boolean\n}\n\nconst ArrowButtonWrap = styled(Button)(({ theme }) => ({\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    padding: theme.spacing(1.5),\n    height: defaultTabSize,\n    width: defaultTabSize,\n    minWidth: `${defaultTabSize}px !important`,\n    background: theme.palette.background.input,\n    '&:hover': {\n        background: theme.palette.background.input,\n    },\n}))\n\nconst ArrowBackIosNewIconWrap = styled(ArrowBackIosNewIcon)(({ theme }) => ({\n    color: theme.palette.text.primary,\n    width: 16,\n    borderRadius: '0 8px 8px 0',\n}))\n\nconst FlexibleButtonGroupPanel = styled(Box, {\n    shouldForwardProp: (prop) => prop !== 'isOpen',\n})<{\n    isOpen?: boolean\n}>(({ theme, isOpen = false }) => ({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: 100,\n    padding: theme.spacing(1.5),\n    maxWidth: 'calc(100% - 24px)',\n    width: 'calc(100% - 24px)',\n    boxShadow: isOpen\n        ? `0px 0px 20px ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.12)' : 'rgba(0, 0, 0, 0.05)'}`\n        : 'none',\n    backdropFilter: 'blur(20px)',\n    background: alpha(theme.palette.maskColor.bottom, 0.8),\n    boxSizing: 'content-box',\n}))\n\nconst ButtonGroupWrap = styled(ButtonGroup, {\n    shouldForwardProp: (prop) => prop !== 'maskVariant',\n})<{\n    maskVariant?: MaskTabVariant\n}>(({ theme, maskVariant = 'base' }) => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'nowrap',\n    overflowY: 'clip',\n    flex: 1,\n    gap: theme.spacing(1),\n    ...(maskVariant === 'round'\n        ? {\n              padding: theme.spacing(0.5),\n              background: theme.palette.maskColor.input,\n              borderRadius: 18,\n          }\n        : maskVariant === 'flexible'\n        ? {\n              background: 'transparent',\n              borderRadius: 0,\n          }\n        : {\n              marginTop: theme.spacing(-1),\n              paddingTop: theme.spacing(1),\n              background: 'transparent',\n              borderRadius: 0,\n          }),\n}))\n\nconst FlexButtonGroupWrap = styled(ButtonGroup, {\n    shouldForwardProp: (prop) => prop !== 'maskVariant' && prop !== 'isOpen' && prop !== 'isOverflow',\n})<{\n    maskVariant?: MaskTabVariant\n    isOpen?: boolean\n    isOverflow?: boolean\n}>(({ theme, maskVariant = 'base', isOpen = false, isOverflow = false }) => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: isOpen ? 'wrap' : 'nowrap',\n    overflow: 'hidden',\n    flex: 1,\n    maxWidth: '100%',\n    paddingRight: isOpen ? defaultTabSize : 0,\n    gap: maskVariant !== 'base' ? theme.spacing(1) : 0,\n    borderRadius: 0,\n    background:\n        !isOpen && isOverflow\n            ? theme.palette.mode === 'light'\n                ? `linear-gradient(270deg, rgba(255,255,255,1) ${defaultTabSize}px, rgba(223, 229, 244, 0.8) ${defaultTabSize}px, rgba(244, 247, 254, 0) 72px)`\n                : `linear-gradient(270deg, transparent ${defaultTabSize}px, rgba(49, 49, 49, 0.8) ${defaultTabSize}px, rgba(23, 23, 23, 0) 72px)`\n            : 'transparent',\n}))\n\nconst tabMapping: {\n    [key in MaskTabVariant]: ForwardRefExoticComponent<any>\n} = {\n    flexible: FlexibleTab,\n    round: RoundTab,\n    base: BaseTab,\n}\n\n/**\n * This component is like TabList + Tabs in the @mui/material.\n * It should be used with <ButtonGroupTab>.\n *\n * Warning: Only a few \"value\" and \"label\" props on the @mui/material <Tab> component will work.\n *\n * @example\n *  const [currentTab, onChange, tabs, setTab] = useTabs('tab1', 'tab2', 'tab3')\n *  return (\n *      <TabContext value={currentTab}>\n *          <MaskTabList onChange={onChange}>\n *              <Tab label=\"Item One\" value={tabs.tab1} />\n *              <Tab label=\"Item Two\" value={tabs.tab2} />\n *              <Tab label=\"Item Three\" value={tabs.tab3} />\n *          </MaskTabList>\n *          <TabPanel value={tabs.tab1}>Item One</TabPanel>\n *          <TabPanel value={tabs.tab2}>Item Two</TabPanel>\n *          <TabPanel value={tabs.tab3}>Item Three</TabPanel>\n *      </TabContext>\n *  )\n */\nexport const MaskTabList = forwardRef<HTMLDivElement, MaskTabListProps>((props, ref) => {\n    const context = useTabContext()\n    const classes = props.classes\n\n    const [open, handleToggle] = useState(false)\n    const [isTabsOverflow, setIsTabsOverflow] = useState(false)\n    const [firstId, setFirstTabId] = useState<string | undefined>(context?.value)\n    const innerRef = useRef<HTMLDivElement>(null)\n    const anchorRef = useRef<HTMLDivElement>(null)\n    const flexPanelRef = useRef(null)\n    const { width } = useWindowSize()\n\n    if (context === null) throw new TypeError('No TabContext provided')\n\n    const { onChange, variant = 'base', hideArrowButton, ...rest } = props\n\n    useImperativeHandle(ref, () => innerRef?.current!)\n\n    // #region hide tab should up to first when chick\n    useEffect(() => {\n        if (!innerRef?.current) return\n\n        const current = innerRef.current\n        setIsTabsOverflow(current.scrollWidth >= current.clientWidth + defaultTabSize)\n    }, [innerRef?.current, width])\n    // #endregion\n\n    const children = Children.map(props.children, (child) => {\n        if (!isValidElement(child)) throw new TypeError('Invalided Children')\n        const extra = {\n            'aria-controls': getPanelId(context, child.props.value),\n            id: getTabId(context, child.props.value),\n            selected: child.props.value === context.value,\n            className: child.props.className,\n            onChange: (event: object, value: string, visitable?: boolean) => {\n                handleToggle(false)\n                props.onChange(event, value)\n                if (variant === 'flexible' && !visitable) {\n                    setFirstTabId(value)\n                }\n            },\n        }\n\n        if (child.type !== Tab) return child\n\n        if (variant === 'flexible') {\n            Object.assign(extra, {\n                // if move tab to first in flexible tabs\n                isVisitable: (top: number, right: number) => {\n                    const anchor = anchorRef.current?.getBoundingClientRect()\n                    return right <= (anchor?.right ?? 0) - defaultTabSize && top - (anchor?.top ?? 0) < defaultTabSize\n                },\n            })\n        }\n        const C = tabMapping[variant]\n        return (\n            <C value={child.props.value} {...extra}>\n                {child.props.label}\n            </C>\n        )\n    })\n\n    // #region hide tab should up to first when chick\n    const flexibleTabs = useMemo(() => {\n        if (variant !== 'flexible') return null\n        return children?.sort((a, b) => {\n            if (a.props.value === firstId) return -1\n            if (b.props.value === firstId) return 1\n            return 0\n        })\n    }, [firstId, children])\n    // #endregion\n\n    // #region Should close panel when click other area\n    useClickAway(flexPanelRef, (event) => {\n        if (variant !== 'flexible') return\n        const { left, right, top, bottom } = innerRef.current?.getBoundingClientRect() ?? {\n            right: 0,\n            left: 0,\n            top: 0,\n            bottom: 0,\n        }\n        const pointerX = (event as MouseEvent).x ?? 0\n        const pointerY = (event as MouseEvent).y ?? 0\n\n        if (pointerX > right || pointerX < left || pointerY < top || pointerY > bottom) handleToggle(false)\n    })\n    // #endregion\n\n    if (variant === 'flexible') {\n        return (\n            <Box position=\"relative\">\n                <ButtonGroupWrap\n                    maskVariant={variant}\n                    ref={anchorRef}\n                    style={{ visibility: 'hidden', height: defaultTabSize }}\n                />\n                <FlexibleButtonGroupPanel isOpen={!!(open && isTabsOverflow)} ref={flexPanelRef}>\n                    <FlexButtonGroupWrap\n                        maskVariant={variant}\n                        isOpen={open}\n                        isOverflow={!!(isTabsOverflow && !hideArrowButton)}\n                        {...rest}\n                        ref={innerRef}\n                        role=\"tablist\">\n                        {flexibleTabs}\n                        {(isTabsOverflow || open) && !hideArrowButton ? (\n                            <ArrowButtonWrap\n                                className={classes?.arrowButton}\n                                variant=\"text\"\n                                size=\"small\"\n                                aria-controls={open ? 'split-button-menu' : undefined}\n                                aria-expanded={open ? 'true' : undefined}\n                                aria-label=\"select tabs list\"\n                                aria-haspopup=\"menu\"\n                                onClick={() => handleToggle(!open)}>\n                                <ArrowBackIosNewIconWrap\n                                    sx={{ transform: open ? 'rotate(90deg)' : 'rotate(270deg)' }}\n                                />\n                            </ArrowButtonWrap>\n                        ) : null}\n                    </FlexButtonGroupWrap>\n                </FlexibleButtonGroupPanel>\n            </Box>\n        )\n    }\n\n    return (\n        <ButtonGroupWrap maskVariant={variant} {...rest} ref={innerRef} role=\"tablist\">\n            {children}\n        </ButtonGroupWrap>\n    )\n})\n\nMaskTabList.displayName = 'MaskTabList'\n","import { useCallback, useEffect, useState, useTransition } from 'react'\n\n/**\n * @example\n *  const [currentTab, onChange, tabs, setTab] = useTab('tab1', 'tab2', 'tab3')\n *  return (\n *      <TabContext value={currentTab}>\n *          <TabList onChange={onChange}>\n *              <Tab label=\"Item One\" value={tabs.tab1} />\n *              <Tab label=\"Item Two\" value={tabs.tab2} />\n *              <Tab label=\"Item Three\" value={tabs.tab3} />\n *          </TabList>\n *          <TabPanel value={tabs.tab1}>Item One</TabPanel>\n *          <TabPanel value={tabs.tab2}>Item Two</TabPanel>\n *          <TabPanel value={tabs.tab3}>Item Three</TabPanel>\n *      </TabContext>\n *  )\n */\nexport function useTabs<T extends string>(defaultTab: T, ...possibleTabs: T[]) {\n    const [currentTab, setTab] = useState(defaultTab)\n    const [, startTransition] = useTransition()\n    const tabRecords = { [defaultTab]: defaultTab } as Record<T, T>\n    possibleTabs.forEach((t) => (tabRecords[t] = t))\n\n    const isCurrentTabAvailable = [defaultTab, ...possibleTabs].includes(currentTab)\n    useEffect(() => {\n        if (!isCurrentTabAvailable) {\n            setTab(defaultTab)\n        }\n    }, [isCurrentTabAvailable, defaultTab])\n\n    const onChange = useCallback((event: unknown, value: any) => {\n        startTransition(() => setTab(value))\n    }, [])\n    return [currentTab, onChange, tabRecords, setTab] as const\n}\n","import { useSubscription } from 'use-subscription'\nimport { UNDEFINED, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useCurrencyType<T extends NetworkPluginID>(pluginID?: T) {\n    const { Settings } = useWeb3State(pluginID)\n    return useSubscription(Settings?.currencyType ?? UNDEFINED)\n}\n","import { FiatCurrencyRate } from '@masknet/web3-providers'\nimport { CurrencyType } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { pick } from 'lodash-es'\nimport { useCurrencyType } from './useCurrencyType.js'\n\nexport function useFiatCurrencyRate() {\n    const fiatCurrencyType = useCurrencyType()\n    const currencyType = fiatCurrencyType?.toUpperCase() || CurrencyType.USD\n\n    return useQuery({\n        queryKey: ['@@fiat-currency-rates'],\n        queryFn: async () => {\n            const allRates = await FiatCurrencyRate.getRates()\n            // Pick what we need only to reduce memory cost.\n            return pick(allRates, Object.keys(CurrencyType))\n        },\n        select: (data) => data[currencyType],\n    })\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useChainContext } from './useContext.js'\nimport { isNativeTokenAddress } from '@masknet/web3-shared-evm'\nimport { useNetworks } from './useNetworks.js'\n\nexport function useFungibleToken<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string | null,\n    fallbackToken?: Web3Helper.FungibleTokenScope<S, T>,\n    options?: HubOptions<T>,\n) {\n    const { chainId } = useChainContext({ chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, {\n        chainId,\n        ...options,\n    })\n    const networks = useNetworks(pluginID)\n\n    return useQuery({\n        enabled: true,\n        queryKey: ['fungible-token', pluginID, address, chainId, options],\n        queryFn: async () => {\n            if (!address) return\n            return attemptUntil(\n                [\n                    async () => {\n                        if (pluginID !== NetworkPluginID.PLUGIN_EVM || !isNativeTokenAddress(address) || !chainId)\n                            return\n                        const network = networks.find((x) => x.chainId === chainId)\n                        return network?.nativeCurrency\n                    },\n                    async () => {\n                        const token = await Hub.getFungibleToken(address, { chainId })\n                        if (!token) return\n                        const logoURL = token.logoURL ?? fallbackToken?.logoURL\n                        const symbol =\n                            token.symbol === 'UNKNOWN' || !token.symbol ? fallbackToken?.symbol : token.symbol\n                        return { ...token, symbol, logoURL } as Web3Helper.FungibleTokenScope<S, T>\n                    },\n                ],\n                fallbackToken,\n            )\n        },\n    })\n}\n","import { noop } from 'lodash-es'\nimport { useEffect } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useFungibleTokenBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string,\n    options?: ConnectionOptions<T>,\n    /** Allow to control the request */\n    enabled = true,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        ...options,\n    })\n    const { BalanceNotifier } = useWeb3State(pluginID)\n\n    const result = useQuery({\n        enabled,\n        queryKey: ['fungible-token', 'balance', pluginID, account, address, options],\n        queryFn: async () => {\n            if (!address) return '0'\n            return Web3.getFungibleTokenBalance(address, undefined, options)\n        },\n    })\n\n    useEffect(() => {\n        return (\n            BalanceNotifier?.emitter.on('update', (ev) => {\n                if (isSameAddress(account, ev.account)) {\n                    result.refetch()\n                }\n            }) ?? noop\n        )\n    }, [account, result.refetch, BalanceNotifier])\n\n    return result\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useQuery } from '@tanstack/react-query'\n\nexport function useFungibleTokenPrice<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID: T,\n    address?: string,\n    options?: HubOptions<T>,\n) {\n    const { chainId } = useChainContext({ chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, {\n        chainId,\n        ...options,\n    })\n\n    return useQuery({\n        enabled: !!chainId && !!address,\n        queryKey: ['fungible', 'token-price', pluginID, chainId, address, options],\n        queryFn: async () => {\n            return Hub.getFungibleTokenPrice(chainId, address!.toLowerCase())\n        },\n    })\n}\n","import { useAsyncRetry } from 'react-use'\nimport { EMPTY_LIST, type NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useWeb3Connection } from './useWeb3Connection.js'\n\nexport function useFungibleTokens<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    listOfAddress?: string[],\n    options?: ConnectionOptions<T>,\n) {\n    const Web3 = useWeb3Connection(pluginID, options)\n\n    return useAsyncRetry<Array<Web3Helper.FungibleTokenScope<S, T>>>(async () => {\n        if (!listOfAddress?.length) return EMPTY_LIST\n        return Promise.all(listOfAddress.map((x) => Web3.getFungibleToken(x)))\n    }, [Web3, listOfAddress?.join(',')])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useFungibleToken } from './useFungibleToken.js'\nimport { useNativeTokenAddress } from './useNativeTokenAddress.js'\n\nexport function useNativeToken<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const nativeTokenAddress = useNativeTokenAddress(pluginID, options)\n    return useFungibleToken<S, T>(pluginID, nativeTokenAddress, undefined, options)\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useWeb3Others } from './useWeb3Others.js'\nimport { useNetwork } from './useNetwork.js'\n\nexport function useNativeTokenAddress<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const network = useNetwork(pluginID)\n    const Others = useWeb3Others(pluginID)\n    if (network?.isCustomized) {\n        return network.nativeCurrency.address\n    }\n    return Others.getNativeTokenAddress(options?.chainId)\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { EMPTY_STRING, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\nimport { useNetworks } from './useNetworks.js'\n\nexport function useNetwork<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    chainId?: Web3Helper.Definition[T]['ChainId'],\n) {\n    const { Network } = useWeb3State(pluginID)\n    const networks = useNetworks(pluginID)\n    const networkID = useSubscription(Network?.networkID ?? EMPTY_STRING)\n\n    return useMemo(() => {\n        if (chainId) return networks.find((x) => x.chainId === chainId)\n        return networks.find((x) => x.ID === networkID)\n    }, [chainId, networkID, networks])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedChainIdOrNetworkTypeOrID?: string | number,\n): Web3Helper.NetworkDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { networkType } = useChainContext()\n\n    return getRegisteredWeb3Networks(pluginID).find((x) =>\n        [x.chainId, x.type, x.ID].includes(expectedChainIdOrNetworkTypeOrID ?? networkType ?? ''),\n    )\n}\n","import { type NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport { useNetworkContext } from './useContext.js'\n\n/**\n * Get all built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptors<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return getRegisteredWeb3Networks(pluginID)\n}\n","import { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { uniqBy } from 'lodash-es'\nimport { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport { useWeb3State } from './useWeb3State.js'\n\n/**\n * Bulletin networks and custom networks.\n * There could be duplicate chian id among them, because that's allow to custom networks.\n */\nexport function useNetworks<T extends NetworkPluginID = NetworkPluginID>(pluginID?: T, uniqChainId?: boolean) {\n    const { Network } = useWeb3State(pluginID)\n    const networks = useSubscription(Network?.networks ?? EMPTY_ARRAY)\n    return useMemo(() => {\n        const list = networks.filter((x) => x.network === 'mainnet' || x.isCustomized)\n        return uniqChainId ? uniqBy(list, (x) => x.chainId) : list\n    }, [networks, uniqChainId])\n}\n","import { getRegisteredWeb3Providers } from '@masknet/web3-providers'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared provider descriptor\n * @param expectedPluginID\n * @param expectedProviderTypeOrID\n * @returns\n */\nexport function useProviderDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedProviderTypeOrID?: string,\n): Web3Helper.ProviderDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { providerType } = useChainContext()\n\n    return getRegisteredWeb3Providers(pluginID).find((x) =>\n        [x.type, x.ID].includes(expectedProviderTypeOrID ?? providerType ?? ''),\n    )\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport type { RecentTransactionComputed, TransactionStatusType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRecentTransactions<T extends NetworkPluginID>(pluginID?: T, status?: TransactionStatusType) {\n    const { Transaction } = useWeb3State(pluginID)\n    const transactions = useSubscription(Transaction?.transactions ?? EMPTY_ARRAY)\n    type ChainId = Web3Helper.Definition[T]['ChainId']\n    type Transaction = Web3Helper.Definition[T]['Transaction']\n\n    return useMemo<Array<RecentTransactionComputed<ChainId, Transaction>>>(() => {\n        return (status ? transactions.filter((x) => status === x.status) : transactions).map((x) => ({\n            ...x,\n            _tx: x.candidates[x.indexId],\n        }))\n    }, [status, transactions])\n}\n","import { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useReverseAddress<T extends NetworkPluginID>(pluginID?: T, address?: string, domainOnly?: boolean) {\n    const { NameService } = useWeb3State(pluginID)\n\n    return useQuery({\n        queryKey: ['reverse', address, domainOnly],\n        enabled: !!NameService?.reverse,\n        queryFn: async () => {\n            if (!address) return null\n            return (await NameService?.reverse?.(address, domainOnly)) || null\n        },\n    })\n}\n","import { useMemo } from 'react'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWallets } from './useWallets.js'\n\n/**\n * Use the currently selected wallet.\n * @param pluginID\n * @returns\n */\nexport function useWallet<T extends NetworkPluginID>(\n    pluginID?: T,\n    providerType?: Web3Helper.Definition[T]['ProviderType'],\n) {\n    const { account } = useChainContext()\n    const wallets = useWallets()\n\n    return useMemo(() => {\n        return account ? wallets.find((x) => isSameAddress?.(x.address, account)) ?? null : null\n    }, [account, wallets])\n}\n","import { EMPTY_LIST, type Wallet } from '@masknet/shared-base'\nimport { Providers } from '@masknet/web3-providers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useMemo } from 'react'\nimport { usePersistSubscription } from '@masknet/shared-base-ui'\n\nexport function useWallets() {\n    // We got stored Mask wallets only.\n    const wallets = usePersistSubscription(\n        '@@mask-wallets',\n        Providers[ProviderType.MaskWallet].subscription.wallets ?? EMPTY_LIST,\n    )\n\n    return useMemo(() => {\n        return [...wallets]\n            .map((w) => {\n                // Could be serialized by react query persist client\n                if (w.createdAt instanceof Date && w.updatedAt instanceof Date) return w\n                return {\n                    ...w,\n                    createdAt: new Date(w.createdAt),\n                    updatedAt: new Date(w.updatedAt),\n                } as Wallet\n            })\n            .sort((a, b) => {\n                if (a.owner && !b.owner) return 1\n                const timestampA = a.createdAt.getTime()\n                const timestampB = b.createdAt.getTime()\n                if (timestampA - timestampB > 10000) {\n                    return 1\n                } else if (timestampB - timestampA > 10000) {\n                    return -1\n                }\n                const numA = a.name.split('Wallet ')[1]\n                const numB = b.name.split('Wallet ')[1]\n                try {\n                    if (!numA && numB && !Number.isNaN(numB)) return 1\n                    if (!Number.isNaN(numA) && !Number.isNaN(numB)) {\n                        return Number(numA) > Number(numB) ? 1 : -1\n                    } else {\n                        return numB.length - numA.length\n                    }\n                } catch {\n                    return 0\n                }\n            })\n    }, [wallets])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { Web3All } from '@masknet/web3-providers'\nimport type { Connection, ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Connection<T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => Web3All.use(pluginID, options) as Connection<T>, [pluginID, JSON.stringify(options)])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { HubAll } from '@masknet/web3-providers'\nimport type { Hub, HubOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Hub<T extends NetworkPluginID = NetworkPluginID>(expectedPluginID?: T, options?: HubOptions<T>) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => HubAll.use(pluginID, options) as Hub<T>, [pluginID, JSON.stringify(options)])\n}\n","import { BigNumber } from 'bignumber.js'\nimport { scale10 } from './number.js'\nimport { CurrencyType } from '../index.js'\n\nexport interface FormatterCurrencyOptions {\n    onlyRemainTwoOrZeroDecimal?: boolean\n    fiatCurrencyRate?: number\n    customDecimalConfig?: {\n        boundary: BigNumber\n        decimalExp: number\n    }\n}\n\nconst BOUNDARIES = {\n    zeroDecimalBoundary: scale10(1, 0),\n    twoDecimalBoundary: scale10(1, -2),\n    sixDecimalBoundary: scale10(1, -6),\n    eightDecimalBoundary: scale10(1, -8),\n    twelveDecimalBoundary: scale10(1, -12),\n    zeroDecimalExp: 0,\n    twoDecimalExp: 2,\n    sixDecimalExp: 6,\n    eightDecimalExp: 8,\n    twelveDecimalExp: 12,\n}\n\nconst DIGITAL_CURRENCY_SYMBOLS = {\n    BTC: '\\u20BF',\n    ETH: '\\u039E',\n    SOL: '\\u25CE',\n    BNB: 'BNB',\n    POLYGON: 'MATIC',\n    WETH: 'WETH',\n    AVAX: 'AVAX',\n    GLMR: 'GLMR',\n    MATIC: 'MATIC',\n}\n\ntype UpperCaseKeys = keyof typeof DIGITAL_CURRENCY_SYMBOLS\ntype Keys = UpperCaseKeys | Lowercase<UpperCaseKeys>\n\nconst digitalCurrencyModifier = (parts: Intl.NumberFormatPart[], symbol: string, isDigitalCurrency: boolean) => {\n    if (!isDigitalCurrency) return parts\n    const [currencyPart, ...rest] = parts\n    if (symbol) return [...rest, { ...currencyPart, value: symbol }]\n    return parts\n}\n\nconst formatCurrencySymbol = (symbol: string, isLead: boolean) => {\n    return isLead || symbol.length === 0 ? symbol : ` ${symbol}`\n}\n\nconst fiatCurrencyResultModifier = (\n    result: string,\n    currency: LiteralUnion<Keys | 'USD'> = CurrencyType.USD,\n    onlyRemainTwoOrZeroDecimal: boolean,\n) => {\n    if (currency === CurrencyType.HKD) return result.replaceAll('$', 'HK$')\n\n    if (currency === CurrencyType.JPY && onlyRemainTwoOrZeroDecimal)\n        return result.startsWith('¥') ? '¥' + Number(result.replaceAll(/¥|,/g, '')).toFixed() : result\n\n    return result\n}\n\n// https://mask.atlassian.net/wiki/spaces/MASK/pages/122916438/Token\nexport function formatCurrency(\n    inputValue: BigNumber.Value,\n    currency: LiteralUnion<Keys | 'USD'> = CurrencyType.USD,\n    options?: FormatterCurrencyOptions,\n): string {\n    const { onlyRemainTwoOrZeroDecimal = false, fiatCurrencyRate = 1, customDecimalConfig } = options ?? {}\n    const bn = new BigNumber(inputValue).multipliedBy(fiatCurrencyRate)\n    const integerValue = bn.integerValue(1)\n    const decimalValue = bn.plus(integerValue.negated())\n    const isMoreThanOrEqualToOne = bn.isGreaterThanOrEqualTo(1)\n\n    const {\n        sixDecimalBoundary,\n        zeroDecimalBoundary,\n        twoDecimalBoundary,\n        twelveDecimalBoundary,\n        eightDecimalBoundary,\n        zeroDecimalExp,\n        sixDecimalExp,\n        twoDecimalExp,\n        twelveDecimalExp,\n    } = BOUNDARIES\n\n    const assetValueBoundary = currency === CurrencyType.JPY ? zeroDecimalBoundary : twoDecimalBoundary\n    const assetValueDecimalExp = currency === CurrencyType.JPY ? zeroDecimalExp : twoDecimalExp\n    const zeroValue = currency === CurrencyType.JPY ? '0' : '0.00'\n    const minimumValue = currency === CurrencyType.JPY ? '1' : '0.01'\n    const symbol = currency ? DIGITAL_CURRENCY_SYMBOLS[currency.toUpperCase() as UpperCaseKeys] : ''\n\n    let formatter: Intl.NumberFormat\n    let isIntlCurrencyValid = !DIGITAL_CURRENCY_SYMBOLS[currency.toUpperCase() as UpperCaseKeys]\n\n    try {\n        formatter = new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: isIntlCurrencyValid ? (currency === CurrencyType.JPY ? CurrencyType.CNY : currency) : 'USD',\n            currencyDisplay: 'narrowSymbol',\n        })\n    } catch {\n        isIntlCurrencyValid = false\n        formatter = new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD',\n            currencyDisplay: 'narrowSymbol',\n        })\n    }\n\n    const isDigitalCurrency = !!(!isIntlCurrencyValid && symbol)\n    const digitalCurrencyModifierValues = digitalCurrencyModifier(\n        formatter.formatToParts(\n            bn.isZero() ? 0 : bn.lt(sixDecimalBoundary) ? sixDecimalBoundary.toNumber() : bn.toNumber(),\n        ),\n        symbol,\n        isDigitalCurrency,\n    )\n\n    let result: string = ''\n\n    if (\n        bn.lt(customDecimalConfig?.boundary ?? onlyRemainTwoOrZeroDecimal ? assetValueBoundary : sixDecimalBoundary) ||\n        bn.isZero()\n    ) {\n        const isLessThanAssetValueDecimalBoundary = bn.lt(assetValueBoundary)\n        const isLessThanTwelveDecimalBoundary = bn.lt(twelveDecimalBoundary)\n        const isLessThanCustomDecimalBoundary = customDecimalConfig?.boundary\n            ? bn.lt(customDecimalConfig?.boundary)\n            : false\n        const isGreatThanEightDecimalBoundary = bn.gte(eightDecimalBoundary)\n\n        const value = digitalCurrencyModifierValues\n            .map(({ type, value }, i) => {\n                switch (type) {\n                    case 'currency':\n                        return formatCurrencySymbol(symbol ?? value, i === 0)\n                    case 'fraction':\n                        if (customDecimalConfig) {\n                            return bn.isZero()\n                                ? zeroValue\n                                : isLessThanCustomDecimalBoundary\n                                ? customDecimalConfig.boundary.toFixed()\n                                : bn.toFixed(customDecimalConfig.decimalExp).replace(/0+$/, '')\n                        }\n                        return bn.isZero()\n                            ? zeroValue\n                            : onlyRemainTwoOrZeroDecimal\n                            ? minimumValue\n                            : isLessThanTwelveDecimalBoundary\n                            ? sixDecimalBoundary.toFixed()\n                            : isGreatThanEightDecimalBoundary\n                            ? bn.decimalPlaces(10).toFixed(twelveDecimalExp).replace(/0+$/, '')\n                            : bn.toFixed(twelveDecimalExp).replace(/0+$/, '')\n                    default:\n                        return ''\n                }\n            })\n            .join('')\n\n        result = `${\n            (isLessThanTwelveDecimalBoundary || (onlyRemainTwoOrZeroDecimal && isLessThanAssetValueDecimalBoundary)) &&\n            !bn.isZero()\n                ? '< '\n                : ''\n        }${value}`\n    } else if (isMoreThanOrEqualToOne) {\n        result = digitalCurrencyModifierValues\n            .map(({ type, value }, i) => {\n                switch (type) {\n                    case 'currency':\n                        return formatCurrencySymbol(symbol ?? value, i === 0)\n                    case 'literal':\n                        return ''\n                    default:\n                        return value\n                }\n            })\n            .join('')\n    } else {\n        result = digitalCurrencyModifierValues\n            .map(({ type, value }, i) => {\n                switch (type) {\n                    case 'currency':\n                        return formatCurrencySymbol(symbol ?? value, i === 0)\n                    case 'fraction':\n                        const dec = decimalValue\n                            .toFormat(\n                                customDecimalConfig?.decimalExp ??\n                                    (onlyRemainTwoOrZeroDecimal ? assetValueDecimalExp : sixDecimalExp),\n                            )\n                            .replace(/\\d\\./, '')\n                        return onlyRemainTwoOrZeroDecimal ? dec.replace(/(\\d\\d)(0+)$/, '$1') : dec.replace(/(0+)$/, '')\n                    case 'integer':\n                        // When there is a carry\n                        if (bn.gt('0.99') && onlyRemainTwoOrZeroDecimal) return '1'\n                        return '0'\n                    case 'literal':\n                        return ''\n                    default:\n                        return value\n                }\n            })\n            .join('')\n    }\n\n    return fiatCurrencyResultModifier(result, currency, onlyRemainTwoOrZeroDecimal)\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n}), 'Error');","import * as React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * @type {React.Context<{ idPrefix: string; value: string } | null>}\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Context = /*#__PURE__*/React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  Context.displayName = 'TabContext';\n}\n\nfunction useUniquePrefix() {\n  const [id, setId] = React.useState(null);\n  React.useEffect(() => {\n    setId(`mui-p-${Math.round(Math.random() * 1e5)}`);\n  }, []);\n  return id;\n}\n\nexport default function TabContext(props) {\n  const {\n    children,\n    value\n  } = props;\n  const idPrefix = useUniquePrefix();\n  const context = React.useMemo(() => {\n    return {\n      idPrefix,\n      value\n    };\n  }, [idPrefix, value]);\n  return /*#__PURE__*/_jsx(Context.Provider, {\n    value: context,\n    children: children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? TabContext.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * The value of the currently selected `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\n/**\n * @returns {unknown}\n */\n\nexport function useTabContext() {\n  return React.useContext(Context);\n}\nexport function getPanelId(context, value) {\n  const {\n    idPrefix\n  } = context;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return `${context.idPrefix}-P-${value}`;\n}\nexport function getTabId(context, value) {\n  const {\n    idPrefix\n  } = context;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return `${context.idPrefix}-T-${value}`;\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getTabPanelUtilityClass(slot) {\n  return generateUtilityClass('MuiTabPanel', slot);\n}\nconst tabPanelClasses = generateUtilityClasses('MuiTabPanel', ['root']);\nexport default tabPanelClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { getTabPanelUtilityClass } from './tabPanelClasses';\nimport { getPanelId, getTabId, useTabContext } from '../TabContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getTabPanelUtilityClass, classes);\n};\n\nconst TabPanelRoot = styled('div', {\n  name: 'MuiTabPanel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  padding: theme.spacing(3)\n}));\nconst TabPanel = /*#__PURE__*/React.forwardRef(function TabPanel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTabPanel'\n  });\n\n  const {\n    children,\n    className,\n    value\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props);\n\n  const classes = useUtilityClasses(ownerState);\n  const context = useTabContext();\n\n  if (context === null) {\n    throw new TypeError('No TabContext provided');\n  }\n\n  const id = getPanelId(context, value);\n  const tabId = getTabId(context, value);\n  return /*#__PURE__*/_jsx(TabPanelRoot, _extends({\n    \"aria-labelledby\": tabId,\n    className: clsx(classes.root, className),\n    hidden: value !== context.value,\n    id: id,\n    ref: ref,\n    role: \"tabpanel\",\n    ownerState: ownerState\n  }, other, {\n    children: value === context.value && children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabPanel.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The `value` of the corresponding `Tab`. Must use the index of the `Tab` when\n   * no `value` was passed to `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\nexport default TabPanel;","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Global } from '@emotion/react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction isEmpty(obj) {\n  return obj === undefined || obj === null || Object.keys(obj).length === 0;\n}\n\nexport default function GlobalStyles(props) {\n  const {\n    styles,\n    defaultTheme = {}\n  } = props;\n  const globalStyles = typeof styles === 'function' ? themeInput => styles(isEmpty(themeInput) ? defaultTheme : themeInput) : styles;\n  return /*#__PURE__*/_jsx(Global, {\n    styles: globalStyles\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? GlobalStyles.propTypes = {\n  defaultTheme: PropTypes.object,\n  styles: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func])\n} : void 0;","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","'use client';\nimport * as React from 'react';\n\nconst IsRestoringContext = /*#__PURE__*/React.createContext(false);\nconst useIsRestoring = () => React.useContext(IsRestoringContext);\nconst IsRestoringProvider = IsRestoringContext.Provider;\n\nexport { IsRestoringProvider, useIsRestoring };\n//# sourceMappingURL=isRestoring.mjs.map\n","import React from 'react';\n\nfunction createContainer(useHook) {\n  var Context = React.createContext(null);\n\n  function Provider(props) {\n    var value = useHook(props.initialState);\n    return React.createElement(Context.Provider, {\n      value: value\n    }, props.children);\n  }\n\n  function useContainer() {\n    var value = React.useContext(Context);\n\n    if (value === null) {\n      throw new Error(\"Component must be wrapped with <Container.Provider>\");\n    }\n\n    return value;\n  }\n\n  return {\n    Provider: Provider,\n    useContainer: useContainer\n  };\n}\nfunction useContainer(container) {\n  return container.useContainer();\n}\n\nexport { createContainer, useContainer };\n//# sourceMappingURL=unstated-next.mjs.map\n"],"names":["lastRecognizedProfile","currentVisitingProfile","currentNextIDPlatform","currentPersonaIdentifier","getPostURL","share","getUserIdentity","getPostIdFromNewPostToast","postMessage","getSearchedKeyword","connectPersona","__setSiteAdaptorContext__","value","TabType","Deposit","Withdraw","ProtocolType","Lido","AAVE","ProviderIconURLs","URL","url","toString","BigNumber","AaveLendingPoolABI","AaveLendingPoolAddressProviderABI","ERC20ABI","fetchJSON","ZERO","pow10","TransactionEventType","createContract","getAaveConstant","AAVEProtocol","pair","DEFAULT_APR","_balance","constructor","type","balance","bareToken","stakeToken","getApr","chainId","web3","subgraphUrl","body","JSON","stringify","query","variables","address","pool","response","method","headers","liquidityRate","data","reserves","RAY","times","div","toFixed","error","console","getBalance","account","aTokenId","aToken","id","contract","methods","balanceOf","call","depositEstimate","operation","createDepositTokenOperation","gasEstimate","estimateGas","from","aaveLPoolAddress","lPoolAddressProviderContract","poolAddress","getLendingPool","deposit","Error","Promise","resolve","reject","send","gas","toNumber","once","ERROR","CONFIRMATION","_","receipt","transactionHash","withdrawEstimate","withdraw","useMemo","useChainContext","useWeb3Connection","useWeb3","pluginID","options","providerType","Web3","getWeb3","useQuery","NetworkPluginID","ChainId","useApr","protocol","enabled","isAAve","Mainnet","PLUGIN_EVM","queryKey","queryFn","useBalance","useTranslation","createProxy","initValue","define","key","Object","defineProperty","container","configurable","__proto__","Proxy","get","undefined","getPrototypeOf","setPrototypeOf","v","getOwnPropertyDescriptor","useSavingsTrans","t","bind","FormattedBalance","TokenIcon","useEverSeen","makeStyles","useFungibleTokenBalance","formatBalance","isZero","rightShift","Button","Grid","Typography","memo","useStyles","theme","props","tableRow","display","background","palette","maskColor","bg","borderRadius","spacing","marginBottom","tableCell","alignItems","padding","fontSize","logoWrap","position","margin","logo","width","height","logoMini","bottom","right","protocolLabel","SavingsRow","isDeposit","onWithdraw","onDeposit","classes","seen","ref","apr","isFetching","isFetchingApr","isSuccess","className","item","xs","name","img","src","variant","symbol","FungibleTokenBalance","protocolBalance","color","disabled","onClick","plugin_savings_deposit","plugin_savings_withdraw","tokenBalance","decimals","significant","minimumBalance","formatter","Icons","CrossIsolationMessages","Box","useTheme","useCallback","LDO_PAIRS","containerWrap","fontFamily","typography","tableContainer","tableHeader","placeholder","flexDirection","justifyContent","minHeight","loading","text","primary","lineHeight","marginTop","animated","transform","animation","empty","secondaryDivider","SavingsTable","tab","protocols","setSelectedProtocol","loadingProtocols","handleWithdraw","ETH","sETH","events","swapDialogEvent","sendToLocal","open","traderProps","defaultInputCoin","defaultOutputCoin","plugin_savings_asset","plugin_savings_apr","plugin_savings_wallet","plugin_savings_operation","CircleLoading","size","popups_loading","length","map","index","EmptySimple","mt","second","plugin_savings_no_protocol","useState","useAsync","useAsyncFn","useQueryClient","ActionButtonPromise","EthereumERC20TokenApprovedBoundary","FormattedCurrency","FungibleTokenInput","InjectedDialog","PluginWalletStatusBar","WalletConnectedBoundary","useOpenShareTxDialog","Sniffings","LoadingBase","useFungibleTokenPrice","useNativeToken","formatCurrency","isLessThan","isLessThanOrEqualTo","isPositive","Contract","Others","ChainResolver","SchemaType","isNativeTokenAddress","DialogActions","DialogContent","inputWrap","tokenValueUSD","infoRow","infoRowLeft","infoRowRight","fontWeight","rowImage","button","connectWallet","gasFee","opacity","SavingsFormDialog","onClose","currentChainId","inputAmount","setInputAmount","estimatedGas","setEstimatedGas","nativeToken","nativeTokenBalance","inputTokenBalance","tokenAmount","balanceAsBN","balanceGasMinus","minus","needsSwap","validationMessage","plugin_trader_error_amount_absence","plugin_trade_error_input_amount_less_minimum_amount","plugin_trader_error_insufficient_balance","tokenPrice","approvalData","aavePoolAddress","getWeb3Contract","token","approveToken","schema","ERC20","approveAmount","shiftedBy","approveAddress","openShareTxDialog","promote","amount","chain","chainName","is_twitter_page","twitter_account","facebook_account","shareText","promote_savings","promote_withdraw","queryClient","executor","methodName","switchChain","hash","invalidateQueries","onShare","buttonDom","expectedChainId","ActionButtonProps","root","spender","init","waiting","plugin_savings_process_deposit","failed","failedOnClick","complete","done","noUpdateEffect","plugin_savings_swap_token","plugin_savings_withdraw_token","plugin_savings_process_withdraw","title","style","maxAmount","label","plugin_savings_amount","onAmountChange","textAlign","span","component","logoURL","ZERO_ADDRESS","getLidoConstant","LidoAPI","LidoABI","LidoProtocol","getStEthAPR","submit","chunk","compact","flatten","Tab","TabContext","TabPanel","Web3ContextProvider","useFungibleTokens","RevokeChainContextProvider","ChainContextProvider","EMPTY_LIST","MaskTabList","useTabs","NetworkTab","AllProviderTradeContext","AaveProtocolDataProviderABI","abstractTabWrapper","paddingBottom","top","zIndex","tableTabWrapper","content","dialogRoot","minWidth","boxShadow","backgroundImage","maxWidth","chains","SavingsDialog","selectedProtocol","aaveTokens","isLoading","loadingAAve","protocolDataContract","tokens","aTokens","all","getAllReservesTokens","getAllATokens","find","f","toUpperCase","staleTime","detailedAaveTokens","loadingAAveDetails","filter","x","currentTab","onChange","tabs","Provider","paper","plugin_savings","titleTabs","aria-label","requireChains","Boolean","Trans","ApplicationEntry","base","PluginID","site","signal","ApplicationEntries","icon","Savings","i18nKey","ns","iconFilterColor","ApplicationEntryID","ID","RenderEntryComponent","EntryComponentProps","setOpen","clickHandler","appBoardSortingDefaultPriority","useEffect","useRef","useIntersection","setSeen","nullRef","entry","isIntersecting","defer","delay","Emitter","SingletonModal","close","abort","openAndWaitForClose","emitter","onOpen","onAbort","dispatchPeek","dispatchOpen","dispatchClose","dispatchAbort","register","creator","emit","peek","warn","SingletonModalQueued","opened","tasks","on","cleanup","push","d","shift","CircularProgress","ActionButton","Check","CheckIcon","ErrorIcon","red","green","useUpdateEffect","circle","cx","completeOnClick","waitingOnClick","onComplete","completeIcon","failIcon","waitingIcon","failedButtonStyle","b","state","setState","completeClass","success","failClass","run","then","status","message","includes","cancel","p","completeClick","failClick","prev","children","startIcon","backgroundColor","ShadowRootTooltip","Link","useCopyToClipboard","useSharedTrans","copy","main","CopyButton","successText","scoped","copyToClipboard","copied","setCopied","active","setActive","timerRef","handleCopy","ev","stopPropagation","preventDefault","clearTimeout","current","setTimeout","tooltipTitle","iconProps","placement","disableInteractive","arrow","underline","Copy","InputBase","Chip","lighten","inputBaseClasses","chipClasses","alpha","input","paddingTop","flex","paddingLeft","left","whiteSpace","control","rowGap","chip","cursor","tokenIcon","marginRight","selectToken","white","maxChip","marginLeft","textOverflow","overflow","arrowIcon","chipLabel","FungibleTokenInputUI","isNative","onSelectToken","onMaxClick","loadingBalance","disableMax","disableToken","disableBalance","fullWidth","startAdornment","endAdornment","available_balance","columnGap","deleteIcon","ArrowDrop","onDelete","select_a_token","currentTarget","RegExp","inputProps","pattern","test","displayName","useWeb3Others","NUMERIC_INPUT_REGEXP_PATTERN","leftShift","MIN_AMOUNT_LENGTH","MAX_AMOUNT_LENGTH","isAvailableBalance","maxAmountShares","RE_MATCH_WHOLE_AMOUNT","RE_MATCH_FRACTION_AMOUNT","amount_","replaceAll","autoComplete","autoCorrect","inputMode","min","minLength","maxLength","spellCheck","onKeyDown","dividedBy","decimalPlaces","formattedBalance","toPrecision","toFormat","required","DEFAULT_IMAGES","name2Image","sum","i","charCodeAt","Avatar","dark","backgroundSize","Icon","rest","setFailed","defaultBackgroundImage","showImage","imgProps","onError","event","sx","common","slice","ImageIcon","backdropFilter","useNetworkDescriptors","useNetworkContext","useWallet","Stack","WalletIcon","SmartPayBundler","networkPluginID","setChainId","setNetworkType","networks","wallet","smartPaySupportChainId","getSupportedChainId","supportedChains","owner","usedNetworks","c","networkIds","isValidChainId","setTab","Number","parseInt","networkType","chainResolver","gap","mainIcon","shortName","useFungibleToken","useWeb3Hub","TokenType","first","propChainId","tokenType","Fungible","disableDefaultIcon","Hub","isNFT","NonFungible","logoURLs","getFungibleTokenIconURLs","catch","badgeIcon","border","badgeIconBorderColor","badgeSize","WalletConnectQRCodeModal","SelectProviderModal","WalletStatusModal","WalletRiskWarningModal","ConnectWalletModal","LeavePageConfirmModal","ApplicationBoardModal","ApplicationBoardSettingsModal","GasSettingModal","TransactionConfirmModal","TransactionSnackbar","ConfirmModal","ConfirmDialog","SelectNonFungibleContractModal","SelectGasSettingsModal","AddCollectiblesModal","SelectFungibleTokenModal","PersonaSelectPanelModal","ShareSelectNetworkModal","ApplicationSettingTabs","Fragment","valueInt","formatted","String","useCurrencyType","useFiatCurrencyRate","CurrencyType","sign","trim","currentSign","currentFiatCurrencyRate","rate","fiatCurrencyRate","USD","Done","DoneIcon","ExplorerResolver","link","secondary","ShareTransaction","transactionLink","href","target","rel","share_dialog_view_on_explorer","buttonLabel","confirmed","share_dialog_transaction","share_dialog_transaction_confirmed","confirmLabel","dialog_share","dialog_dismiss","LightColor","primaryContrastText","secondaryContrastText","primaryBackground","primaryBackground2","secondaryBackground","lightBackground","mainBackground","suspensionBackground","normalBackground","twitterBackground","twitterBackgroundHover","twitterInputBackground","twitterButton","twitterButtonText","twitterBlue","twitterBorderLine","twitterSecond","twitterMain","twitterBottom","twitterInfoBackground","twitterInfo","twitterBg","twitterTooltipBg","twitterInput","twitterLine","redMain","redLight","redContrastText","greenMain","greenLight","orangeMain","orangeLight","iconLight","divider","borderSecondary","textPrimary","textSecondary","secondaryInfoText","normalText","normalTextLight","infoBackground","warning","blue","textLink","lineLight","lineLighter","textLight","lightestBackground","linkText","twitter","facebook","errorBackground","tooltipBackground","warningBackground","cyberconnectPrimary","errorPlugin","buttonPluginBackground","textPluginColor","buttonPluginColor","DarkColor","kebabCase","getMaskColor","mode","set","cssVar","defaultValue","assign","Symbol","toPrimitive","MaskColorVar","enumerable","pointerEvents","disableElevation","styled","forwardRef","BaseTabWrap","shouldForwardProp","prop","activated","paddingRight","secondaryDark","BaseTab","selected","handleClick","role","aria-selected","e","FlexibleTabTabWrap","flexShrink","flexGrow","highlight","FlexibleTab","isVisitable","visitable","getBoundingClientRect","RoundTabWrap","RoundTab","ButtonGroup","useTabContext","getPanelId","getTabId","Children","isValidElement","useImperativeHandle","ArrowBackIosNew","ArrowBackIosNewIcon","useClickAway","useWindowSize","defaultTabSize","ArrowButtonWrap","ArrowBackIosNewIconWrap","FlexibleButtonGroupPanel","isOpen","boxSizing","ButtonGroupWrap","maskVariant","flexWrap","overflowY","FlexButtonGroupWrap","isOverflow","tabMapping","flexible","round","context","handleToggle","isTabsOverflow","setIsTabsOverflow","firstId","setFirstTabId","innerRef","anchorRef","flexPanelRef","TypeError","hideArrowButton","scrollWidth","clientWidth","child","extra","anchor","C","flexibleTabs","sort","a","pointerX","pointerY","y","visibility","arrowButton","aria-controls","aria-expanded","aria-haspopup","useTransition","defaultTab","possibleTabs","startTransition","tabRecords","forEach","isCurrentTabAvailable","useSubscription","UNDEFINED","useWeb3State","Settings","currencyType","FiatCurrencyRate","pick","fiatCurrencyType","allRates","getRates","keys","select","attemptUntil","useNetworks","fallbackToken","network","nativeCurrency","getFungibleToken","noop","isSameAddress","BalanceNotifier","result","getFungibleTokenBalance","refetch","getFungibleTokenPrice","toLowerCase","useAsyncRetry","listOfAddress","join","useNativeTokenAddress","nativeTokenAddress","useNetwork","isCustomized","getNativeTokenAddress","EMPTY_STRING","Network","networkID","getRegisteredWeb3Networks","useNetworkDescriptor","expectedPluginID","expectedChainIdOrNetworkTypeOrID","EMPTY_ARRAY","uniqBy","uniqChainId","list","getRegisteredWeb3Providers","useProviderDescriptor","expectedProviderTypeOrID","useRecentTransactions","Transaction","transactions","_tx","candidates","indexId","useReverseAddress","domainOnly","NameService","reverse","useWallets","wallets","Providers","ProviderType","usePersistSubscription","MaskWallet","subscription","w","createdAt","Date","updatedAt","timestampA","getTime","timestampB","numA","split","numB","isNaN","Web3All","use","HubAll","scale10","BOUNDARIES","zeroDecimalBoundary","twoDecimalBoundary","sixDecimalBoundary","eightDecimalBoundary","twelveDecimalBoundary","zeroDecimalExp","twoDecimalExp","sixDecimalExp","eightDecimalExp","twelveDecimalExp","DIGITAL_CURRENCY_SYMBOLS","BTC","SOL","BNB","POLYGON","WETH","AVAX","GLMR","MATIC","digitalCurrencyModifier","parts","isDigitalCurrency","currencyPart","formatCurrencySymbol","isLead","fiatCurrencyResultModifier","currency","onlyRemainTwoOrZeroDecimal","HKD","JPY","startsWith","inputValue","customDecimalConfig","bn","multipliedBy","integerValue","decimalValue","plus","negated","isMoreThanOrEqualToOne","isGreaterThanOrEqualTo","assetValueBoundary","assetValueDecimalExp","zeroValue","minimumValue","isIntlCurrencyValid","Intl","NumberFormat","CNY","currencyDisplay","digitalCurrencyModifierValues","formatToParts","lt","boundary","isLessThanAssetValueDecimalBoundary","isLessThanTwelveDecimalBoundary","isLessThanCustomDecimalBoundary","isGreatThanEightDecimalBoundary","gte","decimalExp","replace","dec","gt"],"sourceRoot":"","x_google_ignoreList":[35,59,60,61,62,63,64,65,66,67,68,69]}