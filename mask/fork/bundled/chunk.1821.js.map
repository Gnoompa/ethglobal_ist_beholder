{"version":3,"file":"bundled/chunk.1821.js","mappings":"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","sources":["webpack://mask-network/./packages/plugin-infra/src/site-adaptor/context.ts","webpack://mask-network/./packages/shared-base/src/SingletonModal/index.ts","webpack://mask-network/./packages/web3-hooks/base/src/useAllowTestnet.ts","webpack://mask-network/./packages/shared/src/UI/components/ChainBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/CopyButton/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/Icon/name2Image.ts","webpack://mask-network/./packages/shared/src/UI/components/Icon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ImageIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/TokenIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/Action.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/PluginWalletStatusBar.tsx","webpack://mask-network/./packages/shared/src/UI/components/WalletStatusBar/WalletDescription.tsx","webpack://mask-network/./packages/shared/src/UI/modals/modals.ts","webpack://mask-network/./packages/theme/src/CSSVariables/constants.ts","webpack://mask-network/./packages/theme/src/CSSVariables/vars.ts","webpack://mask-network/./packages/theme/src/Components/ActionButton/index.tsx","webpack://mask-network/./packages/theme/src/Components/LoadingBase/index.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Info.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Warning.js","webpack://mask-network/./packages/theme/src/Components/Snackbar/index.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/BaseTab.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/FlexibleTab.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/ArrowBackIosNew.js","webpack://mask-network/./packages/theme/src/Components/Tabs/RoundTab.tsx","webpack://mask-network/./packages/theme/src/Components/Tabs/index.tsx","webpack://mask-network/./packages/theme/src/hooks/useTabs.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useChainIdValid.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleToken.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenBalance.ts","webpack://mask-network/./packages/web3-hooks/base/src/useGasOptions.ts","webpack://mask-network/./packages/web3-hooks/base/src/useGasOption.ts","webpack://mask-network/./packages/web3-hooks/base/src/useGasPrice.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNativeTokenBalance.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworks.ts","webpack://mask-network/./packages/web3-hooks/base/src/useProviderDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useRecentTransactions.ts","webpack://mask-network/./packages/web3-hooks/base/src/useReverseAddress.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallet.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Connection.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Hub.ts","webpack://mask-network/./packages/web3-hooks/evm/src/useERC20TokenAllowance.ts","webpack://mask-network/./packages/web3-hooks/evm/src/useERC20TokenApproveCallback.ts","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabContext/TabContext.js","webpack://mask-network/./node_modules/.pnpm/copy-to-clipboard@3.3.1/node_modules/copy-to-clipboard/index.js","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/cjs/react-is.production.min.js","webpack://mask-network/./node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/index.js","webpack://mask-network/./node_modules/.pnpm/toggle-selection@1.0.6/node_modules/toggle-selection/index.js","webpack://mask-network/./node_modules/.pnpm/@tanstack+react-query@4.29.25_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-exp_ph45ttbltampqv75cnp6zhp25e/node_modules/@tanstack/react-query/build/lib/isRestoring.mjs"],"sourcesContent":["// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { NextIDPlatform, PersonaIdentifier, PostIdentifier } from '@masknet/shared-base'\n\nexport interface __SiteAdaptorContext__ {\n    lastRecognizedProfile: Subscription<IdentityResolved | undefined>\n    currentVisitingProfile: Subscription<IdentityResolved | undefined>\n    currentNextIDPlatform: NextIDPlatform | undefined\n    currentPersonaIdentifier: Subscription<PersonaIdentifier | undefined>\n    getPostURL: (identifier: PostIdentifier) => URL | null\n    share: undefined | ((text: string) => void)\n    getUserIdentity: ((useId: string) => Promise<IdentityResolved | undefined>) | undefined\n    getPostIdFromNewPostToast: (() => string) | undefined\n    postMessage: ((text: string, options?: any) => Promise<void>) | undefined\n    getSearchedKeyword: (() => string) | undefined\n    connectPersona: () => Promise<void>\n}\nexport let lastRecognizedProfile: __SiteAdaptorContext__['lastRecognizedProfile']\nexport let currentVisitingProfile: __SiteAdaptorContext__['currentVisitingProfile']\nexport let currentNextIDPlatform: NextIDPlatform | undefined\nexport let currentPersonaIdentifier: __SiteAdaptorContext__['currentPersonaIdentifier']\nexport let getPostURL: __SiteAdaptorContext__['getPostURL']\nexport let share: __SiteAdaptorContext__['share']\nexport let getUserIdentity: __SiteAdaptorContext__['getUserIdentity']\nexport let getPostIdFromNewPostToast: __SiteAdaptorContext__['getPostIdFromNewPostToast']\nexport let postMessage: __SiteAdaptorContext__['postMessage']\nexport let getSearchedKeyword: __SiteAdaptorContext__['getSearchedKeyword']\nexport let connectPersona: __SiteAdaptorContext__['connectPersona']\nexport function __setSiteAdaptorContext__(value: __SiteAdaptorContext__) {\n    ;({\n        lastRecognizedProfile,\n        currentVisitingProfile,\n        currentNextIDPlatform,\n        currentPersonaIdentifier,\n        getPostURL,\n        share,\n        getUserIdentity,\n        getPostIdFromNewPostToast,\n        postMessage,\n        getSearchedKeyword,\n        connectPersona,\n    } = value)\n}\n","import { defer, delay, type DeferTuple } from '@masknet/kit'\nimport { Emitter } from '@servie/events'\n\nexport type SingletonModalRefCreator<OpenProps = void, CloseProps = void> = (\n    onOpen: (props: OpenProps) => void,\n    onClose: (props: CloseProps) => void,\n    onAbort: (error: Error) => void,\n) => {\n    peek: () => boolean\n    open: (props: OpenProps) => void\n    close: (props: CloseProps) => void\n    abort?: (error: Error) => void\n}\n\nexport interface SingletonModalProps {\n    children: React.ReactNode\n}\n\nexport class SingletonModal<\n    OpenProps = void,\n    CloseProps = void,\n    T extends SingletonModalRefCreator<OpenProps, CloseProps> = SingletonModalRefCreator<OpenProps, CloseProps>,\n> {\n    constructor() {\n        this.open = this.open.bind(this)\n        this.close = this.close.bind(this)\n        this.abort = this.abort.bind(this)\n        this.openAndWaitForClose = this.openAndWaitForClose.bind(this)\n    }\n    readonly emitter = new Emitter<{\n        open: [OpenProps]\n        close: [CloseProps]\n        abort: [Error]\n    }>()\n\n    protected onOpen: ReturnType<T>['open'] | undefined\n    protected onClose: ReturnType<T>['close'] | undefined\n    protected onAbort: ReturnType<T>['abort'] | undefined\n\n    private dispatchPeek: ReturnType<T>['peek'] | undefined\n    private dispatchOpen: ReturnType<T>['open'] | undefined\n    private dispatchClose: ReturnType<T>['close'] | undefined\n    private dispatchAbort: ReturnType<T>['abort'] | undefined\n\n    /**\n     * Register a React modal component that implemented a forwarded ref.\n     * The ref item should be fed with open and close methods.\n     */\n    register = (creator: T | null) => {\n        if (!creator) {\n            this.dispatchOpen = undefined\n            this.dispatchClose = undefined\n            this.dispatchAbort = undefined\n            return\n        }\n\n        const ref = creator(\n            (props) => {\n                this.onOpen?.(props)\n                this.emitter.emit('open', props)\n            },\n            (props) => {\n                this.onClose?.(props)\n                this.emitter.emit('close', props)\n            },\n            (error) => {\n                this.onAbort?.(error)\n                this.emitter.emit('abort', error)\n            },\n        )\n        this.dispatchPeek = ref.peek\n        this.dispatchOpen = ref.open\n        this.dispatchClose = ref.close\n        this.dispatchAbort = ref.abort\n    }\n\n    /**\n     * Peek the open state of the React modal component.\n     */\n    peek() {\n        return this.dispatchPeek?.() ?? false\n    }\n\n    /**\n     * Open the registered modal component with props\n     * @param props\n     */\n    open(props: OpenProps) {\n        if (typeof this.dispatchOpen === 'undefined') console.warn(\"[SingletonModal]: The modal hasn't registered yet.\")\n        this.dispatchOpen?.(props)\n    }\n\n    /**\n     * Close the registered modal component with props\n     * @param props\n     */\n    close(props: CloseProps) {\n        this.dispatchClose?.(props)\n    }\n\n    /**\n     * Abort the registered modal component with Error\n     */\n    abort(error: Error) {\n        this.dispatchAbort?.(error)\n    }\n\n    /**\n     * Open the registered modal component and wait for it closes\n     * @param props\n     */\n    openAndWaitForClose(props: OpenProps): Promise<CloseProps> {\n        return new Promise<CloseProps>((resolve, reject) => {\n            this.open(props)\n            this.onClose = (props) => resolve(props)\n            this.onAbort = (error) => reject(error)\n        })\n    }\n}\n\nexport class SingletonModalQueued<OpenProps = void, CloseProps = void> extends SingletonModal<OpenProps, CloseProps> {\n    private opened = false\n    private tasks: Array<{\n        props: OpenProps\n        defer?: DeferTuple<CloseProps, Error>\n    }> = []\n\n    constructor() {\n        super()\n\n        this.emitter.on('open', () => {\n            this.opened = true\n        })\n        this.emitter.on('close', () => {\n            this.opened = false\n            this.cleanup()\n        })\n        this.emitter.on('abort', () => {\n            this.opened = false\n            this.cleanup()\n        })\n    }\n\n    override open(props: OpenProps) {\n        if (!this.opened) {\n            super.open(props)\n            return\n        }\n\n        this.tasks.push({\n            props,\n        })\n    }\n\n    override close(props: CloseProps) {\n        if (!this.opened) return\n\n        super.close(props)\n    }\n\n    override openAndWaitForClose(props: OpenProps) {\n        if (!this.opened) return super.openAndWaitForClose(props)\n\n        const d = defer<CloseProps, Error>()\n        this.tasks.push({\n            props,\n            defer: d,\n        })\n        return d[0]\n    }\n\n    private async cleanup() {\n        if (this.opened || !this.tasks.length) return\n\n        await delay(300)\n\n        const { props, defer } = this.tasks.shift()!\n\n        this.open(props)\n        if (!defer) return\n        this.onClose = (props) => defer[1](props)\n        this.onAbort = (error) => defer[2](error)\n    }\n}\n","import { useSubscription } from 'use-subscription'\nimport { FALSE, TRUE, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useAllowTestnet<T extends NetworkPluginID>(pluginID?: T) {\n    const { Settings } = useWeb3State(pluginID)\n    return useSubscription(Settings?.allowTestnet ?? (process.env.NODE_ENV === 'development' ? TRUE : FALSE))\n}\n","import React, { memo } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { delay } from '@masknet/kit'\nimport { Box } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, ShadowRootTooltip, ActionButton, useCustomSnackbar } from '@masknet/theme'\nimport {\n    useNetworkContext,\n    useChainContext,\n    useNetworkDescriptor,\n    useAllowTestnet,\n    useChainIdValid,\n    RevokeChainContextProvider,\n    useWeb3Others,\n    useWeb3Connection,\n} from '@masknet/web3-hooks-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { WalletIcon } from '../WalletIcon/index.js'\nimport { type ActionButtonPromiseProps } from '../ActionButton/index.js'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { SelectProviderModal } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    tooltip: {\n        background: theme.palette.common.black,\n        color: theme.palette.common.white,\n        borderRadius: 4,\n        padding: 10,\n        maxWidth: 260,\n    },\n    arrow: {\n        color: theme.palette.common.black,\n    },\n    connectWallet: {\n        '& > .MuiButton-startIcon': {\n            lineHeight: 1,\n        },\n    },\n}))\n\nexport interface ChainBoundaryProps<T extends NetworkPluginID> extends withClasses<'switchButton'> {\n    /** The expected network plugin ID */\n    expectedPluginID: T\n    /** The expected sub-network under the network plugin */\n    expectedChainId: Web3Helper.Definition[T]['ChainId']\n    /** Judge the network is available for children components */\n    predicate?: (actualPluginID: NetworkPluginID, actualChainId: Web3Helper.Definition[T]['ChainId']) => boolean\n    expectedAccount?: string\n    className?: string\n    hiddenConnectButton?: boolean\n    switchChainWithoutPopup?: boolean\n    forceShowingWrongNetworkButton?: boolean\n    children?: React.ReactNode\n    ActionButtonPromiseProps?: Partial<ActionButtonPromiseProps>\n    actualNetworkPluginID?: T\n    switchText?: string\n    disableConnectWallet?: boolean\n}\n\nexport function ChainBoundaryWithoutContext<T extends NetworkPluginID>(props: ChainBoundaryProps<T>) {\n    const {\n        expectedPluginID,\n        expectedChainId,\n        expectedAccount,\n        actualNetworkPluginID,\n        switchText,\n        forceShowingWrongNetworkButton = false,\n        disableConnectWallet = false,\n        predicate = (actualPluginID, actualChainId) =>\n            actualPluginID === expectedPluginID && actualChainId === expectedChainId,\n    } = props\n\n    const t = useSharedTrans()\n    const { classes } = useStyles(undefined, { props })\n\n    const { pluginID: actualPluginID } = useNetworkContext(actualNetworkPluginID)\n\n    const Web3 = useWeb3Connection(actualPluginID)\n\n    const { showSnackbar } = useCustomSnackbar()\n    const {\n        account,\n        chainId: actualChainId,\n        providerType: actualProviderType,\n    } = useChainContext({ account: expectedAccount })\n\n    const expectedOthers = useWeb3Others(expectedPluginID)\n    const expectedAllowTestnet = useAllowTestnet(expectedPluginID)\n\n    const chainIdValid = useChainIdValid(actualPluginID)\n\n    const expectedChainName = expectedOthers.chainResolver.chainName(expectedChainId)\n    const expectedNetworkDescriptor = useNetworkDescriptor(expectedPluginID, expectedChainId)\n    const expectedChainAllowed = expectedOthers.chainResolver.isValidChainId(expectedChainId, expectedAllowTestnet)\n\n    const isPluginIDMatched = actualPluginID === expectedPluginID\n    const isMatched = predicate(actualPluginID, actualChainId)\n\n    const [{ loading }, onSwitchChain] = useAsyncFn(async () => {\n        try {\n            if (actualProviderType !== ProviderType.WalletConnect || isMatched || !expectedChainAllowed) return\n            await Web3.switchChain?.(expectedChainId)\n            await delay(1500)\n\n            return 'complete'\n        } catch (error) {\n            if (error instanceof Error) {\n                if (error.message === 'Chain currently not supported' || error.message === 'Invalid Request') {\n                    showSnackbar(t.plugin_wallet_switch_network_title(), {\n                        processing: false,\n                        variant: 'error',\n                        message: t.plugin_wallet_unsupported_chain({ network: expectedChainName ?? '' }),\n                        autoHideDuration: 5000,\n                    })\n                } else {\n                    showSnackbar(t.plugin_wallet_switch_network_title(), {\n                        processing: false,\n                        variant: 'error',\n                        message: t.plugin_wallet_switch_chain_failed(),\n                        autoHideDuration: 5000,\n                    })\n                }\n            }\n            return 'failed'\n        }\n    }, [expectedChainAllowed, isMatched, expectedChainId, actualProviderType, Web3, expectedChainName])\n\n    const renderBox = (children?: React.ReactNode, tips?: string) => {\n        return (\n            <ShadowRootTooltip\n                title={tips ?? ''}\n                classes={{ tooltip: classes.tooltip, arrow: classes.arrow }}\n                arrow\n                placement=\"top\">\n                <Box className={props.className} display=\"flex\" flexDirection=\"column\" width=\"100%\">\n                    {children}\n                </Box>\n            </ShadowRootTooltip>\n        )\n    }\n\n    if (!chainIdValid && !expectedChainAllowed && forceShowingWrongNetworkButton)\n        return renderBox(\n            !props.hiddenConnectButton ? (\n                <ActionButton\n                    fullWidth\n                    startIcon={<Icons.Wallet size={18} />}\n                    onClick={() => SelectProviderModal.open()}\n                    {...props.ActionButtonPromiseProps}>\n                    {t.plugin_wallet_wrong_network()}\n                </ActionButton>\n            ) : null,\n        )\n\n    // No wallet connected\n    if (!account && !disableConnectWallet)\n        return renderBox(\n            !props.hiddenConnectButton ? (\n                <ActionButton\n                    className={classes.connectWallet}\n                    fullWidth\n                    startIcon={<Icons.Wallet size={18} />}\n                    onClick={() => SelectProviderModal.open()}\n                    {...props.ActionButtonPromiseProps}>\n                    {t.plugin_wallet_connect_a_wallet()}\n                </ActionButton>\n            ) : null,\n        )\n\n    // Network mismatch\n    if (!isPluginIDMatched) {\n        return renderBox(\n            <ActionButton\n                fullWidth\n                className={classes.switchButton}\n                disabled={actualProviderType === ProviderType.WalletConnect}\n                startIcon={<WalletIcon mainIcon={expectedNetworkDescriptor?.icon} size={18} />}\n                sx={props.ActionButtonPromiseProps?.sx}\n                onClick={() => SelectProviderModal.open()}\n                {...props.ActionButtonPromiseProps}>\n                {t.plugin_wallet_change_wallet()}\n            </ActionButton>,\n            actualProviderType === ProviderType.WalletConnect\n                ? t.plugin_wallet_connect_tips()\n                : t.plugin_wallet_not_support_network(),\n        )\n    }\n\n    // Provider is Wallet Connect\n    if (actualProviderType === ProviderType.WalletConnect && !isMatched) {\n        return renderBox(\n            <ActionButton\n                startIcon={<WalletIcon mainIcon={expectedNetworkDescriptor?.icon} size={18} />}\n                onClick={onSwitchChain}\n                loading={loading}\n                className={classes.switchButton}\n                sx={props.ActionButtonPromiseProps?.sx}\n                {...props.ActionButtonPromiseProps}>\n                {switchText ?? t.plugin_wallet_switch_network({ network: expectedChainName ?? '' })}\n            </ActionButton>,\n            t.plugin_wallet_connect_tips(),\n        )\n    }\n\n    return props.children\n}\n\nexport const ChainBoundary = memo(function <T extends NetworkPluginID>(props: ChainBoundaryProps<T>) {\n    return (\n        <RevokeChainContextProvider>\n            <ChainBoundaryWithoutContext {...props} />\n        </RevokeChainContextProvider>\n    )\n})\n\nChainBoundary.displayName = 'ChainBoundary'\n","import { Icons, type GeneratedIconProps } from '@masknet/icons'\nimport { ShadowRootTooltip, makeStyles } from '@masknet/theme'\nimport { Link, type LinkProps } from '@mui/material'\nimport { memo, useCallback, useRef, useState, type MouseEvent } from 'react'\nimport { useCopyToClipboard } from 'react-use'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    copy: {\n        '&:hover': {\n            color: theme.palette.maskColor.main,\n        },\n    },\n}))\n\nexport interface CopyButtonProps\n    extends Omit<LinkProps<'button'>, 'color'>,\n        Pick<GeneratedIconProps, 'size' | 'color'> {\n    title?: string\n    text: string\n    /** defaults to 'Copied' */\n    successText?: string\n    /** stop event propagation and prevent default */\n    scoped?: boolean\n}\n\nexport const CopyButton = memo<CopyButtonProps>(function CopyButton({\n    text,\n    title,\n    successText,\n    size,\n    color,\n    scoped = true,\n    className,\n    ...props\n}) {\n    const t = useSharedTrans()\n    const { classes, cx, theme } = useStyles(undefined, { props })\n\n    const [, copyToClipboard] = useCopyToClipboard()\n    const [copied, setCopied] = useState(false)\n    const [active, setActive] = useState(false)\n    const timerRef = useRef<ReturnType<typeof setTimeout>>()\n\n    const handleCopy = useCallback(\n        async (ev: MouseEvent<HTMLAnchorElement>) => {\n            if (scoped) {\n                ev.stopPropagation()\n                ev.preventDefault()\n            }\n            copyToClipboard(text)\n            setCopied(true)\n            setActive(true)\n            clearTimeout(timerRef.current)\n            timerRef.current = setTimeout(setActive, 1500, false)\n        },\n        [text, scoped],\n    )\n\n    const tooltipTitle = copied ? successText ?? t.copied() : title ?? t.copy()\n    const iconProps = { size, color }\n\n    return (\n        <ShadowRootTooltip open={active} title={tooltipTitle} placement=\"top\" disableInteractive arrow>\n            <Link\n                underline=\"none\"\n                component=\"button\"\n                onClick={handleCopy}\n                color=\"inherit\"\n                {...props}\n                fontSize={0}\n                className={cx(classes.root, className)}>\n                {active ? (\n                    <Icons.Check {...iconProps} color={theme.palette.maskColor.success} />\n                ) : (\n                    <Icons.Copy {...iconProps} className={classes.copy} />\n                )}\n            </Link>\n        </ShadowRootTooltip>\n    )\n})\n","const DEFAULT_IMAGES = [\n    new URL('./Aura1.svg', import.meta.url).toString(),\n    new URL('./Aura2.svg', import.meta.url).toString(),\n    new URL('./Aura3.svg', import.meta.url).toString(),\n    new URL('./Aura4.svg', import.meta.url).toString(),\n    new URL('./Aura5.svg', import.meta.url).toString(),\n    new URL('./Aura6.svg', import.meta.url).toString(),\n    new URL('./Aura7.svg', import.meta.url).toString(),\n    new URL('./Aura8.svg', import.meta.url).toString(),\n    new URL('./Aura9.svg', import.meta.url).toString(),\n    new URL('./Aura10.svg', import.meta.url).toString(),\n    new URL('./Aura11.svg', import.meta.url).toString(),\n    new URL('./Aura12.svg', import.meta.url).toString(),\n]\n\nexport const name2Image = (name?: string): string => {\n    if (!name) return DEFAULT_IMAGES[0]\n    let sum = 0\n    for (let i = 0; i < name.length; i += 1) {\n        sum += name.charCodeAt(i)\n    }\n\n    return DEFAULT_IMAGES[sum % DEFAULT_IMAGES.length]\n}\n","import { memo, useState } from 'react'\nimport { Avatar, type AvatarProps, useTheme } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { name2Image } from './name2Image.js'\n\nconst useStyles = makeStyles<Pick<IconProps, 'size'>>()((theme, { size }) => ({\n    icon: {\n        margin: 0,\n        borderRadius: '50%',\n        color: `${theme.palette.maskColor.dark} !important`,\n        backgroundSize: 'cover',\n        height: size,\n        width: size,\n    },\n}))\n\nexport interface IconProps extends AvatarProps {\n    color?: string\n    size?: number | string\n    name?: string\n    label?: string\n    logoURL?: string\n}\n\nexport const Icon = memo<IconProps>(function Icon(props) {\n    const { logoURL, size, color, name, label, className, ...rest } = props\n    const [failed, setFailed] = useState(false)\n\n    const defaultBackgroundImage = name2Image(name)\n    const { classes, cx } = useStyles({ size })\n    const theme = useTheme()\n\n    const showImage = logoURL && !failed\n\n    return (\n        <Avatar\n            className={cx(classes.icon, className)}\n            src={logoURL}\n            {...rest}\n            imgProps={{\n                onError: (event) => {\n                    setFailed(true)\n                    rest.imgProps?.onError?.(event)\n                },\n                ...rest.imgProps,\n            }}\n            sx={{\n                ...rest.sx,\n                backgroundImage: showImage ? undefined : `url(\"${defaultBackgroundImage}\")`,\n                backgroundColor: showImage ? color ?? theme.palette.common.white : undefined,\n            }}>\n            {label ?? name?.slice(0, 1).toUpperCase() ?? '?'}\n        </Avatar>\n    )\n})\n\nIcon.displayName = 'Icon'\n","import { memo, type HTMLProps, type CSSProperties } from 'react'\n\nexport interface ImageIconProps extends HTMLProps<HTMLImageElement> {\n    size?: number\n    icon?: string\n    iconFilterColor?: string\n}\n\nexport const ImageIcon = memo(function ImageIcon({ size = 48, icon, iconFilterColor, ...rest }: ImageIconProps) {\n    const style: CSSProperties | undefined = iconFilterColor\n        ? {\n              filter: `drop-shadow(0px 6px 12px ${iconFilterColor})`,\n              backdropFilter: 'blur(16px)',\n              ...rest.style,\n          }\n        : rest.style\n\n    return <img height={size} width={size} src={icon?.toString()} {...rest} style={style} />\n})\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useFungibleToken, useWeb3Hub } from '@masknet/web3-hooks-base'\nimport { TokenType } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { first } from 'lodash-es'\nimport { memo } from 'react'\nimport { Icon, type IconProps } from '../Icon/index.js'\n\nexport interface TokenIconProps extends IconProps {\n    pluginID?: NetworkPluginID\n    chainId?: Web3Helper.ChainIdAll\n    address: string\n    symbol?: string\n    tokenType?: TokenType\n    disableDefaultIcon?: boolean\n}\n\nexport const TokenIcon = memo(function TokenIcon(props: TokenIconProps) {\n    const {\n        pluginID = NetworkPluginID.PLUGIN_EVM,\n        chainId: propChainId,\n        address,\n        logoURL,\n        symbol,\n        tokenType = TokenType.Fungible,\n        disableDefaultIcon,\n        name,\n        ...rest\n    } = props\n    const { data: token } = useFungibleToken(pluginID, address, undefined, { chainId: propChainId })\n\n    const { chainId } = useChainContext({ chainId: props.chainId })\n    const Hub = useWeb3Hub(pluginID)\n    const isNFT = tokenType === TokenType.NonFungible\n    const { data } = useQuery({\n        queryKey: ['token-icon', chainId, address, isNFT],\n        enabled: !logoURL,\n        queryFn: async () => {\n            const logoURLs = isNFT\n                ? (() => {\n                      throw new Error(\n                          \"Unreachable: it used to call Hub.getNonFungibleTokenIconURLs, but it's default implementation is throw an error, and not override by any subclass.\",\n                      )\n                  })()\n                : await Hub.getFungibleTokenIconURLs(chainId, address).catch(() => [])\n            return first(logoURLs)\n        },\n    })\n\n    if (data && disableDefaultIcon) return null\n    const text = token?.name || token?.symbol || symbol || name || '?' // `?` prevent to fallback to avatar icon\n    const url = logoURL || token?.logoURL || data\n    return <Icon {...rest} logoURL={url} name={text} />\n})\n","import { makeStyles } from '@masknet/theme'\nimport { ImageIcon } from '../ImageIcon/index.js'\n\ninterface StyleProps {\n    size: number\n    badgeIconBorderColor?: string\n}\n\nconst useStyles = makeStyles<StyleProps>()((theme, props) => ({\n    root: {\n        position: 'relative',\n        display: 'flex',\n        height: props.size,\n        width: props.size,\n    },\n    mainIcon: {\n        display: 'block',\n    },\n    badgeIcon: {\n        position: 'absolute',\n        right: -6,\n        bottom: -4,\n        border: `1px solid ${props.badgeIconBorderColor ?? theme.palette.common.white}`,\n        borderRadius: '50%',\n    },\n}))\n\ninterface WalletIconProps extends withClasses<'root' | 'mainIcon'> {\n    size?: number\n    badgeSize?: number\n    mainIcon?: string\n    badgeIcon?: string\n    badgeIconBorderColor?: string\n    iconFilterColor?: string\n}\n\nexport function WalletIcon(props: WalletIconProps) {\n    const { size = 24, badgeSize = 14, mainIcon, badgeIcon, badgeIconBorderColor, iconFilterColor } = props\n    const { classes } = useStyles(\n        {\n            size: badgeSize > size ? badgeSize : size,\n            badgeIconBorderColor,\n        },\n        { props: { classes: props.classes } },\n    )\n\n    return (\n        <div\n            className={classes.root}\n            style={{\n                height: size,\n                width: size,\n            }}>\n            {mainIcon ? (\n                <ImageIcon className={classes.mainIcon} size={size} icon={mainIcon} iconFilterColor={iconFilterColor} />\n            ) : null}\n            {badgeIcon ? <ImageIcon className={classes.badgeIcon} size={badgeSize} icon={badgeIcon} /> : null}\n        </div>\n    )\n}\n","import { memo, type PropsWithChildren, useRef } from 'react'\nimport { Box, Button } from '@mui/material'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { Sniffings } from '@masknet/shared-base'\n\ninterface ActionProps extends PropsWithChildren<{}> {\n    openSelectWalletDialog: () => void\n}\n\nexport const Action = memo<ActionProps>(function Action({ children, openSelectWalletDialog }) {\n    const ref = useRef<HTMLDivElement>()\n    const t = useSharedTrans()\n\n    return (\n        <Box display=\"flex\" columnGap={16} minWidth={!Sniffings.is_popup_page ? 276 : 176} ref={ref}>\n            {children ?? (\n                <Button fullWidth onClick={openSelectWalletDialog}>\n                    {t.wallet_status_button_change()}\n                </Button>\n            )}\n        </Box>\n    )\n})\n","import { memo, type PropsWithChildren, useCallback, useMemo } from 'react'\nimport { alpha, Box, Button } from '@mui/material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles, MaskColorVar } from '@masknet/theme'\nimport {\n    useNetworkContext,\n    useProviderDescriptor,\n    useRecentTransactions,\n    useNetworkDescriptor,\n    useWallet,\n    useReverseAddress,\n    useWeb3Others,\n    useChainContext,\n    NetworkContextProvider,\n    RevokeChainContextProvider,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { type NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport { TransactionStatusType } from '@masknet/web3-shared-base'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { WalletDescription } from './WalletDescription.js'\nimport { Action } from './Action.js'\nimport { SelectProviderModal, WalletStatusModal } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        boxSizing: 'content-box',\n        display: 'flex',\n        backgroundColor: Sniffings.is_dashboard_page\n            ? MaskColorVar.mainBackground\n            : alpha(theme.palette.maskColor.bottom, 0.8),\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 0px 20px rgba(255, 255, 255, 0.12)'\n                : '0px 0px 20px rgba(0, 0, 0, 0.05)',\n        backdropFilter: 'blur(16px)',\n        padding: theme.spacing(2),\n        borderRadius: '0 0 12px 12px',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flex: 1,\n        maxHeight: 40,\n    },\n    connection: {\n        width: 18,\n        height: 18,\n        marginRight: 8,\n    },\n}))\n\nexport interface WalletStatusBarProps<T extends NetworkPluginID> extends PropsWithChildren<{}> {\n    className?: string\n    actualPluginID?: T\n    expectedPluginID?: T\n    expectedChainId?: Web3Helper.Definition[T]['ChainId']\n    onClick?: (ev: React.MouseEvent<HTMLDivElement>) => void\n    requiredSupportChainIds?: Array<Web3Helper.Definition[T]['ChainId']>\n    requiredSupportPluginID?: NetworkPluginID\n}\n\nconst PluginWalletStatusBarWithoutContext = memo<WalletStatusBarProps<NetworkPluginID>>(\n    ({\n        className,\n        onClick,\n        expectedPluginID,\n        expectedChainId,\n        children,\n        requiredSupportChainIds,\n        requiredSupportPluginID,\n    }) => {\n        const t = useSharedTrans()\n        const { classes, cx } = useStyles()\n\n        const { pluginID } = useNetworkContext()\n        const { account, chainId, providerType } = useChainContext()\n        const wallet = useWallet(pluginID)\n        const providerDescriptor = useProviderDescriptor()\n        const networkDescriptor = useNetworkDescriptor(pluginID, chainId)\n        const expectedNetworkDescriptor = useNetworkDescriptor(expectedPluginID, expectedChainId)\n        const { data: domain } = useReverseAddress(pluginID, account)\n        const Others = useWeb3Others()\n\n        const openSelectProviderDialog = useCallback(() => {\n            SelectProviderModal.open({\n                requiredSupportChainIds,\n                requiredSupportPluginID,\n            })\n        }, [expectedNetworkDescriptor, requiredSupportChainIds, requiredSupportPluginID])\n\n        const pendingTransactions = useRecentTransactions(pluginID, TransactionStatusType.NOT_DEPEND)\n\n        const walletName = useMemo(() => {\n            if (domain) return domain\n            if (providerType === ProviderType.MaskWallet && wallet?.name) return wallet?.name\n            return providerDescriptor?.name || Others.formatAddress(account, 4)\n        }, [account, domain, providerType, wallet?.name, providerDescriptor?.name, Others.formatAddress])\n\n        if (!account) {\n            return (\n                <Box className={cx(classes.root, className)}>\n                    <Button fullWidth onClick={openSelectProviderDialog}>\n                        <Icons.Wallet className={classes.connection} /> {t.plugin_wallet_connect_a_wallet()}\n                    </Button>\n                </Box>\n            )\n        }\n\n        return (\n            <Box className={cx(classes.root, className)}>\n                <WalletDescription\n                    pending={!!pendingTransactions.length}\n                    providerIcon={providerDescriptor?.icon}\n                    networkIcon={networkDescriptor?.icon}\n                    iconFilterColor={providerDescriptor?.iconFilterColor}\n                    name={walletName}\n                    formattedAddress={Others.formatAddress(account, 4)}\n                    addressLink={Others.explorerResolver.addressLink(chainId, account)}\n                    onClick={onClick ?? openSelectProviderDialog}\n                    onPendingClick={() => WalletStatusModal.open()}\n                />\n                <Action openSelectWalletDialog={openSelectProviderDialog}>{children}</Action>\n            </Box>\n        )\n    },\n)\n\nPluginWalletStatusBarWithoutContext.displayName = 'PluginWalletStatusBarWithoutContext'\n\nexport const PluginWalletStatusBar = memo<WalletStatusBarProps<NetworkPluginID>>((props) => {\n    const children = (\n        <RevokeChainContextProvider>\n            <PluginWalletStatusBarWithoutContext {...props} />\n        </RevokeChainContextProvider>\n    )\n\n    return props.actualPluginID ? (\n        <NetworkContextProvider value={props.actualPluginID}>{children}</NetworkContextProvider>\n    ) : (\n        children\n    )\n})\n\nPluginWalletStatusBar.displayName = 'PluginWalletStatusBar'\n","import { makeStyles, LoadingBase } from '@masknet/theme'\nimport { memo } from 'react'\nimport { alpha, Box, Link, Typography } from '@mui/material'\nimport { CopyButton, WalletIcon } from '@masknet/shared'\nimport { Icons } from '@masknet/icons'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        cursor: 'pointer',\n    },\n    description: {\n        marginLeft: 10,\n    },\n    walletName: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        lineHeight: '18px',\n    },\n    address: {\n        color: theme.palette.maskColor.second,\n        lineHeight: '18px',\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 2,\n    },\n    pending: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2,\n        borderRadius: 2,\n        padding: '2px 4px',\n        backgroundColor: alpha(theme.palette.maskColor.warn, 0.1),\n        color: theme.palette.maskColor.warn,\n        lineHeight: '18px',\n    },\n    progress: {\n        color: theme.palette.maskColor.warn,\n    },\n    linkIcon: {\n        color: theme.palette.maskColor.second,\n        cursor: 'pointer',\n        height: 14,\n    },\n}))\n\nexport interface WalletDescriptionProps {\n    onClick?: (ev: React.MouseEvent<HTMLDivElement>) => void\n    pending?: boolean\n    onPendingClick?: () => void\n    providerIcon?: string\n    networkIcon?: string\n    iconFilterColor?: string\n    name?: string\n    address?: string\n    formattedAddress?: string\n    addressLink?: string\n    verified?: boolean\n}\n\nexport const WalletDescription = memo<WalletDescriptionProps>(\n    ({\n        onClick,\n        providerIcon,\n        networkIcon,\n        iconFilterColor,\n        name,\n        address,\n        formattedAddress,\n        addressLink,\n        onPendingClick,\n        pending,\n        verified,\n    }) => {\n        const { classes } = useStyles()\n        const t = useSharedTrans()\n\n        return (\n            <Box onClick={onClick} className={classes.root}>\n                <WalletIcon\n                    size={30}\n                    badgeSize={12}\n                    mainIcon={providerIcon ?? networkIcon}\n                    badgeIcon={providerIcon ? networkIcon : undefined}\n                    iconFilterColor={iconFilterColor}\n                />\n                <Box className={classes.description}>\n                    <Typography className={classes.walletName}>\n                        <span>{name}</span>\n                        {verified ? <Icons.Verification size={18} /> : null}\n                        {onPendingClick ? <Icons.ArrowDrop /> : null}\n                    </Typography>\n                    <Typography className={classes.address}>\n                        <span>{formattedAddress}</span>\n                        {address ? <CopyButton size={14} className={classes.linkIcon} text={address} /> : null}\n                        <Link\n                            href={addressLink}\n                            target=\"_blank\"\n                            title=\"View on Explorer\"\n                            rel=\"noopener noreferrer\"\n                            onClick={(event) => {\n                                event.stopPropagation()\n                            }}\n                            className={classes.linkIcon}>\n                            <Icons.LinkOut size={14} className={classes.linkIcon} />\n                        </Link>\n                        {pending ? (\n                            <span\n                                className={classes.pending}\n                                onClick={(e) => {\n                                    e.stopPropagation()\n                                    onPendingClick?.()\n                                }}>\n                                {t.recent_transaction_pending()}\n                                <LoadingBase size={12} className={classes.progress} />\n                            </span>\n                        ) : null}\n                    </Typography>\n                </Box>\n            </Box>\n        )\n    },\n)\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { SelectProviderModalOpenProps, SelectProviderModalCloseProps } from './SelectProviderModal/index.js'\nimport type { WalletConnectQRCodeOpenProps } from './WalletConnectQRCodeModal/index.js'\nimport type { WalletRiskWarningModalOpenProps } from './WalletRiskWarningModal/index.js'\nimport type { ConnectWalletModalOpenProps, ConnectWalletModalCloseProps } from './ConnectWalletModal/index.js'\nimport type { LeavePageConfirmModalOpenProps } from './LeavePageConfirmModal/index.js'\nimport type {\n    ApplicationBoardModalOpenProps,\n    ApplicationBoardSettingsModalOpenProps,\n} from './ApplicationBoardModal/index.js'\nimport type { GasSettingModalOpenOrCloseProps } from './GasSettingModal/index.js'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { ConfirmDialogOpenProps } from './ConfirmDialog/index.js'\nimport type { TransactionConfirmModalOpenProps } from './TokenTransactionConfirmModal/index.js'\nimport type { SelectNonFungibleContractModalOpenProps } from './SelectNonFungibleContractModal/index.js'\nimport type {\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps,\n} from './SelectFungibleTokenModal/index.js'\nimport type {\n    SelectGasSettingsModalCloseProps,\n    SelectGasSettingsModalOpenProps,\n} from './SelectAdvancedSettingsDialog/index.js'\nimport type { AddCollectiblesModalCloseProps, AddCollectiblesModalOpenProps } from './AddCollectiblesModal/index.js'\nimport type { PersonaSelectPanelModalOpenProps } from './PersonaSelectPanelModal/index.js'\nimport type { ShareSelectNetworkModalOpenProps } from './ShareSelectNetwork/index.js'\n\nexport const WalletConnectQRCodeModal = new SingletonModal<WalletConnectQRCodeOpenProps>()\nexport const SelectProviderModal = new SingletonModal<SelectProviderModalOpenProps, SelectProviderModalCloseProps>()\nexport const WalletStatusModal = new SingletonModal()\nexport const WalletRiskWarningModal = new SingletonModal<WalletRiskWarningModalOpenProps>()\nexport const ConnectWalletModal = new SingletonModal<ConnectWalletModalOpenProps, ConnectWalletModalCloseProps>()\nexport const LeavePageConfirmModal = new SingletonModal<LeavePageConfirmModalOpenProps>()\nexport const ApplicationBoardModal = new SingletonModal<ApplicationBoardModalOpenProps>()\nexport const ApplicationBoardSettingsModal = new SingletonModal<ApplicationBoardSettingsModalOpenProps>()\nexport const GasSettingModal = new SingletonModal<GasSettingModalOpenOrCloseProps, GasSettingModalOpenOrCloseProps>()\nexport const TransactionConfirmModal = new SingletonModal<TransactionConfirmModalOpenProps>()\nexport const TransactionSnackbar = new SingletonModal()\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const ConfirmDialog = new SingletonModal<ConfirmDialogOpenProps, boolean>()\nexport const SelectNonFungibleContractModal = new SingletonModal<SelectNonFungibleContractModalOpenProps>()\nexport const SelectGasSettingsModal = new SingletonModal<\n    SelectGasSettingsModalOpenProps,\n    SelectGasSettingsModalCloseProps\n>()\nexport const AddCollectiblesModal = new SingletonModal<AddCollectiblesModalOpenProps, AddCollectiblesModalCloseProps>()\nexport const SelectFungibleTokenModal = new SingletonModal<\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps\n>()\n\nexport const PersonaSelectPanelModal = new SingletonModal<PersonaSelectPanelModalOpenProps>()\n\nexport const ShareSelectNetworkModal = new SingletonModal<ShareSelectNetworkModalOpenProps>()\n\nexport { ApplicationSettingTabs } from './ApplicationBoardModal/ApplicationBoardDialog.js'\n","export const LightColor = {\n    bg: '##F9F9F9',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#FFFFFF',\n    secondary: '#e8f0fe',\n    secondaryContrastText: '#1c68f3',\n    input: '#F6F6F8',\n    primaryBackground: '#ffffff',\n    primaryBackground2: '#FBFBFC',\n    secondaryBackground: '#f9fafa',\n    lightBackground: '#F9FAFA',\n    mainBackground: '#ffffff',\n    suspensionBackground: 'rgba(249, 250, 250, 0.8)',\n    normalBackground: '#F3F3F4',\n    twitterBackground: '#F7F9FA',\n    twitterBackgroundHover: '#EFF1F2',\n    twitterInputBackground: '#F6F8F8',\n    twitterButton: '#111418',\n    twitterButtonText: '#ffffff',\n    twitterBlue: '#1C68F3',\n    twitterBorderLine: '#EDF1F2',\n    twitterSecond: '#7B8192',\n    twitterMain: '#0F1419',\n    twitterBottom: '#ffffff',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterBg: '#F6F8F8',\n    twitterTooltipBg: 'rgba(0,0,0,.6)',\n    twitterInput: '#EDF1F2',\n    twitterLine: '#EBEEF0',\n    redMain: '#ff5f5f',\n    redLight: '#ffafaf',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#e6f6f0',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#faf0d8',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#eff3f4',\n\n    border: '#F3F3F4',\n    borderSecondary: '#536471',\n\n    textPrimary: '#111432',\n    textSecondary: '#7b8192',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: '#7B8192',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#1C68F3',\n    lineLight: '#E4E8F1',\n    lineLighter: '#E9E9EA',\n    textLight: '#A6A9B6',\n    lightestBackground: '#FFFFFF',\n    linkText: '#1C68F3',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#F9FAFA',\n    main: '#1C68F3',\n    errorBackground: 'rgba(255, 95, 95, 0.15)',\n    tooltipBackground: '#ffffff',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#000000',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport const DarkColor: typeof LightColor = {\n    bg: '#1C1C1C',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#15171A',\n    secondary: '#242e57',\n    secondaryContrastText: '#ffffff',\n    input: '#282B49',\n    primaryBackground: '#212442',\n    primaryBackground2: '#212442',\n    secondaryBackground: '#252846',\n    lightBackground: '#2E314F',\n    mainBackground: '#111432',\n    suspensionBackground: 'rgba(27, 30, 60, 0.8)',\n    normalBackground: '#262947',\n    twitterInputBackground: '#17191D',\n    twitterBackground: '#17191D',\n    twitterBackgroundHover: '#17191D',\n    twitterButton: '#EFF3F4',\n    twitterButtonText: '#0F1419',\n    twitterBlue: '#4989FF',\n    twitterBorderLine: '#2F3336',\n    twitterInput: '#1D2023',\n    twitterSecond: '#636B72',\n    twitterMain: '#D9D9D9',\n    twitterBottom: '#000000',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterLine: '#2F3336',\n    twitterBg: '#15171A',\n    twitterTooltipBg: 'rgba(91,112,131,.6)',\n    redMain: '#ff5f5f',\n    redLight: '#46304a',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#314457',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#463e3f',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#3e455e',\n\n    border: '#3E455E',\n    borderSecondary: '#6e767d',\n\n    // TODO: ?\n    textPrimary: '#ffffff',\n    // TODO: ?\n    textSecondary: 'ghostwhite',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: 'rgba(255, 255, 255, 0.8)',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#ffffff',\n    lineLight: '#32365B',\n    lineLighter: '#32365B',\n    textLight: '#A6A9B6',\n    lightestBackground: '#212422',\n    linkText: '#ffffff',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#000000',\n    main: '#D4D4D4',\n    errorBackground: 'rgba(255, 95, 95, 0.1)',\n    tooltipBackground: '#1A1D20',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#ffffff',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport type Color = typeof LightColor\n","import type { Theme } from '@mui/material'\nimport { kebabCase } from 'lodash-es'\nimport { LightColor, DarkColor } from './constants.js'\n\nexport function getMaskColor(theme: Theme) {\n    if (theme.palette.mode === 'dark') return DarkColor\n    return LightColor\n}\nexport type MaskCSSVariableColor = string & {\n    /** Append alpha channel to the original color */\n    alpha(alpha: number): string\n} & ((defaultValue?: string) => string)\n\nfunction set(key: string | symbol) {\n    if (typeof key === 'symbol') return undefined\n    const cssVar = kebabCase(key)\n    function value(defaultValue?: string) {\n        // it might be an object when used in styled components.\n        if (typeof defaultValue !== 'string') defaultValue = undefined\n        const x = `var(--mask-${cssVar}${defaultValue ? ', ' + defaultValue : ''})`\n        return x\n    }\n    Object.assign(value, {\n        [Symbol.toPrimitive]: () => `var(--mask-${cssVar})`,\n        alpha: (alpha: number) => `rgba(var(--mask-${cssVar}-fragment), ${alpha})`,\n    })\n    Object.defineProperty(MaskColorVar, key, { configurable: true, enumerable: true, value })\n    return value\n}\n/**\n * @deprecated Use theme.palette.maskColor\n */\nexport const MaskColorVar: Record<keyof typeof LightColor, MaskCSSVariableColor> = {\n    __proto__: new Proxy(\n        {},\n        {\n            get: (_, p) => set(p),\n            getOwnPropertyDescriptor: (_, p) => {\n                set(p)\n                return Object.getOwnPropertyDescriptor(MaskColorVar, p)\n            },\n        },\n    ),\n} as any\n","import { Box, Button } from '@mui/material'\nimport type { ButtonProps } from '@mui/material/Button'\nimport { LoadingBase } from '../LoadingBase/index.js'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nexport interface ActionButtonProps extends ButtonProps {\n    width?: number | string\n    loading?: boolean\n}\n\nconst useStyles = makeStyles()({\n    loading: {\n        ['& > *']: {\n            opacity: 0.3,\n        },\n    },\n})\n\nexport function ActionButton<T extends React.ComponentType<any> = React.ComponentType>(\n    props: ActionButtonProps & PropsOf<T>,\n) {\n    const { width, loading, children, className, style, ...rest } = props\n    const { classes, cx } = useStyles()\n    return (\n        <Button\n            className={cx('actionButton', className, loading ? classes.loading : undefined)}\n            style={{ width, ...style, pointerEvents: loading ? 'none' : undefined }}\n            {...rest}\n            disableElevation\n            disabled={!!(rest.disabled || loading)}>\n            {loading ? (\n                <Box\n                    position=\"absolute\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                    style={{ opacity: 1 }}>\n                    <LoadingBase />\n                </Box>\n            ) : null}\n            {children}\n        </Button>\n    )\n}\n","import { type GeneratedIconProps, Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    animated: {\n        '@keyframes loadingAnimation': {\n            '0%': {\n                transform: 'rotate(0deg)',\n            },\n            '100%': {\n                transform: 'rotate(360deg)',\n            },\n        },\n        animation: 'loadingAnimation 1s linear infinite',\n    },\n}))\n\nexport function LoadingBase(props: GeneratedIconProps) {\n    const { classes, cx } = useStyles()\n    return <Icons.CircleLoading {...props} className={cx(classes.animated, props.className)} />\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import { forwardRef, useRef, memo, useCallback } from 'react'\nimport { keyframes } from 'tss-react'\nimport {\n    SnackbarProvider,\n    type SnackbarProviderProps,\n    type SnackbarKey,\n    useSnackbar,\n    type VariantType,\n    type SnackbarMessage,\n    SnackbarContent,\n    type SnackbarAction,\n    type OptionsObject,\n} from 'notistack'\nimport { Typography, IconButton, alpha } from '@mui/material'\nimport { Close as CloseIcon, Warning as WarningIcon, Info as InfoIcon } from '@mui/icons-material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\nimport { MaskColorVar } from '../../CSSVariables/index.js'\nimport { usePortalShadowRoot } from '../../ShadowRoot/index.js'\n\nexport { PopupSnackbarProvider, usePopupCustomSnackbar } from './PopupSnackbar.js'\nexport { SnackbarProvider, useSnackbar } from 'notistack'\nexport type { VariantType, OptionsObject, SnackbarKey, SnackbarMessage } from 'notistack'\n\nexport interface StyleProps {\n    offsetY?: number\n}\n\nconst useStyles = makeStyles<StyleProps, 'title' | 'message'>()((theme, { offsetY }, classNames) => {\n    const spinningAnimationKeyFrames = keyframes`\n        to {\n          transform: rotate(360deg)\n        }\n    `\n    const title = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        fontSize: 14,\n        lineHeight: '18px',\n    } as const\n    const message = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 400,\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: 14,\n        lineHeight: '18px',\n        wordBreak: 'break-word',\n        '& > a': {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        '& :focus:not(:focus-visible)': {\n            outline: 0,\n        },\n    } as const\n    const defaultVariant = {\n        background: theme.palette.maskColor.bottom,\n        color: theme.palette.maskColor.main,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n\n        [`& .${classNames.message}`]: {\n            color: 'inherit',\n        },\n    }\n    const success = {\n        backgroundColor: theme.palette.maskColor.success,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.success, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const error = {\n        background: theme.palette.maskColor.danger,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.danger, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const info = {\n        background: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    }\n\n    const warning = {\n        backgroundColor: theme.palette.maskColor.warn,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.warn, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    return {\n        root: {\n            zIndex: 9999,\n            transform: typeof offsetY !== 'undefined' ? `translateY(${offsetY}px)` : 'none',\n            color: MaskColorVar.textLight,\n            pointerEvents: 'inherit',\n        },\n        content: {\n            alignItems: 'center',\n            padding: theme.spacing(2),\n            borderRadius: 12,\n            width: 380,\n            flexWrap: 'nowrap !important' as 'nowrap',\n        },\n        // eslint-disable-next-line tss-unused-classes/unused-classes\n        default: defaultVariant,\n        success,\n        error,\n        info,\n        warning,\n        icon: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '& > svg': {\n                width: 24,\n                height: 24,\n            },\n        },\n        spinning: {\n            display: 'flex',\n            animation: `${spinningAnimationKeyFrames} 2s infinite linear`,\n        },\n        action: {\n            marginLeft: 'auto',\n        },\n        closeButton: {\n            color: 'inherit',\n            transform: 'translateY(-10px)',\n        },\n        texts: {\n            marginLeft: theme.spacing(1.5),\n            '& :focus:not(:focus-visible)': {\n                outline: 0,\n            },\n        },\n        title,\n        message,\n    }\n})\n\nexport interface CustomSnackbarContentProps {\n    id: SnackbarKey\n    title: SnackbarMessage\n    message?: string | React.ReactNode\n    icon?: React.ReactNode\n    processing?: boolean\n    variant?: VariantType\n    action?: SnackbarAction\n    offsetY?: number\n    classes?: Partial<ReturnType<typeof useStyles>['classes']>\n}\nconst IconMap: Record<VariantType, React.ReactNode> = {\n    default: <InfoIcon color=\"inherit\" />,\n    success: <Icons.SuccessForSnackBar />,\n    error: <Icons.TransactionFailed />,\n    warning: <WarningIcon color=\"inherit\" />,\n    info: <InfoIcon color=\"inherit\" />,\n}\n\nexport const CustomSnackbarContent = forwardRef<HTMLDivElement, CustomSnackbarContentProps>((props, ref) => {\n    const { classes, cx } = useStyles({ offsetY: props.offsetY }, { props })\n    const snackbar = useSnackbar()\n    const loadingIcon = <Icons.CircleLoading className={classes.spinning} />\n    const variantIcon = props.processing ? loadingIcon : props.variant ? IconMap[props.variant] : null\n    let renderedAction: React.ReactNode = (\n        <IconButton className={classes.closeButton} onClick={() => snackbar.closeSnackbar(props.id)}>\n            <CloseIcon />\n        </IconButton>\n    )\n    if (props.action) {\n        renderedAction = typeof props.action === 'function' ? props.action(props.id) : props.action\n    }\n    return (\n        <SnackbarContent ref={ref} className={cx(classes.content, classes[props.variant!])}>\n            {variantIcon ? <div className={classes.icon}>{variantIcon}</div> : null}\n            <div className={classes.texts}>\n                <Typography className={classes.title} variant=\"h2\">\n                    {props.title}\n                </Typography>\n                {props.message ? (\n                    <Typography className={classes.message} variant=\"body1\">\n                        {props.message}\n                    </Typography>\n                ) : null}\n            </div>\n            <div className={classes.action}>{renderedAction}</div>\n        </SnackbarContent>\n    )\n})\n\nexport const CustomSnackbarProvider = memo<\n    SnackbarProviderProps & {\n        offsetY?: number\n    }\n>(function CustomSnackbarProvider({ offsetY, ...rest }) {\n    const ref = useRef<SnackbarProvider>(null)\n    const { classes } = useStyles({ offsetY })\n    const onDismiss = (key: string | number) => () => {\n        ref.current?.closeSnackbar(key)\n    }\n\n    return usePortalShadowRoot((container) => (\n        <SnackbarProvider\n            ref={ref}\n            maxSnack={30}\n            disableWindowBlurListener\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            hideIconVariant\n            // this is a false positive, SnackbarProvider won't use it like it is a component.\n            // eslint-disable-next-line react/no-unstable-nested-components\n            content={(key, title) => (\n                <CustomSnackbarContent id={key} variant={rest.variant ?? 'default'} title={title} offsetY={offsetY} />\n            )}\n            // eslint-disable-next-line react/no-unstable-nested-components\n            action={(key) => (\n                <IconButton size=\"large\" onClick={onDismiss(key)} sx={{ color: 'inherit' }}>\n                    <CloseIcon color=\"inherit\" />\n                </IconButton>\n            )}\n            classes={{\n                containerRoot: classes.root,\n                variantSuccess: classes.success,\n                variantError: classes.error,\n                variantInfo: classes.info,\n                variantWarning: classes.warning,\n            }}\n            domRoot={container}\n            {...rest}\n        />\n    ))\n})\n\nexport interface ShowSnackbarOptions\n    extends OptionsObject,\n        Pick<CustomSnackbarContentProps, 'message' | 'processing' | 'icon' | 'classes'> {}\n\nexport function useCustomSnackbar() {\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n    const showSnackbar = useCallback(\n        (\n            text: SnackbarMessage,\n            options: ShowSnackbarOptions = {\n                variant: 'default',\n            },\n        ) => {\n            const { processing, message, variant, ...rest } = options\n            return enqueueSnackbar(text, {\n                variant: options.variant,\n                content: (key, title) => {\n                    return (\n                        <CustomSnackbarContent\n                            variant={variant ?? 'default'}\n                            id={key}\n                            title={title}\n                            message={message}\n                            processing={processing}\n                            action={rest.action}\n                            classes={rest.classes}\n                        />\n                    )\n                },\n                ...rest,\n            })\n        },\n        [enqueueSnackbar],\n    )\n\n    return { showSnackbar, closeSnackbar }\n}\n","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { forwardRef } from 'react'\n\nconst BaseTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean }>(({ theme, activated }) => ({\n    flex: 1,\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    height: 36,\n    lineHeight: '18px',\n    boxShadow: activated\n        ? `0px 0px 20px ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.12)' : 'rgba(0, 0, 0, 0.05)'}`\n        : 'none',\n    background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    borderRadius: `${theme.spacing(1.5)} ${theme.spacing(1.5)} 0px 0px !important`,\n    color: activated ? theme.palette.maskColor.main : theme.palette.maskColor.secondaryDark,\n    fontSize: 16,\n    fontWeight: 'bold',\n\n    '&:hover': {\n        boxShadow: activated ? '0 0 20px rgba(0, 0, 0, 0.05)' : 'none',\n        background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    },\n    // If there is only single one tab.\n    '&:first-of-type:last-of-type': {\n        maxWidth: '25%',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    onChange?(event: object, value: string): void\n}\n\nexport const BaseTab = forwardRef<HTMLButtonElement, ButtonTabProps>((props, ref) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (!activated && onChange) onChange(event, String(value))\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <BaseTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...props}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={(e) => handleClick(e)}\n            onChange={undefined}\n        />\n    )\n})\n","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { memo, useEffect, useRef } from 'react'\n\nconst FlexibleTabTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean; color?: string }>(({ theme, activated }) => ({\n    flexShrink: 0,\n    flexGrow: 0,\n    padding: theme.spacing(1.25, 1.5),\n    height: 38,\n    lineHeight: '16px',\n    minWidth: theme.spacing(3),\n    background: activated ? theme.palette.maskColor.input : 'transparent',\n    borderRadius: `${theme.spacing(1)} !important`,\n    color: activated ? theme.palette.maskColor.highlight ?? '#1C68F3' : theme.palette.text.secondary,\n    fontSize: 14,\n    fontWeight: 'bold !important',\n\n    '&:hover': {\n        background: activated ? theme.palette.maskColor.input : 'transparent',\n        color: activated ? theme.palette.maskColor.highlight ?? '#1C68F3' : theme.palette.text.primary,\n        boxShadow: 'none',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    isVisitable: (top: number, right: number) => boolean\n    onChange?(event: object, value: string, isUp: boolean): void\n}\n\nexport const FlexibleTab = memo<ButtonTabProps>((props) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n    const { isVisitable, ...rest } = props\n    const ref = useRef<HTMLButtonElement>(null)\n\n    useEffect(() => {\n        if (!activated) return\n        const visitable = isVisitable(\n            ref.current?.getBoundingClientRect().top ?? 0,\n            ref.current?.getBoundingClientRect().right ?? 0,\n        )\n        if (!visitable) onChange?.({}, String(value), visitable)\n    }, [])\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        const visitable = isVisitable(\n            ref.current?.getBoundingClientRect().top ?? 0,\n            ref.current?.getBoundingClientRect().right ?? 0,\n        )\n        if (!activated && onChange) onChange(event, String(value), visitable)\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <FlexibleTabTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...rest}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={handleClick}\n            onChange={undefined}\n        />\n    )\n})\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z\"\n}), 'ArrowBackIosNew');","import { Button, type ButtonProps, styled } from '@mui/material'\nimport { forwardRef } from 'react'\n\nconst RoundTabWrap = styled(Button, {\n    shouldForwardProp: (prop) => prop !== 'activated',\n})<{ activated?: boolean }>(({ theme, activated }) => ({\n    flex: 1,\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    height: 34,\n    lineHeight: '16px',\n    background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    borderRadius: `${theme.spacing(2)} !important`,\n    color: activated ? theme.palette.text.primary : theme.palette.text.secondary,\n    fontSize: 14,\n    fontWeight: 'bold',\n    boxShadow: activated ? ' 0px 2px 5px 1px rgba(0, 0, 0, 0.05);' : 'none',\n\n    '&:hover': {\n        boxShadow: activated ? ' 0px 2px 5px 1px rgba(0, 0, 0, 0.05);' : 'none',\n        color: theme.palette.text.primary,\n        background: activated ? theme.palette.maskColor.bottom : 'transparent',\n    },\n}))\n\ninterface ButtonTabProps extends React.PropsWithChildren<Omit<ButtonProps, 'onChange' | 'value' | 'selected'>> {\n    value: string\n    selected?: boolean\n    onChange?(event: object, value: string): void\n}\n\nexport const RoundTab = forwardRef<HTMLButtonElement, ButtonTabProps>((props, ref) => {\n    const activated = !!props.selected\n    const { onChange, onClick, value } = props\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (!activated && onChange) onChange(event, String(value))\n        if (onClick) onClick(event)\n    }\n\n    return (\n        <RoundTabWrap\n            activated={activated}\n            ref={ref}\n            role=\"tab\"\n            {...props}\n            disableElevation\n            variant=\"contained\"\n            aria-selected={activated}\n            onClick={handleClick}\n            onChange={undefined}\n        />\n    )\n})\n","import {\n    Box,\n    Button,\n    ButtonGroup,\n    type ButtonGroupProps,\n    styled,\n    Tab,\n    alpha,\n    type ButtonGroupClasses,\n} from '@mui/material'\nimport { useTabContext, getPanelId, getTabId } from '@mui/lab'\nimport {\n    forwardRef,\n    Children,\n    isValidElement,\n    useState,\n    useRef,\n    useEffect,\n    useImperativeHandle,\n    type ForwardRefExoticComponent,\n    useMemo,\n} from 'react'\nimport { BaseTab } from './BaseTab.js'\nimport { FlexibleTab } from './FlexibleTab.js'\nimport { ArrowBackIosNew as ArrowBackIosNewIcon } from '@mui/icons-material'\nimport { useClickAway, useWindowSize } from 'react-use'\nimport { RoundTab } from './RoundTab.js'\n\ntype MaskTabVariant = 'base' | 'flexible' | 'round'\nconst defaultTabSize = 38\n\nexport interface MaskTabListProps\n    extends Omit<ButtonGroupProps, 'variant' | 'onChange' | 'classes'>,\n        withClasses<keyof ButtonGroupClasses | 'arrowButton'> {\n    onChange(event: object, value: string): void\n    'aria-label'?: string\n    variant?: MaskTabVariant\n    hideArrowButton?: boolean\n}\n\nconst ArrowButtonWrap = styled(Button)(({ theme }) => ({\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    padding: theme.spacing(1.5),\n    height: defaultTabSize,\n    width: defaultTabSize,\n    minWidth: `${defaultTabSize}px !important`,\n    background: theme.palette.background.input,\n    '&:hover': {\n        background: theme.palette.background.input,\n    },\n}))\n\nconst ArrowBackIosNewIconWrap = styled(ArrowBackIosNewIcon)(({ theme }) => ({\n    color: theme.palette.text.primary,\n    width: 16,\n    borderRadius: '0 8px 8px 0',\n}))\n\nconst FlexibleButtonGroupPanel = styled(Box, {\n    shouldForwardProp: (prop) => prop !== 'isOpen',\n})<{\n    isOpen?: boolean\n}>(({ theme, isOpen = false }) => ({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: 100,\n    padding: theme.spacing(1.5),\n    maxWidth: 'calc(100% - 24px)',\n    width: 'calc(100% - 24px)',\n    boxShadow: isOpen\n        ? `0px 0px 20px ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.12)' : 'rgba(0, 0, 0, 0.05)'}`\n        : 'none',\n    backdropFilter: 'blur(20px)',\n    background: alpha(theme.palette.maskColor.bottom, 0.8),\n    boxSizing: 'content-box',\n}))\n\nconst ButtonGroupWrap = styled(ButtonGroup, {\n    shouldForwardProp: (prop) => prop !== 'maskVariant',\n})<{\n    maskVariant?: MaskTabVariant\n}>(({ theme, maskVariant = 'base' }) => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'nowrap',\n    overflowY: 'clip',\n    flex: 1,\n    gap: theme.spacing(1),\n    ...(maskVariant === 'round'\n        ? {\n              padding: theme.spacing(0.5),\n              background: theme.palette.maskColor.input,\n              borderRadius: 18,\n          }\n        : maskVariant === 'flexible'\n        ? {\n              background: 'transparent',\n              borderRadius: 0,\n          }\n        : {\n              marginTop: theme.spacing(-1),\n              paddingTop: theme.spacing(1),\n              background: 'transparent',\n              borderRadius: 0,\n          }),\n}))\n\nconst FlexButtonGroupWrap = styled(ButtonGroup, {\n    shouldForwardProp: (prop) => prop !== 'maskVariant' && prop !== 'isOpen' && prop !== 'isOverflow',\n})<{\n    maskVariant?: MaskTabVariant\n    isOpen?: boolean\n    isOverflow?: boolean\n}>(({ theme, maskVariant = 'base', isOpen = false, isOverflow = false }) => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: isOpen ? 'wrap' : 'nowrap',\n    overflow: 'hidden',\n    flex: 1,\n    maxWidth: '100%',\n    paddingRight: isOpen ? defaultTabSize : 0,\n    gap: maskVariant !== 'base' ? theme.spacing(1) : 0,\n    borderRadius: 0,\n    background:\n        !isOpen && isOverflow\n            ? theme.palette.mode === 'light'\n                ? `linear-gradient(270deg, rgba(255,255,255,1) ${defaultTabSize}px, rgba(223, 229, 244, 0.8) ${defaultTabSize}px, rgba(244, 247, 254, 0) 72px)`\n                : `linear-gradient(270deg, transparent ${defaultTabSize}px, rgba(49, 49, 49, 0.8) ${defaultTabSize}px, rgba(23, 23, 23, 0) 72px)`\n            : 'transparent',\n}))\n\nconst tabMapping: {\n    [key in MaskTabVariant]: ForwardRefExoticComponent<any>\n} = {\n    flexible: FlexibleTab,\n    round: RoundTab,\n    base: BaseTab,\n}\n\n/**\n * This component is like TabList + Tabs in the @mui/material.\n * It should be used with <ButtonGroupTab>.\n *\n * Warning: Only a few \"value\" and \"label\" props on the @mui/material <Tab> component will work.\n *\n * @example\n *  const [currentTab, onChange, tabs, setTab] = useTabs('tab1', 'tab2', 'tab3')\n *  return (\n *      <TabContext value={currentTab}>\n *          <MaskTabList onChange={onChange}>\n *              <Tab label=\"Item One\" value={tabs.tab1} />\n *              <Tab label=\"Item Two\" value={tabs.tab2} />\n *              <Tab label=\"Item Three\" value={tabs.tab3} />\n *          </MaskTabList>\n *          <TabPanel value={tabs.tab1}>Item One</TabPanel>\n *          <TabPanel value={tabs.tab2}>Item Two</TabPanel>\n *          <TabPanel value={tabs.tab3}>Item Three</TabPanel>\n *      </TabContext>\n *  )\n */\nexport const MaskTabList = forwardRef<HTMLDivElement, MaskTabListProps>((props, ref) => {\n    const context = useTabContext()\n    const classes = props.classes\n\n    const [open, handleToggle] = useState(false)\n    const [isTabsOverflow, setIsTabsOverflow] = useState(false)\n    const [firstId, setFirstTabId] = useState<string | undefined>(context?.value)\n    const innerRef = useRef<HTMLDivElement>(null)\n    const anchorRef = useRef<HTMLDivElement>(null)\n    const flexPanelRef = useRef(null)\n    const { width } = useWindowSize()\n\n    if (context === null) throw new TypeError('No TabContext provided')\n\n    const { onChange, variant = 'base', hideArrowButton, ...rest } = props\n\n    useImperativeHandle(ref, () => innerRef?.current!)\n\n    // #region hide tab should up to first when chick\n    useEffect(() => {\n        if (!innerRef?.current) return\n\n        const current = innerRef.current\n        setIsTabsOverflow(current.scrollWidth >= current.clientWidth + defaultTabSize)\n    }, [innerRef?.current, width])\n    // #endregion\n\n    const children = Children.map(props.children, (child) => {\n        if (!isValidElement(child)) throw new TypeError('Invalided Children')\n        const extra = {\n            'aria-controls': getPanelId(context, child.props.value),\n            id: getTabId(context, child.props.value),\n            selected: child.props.value === context.value,\n            className: child.props.className,\n            onChange: (event: object, value: string, visitable?: boolean) => {\n                handleToggle(false)\n                props.onChange(event, value)\n                if (variant === 'flexible' && !visitable) {\n                    setFirstTabId(value)\n                }\n            },\n        }\n\n        if (child.type !== Tab) return child\n\n        if (variant === 'flexible') {\n            Object.assign(extra, {\n                // if move tab to first in flexible tabs\n                isVisitable: (top: number, right: number) => {\n                    const anchor = anchorRef.current?.getBoundingClientRect()\n                    return right <= (anchor?.right ?? 0) - defaultTabSize && top - (anchor?.top ?? 0) < defaultTabSize\n                },\n            })\n        }\n        const C = tabMapping[variant]\n        return (\n            <C value={child.props.value} {...extra}>\n                {child.props.label}\n            </C>\n        )\n    })\n\n    // #region hide tab should up to first when chick\n    const flexibleTabs = useMemo(() => {\n        if (variant !== 'flexible') return null\n        return children?.sort((a, b) => {\n            if (a.props.value === firstId) return -1\n            if (b.props.value === firstId) return 1\n            return 0\n        })\n    }, [firstId, children])\n    // #endregion\n\n    // #region Should close panel when click other area\n    useClickAway(flexPanelRef, (event) => {\n        if (variant !== 'flexible') return\n        const { left, right, top, bottom } = innerRef.current?.getBoundingClientRect() ?? {\n            right: 0,\n            left: 0,\n            top: 0,\n            bottom: 0,\n        }\n        const pointerX = (event as MouseEvent).x ?? 0\n        const pointerY = (event as MouseEvent).y ?? 0\n\n        if (pointerX > right || pointerX < left || pointerY < top || pointerY > bottom) handleToggle(false)\n    })\n    // #endregion\n\n    if (variant === 'flexible') {\n        return (\n            <Box position=\"relative\">\n                <ButtonGroupWrap\n                    maskVariant={variant}\n                    ref={anchorRef}\n                    style={{ visibility: 'hidden', height: defaultTabSize }}\n                />\n                <FlexibleButtonGroupPanel isOpen={!!(open && isTabsOverflow)} ref={flexPanelRef}>\n                    <FlexButtonGroupWrap\n                        maskVariant={variant}\n                        isOpen={open}\n                        isOverflow={!!(isTabsOverflow && !hideArrowButton)}\n                        {...rest}\n                        ref={innerRef}\n                        role=\"tablist\">\n                        {flexibleTabs}\n                        {(isTabsOverflow || open) && !hideArrowButton ? (\n                            <ArrowButtonWrap\n                                className={classes?.arrowButton}\n                                variant=\"text\"\n                                size=\"small\"\n                                aria-controls={open ? 'split-button-menu' : undefined}\n                                aria-expanded={open ? 'true' : undefined}\n                                aria-label=\"select tabs list\"\n                                aria-haspopup=\"menu\"\n                                onClick={() => handleToggle(!open)}>\n                                <ArrowBackIosNewIconWrap\n                                    sx={{ transform: open ? 'rotate(90deg)' : 'rotate(270deg)' }}\n                                />\n                            </ArrowButtonWrap>\n                        ) : null}\n                    </FlexButtonGroupWrap>\n                </FlexibleButtonGroupPanel>\n            </Box>\n        )\n    }\n\n    return (\n        <ButtonGroupWrap maskVariant={variant} {...rest} ref={innerRef} role=\"tablist\">\n            {children}\n        </ButtonGroupWrap>\n    )\n})\n\nMaskTabList.displayName = 'MaskTabList'\n","import { useCallback, useEffect, useState, useTransition } from 'react'\n\n/**\n * @example\n *  const [currentTab, onChange, tabs, setTab] = useTab('tab1', 'tab2', 'tab3')\n *  return (\n *      <TabContext value={currentTab}>\n *          <TabList onChange={onChange}>\n *              <Tab label=\"Item One\" value={tabs.tab1} />\n *              <Tab label=\"Item Two\" value={tabs.tab2} />\n *              <Tab label=\"Item Three\" value={tabs.tab3} />\n *          </TabList>\n *          <TabPanel value={tabs.tab1}>Item One</TabPanel>\n *          <TabPanel value={tabs.tab2}>Item Two</TabPanel>\n *          <TabPanel value={tabs.tab3}>Item Three</TabPanel>\n *      </TabContext>\n *  )\n */\nexport function useTabs<T extends string>(defaultTab: T, ...possibleTabs: T[]) {\n    const [currentTab, setTab] = useState(defaultTab)\n    const [, startTransition] = useTransition()\n    const tabRecords = { [defaultTab]: defaultTab } as Record<T, T>\n    possibleTabs.forEach((t) => (tabRecords[t] = t))\n\n    const isCurrentTabAvailable = [defaultTab, ...possibleTabs].includes(currentTab)\n    useEffect(() => {\n        if (!isCurrentTabAvailable) {\n            setTab(defaultTab)\n        }\n    }, [isCurrentTabAvailable, defaultTab])\n\n    const onChange = useCallback((event: unknown, value: any) => {\n        startTransition(() => setTab(value))\n    }, [])\n    return [currentTab, onChange, tabRecords, setTab] as const\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Others } from './useWeb3Others.js'\n\nexport function useChainIdValid<T extends NetworkPluginID>(\n    pluginID?: T,\n    expectedChainId?: Web3Helper.Definition[T]['ChainId'],\n) {\n    const { account, chainId } = useChainContext({ chainId: expectedChainId })\n    const Others = useWeb3Others(pluginID)\n\n    return (!account || Others.chainResolver.isValidChainId?.(chainId, process.env.NODE_ENV === 'development')) ?? false\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useChainContext } from './useContext.js'\nimport { isNativeTokenAddress } from '@masknet/web3-shared-evm'\nimport { useNetworks } from './useNetworks.js'\n\nexport function useFungibleToken<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string | null,\n    fallbackToken?: Web3Helper.FungibleTokenScope<S, T>,\n    options?: HubOptions<T>,\n) {\n    const { chainId } = useChainContext({ chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, {\n        chainId,\n        ...options,\n    })\n    const networks = useNetworks(pluginID)\n\n    return useQuery({\n        enabled: true,\n        queryKey: ['fungible-token', pluginID, address, chainId, options],\n        queryFn: async () => {\n            if (!address) return\n            return attemptUntil(\n                [\n                    async () => {\n                        if (pluginID !== NetworkPluginID.PLUGIN_EVM || !isNativeTokenAddress(address) || !chainId)\n                            return\n                        const network = networks.find((x) => x.chainId === chainId)\n                        return network?.nativeCurrency\n                    },\n                    async () => {\n                        const token = await Hub.getFungibleToken(address, { chainId })\n                        if (!token) return\n                        const logoURL = token.logoURL ?? fallbackToken?.logoURL\n                        const symbol =\n                            token.symbol === 'UNKNOWN' || !token.symbol ? fallbackToken?.symbol : token.symbol\n                        return { ...token, symbol, logoURL } as Web3Helper.FungibleTokenScope<S, T>\n                    },\n                ],\n                fallbackToken,\n            )\n        },\n    })\n}\n","import { noop } from 'lodash-es'\nimport { useEffect } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useFungibleTokenBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string,\n    options?: ConnectionOptions<T>,\n    /** Allow to control the request */\n    enabled = true,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        ...options,\n    })\n    const { BalanceNotifier } = useWeb3State(pluginID)\n\n    const result = useQuery({\n        enabled,\n        queryKey: ['fungible-token', 'balance', pluginID, account, address, options],\n        queryFn: async () => {\n            if (!address) return '0'\n            return Web3.getFungibleTokenBalance(address, undefined, options)\n        },\n    })\n\n    useEffect(() => {\n        return (\n            BalanceNotifier?.emitter.on('update', (ev) => {\n                if (isSameAddress(account, ev.account)) {\n                    result.refetch()\n                }\n            }) ?? noop\n        )\n    }, [account, result.refetch, BalanceNotifier])\n\n    return result\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useQuery } from '@tanstack/react-query'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useWeb3Others } from './useWeb3Others.js'\n\nexport function useGasOptions<T extends NetworkPluginID = NetworkPluginID>(pluginID?: T, options?: HubOptions<T>) {\n    const { chainId } = useChainContext<T>({ chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, options)\n    const Others = useWeb3Others(pluginID)\n\n    return useQuery(['get-gas-options', pluginID, chainId, options], async () => {\n        if (!Others.isValidChainId(chainId)) return\n        return Hub.getGasOptions!(chainId, options)\n    })\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { GasOptionType } from '@masknet/web3-shared-base'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useGasOptions } from './useGasOptions.js'\n\nexport function useGasOption<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    optionType?: GasOptionType,\n    options?: HubOptions<T>,\n) {\n    const { data: gasOptions } = useGasOptions(pluginID, options)\n\n    return useMemo(() => {\n        return {\n            ...gasOptions,\n            value: gasOptions?.[optionType ?? GasOptionType.NORMAL],\n        }\n    }, [gasOptions, optionType])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { GasOptionType } from '@masknet/web3-shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useWeb3Connection } from './useWeb3Connection.js'\nimport { useGasOption } from './useGasOption.js'\nimport { useQuery } from '@tanstack/react-query'\n\nexport function useGasPrice<T extends NetworkPluginID = NetworkPluginID>(pluginID?: T, options?: ConnectionOptions<T>) {\n    const Web3 = useWeb3Connection(pluginID, options)\n    const gasOption = useGasOption(pluginID, GasOptionType.NORMAL)\n    const gasPrice = useQuery(['get-gas-price', pluginID, options], async () => {\n        return Web3.getGasPrice()\n    })\n\n    return {\n        ...gasPrice,\n        data: gasOption?.value?.suggestedMaxFeePerGas ?? gasPrice.data,\n    }\n}\n","import { useAsyncRetry } from 'react-use'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\n\nexport function useNativeTokenBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        ...options,\n    })\n\n    return useAsyncRetry(async () => {\n        return Web3.getNativeTokenBalance()\n    }, [account, Web3])\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedChainIdOrNetworkTypeOrID?: string | number,\n): Web3Helper.NetworkDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { networkType } = useChainContext()\n\n    return getRegisteredWeb3Networks(pluginID).find((x) =>\n        [x.chainId, x.type, x.ID].includes(expectedChainIdOrNetworkTypeOrID ?? networkType ?? ''),\n    )\n}\n","import { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { uniqBy } from 'lodash-es'\nimport { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport { useWeb3State } from './useWeb3State.js'\n\n/**\n * Bulletin networks and custom networks.\n * There could be duplicate chian id among them, because that's allow to custom networks.\n */\nexport function useNetworks<T extends NetworkPluginID = NetworkPluginID>(pluginID?: T, uniqChainId?: boolean) {\n    const { Network } = useWeb3State(pluginID)\n    const networks = useSubscription(Network?.networks ?? EMPTY_ARRAY)\n    return useMemo(() => {\n        const list = networks.filter((x) => x.network === 'mainnet' || x.isCustomized)\n        return uniqChainId ? uniqBy(list, (x) => x.chainId) : list\n    }, [networks, uniqChainId])\n}\n","import { getRegisteredWeb3Providers } from '@masknet/web3-providers'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared provider descriptor\n * @param expectedPluginID\n * @param expectedProviderTypeOrID\n * @returns\n */\nexport function useProviderDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedProviderTypeOrID?: string,\n): Web3Helper.ProviderDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { providerType } = useChainContext()\n\n    return getRegisteredWeb3Providers(pluginID).find((x) =>\n        [x.type, x.ID].includes(expectedProviderTypeOrID ?? providerType ?? ''),\n    )\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport type { RecentTransactionComputed, TransactionStatusType } from '@masknet/web3-shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRecentTransactions<T extends NetworkPluginID>(pluginID?: T, status?: TransactionStatusType) {\n    const { Transaction } = useWeb3State(pluginID)\n    const transactions = useSubscription(Transaction?.transactions ?? EMPTY_ARRAY)\n    type ChainId = Web3Helper.Definition[T]['ChainId']\n    type Transaction = Web3Helper.Definition[T]['Transaction']\n\n    return useMemo<Array<RecentTransactionComputed<ChainId, Transaction>>>(() => {\n        return (status ? transactions.filter((x) => status === x.status) : transactions).map((x) => ({\n            ...x,\n            _tx: x.candidates[x.indexId],\n        }))\n    }, [status, transactions])\n}\n","import { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useReverseAddress<T extends NetworkPluginID>(pluginID?: T, address?: string, domainOnly?: boolean) {\n    const { NameService } = useWeb3State(pluginID)\n\n    return useQuery({\n        queryKey: ['reverse', address, domainOnly],\n        enabled: !!NameService?.reverse,\n        queryFn: async () => {\n            if (!address) return null\n            return (await NameService?.reverse?.(address, domainOnly)) || null\n        },\n    })\n}\n","import { useMemo } from 'react'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext } from './useContext.js'\nimport { useWallets } from './useWallets.js'\n\n/**\n * Use the currently selected wallet.\n * @param pluginID\n * @returns\n */\nexport function useWallet<T extends NetworkPluginID>(\n    pluginID?: T,\n    providerType?: Web3Helper.Definition[T]['ProviderType'],\n) {\n    const { account } = useChainContext()\n    const wallets = useWallets()\n\n    return useMemo(() => {\n        return account ? wallets.find((x) => isSameAddress?.(x.address, account)) ?? null : null\n    }, [account, wallets])\n}\n","import { EMPTY_LIST, type Wallet } from '@masknet/shared-base'\nimport { Providers } from '@masknet/web3-providers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useMemo } from 'react'\nimport { usePersistSubscription } from '@masknet/shared-base-ui'\n\nexport function useWallets() {\n    // We got stored Mask wallets only.\n    const wallets = usePersistSubscription(\n        '@@mask-wallets',\n        Providers[ProviderType.MaskWallet].subscription.wallets ?? EMPTY_LIST,\n    )\n\n    return useMemo(() => {\n        return [...wallets]\n            .map((w) => {\n                // Could be serialized by react query persist client\n                if (w.createdAt instanceof Date && w.updatedAt instanceof Date) return w\n                return {\n                    ...w,\n                    createdAt: new Date(w.createdAt),\n                    updatedAt: new Date(w.updatedAt),\n                } as Wallet\n            })\n            .sort((a, b) => {\n                if (a.owner && !b.owner) return 1\n                const timestampA = a.createdAt.getTime()\n                const timestampB = b.createdAt.getTime()\n                if (timestampA - timestampB > 10000) {\n                    return 1\n                } else if (timestampB - timestampA > 10000) {\n                    return -1\n                }\n                const numA = a.name.split('Wallet ')[1]\n                const numB = b.name.split('Wallet ')[1]\n                try {\n                    if (!numA && numB && !Number.isNaN(numB)) return 1\n                    if (!Number.isNaN(numA) && !Number.isNaN(numB)) {\n                        return Number(numA) > Number(numB) ? 1 : -1\n                    } else {\n                        return numB.length - numA.length\n                    }\n                } catch {\n                    return 0\n                }\n            })\n    }, [wallets])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { Web3All } from '@masknet/web3-providers'\nimport type { Connection, ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Connection<T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => Web3All.use(pluginID, options) as Connection<T>, [pluginID, JSON.stringify(options)])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { HubAll } from '@masknet/web3-providers'\nimport type { Hub, HubOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Hub<T extends NetworkPluginID = NetworkPluginID>(expectedPluginID?: T, options?: HubOptions<T>) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => HubAll.use(pluginID, options) as Hub<T>, [pluginID, JSON.stringify(options)])\n}\n","import { Contract } from '@masknet/web3-providers'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport { useQuery } from '@tanstack/react-query'\n\nexport function useERC20TokenAllowance(\n    address?: string,\n    spender?: string,\n    options?: ConnectionOptions<NetworkPluginID.PLUGIN_EVM>,\n) {\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>({\n        account: options?.account,\n        chainId: options?.chainId,\n    })\n\n    return useQuery({\n        queryKey: ['erc20-allowance', address, account, spender],\n        queryFn: async () => {\n            if (!account || !address || !spender) return '0'\n            return Contract.getERC20Contract(address, { chainId })?.methods.allowance(account, spender).call({\n                from: account,\n            })\n        },\n        refetchInterval: 30 * 1000,\n    })\n}\n","import { useCallback, useMemo } from 'react'\nimport { useAsyncFn } from 'react-use'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { Web3 } from '@masknet/web3-providers'\nimport { isLessThan, toFixed, isZero } from '@masknet/web3-shared-base'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { useChainContext, useFungibleTokenBalance } from '@masknet/web3-hooks-base'\nimport { useERC20TokenAllowance } from './useERC20TokenAllowance.js'\n\nconst MaxUint256 = toFixed('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff')\n\nexport enum ApproveStateType {\n    UNKNOWN = 0,\n    NOT_APPROVED = 1,\n    UPDATING = 2,\n    PENDING = 3,\n    APPROVED = 4,\n    FAILED = 5,\n}\n\nexport function useERC20TokenApproveCallback(\n    address: string,\n    amount: string,\n    spender: string,\n    callback?: () => void,\n    tokenChainId?: ChainId,\n) {\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n\n    // read the approved information from the chain\n    const {\n        data: balance = '0',\n        isLoading: loadingBalance,\n        error: errorBalance,\n        refetch: revalidateBalance,\n    } = useFungibleTokenBalance(NetworkPluginID.PLUGIN_EVM, address, { chainId: tokenChainId })\n    const {\n        data: allowance = '0',\n        isLoading: loadingAllowance,\n        error: errorAllowance,\n        refetch: revalidateAllowance,\n    } = useERC20TokenAllowance(address, spender, { chainId: tokenChainId })\n\n    // the computed approve state\n    const approveStateType = useMemo(() => {\n        if (!amount || !spender) return ApproveStateType.UNKNOWN\n        if (loadingBalance || loadingAllowance) return ApproveStateType.UPDATING\n        if (errorBalance || errorAllowance) return ApproveStateType.FAILED\n        return isLessThan(allowance, amount) || (allowance === amount && isZero(amount))\n            ? ApproveStateType.NOT_APPROVED\n            : ApproveStateType.APPROVED\n    }, [amount, spender, balance, allowance, errorBalance, errorAllowance, loadingAllowance, loadingBalance])\n\n    const [state, approveCallback] = useAsyncFn(\n        async (useExact = false, isRevoke = false) => {\n            if (approveStateType === ApproveStateType.UNKNOWN || !amount || !spender) {\n                return\n            }\n            // error: failed to approve token\n            if (approveStateType !== ApproveStateType.NOT_APPROVED && !isRevoke) {\n                return\n            }\n\n            if (tokenChainId !== chainId) {\n                await Web3.switchChain?.(tokenChainId ?? chainId)\n            }\n\n            const hash = await Web3.approveFungibleToken(address, spender, useExact ? amount : MaxUint256, {\n                chainId: tokenChainId,\n            })\n\n            const receipt = await Web3.confirmTransaction(hash, {\n                chainId: tokenChainId,\n                signal: AbortSignal.timeout(5 * 60 * 1000),\n            })\n\n            if (receipt) {\n                callback?.()\n                revalidateBalance()\n                revalidateAllowance()\n            }\n        },\n        [account, amount, spender, address, approveStateType, tokenChainId, chainId],\n    )\n\n    const resetCallback = useCallback(() => {\n        revalidateBalance()\n        revalidateAllowance()\n    }, [revalidateBalance])\n\n    return [\n        {\n            type: approveStateType,\n            allowance,\n            amount,\n            spender,\n            balance,\n        },\n        { ...state, loading: loadingAllowance || loadingBalance || state.loading, loadingApprove: state.loading },\n        approveCallback,\n        resetCallback,\n    ] as const\n}\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * @type {React.Context<{ idPrefix: string; value: string } | null>}\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Context = /*#__PURE__*/React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  Context.displayName = 'TabContext';\n}\n\nfunction useUniquePrefix() {\n  const [id, setId] = React.useState(null);\n  React.useEffect(() => {\n    setId(`mui-p-${Math.round(Math.random() * 1e5)}`);\n  }, []);\n  return id;\n}\n\nexport default function TabContext(props) {\n  const {\n    children,\n    value\n  } = props;\n  const idPrefix = useUniquePrefix();\n  const context = React.useMemo(() => {\n    return {\n      idPrefix,\n      value\n    };\n  }, [idPrefix, value]);\n  return /*#__PURE__*/_jsx(Context.Provider, {\n    value: context,\n    children: children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? TabContext.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * The value of the currently selected `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\n/**\n * @returns {unknown}\n */\n\nexport function useTabContext() {\n  return React.useContext(Context);\n}\nexport function getPanelId(context, value) {\n  const {\n    idPrefix\n  } = context;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return `${context.idPrefix}-P-${value}`;\n}\nexport function getTabId(context, value) {\n  const {\n    idPrefix\n  } = context;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return `${context.idPrefix}-T-${value}`;\n}","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","'use client';\nimport * as React from 'react';\n\nconst IsRestoringContext = /*#__PURE__*/React.createContext(false);\nconst useIsRestoring = () => React.useContext(IsRestoringContext);\nconst IsRestoringProvider = IsRestoringContext.Provider;\n\nexport { IsRestoringProvider, useIsRestoring };\n//# sourceMappingURL=isRestoring.mjs.map\n"],"names":["lastRecognizedProfile","currentVisitingProfile","currentNextIDPlatform","currentPersonaIdentifier","getPostURL","share","getUserIdentity","getPostIdFromNewPostToast","postMessage","getSearchedKeyword","connectPersona","__setSiteAdaptorContext__","value","defer","delay","Emitter","SingletonModal","constructor","open","bind","close","abort","openAndWaitForClose","emitter","onOpen","onClose","onAbort","dispatchPeek","dispatchOpen","dispatchClose","dispatchAbort","register","creator","undefined","ref","props","emit","error","peek","console","warn","Promise","resolve","reject","SingletonModalQueued","opened","tasks","on","cleanup","push","d","length","shift","useSubscription","FALSE","TRUE","useWeb3State","useAllowTestnet","pluginID","Settings","allowTestnet","process","env","NODE_ENV","React","memo","useAsyncFn","Box","Icons","makeStyles","ShadowRootTooltip","ActionButton","useCustomSnackbar","useNetworkContext","useChainContext","useNetworkDescriptor","useChainIdValid","RevokeChainContextProvider","useWeb3Others","useWeb3Connection","ProviderType","WalletIcon","useSharedTrans","SelectProviderModal","useStyles","theme","tooltip","background","palette","common","black","color","white","borderRadius","padding","maxWidth","arrow","connectWallet","lineHeight","ChainBoundaryWithoutContext","expectedPluginID","expectedChainId","expectedAccount","actualNetworkPluginID","switchText","forceShowingWrongNetworkButton","disableConnectWallet","predicate","actualPluginID","actualChainId","t","classes","Web3","showSnackbar","account","chainId","providerType","actualProviderType","expectedOthers","expectedAllowTestnet","chainIdValid","expectedChainName","chainResolver","chainName","expectedNetworkDescriptor","expectedChainAllowed","isValidChainId","isPluginIDMatched","isMatched","loading","onSwitchChain","WalletConnect","switchChain","Error","message","plugin_wallet_switch_network_title","processing","variant","plugin_wallet_unsupported_chain","network","autoHideDuration","plugin_wallet_switch_chain_failed","renderBox","children","tips","title","placement","className","display","flexDirection","width","hiddenConnectButton","fullWidth","startIcon","Wallet","size","onClick","ActionButtonPromiseProps","plugin_wallet_wrong_network","plugin_wallet_connect_a_wallet","switchButton","disabled","mainIcon","icon","sx","plugin_wallet_change_wallet","plugin_wallet_connect_tips","plugin_wallet_not_support_network","plugin_wallet_switch_network","ChainBoundary","displayName","Link","useCallback","useRef","useState","useCopyToClipboard","copy","maskColor","main","CopyButton","text","successText","scoped","cx","copyToClipboard","copied","setCopied","active","setActive","timerRef","handleCopy","ev","stopPropagation","preventDefault","clearTimeout","current","setTimeout","tooltipTitle","iconProps","disableInteractive","underline","component","fontSize","root","Check","success","Copy","DEFAULT_IMAGES","URL","url","toString","name2Image","name","sum","i","charCodeAt","Avatar","useTheme","margin","dark","backgroundSize","height","Icon","logoURL","label","rest","failed","setFailed","defaultBackgroundImage","showImage","src","imgProps","onError","event","backgroundImage","backgroundColor","slice","toUpperCase","ImageIcon","iconFilterColor","style","filter","backdropFilter","img","NetworkPluginID","useFungibleToken","useWeb3Hub","TokenType","useQuery","first","TokenIcon","PLUGIN_EVM","propChainId","address","symbol","tokenType","Fungible","disableDefaultIcon","data","token","Hub","isNFT","NonFungible","queryKey","enabled","queryFn","logoURLs","getFungibleTokenIconURLs","catch","position","badgeIcon","right","bottom","border","badgeIconBorderColor","badgeSize","div","Button","Sniffings","Action","openSelectWalletDialog","columnGap","minWidth","is_popup_page","wallet_status_button_change","useMemo","alpha","MaskColorVar","useProviderDescriptor","useRecentTransactions","useWallet","useReverseAddress","NetworkContextProvider","TransactionStatusType","WalletDescription","WalletStatusModal","boxSizing","is_dashboard_page","mainBackground","boxShadow","mode","spacing","alignItems","justifyContent","flex","maxHeight","connection","marginRight","PluginWalletStatusBarWithoutContext","requiredSupportChainIds","requiredSupportPluginID","wallet","providerDescriptor","networkDescriptor","domain","Others","openSelectProviderDialog","pendingTransactions","NOT_DEPEND","walletName","MaskWallet","formatAddress","pending","providerIcon","networkIcon","formattedAddress","addressLink","explorerResolver","onPendingClick","PluginWalletStatusBar","LoadingBase","Typography","cursor","description","marginLeft","fontWeight","second","gap","progress","linkIcon","verified","span","Verification","ArrowDrop","href","target","rel","LinkOut","e","recent_transaction_pending","WalletConnectQRCodeModal","WalletRiskWarningModal","ConnectWalletModal","LeavePageConfirmModal","ApplicationBoardModal","ApplicationBoardSettingsModal","GasSettingModal","TransactionConfirmModal","TransactionSnackbar","ConfirmModal","ConfirmDialog","SelectNonFungibleContractModal","SelectGasSettingsModal","AddCollectiblesModal","SelectFungibleTokenModal","PersonaSelectPanelModal","ShareSelectNetworkModal","ApplicationSettingTabs","LightColor","bg","primary","primaryContrastText","secondary","secondaryContrastText","input","primaryBackground","primaryBackground2","secondaryBackground","lightBackground","suspensionBackground","normalBackground","twitterBackground","twitterBackgroundHover","twitterInputBackground","twitterButton","twitterButtonText","twitterBlue","twitterBorderLine","twitterSecond","twitterMain","twitterBottom","twitterInfoBackground","twitterInfo","twitterBg","twitterTooltipBg","twitterInput","twitterLine","redMain","redLight","redContrastText","greenMain","greenLight","orangeMain","orangeLight","iconLight","divider","borderSecondary","textPrimary","textSecondary","secondaryInfoText","normalText","normalTextLight","infoBackground","warning","blue","textLink","lineLight","lineLighter","textLight","lightestBackground","linkText","twitter","facebook","errorBackground","tooltipBackground","warningBackground","cyberconnectPrimary","errorPlugin","buttonPluginBackground","textPluginColor","buttonPluginColor","DarkColor","kebabCase","getMaskColor","set","key","cssVar","defaultValue","x","Object","assign","Symbol","toPrimitive","defineProperty","configurable","enumerable","__proto__","Proxy","get","_","p","getOwnPropertyDescriptor","opacity","pointerEvents","disableElevation","animated","transform","animation","CircleLoading","forwardRef","keyframes","SnackbarProvider","useSnackbar","SnackbarContent","IconButton","Close","CloseIcon","Warning","WarningIcon","Info","InfoIcon","usePortalShadowRoot","PopupSnackbarProvider","usePopupCustomSnackbar","offsetY","classNames","spinningAnimationKeyFrames","wordBreak","outline","defaultVariant","danger","info","zIndex","content","flexWrap","default","spinning","action","closeButton","texts","IconMap","SuccessForSnackBar","TransactionFailed","CustomSnackbarContent","snackbar","loadingIcon","variantIcon","renderedAction","closeSnackbar","id","CustomSnackbarProvider","onDismiss","container","maxSnack","disableWindowBlurListener","anchorOrigin","vertical","horizontal","hideIconVariant","containerRoot","variantSuccess","variantError","variantInfo","variantWarning","domRoot","enqueueSnackbar","options","styled","BaseTabWrap","shouldForwardProp","prop","activated","paddingLeft","paddingRight","secondaryDark","BaseTab","selected","onChange","handleClick","String","role","aria-selected","useEffect","FlexibleTabTabWrap","flexShrink","flexGrow","highlight","FlexibleTab","isVisitable","visitable","getBoundingClientRect","top","RoundTabWrap","RoundTab","ButtonGroup","Tab","useTabContext","getPanelId","getTabId","Children","isValidElement","useImperativeHandle","ArrowBackIosNew","ArrowBackIosNewIcon","useClickAway","useWindowSize","defaultTabSize","ArrowButtonWrap","ArrowBackIosNewIconWrap","FlexibleButtonGroupPanel","isOpen","left","ButtonGroupWrap","maskVariant","overflowY","marginTop","paddingTop","FlexButtonGroupWrap","isOverflow","overflow","tabMapping","flexible","round","base","MaskTabList","context","handleToggle","isTabsOverflow","setIsTabsOverflow","firstId","setFirstTabId","innerRef","anchorRef","flexPanelRef","TypeError","hideArrowButton","scrollWidth","clientWidth","map","child","extra","type","anchor","C","flexibleTabs","sort","a","b","pointerX","pointerY","y","visibility","arrowButton","aria-controls","aria-expanded","aria-label","aria-haspopup","useTransition","useTabs","defaultTab","possibleTabs","currentTab","setTab","startTransition","tabRecords","forEach","isCurrentTabAvailable","includes","attemptUntil","isNativeTokenAddress","useNetworks","fallbackToken","networks","find","nativeCurrency","getFungibleToken","noop","isSameAddress","useFungibleTokenBalance","BalanceNotifier","result","getFungibleTokenBalance","refetch","useGasOptions","getGasOptions","GasOptionType","useGasOption","optionType","gasOptions","NORMAL","useGasPrice","gasOption","gasPrice","getGasPrice","suggestedMaxFeePerGas","useAsyncRetry","useNativeTokenBalance","getNativeTokenBalance","getRegisteredWeb3Networks","expectedChainIdOrNetworkTypeOrID","networkType","ID","EMPTY_ARRAY","uniqBy","uniqChainId","Network","list","isCustomized","getRegisteredWeb3Providers","expectedProviderTypeOrID","status","Transaction","transactions","_tx","candidates","indexId","domainOnly","NameService","reverse","useWallets","wallets","EMPTY_LIST","Providers","usePersistSubscription","subscription","w","createdAt","Date","updatedAt","owner","timestampA","getTime","timestampB","numA","split","numB","Number","isNaN","Web3All","use","JSON","stringify","HubAll","Contract","useERC20TokenAllowance","spender","getERC20Contract","methods","allowance","call","from","refetchInterval","isLessThan","toFixed","isZero","MaxUint256","ApproveStateType","UNKNOWN","NOT_APPROVED","UPDATING","PENDING","APPROVED","FAILED","useERC20TokenApproveCallback","amount","callback","tokenChainId","balance","isLoading","loadingBalance","errorBalance","revalidateBalance","loadingAllowance","errorAllowance","revalidateAllowance","approveStateType","state","approveCallback","useExact","isRevoke","hash","approveFungibleToken","receipt","confirmTransaction","signal","AbortSignal","timeout","resetCallback","loadingApprove"],"sourceRoot":"","x_google_ignoreList":[18,19,23,45,46,47,48,49,50]}