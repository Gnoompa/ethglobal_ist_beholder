{"version":3,"file":"bundled/3493.js","mappings":"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SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACyC;AACG;AACpB;AACT,qBAAqB,aAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,2BAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,wBAAwB;AACxE,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,8BAA8B,wBAAW;AACzC,kCAAkC,2BAAS;AAC3C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,yBAAyB,wBAAW;AACpC,aAAa;AACb,8BAA8B,wBAAW;AACzC,kCAAkC,2BAAS;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mDAAmD,wBAAW;AAC9D,aAAa;AACb,8DAA8D,wBAAW;AACzE,kCAAkC,2BAAS;AAC3C;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrOyB;AAE6B;AACgD;AAC9D;AAGjC,MAAMwqE,uBACD3lG,YAAYA;IAcAy7E;IAXZh+C,OAA4B;IAEpC,IAAYmoE,iBAAiB;QACzB,IAAI,CAAC,IAAI,CAACnoE,MAAM,EAAE,MAAM,IAAI9nC,MAAM;QAClC,OAAO,IAAI,CAAC8nC,MAAM;IACtB;IAEA,IAAYmoE,eAAeC,SAAiB,EAAE;QAC1C,IAAI,CAACpoE,MAAM,GAAGooE;IAClB;IAEA5uG,YAAoBwkF,cAAc,uBAAuB,CAAE;QACvD,KAAK;2BADWA;aAXZh+C,SAAwB;IAahC;IAEA,MAAek5B,YAAYhxD,OAAe,EAAE;QACxC,MAAMvE,OAAO,IAAI00F,cAAc5Q,MAAM,CAACv/E;QACtC,MAAM,EAAEg5B,SAAS,EAAE,GAAG,MAAM,IAAI,CAACinE,cAAc,CAACjsD,IAAI,CAACv4C,MAAM;QAC3D,OAAOskG,qBAAa,CAAC/mE;IACzB;IAES63B,gBAAgBr7B,WAAwB,EAAE;QAC/C,OAAO,IAAI,CAACyqE,cAAc,CAACpvC,eAAe,CAACr7B;IAC/C;IAES+xC,iBAAiBx4C,YAA2B,EAAE;QACnD,OAAO,IAAI,CAACkxE,cAAc,CAACE,mBAAmB,CAACpxE;IACnD;IAEA,MAAe3zB,QAAQ+Y,OAAgB,EAAE;QACrC,IAAI,CAAC8rF,cAAc,GAAG,IAAI5uF,MAAMA,CAAC,IAAI,CAACykE,WAAW,EAAE;QACnD,MAAM,IAAI,CAACmqB,cAAc,CAAC7kG,OAAO;QACjC,OAAO;YACH+Y;YACAiD,SAAS,IAAI,CAAC6oF,cAAc,CAACtwG,SAAS,EAAEomG,cAAc;QAC1D;IACJ;IAEA,MAAe16F,aAAa;QACxB,IAAI,CAAC4kG,cAAc,GAAG,IAAI5uF,MAAMA,CAAC,IAAI,CAACykE,WAAW,EAAE;QACnD,MAAM,IAAI,CAACmqB,cAAc,CAAC5kG,UAAU;QACpC,IAAI,CAACstE,OAAO,CAAC5sE,IAAI,CAAC,cAAcuiF,0BAAYA,CAAC8hB,MAAM;QAEnD,4BAA4B;QAC5B,IAAI,CAACtoE,MAAM,GAAG;IAClB;AACJ;;;;;ACzDiC;AAEsC;AAEiD;AAChE;AAGjD,MAAMyoE,6BACDplG,oBAAoBA;IAG5B7J,aAAc;QACV,KAAK,CAACgtF,0BAAYA,CAAC+F,MAAM,EAAEgc,wCAA4BA;IAC3D;IAEA,MAAervC,YAAYhxD,OAAe,EAAmB;QACzD,MAAM,EAAEg5B,SAAS,EAAE,GAAI,MAAM,IAAI,CAACovD,MAAM,CAAC5sF,OAAO,CAAC;YAC7CoB,QAAQ0jG,8BAAgBA,CAACE,QAAQ;YACjC/iG,QAAQ;gBAAC,IAAI0yF,cAAc5Q,MAAM,CAACv/E;aAAS;QAC/C;QACA,OAAOg5B;IACX;IAEA,MAAe63B,gBAAgBr7B,WAAwB,EAAwB;QAC3E,MAAM,EAAEwD,SAAS,EAAErpC,SAAS,EAAE,GAAI,MAAM,IAAI,CAACy4F,MAAM,CAAC5sF,OAAO,CAAC;YACxDoB,QAAQ0jG,8BAAgBA,CAACE,QAAQ;YACjC/iG,QAAQ;gBAAC+3B;aAAY;QACzB;QACAA,YAAYoqE,YAAY,CAACjwG,WAAWqpC;QACpC,OAAOxD;IACX;IAEA,MAAep6B,QAAQ+Y,OAAgB,EAA6B;QAChE,MAAM,IAAI,CAAC9L,YAAY;QAEvB,MAAMo/C,WAAY,MAAM,IAAI,CAAC2gC,MAAM,CAAC5sF,OAAO,CAAC;YACxCoB,QAAQ0jG,8BAAgBA,CAACG,YAAY;YACrChjG,QAAQ,EAAE;QACd;QAEA,OAAO;YACH0W;YACAiD,SAAS8D,uBAAKA,CAACusC,aAAa;QAChC;IACJ;IAEA,MAAepsD,aAAa,CAE5B;AACJ,EAFQ,aAAa;;;AChDmG;AAC1D;AAChB;AACU;AACZ;AACM;AAI9C,iBAAiB,GAEjB,qBAAqB,GAErB,uBAAuB,GAEvB,+BAA+B,GAI5B,MAAM47F,kBAAwD;IACjE,CAAC3Y,0BAAYA,CAACzwF,IAAI,CAAC,EAAE,IAAI6yG,YAAkBA;IAC3C,CAACpiB,0BAAYA,CAACghB,OAAO,CAAC,EAAE,IAAIliG,eAAeA;IAC3C,CAACkhF,0BAAYA,CAACwhB,QAAQ,CAAC,EAAE,IAAIziG,gBAAgBA;IAC7C,CAACihF,0BAAYA,CAAC8hB,MAAM,CAAC,EAAE,IAAIJ,cAAcA;IACzC,CAAC1hB,0BAAYA,CAAC+F,MAAM,CAAC,EAAE,IAAIkc,oBAAoBA;AACnD,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICxBM;UAAKI,sBAAsB;IAAtBA,uBACRvuF,aAAU;IADFuuF,uBAERC,YAAS;IAFDD,uBAGRE,SAAM;GAHEF,2BAAAA;IAWL;UAAKG,iBAAiB;IAAjBA,kBACRC,eAAY;IADJD,kBAERE,SAAM;GAFEF,sBAAAA;IAiBL;UAAKG,wBAAwB;IAAxBA,yBACRhrE,UAAO;IADCgrE,yBAER/qE,aAAU;IAFF+qE,yBAGRC,WAAQ;IAHAD,yBAIRE,eAAY;IAJJF,yBAKRG,eAAY;IALJH,yBAMRI,gBAAa;IANLJ,yBAORK,YAAS;IAPDL,yBAQRM,aAAU;IARFN,yBASRO,cAAW;IATHP,yBAURQ,YAAS;IAVDR,yBAWRS,WAAQ;IAXAT,yBAYRU,WAAQ;IAZAV,yBAaRW,aAAU;IAbFX,yBAcRY,WAAQ;GAdAZ,6BAAAA;IAiBL;UAAKa,uBAAuB;IAAvBA,wBACRC,eAAY;IADJD,wBAER1sE,YAAS;IAFD0sE,wBAGRjS,aAAU;GAHFiS,4BAAAA;IAML;UAAKE,0BAA0B;IAA1BA,2BACRC,QAAK;IADGD,2BAERE,SAAM;IAFEF,2BAGRG,UAAO;GAHCH,+BAAAA;;;ACpD4B;AAQN;AACqF;AAMpG;AAEZ,SAASI,aAAa3mG,IAA2B;IACpD,MAAM,EAAE66B,KAAK,EAAEvC,KAAK,EAAE,GAAGt4B;IACzB,MAAM,EAAEmY,OAAO,EAAE,GAAG0iB,MAAM+rE,eAAe,CAACtuE,MAAM;IAChD,OAAO3Y,0CAAcA,CAACxH;AAC1B;AAEA,SAAS0uF,cAAc7oF,MAAc;IACjC,OAAO;QAAC;QAAO;QAAO;QAAS;QAAS;QAAQ;QAAO;QAAQ;KAAO,CAACnmB,QAAQ,CAACmmB;AACpF;AACO,SAAS8oF,YAAYpuF,OAAgB,EAAE1Y,IAA2B;IACrE,MAAM,EAAE66B,KAAK,EAAEvC,KAAK,EAAEuI,QAAQ,EAAE,GAAG7gC;IACnC,MAAM,EAAEmY,SAASoD,QAAQ,EAAEmd,QAAQ,EAAE,GAAGmC,MAAM+rE,eAAe,CAACtuE,MAAM;IACpE,MAAMK,UAAUqpB,4BAASA,CAACnhB,UAAUnI,UAAUva,QAAQ;IACtD,MAAMoK,QAAQsS,MAAMtS,KAAK,EAAElzB,SAAS;IACpC,MAAM8iB,UAAU0uF,cAAchsE,MAAM7c,MAAM,IAAImF,gDAAgBA,CAACzK,SAAS,wBAAwB,MAAM6C;IAEtG,OAAO;QACH7kB,IAAIyhB;QACJO;QACAzX,MAAMgiB,uBAASA,CAACwB,QAAQ;QACxB8T,QAAQX,wBAAUA,CAACa,KAAK;QACxB7iC,MAAMilC,MAAMjlC,IAAI,IAAI;QACpBooB,QAAQ6c,MAAM7c,MAAM;QACpB0a;QACAvgB,SAASuH,2CAAqBA,CAACvH;QAC/BygB,SAASiC,MAAMksE,QAAQ;QACvBpuE,SAASkI;QACTtY,OAAO;YACHE,KAAK,IAAI1W,0BAASA,CAACwW,OAAOj2B,QAAQ;QACtC;QACA+C,OAAO;YACHozB,KAAKqP,+BAAYA,CAACa,SAASpQ,OAAOj2B,QAAQ;QAC9C;IACJ;AACJ;AAEA,SAASonC,kBAAkBppB,MAA+B;IACtD,MAAM3b,MAA8D;QAChE,CAAC0xG,uBAAuBA,CAAC1sE,MAAM,CAAC,EAAE1B,2BAAqBA,CAAC0B,MAAM;QAC9D,CAAC0sE,uBAAuBA,CAACC,SAAS,CAAC,EAAEruE,2BAAqBA,CAAC2B,OAAO;QAClE,CAACysE,uBAAuBA,CAACjS,OAAO,CAAC,EAAEn8D,2BAAqBA,CAAC40C,UAAU;IACvE;IACA,OAAOl4E,GAAG,CAAC2b,OAAO;AACtB;AAEO,SAASgiB,mBACZ5Z,OAAgB,EAChB1Y,IAA6B;IAE7B,OAAOA,KACF0d,MAAM,CAAC,CAAC,EAAEzc,IAAI,EAAE,GAAKA,SAASukG,wBAAwBA,CAACE,SAAS,EAChE/wG,GAAG,CAAC,CAAColC;QACF,MAAMitE,YAAYhlD,4BAASA,CAACjoB,YAAYgB,GAAG,EAAE1lC,SAAS,GAAG,IAAI/C,QAAQ;QACrE,MAAM20G,YAAYnvE,+BAAYA,CAACkvE,WAAWjtE,YAAYgB,GAAG,EAAExS,SAAS,GAAGj2B,QAAQ;QAE/E,OAAO;YACHoE,IAAIqjC,YAAY+G,IAAI;YACpBpoB,SAASd,qBAAOA,CAACkC,OAAO;YACxB7Y,MAAM84B,YAAY94B,IAAI;YACtBy5B,UAAUX,YAAY94B,IAAI;YAC1BzO,MAAMunC,YAAYmtE,YAAY,IAAI;YAClCv0F,IAAIonB,YAAYotE,UAAU,IAAI;YAC9B7oG,WAAWy7B,YAAYqtE,QAAQ;YAC/B92F,QAAQopB,kBAAkBK,YAAYzpB,MAAM;YAC5CsqB,QACIb,YAAYstE,OAAO,EAAE1yG,IAAI,CAAC,EAAEkmC,KAAK,EAAE7B,SAAS,EAAE3jC,KAAK,EAAE;gBACjD,OAAO;oBACHqB,IAAImkC,MAAMysE,UAAU;oBACpB,wBAAwB;oBACxBrmG,MAAMgiB,uBAASA,CAACwB,QAAQ;oBACxB8T,QAAQX,wBAAUA,CAACa,KAAK;oBACxB/f;oBACA9iB,MAAMilC,MAAMjlC,IAAI;oBAChBooB,QAAQ6c,MAAM7c,MAAM;oBACpB7F,SAAS0iB,MAAMysE,UAAU;oBACzBtuE;oBACAtd,QAAQsmC,4BAASA,CAAC3sD,OAAOwlC,MAAMnC,QAAQ,EAAEpmC,QAAQ;oBACjDmnC,SAASoB,MAAMksE,QAAQ;gBAC3B;YACJ,MAAM,EAAE;YACZhsE,KAAK;gBACD/b,KAAKgoF;gBACLv+E,KAAKw+E;YACT;QACJ;IACJ;AACR;;;;;;;;;;;;ACvGgE;AACd;AACf;AACF;AAad;AACiB;AAEpC,MAAMO,aAAa;AACnB,2BAA2B;AAC3B,MAAMC,eAAe;AAErB,IAAIC,SAAuC;AAEpC,MAAMC,wBAAwBj6F,8DAAyBA,CAC1D;IACI8T,UAAU5J,qBAAOA,CAACkC,OAAO;IACzBygC,UAAU3iC,qBAAOA,CAAC+K,QAAQ;IAC1BN,QAAQzK,qBAAOA,CAAC0K,MAAM;IACtBP,WAAWnK,qBAAOA,CAACoK,SAAS;IAC5Bm4B,UAAUviC,qBAAOA,CAACK,QAAQ;IAC1B4J,QAAQjK,qBAAOA,CAACkK,MAAM;IACtB,uBAAuBlK,qBAAOA,CAACoI,GAAG;IAClC4C,MAAMhL,qBAAOA,CAACiL,IAAI;IAClBy3B,SAAS1iC,qBAAOA,CAACsC,KAAK;AAC1B,GACA,IAAM5gB,WACT;AAED,SAASsuG,aAAax4F,YAAoC81F,sBAAsBA,CAACvuF,OAAO;IACpF,IAAI+wF,QAAQ5b,WAAW,OAAO4b;IAC9B,IAAIA,QAAQA,OAAOlZ,kBAAkB;IACrC,OAAQkZ,SAASH,aAAEA,CAAC,CAAC,EAAEC,WAAW,CAAC,EAAEp4F,UAAU,CAAC,EAAE;QAC9Cy4F,YAAY;YAAC;SAAY;QACzBl+E,OAAO;YACHm+E,WAAWL;QACf;QACA,gCAAgC;QAChCM,cAAc;IAClB;AACJ;AAEA,SAAS13C,OAAOtwD,OAA0B,EAAExG,QAAa;IACrD,+DAA+D;IAC/D,OAAO9F,OAAOkc,IAAI,CAAC5P,QAAQkqC,OAAO,EAAE+9D,KAAK,CAAC,CAAC1zG;QACvC,MAAM2zG,eAAeloG,QAAQkqC,OAAO,CAAC31C,IAAI;QACzC,MAAM4zG,oBAAoB3uG,SAAS4uG,IAAI,CAAC7zG,IAAI;QAC5C,IAAI,OAAO2zG,iBAAiB,UAAU;YAClC,OAAOvqG,KAAKgB,SAAS,CAACupG,kBAAkBvqG,KAAKgB,SAAS,CAACwpG;QAC3D;QACA,IAAI,OAAOD,iBAAiB,UAAU;YAClC,OAAOC,mBAAmBpwG,kBAAkBmwG,cAAcnwG;QAC9D;QACA,OAAOowG,sBAAsBD;IACjC;AACJ;AAEA,SAASG,oBACLC,eAAgC,EAChC16D,WAA8B,EAC9B1sC,OAAOokG,iBAAiBA,CAACC,SAAS;IAElC,OAAO,IAAIxlG,QAA4B,CAAC9F;QACpC,MAAM,EAAE0tG,MAAM,EAAEt4F,SAAS,EAAE,GAAGi5F;QAC9B,MAAMC,QAAQ36D,YAAY7oC,KAAK,CAAC,EAAE;QAClC4iG,OAAOpnG,IAAI,CAACW,MAAM0sC;QAClB+5D,OAAOroG,EAAE,CAAC,CAAC,SAAS,EAAE+P,UAAU,CAAC,EAAEk5F,MAAM,CAAC,EAAE,CAACtoG;YACzC,IAAIqwD,OAAO1iB,aAAa3tC,OAAO;gBAC3BhG,QAAQgG;YACZ;QACJ;IACJ;AACJ;AAEO,eAAeuoG,cAAcpwF,OAAe,EAAErT,KAAa;IAC9D,OAAQ,MAAMsjG,oBACV;QACIh5F,WAAW81F,sBAAsBA,CAACvuF,OAAO;QACzC+wF,QAAQE;IACZ,GACA;QACI9iG,OAAO;YAACA;SAAM;QACdmlC,SAAS;YACL9xB;YACAiN,UAAU;QACd;IACJ;AAER;AAEO,eAAeV,kBAAkBC,OAAe;IACnD,OAAQ,MAAMyjF,oBACV;QACIh5F,WAAW81F,sBAAsBA,CAACC,MAAM;QACxCuC,QAAQE,aAAa1C,sBAAsBA,CAACC,MAAM;IACtD,GACA;QACIrgG,OAAO;YAAC;SAAO;QACfmlC,SAAS;YACLu+D,cAAc7jF;YACd8f,QAAQ;YACRC,OAAO;QACX;IACJ;AAER;AAEO,eAAe+jE,mBAAmBtwF,OAAe,EAAErT,KAAa,EAAEirC,IAAa,EAAE1rB,OAAO,EAAE;IAC7F,OAAQ,MAAM+jF,oBACV;QACIh5F,WAAW81F,sBAAsBA,CAACvuF,OAAO;QACzC+wF,QAAQE;IACZ,GACA;QACI9iG,OAAO;YAACA;SAAM;QACdmlC,SAAS;YACL9xB;YACAiN,UAAU;YACVsjF,oBAAoBrkF;YACpBskF,qBAAqB,CAAC54D,QAAQ,KAAK1rB;YACnCukF,2BAA2B;QAC/B;IACJ;AAER;AAEO,eAAevjC,oBAAoB1pD,OAAe,EAAExD,OAAe,EAAEqC,OAAe;IACvF,OAAO1a,QAAQ+oG,IAAI,CAAC;QAChBT,oBACI;YACIh5F,WAAW81F,sBAAsBA,CAACvuF,OAAO;YACzC+wF,QAAQE;QACZ,GACA;YACI9iG,OAAO;gBAAC;aAAM;YACdmlC,SAAS;gBACL9xB,SAASwD;gBACTmtF,gBAAgB,CAAC,EAAE3wF,QAAQ,CAAC,EAAEqC,QAAQ,CAAC;YAC3C;QACJ;QAEJyuD,qBAAKA,CAAC;KACT;AACL;AAEO,eAAe3D,qBAAqBntD,OAAe,EAAE43B,IAAa,EAAE1rB,OAAO,EAAE,EAAEuD,gBAAyB;IAC3G,OAAO9nB,QAAQ+oG,IAAI,CAAC;QAChBT,oBACI;YAAEh5F,WAAW81F,sBAAsBA,CAACvuF,OAAO;YAAE+wF,QAAQE;QAAe,GACpE;YACI9iG,OAAO;gBAAC;aAAM;YACdmlC,SAAS;gBACL9xB;gBACAgS,oBAAoBvC,mBAAmB;oBAACA;iBAAiB,GAAG,EAAE;gBAC9D3sB,MAAM;gBACN8tG,WAAW1kF;gBACX2kF,YAAY,CAACj5D,QAAQ,KAAK1rB;YAC9B;QACJ,GACAghF,iBAAiBA,CAACE,GAAG;QAEzBt8B,qBAAKA,CAAC;KACT;AACL;AAEO,eAAeggC,mBAAmB9wF,OAAe,EAAEqC,OAAe;IACrE,OAAQ,MAAM4tF,oBACV;QAAEh5F,WAAW81F,sBAAsBA,CAACC,MAAM;QAAEuC,QAAQE,aAAa1C,sBAAsBA,CAACC,MAAM;IAAE,GAChG;QACIrgG,OAAO;YAAC;SAAW;QACnBmlC,SAAS;YACLq9D,YAAY,CAAC,EAAEnvF,QAAQ,CAAC,EAAEqC,QAAQ,CAAC;YACnC4K,UAAU;QACd;IACJ;AAER;AAEO,eAAewxD,cAAcl+D,OAAgB;IAChD,MAAMnf,WAAY,MAAM6uG,oBACpB;QACIh5F,WAAW81F,sBAAsBA,CAACE,GAAG;QACrCsC,QAAQE,aAAa1C,sBAAsBA,CAACE,GAAG;IACnD,GACA;QACItgG,OAAO;YAAC;SAAe;QACvBmlC,SAAS,CAAC;IACd,GACAo7D,iBAAiBA,CAACE,GAAG;IAGzB,IAAI,CAAChsG,SAAS0wC,OAAO,CAAC,eAAe,EAAE;IAEvC,MAAMi/D,uBAAuB7sF,0BAAOA,CAAC9iB,SAAS0wC,OAAO,CAAC,eAAe,EAAE,CAAC/kC,GAAG5Q,MAAQqzG,sBAAsBrzG;IAEzG,OAAO40G,oBAAoB,CAACxwF,QAAQ,EAAE2M,KAAK8jF;AAC/C;;;;;;;AC/M4C;AAC0E;AASpF;AAQD;AAC8B;AAEa;AAUtD;AAC2C;AACF;AAU/D,MAAME,wBAAwB;AAC9B,MAAMC,kBAAkB;IAAC;IAAY;IAAS;IAAW;IAAc;CAAM;AAE7E,MAAMC;IACF,MAAMvnE,UAAU7pB,OAAe,EAAEta,OAAkC,EAAE;QACjE,MAAM,EAAEsqG,IAAI,EAAEl+D,OAAO,EAAE,GAAG,MAAMs+D,aAAaA,CAACpwF,SAAS;QACvD,IAAIgwF,KAAK73F,MAAM,KAAK,MAAM,OAAOzG,mCAAcA,CAACqD,4BAAUA,EAAEzD,oCAAeA,CAAC5L,SAAS6L;QAErF,MAAMkxB,SACFqP,QAAQu/D,SAAS,EAAEA,UACd9rF,OACG,CAAC9qB,IACGA,EAAEqO,IAAI,KAAK,WACXrO,EAAEioC,KAAK,CAACksE,QAAQ,IAChBn0G,EAAEioC,KAAK,CAAC4uE,cAAc,IACtB,CAACH,gBAAgBzxG,QAAQ,CAACjF,EAAEioC,KAAK,CAAC55B,IAAI,KACtC0lG,YAAYA,CAAC/zG,MACb+0G,qBAAqBA,CAAC/0G,EAAE0lC,KAAK,IAEnC3jC,IAAI,CAAC/B;YACH,OAAOk0G,WAAWA,CAACa,qBAAqBA,CAAC/0G,EAAE0lC,KAAK,GAAI1lC;QACxD,MAAMsa,4BAAUA;QAExB,OAAOrD,mCAAcA,CACjBsvE,4BAASA,CACLv+C,QACAy+C,0CAAeA,IACf,CAAC7xE,GAAGmyE,IAAMn9D,sCAAaA,CAAChV,EAAE2Q,OAAO,EAAEwhE,EAAExhE,OAAO,KAAK3Q,EAAEkR,OAAO,KAAKihE,EAAEjhE,OAAO,GAE5EjP,oCAAeA,CAAC5L,SAAS6L;IAEjC;IAEA,MAAMwpB,gBACF/a,OAAe,EACf,EAAEzO,SAAS,EAAEgP,OAAO,EAA4B,GAAG,CAAC,CAAC,EACF;QACnD,MAAMgxF,QAAQN,uCAAWA,CAAC1rF,MAAM,CAAC,CAAC9qB,IAAMA,MAAM8lB,SAAS/jB,GAAG,CAAC,CAAC/B,IAAM;gBAACA;gBAAG;aAAe;QACrF,MAAMi5B,aAAa,MAAM/rB,QAAQ+rB,UAAU,CACvC69E,MAAM/0G,GAAG,CAAC,OAAO,CAAC+jB,SAAS5T,MAAM;YAC7B,IAAI,CAACA,OAAO,OAAOoI,4BAAUA;YAC7B,MAAM,EAAEi7F,IAAI,EAAEl+D,OAAO,EAAE,GAAG,MAAMw+D,kBAAkBA,CAACtwF,SAASrT;YAC5D,IAAIqjG,KAAK73F,MAAM,KAAK,MAAM,OAAOpD,4BAAUA;YAC3C,OAAOolB,kBAAkBA,CAAC5Z,SAASuxB,QAAQ3W,YAAY;QAC3D;QAEJ,MAAMA,eAAezH,WAAWjO,OAAO,CAAC,CAAChrB,IAAOA,EAAE0d,MAAM,KAAK,cAAc1d,EAAEyC,KAAK,GAAG,EAAE;QAEvF,OAAOwU,mCAAcA,CAACypB,cAAc7pB,oCAAeA,CAACC;IACxD;AACJ;AAEA,MAAMigG;IACFC,8CAA8ClxF,OAAgB,EAAE2U,UAAuC,EAAE;QACrG,OAAO;YACH3U;YACAmxF,QAAQjyE,wBAAUA,CAACsB,MAAM;YACzBtjC,MAAMy3B,WAAWz3B,IAAI;YACrBqqC,MAAM5S,WAAWw5B,aAAa;YAC9BrgC,aAAa6G,WAAW7G,WAAW;YACnCgd,SAASnW,WAAW05E,QAAQ;YAC5BvuG,QAAQ0qB,wBAAUA,CAAC60D,MAAM;QAC7B;IACJ;IACA2D,gCAAgCvjE,OAAgB,EAAEqC,OAAgB,EAAE;QAChE,IAAI,CAACrC,WAAW,CAACqC,SAAS;QAC1B,OAAO6uF,wBAAwB,CAAC,EAAElxF,QAAQ,CAAC,EAAEqC,QAAQ,CAAC;IAC1D;IAEAmhE,mCAAmCjjE,OAAgB,EAAEsrB,GAA+B,EAAE;QAClF,MAAMpuC,OAAOqtC,4CAAgBA,CACzBe,IAAInJ,KAAK,CAACjT,gBAAgB,EAC1Boc,IAAInJ,KAAK,CAACxN,UAAU,CAACz3B,IAAI,EACzBouC,IAAInJ,KAAK,CAACjlC,IAAI,EACdouC,IAAInJ,KAAK,CAAC/B,QAAQ;QAEtB,OAAO;YACHpgB;YACAhiB,IAAI,CAAC,EAAEgiB,QAAQ,CAAC,EAAEsrB,IAAInJ,KAAK,CAACjT,gBAAgB,CAAC,CAAC,EAAEoc,IAAInJ,KAAK,CAAC/B,QAAQ,CAAC,CAAC;YACpE73B,MAAMgiB,uBAASA,CAACqW,WAAW;YAC3Bf,QAAQyL,IAAI8lE,QAAQ,KAAK,YAAYlyE,wBAAUA,CAACuB,OAAO,GAAGvB,wBAAUA,CAACsB,MAAM;YAC3E/gB,SAAS6rB,IAAInJ,KAAK,CAACjT,gBAAgB;YACnCpN,SAASwpB,IAAInJ,KAAK,CAAC/B,QAAQ;YAC3Bna,UAAU;gBACNjG;gBACA6f,QAAQyL,IAAI8lE,QAAQ,KAAK,YAAYlyE,wBAAUA,CAACuB,OAAO,GAAGvB,wBAAUA,CAACsB,MAAM;gBAC3E/gB,SAAS6rB,IAAInJ,KAAK,CAACjT,gBAAgB;gBACnChyB,MAAMouC,IAAInJ,KAAK,CAACxN,UAAU,CAACz3B,IAAI;gBAC/BooB,QAAQgmB,IAAInJ,KAAK,CAAC7c,MAAM;YAC5B;YACA6hB,UAAU;gBACNnnB;gBACA9iB;gBACAooB,QAAQgmB,IAAInJ,KAAK,CAAC7c,MAAM;gBACxB8hB,UAAUyJ,0CAAeA,CAACvF,IAAInJ,KAAK,CAACkvE,OAAO,CAACj7F,GAAG,EAAElZ,MAAMouC,IAAInJ,KAAK,CAACjT,gBAAgB;gBACjFoY,UAAUgE,IAAInJ,KAAK,CAACp4B,MAAM,CAACqM,GAAG;gBAC9B0rF,WAAWx2D,IAAInJ,KAAK,CAACp4B,MAAM,CAAC0lG,IAAI,CAAClnG,IAAI;gBACrCzI,QAAQ0qB,wBAAUA,CAAC60D,MAAM;YAC7B;YACA1qD,YAAY;gBACR3U;gBACA9iB,MAAMouC,IAAInJ,KAAK,CAACmvE,eAAe,CAACp0G,IAAI;gBACpCqqC,MAAM+D,IAAInJ,KAAK,CAACmvE,eAAe,CAAC/pE,IAAI;gBACpCzZ,aAAawd,IAAInJ,KAAK,CAACmvE,eAAe,CAACxjF,WAAW;gBAClDrO,SAAS6rB,IAAInJ,KAAK,CAACjT,gBAAgB;gBACnC4b,SAASQ,IAAInJ,KAAK,CAACmvE,eAAe,CAACjD,QAAQ,IAAI/iE,IAAInJ,KAAK,CAACxN,UAAU,CAAC05E,QAAQ;gBAC5E7mE,UAAU8D,IAAInJ,KAAK,CAAC4+C,WAAW;YACnC;YACAjhF,QAAQ0qB,wBAAUA,CAAC60D,MAAM;YACzB53C,MAAM,IAAI,CAACu7C,+BAA+B,CAAC13C,IAAInJ,KAAK,CAACjT,gBAAgB,EAAEoc,IAAInJ,KAAK,CAAC/B,QAAQ;QAC7F;IACJ;IAEA,MAAMiJ,SACF5pB,OAAe,EACfqC,OAAe,EACf,EAAE9B,UAAUd,qBAAOA,CAACkC,OAAO,EAAE6B,OAAO,EAA4B,GAAG,CAAC,CAAC,EACvE;QACE,IAAI,CAACA,WAAW,CAACiE,wCAAcA,CAAClH,UAAU;QAC1C,MAAMnf,WAAW,MAAM8rE,mBAAmBA,CAAC1pD,SAASxD,SAASqC;QAC7D,IAAI,CAACjhB,UAAU0wC,QAAQjG,IAAI/rC,QAAQ;QACnC,MAAMgyC,UAAUxqB,uBAAKA,CAAClmB,SAAS0wC,OAAO,CAACjG,GAAG;QAC1C,IAAI,CAACiG,SAAS;QACd,OAAO,IAAI,CAAC0xC,kCAAkC,CAACjjE,SAASuxB;IAC5D;IACA,MAAMjI,UAAUrmB,OAAe,EAAE,EAAEjD,UAAUd,qBAAOA,CAACkC,OAAO,EAAEpQ,SAAS,EAAE2a,IAAI,EAA4B,GAAG,CAAC,CAAC,EAAE;QAC5G,IAAI,CAACzE,wCAAcA,CAAClH,UAAU,OAAO7O,mCAAcA,CAACqD,4BAAUA,EAAEzD,oCAAeA,CAACC;QAChF,MAAMnQ,WAAW,MAAM+rE,oBAAoBA,CAAC3pD,SAASjS,WAAWC,OAAO0a;QACvE,IAAI,CAAC9qB,UAAU0wC,QAAQjG,IAAI/rC,QAAQ,OAAO4R,mCAAcA,CAACqD,4BAAUA,EAAEzD,oCAAeA,CAACC;QACrF,MAAMkxB,SAASrhC,SAAS0wC,OAAO,CAACjG,GAAG,CAACrvC,GAAG,CAAC,CAAC/B,IAAM,IAAI,CAAC+oF,kCAAkC,CAACjjE,SAAS9lB;QAEhG,OAAOiX,mCAAcA,CACjB+wB,QACAnxB,oCAAeA,CAACC,YAChBkxB,OAAO3iC,MAAM,GAAG2R,wCAAmBA,CAACF,aAAapQ;IAEzD;IAEA,MAAM8rD,sBACFjtC,OAAe,EACf,EAAEO,UAAUd,qBAAOA,CAACkC,OAAO,EAAEpQ,SAAS,EAAE2a,IAAI,EAAE1I,OAAO,EAA4B,GAAG,CAAC,CAAC,EACxF;QACE,IAAI,CAACA,WAAW,CAACiE,wCAAcA,CAAClH,UAAU,OAAO7O,mCAAcA,CAACqD,4BAAUA,EAAEzD,oCAAeA,CAACC;QAC5F,MAAMnQ,WAAW,MAAM+rE,oBAAoBA,CAAC3pD,SAASjS,WAAWC,OAAO0a,MAAMlM;QAC7E,IAAI,CAAC5e,UAAU;QACf,MAAMqhC,SAASrhC,SAAS0wC,OAAO,CAACjG,GAAG,CAACrvC,GAAG,CAAC,CAAC/B,IAAM,IAAI,CAAC+oF,kCAAkC,CAACjjE,SAAS9lB;QAEhG,OAAOiX,mCAAcA,CACjB+wB,QACAnxB,oCAAeA,CAACC,YAChBkxB,OAAO3iC,MAAM,GAAG2R,wCAAmBA,CAACF,aAAapQ;IAEzD;IAEA,MAAMksE,cACFrtD,OAAe,EACfqC,OAAe,EACf,EAAE9B,UAAUd,qBAAOA,CAACkC,OAAO,EAA4B,GAAG,CAAC,CAAC,EAC9D;QACE,IAAI,CAAC8F,wCAAcA,CAAClH,UAAU;QAE9B,MAAMnf,WAAW,MAAM0vG,kBAAkBA,CAAC9wF,SAASqC;QACnD,IAAI,CAACjhB,SAAS0wC,OAAO,CAAC,WAAW,CAACpP,KAAK,CAACsb,WAAW,EAAE;QAErD,MAAMpK,cAAc9nB,iCAAaA,CAACoU,cAAc,CAAC3f;QACjD,OAAO;YACHgD,QAAQ0tB,0BAAOA,CAAC7vC,SAAS0wC,OAAO,CAAC,WAAW,CAACpP,KAAK,CAACsb,WAAW,EAAEpK,YAAYrT,QAAQ,EAAEV,OAAO,CAAC;YAC9Fxe,OAAOuyB;QACX;IACJ;AACJ;AAEA,MAAMk+D;IACMC,mBAAmBlqG,IAAgB,EAAE;QACzC,OAAO;YACHtJ,IAAIsJ,KAAK66B,KAAK,CAACnkC,EAAE;YACjBd,MAAMoK,KAAK66B,KAAK,CAACjlC,IAAI;YACrBooB,QAAQhe,KAAK66B,KAAK,CAAC7c,MAAM;YACzB/c,MAAMgiB,uBAASA,CAACwB,QAAQ;YACxBiU,UAAU14B,KAAK66B,KAAK,CAACnC,QAAQ;QACjC;IACJ;IACA,MAAM/U,YAAYgB,OAAgB,EAA+B;QAC7D,IAAI,CAACA,SAAS,OAAOzX,4BAAUA;QAC/B,MAAM3T,WAAW,MAAMmrB,iBAAiBA,CAACC;QAEzC,IAAI,CAACprB,UAAU0wC,SAAS5kB,MAAMptB,QAAQ,OAAOiV,4BAAUA;QAEvD,OAAO3T,SAAS0wC,OAAO,CAAC5kB,IAAI,CAAC3H,MAAM,CAAC,CAAC9qB,IAAM,CAACA,EAAEioC,KAAK,CAAC55B,IAAI,EAAEtM,GAAG,CAAC,IAAI,CAACu1G,kBAAkB;IACzF;IAEAxlF,oBAAiD;QAC7C,MAAM,IAAInwB,MAAM;IACpB;IACAywB,uBAAkE;QAC9D,MAAM,IAAIzwB,MAAM;IACpB;IACA4wB,kBAAiD;QAC7C,MAAM,IAAI5wB,MAAM;IACpB;IACAw0B,oBAAiD;QAC7C,MAAM,IAAIx0B,MAAM;IACpB;IACA40B,oBAAqD;QACjD,MAAM,IAAI50B,MAAM;IACpB;AACJ;AAEA,MAAM41G;IACF,MAAMvzB,cAAcl+D,OAAgB,EAAyD;QACzF,IAAI,CAACkH,wCAAcA,CAAClH,UAAU;QAC9B,MAAMjkB,SAAS,MAAMmiF,aAAaA,CAACl+D;QACnC,OAAO;YACH,CAACw8D,2BAAaA,CAACiB,IAAI,CAAC,EAAE;gBAClBE,kBAAkB;gBAClBC,uBAAuBt+C,0BAAOA,CAACvjC,QAAQyhF;gBACvCK,+BAA+B;YACnC;YACA,CAACrB,2BAAaA,CAACsB,MAAM,CAAC,EAAE;gBACpBH,kBAAkB;gBAClBC,uBAAuBt+C,0BAAOA,CAACvjC,QAAQq1G;gBACvCvzB,+BAA+B;YACnC;YACA,CAACrB,2BAAaA,CAACuB,IAAI,CAAC,EAAE;gBAClBJ,kBAAkB;gBAClBC,uBAAuBt+C,0BAAOA,CAACvjC,QAAQuhF;gBACvCO,+BAA+B;YACnC;YACA,CAACrB,2BAAaA,CAACwB,MAAM,CAAC,EAAE;gBACpBL,kBAAkB;gBAClBC,uBAAuB;gBACvBC,+BAA+B;YACnC;QACJ;IACJ;AACJ;AACO,MAAMwB,SAAS,IAAIwxB,YAAW;AAC9B,MAAMvnB,yBAAyB,IAAI2nB,4BAA2B;AAC9D,MAAMS,iBAAiB,IAAIH,oBAAmB;AAC9C,MAAMI,YAAY,IAAIF,eAAc;;;;;;;;;;;;;ACzRI;AAExC,SAASjf,uBAAuBhlD,QAAkB;IACrD,MAAMqsB,OAAO,IAAI11C,mEAAIA,CAACqpB;IACtBqsB,KAAKvzC,GAAG,CAACsrF,uBAAuB,GAAG,KAAK;IACxC/3C,KAAKvzC,GAAG,CAACurF,yBAAyB,GAAG,KAAK;IAC1C,2CAA2C;IAC3C,uCAAuC;IACvCh4C,KAAKvzC,GAAG,CAACwrF,0BAA0B,GAAGnpG,OAAOopG,gBAAgB;IAC7D,OAAOl4C;AACX;;;;;;;;;;;;;;;ACXmC;AAEiC;AACM;AAE1E,SAASm4C,WAAW57F,GAAW;IAC3B,OAAOo8E,2FAAsBA,CAACI,iGAAyBA,CAACx8E;AAC5D;AAEO,MAAMmkD,oBAA2Ct7B,8DAAOA,CAAC+yE,YAAY,CAAC57F,MAAQA,IAAIhX,WAAW,IAAG;;;;;;;;;;;;;ACHtE;AAE1B,SAASqzF,8BACZprF,OAA8D;IAE9D,MAAMmmC,WAAyB;QAC3B7mC;YACI,OAAO6mC;QACX;QACAykE;YACI,OAAOzkE;QACX;QAEAnmC;QAEA0rC,MAAKxB,OAAO,EAAE/pC,QAAmE;YAC7E,OAAO,IAAI,CAACsoF,SAAS,CAACv+C,SAAS/pC;QACnC;QACA,uCAAuC;QACvCsoF,WAAW,OACPv+C,SACA/pC;YAEA,IAAI;gBACA,MAAMzL,SAAS,MAAMsL,QAAQ;oBACzBoB,QAAQ8oC,QAAQ9oC,MAAM;oBACtBa,QAAQioC,QAAQjoC,MAAM,IAAI,EAAE;gBAChC;gBACA9B,SAAS,MAAMypF,wFAAqBA,CAAC1/C,QAAQvzC,EAAE,EAAYjC;gBAC3D,OAAOk1F,wFAAqBA,CAAC1/C,QAAQvzC,EAAE,EAAYjC;YACvD,EAAE,OAAOkJ,OAAO;gBACZ,IAAIA,iBAAiBpJ,OAAO2L,SAASvC;gBACrC,OAAOgsF,wFAAqBA,CAAC1/C,QAAQvzC,EAAE,EAAY4C,WAAWqE;YAClE;QACJ;IACJ;IACA,OAAOuoC;AACX;;;;;;;;;;;;;;;;;AC3CmC;AAC4D;AACb;AAClB;AAEhE,SAASwkE,WAAW57F,GAAW;IAC3B,OAAOq8E,yGAA6BA,CAAC,OAAO7H;QACxC,MAAM/pF,WAAW,MAAMqxG,uFAAoBA,CAAC97F,KAAK46E,uFAAoBA,CAAC,GAAGpG;QACzE,MAAM4E,SAAS9B,0EAAWA,CAAC5zF,IAAI,CAAC,MAAM+G;QACtC,IAAI2uF,OAAOC,QAAQ,EAAE,MAAMD,OAAOvqF,KAAK;QACvC,OAAOpE,SAAS9E,MAAM;IAC1B;AACJ;AAEO,MAAM62F,4BAA2D3zD,8DAAOA,CAAC+yE,YAAY,CAAC57F,MAAQA,IAAIhX,WAAW,IAAG;;;;;;;;;;;;;;;;;;ACdjF;AAEtC,SAAS+yG,iBAAiB9qG,OAAgB;IACtC,OAAO;QACH,uBAAuB;QACvB;QACA,SAAS;QACT;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA,cAAc;QACd;QACA,KAAK;QACL;QACA;QACA,SAAS;QACT;QACA,MAAM;QACN,4BAA4B,GAC5B;QACA,4BAA4B,GAC5B;QACA;KACH,CAACuO,IAAI,CAAC,CAAC1b,IAAMmN,QAAQ+O,GAAG,CAACjX,QAAQ,CAACjF;AACvC;AAEA,SAASolE,WAAW8yC,iBAAsC;IACtD,IAAI;QACA,IAAI,CAACA,mBAAmB,OAAO;QAC/B,OAAOptG,KAAKgB,SAAS,CAACjL,OAAOs0B,WAAW,CAAC+iF,kBAAkBt6F,OAAO,CAACzK,OAAO;IAC9E,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEA,eAAeglG,QAAQD,iBAAsC;IACzD,IAAI;QACA,MAAMztE,OAAO,MAAMytE,mBAAmBztE;QACtC,OAAOA,QAAQ;IACnB,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEO,eAAe2tE,wBAClBjrG,OAAgB,EAChBxG,QAAmB,EACnBsE,OAA6E;IAE7E,IAAItD,KAAsC,EAAE;IAC5C,IAAI,CAACmC,gBAAKA,CAACjB,cAAc,EAAE;IAC3B,IAAI,CAACiB,gBAAKA,CAACd,gCAAgC,EAAE;IAC7C,IAAIivG,iBAAiB9qG,UAAU;IAE/B,MAAMkrG,iBAAiBjzC,WAAWj4D,QAAQmrG,KAAK;IAC/C,MAAMC,kBAAkBnzC,WAAWz+D,UAAU2xG;IAC7C,MAAMv9D,cAAc,MAAMo9D,QAAQhrG,QAAQmrG,KAAK;IAC/C,MAAME,eAAe,MAAML,QAAQxxG,UAAU2xG;IAE7C,MAAMnxE,cAAcsxE,OAAOC,gBAAgB,CAAC;QACxC11G,MAAMmK,QAAQ+O,GAAG;IACrB;IACA,MAAMkuF,OAAOjjE,YAAYwxE,UAAU,CAAC;QAChCl1E,IAAI;QACJxP,MAAM;YACFruB,QAAQ,IAAIuW,IAAIhP,QAAQ+O,GAAG,EAAE08F,IAAI;YACjCrqG,QAAQpB,QAAQoB,MAAM,CAACmlB,WAAW;YAClCxX,KAAK/O,QAAQ+O,GAAG;YAChB28F,eAAelyG,UAAU0H;YACzByqG,qBAAqBnyG,UAAUoyG;YAC/BC,aAAaryG,UAAU+W;YACvBu7F,aAAatyG,UAAUgX;QAC3B;QACAvQ,MAAM;YACF8rG,iBAAiBb;YACjBc,cAAcp+D;YACdq+D,kBAAkBb;YAClBc,eAAeb;YACfK,eAAelyG,UAAU0H;YACzBirG,eAAe3yG,UAAU+W;YACzB67F,iBAAiB5yG,UAAUgX;YAC3Bm7F,qBAAqBnyG,UAAUoyG;QACnC;QACAr7F,QAAQzS,SAASyS;QACjB87F,gBAAgBvuG,SAASwuG;QACzBC,cAAczuG,SAAS0uG;QACvB/lF,aAAa;YACT,CAAC,iBAAiB,EAAEzmB,QAAQ+O,GAAG,CAAC,CAAC;YACjC,CAAC,wBAAwB,EAAEm8F,eAAe,CAAC;YAC3C,CAAC,qBAAqB,EAAEt9D,YAAY,CAAC;YACrC,CAAC,yBAAyB,EAAEw9D,gBAAgB,CAAC;YAC7C,CAAC,sBAAsB,EAAEC,aAAa,CAAC;SAC1C,CAAC/yG,IAAI,CAAC;IACX;IAEA2kG,KAAKwP,MAAM;IACXzyE,YAAYyyE,MAAM;AACtB;;;ACpGyE;AAEzE,MAAM,EAAEhzG,OAAOizG,aAAa,EAAE,GAAGzzG;AAI1B,eAAeQ,MAAM/G,KAAwB,EAAE4d,IAAkB,EAAEq8F,WAAsB,EAAE;IAC9F,MAAMruE,UAAUquE,SAASC,WAAW,CAChC,CAACC,IAAIrsG,IAAM,CAAC8wB,GAAGnnB,IAAM3J,EAAE8wB,GAAGnnB,GAAG0iG,KAC7B,CAACn6G,OAA0B4d;QACvB,OAAOo8F,cAAch6G,OAAO;YACxB+R,QAAQqoG,YAAYzrC,OAAO,CAAC,IAAI,KAAK;YAAK,UAAU,GACpD,GAAG/wD,IAAI;QACX;IACJ;IAGJ,wDAAwD;IACxD,IAAIy8F,WAAW;IACf,IAAIvzG;IAEJ,4BAA4B;IAC5B,MAAM8yG,UAAUpuG,KAAKC,GAAG;IAExB,IAAI;QACA3E,WAAW,MAAM8kC,QAAQ5rC,OAAO4d;QAChC,IAAI,CAAC9W,SAASuzC,EAAE,EAAEggE,WAAW;QAC7B,OAAOvzG;IACX,EAAE,OAAOoE,OAAO;QACZmvG,WAAW;QACX,MAAMnvG;IACV,SAAU;QACN,IAAImvG,UAAU;YACV,MAAM9B,uBAAuBA,CAAC,IAAIr6F,QAAQle,OAAO4d,OAAO9W,UAAU;gBAC9D+W,QAAQ;gBACR+7F;gBACAE,OAAOtuG,KAAKC,GAAG;YACnB;QACJ;IACJ;AACJ;;;;;;;;;;;;;;;ACtCA,MAAM,EAAE1E,OAAOizG,aAAa,EAAE,GAAGzzG;IAE1B;UAAKmyB,QAAQ;IAARA,SAAAA,SACR8vC,gBAAa,QAAbA;IADQ9vC,SAAAA,SAERquD,iBAAc,SAAdA;IAFQruD,SAAAA,SAGR4hF,gBAAa,SAAbA;IAHQ5hF,SAAAA,SAIRI,oBAAiB,WAAjBA;IAJQJ,SAAAA,SAKRqrB,kBAAe,YAAfA;IALQrrB,SAAAA,SAMR3X,aAAU,YAAVA;GANQ2X,aAAAA;AASZ,SAAS6hF,SAASl+F,GAAW;IACzB,IAAI,YAAY9V,YAAY;QACxB,IAAI;YACA,OAAOo9D,OAAOqC,IAAI,CAAC,IAAI1pD,IAAID,KAAK08F,IAAI;QACxC,EAAE,OAAM;YACJ;QACJ;IACJ;IACA;AACJ;AAEA,eAAeyB,UAAUltD,QAAgB,EAAEhgD,OAAgB,EAAEsQ,IAAkB,EAAEP,OAAO28F,aAAa;IACjG,uBAAuB;IACvB,MAAM57F,QAAQ,MAAMm8F,SAASjtG,QAAQ+O,GAAG;IACxC,MAAMo+F,MAAM,MAAMr8F,OAAO+gB,MAAM7xB;IAC/B,MAAMotG,OAAOD,KAAK18F,QAAQhZ,IAAI;IAE9B,IAAI01G,OAAOC,MAAM;QACb,MAAMC,UAAU,IAAInvG,KAAKkvG,MAAMxrE,OAAO,KAAKoe,WAAW9hD,KAAKC,GAAG;QAC9D,IAAI,CAACkvG,SAAS,OAAOF;IACzB;IAEA,wCAAwC;IACxC,MAAM3zG,WAAW,MAAMuW,KAAK/P,QAAQmrG,KAAK,IAAI76F;IAC7C,MAAM,EAAEy8B,EAAE,EAAEx8B,MAAM,EAAEC,UAAU,EAAEH,IAAI,EAAEI,OAAO,EAAE,GAAGjX,SAAS2xG,KAAK;IAEhE,IAAIp+D,MAAMx8B,WAAW,OAAOF,MAAM;QAC9B,MAAMS,OAAOw8F,IACTttG,QAAQmrG,KAAK,IACb,IAAIj7F,SAASG,MAAM;YACfE;YACAC;YACAC,SAAS;gBACL,GAAG/c,OAAOs0B,WAAW,CAACvX,QAAQzK,OAAO,GAAG;gBACxC,wCAAwC;gBACxC,gBAAgB,IAAI9H,OAAOqvG,WAAW;YAC1C;QACJ;IAER;IACA,OAAO/zG;AACX;AAEO,eAAeg0G,YAClB96G,KAAwB,EACxB4d,IAAkB,EAClBP,OAAO28F,aAAa,EACpB1sD,WAAW50B,SAAS4hF,UAAU;IAE9B,6CAA6C;IAC7C,IAAIxyG,KAA+B,EAAE,EAAmB8V;IAExD,gCAAgC;IAChC,MAAMtQ,UAAU,IAAI4Q,QAAQle,OAAO4d;IACnC,IAAItQ,QAAQoB,MAAM,KAAK,OAAO,OAAO2O,KAAK/P,SAASsQ;IAEnD,6BAA6B;IAC7B,MAAMvB,MAAM/O,QAAQ+O,GAAG;IACvB,IAAI,CAACA,IAAIhb,UAAU,CAAC,SAAS,OAAOgc,KAAK/P,SAASsQ;IAElD,OAAO48F,UAAUltD,UAAUhgD,SAASsQ,MAAMP;AAC9C;AAEO,eAAe88B,YAAYvnB,IAAuB,EAAEhV,IAAkB;IACzE,MAAMtQ,UAAU,IAAI4Q,QAAQ0U,MAAMhV;IAClC,IAAItQ,QAAQoB,MAAM,KAAK,OAAO;IAE9B,MAAM2N,MAAM/O,QAAQ+O,GAAG;IACvB,IAAI,CAACA,IAAIhb,UAAU,CAAC,SAAS;IAE7B,MAAM+c,QAAQ,MAAMm8F,SAASl+F;IAC7B,MAAMo+F,MAAM,MAAMr8F,OAAO+gB,MAAM7xB;IAC/B,IAAI,CAACmtG,KAAK;IAEV,MAAMr8F,OAAOzQ,OAAOL;IACpB,OAAOmtG;AACX;AAEO,SAASM,kBAAkB,EAC9B19F,OAAO28F,aAAa,EACpB1sD,WAAW50B,SAAS4hF,UAAU,EAIjC,GAAG,CAAC,CAAC;IACF,OAAO,eAAeS,kBAClB/6G,KAAwB,EACxB4d,IAAkB,EAClBo9F,QAAQ39F,IAAI;QAEZ,6CAA6C;QAC7C,IAAIvV,KAA+B,EAAE,EAAoB8V;QAEzD,gCAAgC;QAChC,MAAMtQ,UAAU,IAAI4Q,QAAQle,OAAO4d;QACnC,IAAItQ,QAAQoB,MAAM,KAAK,OAAO,OAAOssG,MAAM1tG,SAASsQ;QAEpD,6BAA6B;QAC7B,MAAMvB,MAAM/O,QAAQ+O,GAAG;QACvB,IAAI,CAACA,IAAIhb,UAAU,CAAC,SAAS,OAAO25G,MAAM1tG,SAASsQ;QAEnD,OAAO48F,UAAUltD,UAAUhgD,SAASsQ,MAAMo9F;IAC9C;AACJ;;;;;;;;;;;;;;ACpHkC;AAC8C;AAEzE,eAAe9wC,YAClBlqE,KAAwB,EACxB4d,IAAkB,EAClBxS,OAA6B;IAE7B,OAAOrE,yDAAKA,CAAC/G,OAAO4d,MAAMq9F,6EAAeA,CAAC7vG;AAC9C;;;;;;;;;;;;;;;;;;ACTkC;AACS;AACI;AACiC;AAEzE,eAAeya,UAClB7lB,KAAwB,EACxB4d,IAAkB,EAClBxS,OAA6B;IAE7B,MAAMtE,WAAW,MAAMC,yDAAKA,CAAC/G,OAAO4d,MAAMq9F,6EAAeA,CAAC7vG;IAC1D,IAAI,CAACtE,SAASuzC,EAAE,EAAE,MAAM,IAAIv4C,MAAM;IAClC,OAAOgF,SAASI,IAAI;AACxB;AAEO,eAAe+4B,kBAClBjgC,KAAwB,EACxB4d,IAAkB,EAClBxS,OAA6B;IAE7B,OAAOya,UAAa7lB,OAAO4d,MAAM;QAC7Bgb,kBAAkByvC,mEAAUA,CAACG,UAAU;QACvC,GAAGp9D,OAAO;IACd;AACJ;AAEO,eAAe0rB,gBAClB92B,KAAwB,EACxB4d,IAAkB,EAClBxS,OAA6B;IAE7B,OAAOya,UAAa7lB,OAAO4d,MAAM;QAC7Bgb,kBAAkByvC,mEAAUA,CAACG,UAAU;QACvC3vC,eAAeH,+DAAQA,CAAC4hF,UAAU;QAClC,GAAGlvG,OAAO;IACd;AACJ;;;;;;;;;;;;;;;;;;;;ACpCiC;AAG4C;AAEtE,MAAM8vG;IAMG7+F;IACAw0E;IANZ;;;KAGC,GACDztF,YACYiZ,KACAw0E,iBACV;mBAFUx0E;gCACAw0E;IACT;IAEH,IAAIwE,KAAK;QACL,MAAM,EAAE3mF,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACshF,gBAAgB;QAChD,OAAQniF;YACJ,KAAK+nE,gCAAkBA,CAACyJ,YAAY;gBAAE;oBAClC,MAAM,CAACx6D,SAAS6gC,MAAM,QAAQ,CAAC,GAAGh3C;oBAClC,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQgX;wBAAS6gC;qBAAI,CAAC3gD,IAAI,CAAC;gBACtD;YACA,KAAK6wE,gCAAkBA,CAACsJ,gBAAgB;gBAAE;oBACtC,OAAO0P,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;qBAAO,CAAC9I,IAAI,CAAC;gBACxC;YACA,KAAK6wE,gCAAkBA,CAACqJ,uBAAuB;gBAAE;oBAC7C,MAAM,CAAC5yB,QAAQiuD,KAAK,GAAG5rG;oBACvB,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQw+C;wBAAQiuD;qBAAK,CAACv1G,IAAI,CAAC;gBACtD;YACA,KAAK6wE,gCAAkBA,CAAC2kC,qBAAqB;gBAAE;oBAC3C,MAAM,CAAC/sE,KAAK,GAAG9+B;oBACf,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQ2/B;qBAAK,CAACzoC,IAAI,CAAC;gBAC9C;YACA,KAAK6wE,gCAAkBA,CAAC6F,aAAa;gBAAE;oBACnC,OAAOmT,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;qBAAO,CAAC9I,IAAI,CAAC;gBACxC;YACA,KAAK6wE,gCAAkBA,CAACwJ,eAAe;gBAAE;oBACrC,MAAM,CAAC/2D,SAASq9B,MAAM,QAAQ,CAAC,GAAGh3C;oBAClC,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQwa;wBAASq9B;qBAAI,CAAC3gD,IAAI,CAAC;gBACtD;YACA,KAAK6wE,gCAAkBA,CAACgK,yBAAyB;gBAAE;oBAC/C,MAAM,CAACv3D,SAASq9B,MAAM,QAAQ,CAAC,GAAGh3C;oBAClC,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQwa;wBAASq9B;qBAAI,CAAC3gD,IAAI,CAAC;gBACtD;YACA,KAAK6wE,gCAAkBA,CAACiK,QAAQ;gBAAE;oBAC9B,MAAM,CAACoQ,QAAQvqC,MAAM,QAAQ,CAAC,GAAGh3C;oBACjC,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQzD,KAAKgB,SAAS,CAAC6kF;wBAASvqC;qBAAI,CAAC3gD,IAAI,CAAC;gBACrE;YACA,KAAK6wE,gCAAkBA,CAAC4J,gBAAgB;gBAAE;oBACtC,MAAM,CAACyQ,QAAQvqC,MAAM,QAAQ,CAAC,GAAGh3C;oBACjC,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQzD,KAAKgB,SAAS,CAAC6kF;wBAASvqC;qBAAI,CAAC3gD,IAAI,CAAC;gBACrE;YACA,KAAK6wE,gCAAkBA,CAAC6J,2BAA2B;gBAAE;oBACjD,MAAM,CAACjyC,KAAK,GAAG9+B;oBACf,OAAOkgF,YAAIA,CAAC;wBAAC,IAAI,CAACpzE,GAAG;wBAAE3N;wBAAQ2/B;qBAAK,CAACzoC,IAAI,CAAC;gBAC9C;YACA,KAAK6wE,gCAAkBA,CAAC2J,2BAA2B;gBAC/C,MAAM,CAAC/xC,KAAK,GAAG9+B;gBACf,OAAOkgF,YAAIA,CAAC;oBAAC,IAAI,CAACpzE,GAAG;oBAAE3N;oBAAQ2/B;iBAAK,CAACzoC,IAAI,CAAC;YAC9C;gBACI;QACR;IACJ;IAEA,OAAO7F,KAAKsc,GAAW,EAAEw0E,gBAAkC,EAAE;QACzD,OAAO,IAAIqqB,UAAU7+F,KAAKw0E;IAC9B;IAEA,OAAOS,YAAYj1E,GAAW,EAAEm7B,OAAuB,EAAE;QACrD,OAAO,IAAI0jE,UAAU7+F,KAAK;YACtB3N,QAAQ8oC,QAAQ9oC,MAAM;YACtBa,QAAQioC,QAAQjoC,MAAM,IAAI,EAAE;QAChC;IACJ;AACJ;;;;;ACzEoD;AACF;AAElD,eAAe8rG,kBAAkB/tG,OAAgB;IAC7C,IAAI;QACA,MAAMqQ,OAAuB,MAAMrQ,QAAQpG,IAAI;QAC/C,OAAOg0G,SAASA,CAAC5pB,WAAW,CAAChkF,QAAQ+O,GAAG,EAAEsB,MAAM03E,EAAE,IAAI;IAC1D,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEO,eAAe8iB,qBAAqB97F,GAAW,EAAEm7B,OAAuB,EAAE55B,IAAkB;IAC/F,OAAOqiB,uCAAiBA,CACpB5jB,KACA;QACI,GAAGuB,IAAI;QACPlP,QAAQ;QACRqP,SAASH,MAAMG,WAAW;YACtB,gBAAgB;QACpB;QACAJ,MAAM1S,KAAKgB,SAAS,CAACurC;IACzB,GACA;QACImsD,UAAU0X;IACd;AAER;;;;;;;;;;;;;;AC5BA,MAAM,EAAEt0G,OAAOizG,aAAa,EAAE,GAAGzzG;IAE1B;UAAK8hE,UAAU;IAAVA,WAAAA,WACRG,gBAAa,QAAbA;IADQH,WAAAA,WAERiyC,gBAAa,SAAbA;IAFQjyC,WAAAA,WAGRvvC,oBAAiB,WAAjBA;IAHQuvC,WAAAA,WAIRizC,cAAW,WAAXA;GAJQjzC,eAAAA;AAOZ,MAAMkzC,QAAQ,IAAI/uG;AAQlB,SAASguG,UAAU34G,GAAW,EAAE25G,UAAkB,EAAEluG,OAAgB,EAAEsQ,IAAkB,EAAEP,OAAO28F,aAAa;IAC1G,MAAMS,MAAMc,MAAMx2G,GAAG,CAAClD;IACtB,IAAI;QACA,IAAI44G,OAAOA,IAAI5uG,SAAS,GAAG2vG,aAAahwG,KAAKC,GAAG,IAAI,OAAOgvG,IAAI3zG,QAAQ,CAACuM,IAAI,CAAC,CAAClT,IAAMA,EAAEs4G,KAAK;IAC/F,EAAE,OAAM;QACJ8C,MAAM5tG,MAAM,CAAC9L;IACjB;IAEA,MAAM45G,kBAAkBp+F,KAAK/P,SAASsQ;IAEtC,8CAA8C;IAC9C,IAAI/b,KAAK;QACL05G,MAAM12G,GAAG,CAAChD,KAAK;YACXgK,WAAWL,KAAKC,GAAG;YACnB3E,UAAU20G;QACd;IACJ;IAEA,OAAOA,gBAAgBpoG,IAAI,CAAC,CAAClT,IAAMA,EAAEs4G,KAAK;AAC9C;AAEA,eAAeiD,gBAAgBpuG,OAAgB;IAC3C,OAAO,CAAC,EAAEA,QAAQoB,MAAM,CAAC,CAAC,EAAEpB,QAAQ+O,GAAG,CAAC,CAAC,EAAE/O,QAAQoB,MAAM,KAAK,SAAS,MAAMpB,QAAQs9B,IAAI,KAAK,OAAO,CAAC;AAC1G;AAEO,eAAeqR,qBAClBrpB,IAAuB,EACvBhV,IAAkB,EAClB+lF,WAAW+X,eAAe;IAE1B,MAAMpuG,UAAU,IAAI4Q,QAAQ0U,MAAMhV;IAElC,8BAA8B;IAC9B,IAAItQ,QAAQoB,MAAM,KAAK,SAASpB,QAAQoB,MAAM,KAAK,QAAQ;IAE3D,6BAA6B;IAC7B,MAAM2N,MAAM/O,QAAQ+O,GAAG;IACvB,IAAI,CAACA,IAAIhb,UAAU,CAAC,SAAS;IAE7B,MAAMQ,MAAM,MAAM8hG,SAASr2F;IAC3B,IAAI,CAACzL,KAAK;IACV05G,MAAM5tG,MAAM,CAAC9L;AACjB;AAEO,eAAe85G,cAClB37G,KAAwB,EACxB4d,IAAkB,EAClBP,OAAO28F,aAAa,EACpBrW,WAAW+X,eAAe,EAC1BF,aAAanzC,WAAWG,UAAU;IAElC,6CAA6C;IAC7C,IAAI1gE,KAA+B,EAAE,EAAmB8V;IAExD,MAAMtQ,UAAU,IAAI4Q,QAAQle,OAAO4d;IAEnC,8BAA8B;IAC9B,IAAItQ,QAAQoB,MAAM,KAAK,SAASpB,QAAQoB,MAAM,KAAK,QAAQ,OAAO2O,KAAK/P,SAASsQ;IAEhF,6BAA6B;IAC7B,MAAMvB,MAAM/O,QAAQ+O,GAAG;IACvB,IAAI,CAACA,IAAIhb,UAAU,CAAC,SAAS,OAAOgc,KAAK/P,SAASsQ;IAElD,MAAM/b,MAAM,MAAM8hG,SAASr2F;IAC3B,OAAOktG,UAAU34G,KAAK25G,YAAYluG,SAASsQ,MAAMP;AACrD;;;;;;;;;;;;;;;;AC7EiC;AACK;AAE/B,SAAS6M,2BAA2BjE,OAAgB,EAAEzX,IAAqB;IAC9E,MAAMwtG,8BAA8BH,wFAAoBA,CAAC51F,SAAS;IAClE,MAAMg2F,8BAA8BJ,wFAAoBA,CAAC51F,SAAS;IAClE,MAAMi2F,8BAA8BL,wFAAoBA,CAAC51F,SAAS;IAClE,MAAMk2F,8BAA8BN,wFAAoBA,CAAC51F,SAAS;IAClE,MAAMm2F,4BAA4BR,sFAAkBA,CAAC31F,SAAS;IAC9D,MAAMo2F,yBAAyBP,2FAAuBA,CAAC71F,SAAS;IAChE,OAAOzX,SAAS,UACV;QACI;YACIkX,SAASs2F;YACT74G,MAAM;YACNqoB,oBAAM,uDAACuwF,qDAAe;QAC1B;QACA;YACIr2F,SAASu2F;YACT94G,MAAM;YACNqoB,oBAAM,uDAACuwF,qDAAe;QAC1B;QACA;YACIr2F,SAASw2F;YACT/4G,MAAM;YACNqoB,oBAAM,uDAACuwF,qDAAe;QAC1B;QACA;YACIr2F,SAASy2F;YACTh5G,MAAM;YACNqoB,oBAAM,uDAACuwF,qDAAe;QAC1B;KACH,GACD;QACI;YACIr2F,SAAS02F;YACTj5G,MAAM;YACNqoB,oBAAM,uDAACuwF,mDAAa;QACxB;QACA;YACIr2F,SAAS22F;YACTl5G,MAAM;YACNqoB,oBAAM,uDAACuwF,qDAAe;QAC1B;KACH;AACX;;;;;;;;;;;;;;AClDuE;AAEhE,SAASvrE,iBAAiBrb,gBAAwB,EAAEwiB,YAAoB,EAAEx0C,IAAa,EAAE4kB,OAAgB;IAC5G,IAAI,CAAC5kB,MACD,OAAO4kB,WAAW4vB,eACZ,CAAC,EAAEA,aAAa,EAAE,EAAE5vB,QAAQ,CAAC,GAC7B,CAAC4vB,gBAAgB5vB,UACjB,CAAC,CAAC,EAAEA,QAAQ,CAAC,GACb4vB;IACV,IAAIf,wFAAoBA,CAACzhB,mBAAmB,OAAO,CAAC,KAAK,EAAEhyB,KAAK,CAAC;IACjE,IAAIm5G,yEAAMA,CAACn5G,OAAO,OAAOA;IAEzB,MAAM,CAAC6pB,OAAO3P,KAAK,GAAGla,KAAKsC,KAAK,CAAC,KAAKvD,GAAG,CAAC,CAAC/B,IAAMA,EAAEk+F,IAAI;IACvD,IAAIrxE,SAAS3P,MAAM,OAAO,CAAC,EAAE2P,MAAM,EAAE,EAAE3P,KAAK,CAAC;IAC7C,IAAI,CAAC2P,SAAS3P,MAAM,OAAOs6B,eAAe,CAAC,EAAEA,aAAa,EAAE,EAAEt6B,KAAK,CAAC,GAAG,CAAC,CAAC,EAAEA,KAAK,CAAC;IAEjF,IAAIs6B,gBAAgB5vB,SAChB,OAAO4vB,aAAatyC,WAAW,OAAO2nB,MAAM3nB,WAAW,KACjD,CAAC,EAAEsyC,aAAa,EAAE,EAAE5vB,QAAQ,CAAC,GAC7B,CAAC,EAAE4vB,aAAa,EAAE,EAAE3qB,MAAM,CAAC;IACrC,IAAI,CAAC2qB,gBAAgB,CAAC5vB,SAAS,OAAOiF;IACtC,IAAI,CAAC2qB,gBAAgB5vB,SAAS,OAAO,CAAC,EAAEiF,MAAM,EAAE,EAAEjF,QAAQ,CAAC;IAE3D,OAAO,CAAC,EAAE4vB,aAAa,EAAE,EAAE3qB,MAAM,CAAC;AACtC;;;;;;;;;;;;;ACvB6E;AAEtE,eAAeokC,kBAAkBnrC,OAAgB,EAAEP,OAAe;IACrE,IAAI;QACA,MAAM6F,SAAS,MAAM,IAAI3F,+FAAmBA,GACvCwyD,iBAAiB,CAAC1yD,SAAS;YAAEO;QAAQ,IACpCM,QAAQgF,SACT/E,KAAK,CAAC;QACX,OAAO+E,UAAU;IACrB,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;;;;;;;;;;;;;;;ACZkH;AACnD;AAExD,SAASq7D;IACZ,MAAMtmD,WAAWJ,wEAAYA,CAACt9B,KAAK,CAAC29B,OAAO,EAAED,UAAU9rB;IACvD,IAAI8rB,UACA,OAAOA,SAASp+B,GAAG,CAAC,CAAC/B,IAAO;YAAE,GAAGA,EAAEylC,cAAc;YAAElgB,SAASuvD,yFAAqBA,CAAC90E,EAAE8lB,OAAO;YAAGigB,SAAS;QAAI;IAE/G,OAAO0M,iFAAiBA,CAAC3nB,MAAM,CAAC,CAAC9qB,IAAMA,EAAEgE,OAAO,KAAK,WAAWjC,GAAG,CAAC,CAAC/B,IAAO;YACxE,GAAGA,EAAEylC,cAAc;YACnBM,SAAS;QACb;AACJ;;;;;;;;;;;;;;ACZkD;AACJ;AAG1C,iCAAiC,GAEjC,+BAA+B,GAE/B,2GAA2G,GAIxG,SAAS+0E,gBAAgB,EAAEriF,mBAAmB,CAAC,EAAEC,gBAAgB,CAAC,EAAE8qE,QAAQ,EAAuB,GAAG,CAAC,CAAC;IAC3G,MAAMsW,WAAsB,EAAE;IAC9B,IAAIrhF,mBAAmB,GAAGqhF,SAASn/F,IAAI,CAAC,CAAC,GAAGrK,OAASkrG,0EAAaA,IAAIlrG,MAAMkzF,UAAU/qE;IACtF,IAAIC,gBAAgB,GAAGohF,SAASn/F,IAAI,CAAC,CAAC,GAAGrK,OAASqqG,sEAAWA,IAAIrqG,MAAMooB;IACvE,OAAOohF;AACX;;;;;;;;;;;;;;;ACLiC;AAEwB;AAEzD,4BAA4B,GAC5B,MAAMrvF,SAAS;IAAC2xF,mEAAGA;IAAEM,oEAAIA;IAAEC,oEAAIA;IAAEL,mEAAGA;IAAEC,oEAAIA;IAAEF,oEAAIA;IAAEO,oEAAIA;IAAElmE,uEAAOA;IAAE+lE,oEAAIA;IAAED,oEAAIA;CAAC;AAErE,SAASjwE,gBACZzmB,OAA8B,EAC9Bc,KAA4D;IAE5D,IAAI,CAACA,OAAO;IACZ,OAAO;QACH6rB,iFAAiBA,CAACl3B,IAAI,CAAC,CAACvb,IAAMA,EAAE8lB,OAAO,KAAMA,UAAsB2f;WAChEhb,OAAO1oB,GAAG,CAAC,CAAC/B,IAAMA,CAAC,CAAC8lB,QAAQ;KAClC,CAACvK,IAAI,CACF,CAACvb,IACGA,GAAGgD,KAAKkC,kBAAkB0hB,MAAM5jB,IAAI,EAAEkC,iBACtClF,GAAGorB,OAAOlmB,kBAAkB0hB,MAAMwE,MAAM,EAAElmB,iBAC1C0kB,iFAAaA,CAAC5pB,GAAGulB,SAASqB,MAAMrB,OAAO;AAEnD;;;;;;;;;;;;AClCO,SAASsxB,UAAa9vC,IAA+B;IACxD,IAAI,CAACA,MAAM;IACX,IAAI;QACA,OAAO+D,KAAK1F,KAAK,CAAC2B;IACtB,EAAE,OAAM;QACJ;IACJ;AACJ;;;;;;;;;;;;;ACPwD;AAEjD,SAASylC,oBAAoBn+B,IAAa;IAC7C,IAAI,CAACA,MAAM,OAAO8hC,6EAAYA,CAACiC,QAAQ;IACvC,MAAMyqE,QAAQxuG,KAAKnJ,WAAW;IAC9B,IAAI;QAAC;QAAW;KAAO,CAACD,QAAQ,CAAC43G,QAAQ,OAAO1sE,6EAAYA,CAAC0nB,IAAI;IACjE,IAAI;QAAC;KAAa,CAAC5yD,QAAQ,CAAC43G,QAAQ,OAAO1sE,6EAAYA,CAACynB,IAAI;IAC5D,IAAI;QAAC;QAAS;QAAiB;QAAiB;KAAc,CAAC3yD,QAAQ,CAAC43G,QAAQ,OAAO1sE,6EAAYA,CAAC2sE,KAAK;IACzG,IAAI;QAAC;KAAe,CAAC73G,QAAQ,CAAC43G,QAAQ,OAAO1sE,6EAAYA,CAAC4sE,WAAW;IACrE,IAAI;QAAC;KAAO,CAAC93G,QAAQ,CAAC43G,QAAQ,OAAO1sE,6EAAYA,CAAC6sE,IAAI;IACtD,IAAI;QAAC;KAAO,CAAC/3G,QAAQ,CAAC43G,QAAQ,OAAO1sE,6EAAYA,CAACynB,IAAI;IACtD,OAAOznB,6EAAYA,CAACiC,QAAQ;AAChC;;;;;;;;;;;;ACVA;;;CAGC,GAED,QAAQ,GAER;;CAEC,GAGM,IAAUiT,YAwiBhB,CAvFO;;SAEC,IAED;;SAEC,IAED;;SAEC,IAED;;SAEC,IAED;;SAEC,IAED;;SAEC,IAGD;;;SAGC,IAED;;SAEC,IAsBL,mBAAmB;;QAngBJ,sCAAsC;IA4CrD,cAAc;IAeV,oCAAoC,GAEpC,QAAQ,GAIR,qBAAqB,GAGrB;;;WAGG,GAQH;;SAEC,GAKL,6CAA6C;IAC7C,qDAAqD;IAIjD;;SAEC,GAML;;;;KAIC,GA4BG,QAAQ,GAeR,QAAQ,GAeR,wBAAwB,GAMxB,mBAAmB,GAKnB,SAAS,GAWT,sCAAsC,GAMlC,gBAAgB,GAsBpB,2BAA2B,GAE3B,2BAA2B,GAI3B,0DAA0D,GAI9D,iCAAiC;IAY7B,4CAA4C;IAoB5C,6EAA6E,GAqE7E,kEAAkE,GAElE,qEAAqE,GAmBrE,UAAU;IACV,uBAAuB;IAKvB,wDAAwD;IACxD,cAAc;IA+BX;cAAKyB,GAAG;QAAHA,IACR7kC,iBAAc;QADN6kC,IAERC,cAAW;QAFHD,IAGRm2D,cAAW;QAHHn2D,IAIRo2D,gBAAa;QAJLp2D,IAKRq2D,YAAS;QALDr2D,IAMRrmC,iBAAc;OANNqmC;QASL;cAAKs2D,IAAI;QAAJA,KACRt7F,cAAW;QADHs7F,KAERhrE,cAAW;QAFHgrE,KAGRvlD,UAAO;QAHCulD,KAIRpoD,UAAO;QAJCooD,KAKRC,cAAW;QALHD,KAMRE,aAAU;QANFF,KAORG,UAAO;QAPCH,KAQRI,eAAY;QARJJ,KASRK,YAAS;QATDL,KAURM,WAAQ;QAVAN,KAWRO,UAAO;QAXCP,KAYRQ,UAAO;QAZCR,KAaRS,YAAS;QAbDT,KAcRU,aAAU;QAdFV,KAeRW,WAAQ;QAfAX,KAgBRnzG,WAAQ;QAhBAmzG,KAiBRY,aAAU;QAjBFZ,KAkBRa,YAAS;QAlBDb,KAmBRc,cAAW;QAnBHd,KAoBRe,UAAO;QApBCf,KAqBRgB,aAAU;QArBFhB,KAsBRiB,UAAO;QAtBCjB,KAuBRkB,YAAS;QAvBDlB,KAwBRmB,YAAS;QAxBDnB,KAyBRoB,aAAU;QAzBFpB,KA0BRqB,UAAO;OA1BCrB;QA6BL;cAAKsB,SAAS;QAATA,UACRC,qBAAkB;QADVD,UAER/1D,UAAAA;QAFQ+1D,UAGRj2D,SAAAA;OAHQi2D;GAvaCr5D,gBAAAA;;;;;;;;;;;;ACZV,IAAUiM,WAoKhB;;QA5JG,iEAAiE;IACjE,kEAAkE;IAE9D,wEAAwE;IAOxE;;;SAGC,GAuBD,gEAAgE,GAIhE,oBAAoB,GAON,WAAW;IAGD,MAAM;IAIb,SAAS;IAML,wBAAwB;IAG9B,2DAA2D;IAOlD,UAAU;IAGZ,wBAAwB;IA2BrB,uBAAuB;IAwB7C;cAAKnhB,YAAY;QAAZA,aACRiC,cAAW;QADHjC,aAER0nB,UAAO;QAFC1nB,aAGRynB,UAAO;QAHCznB,aAIR6kB,UAAO;OAJC7kB;GApICmhB,eAAAA;;;;;;;;;;;;ACFjB,kBAAkB,GACX,IAAU4U,eAsjBhB,CAhVO,4BAA4B,IAqBhB,0BAA0B,IAOtB,gBAAgB,IA+BhB,+CAA+C,IAG/C,+CAA+C,IAQ/C,aAAa,IAoBzB,uEAAuE;CAuB3D,YAAY,IAeI,uCAAuC;CA8DnD,yCAAyC;CA4I1C,SAAS;;QAxhBJ,gBAAgB,GA2CxC,aAAa,GAYb,QAAQ,GAeR,4CAA4C,GAWxC,4CAA4C,GA8B5C,4BAA4B,GA2ChC,sBAAsB,GAmBnB;cAAKS,KAAK;QAALA,MACRi4C,aAAU;QADFj4C,MAERk4C,WAAQ;QAFAl4C,MAGRC,YAAS;QAHDD,MAIRm4C,WAAQ;QAJAn4C,MAKRo4C,aAAU;OALFp4C;QAQL;cAAKG,SAAS;QAATA,UACRW,UAAO;QADCX,UAERU,SAAM;QAFEV,UAGRC,WAAQ;OAHAD;QAML;cAAKG,UAAU;QAAVA,WACRC,UAAO;QADCD,WAERY,YAAS;QAFDZ,WAGRa,YAAS;QAHDb,WAIRc,aAAU;QAJFd,WAKRe,YAAS;QALDf,WAMRgB,WAAQ;OANAhB;GAnNCf,mBAAAA;;;;;;;;;;;;;;ACDsB;AAEhC,SAASyN,gBAAgCyG,UAAe;IAC3D,OAAO,CAAC4kC,YAAwC,CAAC,CAACA,aAAa5kC,WAAWn1E,QAAQ,CAAC+5G;AACvF;AAEO,eAAe/5F,aAClBg6F,KAA0C,EAC1ClkG,QAAW,EACXmkG,aAA0Dv+C,0DAAW;IAErE,MAAMgL,SAAkB,EAAE;IAE1B,KAAK,MAAM1I,QAAQg8C,MAAO;QACtB,IAAI;YACA,MAAMp9G,SAAS,MAAMohE;YACrB,IAAIi8C,aAAar9G,SAAS;gBACtB;YACJ;YACA,OAAOA,UAAUkZ;QACrB,EAAE,OAAOhQ,OAAO;YACZ4gE,OAAOhxD,IAAI,CAAC5P;YACZ;QACJ;IACJ;IAEA,IAAI4gE,OAAOtmE,MAAM,EAAE,MAAM,IAAI85G,eAAexzC,QAAQ;IACpD,OAAO5wD;AACX;;;;;;;;;;;;;;;;;;AC5B+B;AAG/B,SAAS5X,WAAWtD,KAAa,EAAE60B,MAA8B;IAC7D,IAAI,CAAC70B,MAAMoF,QAAQ,CAAC,OAAO,OAAOpF;IAClC,OAAOA,MAAMsD,UAAU,CAAC,gBAAgB,CAAC67B,OAAOqgF,KAAO3qF,MAAM,CAAC2qF,GAAG,IAAIrgF;AACzE;AAEO,SAASsgF,aACZC,WAAiC,EACjCjmG,SAAY,EACZkmG,cAAsC,CAAC,CAAC;IAKxC,OAAO,CAAC15F,UAAmB,CAAY;QACnC,MAAM2pD,YAAY8vC,WAAW,CAACz5F,QAAQ;QACtC,mBAAmB;QACnB,IAAI,CAAC2pD,WAAW,OAAO,CAAC;QACxB,MAAMt8D,UAAUtS,OAAOkc,IAAI,CAACzD,WAAWvX,GAAG,CAAC,CAACiB;YACxC,IAAIP,QAAQ6W,SAAS,CAACtW,KAAK,CAACysE,UAAU;YACtC,IAAIr/D,MAAMD,OAAO,CAAC1N,QAAQ;gBACtBA,QAAQA,MAAMV,GAAG,CAAC,CAACowB;oBACf,IAAI,OAAOA,SAAS,UAAU;wBAC1B,OAAOhvB,WAAWgvB,MAAMqtF;oBAC5B;oBACA,OAAOrtF;gBACX;YACJ,OAAO,IAAI,OAAO1vB,UAAU,UAAU;gBAClCA,QAAQU,WAAWV,OAAO+8G;YAC9B;YACA,OAAO;gBAACx8G;gBAAMP;aAAM;QACxB;QACA,OAAO5B,OAAOs0B,WAAW,CAAChiB;IAC9B;AACJ;AAEO,SAASssG,UACZF,WAAiC,EACjCjmG,SAAY,EACZkmG,cAAsC,CAAC,CAAC;IAKxC,MAAME,kBAAkBJ,aAAaC,aAAajmG,WAAWkmG;IAC7D,OAAO,CACH15F,SACApkB,KACAqZ,WACE2kG,gBAAgB55F,QAAQ,CAACpkB,IAAI,IAAIqZ;AAC3C;AAEO,SAAS4kG,qBACZJ,WAAiC,EACjCx4G,IAAY,EACZ64G,iBAAoB,EACpBJ,cAAsC,CAAC,CAAC;IAExC,IAAI,CAACz4G,MAAM,OAAOu4G,aAAaC,aAAaK,mBAAmBJ;IAC/D,IAAI;QACA,MAAMlmG,YAAYxO,KAAK1F,KAAK,CAAC2B;QAC7B,OAAOu4G,aAAaC,aAAajmG,WAAWkmG;IAChD,EAAE,OAAM;QACJ,OAAOF,aAAaC,aAAaK,mBAAmBJ;IACxD;AACJ;AAEO,SAASK,kBACZN,WAAiC,EACjCx4G,IAAY,EACZ64G,iBAAoB,EACpBJ,cAAsC,CAAC,CAAC;IAExC,IAAI,CAACz4G,MAAM,OAAO04G,UAAUF,aAAaK,mBAAmBJ;IAC5D,IAAI;QACA,MAAMlmG,YAAYxO,KAAK1F,KAAK,CAAC2B;QAC7B,OAAO04G,UAAUF,aAAajmG,WAAWkmG;IAC7C,EAAE,OAAM;QACJ,OAAOC,UAAUF,aAAaK,mBAAmBJ;IACrD;AACJ;AAEO,SAASM,iBAA4CC,YAA8C;IACtG,OAAO,SAASC,aAAal6F,UAAmB,CAAY;QACxD,OAAOs5F,8CAAOA,CAAC,IAAMW,aAAaj6F,UAAU;YAACA;SAAQ;IACzD;AACJ;AAEO,SAASm6F,cACZC,WAA6C;IAE7C,OAAO,SAASC,YAAYr6F,UAAmB,CAAY,EAAEpkB,GAAO,EAAEqZ,QAAe;QACjF,OAAOqkG,8CAAOA,CAAC;YACX,IAAI,CAAC19G,KAAK,OAAOqZ;YACjB,OAAOmlG,YAAYp6F,QAAQ,CAACpkB,IAAI,IAAIqZ;QACxC,GAAG;YAAC+K;SAAQ;IAChB;AACJ;;;;;;;;;;;;;;ACnGwC;AAC4D;AAE7F,SAASuqC,cACZiwD,WAA4B,GAAG,EAC/Bx6E,WAAW,CAAC,EACZy6E,cAAcz6E,QAAQ,EACtB06E,YAAY,KAAK,EACjBC,UAAU,KAAK,EACfC,gBAAgB,CAAC,EACjBC,gBAAgB,IAAI;IAEpB,IAAI56E,UAAU,IAAI5mB,4DAASA,CAACmhG;IAC5B,IAAI,CAACv6E,QAAQk4D,SAAS,IAAI;QACtB,MAAMtsF,UAAU,CAAC,4BAA4B,EAAEo0B,QAAQX,OAAO,GAAG,CAAC;QAClE,IAAIz9B,KAAyE,EAAE,EAE9E,MAAM;YACHiC,QAAQmB,KAAK,CAAC4G;QAClB;IACJ;IACAo0B,UAAUA,QAAQwuD,YAAY;IAE9B,IAAIksB,SAAS;QACT,MAAMh+G,QAAQ2sD,+DAASA,CAACrpB,SAASD;QACjC,MAAM86E,UAAUpqE,6DAAOA,CAAC,GAAG,CAACkqE;QAC5B,IAAIj+G,MAAMo+G,EAAE,CAAC,IAAI,OAAO;QACxB,IAAI/vB,gEAAUA,CAACruF,OAAOm+G,UAAU,OAAO,MAAMA,QAAQx7E,OAAO;QAC5D,MAAMvjC,SAASw+G,8DAAQA,CAAC59G,MAAM2iC,OAAO,CAACs7E;QACtC,OAAOC,gBAAgBP,2EAAqBA,CAACv+G,UAAUA;IAC3D;IAEA,MAAM4zB,OAAO+pB,2DAAKA,CAAC1Z;IAAU,kBAAkB;IAC/C,IAAIC,QAAQ8Z,GAAG,CAACpqB,MAAMqrF,EAAE,CAACthE,2DAAKA,CAAC,CAAC,OAAOzZ,QAAQlc,aAAa,CAAC,MAAM,CAAC22F,WAAW,OAAO;IAEtF,MAAMO,WAAWh7E,QAAQi7E,UAAU;IAAG,eAAe;IACrD,IAAID,UAAUh7E,UAAUA,QAAQk7E,aAAa;IAAG,gBAAgB;IAEhE,IAAIC,WAAWn7E,QAAQo7E,MAAM,CAAC1rF,MAAM/1B,QAAQ,CAAC;IAAI,gCAAgC;IAEjF,oBAAoB;IACpBwhH,WAAWA,SAASE,QAAQ,CAACt7E,UAAU;IACvC,8BAA8B;IAC9Bo7E,WAAWA,SAAS7/G,KAAK,CAAC,GAAG0kC,QAAQ8Z,GAAG,CAACpqB,MAAM4rF,EAAE,CAAC7hE,2DAAKA,CAAC,CAAC,MAAM,IAAI;IAEnE,2BAA2B;IAC3B,MAAM8hE,yBAAyB,IAAIxlF,OAAO,CAAC,cAAc,EAAEykF,cAAc,IAAIA,cAAc,IAAI,EAAE,CAAC,CAAC;IACnGW,WAAWA,SAASliF,KAAK,CAACsiF,yBAAyB,CAAC,EAAE,IAAI;IAE1D,qBAAqB;IACrBJ,WAAWA,SAAS/9G,UAAU,CAAC,QAAQ;IACvC,MAAMo+G,QAAQx7E,QAAQy7E,kBAAkB,CAAC/rF,MAAM/1B,QAAQ,CAAC;IAAI,gCAAgC;IAC5F,MAAM+C,QAAQ,CAAC,EAAE8+G,MAAM,EAAEL,aAAa,KAAK,KAAK,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC;IAEhE,MAAMn5B,MAAMg5B,WAAW,CAAC,CAAC,EAAEt+G,MAAM,CAAC,GAAGA;IACrC,MAAMZ,SAASkmF,IAAI9iF,QAAQ,CAAC,OAAO8iF,IAAIjgE,OAAO,CAAC,OAAO,IAAIA,OAAO,CAAC,OAAO,MAAMigE;IAC/E,OAAO44B,gBAAgBP,2EAAqBA,CAACv+G,UAAUA;AAC3D;;;;;;;;;;;;;ACxD0C;AAEnC,SAASy0C,iBAAiB7zC,KAAsB;IACnD,MAAM20C,aAAalS,kEAAYA,CAACziC,OAAO,KAClC2iC,OAAO,CAAC,GACRtd,OAAO,CAAC,UAAU;IACvB,OAAO,CAAC,EAAEsvB,WAAW,CAAC,CAAC;AAC3B;;;;;;;;;;;;;;;;ACRoD;AAE7C,SAASxtB,cAAcrE,OAA4B,EAAEm8F,YAAiC;IACzF,IAAI,CAACn8F,WAAW,CAACm8F,cAAc,OAAO;IACtC,OAAOn8F,QAAQrgB,WAAW,OAAOw8G,aAAax8G,WAAW;AAC7D;AAEO,SAASwgF,iBAAiBi8B,YAA+B,EAAE;IAC9DA,YAAYzxF,8DAAOA,CAACC,8DAAIA,CAACsxF,8DAASA,CAACE,aAAa5/G,GAAG,CAAC,CAACwjB,UAAYA,QAAQrgB,WAAW;IACpF,OAAO,CAACgF;QACJ,IAAIy3G,UAAUt8G,MAAM,KAAK,KAAK,CAAC6E,QAAQ,OAAO;QAC9C,IAAI,OAAOA,WAAW,UAAU;YAC5B,OAAOy3G,UAAU18G,QAAQ,CAACiF,OAAOhF,WAAW;QAChD,OAAO,IAAI,OAAOgF,WAAW,YAAY,OAAOA,OAAOqb,OAAO,KAAK,UAAU;YACzE,OAAOo8F,UAAU18G,QAAQ,CAACiF,OAAOqb,OAAO,CAACrgB,WAAW;QACxD;QACA,MAAM,IAAIvD,MAAM;IACpB;AACJ;;;;;;;;;;;;AClBO,SAASgyF,UAAU/+E,CAA2B,EAAEzO,CAA2B;IAC9E,IAAI,CAACyO,KAAK,CAACzO,GAAG,OAAO;IAErB,yCAAyC;IACzC,IAAI,OAAOyO,MAAM,YAAY,CAACuH,IAAIC,QAAQ,CAACxH,IAAI,OAAO;IACtD,IAAI,OAAOzO,MAAM,YAAY,CAACgW,IAAIC,QAAQ,CAACjW,IAAI,OAAO;IAEtD,2CAA2C;IAC3C,MAAMy7G,OAAO,OAAOhtG,MAAM,WAAW,IAAIuH,IAAIvH,KAAKA;IAClD,MAAMitG,OAAO,OAAO17G,MAAM,WAAW,IAAIgW,IAAIhW,KAAKA;IAElD,0CAA0C;IAC1C,IAAIy7G,KAAKtyG,QAAQ,KAAKuyG,KAAKvyG,QAAQ,IAAIsyG,KAAKE,QAAQ,KAAKD,KAAKC,QAAQ,IAAIF,KAAK31G,QAAQ,KAAK41G,KAAK51G,QAAQ,EAAE;QACvG,OAAO;IACX;IAEA,0DAA0D;IAC1D,MAAM81G,UAAU,IAAIj/D,gBAAgB8+D,KAAK1vF,MAAM;IAC/C,MAAM8vF,UAAU,IAAIl/D,gBAAgB++D,KAAK3vF,MAAM;IAE/C,6EAA6E;IAC7E,KAAK,MAAM,CAAC+vF,QAAQC,OAAO,IAAIH,QAAQ5uG,OAAO,GAAI;QAC9C,MAAMgvG,SAASH,QAAQp9G,GAAG,CAACq9G;QAC3B,IAAIC,WAAWC,QAAQ;YACnB,OAAO;QACX;IACJ;IAEA,iDAAiD;IACjD,KAAK,MAAM,CAACC,OAAO,IAAIJ,QAAQ7uG,OAAO,GAAI;QACtC,IAAI,CAAC4uG,QAAQt+G,GAAG,CAAC2+G,SAAS;YACtB,OAAO;QACX;IACJ;IAEA,OAAO;AACX;;;;;;;;;;;;;;;;;;;;ACpC4C;AAQlB;AAGnB,SAASzsC,oBACZ7vD,OAAgB,EAChB6f,MAAkB,EAClBpgB,OAAe,EACfviB,IAAY,EACZooB,MAAc,EACd0a,QAAgB,EAChBE,OAAgB;IAEhB,OAAO;QACHlgB;QACAzX,MAAMgiB,gEAASA,CAACwB,QAAQ;QACxB8T;QACA7hC,IAAIyhB;QACJA;QACAviB;QACAooB;QACA0a;QACAE;IACJ;AACJ;AACO,SAAS41C,+BACZ91D,OAAgB,EAChB9iB,IAAY,EACZ4kB,OAAe,EACfwD,MAAc,EACdwI,WAAoB,EACpBg0E,SAAkB,EAClBx6D,QAAiB,EACjBF,QAAiB;IAEjB,OAAO;QACHpnB;QACA9iB;QACA4kB;QACAwD;QACAwI;QACAwZ;QACAw6D;QACA16D;IACJ;AACJ;AACO,SAASuL,+BACZ3yB,OAAgB,EAChB6f,MAAkB,EAClBpgB,OAAe,EACfviB,IAAY,EACZooB,MAAc;IAEd,OAAO;QACHtF;QACA6f;QACA3iC;QACAooB;QACA7F;IACJ;AACJ;AACO,SAASs2D,iCACZ/1D,OAAgB,EAChBP,OAAe,EACfviB,IAAY,EACZqqC,IAAY,EACZzZ,WAAoB,EACpBgd,OAAgB,EAChBtD,QAAkB,EAClBa,SAAkB;IAElB,OAAO;QACHrqC,IAAIyhB;QACJO;QACA9iB;QACAqqC;QACAzZ;QACAgd;QACAtD;QACAa;IACJ;AACJ;AACO,SAASynC,uBACZ9vD,OAAgB,EAChBP,OAAe,EACfogB,MAAkB,EAClB/d,OAAe,EACfmlB,OAAgB,EAChBE,QAA4D,EAC5DlhB,QAA4D,EAC5D0O,UAAgE;IAEhE,OAAO;QACH3U;QACAhiB,IAAIyhB;QACJlX,MAAMgiB,gEAASA,CAACqW,WAAW;QAC3Bf;QACApgB;QACAqC;QACAmlB;QACAE;QACAlhB;QACA0O;IACJ;AACJ;AAEO,SAAS8nF,kCACZlwF,QAGE,EACFsT,MAAkB,EAClBrsB,SAAY;IAEZ,OAAO,CACH5X,KACAsB,MACAooB,QACA0a;QAEA,MAAM08E,eAAeH,8DAAKA,CAAChwF,UAAU;QACrC,OAAOiwF,8DAASA,CAACE,cAAc,CAAC,EAAE9gH,KAAK+tE,SAAS,EAAEhtE,OAAOqjB,OAAO,EAAE;YAC9D,SAAS28F,UAAqC90G,CAAgC;gBAC1E,OAAO,OAAOA,MAAM,aAAaA,EAAEmY,WAAWnY;YAClD;YAEA,OAAOgoE,oBACH7vD,SACA6f,QACArsB,SAAS,CAAC5X,IAAI,CAAC+tE,UAAuB,IAAI,IAC1CgzC,UAAUz/G,OACVy/G,UAAUr3F,SACVq3F,UAAU38E;QAElB;IACJ;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/IsC;AACA;AAMJ;AAOL;AACK;AACgD;AACpB;AAChB;AAE9C,MAAMi9E,YAAYvhG,+BAAeA,CAACC,UAAU;AAErC,MAAMkxB,sBAA8E;IACvF;QACIuiD,IAAI,CAAC,EAAE6tB,UAAU,SAAS,CAAC;QAC3BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACkC,OAAO;QACxB7Y,MAAMy0G,6BAAWA,CAAC9sG,QAAQ;QAC1BhT,MAAM;QACNqsE,WAAW;QACX6E,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBACI;QACJp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,QAAQ,CAAC;QAC1BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACg4E,OAAO;QACxB3uF,MAAMy0G,6BAAWA,CAAC9sG,QAAQ;QAC1BhT,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,MAAM,CAAC;QACxBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACi4E,KAAK;QACtB5uF,MAAMy0G,6BAAWA,CAAC9sG,QAAQ;QAC1BhT,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,QAAQ,CAAC;QAC1BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC0nB,OAAO;QACxBr+B,MAAMy0G,6BAAWA,CAAC9sG,QAAQ;QAC1BhT,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,MAAM,CAAC;QACxBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACm+F,KAAK;QACtB90G,MAAMy0G,6BAAWA,CAAC9sG,QAAQ;QAC1BhT,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,IAAI,CAAC;QACtBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACoI,GAAG;QACpB/e,MAAMy0G,6BAAWA,CAACM,OAAO;QACzBpgH,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAwC,EAAE1D,IAAI;QAC5D27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,KAAK,CAAC;QACvBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC6J,IAAI;QACrBxgB,MAAMy0G,6BAAWA,CAACM,OAAO;QACzBpgH,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAwC,EAAE1D,IAAI;QAC5D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,KAAK,CAAC;QACvBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC4S,IAAI;QACrBvpB,MAAMy0G,6BAAWA,CAAClrF,IAAI;QACtB50B,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAqC,EAAE1D,IAAI;QACzD27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,WAAW,CAAC;QAC7BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACq+F,WAAW;QAC5Bh1G,MAAMy0G,6BAAWA,CAAClrF,IAAI;QACtB50B,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAqC,EAAE1D,IAAI;QACzD27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,QAAQ,CAAC;QAC1BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACsC,KAAK;QACtBjZ,MAAMy0G,6BAAWA,CAAClxB,OAAO;QACzB5uF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAwC,EAAE1D,IAAI;QAC5D27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACy3C,MAAM;QACvBpuD,MAAMy0G,6BAAWA,CAAClxB,OAAO;QACzB5uF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAwC,EAAE1D,IAAI;QAC5D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,SAAS,CAAC;QAC3BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACK,QAAQ;QACzBhX,MAAMy0G,6BAAWA,CAACz9F,QAAQ;QAC1BriB,MAAM;QACNqsE,WAAW;QACX6E,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,iBAAiB,CAAC;QACnCC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACs+F,gBAAgB;QACjCj1G,MAAMy0G,6BAAWA,CAACz9F,QAAQ;QAC1BriB,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,KAAK,CAAC;QACvBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACiL,IAAI;QACrB5hB,MAAMy0G,6BAAWA,CAAC7yF,IAAI;QACtBjtB,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAqC,EAAE1D,IAAI;QACzD27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,KAAK,CAAC;QACvBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC6S,IAAI;QACrBxpB,MAAMy0G,6BAAWA,CAACjrF,IAAI;QACtB70B,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAqC,EAAE1D,IAAI;QACzD27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC6f,MAAM;QACvBx2B,MAAMy0G,6BAAWA,CAACj+E,MAAM;QACxB7hC,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,mEAAuC,EAAE1D,IAAI;QAC3DyqG,oBACI;QACJ9uC,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,UAAU,CAAC;QAC5BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACoK,SAAS;QAC1B/gB,MAAMy0G,6BAAWA,CAAC1zF,SAAS;QAC3BpsB,MAAM;QACNqsE,WAAW;QACX6E,MAAM,IAAI/3D,IAAI,oEAA0C,EAAE1D,IAAI;QAC9DyqG,oBAAoB;QACpB9uC,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACkK,MAAM;QACvB7gB,MAAMy0G,6BAAWA,CAAC5zF,MAAM;QACxBlsB,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAuC,EAAE1D,IAAI;QAC3D27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,QAAQ,CAAC;QAC1BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACwK,OAAO;QACxBnhB,MAAMy0G,6BAAWA,CAACtzF,OAAO;QACzBxsB,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAwC,EAAE1D,IAAI;QAC5D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,MAAM,CAAC;QACxBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAACgK,KAAK;QACtB3gB,MAAMy0G,6BAAWA,CAAC9zF,KAAK;QACvBhsB,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAsC,EAAE1D,IAAI;QAC1D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC0K,MAAM;QACvBrhB,MAAMy0G,6BAAWA,CAACpzF,MAAM;QACxB1sB,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAuC,EAAE1D,IAAI;QAC3D27D,WAAW;QACX6uC,mBAAmB;QACnBC,oBAAoB;QACpBp/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,SAAS,CAAC;QAC3BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC+K,QAAQ;QACzB1hB,MAAMy0G,6BAAWA,CAAC/yF,QAAQ;QAC1B/sB,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACX8uC,oBAAoB;QACpBp/D,WAAW;QACXm/D,mBAAmB;IACvB;IACA;QACI/tB,IAAI,CAAC,EAAE6tB,UAAU,SAAS,CAAC;QAC3BC,0BAA0BD;QAC1Bj9F,SAASd,yBAAOA,CAAC8K,QAAQ;QACzBzhB,MAAMy0G,6BAAWA,CAAChzF,QAAQ;QAC1BokD,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7D27D,WAAW;QACXpxE,MAAM;QACN8gD,WAAW;QACXm/D,mBAAmB;IACvB;CACH;AAEM,MAAMxwE,oBAAsFowE,sBAAMA,CAAC9gH,GAAG,CAAC,CAAC/B;IAC3G,MAAMgE,UAAU2uC,oBAAoBp3B,IAAI,CAAC,CAAC2P,IAAMA,EAAEpF,OAAO,KAAK9lB,EAAE8lB,OAAO;IACvE,OAAO;QACH,GAAG9lB,CAAC;QACJk1F,IAAI,CAAC,EAAEl1F,EAAE8lB,OAAO,CAAC,CAAC,EAAE9lB,EAAEgD,IAAI,CAAC,CAAC;QAC5BssE,sBAAsB;QACtBC,kBAAkB;QAClBC,qBAAqB;QACrBnhE,MAAM,EAAGA,IAAI,IAAgCy0G,6BAAWA,CAAC9sG,QAAQ;QACjE45D,OAAO5rE,SAASowE,aAAap0E,EAAE4vE,KAAK,IAAI;QACxCnqC,gBAAgB;YACZ3hC,IAAIysB,sCAAgBA,CAACvwB,EAAE8lB,OAAO,EAAE,wBAAwBmf,8BAAYA;YACpE1f,SAASgL,sCAAgBA,CAACvwB,EAAE8lB,OAAO,EAAE,wBAAwBmf,8BAAYA;YACzE52B,MAAMgiB,uBAASA,CAACwB,QAAQ;YACxB8T,QAAQX,4BAAUA,CAACY,MAAM;YACzB,GAAG5lC,EAAEylC,cAAc;QACvB;QACA,iBAAiB;QACjBkiD,QAAQ;QACR47B,SAASv/G,SAASkwE,QAAQl0E,EAAEylC,cAAc,CAACO,OAAO;QAClD8pC,aAAa;YACT5zD,KAAKlc,EAAEwjH,SAAS,EAAE,CAAC,EAAE,EAAEtnG,OAAOlc,EAAEyjH,OAAO;QAC3C;QACA/7B,cAAc;IAClB;AACJ,GAAE;AAEK,MAAM70C,uBAAiF;IAC1F;QACIqiD,IAAI,CAAC,EAAE6tB,UAAU,WAAW,CAAC;QAC7BW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAACQ,UAAU;QAC7BztF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAA2C,EAAE1D,IAAI;QAC/DkrG,oBAAoB;YAChBxqC,mBAAmBq9B,6BAAWA;YAC9BoN,2BAA2BlB,6BAAUA,CAACC,gCAAmBA,EAAE;gBACvDnrG,4BAAeA,CAACC,SAAS;gBACzBD,4BAAeA,CAACE,GAAG;aACtB;YACDmsG,yBAAyBjB,8BAAiBA;QAC9C;QACA5sC,UAAU;QACVE,aAAa;QACbE,cAAc;QACd0tC,iBAAiB;QACjBZ,oBACI;IACR;IACA;QACIhuB,IAAI,CAAC,EAAE6tB,UAAU,QAAQ,CAAC;QAC1BW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAACmK,OAAO;QAC1Bp3F,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7DkrG,oBACIh8G,MAAsC,GAChC,CAIC,GACDjB;QACVsvE,UAAU;QACVE,aAAa;QACbE,cAAc;QACd0tC,iBAAiB;QACjBZ,oBACI;IACR;IACA;QACIhuB,IAAI,CAAC,EAAE6tB,UAAU,SAAS,CAAC;QAC3BW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAAC4B,QAAQ;QAC3B7uF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7DkrG,oBAAoB;YAChBxqC,mBAAmBq9B,6BAAWA;YAC9BoN,2BAA2BjB,gCAAmBA;YAC9CkB,yBAAyBjB,8BAAiBA;QAC9C;QACA5sC,UAAU;QACVE,aAAa;QACbE,cAAc;QACd0tC,iBAAiB;QACjBZ,oBACI;IACR;IACA;QACIhuB,IAAI,CAAC,EAAE6tB,UAAU,cAAc,CAAC;QAChCW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAAC0C,aAAa;QAChC3vF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAA8C,EAAE1D,IAAI;QAClEkrG,oBAAoB75G,gBAAKA,CAACH,UAAU,GAC9B;YACIwvE,mBAAmBq9B,6BAAWA;YAC9BoN,2BAA2BlB,6BAAUA,CAACC,gCAAmBA,EAAE;gBACvDnrG,4BAAeA,CAACC,SAAS;gBACzBD,4BAAeA,CAACE,GAAG;aACtB;YACDmsG,yBAAyB/5G,gBAAKA,CAACH,UAAU,GAAGi5G,8BAAiBA,GAAG,EAAE;QACtE,IACAl8G;QACNsvE,UAAU;QACVE,aAAa;QACbE,cAAc;QACd0tC,iBAAiB;QACjBZ,oBACI;IACR;IACA;QACIhuB,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAAC+F,MAAM;QACzBhzF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAuC,EAAE1D,IAAI;QAC3DkrG,oBAAoB;YAChBxqC,mBAAmBq9B,6BAAWA;YAC9BoN,2BAA2B,EAAE;QACjC;QACA5tC,UAAU;QACVE,aAAa;QACbE,cAAc;IAClB;IACA;QACI8e,IAAI,CAAC,EAAE6tB,UAAU,SAAS,CAAC;QAC3BW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAACyM,QAAQ;QAC3B15F,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7DkrG,oBAAoB;YAChBxqC,mBAAmB;gBAACn0D,yBAAOA,CAACkC,OAAO;gBAAElC,yBAAOA,CAACK,QAAQ;gBAAEL,yBAAOA,CAACoK,SAAS;gBAAEpK,yBAAOA,CAAC+K,QAAQ;gBAAE/K,yBAAOA,CAACsC,KAAK;aAAC;YAC1Gs8F,2BAA2B,EAAE;YAC7BC,yBAAyB,EAAE;QAC/B;QACA7tC,UAAU;QACVE,aAAa;QACbE,cAAc;IAClB;IACA;QACI8e,IAAI,CAAC,EAAE6tB,UAAU,IAAI,CAAC;QACtBW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAACkQ,GAAG;QACtBn9F,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,mEAAoC,EAAE1D,IAAI;QACxDkrG,oBAAoB;YAChBxqC,mBAAmB;gBAACn0D,yBAAOA,CAACkC,OAAO;gBAAElC,yBAAOA,CAACK,QAAQ;gBAAEL,yBAAOA,CAACoK,SAAS;gBAAEpK,yBAAOA,CAAC+K,QAAQ;gBAAE/K,yBAAOA,CAACsC,KAAK;aAAC;YAC1Gs8F,2BAA2B,EAAE;YAC7BC,yBAAyB,EAAE;QAC/B;QACA7tC,UAAU;QACVE,aAAa;QACbE,cAAc;IAClB;IACA;QACI8e,IAAI,CAAC,EAAE6tB,UAAU,MAAM,CAAC;QACxBW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAACgG,KAAK;QACxBjzF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAsC,EAAE1D,IAAI;QAC1DkrG,oBAAoB;YAChBxqC,mBAAmB;gBAACn0D,yBAAOA,CAACkC,OAAO;gBAAElC,yBAAOA,CAACoI,GAAG;gBAAEpI,yBAAOA,CAACsC,KAAK;aAAC;YAChEs8F,2BAA2BrrG,0BAASA,CAACM,QAAQ,GAAG8pG,gCAAmBA,GAAG,EAAE;YACxEkB,yBAAyB,EAAE;QAC/B;QACA7tC,UAAU;QACVE,aAAa;QACbE,cAAc;QACd8sC,oBACI;IACR;IACA;QACIhuB,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAACiG,MAAM;QACzBlzF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAuC,EAAE1D,IAAI;QAC3DyqG,oBACI;QACJS,oBAAoB;YAChBxqC,mBAAmB5gE,0BAASA,CAACQ,UAAU,GAAG,EAAE,GAAGy9F,6BAAWA;YAC1DoN,2BAA2BrrG,0BAASA,CAACQ,UAAU,GAAG,EAAE,GAAG4pG,gCAAmBA;YAC1EkB,yBAAyB,EAAE;QAC/B;QACA7tC,UAAU;QACVE,aAAa;QACbE,cAAc;IAClB;IACA;QACI8e,IAAI,CAAC,EAAE6tB,UAAU,UAAU,CAAC;QAC5BW,yBAAyBX;QACzB10G,MAAM4hF,8BAAYA,CAAC6C,SAAS;QAC5B9vF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAA0C,EAAE1D,IAAI;QAC9DkrG,oBAAoB;YAChBxqC,mBAAmB5gE,0BAASA,CAACQ,UAAU,GAAG,EAAE,GAAG;gBAACiM,yBAAOA,CAACkC,OAAO;gBAAElC,yBAAOA,CAACoI,GAAG;aAAC;YAC7Ew2F,2BAA2BrrG,0BAASA,CAACQ,UAAU,GAAG,EAAE,GAAG4pG,gCAAmBA;YAC1EkB,yBAAyBtrG,0BAASA,CAACQ,UAAU,GAAG,EAAE,GAAG6pG,8BAAiBA;QAC1E;QACA5sC,UAAU;QACVE,aAAa;QACbE,cAAc;QACd0tC,iBAAiB;QACjBZ,oBACI;IACR;CACH;;;;;;;;;;;;;ACtfM,MAAMj+E,eAAe,6CAA4C;AAExE,mBAAmB;AACZ,MAAM8+E,qBAAqB,qEAAoE;;;;;;;;;;;;;;ACH9D;AAEjC,MAAMp6F,WAAWq6F,yCAAQA,CAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACF7B;AACsB;AACA;AAW3B;AACa;AAEpC,SAAS9zB,gBAAgB3qE,OAAe;IAC3C,OAAO2+F,6DAAiBA,CAAC3+F;AAC7B;AAEO,SAASwyC,WAAW32D,GAAY;IACnC,OAAO,CAACA,OAAO;QAAC;QAAM;KAAM,CAAC6D,QAAQ,CAAC7D;AAC1C;AAEO,SAAS2/D,aAAaua,GAAY;IACrC,OAAO,CAACA,OAAOA,QAAQ;AAC3B;AAEO,MAAMvuD,iBAA0DgY,8DAAOA,CAAC,SAAShY,eACpFxH,OAAgB;IAEhB,IAAI,CAACA,SAAS,OAAO;IACrB,OAAO0+F,qDAASA,CAAC1+F;AACrB,GAAE;AAEK,SAASmE,cAAcnE,OAAgB;IAC1C,OAAOqE,iFAAaA,CAACrE,SAAS0f,sEAAYA;AAC9C;AAEA,MAAMw/E,iBAAiB,IAAIl3G,IAAIipG,sEAAWA,CAACz0G,GAAG,CAAC,CAAC+jB,UAAYyK,+EAAgBA,CAACzK,SAAS;AAE/E,SAASiI,qBAAqBxI,OAAgB;IACjD,OAAO,CAAC,CAAEA,CAAAA,WAAWk/F,eAAehhH,GAAG,CAAC8hB,QAAO;AACnD;AAEA,MAAM,EACFs2F,2BAA2B,EAC3BC,2BAA2B,EAC3BC,2BAA2B,EAC3BC,2BAA2B,EAC9B,GAAGuI,oFAAqBA;AAElB,SAASG,mBAAmBn/F,OAAe,EAAE9e,OAAuB;IACvE,OAAQA;QACJ,KAAK;YACD,OAAOmjB,cAAciyF,6BAA6Bt2F;QACtD,KAAK;YACD,OAAOqE,cAAckyF,6BAA6Bv2F;QACtD,KAAK;YACD,OAAOqE,cAAcmyF,6BAA6Bx2F;QACtD,KAAK;YACD,OAAOqE,cAAcoyF,6BAA6Bz2F;QACtD;YACI,OACIqE,cAAciyF,6BAA6Bt2F,YAC3CqE,cAAckyF,6BAA6Bv2F,YAC3CqE,cAAcmyF,6BAA6Bx2F,YAC3CqE,cAAcoyF,6BAA6Bz2F;IAEvD;AACJ;AAEO,SAASu7C;IACZ,OAAO77B,sEAAYA;AACvB;AAEO,MAAM6vC,wBAAsD/vC,8DAAOA,CAAC,CAACjf,UAAUd,8DAAOA,CAACkC,OAAO;IACjG,OAAOqJ,+EAAgBA,CAACzK,SAAS,2BAA2Bmf,sEAAYA;AAC5E,GAAE;AAEK,MAAM8vC,sBAAoDhwC,8DAAOA,CAAC,CAACjf,UAAUd,8DAAOA,CAACkC,OAAO;IAC/F,OAAOqJ,+EAAgBA,CAACzK,SAAS,mBAAmB;AACxD,GAAE;AAEF,MAAM,EAAE6+F,oBAAoB,EAAE,GAAGN,8EAAeA;AACzC,SAAS5tE,qBAAqBzhB,gBAAwB;IACzD,OAAOpL,iFAAaA,CAACoL,kBAAkB2vF;AAC3C;AAEA,MAAM,EAAEC,iCAAiC,EAAE,GAAGP,8EAAeA;AACtD,SAASQ,gCAAgC7vF,gBAAwB;IACpE,OAAOpL,iFAAaA,CAACoL,kBAAkB4vF;AAC3C;AAEO,SAASE,qBAAqBv/F,OAAe;IAChD,MAAM,EAAEw/F,6BAA6B,EAAE,GAAGT,sFAAuBA,CAACt/F,8DAAOA,CAACsC,KAAK;IAC/E,OAAOsC,iFAAaA,CAACrE,SAASw/F;AAClC;AAEA,MAAM,EAAEC,oBAAoB,EAAE,GAAGb,8EAAeA,CAACn/F,8DAAOA,CAACK,QAAQ;AAC1D,SAAS4/F,qBAAqBjwF,gBAAwB;IACzD,OAAOpL,iFAAaA,CAACoL,kBAAkBgwF;AAC3C;AAEA,MAAM,EAAEE,oBAAoB,EAAE,GAAGV,kFAAmBA,CAACx/F,8DAAOA,CAACoI,GAAG;AACzD,SAAS+3F,yBAAyBnwF,gBAAwB;IAC7D,OAAOpL,iFAAaA,CAACoL,kBAAkBkwF;AAC3C;AAEO,SAASE,qBAAqB7/F,OAAe;IAChD,OAAOkxB,qBAAqBlxB,YAAY0/F,qBAAqB1/F,YAAY4/F,yBAAyB5/F;AACtG;AAEO,SAASo2D,6BAA6B3mD,gBAAwB;IACjE,MAAM,EAAEqwF,4BAA4B,EAAE,GAAGjB,sFAAuBA;IAChE,OAAOx6F,iFAAaA,CAACoL,kBAAkBqwF;AAC3C;;;;;;;;;;;;;ACjH6C;AAGtC,SAASjxE,eACZurB,IAAiB,EACjBp6C,OAA2B,EAC3Bm8D,GAAc,EACdz2E,OAAyB;IAEzB,IAAI,CAACsa,WAAW,CAACwH,qEAAcA,CAACxH,YAAY,CAACo6C,MAAM,OAAO;IAC1D,OAAO,IAAIA,KAAKvzC,GAAG,CAACxG,QAAQ,CAAC87D,KAAKn8D,SAASta;AAC/C;;;;;;;;;;;;ACXO,SAAS6rF,qBAAqBhzF,EAAU,EAAE4sF,gBAAkC;IAC/E,OAAO;QACHkgB,SAAS;QACT9sG;QACAyK,QAAQmiF,iBAAiBniF,MAAM;QAC/Ba,QAAQshF,iBAAiBthF,MAAM;IACnC;AACJ;;;;;;;;;;;;ACRO,SAAS2nF,sBAAyBjzF,EAAU,EAAEjC,MAAU,EAAEkJ,KAAa;IAC1E,OAAO;QACH6lG,SAAS;QACT9sG;QACAjC;QACAkJ;IACJ;AACJ;;;;;;;;;;;;;ACRwC;AAEjC,SAAS4iD,mBAAmBla,IAAe,EAAE5zC,KAAa,EAAE8zC,UAAkB;IACjF,MAAMxhB,OAAOshB,KAAKl4B,IAAI,CAAC,CAACvb,IAAMA,EAAEqO,IAAI,KAAK,cAAcrO,EAAEgD,IAAI,KAAK2wC;IAClE,IAAI,CAACxhB,MAAM,MAAM,IAAIxwB,MAAM,CAAC,gCAAgC,EAAEgyC,WAAW,CAAC,CAAC;IAC3E,IAAI,CAACxhB,KAAKq6B,MAAM,EAAE,MAAM,IAAI7qD,MAAM;IAElC,uDAAuD;IACvD,OAAOgoB,2DAAQA,CAACkqB,gBAAgB,CAAC1hB,KAAKq6B,MAAM,EAAE,CAAC,EAAE,EAAE3sD,MAAMwB,KAAK,CAAC,IAAI,CAAC;AACxE;;;;;;;;;;;;;;;;;;;ACViE;AACK;AAE/D,SAASoyE;IACZ,OAAOjyD,0EAAeA,CAACC,UAAU;AACrC;AAEO,SAAS6uD;IACZ,OAAOtrD,8DAAOA,CAACkC,OAAO;AAC1B;AAEO,SAAS0tD;IACZ,OAAO5vD,8DAAOA,CAACsgG,OAAO;AAC1B;AAEO,SAASzwC;IACZ,OAAOiuC,kEAAWA,CAAC9sG,QAAQ;AAC/B;AAEO,SAASw6D;IACZ,OAAOj4D,oEAASA,CAACG,aAAa,GAAGu3E,mEAAYA,CAACQ,UAAU,GAAGR,mEAAYA,CAACzwF,IAAI;AAChF;;;;;;;;;;;;;ACrB2D;AAGpD,SAASw1E,qBAAqBlvD,OAAgB,EAAE4gD,QAAQ,CAAC;IAC5D,MAAM2P,QAAQ1jC,8EAAmBA,CAACp3B,IAAI,CAAC,CAACvb,IAAMA,EAAE8lB,OAAO,KAAKA,UAAUm9F,qBAAqB;IAC3F,OAAO5sC,QAAQ3P,QAAQ;AAC3B;;;;;;;;;;;;;ACNiE;AAG1D,SAASgV,yBAAyBpe,OAAkC;IACvE,IAAI,CAACA,SAAS,OAAOj4B,4EAAqBA,CAAC40C,UAAU;IACrD,MAAMv8D,SAAS4/C,QAAQ5/C,MAAM;IAC7B,IAAI4/C,QAAQ5/C,MAAM,KAAK,SAAS;QAAC;QAAK;QAAM;KAAM,CAACzY,QAAQ,CAACyY,SAAS,OAAO2nB,4EAAqBA,CAAC0B,MAAM;IACxG,IAAIu2B,QAAQ5/C,MAAM,KAAK,QAAQ;QAAC;QAAK;KAAM,CAACzY,QAAQ,CAACyY,SAAS,OAAO2nB,4EAAqBA,CAAC2B,OAAO;IAClG,OAAO3B,4EAAqBA,CAAC40C,UAAU;AAC3C;;;;;;;;;;;;ACTO,SAASkiC,OAAOn5G,IAAa;IAChC,IAAI,CAACA,MAAM,OAAO;IAClBA,OAAOA,KAAKkC,WAAW;IACvB,OAAOlC,KAAK43B,QAAQ,CAAC,YAAY53B,SAAS,kBAAkBA,SAAS;AACzE;;;;;;;;;;;;ACJA,MAAMuiH,oBAAoB;AAC1B,MAAMC,mBAAmB;AAElB,SAASC,cAAcziH,IAAY;IACtC,OAAOuiH,kBAAkBtpF,IAAI,CAACj5B,SAASwiH,iBAAiBvpF,IAAI,CAACj5B;AACjE;;;;;;;;;;;;ACLA,MAAM0iH,oBAAoB;AAC1B,MAAMC,mBAAmB;AACzB,iDAAiD;AACjD,MAAMC,oBAAoB;AAEnB,SAASC,cAAc7iH,IAAY;IACtC,OAAO0iH,kBAAkBzpF,IAAI,CAACj5B,SAAS2iH,iBAAiB1pF,IAAI,CAACj5B,SAAS4iH,kBAAkB3pF,IAAI,CAACj5B;AACjG;;;;;;;;;;;;ACPO,SAASguD,eAAehuD,IAAY;IACvC,kDAAkD;IAClD,OAAOA,KAAKiC,QAAQ,CAAC,qBAAqBjC,KAAKiC,QAAQ,CAAC,4BAA4BjC,KAAK43B,QAAQ,CAAC;AACtG;;;;;;;;;;;;ACHA,MAAMkrF,iBAAiB;AACvB,MAAMC,gBAAgB;AACtB,MAAMC,kBAAkB;AACxB,8CAA8C;AAC9C,MAAMC,iBAAiB;AAEhB,SAASC,WAAWljH,IAAY;IACnC,OACI8iH,eAAe7pF,IAAI,CAACj5B,SAAS+iH,cAAc9pF,IAAI,CAACj5B,SAASgjH,gBAAgB/pF,IAAI,CAACj5B,SAASijH,eAAehqF,IAAI,CAACj5B;AAEnH;;;;;;;;;;;;;ACTuD;AAEhD,SAASgqB,eAAelH,OAAiB;IAC5C,uBAAuB;IACvB,OAAO0wF,0EAAWA,CAAC96F,IAAI,CAAC,CAAC1b,IAAMA,MAAM8lB;AACzC;;;;;;;;;;;;;;ACN+B;AAE/B,MAAMsgG,kBAAkB;AACxB,MAAMC,YAAY;AAClB,MAAMC,mBAAmB;AAElB,SAASr5F,cAAchY,MAAe;IACzC,IAAI,CAACA,QAAQ,OAAO;IACpBA,SAASA,OAAO/P,WAAW;IAC3B,IAAI,CAACkhH,gBAAgBnqF,IAAI,CAAChnB,SAAS,OAAO;IAC1C,MAAMsxG,QAAQJ,0EAAgB,CAAClxG;IAC/B,MAAMpT,SAASwkH,UAAUpqF,IAAI,CAACsqF;IAC9B,IAAI,CAAC1kH,QAAQ,OAAO4kH,eAAexxG;IACnC,OAAOpT;AACX;AAEO,SAAS4kH,eAAexxG,MAAc;IACzC,IAAI,CAACA,QAAQ,OAAO;IACpBA,SAASA,OAAO/P,WAAW;IAC3B,IAAI,CAAC+P,OAAO2lB,QAAQ,CAAC,SAAS,OAAO;IACrC,MAAM2rF,QAAQJ,0EAAgB,CAAClxG;IAC/B,MAAMpT,SAASykH,iBAAiBrqF,IAAI,CAACsqF;IACrC,OAAO1kH;AACX;;;;;;;;;;;;;ACvBoD;AAG7C,SAASm1F,aAAalxE,OAAoC;IAC7D,IAAI,OAAOA,YAAY,UAAU,OAAOkxE,aAAavoF,OAAOqd,QAAQ,CAAChG,SAAS;IAC9E,IAAI,OAAOA,YAAY,YAAYkH,2EAAcA,CAAClH,UAAU,OAAOA;IACnE;AACJ;;;;;;;;;;;;;;;;;;ACPoC;AACgB;AACR;AACM;AACA;AACkC;AAEpF,MAAM4gG,sBAAsB,IAAIvqG,IAAI,mEAA8C,EAAE1D,IAAI;AACxF,MAAMkuG,qBAAqB,IAAIxqG,IAAI,oEAA6C,EAAE1D,IAAI;AACtF,MAAMmuG,kBAAkB,IAAIzqG,IAAI,oEAA0C,EAAE1D,IAAI;AAChF,MAAMouG,qBAAqB,IAAI1qG,IAAI,oEAA6C,EAAE1D,IAAI;AACtF,MAAMquG,aAAa,IAAI3qG,IAAI,oEAAqC,EAAE1D,IAAI;AACtE,MAAMsuG,YAAY,IAAI5qG,IAAI,oEAAoC,EAAE1D,IAAI;AAE7D,SAASk+B,gBAAgB5iB,KAAc,EAAE/wB,IAAa,EAAEwuC,cAAuB,EAAEjsB,OAAgB;IACpG,IAAIwO,OAAO,OAAOA;IAClB,IAAI/wB,MAAM;QACN,IAAIguD,2EAAcA,CAAChuD,OAAO,OAAO0jH;QACjC,IAAIb,yEAAaA,CAAC7iH,OAAO,OAAO2jH;QAChC,IAAIT,mEAAUA,CAACljH,OAAO,OAAO4jH;QAC7B,uCAAuC;QACvC,IAAInB,yEAAaA,CAACziH,OAAO,OAAO6jH;QAChC,IAAI1K,2DAAMA,CAACn5G,OAAO,OAAO8jH;IAC7B;IACA,IAAIt1E,kBAAkBi0E,yEAAaA,CAACj0E,iBAAiB;QACjD,OAAOq1E;IACX;IACA,IAAIthG,WAAYkxB,CAAAA,2EAAoBA,CAAClxB,YAAYs/F,sFAA+BA,CAACt/F,QAAO,GAAI,OAAOwhG;IACnG;AACJ;;;;;;;;;;;;;;;;;;;;;;AC7B6C;AACqD;AACxC;AACD;AACF;AAEhD,SAASv2F,oBAAoBpF,MAAc;IAC9C,OAAOqnB,4EAAiBA,CAAC3nB,MAAM,CAAC,CAAC9qB,IAAMA,EAAEgE,OAAO,KAAK,aAAahE,EAAEylC,cAAc,EAC7E1jC,GAAG,CAAC,CAAC/B,IAAMA,EAAEylC,cAAc,CAACra,MAAM,CAAClmB,WAAW,IAC9CD,QAAQ,CAACmmB,OAAOlmB,WAAW;AACpC;AAEO,SAASmnC,iBACZvmB,OAAgB,EAChBP,OAAe,EACfviB,OAAO,eAAe,EACtBooB,SAAS,EAAE,EACX0a,WAAW,CAAC,EACZe,OAAgB;IAEhB,OAAO8uC,wFAAmBA,CACtB7vD,SACAkf,iEAAUA,CAACa,KAAK,EAChBtgB,SACAviB,MACAooB,QACA0a,UACAe;AAER;AAEO,MAAMogF,oBAAoB1E,sGAAiCA,CAC9DyE,sEAAcA,CAAChiG,8DAAOA,GACtBggB,iEAAUA,CAACa,KAAK,EAChB6iB,mEAAKA,EACR;AAEM,SAASysB,wBAAwB9hB,UAAuB;IAC3D,OAAOA,eAAeruB,iEAAUA,CAACY,MAAM;AAC3C;AAEO,SAASwvC,0BAA0B/hB,UAAuB;IAC7D,OAAOA,eAAeruB,iEAAUA,CAACY,MAAM,IAAIytB,eAAeruB,iEAAUA,CAACa,KAAK;AAC9E;AAEO,SAASwvC,6BAA6BhiB,UAAuB;IAChE,OAAOA,eAAeruB,iEAAUA,CAACsB,MAAM,IAAI+sB,eAAeruB,iEAAUA,CAACuB,OAAO;AAChF;;;;;;;;;;;;;;;;;;;;;AC/CwC;AACa;AACnB;AACkB;AACF;AACW;AAE7D,MAAM2gF,eAAeniF,8DAAOA,CAAC,CAACtiC;IAC1B,qDAAqD;IACrD,IAAI,OAAOA,UAAU,YAAYA,MAAM4C,MAAM,GAAG,KAAK5C,MAAMvB,UAAU,CAAC,QAClE,OAAO48D,iDAAKA,CAAC,IAAI3+C,4DAASA,CAAC1c,OAAO2iC,OAAO;IAC7C,OAAO04B,iDAAKA,CAACr7D;AACjB;AAEO,MAAM8zE;IACWpvC;IAApBlkC,YAAoBkkC,YAA2B;2BAA3BA;IAA4B;IAEhD,IAAIvnC,OAAO;QACP,OAAO,IAAI,CAACunC,WAAW,EAAEvnC,QAAQ;IACrC;IAEA,IAAImgB,KAAK;QACL,MAAMA,KAAK,IAAI,CAAConB,WAAW,EAAEpnB;QAC7B,IAAI,CAACA,IAAI,OAAOklB,sEAAYA;QAC5B,IAAI8yB,yEAAUA,CAACh4C,KAAK,OAAOklB,sEAAYA;QACvC,OAAOllB;IACX;IAEA,IAAItd,QAAQ;QACR,OAAO,IAAI,CAAC0kC,WAAW,EAAE1kC,SAAS;IACtC;IAEA,IAAI2K,OAAO;QACP,MAAMA,OAAO,IAAI,CAAC+5B,WAAW,EAAE/5B;QAC/B,IAAI2qD,yEAAUA,CAAC3qD,OAAO;QACtB,IAAI,CAACA,KAAKlM,UAAU,CAAC,OAAO,OAAO,CAAC,EAAE,EAAEkM,KAAK,CAAC;QAC9C,OAAOA;IACX;IAEA,IAAI+5G,oBAAoB;QACpB,OAAO,IAAI,CAAC/5G,IAAI,EAAE/L,MAAM,GAAG;IAC/B;IAEA,IAAI+lH,qBAAqB;QACrB,OAAO,IAAI,CAACh6G,IAAI,EAAE/L,MAAM;IAC5B;IAEAi0C,KAAKJ,SAAuB,EAAe;QACvC,MAAM,EAAEpvB,OAAO,EAAElmB,IAAI,EAAEmgB,EAAE,EAAEtd,KAAK,EAAEqgE,GAAG,EAAEC,QAAQ,EAAEzH,oBAAoB,EAAEF,YAAY,EAAEhuD,IAAI,EAAE+rD,KAAK,EAAE,GAAG;YACjG,GAAG,IAAI,CAAChyB,WAAW;YACnB,GAAG+oC,8DAAMA,CAACh7B,WAAWsF,0DAAQA,CAAC;QAClC;QACA,OAAO01B,8DAAMA,CACT;YACItwE;YACAmgB;YACA3S;YACA3K,OAAOA,QAAQykH,aAAazkH,SAASiE;YACrCof,SAASA,WAAWA,YAAYd,8DAAOA,CAACgK,KAAK,GAAGk4F,aAAaphG,WAAWpf;YACxEo8D,KAAKA,MAAMokD,aAAapkD,OAAOp8D;YAC/Bq8D,UAAUA,WAAWmkD,aAAankD,YAAYr8D;YAC9C40D,sBAAsBA,uBAAuB4rD,aAAa5rD,wBAAwB50D;YAClF00D,cAAcA,eAAe8rD,aAAa9rD,gBAAgB10D;YAC1DyyD;QACJ,GACA3e,0DAAQA;IAEhB;AACJ;;;;;;;;;;;;;;;;;ACpE4C;AACV;AAC6B;AAcxD,MAAMvG;IACWloB;IAApB9oB,YAAoB8oB,SAAa;wBAAbA;IAAc;IAElC;;;;;KAKC,GACDupB,KAAK+xE,mBAA2C,EAAEnyE,SAAgC,EAAe;QAC7F,MAAM/N,cAAc//B,sEAAOA,CAACigH,qBAAqB,IAAI,CAACt7F,QAAQ;QAE9D,OAAOmkD,8DAAMA,CACT;YACItwE,MAAMs1C,WAAWt1C,QAAQ,IAAI,CAACmsB,QAAQ,EAAEu7F,kBAAkB,IAAI,CAACv7F,QAAQ,EAAE9gB,QAAQrL,QAAQ;YACzFmgB,IAAI,IAAI,CAACgM,QAAQ,EAAE9gB,QAAQsa;YAC3BnY,MAAM+5B,aAAa4O;YACnBtzC,OAAOyyC,WAAWzyC,QAAQq7D,iDAAKA,CAAC5oB,UAAUzyC,KAAK,IAAIiE;YACnDo8D,KAAK5tB,WAAW4tB,MAAMhF,iDAAKA,CAAC5oB,UAAU4tB,GAAG,IAAIp8D;YAC7Cq8D,UAAU7tB,WAAW6tB,WAAWjF,iDAAKA,CAAC5oB,UAAU6tB,QAAQ,IAAIr8D;YAC5D40D,sBAAsBpmB,WAAWomB,uBAC3BwC,iDAAKA,CAAC5oB,UAAUomB,oBAAoB,IACpC50D;YACN00D,cAAclmB,WAAWkmB,eAAe0C,iDAAKA,CAAC5oB,UAAUkmB,YAAY,IAAI10D;YACxEyyD,OAAOjkB,WAAWikB,QAAQ2E,iDAAKA,CAAC5oB,UAAUikB,KAAK,IAAIzyD;YACnDof,SAASovB,WAAWpvB,UAAUg4C,iDAAKA,CAAC5oB,UAAUpvB,OAAO,IAAIpf;QAC7D,GACA8zC,0DAAQA;IAEhB;IAEA;;;;;KAKC,GACD,MAAM+sE,QAAQF,mBAA2C,EAAEnyE,SAAgC,EAAE;QACzF,MAAM/N,cAAc//B,sEAAOA,CAACigH,qBAAqB,IAAI,CAACt7F,QAAQ;QAC9D,MAAMy7F,qBAAqB,IAAI,CAAClyE,IAAI,CAAC+xE,qBAAqBnyE;QAE1D,eAAe;QACf,IAAI,CAACsyE,mBAAmB1kD,GAAG,EAAE;YACzB,MAAMA,MAAM,MAAM37B,aAAa86B,YAAY;gBACvCriE,MAAM4nH,mBAAmB5nH,IAAI;gBAC7BmgB,IAAIynG,mBAAmBznG,EAAE;gBACzB3S,MAAMo6G,mBAAmBp6G,IAAI;gBAC7B3K,OAAO+kH,mBAAmB/kH,KAAK;YACnC;YAEA,IAAI,CAACqgE,KAAK,MAAM,IAAInhE,MAAM;YAE1B6lH,mBAAmB1kD,GAAG,GAAGhF,iDAAKA,CAACgF;QACnC;QAEA,OAAO0kD;IACX;IAEA,MAAM3uE,KAAKwuE,mBAA2C,EAAEnyE,SAAgC,EAAE;QACtF,MAAM/N,cAAc//B,sEAAOA,CAACigH,qBAAqB,IAAI,CAACt7F,QAAQ;QAC9D,MAAMy7F,qBAAqB,MAAM,IAAI,CAACD,OAAO,CAACF,qBAAqBnyE;QACnE,MAAMooB,UAAU,MAAMn2B,aAAa0R,KAAK2uE;QACxC,OAAOlqD,SAASzQ,mBAAmB;IACvC;AACJ;;;;;;;;;;;;;;AChFiC;IAIjC,qDAAqD;AAC9C;UAAK46D,mBAAmB;IAAnBA,oBAAAA,oBACRC,qBAAAA,UAAAA;IADQD,oBAAAA,oBAERE,sBAAmB,SAAnBA;IAFQF,oBAAAA,oBAGRG,oBAAAA,UAAAA;IAHQH,oBAAAA,oBAIRI,oBAAAA,UAAAA;IAJQJ,oBAAAA,oBAKRK,8BAAAA,UAAAA;IALQL,oBAAAA,oBAMRM,4BAAAA,UAAAA;GANQN,wBAAAA;AASZ;;CAEC,GACM,MAAMj0B;IAEGw0B;IACArhH;IACAoU;IAHZ9X,YACY+kH,cACArhH,UACAoU,SACV;4BAHUitG;wBACArhH;wBACAoU;IACT;IAEH,IAAYktG,gBAAuB;QAC/B;YACI,MAAMC,WAAW,IAAI,CAACF,YAAY;YAClC,IAAIE,oBAAoBvmH,SAASumH,SAASv2G,OAAO,EAAE,OAAOu2G;YAC1D,IAAIA,YAAY,OAAO,SAAoBv2G,OAAO,KAAK,UACnD,OAAO,IAAIhQ,MAAM,SAAoBgQ,OAAO;YAChD,IAAIu2G,YAAY,OAAOA,aAAa,UAAU,OAAO,IAAIvmH,MAAMumH;QACnE;QAEA;YACI,MAAMC,gBAAgB,IAAI,CAACxhH,QAAQ,EAAEoE;YACrC,IAAIo9G,yBAAyBxmH,OAAO,OAAOwmH;YAC3C,IAAIA,iBAAiB,OAAO,cAAyBx2G,OAAO,KAAK,UAC7D,OAAO,IAAIhQ,MAAM,cAAyBgQ,OAAO;YACrD,IAAIw2G,iBAAiB,OAAOA,kBAAkB,UAAU,OAAO,IAAIxmH,MAAMwmH;QAC7E;QAEA,IAAI,IAAI,CAACptG,QAAQ,EAAE,OAAO,IAAIpZ,MAAM,IAAI,CAACoZ,QAAQ;QACjD,OAAO,IAAIpZ,MAAM;IACrB;IAEA;;KAEC,GACD,IAAI4zF,WAAW;QACX,OAAO,CAACzwD,8DAAKA,CAAC,IAAI,CAACkjF,YAAY,KAAK,CAACljF,8DAAKA,CAAC,IAAI,CAACn+B,QAAQ,EAAEoE;IAC9D;IAEA;;KAEC,GACD,IAAIA,QAAQ;QACR,MAAMq9G,2BAA2B,CAAC;YAC9B,MAAM,EAAE7+E,IAAI,EAAE53B,OAAO,EAAE,GAAG,IAAI,CAACs2G,aAAa;YAK5C,IAAIt2G,QAAQ1M,QAAQ,CAAC,CAAC,OAAO,EAAEwiH,oBAAoBI,cAAc,CAAC,CAAC,GAC/D,OAAO;YACX,IAAIl2G,QAAQ1M,QAAQ,CAAC,mCAAmC,OAAO;YAC/D,IAAI0M,QAAQ1M,QAAQ,CAAC,uCAAuC,OAAO;YACnE,IAAI0M,QAAQ1M,QAAQ,CAAC,4BAA4B,OAAO;YACxD,IACI0M,QAAQ1M,QAAQ,CAAC,+DACjB0M,QAAQqtB,KAAK,CAAC,6BAChB;gBACE,OAAO;YACX;YACA,IACI,OAAOuK,SAAS,YACfA,CAAAA,SAASk+E,oBAAoBI,cAAc,IACvCt+E,QAAQk+E,oBAAoBK,wBAAwB,IACjDv+E,QAAQk+E,oBAAoBM,sBAAsB,GAC5D;gBACE,OAAO;YACX;YACA,OAAOrhH;QACX;QAEA,IAAI0hH,0BAA0B;YAC1B,MAAMr9G,QAAQ,IAAIpJ,MAAMymH;YACxBr9G,MAAM4rF,YAAY,GAAG;YACrB,OAAO5rF;QACX;QACA,OAAO,IAAIpJ,MAAM,IAAI,CAACsmH,aAAa,CAACt2G,OAAO;IAC/C;IAEA,OAAO02G,UAAUt9G,KAAc,EAAEgQ,QAAiB,EAAE;QAChD,OAAO,IAAIy4E,YAAYzoF,OAAO,MAAMgQ;IACxC;IAEA,OAAOnb,KAAKmL,KAAc,EAAEpE,QAAiC,EAAEoU,QAAiB,EAAE;QAC9E,OAAO,IAAIy4E,YAAYzoF,OAAOpE,UAAUoU;IAC5C;AACJ;;;;;;;;;;;;;AClG6D;AAEtD,MAAM+wC;IACT,OAAOlsD,KAAKkmB,OAAgB,EAAE;QAC1B,MAAM,EAAEyiG,gBAAgB,EAAE,EAAE,GAAGD,oFAAqBA,CAACxiG;QACrD,OAAOyiG;IACX;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRsD;AAE/C,SAASC,kBAAkBn6G,IAAwB;IACtD,OAAO;QACHioE,gCAAkBA,CAAC+c,QAAQ;QAC3B/c,gCAAkBA,CAACqC,aAAa;QAChCrC,gCAAkBA,CAACsC,mBAAmB;QACtCtC,gCAAkBA,CAACmyC,WAAW;QAC9BnyC,gCAAkBA,CAACoyC,6BAA6B;QAChDpyC,gCAAkBA,CAACoD,oBAAoB;QACvCpD,gCAAkBA,CAAC2C,oBAAoB;QACvC3C,gCAAkBA,CAACsE,wBAAwB;KAC9C,CAAC31E,QAAQ,CAACoJ;AACf;;;ACbsD;AAC0B;AAGE;AACrB;AACE;AACN;AACgB;AACA;AAO/C;AACuB;AACwB;AACN;AAI5D,MAAM2iF;IAEG35C;IACApsC;IAFZhI,YACYo0C,SACApsC,QACV;uBAFUosC;uBACApsC;IACT;IAEH,IAAIgsF,MAAM;QACN,MAAM,EAAEnzF,EAAE,EAAE,GAAG,IAAI,CAACuzC,OAAO;QAC3B,OAAO,OAAOvzC,OAAO,WAAW2K,OAAOqd,QAAQ,CAAChoB,IAAI,MAAMA;IAC9D;IAEA,IAAIyK,SAAS;QACT,OAAO,IAAI,CAAC8oC,OAAO,CAAC9oC,MAAM;IAC9B;IAEA,IAAIa,SAAS;QACT,OAAO,IAAI,CAACioC,OAAO,CAACjoC,MAAM,IAAI,EAAE;IACpC;IAEA,IAAIxP,OAA2B;QAC3B,MAAM,EAAE2O,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAAC+c,QAAQ;gBAC5B,OAAOxmE,uBAAKA,CAACzd;YACjB,KAAKknE,gCAAkBA,CAACqC,aAAa;gBACjC,OAAOvpE,QAAQ,CAAC,EAAE;YACtB,KAAKknE,gCAAkBA,CAACsC,mBAAmB;gBACvC,OAAO/rD,uBAAKA,CAACzd;YACjB;gBACI,MAAMuhF,SAAS,IAAI,CAACA,MAAM;gBAC1B,OAAOA,QAAQ/wF;QACvB;IACJ;IAEA,IAAIotC,QAAQ;QACR,MAAM,EAAEz+B,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAACqD,SAAS;gBAC7B,MAAM,CAACnc,MAAM,GAAGpuD;gBAChB,MAAM,EAAE83B,YAAY,EAAE,GAAGp8B,KAAK1F,KAAK,CAACo4D,MAAMnmB,OAAO;gBACjD,OAAOnQ;YACX,KAAKovC,gCAAkBA,CAACsD,WAAW;gBAC/B,MAAM,CAAC5sC,MAAM,GAAG59B;gBAChB,OAAO49B;YACX;gBACI;QACR;IACJ;IAEA,IAAIzoC,aAAa;QACb,MAAM,EAAEgK,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAACsD,WAAW;gBAC/B,MAAM,CAACtnE,GAAG/N,WAAW,GAAG6K;gBACxB,OAAO7K;YACX;gBACI;QACR;IACJ;IAEA,IAAIuhB,UAAU;QACV,OAAO,IAAI,CAAC6qE,MAAM,CAAC7qE,OAAO,IAAI,IAAI,CAAC7a,OAAO,EAAE6a;IAChD;IAEA,IAAIsrD,kBAAkB;QAClB,MAAM,EAAE7iE,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAAC+iB,yBAAyB;gBAC7C,MAAM,CAACrzC,WAAW,GAAG52C;gBACrB,OAAO42C;YACX;gBACI,OAAO;QACf;IACJ;IAEQ+iE,eAAe;QACnB,MAAM,EAAEx6G,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAACiK,QAAQ;YAChC,KAAKjK,gCAAkBA,CAAC4J,gBAAgB;YACxC,KAAK5J,gCAAkBA,CAAC2C,oBAAoB;YAC5C,KAAK3C,gCAAkBA,CAACoD,oBAAoB;gBACxC,OAAO,MAAyB,CAAC,EAAE;YACvC,KAAKpD,gCAAkBA,CAACsE,wBAAwB;gBAC5C,OAAO,MAAiC,CAAC,EAAE;YAC/C,KAAKtE,gCAAkBA,CAACsD,WAAW;gBAAE;oBACjC,MAAM9zD,UAAU,IAAI,CAAC7a,OAAO,EAAE6a;oBAC9B,IAAI,CAACkH,wCAAcA,CAAClH,UAAU,MAAM,IAAInkB,MAAM;oBAE9C,MAAM,CAACqrC,MAAM,GAAG59B;oBAEhB,mEAAmE;oBAEnE,OAAO;wBACHxP,MAAMotC;wBACNjtB,IAAI8oG,yCAAmBA,CAAC/iG,SAAS;wBACjCA;wBACA1Y,MAAMuc,wBAAQA,CAACs2C,kBAAkB,CAC7B2oD,cAAmBA,CAACrtG,IAAI,CAAC,CAACvb,IAAMA,EAAEgD,IAAI,KAAK,WAC3C;4BAAC;4BAAM86D,aAAKA,CAAC;yBAAG;oBAExB;gBACJ;YACA,KAAKwY,gCAAkBA,CAACqD,SAAS;gBAAE;oBAC/B,MAAM7zD,UAAU,IAAI,CAAC7a,OAAO,EAAE6a;oBAC9B,IAAI,CAACkH,wCAAcA,CAAClH,UAAU,MAAM,IAAInkB,MAAM;oBAE9C,MAAM,CAAC67D,MAAM,GAAGpuD;oBAChB,MAAM,EAAE83B,YAAY,EAAEiyB,QAAQ,CAAC,EAAE,GAAGruD,KAAK1F,KAAK,CAACo4D,MAAMnmB,OAAO;oBAE5D,mEAAmE;oBACnE,OAAO;wBACHz3C,MAAMsnC;wBACN,kEAAkE;wBAClEnnB,IAAIklB,8BAAYA;wBAChBnf;wBACA1Y,MAAMuc,wBAAQA,CAACs2C,kBAAkB,CAAC2oD,cAAmBA,CAACrtG,IAAI,CAAC,CAACvb,IAAMA,EAAEgD,IAAI,KAAK,SAAqB;4BAC9FkkC;4BACA42B,aAAKA,CAAC3E;yBACT;oBACL;gBACJ;YACA;gBACI;QACR;IACJ;IAEA,IAAIw3B,SAAS;QACT,MAAM5I,MAAM,IAAI,CAACghC,YAAY;QAE7B,OAAOnoD,yBAAMA,CACT;YACI,GAAGmnB,GAAG;YACN5uB,OAAO6vD,eAAejhC,KAAK5uB;YAC3Bv5D,MAAMmoF,KAAKnoF,QAAQ,IAAI,CAACqL,OAAO,EAAE8d;YACjCjD,SAASkxE,oCAAYA,CAACjP,KAAKjiE,YAAY,IAAI,CAAC7a,OAAO,EAAE6a;QACzD,GACA66C,0BAAWA;IAEnB;IAEA,IAAIl3B,SAAS;QACT,MAAM,EAAEl7B,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAACS,eAAe;gBACnC,MAAM,CAACttC,OAAO,GAAGr6B;gBACjB,OAAOq6B;YACX;gBACI;QACR;IACJ;IAEA,IAAI+wB,gBAAgB;QAChB,MAAM,EAAEjsD,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAACkD,uBAAuB;YAC/C,KAAKlD,gCAAkBA,CAACmD,uBAAuB;gBAC3C,MAAM,CAACnnE,GAAGkoD,cAAc,GAAGprD;gBAC3B,OAAOorD;YACX;gBACI;QACR;IACJ;IAEA,IAAIgD,QAAQ;QACR,MAAM,EAAEjvD,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAACqD,SAAS;gBAC7B,OAAO,MAAmB,CAAC,EAAE;YACjC;gBACI;QACR;IACJ;IAEA,IAAIoe,kBAAkB;QAClB,MAAM,EAAExpF,MAAM,EAAEa,MAAM,EAAE,GAAG,IAAI,CAACioC,OAAO;QACvC,OAAQ9oC;YACJ,KAAK+nE,gCAAkBA,CAAC+c,QAAQ;gBAC5B,OAAO,MAA4B,CAAC,EAAE;YAC1C,KAAK/c,gCAAkBA,CAACqC,aAAa;gBACjC,OAAO,MAA4B,CAAC,EAAE;YAC1C,KAAKrC,gCAAkBA,CAACsC,mBAAmB;gBACvC,OAAO,MAA4B,CAAC,EAAE;YAC1C;gBACI;QACR;IACJ;IAEA,IAAIub,iBAAiB;QACjB,IAAI,CAAC,IAAI,CAACxD,MAAM,EAAE;QAElB,OAAO/vB,yBAAMA,CACT;YACI,GAAG,IAAI,CAAC+vB,MAAM;YACd/wF,MAAM,IAAI,CAAC+wF,MAAM,CAAC/wF,IAAI,GAAGktB,2CAAqBA,CAAC,IAAI,CAAC6jE,MAAM,CAAC/wF,IAAI,IAAI;YACnE6C,OAAOwmH,qBAAqB,IAAI,CAACt4B,MAAM,CAACluF,KAAK;YAC7CqgE,KAAKmmD,qBAAqB,IAAI,CAACt4B,MAAM,CAAC7tB,GAAG;YACzCC,UAAUkmD,qBAAqB,IAAI,CAACt4B,MAAM,CAAC5tB,QAAQ;YACnD3H,cAAc6tD,qBAAqB,IAAI,CAACt4B,MAAM,CAACv1B,YAAY;YAC3DE,sBAAsB2tD,qBAAqB,IAAI,CAACt4B,MAAM,CAACr1B,oBAAoB;YAC3E,+DAA+D;YAC/Dx1C,SAASkjG,eAAe,IAAI,CAACr4B,MAAM,CAAC7qE,OAAO;YAC3CqzC,OAAO8vD,qBAAqB,IAAI,CAACt4B,MAAM,CAACx3B,KAAK;QACjD,GACAwH,0BAAWA;IAEnB;IAEA,IAAIuxB,QAAQ;QACR,OAAOs2B,iBAAiBA,CAAC,IAAI,CAACnxE,OAAO,CAAC9oC,MAAM;IAChD;IAEA,IAAI6iF,WAAW;QACX,OAAO03B,oDAAoBA,CAAC,IAAI,CAACzxE,OAAO,CAAC9oC,MAAM;IACnD;IAEA+mC,OAAO;QACH,OAAO,IAAI,CAAC+B,OAAO;IACvB;IAEA,OAAOz3C,KAAQkE,EAAU,EAAEyK,MAA0B,EAAEa,SAAc,EAAE,EAAEnE,OAAiB,EAAE;QACxF,OAAO,IAAI+lF,cACP8F,oDAAoBA,CAAChzF,IAAI;YACrByK;YACAa;QACJ,IACAnE;IAER;IAEA,OAAOg1F,WAAc1xF,MAA0B,EAAEa,SAAc,EAAE,EAAEnE,OAAiB,EAAE;QAClF,OAAO+lF,cAAcpxF,IAAI,CAAC,GAAG2O,QAAQa,QAAQnE;IACjD;IAEA,OAAOkmF,YAAY95C,OAAuB,EAAEpsC,OAAiB,EAAE;QAC3D,OAAO,IAAI+lF,cAAc35C,SAASpsC;IACtC;AACJ;AAEA,SAASg+G,qBAAqB7nH,GAAgC;IAC1D,OAAO,OAAOA,QAAQ,cAAcqmB,yBAAiBA,CAACrmB,OAAO,SAASsF;AAC1E;AAEA,SAASsiH,eAAe5nH,GAAgC;IACpD,OAAO,OAAOA,QAAQ,cAAeunH,mBAAWA,CAACvnH,OAAkBsF;AACvE;;;;;;;;;;;;;;AC5Q+D;AACJ;AAGpD,MAAMy5D;IACT,OAAOvgE,KAAKkmB,OAAgB,EAAE;QAC1B,MAAM,EAAEsjG,QAAQ,EAAEC,WAAW,EAAE,GAAGF,kFAAeA,CAACrjG;QAElD,IAAI,CAACsjG,YAAY,CAACC,aAAa,MAAM,IAAI1nH,MAAM,CAAC,2BAA2B,EAAEmkB,QAAQ,CAAC,CAAC;QACvF,OAAOsjG,QAAQ,CAACC,WAAW,CAACH,uFAAaA,KAAKE,SAAS/jH,MAAM,CAAC,CAAC;IACnE;IAEA,OAAOk0F,aAAazzE,OAAgB,EAAE;QAClC,MAAM,EAAEwjG,iBAAiB,EAAE,GAAGH,kFAAeA,CAACrjG;QAC9C,IAAI,CAACwjG,mBAAmBjkH,QAAQ,MAAM,IAAI1D,MAAM,CAAC,2BAA2B,EAAEmkB,QAAQ,CAAC,CAAC;QACxF,OAAOwjG,iBAAiB,CAAC,EAAE;IAC/B;AACJ;;;;;;;;;;;;;ACjB+C;AAGxC,MAAMv2B;IAEGxuF;IACAohD;IAFZ1iD,YACYsB,YACAohD,KACV;0BAFUphD;oBACAohD;IACT;IAEHgd,YAAYhxD,OAAe,EAAmB;QAC1C,OAAO,IAAI,CAACg0C,IAAI,CAACrlC,mEAAQA,CAACC,OAAO,EAAE5O,SAAS,IAAI,CAACpN,UAAU;IAC/D;IAEA+uF,cAAclmF,IAAY,EAAmB;QACzC,OAAO,IAAI,CAACu4C,IAAI,CAACrlC,mEAAQA,CAACE,SAAS,EAAEpT,MAAM,IAAI,CAAC7I,UAAU;IAC9D;IAEAi+D,gBAAgBr7B,WAAwB,EAAmB;QACvD,OAAO,IAAI,CAACwe,IAAI,CAACrlC,mEAAQA,CAACG,WAAW,EAAE0mB,aAAa,IAAI,CAAC5iC,UAAU;IACvE;AACJ;;;;;;;;;;;;;;ACpB4C;AAG5C;;CAEC,GACM,MAAM0lB;IACFmC,MAAW,KAAK;IAEvBnpB,YAAYqwC,QAAmB,CAAE;QAC7B,MAAMk2E,OAAOD,iDAAOA;QACpB,IAAI,CAACn9F,GAAG,GAAGknB,WAAW,IAAIk2E,KAAKl2E,YAAY,IAAIk2E;IACnD;IAEOC,YAAYn2E,QAAkB,EAAE;QACnC,IAAI,CAAClnB,GAAG,CAACq9F,WAAW,CAACn2E;IACzB;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjB6C;AACY;AACE;AACA;AACyC;AAC/D;AAE9B,MAAMkjE,cAAcwQ,8BAAcA,CAAChiG,qBAAOA,EAAEjjB,GAAG,CAAC,CAAC/B,IAAMA,EAAEyC,KAAK,EAAC;AAE/D,MAAMmnH,mBAAmBtK,iCAAYA,CAACt6F,qBAAOA,EAAE0kG,oBAAIA,EAAC;AACpD,MAAMG,kBAAkBpK,8BAASA,CAACz6F,qBAAOA,EAAE0kG,oBAAIA,EAAC;AAChD,MAAMI,mBAAmBhK,qCAAgBA,CAAC8J,kBAAiB;AAC3D,MAAMG,kBAAkB9J,kCAAaA,CAAC2J,kBAAiB;AAEvD,MAAMI,oBAAoB1K,iCAAYA,CAACt6F,qBAAOA,EAAE2kG,qBAAKA,EAAC;AACtD,MAAMM,mBAAmBxK,8BAASA,CAACz6F,qBAAOA,EAAE2kG,qBAAKA,EAAC;AAClD,MAAMO,oBAAoBpK,qCAAgBA,CAACkK,mBAAkB;AAC7D,MAAMG,mBAAmBlK,kCAAaA,CAAC+J,mBAAkB;AAEzD,MAAMzlB,oBAAoB+a,iCAAYA,CAACt6F,qBAAOA,EAAE0jC,qBAAKA,EAAC;AACtD,MAAMn4B,mBAAmBkvF,8BAASA,CAACz6F,qBAAOA,EAAE0jC,qBAAKA,EAAC;AAClD,MAAM0hE,oBAAoBtK,qCAAgBA,CAACvb,mBAAkB;AAC7D,MAAM8lB,mBAAmBpK,kCAAaA,CAAC1b,mBAAkB;;;;;;;;;;;;;;;;;;;ACtB8B;AAM5D;AAC0C;AAChC;AAE5C,MAAMwe,YAAYvhG,0EAAeA,CAACE,WAAW;AAEtC,MAAM+wB,oBAAsF;IAC/F;QACIyiD,IAAI,CAAC,EAAElwE,wDAAOA,CAACkC,OAAO,CAAC,KAAK,CAAC;QAC7B7Y,MAAMy0G,4DAAWA,CAACjhG,IAAI;QACtBiE,SAASd,wDAAOA,CAACkC,OAAO;QACxBooD,sBAAsB;QACtBC,kBAAkB;QAClBC,qBAAqB;QACrBxsE,MAAM;QACN4sE,OAAO;QACPR,UAAU;QACVC,WAAW;QACXrrE,SAAS;QACTyhC,gBAAgBkwC,wFAAmBA,CAC/B3wD,wDAAOA,CAACkC,OAAO,EACf8d,2DAAUA,CAACnT,QAAQ,EACnB,sBACA,QACA,QACA,GACA;QAEJi+C,aAAa;YACT5zD,KAAK;QACT;QACAyrE,QAAQ;QACRD,cAAc;IAClB;IACA;QACIwN,IAAI,CAAC,EAAElwE,wDAAOA,CAACslG,OAAO,CAAC,KAAK,CAAC;QAC7Bj8G,MAAMy0G,4DAAWA,CAACjhG,IAAI;QACtBiE,SAASd,wDAAOA,CAACslG,OAAO;QACxBh7C,sBAAsB;QACtBC,kBAAkB;QAClBC,qBAAqB;QACrBxsE,MAAM;QACN4sE,OAAO;QACPR,UAAU;QACVC,WAAW;QACXrrE,SAAS;QACTyhC,gBAAgBkwC,wFAAmBA,CAC/B3wD,wDAAOA,CAACkC,OAAO,EACf8d,2DAAUA,CAACnT,QAAQ,EACnB,sBACA,QACA,QACA,GACA;QAEJi+C,aAAa;YACT5zD,KAAK;QACT;QACAyrE,QAAQ;QACRD,cAAc;IAClB;CACH;AAEM,MAAM/0C,sBAA8E;IACvF;QACIuiD,IAAI,CAAC,EAAE6tB,UAAU,KAAK,CAAC;QACvBC,0BAA0BD;QAC1Bj9F,SAASd,wDAAOA,CAACkC,OAAO;QACxB7Y,MAAMy0G,4DAAWA,CAACjhG,IAAI;QACtB7e,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAqC,EAAE1D,IAAI;QACzD27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,aAAa,CAAC;QAC/BC,0BAA0BD;QAC1Bj9F,SAASd,wDAAOA,CAACslG,OAAO;QACxBj8G,MAAMy0G,4DAAWA,CAACjhG,IAAI;QACtB7e,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAqC,EAAE1D,IAAI;QACzD27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;CACH;AACM,MAAMjR,uBAAiF;IAC1F;QACIqiD,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBW,yBAAyBX;QACzB10G,MAAM4hF,6DAAYA,CAACoT,MAAM;QACzBrgG,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAuC,EAAE1D,IAAI;QAC3DqrG,iBAAiB;QACjBZ,oBACI;QACJltC,UAAU;QACVE,aAAa;QACbytC,oBAAoB;YAChBxqC,mBAAmBq9B,gEAAWA;YAC9BoN,2BAA2BjB,+EAAmBA;YAC9CkB,yBAAyBjB,6EAAiBA;QAC9C;IACJ;CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/GM,MAAM39E,eAAe,qBAAoB;;;;;ACAH;AACS;AACG;AACG;AACH;AACO;AAEzD,SAASqwC,cAAc/vD,OAAe,EAAEkM,OAAO,CAAC;IACnD,MAAM84F,SAAS,CAACC;QACZ,IAAI/4F,SAAS,KAAKA,QAAQ,GAAG,OAAO+4F;QACpC,OAAO,CAAC,EAAEA,QAAQnpH,KAAK,CAAC,GAAGihE,KAAKxF,GAAG,CAAC,GAAG,IAAIrrC,OAAO,GAAG,EAAE+4F,QAAQnpH,KAAK,CAAC,CAACowB,MAAM,CAAC;IACjF;IACA,IAAIg5F,sBAAsBllG,UAAU,OAAOglG,OAAOhlG;IAClD,IAAImlG,uBAAuBnlG,UAAU,OAAOglG,OAAO,CAAC,EAAE,EAAEhlG,QAAQjgB,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IACjF,OAAOigB;AACX;AAEO,SAASgwD,cAAczxE,EAAU;IACpC,OAAO,CAAC,CAAC,EAAEA,GAAG,CAAC;AACnB;AAEO,SAAS2mH,sBAAsBllG,OAAe;IACjD,OAAO,WAAW0W,IAAI,CAAC1W;AAC3B;AAEO,SAASmlG,uBAAuBnlG,OAAe;IAClD,OAAO,iBAAiB0W,IAAI,CAAC1W;AACjC;AAEO,SAASwH,eAAexH,OAAgB;IAC3C,IAAI,CAACA,SAAS,OAAO;IACrB,OAAOklG,sBAAsBllG,YAAYmlG,uBAAuBnlG;AACpE;AAEO,SAASyH,eAAelH,OAAiB;IAC5C,OAAOkhG,8BAAcA,CAAChiG,qBAAOA,EAAEtJ,IAAI,CAAC,CAAC1b,IAAMA,EAAEyC,KAAK,KAAKqjB;AAC3D;AAEO,SAAS2tD;IACZ,OAAOjyD,+BAAeA,CAACE,WAAW;AACtC;AAEO,SAAS4uD;IACZ,OAAOtrD,qBAAOA,CAACkC,OAAO;AAC1B;AAEO,SAAS0tD;IACZ,OAAO5vD,qBAAOA,CAACsgG,OAAO;AAC1B;AAEO,SAASzwC;IACZ,OAAOiuC,yBAAWA,CAACjhG,IAAI;AAC3B;AAEO,SAAS2uD;IACZ,OAAOyf,0BAAYA,CAACzwF,IAAI;AAC5B;AAEO,SAASshE;IACZ,OAAO77B,YAAYA;AACvB;AAEO,SAASygE,mBAAmBngF,OAAe;IAC9C,IAAImlG,uBAAuBnlG,UAAU;QACjC,MAAM,CAACjT,GAAGg5C,iBAAiB,GAAGq/D,oBAAoB,GAAGplG,QAAQjgB,KAAK,CAAC;QACnE,OAAO;YACHigB,SAAS,CAAC,EAAE,EAAE+lC,gBAAgB,CAAC;YAC/B/mD,YAAYomH,oBAAoBllH,IAAI,CAAC;QACzC;IACJ;IACA;AACJ;AAEO,SAASqvE,sBAAsBhvD,UAAUd,qBAAOA,CAACkC,OAAO;IAC3D,OAAOqJ,sCAAgBA,CAACzK,SAAS;AACrC;AAEO,SAASivD,oBAAoBjvD,UAAUd,qBAAOA,CAACkC,OAAO;IACzD,OAAO;AACX;AAEO,SAASwC,cAAcnE,OAAgB;IAC1C,OAAOqE,sCAAaA,CAACrE,SAAS0f,YAAYA;AAC9C;AAEO,SAASlX,qBAAqBxI,OAAgB;IACjD,MAAM7gB,MAAM,IAAI6I,IAAIy5G,8BAAcA,CAAChiG,qBAAOA,EAAEjjB,GAAG,CAAC,CAAC/B,IAAMuwB,sCAAgBA,CAACvwB,EAAEyC,KAAK,EAAE;IACjF,OAAO,CAAC,CAAE8iB,CAAAA,WAAW7gB,IAAIjB,GAAG,CAAC8hB,QAAO;AACxC;;;;;;;;;;;;;;;;ACxFgE;AACxB;AAEjC,SAASiwD,iBAAiBvgE,MAAe,EAAEwc,IAAa;IAC3D,OAAOxc,UAAU;AACrB;AAEO,MAAMwgE,mBAAmB36D,wFAAyBA,CACrD;IACI,CAACkqB,2DAAUA,CAACnT,QAAQ,CAAC,EAAE;IACvB,CAACmT,2DAAUA,CAAC0B,WAAW,CAAC,EAAE;AAC9B,GACA,IACH;AAEM,SAASzZ,cAAchY,MAAe;IACzC,OAAO;AACX;;;;;;;;;;;;;;;;;;;;ACVkC;AACoB;AAE/C,SAAS0gE,oBACZ7vD,OAAgB,EAChBP,OAAe,EACfviB,IAAY,EACZooB,MAAc,EACd0a,QAAgB,EAChBE,OAAgB;IAEhB,OAAO4kF,wFAAyBA,CAC5B9kG,SACAkf,2DAAUA,CAACnT,QAAQ,EACnBtM,SACAviB,MACAooB,QACA0a,UACAE;AAER;AAEO,SAASs+D,oBACZ19E,KAAyC,EACzCmf,OAAe,EACfpQ,KAEC;IAED,OAAO;QACH,GAAG/O,KAAK;QACRmf,SAASqpB,8EAASA,CAACrpB,SAAS,GAAGX,OAAO;QACtCzP;QACAlzB,OAAO;YACH,CAACi0B,6EAAYA,CAACS,GAAG,CAAC,EAAE+N,iFAAYA,CAACvP,OAAOE,OAAO,GAAGu5B,8EAASA,CAACrpB,SAAS,IAAIX,OAAO;QACpF;IACJ;AACJ;AAEO,SAAS+vC,wBAAwB9hB,UAAuB;IAC3D,kDAAkD;IAClD,OAAO;AACX;AAEO,SAAS+hB,0BAA0B/hB,UAAuB;IAC7D,OAAOA,eAAeruB,2DAAUA,CAACnT,QAAQ;AAC7C;AAEO,SAASwjD,6BAA6BhiB,UAAuB;IAChE,OAAOA,eAAeruB,2DAAUA,CAAC0B,WAAW;AAChD;;;;;;;;;;;;;;;;;;;;;;ACzD2D;AAEC;AAErD,SAAS05D,aAAat6E,OAAgB;IACzC,MAAM+kG,gBAAgBjB,mFAAgBA,CAAC9jG;IAEvCk9E,iDAAU,CAAC;QACP,gBAAgB;QAChB,kBAAkB6nB,cAAcC,eAAe;QAC/C,oBAAoBD,cAAcE,gBAAgB;QAClD,oBAAoBF,cAAcG,cAAc;QAChD,mBAAmBH,cAAcI,aAAa;IAClD;IACA,OAAOjoB,0MAAGA;AACd;;;;;;;;;;;;;;;;;;ICfA,0CAA0C;AAC1C,uDAAuD;AAKhD;UAAKh+E,OAAO;IAAPA,QAAAA,QACR,oCAAoC;IACpCsgG,aAAU,KAAVA;IAFQtgG,QAAAA,QAGRkC,aAAU,KAAVA;IAHQlC,QAAAA,QAIRslG,aAAU,KAAVA;GAJQtlG,YAAAA;IAOL;UAAKy2D,WAAW;IAAXA,YAAAA,YACRqlB,aAAU,KAAVA;GADQrlB,gBAAAA;IAIL;UAAKz2C,UAAU;IAAVA,WAAAA,WACRnT,cAAW,KAAXA;IADQmT,WAAAA,WAER0B,iBAAc,KAAdA;GAFQ1B,eAAAA;IAKL;UAAK89E,WAAW;IAAXA,YACRjhG,UAAAA;GADQihG,gBAAAA;IAIL;UAAK7yB,YAAY;IAAZA,aACRzwF,UAAAA;IADQywF,aAERoT,YAAAA;IAFQpT,aAGRqT,YAAAA;IAHQrT,aAIRsT,YAAAA;GAJQtT,iBAAAA;IAOL;UAAKi7B,iBAAiB;IAAjBA,kBACRpqB,aAAAA;GADQoqB,sBAAAA;IAIL;UAAKxqB,qBAAqB;IAArBA,sBAAAA,sBACRa,aAAU,KAAVA;IADQb,sBAAAA,sBAER,gDAAgD,GAChDc,aAAU,KAAVA;IAHQd,sBAAAA,sBAIR,+CAA+C,GAC/Ce,eAAY,KAAZA;IALQf,sBAAAA,sBAMR,4CAA4C,GAC5CgB,cAAW,KAAXA;IAPQhB,sBAAAA,sBAQR,4HAA4H,GAC5HiB,YAAS,KAATA;IATQjB,sBAAAA,sBAUR,wBAAwB,GACxBkB,aAAU,KAAVA;GAXQlB,0BAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCiC;AACgB;AACQ;AACC;AACT;AACuC;AAC/D;AAE9B,MAAM8V,cAAcwQ,8BAAcA,CAAChiG,qBAAOA,EAAEjjB,GAAG,CAAC,CAAC/B,IAAMA,EAAEyC,KAAK,EAAC;AAE/D,MAAM8tB,mBAAmBkvF,8BAASA,CAACz6F,qBAAOA,EAAE0jC,qBAAKA,EAAC;AAClD,MAAM67C,oBAAoB+a,iCAAYA,CAACt6F,qBAAOA,EAAE0jC,qBAAKA,EAAC;AACtD,MAAM0hE,oBAAoBtK,qCAAgBA,CAACvb,mBAAkB;AAC7D,MAAM8lB,mBAAmBpK,kCAAaA,CAAC1b,mBAAkB;AAEzD,MAAM6mB,uBAAuB3L,8BAASA,CAACz6F,qBAAOA,EAAEmmG,0BAASA,EAAC;AAC1D,MAAMznE,wBAAwB47D,iCAAYA,CAACt6F,qBAAOA,EAAEmmG,0BAASA,EAAC;AAE9D,MAAMlB,mBAAmBxK,8BAASA,CAACz6F,qBAAOA,EAAE2kG,qBAAKA,EAAC;AAClD,MAAMK,oBAAoB1K,iCAAYA,CAACt6F,qBAAOA,EAAE2kG,qBAAKA,EAAC;AACtD,MAAMO,oBAAoBpK,qCAAgBA,CAACkK,mBAAkB;AAC7D,MAAMG,mBAAmBlK,kCAAaA,CAAC+J,mBAAkB;AAEzD,MAAMqB,uBAAuB5L,8BAASA,CAACz6F,qBAAOA,EAAEwO,yBAASA,EAAC;AAC1D,MAAM1F,wBAAwBwxF,iCAAYA,CAACt6F,qBAAOA,EAAEwO,yBAASA,EAAC;AAC9D,MAAM83F,wBAAwBxL,qCAAgBA,CAAChyF,uBAAsB;AACrE,MAAMy9F,uBAAuBtL,kCAAaA,CAACnyF,uBAAsB;;;;;;;;;;;;;;;;;;;AC1BsB;AAM5D;AAC0C;AACd;AAE9D,MAAMi1F,YAAYvhG,0EAAeA,CAACG,aAAa;AAExC,MAAM8wB,oBAAsF;IAC/F;QACIyiD,IAAI,CAAC,EAAElwE,wDAAOA,CAACkC,OAAO,CAAC,OAAO,CAAC;QAC/B7Y,MAAMy0G,4DAAWA,CAAC50G,MAAM;QACxB4X,SAASd,wDAAOA,CAACkC,OAAO;QACxBooD,sBAAsB;QACtBC,kBAAkB;QAClBC,qBAAqB;QACrBxsE,MAAM;QACN4sE,OAAO;QACPR,UAAU;QACVC,WAAW;QACXrrE,SAAS;QACTyhC,gBAAgBkwC,wFAAmBA,CAC/B3wD,wDAAOA,CAACkC,OAAO,EACf8d,2DAAUA,CAACnT,QAAQ,EACnBtB,yEAAgBA,CAACvL,wDAAOA,CAACkC,OAAO,EAAE,eAAe,KACjD,UACA,OACA,GACA;QAEJ4oD,aAAa;YACT5zD,KAAK;QACT;QACAyrE,QAAQ;QACR47B,SAAS,IAAIpnG,IAAI,mEAAuC,EAAE1D,IAAI;QAC9DivE,cAAc;IAClB;IACA;QACIwN,IAAI,CAAC,EAAElwE,wDAAOA,CAACwmG,MAAM,CAAC,OAAO,CAAC;QAC9Bn9G,MAAMy0G,4DAAWA,CAAC50G,MAAM;QACxB4X,SAASd,wDAAOA,CAACwmG,MAAM;QACvBl8C,sBAAsB;QACtBC,kBAAkB;QAClBC,qBAAqB;QACrBxsE,MAAM;QACN4sE,OAAO;QACPR,UAAU;QACVC,WAAW;QACXrrE,SAAS;QACTyhC,gBAAgBkwC,wFAAmBA,CAC/B3wD,wDAAOA,CAACwmG,MAAM,EACdxmF,2DAAUA,CAACnT,QAAQ,EACnBtB,yEAAgBA,CAACvL,wDAAOA,CAACwmG,MAAM,EAAE,eAAe,KAChD,UACA,OACA,GACA;QAEJ17C,aAAa;YACT5zD,KAAK;YACL2mC,YAAY;gBACR4oE,SAAS;YACb;QACJ;QACA9jC,QAAQ;QACR47B,SAAS,IAAIpnG,IAAI,mEAAuC,EAAE1D,IAAI;QAC9DivE,cAAc;IAClB;IACA;QACIwN,IAAI,CAAC,EAAElwE,wDAAOA,CAACslG,OAAO,CAAC,OAAO,CAAC;QAC/Bj8G,MAAMy0G,4DAAWA,CAAC50G,MAAM;QACxB4X,SAASd,wDAAOA,CAACslG,OAAO;QACxBh7C,sBAAsB;QACtBC,kBAAkB;QAClBC,qBAAqB;QACrBxsE,MAAM;QACN4sE,OAAO;QACPR,UAAU;QACVC,WAAW;QACXrrE,SAAS;QACTyhC,gBAAgBkwC,wFAAmBA,CAC/B3wD,wDAAOA,CAACslG,OAAO,EACftlF,2DAAUA,CAACnT,QAAQ,EACnBtB,yEAAgBA,CAACvL,wDAAOA,CAACslG,OAAO,EAAE,eAAe,KACjD,UACA,OACA,GACA;QAEJx6C,aAAa;YACT5zD,KAAK;YACL2mC,YAAY;gBACR4oE,SAAS;YACb;QACJ;QACA9jC,QAAQ;QACR47B,SAAS,IAAIpnG,IAAI,mEAAuC,EAAE1D,IAAI;QAC9DivE,cAAc;IAClB;CACH;AAEM,MAAM/0C,sBAA8E;IACvF;QACIuiD,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBC,0BAA0BD;QAC1Bj9F,SAASd,wDAAOA,CAACkC,OAAO;QACxB7Y,MAAMy0G,4DAAWA,CAAC50G,MAAM;QACxBlL,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,mEAAuC,EAAE1D,IAAI;QAC3D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;IACA;QACIoxC,IAAI,CAAC,EAAE6tB,UAAU,eAAe,CAAC;QACjCC,0BAA0BD;QAC1Bj9F,SAASd,wDAAOA,CAACslG,OAAO;QACxBj8G,MAAMy0G,4DAAWA,CAAC50G,MAAM;QACxBlL,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,mEAAuC,EAAE1D,IAAI;QAC3D27D,WAAW;QACX6uC,mBAAmB;QACnBn/D,WAAW;IACf;CACH;AACM,MAAMjR,uBAAiF;IAC1F;QACIqiD,IAAI,CAAC,EAAE6tB,UAAU,QAAQ,CAAC;QAC1BW,yBAAyBX;QACzB10G,MAAM4hF,6DAAYA,CAACghB,OAAO;QAC1BjuG,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAwC,EAAE1D,IAAI;QAC5Du9D,UAAU;QACVE,aAAa;QACbE,cAAc;QACdutC,oBAAoB;YAChBxqC,mBAAmBq9B,gEAAWA;YAC9BoN,2BAA2BjB,+EAAmBA;YAC9CkB,yBAAyB,EAAE;QAC/B;QACAC,iBAAiB;QACjBZ,oBACI;IACR;IACA;QACIhuB,IAAI,CAAC,EAAE6tB,UAAU,SAAS,CAAC;QAC3BW,yBAAyBX;QACzB10G,MAAM4hF,6DAAYA,CAACwhB,QAAQ;QAC3BzuG,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAyC,EAAE1D,IAAI;QAC7Du9D,UAAU;QACVE,aAAa;QACbE,cAAc;QACdutC,oBAAoB;YAChBxqC,mBAAmBq9B,gEAAWA;YAC9BoN,2BAA2B,EAAE;YAC7BC,yBAAyB,EAAE;QAC/B;IACJ;IACA;QACI3uB,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBW,yBAAyBX;QACzB10G,MAAM4hF,6DAAYA,CAAC+F,MAAM;QACzBhzF,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAuC,EAAE1D,IAAI;QAC3Du9D,UAAU;QACVE,aAAa;QACbE,cAAc;QACdutC,oBAAoB;YAChBxqC,mBAAmBq9B,gEAAWA;YAC9BoN,2BAA2B,EAAE;YAC7BC,yBAAyB,EAAE;QAC/B;IACJ;IACA;QACI3uB,IAAI,CAAC,EAAE6tB,UAAU,OAAO,CAAC;QACzBW,yBAAyBX;QACzB10G,MAAM4hF,6DAAYA,CAAC8hB,MAAM;QACzB/uG,MAAM;QACNkxE,MAAM,IAAI/3D,IAAI,oEAAuC,EAAE1D,IAAI;QAC3Du9D,UAAU;QACVE,aAAa;QACbE,cAAc;QACdutC,oBAAoB;YAChBxqC,mBAAmBq9B,gEAAWA;YAC9BoN,2BAA2B,EAAE;YAC7BC,yBAAyBjB,6EAAiBA;QAC9C;IACJ;CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjMM,MAAM39E,eAAe,GAAE;;;ACAvB,SAASymF,cAAcnmG,OAAe;IACzC,OAAO,iEAAiE0W,IAAI,CAAC1W;AACjF;;;ACFuB;AACY;AACI;AACM;AACY;AACwB;AACL;AAChB;AACH;AACP;AAE3C,SAASomG,gBAAgBjqH,GAAmB;IAC/C,OAAOA,IAAIgmG,QAAQ;AACvB;AAEO,SAASqH,cAAc6c,QAAsC;IAChE,MAAMx+G,OAAO,OAAOw+G,aAAa,WAAW9a,qBAAW,CAAC8a,YAAYA;IACpE,IAAI,CAAC3hG,2BAAc,CAACihF,SAAS,CAAC99F,OAAO,MAAM,IAAIzL,MAAM,CAAC,iCAAiC,EAAEmvG,qBAAW,CAAC1jG,MAAM,CAAC,CAAC;IAC7G,OAAO,IAAI6c,2BAAc,CAAC7c;AAC9B;AAEO,SAASkoE,cAAc/vD,OAAe,EAAEkM,OAAO,CAAC;IACnD,IAAI,CAAC1E,eAAexH,SAAS,QAAQ,OAAOA;IAC5C,IAAIkM,SAAS,KAAKA,QAAQ,IAAI,OAAOlM;IACrC,OAAO,CAAC,EAAEA,QAAQlkB,KAAK,CAAC,GAAGihE,KAAKxF,GAAG,CAAC,GAAGrrC,OAAO,GAAG,EAAElM,QAAQlkB,KAAK,CAAC,CAACowB,MAAM,CAAC;AAC7E;AAEO,MAAMgkD,mBAAmB36D,8DAAyBA,CACrD;IACI,CAACkqB,wBAAUA,CAACY,MAAM,CAAC,EAAE;IACrB,CAACZ,wBAAUA,CAACnT,QAAQ,CAAC,EAAE;IACvB,CAACmT,wBAAUA,CAAC0B,WAAW,CAAC,EAAE;AAC9B,GACA,IACH;AAEM,SAAS6uC,cAAc3tD,UAAU,EAAE,EAAEikG,QAAQ,CAAC;IACjD,MAAMp6F,OAAO6wC,KAAKxF,GAAG,CAAC,GAAG+uD;IACzB,IAAIjkG,QAAQviB,MAAM,GAAGosB,OAAO,GAAG,OAAO,CAAC,CAAC,EAAE7J,QAAQ,CAAC;IACnD,MAAMkkG,OAAOlkG,QAAQvmB,KAAK,CAAC,GAAGowB;IAC9B,MAAMs6F,OAAOnkG,QAAQvmB,KAAK,CAAC,CAACowB;IAC5B,OAAO,CAAC,CAAC,EAAEq6F,KAAK,GAAG,EAAEC,KAAK,CAAC;AAC/B;AAEO,SAASh/F,eAAexH,OAAgB,EAAEymG,MAAgB;IAC7D,MAAM3mH,SAASkgB,SAASlgB;IACxB,IAAI,CAACA,UAAUA,SAAS,MAAMA,SAAS,IAAI,OAAO;IAClD,IAAI;QACA,MAAM0oG,SAAS+C,qBAAW,CAACvrF;QAC3B,OAAOymG,WAAW,QAAQ,OAAO/hG,2BAAc,CAACihF,SAAS,CAAC6C,WAAW,CAAC2d,aAAaA,CAACnmG;IACxF,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEO,MAAMyH,iBAAiD+X,0BAAOA,CAAC,CAACjf;IACnE,OAAOkhG,8BAAcA,CAAChiG,qBAAOA,EAAEtJ,IAAI,CAAC,CAAC1b,IAAMA,EAAEyC,KAAK,KAAKqjB;AAC3D,GAAE;AAEK,SAAS4D,cAAcnE,OAAgB;IAC1C,OAAOqE,sCAAaA,CAACrE,SAAS0f,YAAYA;AAC9C;AAEA,MAAMw/E,iBAAiB,IAAIl3G,IAAIy5G,8BAAcA,CAAChiG,qBAAOA,EAAEjjB,GAAG,CAAC,CAAC/B,IAAMuwB,sCAAgBA,CAACvwB,EAAEyC,KAAK,EAAE;AAErF,SAASsrB,qBAAqBxI,OAAgB;IACjD,OAAO,CAAC,CAAEA,CAAAA,WAAWk/F,eAAehhH,GAAG,CAAC8hB,QAAO;AACnD;AAEO,SAASkuD;IACZ,OAAOjyD,+BAAeA,CAACG,aAAa;AACxC;AAEO,SAAS2uD;IACZ,OAAOtrD,qBAAOA,CAACkC,OAAO;AAC1B;AAEO,SAAS0tD;IACZ,OAAO5vD,qBAAOA,CAACsgG,OAAO;AAC1B;AAEO,SAASzwC;IACZ,OAAOiuC,yBAAWA,CAAC50G,MAAM;AAC7B;AAEO,SAASsiE;IACZ,OAAOyf,0BAAYA,CAACzwF,IAAI;AAC5B;AAEO,SAASshE;IACZ,OAAO77B,YAAYA;AACvB;AAEO,SAAS8vC,oBAAoBjvD,UAAUd,qBAAOA,CAACkC,OAAO;IACzD,OAAO;AACX;AAEO,SAAS4tD,sBAAsBhvD,UAAUd,qBAAOA,CAACkC,OAAO;IAC3D,OAAOqJ,sCAAgBA,CAACzK,SAAS,kBAAkB;AACvD;;;;;;;;;;;;ACnGO,SAASmH,cAAchY,MAAe;IACzC,OAAO,WAAWgnB,IAAI,CAAChnB,UAAU;AACrC;;;;;;;;;;;;;;;ACF4C;AACP;AAErC,MAAMg3G,YAAqC;IACvC,CAACjnG,wDAAOA,CAACkC,OAAO,CAAC,EAAE;IACnB,CAAClC,wDAAOA,CAACslG,OAAO,CAAC,EAAE;IACnB,CAACtlG,wDAAOA,CAACwmG,MAAM,CAAC,EAAE;IAClB,CAACxmG,wDAAOA,CAACsgG,OAAO,CAAC,EAAE;AACvB;AAEO,SAAS3U,qBAAqB7qF,UAAUd,wDAAOA,CAACkC,OAAO;IAC1D,OAAO+kG,SAAS,CAACnmG,QAAQ;AAC7B;AAEO,SAASs6E,aAAat6E,UAAUd,wDAAOA,CAACkC,OAAO;IAClD,OAAO,IAAIs/E,uDAAUA,CAACmK,qBAAqB7qF;AAC/C;;;;;;;;;;;;;;;;;;ICbO;UAAKd,OAAO;IAAPA,QAAAA,QACRkC,aAAU,OAAVA;IADQlC,QAAAA,QAERslG,aAAU,OAAVA;IAFQtlG,QAAAA,QAGRwmG,YAAS,OAATA;IAHQxmG,QAAAA,QAIR,oCAAoC;IACpCsgG,aAAU,KAAVA;GALQtgG,YAAAA;IAQL;UAAKy2D,WAAW;IAAXA,YAAAA,YACRqlB,aAAU,KAAVA;IADQrlB,YAAAA,YAERywC,aAAU,KAAVA;GAFQzwC,gBAAAA;IAKL;UAAKz2C,UAAU;IAAVA,WAAAA,WACRY,YAAS,KAATA;IADQZ,WAAAA,WAERnT,cAAW,KAAXA;IAFQmT,WAAAA,WAGR0B,iBAAc,KAAdA;GAHQ1B,eAAAA;IAML;UAAK89E,WAAW;IAAXA,YACR50G,YAAAA;GADQ40G,gBAAAA;IAIL;UAAK7yB,YAAY;IAAZA,aACRzwF,UAAAA;IADQywF,aAERghB,aAAAA;IAFQhhB,aAGRwhB,cAAAA;IAHQxhB,aAIR8hB,YAAAA;IAJQ9hB,aAKR+F,YAAAA;GALQ/F,iBAAAA;IAQZ,yGAAyG;AAClG;UAAK+gB,iBAAiB;IAAjBA,kBACRmb,aAAU;IADFnb,kBAERG,kBAAe;IAFPH,kBAGRK,sBAAmB;IAHXL,kBAIRob,uBAAoB;IAJZpb,kBAKRqb,+BAA4B;GALpBrb,sBAAAA;IAQZ,iFAAiF;AAC1E;UAAKiB,gBAAgB;IAAhBA,iBACRG,kBAAe;IADPH,iBAERqa,0BAAuB;IAFfra,iBAGRsa,gBAAa;IAHLta,iBAIRE,cAAW;IAJHF,iBAKRua,gBAAa;GALLva,qBAAAA;;;;;;;;;;;;;AC5CsC;AAElD;;;CAGC,GAEM,SAASiX,cAAcuD,UAAU,KAAK,EAAE;IAC3C,MAAM1/D,SAASt+C,OAAOqd,QAAQ,CAAC3S,sEAAWA,CAAC1W,KAAK,CAACpB,KAAK,CAAC,GAAG,KAAK;IAC/D,IAAIoN,OAAOi+G,KAAK,CAAC3/D,SAAS,OAAO;IACjC,OAAOA,SAAS0/D;AACpB;;;;;;;;;;;;;ACXkD;AAElD;;;CAGC,GAEM,SAASE,YAAYC,UAAU,EAAE;IACpC,IAAIA,YAAY,GAAG,OAAO;IAC1B,IAAIA,YAAY,KAAK,OAAO;IAC5B,IAAIA,UAAU,KAAKA,UAAU,KAAK,MAAM,IAAIC;IAC5C,OAAO3D,yEAAaA,CAAC,QAAQ0D;AACjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ40B;;AAE50B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,iBAAiB;AAC7B;AACA;AACA,uBAAuB,qCAAgB;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,iBAAiB;AAC7B;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,qEAAqB;;AAEjD;AACA;AACA;AACA;AACA;AACA,6BAA6B,sEAAsB;;AAEnD;AACA;AACA;AACA;AACA;AACA,+BAA+B,wEAAwB;;AAEvD;AACA;AACA;AACA;AACA;AACA,+BAA+B,wEAAwB;;AAEvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,6DAAa;;AAEjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,sDAAM;;AAEnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,gFAAgC;;AAEvE;AACA;AACA;AACA;AACA;AACA,6CAA6C,sFAAsC;;AAEnF;AACA;AACA;AACA;AACA;AACA,0BAA0B,mEAAmB;;AAE7C;AACA;AACA;AACA;AACA;AACA,iCAAiC,0EAA0B;;AAE3D;AACA;AACA;AACA;AACA;AACA,2BAA2B,oEAAoB;;AAE/C;AACA;AACA;AACA,wBAAwB,iEAAiB;;AAEzC;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,4EAA4B;;AAE/D;AACA;AACA;AACA,6BAA6B,sEAAsB;;AAEnD;AACA;AACA;AACA;AACA,mBAAmB,4DAAY;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,+BAA+B,KAAK;AACpC;AACA;AACA,UAAU,oBAAM;AAChB;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,gCAAgC,KAAK;AACrC;AACA;AACA,WAAW,sBAAO;AAClB;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,gCAAgC,KAAK;AACrC;AACA;AACA,WAAW,sBAAO;AAClB;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,8BAA8B,KAAK;AACnC;AACA;AACA,SAAS,kBAAK;AACd;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,8BAA8B,KAAK;AACnC;AACA;AACA,SAAS,kBAAK;AACd;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,iCAAiC,KAAK;AACtC;AACA;AACA,YAAY,wBAAQ;AACpB;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,+BAA+B,KAAK;AACpC;AACA;AACA,UAAU,oBAAM;AAChB;;AAEA;;AAEA;AACA;AACA;AACA,EAAE,yCAAqB;AACvB;;AAE4W;;;;;ACrO5W,mDAAmD;AAC3B;AAUgC;AAEjD,MAAMG;IACaC;IAAtB/pH,YAAsB+pH,aA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0CAA0C,yDAAyD;AACnG;AACA;AACA;AACA,yBAAyB,iEAAiE;AAC1F,yBAAyB,wDAAwD;AACjF,yBAAyB,uDAAuD;AAChF;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;;AC3GuD;AAC+C;AACkC;;AAExI;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,QAAQ,OAAO,2CAA2C,KAAK;AAC/D;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA,2BAA2B,cAAM;AACjC,SAAS,OAAO,eAAe,eAAO,CAAC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA;AACA;AACA,kBAAkB,QAAQ,CAAC,KAAK;AAChC;AACA;AACA;AACA,YAAY,IAAI;AAChB;AACA,MAAM,cAAM,SAAS,SAAS,CAAC,IAAI,IAAI,KAAK;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAM;AAC5B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,yDAAyD,eAAO;AAChE,2BAA2B,cAAM;AACjC,OAAO,cAAM,4CAA4C,2CAA2C,eAAO,0BAA0B;AACrI;AACA;AACA,8BAA8B;AAC9B,UAAU;AACV;AACA,MAAM,cAAM;;AAEZ;AACA;AACA;AACA;AACA,iCAAiC,cAAM;AACvC;AACA;AACA,qDAAqD,cAAM;AAC3D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,cAAM;AACvB;AACA;AACA;AACA;AACA,qDAAqD,IAAI;AACzD;;AAEA,0BAA0B,YAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAM;AAC/B;AACA;AACA;AACA;AACA,UAAU,IAAI;AACd,qBAAqB,OAAO,CAAC,IAAI;;AAEjC,eAAe,IAAI,sBAAsB,cAAM,sBAAsB,UAAU,CAAC,KAAK;AACrF;AACA;AACA;AACA,6BAA6B,cAAM;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA,YAAY,cAAM;;AAElB,+BAA+B,WAAW;AAC1C,sBAAsB,cAAM,yBAAyB,GAAG,6BAA6B,UAAU;AAC/F,WAAW,IAAI,6BAA6B,eAAO;AACnD;;AAEA,QAAQ,IAAI,qCAAqC,YAAO;AACxD;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;AACP,QAAQ,IAAI,sBAAsB,OAAO,EAAE,YAAI,CAAC,cAAI,KAAK,cAAM;AAC/D;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,QAAQ,IAAI,sBAAsB,gBAAW,EAAE,cAAM,oBAAoB,cAAM;AAC/E;;;AC9L4C;AAC8N;AAC3O;AACL;;AAE1B;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,IAAI,IAAI;;AAExB;AACA;AACA;;AAEA,QAAQ,KAAK;AACb;AACA;;AAEA,IAAI,IAAI;AACR;;AAEA,SAAS,KAAK,QAAQ,QAAQ;AAC9B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAY,KAAK;AACjB;AACA;AACA,gCAAgC,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD,QAAQ;AAC7D;;AAEA;AACA,yBAAyB,OAAO;AAChC;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,IAAI;AAChC;AACA;AACA;;AAEA;;AAEA;AACA,yBAAyB,YAAI;AAC7B;AACA,IAAI,mBAAmB,IAAI;;AAE3B;AACA;;AAEA;AACA,SAAS,OAAO,SAAS,KAAK;AAC9B,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,kBAAkB;AAC3C,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gDAAgD,QAAQ;AACxD;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,QAAQ;AAClC;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA,SAAS,gCAAM;AACf,UAAU,IAA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;AACA;AACA;AACA;AACA;AACA,iEAAiE;;AAEjE,sBAAsB,mBAAmB;AACzC;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;;AAEA,MAAM,KAAqC,EAAE,EAO1C;;AAEH;AACA;AACA,6BAA6B,SAAS,EAAE,MAAqC,GAAG,CAU3E,CAAC,EAAE,SAAS;AACjB;AACA,KAAK;AACL,qBAAqB,UAAU;;AAE/B;AACA,aAAa,oBAAS,CAAC,OAAO;AAC9B;;AAEA;AACA;;AAEA,UAAU,KAAqE,EAAE,EAM1E;;AAEP,qCAAqC,0BAA0B;;AAE/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEkC;;;;;;;;;;;;ACtkBlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;;AAEA,SAAS,UAAU;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAE8B;;;;;;;;;;;;ACtD9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAE8B;;;;;;;;;;;;ACR9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEmC;;;;;;;;;;;;;;;AClDJ;;AAE/B;AACA;AACA;;AAEA,yBAAyB,yLAAK,8BAA8B,yLAAK;AACjE;AACA,iEAAiE,kDAAqB;;AAEI;;;;;;;;;;;;;;ACV1F;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM;AACN;AACA;;AAE6D;;;;;;;;;AC3ChD;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,WAAW,GAAG,aAAa,GAAG,cAAc,GAAG,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,IAAI;AACpC;AACA;AACA;AACA,8BAA8B,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;;;;;;;;;;;;AChQT;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;ACAM;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACwB;AACxB,SAAS,iBAAM;AACsD;AACtB;AACV;AACrC,mBAAmB,6BAAM,CAAC,OAAO;AACjC;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,iEAAiE,qBAAqB,6BAAM;AAC5F;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,6BAAM;AAChF;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF;AACpF;AACA;AACA;AACA,sFAAsF,8BAA8B,6BAAM,+BAA+B;AACzJ;AACA;AACA,mFAAmF,6BAAM,+BAA+B;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2BAAO;AACnB,kCAAkC,2BAAO;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+BAAW,4BAA4B,+BAAW;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,oCAAoC,6BAAM;AAC1C;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;AC/SO;;;;;;;;;;;;;;;;;ACA8C;AACrD,mCAAmC,yEAAS;AAC5C,4BAA4B,yEAAS;AACrC,2BAA2B,yEAAS;AACpC,2BAA2B,iEAAiB;AAC5C,mCAAmC,qFAAqC;AACxE,kCAAkC,yEAAS;AAC3C,iCAAiC,qIAAqF;AACtH,iCAAiC,oIAAoF;AAC9B;;;;;;;;;;;;;;;ACT1E;AACc;AACqB;AACzC;AACP,kBAAkB,yDAAe,CAAC,wEAAQ;AAC1C;;;;;;;;;;;;;;;;;;ACLO;;;ACAM;AACb;AACA;AACA,oBAAoB;AACpB;AACqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;AACtB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AAC/B;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,KAAK;AACzC,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,wEAAwE,iBAAiB;AACzF;AACA;AACA;AACA;AACA,2GAA2G,yDAAyD,qCAAqC;AACzM;AACA;AACA,wEAAwE,iBAAiB;AACzF;AACA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjWO;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;ACAM;AACmC;AACD;AACV;AACrC,mBAAmB,6BAAM,CAAC,OAAO;AACjC;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4DAA4D;AAC7D;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,gDAAgD;AAChD;AACA,CAAC,0CAA0C;AAC3C;AACA;AACA,oEAAoE,SAAS,EAAE,OAAO;AACtF;AACA;AACA;AACA;AACA;AACA,iCAAiC,kBAAkB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,YAAY,4BAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,4BAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtPO;;;ACAM;AACb;AACsE;AACvB;AACV;AACrC,mBAAmB,6BAAM,CAAC,OAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qCAAW;AACpB;AACA;AACA,4CAA4C,kCAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,WAAW,iCAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,6BAAM,0BAA0B;AACtF;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,4CAA4C,6BAAM,0BAA0B;AAC5E;AACA;AACA;AACA;AACA;AACA,8DAA8D,6BAAM,0BAA0B;AAC9F;AACA;AACA;AACA,6DAA6D,6BAAM,0BAA0B;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,6BAAM,0BAA0B;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,6BAAM,0BAA0B;AACtF;AACA;AACA;AACA,sDAAsD,6BAAM,0BAA0B;AACtF;AACA,uBAAuB,iCAAO;AAC9B,iBAAiB;AACjB;AACA;AACA;AACA;AACA,gDAAgD,6BAAM,0BAA0B;AAChF;AACA,uBAAuB,iCAAO;AAC9B,iBAAiB;AACjB;AACA,aAAa,qBAAqB,iCAAO;AACzC;AACO;AACP,kBAAkB,kCAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;;;;;ACtHO,MAAM,gBAAO;;;ACAP;AACuC;AACC;AACkG;AACvG;AACK;AACO;AAClB;AACsC;AACjC;AACV;AACrC,MAAM,cAAM,OAAO,6BAAM,CAAC,gBAAO;AAC1B;AACP;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,8BAAU;AACrB;AACA;AACA;AACA,eAAe,uBAAI;AACnB;AACA,WAAW,2BAAS;AACpB;AACA;AACA;AACA,MAAM,6CAA6C;AACnD,MAAM,gDAAgD;AACtD,MAAM,gDAAgD;AACtD,MAAM,wBAAwB;AAC9B,MAAM,6CAA6C;AACnD,MAAM,cAAc;AACpB;AACA;AACA;AACA;AACO;AACP,sBAAsB,gDAAgB;AACtC,WAAW,8BAAU,CAAC,sCAAY,CAAC,sCAAS,CAAC,sCAAY;AACzD;AACO;AACP,0BAA0B,gDAAgB,CAAC,kCAAQ;AACnD;AACA;AACA,mBAAmB,oCAAU,CAAC,2BAAS;AACvC;AACA,QAAQ,cAAM;AACd;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAAU;AAC3B;AACA,gBAAgB,uCAAa;AAC7B,gBAAgB,cAAM,oEAAoE,KAAK,GAAG,MAAM;AACxG;AACA;AACA,SAAS;AACT;AACA;AACO;AACP;AACA;AACA;AACA;AACA,oBAAoB,cAAM,sFAAsF,MAAM;AACtH;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,yBAAyB,2BAAS;AAClC,6BAA6B,2BAAS;AACtC;AACA,YAAY,cAAM;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,8BAAU;AAC9C;AACA;AACA;AACA;AACA;AACA,oBAAoB,uCAAc;AAClC;AACA,oBAAoB,oCAAU;AAC9B,oBAAoB,oCAAU;AAC9B;AACA,WAAW,mCAAS,UAAU,MAAU;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,8BAAU;AAC9C;AACA;AACA;AACA;AACA;AACA,oBAAoB,uCAAc;AAClC;AACA,oBAAoB,oCAAU;AAC9B,oBAAoB,oCAAU;AAC9B;AACA,WAAW,mCAAS,UAAU,MAAU;AACxC;AACA;AACA;AACA,IAAI,8CAAe;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kCAAQ,CAAC,iCAAO;AAChC;AACA;AACA,YAAY,cAAM;AAClB;AACA;AACA;AACA,oBAAoB,oCAAU;AAC9B;AACA,gBAAgB,cAAM;AACtB;AACA;AACA,iBAAiB,iCAAO;AACxB,KAAK;AACL;AACA;AACA,mCAAmC;AACnC;AACA;AACA,YAAY,cAAM;AAClB;AACA;AACA,2BAA2B,qCAAW;AACtC,2EAA2E;AAC3E;AACA;AACA;AACA;AACA,iBAAiB,iCAAO,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA,eAAe,MAAU;AACzB;AACA;AACA;AACA,gBAAgB,uCAAc;AAC9B,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,YAAY,cAAM;AAClB;AACA;AACA;AACA,QAAQ,cAAM;AACd;AACA,aAAa,iCAAO;AACpB,aAAa,oCAAU,CAAC,kCAAQ;AAChC,aAAa,oCAAU,CAAC,kCAAQ;AAChC,WAAW,MAAU;AACrB;AACO;AACP;AACA;AACA;AACA,YAAY,cAAM,qEAAqE;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAM,6CAA6C,iBAAiB,GAAG,6BAAM;AACxF;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,cAAM;AACd;AACA,WAAW,oCAAU;AACrB,WAAW,oCAAU;AACrB;AACA,uBAAuB,sCAAS;AAChC,2CAA2C,uCAAuC;AAClF;AACA;AACA;AACA;AACA,wBAAwB,MAAU;AAClC;AACA,QAAQ,cAAM,kFAAkF,iCAAO;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,sCAAS;AACvB;AACA;AACA;AACA;AACA,wBAAwB,MAAU;AAClC;AACA,QAAQ,cAAM,kFAAkF,iCAAO;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,sCAAS;AACvB;AACA;AACA;AACA;AACA;AACA,wBAAwB,MAAU;AAClC;AACA,QAAQ,cAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2BAAS;AACxB;AACA;AACA;AACA;AACA;AACA,WAAW,oCAAU;AACrB,WAAW,oCAAU;AACrB,QAAQ,2BAAS,wBAAwB,2BAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iCAAO;AAC5B;AACA;AACA;AACA;AACA,uBAAuB,sCAAS,CAAC,MAAU;AAC3C;AACA,+CAA+C,GAAG,iCAAO,WAAW,iCAAO,sCAAsC;AACjH;AACA;AACA,kBAAkB,sCAAS;AAC3B;AACA;AACA;AACA;AACO;AACP,oBAAoB,kCAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAM,6CAA6C,WAAW,GAAG,6BAAM;AAClF;AACA;AACA,KAAK;AACL;;;;;;;;;AC/Xa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,0BAA0B,mBAAO,CAAC,KAAiB;AACnD,wCAAwC,mBAAO,CAAC,KAAe;AAC/D,+BAA+B,mBAAO,CAAC,KAAM;AAC7C,oBAAoB,mBAAO,CAAC,KAAa;AACzC;AACA;AACA,yBAAyB;AACzB,4CAA4C,WAAW,kBAAkB;AACzE;AACA;AACA;AACA;AACA;AACA,yEAAyE,KAAK;AAC9E;AACA;AACA;AACA,yEAAyE,KAAK;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,KAAK;AAC1E;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,KAAK;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA,4EAA4E,MAAM;AAClF;AACA;AACA;AACA;AACA;AACA,wEAAwE,KAAK;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,sCAAsC,iBAAiB;AACvD,sCAAsC,iBAAiB;AACvD;;;;;;;;;ACjFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,0BAA0B,mBAAO,CAAC,KAAiB;AACnD;AACA,kBAAkB,cAAc;AAChC,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB;;;;;;;;;AC/BJ;AACb,0BAA0B,mBAAO,CAAC,KAAmB;AACrD;;;;;;;;;ACFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,KAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,qDAAqD,UAAU,WAAW,QAAQ;AAClF;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,SAAS;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;ACjEF;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,kBAAkB,mBAAO,CAAC,KAAiB;AAC3C,mBAAmB,mBAAO,CAAC,IAAY;AACvC,iBAAiB,mBAAO,CAAC,IAAQ;AACjC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,mCAAmC,UAAU;AAChF;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,wBAAwB,iBAAiB;AACzC,SAAS;AACT;AACA;AACA,eAAe;;;;;;;;;ACvDF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,kBAAkB,mBAAO,CAAC,KAAiB;AAC3C;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB;;;;;;;;;AChBN;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,kBAAkB,mBAAO,CAAC,KAAiB;AAC3C,iBAAiB,mBAAO,CAAC,IAAQ;AACjC,iBAAiB,mBAAO,CAAC,KAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,WAAW,mFAAmF;AAC/I,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA,gEAAgE,QAAQ,mKAAmK;AAC3O;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,WAAW,oDAAoD;AAC7H;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;;;;;;;;AC5FF;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,GAAG,oBAAoB;AAC1C,iBAAiB,mBAAO,CAAC,KAAW;AACpC,kBAAkB,mBAAO,CAAC,KAAW;AACrC,oBAAoB,mBAAO,CAAC,KAAmB;AAC/C,kBAAkB,mBAAO,CAAC,KAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,iBAAiB;AAC9C,SAAS;AACT;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;;;;;;;;ACtEN;AACb;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,KAAW;AAChC,aAAa,mBAAO,CAAC,KAAgB;;;;;;;;;ACbxB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;ACfa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,qCAAqC,GAAG,kCAAkC,GAAG,2BAA2B,GAAG,qBAAqB,GAAG,iBAAiB;AACtL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC,iBAAiB,KAAK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AiE,EAAE,EAEtE;;AAEP;AACA;AACA;;AAEA,aAAa,SAAS;AACtB,YAAY,KAAiE,EAAE,EAEtE;;AAET;AACA;AACA,MAAM;;;AAGN,iBAAiB,0CAAgB;AACjC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B,gBAAgB,CAAC,sCAAY;AACzD;;AAEA;AACA,oBAAoB,yDAAmB;AACvC,QAAQ;AACR;AACA;;AAEA,uBAAuB,wDAAe;AACtC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,mBAAmB,CAAC,cAAc,qBAAqB,mBAAmB;AACpG;AACA;AACA;AACA,OAAO,gBAAgB,mBAAmB;AAC1C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAoB,mBAAmB,EAE3E,CAAC;;;AAGV;AACA;AACA,KAAK;;AAEL;AACA,mCAAmC,8BAAQ,GAAG;AAC9C;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEmC;;;AChLwC;AACnC;AACzB;AACiB;AACR;AACA;AACI;AAC0B;;AAEtD;AACA;;AAEA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA,CAAC;;AAE+B;;;AClBhC;AACA;AACA;AACA;AACA;AACA;AACuC;AACxB;AACf,wBAAwB,SAAQ;;AAEhC,MAAM,KAAqC,EAAE,EAY1C;;AAEH;AACA,EAAE;;AAEK;AACP;AACA;AACA;AACA;AACA;AACA;AAC8D;AACW;;;;;;;;;;;;;;;ACnCzC;AACA;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA,cAAc,0CAAM;AACpB,WAAW,0CAAM;AACjB,IAAI;AACJ;AACA,mEAAmE,0CAAM;AACzE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0CAAM;AACjB,IAAI;AACJ;AACA;AACA;AACA,WAAW,0CAAM;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,0CAAM;AACf;;AAEA;AACA;AACA,OAAO,0CAAM;AACb;AACA;AACA,eAAe,0CAAM;AACrB,QAAQ;AACR,eAAe,0CAAM;AACrB;AACA,MAAM;AACN;AACA,eAAe,0CAAM;AACrB,QAAQ;AACR;AACA;AACA,MAAM;AACN,aAAa,0CAAM;AACnB,MAAM;AACN,aAAa,0CAAM;AACnB,MAAM;AACN;AACA;AACA;AACA;AACA;;AAE+C;;;;;;;;;;;;;;;;;;;;;;;ACpPF;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,qBAAM,iBAAiB,qBAAM,YAAY,qBAAM,IAAI,qBAAM;AACvI,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,QAAQ;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA,iEAAiE;AACjE,QAAQ;AACR,yBAAyB,YAAY;AACrC,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,OAAO,IAAI;AACX,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,sDAAc;AAChB;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEuH;;;;;;;;;;;;;;AC7MvH;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAE2C;;;;;;;;;;;;AC7B3C;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA,yCAAyC,IAAI;AAC7C;AACA,2FAA2F,aAAa;AACxG;AACA;AACA;AACA;AACA;AACA;;AAEqB;;;;;;;;;;;;;;ACnBmB;;AAExC;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,eAAe;AAC5B;AACA;AACA,4BAA4B,0CAA0C;AACtE;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,QAAQ;AACR;;AAEA,MAAM;;AAEN;AACA,gEAAgE,sBAAsB;AACtF;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA,SAAS,6EAA6E;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,kCAAkC,2DAAM;;AAExC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA,mBAAmB,uKAAuK;AAC1L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,cAAc,qBAAqB;AACnC;AACA,QAAQ,aAAa,gCAAgC,yDAAyD,wBAAwB,QAAQ,EAAE,8BAA8B,EAAE,0FAA0F,WAAW;AACrR;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEuB;;;;;;;;;;;;AC1IvB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;;;;;;;;;;ACbF;AACb,6BAA6C,EAAE,aAAa,CAAC;AAC7D,UAAY,GAAG,UAAe,GAAG,UAAkB;AACnD;AACA;AACA;AACA,UAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,IAAI;AAChC;AACA;AACA;AACA,oBAAoB,UAAkB,KAAK,YAAY;AACvD;AACA;AACA,UAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,UAAY;;;;;;;;;ACnDC;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA,YAAY,mBAAO,CAAC,KAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,sBAAsB;;;;;;;;;;ACpdT;AACb;AACA;AACA,6BAA6C,EAAE,aAAa,CAAC;AAC7D,eAAe,mBAAO,CAAC,KAAmB;AAC1C,iBAAiB,mBAAO,CAAC,KAAqB;AAC9C,aAAa,mBAAO,CAAC,KAAiB;AACtC,eAAe,mBAAO,CAAC,KAAmB;AAC1C,sBAAsB,mBAAO,CAAC,KAA0B;AACxD,UAAkB;AAClB,UAAoB;AACpB,UAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,UAAoB;AAC/C,yBAAyB,UAAkB;AAC3C,2BAA2B,UAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,UAAwB;;;;;;;;;AClLX;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA,eAAe,mBAAO,CAAC,KAAmB;AAC1C,aAAa,mBAAO,CAAC,KAAiB;AACtC;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,yBAAyB;AACzB,yBAAyB;AACzB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtQa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;;;;;;;;AC5DA;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;;;;;;;;;ACXa;AACb;AACA;AACA,6BAA6C,EAAE,aAAa,CAAC;AAC7D,aAAa,mBAAO,CAAC,KAAiB;AACtC,aAAa,mBAAO,CAAC,KAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAY;AACZ;;;;;;;;;ACxFa;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA,aAAa,mBAAO,CAAC,KAAiB;AACtC,sBAAsB,mBAAO,CAAC,KAA0B;AACxD,aAAa,mBAAO,CAAC,KAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;;;;;;;;AC/KA;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;;;;;;;;AC3Da;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA,sBAAsB,mBAAO,CAAC,KAA0B;AACxD,aAAa,mBAAO,CAAC,KAAiB;AACtC,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,UAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;;;;;;;;ACpaA;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,oBAAoB,GAAG,oBAAoB,GAAG,mBAAmB,GAAG,2BAA2B;AAChI,iBAAiB,mBAAO,CAAC,KAAiB;AAC1C,iBAAiB,mBAAO,CAAC,KAAmB;AAC5C,eAAe,mBAAO,CAAC,KAAiB;AACxC,2BAA2B;AAC3B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;;;;;;;;AC/EjB;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA,2BAA2B;;;;;;;;;AC9Bd;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,eAAe,mBAAO,CAAC,KAAiB;AACxC;AACA;AACA;AACA;AACA,YAAY,IAA8B;AAC1C,+BAA+B,mBAAO,CAAC,KAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;;;;;;;;ACxCX;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,kBAAkB,mBAAO,CAAC,KAAW;AACrC,eAAe,mBAAO,CAAC,IAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;;;;;;;;;AClCb;AACb;AACA;AACA,6BAA6C,EAAE,aAAa,CAAC;AAC7D,eAAe,mBAAO,CAAC,KAAmB;AAC1C,aAAa,mBAAO,CAAC,KAAiB;AACtC,SAAqB;AACrB,UAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,SAAqB;AACjD;AACA,yBAAyB,UAAkB;AAC3C;AACA,yCAAyC;AACzC,yCAAyC;AACzC,4CAA4C;AAC5C,gCAAgC;AAChC,+BAA+B;AAC/B,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,UAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAY;;;;;;;;;AC/OC;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,KAAmB;AAC1C,aAAa,mBAAO,CAAC,KAAiB;AACtC,qBAAqB;AACrB,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,2CAA2C;AAC3C,2CAA2C;AAC3C,2CAA2C;AAC3C,4CAA4C;AAC5C,gCAAgC;AAChC,+BAA+B;AAC/B,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;;;;;;;;ACriBC;AACb;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA,YAAY;;;;;;;;;;AC1BC;AACb;AACA;AACA,6BAA6C,EAAE,aAAa,CAAC;AAC7D,UAAiB,GAAG,UAAuB,GAAG,yBAA+B,GAAG,yBAAsB,GAAG,yBAAkB,GAAG,yBAAyB,GAAG,UAAyB,GAAG,UAAyB;AAC/M;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,KAAmB;AAC5C,eAAe,mBAAO,CAAC,KAAiB;AACxC,UAAyB;AACzB,UAAyB;AACzB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAkB;AAClB;AACA;AACA;AACA,yBAAsB;AACtB;AACA,wBAAwB,UAAyB;AACjD,gDAAgD,UAAyB,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,UAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAyB;AACxD;AACA;AACA,kCAAkC,UAAyB;AAC3D;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAiB;;;;;;;;;AC1nBJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC,GAAG,uBAAuB,GAAG,uBAAuB;AACpF;AACA,YAAY,qBAAM,aAAa,qBAAM,uBAAuB,qBAAM,aAAa,qBAAM,aAAa,qBAAM,uBAAuB,qBAAM;AACrI;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,gCAAgC;;;;;;;;;ACfnB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,GAAG,cAAc,GAAG,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;;;;;;;;;AClBJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,KAAO;AAC/B,qBAAqB,mBAAO,CAAC,KAAU;AACvC,qBAAqB,mBAAO,CAAC,KAAO;;;;;;;;;;;;ACJ7B;AACP;;;;;;;;;;;;;;ACDyB;;;;;;;;;ACAZ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,0BAA0B;AACrD,eAAe,mBAAO,CAAC,KAAqB;AAC5C,0BAA0B;AAC1B,wBAAwB;AACxB;AACA;;;;;;;;;ACPa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,KAAO;AAC/B,qBAAqB,mBAAO,CAAC,KAAa;;;;;;;;;ACH7B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,gBAAgB,mBAAO,CAAC,KAAO;AAC/B,iBAAiB,mBAAO,CAAC,KAAQ;AACjC,eAAe,mBAAO,CAAC,KAAqB;AAC5C,gBAAgB,mBAAO,CAAC,KAAS;AACjC,oBAAoB,mBAAO,CAAC,IAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;ACnDJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,KAAO;AAC/B,qBAAqB,mBAAO,CAAC,KAAa;AAC1C,qBAAqB,mBAAO,CAAC,KAAS;AACtC,qBAAqB,mBAAO,CAAC,IAAa;;;;;;;;;ACL7B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,iBAAiB,mBAAO,CAAC,KAAuB;AAChD;AACA;AACA;AACA;AACA;AACA,kBAAkB;;;;;;;;;ACTL;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,KAAO;AAC/B,qBAAqB,mBAAO,CAAC,KAAa;;;;;;;;;;;;;;;;;;;;;;ACHJ;AACoG;AACnI,8BAA8B,oBAAgB;AACrD;AACA;AACA,0BAA0B,mBAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,4BAAoB,qDAAqD,sBAAc;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,WAAW;AACzC,oBAAoB,sBAAc;AAClC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yBAAiB;AAC7B,gCAAgC,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qGAAqG,YAAY,EAAE,mBAAmB,aAAa,QAAQ;AAC3J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAAe,+DAAe,IAAC;;;AC3GG;AACP;AAC3B,+CAAe,wDAAQ,IAAC;;;;;;;;;;;;;;;;;ACFjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gEAAgB;AAChD;AACP,qBAAqB,sCAAsC;AAC3D,yBAAyB,0CAA0C;AACnE,0BAA0B,2CAA2C;AACrE,wBAAwB,yCAAyC;AACjE,wBAAwB,yCAAyC;AACjE,sBAAsB,uCAAuC;AAC7D;AACO;;;;;;;;;;;;;;;;;;;;;;;;AChB6C;AAC7C,iBAAiB,sDAAM;AACa;;;;;;;;;;;;;;;;;ACFqE;AACzG;AACP;AACA;AACO;AACP,WAAW,sEAAoB;AAC/B;AACO;AACP;AACA;AACO;AACP,qBAAqB,oEAAkB;AACvC,eAAe,oEAAkB,CAAC,+DAAa;AAC/C;AACA,WAAW,oEAAkB;AAC7B;AACO;AACP,gCAAgC,oEAAkB;AAClD;AACA,eAAe,oEAAkB,CAAC,+DAAa;AAC/C;AACA;AACA;AACO;AACP;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,4DAA4D,oBAAoB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,oBAAoB;AACvF;AACA;AACA;AACA,aAAa;AACb;AACO;AACP;AACA,mCAAmC,MAAM,aAAa,IAAI;AAC1D;AACA;;;;;;;;;;;;;;;;;;ACpDwE;AACb;AACpD;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,0DAAQ,CAAC,gEAAc;AACtC;AACA;AACA,8CAA8C,EAAE,0DAAQ,CAAC,8DAAY,MAAM,gBAAgB;AAC3F;AACA;AACA;AACA;AACA,QAAQ,qEAAmB;AAC3B,gBAAgB,gEAAc;AAC9B;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9C4B;AACJ;AACF;AACG;AACC;AACF;AACF;AACO;;;;;;;;;;;;;;;;;;ACPtB,MAAM,YAAO;AACpB;;;ACDiC;AAC1B,iCAAiC,uDAAO;AAC/C;AACA;AACA;AACA;AACO,mCAAmC,YAAO;AACjD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;ACf0B;AACH;AACI;AACC;;;ACHiB;;;;;;;;;;;;;;ACA7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP,2CAA2C,IAAI;AAC/C;;;;;;;;;;;;;;;;ACtBO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACpBsC;AACsC;AACqD;AACjI;AACA;AACA,eAAe,qBAAM,2BAA2B,qBAAM;AACtD,eAAe,qBAAM;AACrB;AACA;AACA;AACA;AACA,WAAW,mBAAO,CAAC,KAAI;AACvB;AACA;AACA;AACO;AACP;AACA;AACA,0BAA0B,mBAAY;AACtC;AACA,aAAa,oBAAO;AACpB,yFAAyF,IAAI;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gCAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,oBAAO;AACpB,yFAAyF,IAAI;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,0BAA0B,0BAAa,OAAO,qBAAqB,2BAAc,QAAQ;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4BAAa;AAClE;AACA;AACA;AACA;AACA;AACA,wBAAwB,+BAAkB;AAC1C;AACA;AACA;AACA,eAAe,iCAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wKAAwK,SAAS;AACjL;AACA;AACA;AACA;AACA,yCAAe,YAAY,EAAC;;;AC1JI;AACX;AACrB,qEAAe,EAAY,EAAC;;;;;;;;;;ACFf;AACb,6BAA6C,EAAE,aAAa,CAAC;AAC7D,yBAAuB;AACvB,gBAAgB,mBAAO,CAAC,KAAO;AAC/B,0BAA0B,mBAAO,CAAC,KAAiB;AACnD,+CAA+C,mBAAO,CAAC,KAAoB;AAC3E,iBAAiB,mBAAO,CAAC,IAAW;AACpC;AACA;AACA;AACA;AACA;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CxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,uBAAuB;;;;;;;;;;AC1DV;AACb,6BAA6C,EAAE,aAAa,CAAC;AAC7D,SAAyB;AACzB,yBAAyB,mBAAO,CAAC,KAA+B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAyB;;;;;;;;;AChGzB;AACY;;AAEZ;AACA,QAAQ,+BAA+B;AACvC;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B,yBAAsB;;;;;;;;ACZtB;AACA,EAAE,KAA0C,GAAG,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,kGAAC;AAC9D,EAAE,CAAS;AACX,CAAC,iBAAiB;;AAElB;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kFAAkF;AAClF;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gDAAgD,OAAO;AACvD;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG,uCAAuC,qBAAM;;AAEhD,CAAC;;;;;;;;AC/hBD;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B,mBAAmB;AACnB,iBAAiB;AACjB,qBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,SAAS;AACvC;AACA;AACA;AACA;;;;;;;;;AC3BA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACnFY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,mCAA6B;AAC3C;AACA,gCAAgC;AAChC;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE,qCAAqC;AACrC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,6CAA6C;AAC5E;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY,SAAS;AAChC;AACA;AACA;AACA,sCAAsC;AACtC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,+BAA+B,6CAA6C;AAC5E;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtHY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,2CAA2C;AAC3C,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,6CAA6C;AAC5E;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY,SAAS;AAChC;AACA;AACA;AACA,sCAAsC;AACtC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,+BAA+B,6CAA6C;AAC5E;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE,cAAc;AAChB;AACA;;AAEA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA,EAAE,cAAc;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;;AC1DW;;AAEZ,kBAAkB;AAClB,mBAAmB;AACnB,qBAAqB;;AAErB;AACA;AACA;;AAEA;AACA,mCAAmC,SAAS;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C,UAAU;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACrJa;;AAEb,6BAA6C,EAAE,aAAa,CAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA,2BAA2B,IAAI;AAC/B;AACA;AACA;AACA,UAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,IAAI;AAC/B;AACA;AACA;AACA,yBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA;AACA;AACA,qCAAqC,MAAM;AAC3C;AACA,UAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA,qCAAqC,MAAM;AAC3C;AACA,yBAAkB;;;;;;;;ACpElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,CAAC;;;;;;;;ACnGD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iBAAiB,mBAAO,CAAC,KAAQ;AACjC;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;;;;;;;AChEA,UAAU,mBAAO,CAAC,KAAgB;AAClC,UAAU,mBAAO,CAAC,KAAwB;AAC1C,eAAe,mBAAO,CAAC,KAAsB;AAC7C,eAAe,mBAAO,CAAC,KAAsB;AAC7C,WAAW,mBAAO,CAAC,KAAgB;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,+BAA+B;;AAEvE;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,8CAA8C;;AAEtF;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,GAAG,cAAc;AACrC,sBAAsB,GAAG,gBAAgB;AACzC,sBAAsB,GAAG,gBAAgB;AACzC,wBAAwB,GAAG,kBAAkB;AAC7C,mBAAmB,GAAG,kBAAkB;;;;;;;;AClExC,iBAAiB,mBAAO,CAAC,IAAa;AACtC,UAAU,mBAAO,CAAC,KAAQ;AAC1B,eAAe,mBAAO,CAAC,KAAU;AACjC,aAAa,mCAA6B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjDA,kBAAkB;AAClB;AACA;AACA;AACA,kBAAkB,GAAG,WAAW;AAChC;AACA;AACA;AACA,uBAAuB,GAAG,YAAY;AACtC;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;;;;;;;;ACvBA,SAAS,mBAAO,CAAC,KAAO;AACxB,kBAAkB,mBAAO,CAAC,KAAa;;AAEvC;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,MAAM;AAChF;AACA;;AAEA;;;;;;;;AClCA,2CAAqD;;;;;;;;ACArD,aAAa,mCAA6B;AAC1C,iBAAiB,mBAAO,CAAC,KAAa;AACtC,aAAa,mBAAO,CAAC,KAAiB;AACtC,eAAe,mBAAO,CAAC,KAAU;AACjC,WAAW,mBAAO,CAAC,KAAQ;AAC3B,aAAa,mBAAO,CAAC,KAAU;;AAE/B,iBAAiB,mBAAO,CAAC,KAAmB;AAC5C;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3FA;AACA,aAAa,mCAA6B;AAC1C,iBAAiB,mBAAO,CAAC,KAAa;AACtC,UAAU,mBAAO,CAAC,KAAgB;AAClC,SAAS,+BAAsB;AAC/B,SAAS,mBAAO,CAAC,KAAO;AACxB,gBAAgB,mBAAO,CAAC,KAAY;AACpC,aAAa,mBAAO,CAAC,KAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB,sBAAsB;;;;;;;;AC9ItB;AACA,aAAa,mCAA6B;AAC1C,SAAS,mBAAO,CAAC,KAAO;AACxB,SAAS,+BAAsB;AAC/B,gBAAgB,mBAAO,CAAC,KAAY;AACpC,aAAa,mBAAO,CAAC,KAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;ACnFA,YAAY,mBAAO,CAAC,KAAQ;AAC5B;;AAEA;;;;;;;;ACHA,cAAc,mBAAO,CAAC,IAAQ;AAC9B;;AAEA;;;;;;;;;ACHA;AACA;AACA,mBAAmB,MAAM;;AAEzB,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/Da;;AAEb,mBAAmB,mBAAO,CAAC,KAAe;;AAE1C,eAAe,mBAAO,CAAC,KAAI;;AAE3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACda;;AAEb,WAAW,mBAAO,CAAC,KAAe;AAClC,mBAAmB,mBAAO,CAAC,KAAe;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,SAAS,UAAU;AACvC,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4CAA4C,kBAAkB;AAC9D,EAAE;AACF,CAAC,oBAAoB;AACrB;;;;;;;;;AC9CY;;AAEZ,WAAW,mBAAO,CAAC,KAAa;AAChC,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACnDY;;AAEZ,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;AACnC,WAAW,mBAAO,CAAC,KAAa;AAChC,kBAAkB,mBAAO,CAAC,KAAW;AACrC,mBAAmB,mBAAO,CAAC,KAAY;AACvC,eAAe,mBAAO,CAAC,KAAgC;AACvD,gBAAgB,mBAAO,CAAC,KAAY;AACpC,eAAe,mBAAO,CAAC,KAAU;;AAEjC;AACA,aAAa,QAAQ;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,gBAAgB;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,+CAA+C,eAAe;AAC9D;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA,YAAY,eAAe;;AAE3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;;;;;;;;ACnTA,aAAa,mCAA6B;AAC1C,gBAAgB,sCAA2B;AAC3C,oBAAoB,mDAAuC;AAC3D,eAAe,mBAAO,CAAC,KAAU;;AAEjC;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;AClGa;;AAEb,yBAAyB,uBAAuB;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,aAAa;AACnE;;AAEA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL,wBAAwB,UAAU;;AAElC;AACA;;AAEA,8BAA8B,mCAAmC;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,uDAAuD,aAAa;AACpE;;AAEA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL,wBAAwB,UAAU;;AAElC;AACA;;AAEA;AACA,oBAAoB;;;;;;;;ACjEpB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,iBAAiB;AAC5B,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC7KA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,IAAM;AAC1B;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;;;;;;;ACjCvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,IAAY;AACnC;AACA,QAAQ,8BAA8B,EAAE,mBAAO,CAAC,IAAY;AAC5D,QAAQ,kBAAkB,EAAE,mBAAO,CAAC,KAAW;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,IAAM;AAC1B,eAAe,mBAAO,CAAC,KAAa;AACpC;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,YAAY,QAAQ;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,YAAY,QAAQ;AACpB,aAAa;AACb;AACA;AACA,WAAW,MAAM;AACjB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,yBAAyB;AACzB,gBAAgB;;;;;;;ACvHhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB,4DAAoD;;AAEpD;AACA;AACA;;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAA2B;AAChC;AACA,IAAI,KAAK,EAQN;AACH,GAAG;AACH,oBAAoB;AACpB;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,YAAY,UAAU;AACtB,YAAY,UAAU;AACtB;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,MAAM;AACvC;AACA;;AAEA;AACA;AACA,OAAO,MAAM;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C,MAAM;AACpD;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ,oBAAoB;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;AClHD,eAAe,mBAAO,CAAC,KAAU;AACjC,SAAS,mBAAO,CAAC,KAAO;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,MAAM;AACb,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO,MAAM;AACb,cAAc,MAAM;AACpB;A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BAAY;AACZ,UAAc;AACd,yBAAc;AACd,yBAAc;;;;;;;;;ACtDD;AACb,uBAAuB,EAAE;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA,kBAAkB,mBAAmB;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;AC7Fa;;AAEb,WAAW,mBAAO,CAAC,KAAa;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA6B,mBAAO,CAAC,KAA0B;;AAE/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,GAAG;AACH,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;;AAEA;;;;;;;;;ACpDa;;AAEb,0CAAsC;AACtC,2CAAwC;AACxC,wCAAkC;AAClC,wCAAkC;AAClC,wCAAkC;;;;;;;;;ACNrB;;AAEb,aAAa,mBAAO,CAAC,KAAqB;AAC1C,eAAe,mBAAO,CAAC,KAAU;;AAEjC;;AAEA;AACA;;AAEA;AACA,kBAAkB,oBAAoB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB;;AAEnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,oBAAoB;AACxC;;AAEA;;AAEA,oBAAoB,oBAAoB;AACxC;AACA,IAAI;AACJ;;AAEA,oBAAoB,oBAAoB;AACxC;;AAEA,oBAAoB,oBAAoB;AACxC;AACA;AACA;;;;;;;;;AChEa;;AAEb,aAAa,mBAAO,CAAC,KAAqB;;AAE1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS,gBAAgB;AACzB;AACA;AACA;;AAEA;AACA,SAAS,wBAAwB;AACjC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS,WAAW;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC5Ia;;AAEb,aAAa,mBAAO,CAAC,KAAqB;AAC1C,eAAe,mBAAO,CAAC,KAAU;;AAEjC,YAAY,mBAAO,CAAC,KAAS;AAC7B,aAAa,mBAAO,CAAC,KAAU;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,mBAAmB;AACvC;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC,mBAAmB;AACvD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB,uBAAuB;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sCAAsC,QAAQ;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AC7Ia;;AAEb,aAAa,mBAAO,CAAC,KAAqB;AAC1C,eAAe,mBAAO,CAAC,KAAU;;AAEjC,aAAa,mBAAO,CAAC,KAAU;AAC/B,UAAU,mBAAO,CAAC,KAAO;;AAEzB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,0BAA0B;AAC7C,mBAAmB,0BAA0B;AAC7C,mBAAmB,0BAA0B;AAC7C;AACA,IAAI;AACJ;AACA,mBAAmB,0BAA0B;AAC7C,mBAAmB,0BAA0B;AAC7C,mBAAmB,0BAA0B;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACrDa;;AAEb,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;;AAEA,kBAAkB,QAAQ;AAC1B,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;;AAEA,kBAAkB,QAAQ;AAC1B,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,WAAW;AACX;AACA;;AAEA,kBAAkB,OAAO;AACzB,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,WAAW;AACX;AACA;;AAEA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;;AAEA;AACA;AACA;;AAEA,cAAc;AACd;AACA;;AAEA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA,kBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe;AACf;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,kBAAkB,UAAU;AAC5B;AACA;AACA;;;;;;;;AC/PA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA,iDAAiD,SAAe;AAChE;AACA;AACA,aAAa,SAAe;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AClIA,qBAAqB,SAAI,IAAI,SAAI;AACjC,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACmB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC8B;AAC/B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;AACkB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC0B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4CAA4C;AACzF;AACA;AACA,6BAA6B;AAC7B;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,0DAA0D,YAAY;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,mDAAmD,SAAe;AAClE,iCAAiC,SAAe;AAChD;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;;;;;;;;;ACrNA,oBAAoB,mBAAO,CAAC,KAAqB;AACjD,aAAa,mBAAO,CAAC,KAAmB;;AAExC,SAAS,mBAAO,CAAC,KAAU;;AAE3B;AACA,kBAAkB,MAAM;AACxB,gBAAgB,MAAM;;AAEtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM,MAAM;AACZ;AACA;;AAEA;AACA;AACA,+BAA+B,MAAM;;AAErC,OAAO,MAAM;AACb,oBAAoB,MAAM;AAC1B;;AAEA;AACA;AACA;;AAEA,OAAO,MAAM;AACb,gBAAgB,MAAM;AACtB;;AAEA;AACA;;AAEA,0BAA0B,GAAG,gCAAgC,GAAG,wBAAwB;AACxF,2BAA2B,GAAG,qBAAqB;;;;;;;;;ACzCnD,SAAS,mBAAO,CAAC,KAAO;AACxB,kBAAkB,mBAAO,CAAC,KAAc;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAO,CAAC,KAAiB;AACtC,kBAAkB,mBAAO,CAAC,KAAa;AACvC;;AAEA;AACA;AACA,OAAO,MAAM;AACb,cAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,MAAM;AACb,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO,MAAM;AACb,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;ACnKA,kBAAkB,mBAAO,CAAC,KAAa;AACvC;AACA;AACA;AACA,SAAS,mBAAO,CAAC,KAAO;AACxB;AACA,kBAAkB,mBAAO,CAAC,KAAc;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,WAAW;AACpC;AACA,oBAAoB,yBAAyB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACxGA,WAAW,mBAAO,CAAC,KAAM;;AAEzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE,uCAAgB;AAClB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,4BAA4B;AAC/B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7FA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;;;;;;;;AClCD,WAAW,uCAA6B;AACxC,YAAY,mBAAO,CAAC,IAAe;;AAEnC;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;;AAEA;;AAEA;AACA;;AAEA,mCAAmC,QAAQ;AAC3C;AACA,sBAAsB,MAAM;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA,uCAAuC,wCAAwC;AAC/E;;AAEA,YAAY;AACZ,iBAAiB;;;;;;;;;AC7BJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,wBAAwB;AACxD,8BAA8B,mBAAO,CAAC,KAAqB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC1Ea;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,GAAG,kBAAkB;AACxC,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,mBAAmB;AACnB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;AC1Fa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,kBAAkB,mBAAO,CAAC,IAAW;AACrC,gBAAgB,mBAAO,CAAC,KAAS;AACjC,0BAA0B,mBAAO,CAAC,KAAmB;AACrD,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACzIa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,sBAAsB,GAAG,6BAA6B,GAAG,wBAAwB,GAAG,iBAAiB,GAAG,kBAAkB;AACvJ,kBAAkB,mBAAO,CAAC,IAAW;AACrC,oDAAmD,EAAE,qCAAqC,sCAAsC,EAAC;AACjI,yDAAwD,EAAE,qCAAqC,2CAA2C,EAAC;AAC3I,gBAAgB,mBAAO,CAAC,KAAS;AACjC,kDAAiD,EAAE,qCAAqC,kCAAkC,EAAC;AAC3H,sDAAqD,EAAE,qCAAqC,sCAAsC,EAAC;AACnI,iBAAiB,mBAAO,CAAC,KAAU;AACnC,6CAA4C,EAAE,qCAAqC,8BAA8B,EAAC;AAClH,0BAA0B,mBAAO,CAAC,KAAmB;AACrD,8CAA6C,EAAE,qCAAqC,wCAAwC,EAAC;;;;;;;;;ACZhH;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,mBAAmB,GAAG,0BAA0B,GAAG,qCAAqC;AACjH,0BAA0B,mBAAO,CAAC,KAAmB;AACrD,kBAAkB,mBAAO,CAAC,IAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,8DAA8D,IAAI;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC7Ga;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,KAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,IAAI;AAC7B;AACA;AACA,wBAAwB,IAAI;AAC5B,wBAAwB,IAAI;AAC5B;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,gBAAgB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,gBAAgB;AAC5E;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,GAAG;AAC5B;AACA;AACA,6BAA6B,GAAG;AAChC,wBAAwB,GAAG;AAC3B;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,GAAG;AAC5C;AACA;AACA,gCAAgC,EAAE,YAAY,MAAM;AACpD;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;AC3JJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,KAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA,gBAAgB,gCAAgC;AAChD;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACpGa;AACb,8CAA6C,EAAE,aA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Ac;AACd;AACA,wBAAwB,KAA6B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;AC9DY;;AAEb,SAAS,mBAAO,CAAC,KAAO;AACxB,iBAAiB,mBAAO,CAAC,KAAc;;AAEvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6CAA6C;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;;AAE1C;AACA,oCAAoC,EAAE;AACtC;;AAEA,oEAAoE;;AAEpE;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;;AAEA;AACA,gDAAgD;AAChD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvKa;AACb,6BAA6C,EAAE,aAAa,CAAC;AAC7D,yBAAyB,mBAAO,CAAC,KAAkB;AACnD,UAAqB;AACrB;AACA,iDAAiD,MAAM;AACvD;AACA;AACA,KAAK;AACL;AACA,yBAAiB;AACjB,yBAAe;;;;;;;;;ACXF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,uBAAuB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,8BAA8B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,8BAA8B;AAC3E;AACA;AACA;AACA,8CAA8C,iBAAiB;AAC/D,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,yCAAyC,8BAA8B;AACvE,aAAa;AACb;AACA;AACA;AACA;AACA,0BAA0B,wCAAwC,IAAI;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA,qBAAqB;AACrB,kBAAe;;;;;;;;;ACxHF;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA,gBAAgB,YAAY;AAC5B;;AAEA;AACA,4DAA4D;AAC5D,gEAAgE;AAChE,oEAAoE;AACpE,wEAAwE;AACxE;AACA,2DAA2D,SAAS;AACpE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,4DAA4D,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;AC/Ua;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA,gBAAgB,YAAY;AAC5B;;AAEA;AACA,4DAA4D;AAC5D,gEAAgE;AAChE,oEAAoE;AACpE,wEAAwE;AACxE;AACA,2DAA2D,SAAS;AACpE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,4DAA4D,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;AC/UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,sBAAsB;AACxC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;;AAEA;AACA,SAAS,yBAAyB;AAClC;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,8DAA8D,YAAY;AAC1E;AACA,8DAA8D,YAAY;AAC1E;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qCAAqC,YAAY;AACjD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;;;;;;;;AChfA,aAAa,mCAA6B;AAC1C,UAAU,mBAAO,CAAC,KAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;;AAEA;;;;;;;;;AC5CA,eAAe,mCAAiC;AAChD,iBAAiB,qCAAwB;AACzC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA,MAAM,MAAM;AACZ;AACA,mBAAmB,MAAM;AACzB;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA,QAAQ,MAAM;AACd;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;;;;;;;;AC/Ea;AACb,iBAAiB,mBAAO,CAAC,KAAQ;AACjC;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,yBAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChEa;;AAEb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qBAAqB,UAAU;AAC/B;;AAEA,qBAAqB,UAAU;AAC/B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtDA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA,MAAM;AACN;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpOa;AACb;AACA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AChBa;;AAEb,iBAAiB,mBAAO,CAAC,KAAa;;AAEtC;AACA;;AAEA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;;AAEA;;;;;;;;;AC7Da;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;;AAEA,+EAA+E,sCAAsC;;AAErH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACnDa;;AAEb,qBAAqB,mBAAO,CAAC,KAAkB;;AAE/C;;;;;;;;;ACJa;;AAEb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC,8CAA8C;AAChF,GAAG;AACH;;AAEA;AACA;AACA;AACA,UAAU;AACV,GAAG;AACH,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,IAAI;AACJ;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,EAAE;AACF;;AAEA,iBAAiB,mBAAO,CAAC,KAAa;AACtC,eAAe,mBAAO,CAAC,KAAW;;AAElC;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD,GAAG;AACH,gDAAgD;AAChD,GAAG;AACH,sDAAsD;AACtD,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,mBAAO,CAAC,KAAe;AAClC,aAAa,mBAAO,CAAC,KAAK;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9Va;;AAEb,mBAAmB,mBAAO,CAAC,KAAe;;AAE1C;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;ACfA;;AAEA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,KAAS;;AAE/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,MAAM,mBAAmB,MAAM,aAAa,MAAM;AAChE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;;;;;;;;AChBa;;AAEb,mBAAmB,mBAAO,CAAC,KAAe;;AAE1C;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS,UAAU;AACxC;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,UAAU;AACnD,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;AChCa;;AAEb;AACA;AACA;;AAEA;;AAEA;AACA,UAAU,iBAAiB,yBAAyB,kBAAkB;AACtE;;;;;;;;;ACVa;;AAEb;AACA,oBAAoB,mBAAO,CAAC,KAAS;;AAErC;AACA,yCAAyC;AACzC,qCAAqC;AACrC,8CAA8C;AAC9C,0CAA0C;;AAE1C;AACA;;;;;;;;;ACZa;;AAEb;AACA;AACA,2FAA2F;AAC3F,4CAA4C;;AAE5C;AACA;AACA;AACA,gCAAgC;;AAEhC,kEAAkE;AAClE,qEAAqE;;AAErE;AACA,iCAAiC;AACjC;AACA,uCAAuC;;AAEvC,2DAA2D;AAC3D,+DAA+D;;AAE/D;AACA;AACA,oBAAoB,gBAAgB;AACpC,2EAA2E;;AAE3E,yGAAyG;;AAEzG;AACA,6CAA6C;;AAE7C,8DAA8D;;AAE9D;AACA;AACA,uEAAuE;AACvE;;AAEA;AACA;;;;;;;;;ACzCa;;AAEb,iBAAiB,mBAAO,CAAC,KAAmB;;AAE5C;AACA;AACA;;;;;;;;;ACNa;;AAEb,WAAW,mBAAO,CAAC,KAAe;;AAElC;;;;;;;;;ACJY;AACZ,aAAa,mCAA6B;AAC1C,gBAAgB,sCAAoC;AACpD,eAAe,mBAAO,CAAC,KAAU;;AAEjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;;AAEA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,OAAO;;AAEzB;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;AC9Fa;;AAEb,WAAW,mBAAO,CAAC,KAAS;AAC5B,YAAY,mBAAO,CAAC,KAA2B;AAC/C,aAAa,mBAAO,CAAC,KAAqB;;AAE1C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;AChHA,WAAW,mBAAO,CAAC,IAAM;AACzB,UAAU,mBAAO,CAAC,KAAK;;AAEvB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9BA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS,WAAW;;AAEpB;AACA;AACA;AACA,SAAS,WAAW;;AAEpB;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA,SAAS,WAAW;;AAEpB;AACA;AACA,SAAS,UAAU;;AAEnB;AACA;;;;;;;;;ACnFA;;AAEA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC1Ba;;AAEb,qBAAqB,mBAAO,CAAC,KAAuB;AACpD,gBAAgB,mBAAO,CAAC,IAAqB;;AAE7C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,2DAA2D;;AAE3D;;;;;;;;;AChCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,6BAA6B,WAAW;AACxC,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,2CAA2C;AAC3C,2EAA2E;;AAE3E,0BAA0B;;AAE1B,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,MAAM,YAAY;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,gBAAgB;AAChB,kEAAk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;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG;AACjG;AACA,IAAI;AACJ;AACA;AACA,yBAAyB;AACzB;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;;;;;;;;;AC9Da;;AAEb,aAAa,+BAAkB;AAC/B,wBAAwB,mBAAO,CAAC,KAAuB;;AAEvD;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY,SAAS;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2FAA2F,gBAAgB;AAC3G;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,YAAY,cAAc;AAC1B,YAAY,cAAc;AAC1B,YAAY,eAAe;AAC3B,YAAY,UAAU;AACtB,aAAa,WAAW;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AClKa;;AAEb,aAAa,+BAAkB;;AAE/B;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,cAAc;AAC1B,YAAY,oBAAoB;AAChC,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB,YAAY,SAAS;AACrB,YAAY,UAAU;AACtB,aAAa,WAAW;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG;AACjG;AACA,IAAI;AACJ;AACA;AACA,yBAAyB;AACzB;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;;;;;;;;;AC9Da;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,6CAA6C,mBAAO,CAAC,KAA8B;AACnF,yBAAyB,mBAAO,CAAC,KAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6JAA6J,iBAAiB,KAAK,oBAAoB;AACvM,+BAA+B,sCAAsC;AACrE;AACA;AACA,2JAA2J,wBAAwB,KAAK,oBAAoB;AAC5M,+BAA+B,yCAAyC;AACxE;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,qBAAqB,kBAAkB,aAAa,KAAK,cAAc;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kKAAkK,aAAa,KAAK,cAAc;AAClM;AACA;AACA,4IAA4I,aAAa,KAAK,cAAc;AAC5K;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;;;;;;;;ACxPa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;;;;;;;;AChEhB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;;;;;;;;;ACnBnB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;;;;;;;;ACXN;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,sBAAsB,mBAAO,CAAC,KAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+BAA+B;;;;;;;;;ACjBlB;AACb;AACA;AACA,mCAAmC,oCAAoC,gBAAgB;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,KAAqB;AAC1C,aAAa,mBAAO,CAAC,KAAyB;AAC9C,aAAa,mBAAO,CAAC,IAA4B;AACjD,aAAa,mBAAO,CAAC,KAAe;AACpC,aAAa,mBAAO,CAAC,KAAiB;AACtC,aAAa,mBAAO,CAAC,KAAmB;;;;;;;;;ACjB3B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,wBAAwB,mBAAO,CAAC,KAAiB;AACjD;AACA;AACA;AACA;AACA;AACA,uBAAuB;;;;;;;;;ACTV;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,KAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB,kDAAkD,+BAA+B;AACjF;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kBAAe;;;;;;;;;ACjCF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6CAA6C,mBAAO,CAAC,KAA8B;AACnF,0BAA0B,mBAAO,CAAC,KAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,OAAO;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;AClEF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,0BAA0B;AAC3D,6CAA6C,mBAAO,CAAC,KAAsB;AAC3E,0BAA0B;AAC1B,iDAAiD,mBAAO,CAAC,KAA0B;AACnF,8BAA8B;;;;;;;;;ACTjB;;AAEb,gDAAgD,mBAAO,CAAC,KAAS;;AAEjE;AACA,UAAU;AACV;;AAEA;AACA,4DAA4D;AAC5D;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA,cAAc;AACd,mCAAmC,SAAS;AAC5C;AACA,kCAAkC;AAClC;AACA,yDAAyD;;AAEzD;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA,IAAI,OAAO;;AAEX;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;;AAEA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,+BAA+B;;AAE1C,EAAE,GAAG,SAAS;AACd;;;;;;;;;ACpFa;;AAEb,0CAAsC;AACtC,8CAA8C;;;;;;;;;ACHjC;;AAEb,QAAQ;AACR,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,cAAc;AACd,SAAS;AACT;AACA,eAAe;AACf,UAAU;AACV,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,gBAAgB;AAChB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,GAAG,YAAY;AACjB;;;;;;;;;ACpQa;;AAEb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA,QAAQ;AACR,QAAQ;AACR,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iCAAiC;AACjC,QAAQ,wDAAwD;AAChE,QAAQ,0BAA0B;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,WAAW;AAC7B;;;;;;;;;ACtJY;AACZ,eAAe,mBAAO,CAAC,KAAU;AACjC,eAAe,mBAAO,CAAC,KAAW;AAClC,aAAa,mCAA6B;;AAE1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kBAAkB,QAAQ;;AAE1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;ACjJa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,wBAAwB;AACzD;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,8CAA8C,WAAW;AACzD;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,iBAAiB,mBAAO,CAAC,IAAM;AAC/B,kBAAkB,mBAAO,CAAC,KAAO;AACjC,iBAAiB,mBAAO,CAAC,EAAM;AAC/B,YAAY,YAAY,EAAE,mBAAO,CAAC,KAAM;AACxC,YAAY,sBAAsB,EAAE,mBAAO,CAAC,KAAK;AACjD;AACA;AACA;AACA,mBAAmB,wCAAwC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iEAAiE;AAC5G;AACA;AACA;AACA,mFAAmF,iBAAiB;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,OAAO,YAAY,OAAO;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB,GAAG,gBAAgB;AAChE,8CAA8C,KAAK;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;ACxNf,SAAS,mBAAO,CAAC,KAAO;AACxB,cAAc,mBAAO,CAAC,KAAS;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAkB,cAAc;AAChC;;AAEA;;AAEA;AACA,SAAS,OAAO;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAkB,cAAc;AAChC;;AAEA;;AAEA,SAAS,OAAO;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AClHA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;ACVa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA,IAAI;AACJ,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvJY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACzBY;AACZ,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpBY;;AAEZ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;AChFY;AACZ,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;AC3CY;;AAEZ,aAAa,mBAAO,CAAC,IAAW;AAChC,cAAc,mBAAO,CAAC,KAAQ;AAC9B,eAAe,mBAAO,CAAC,KAAU;AACjC,eAAe,mBAAO,CAAC,KAAU;AACjC,eAAe,mBAAO,CAAC,KAAU;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC,IAAI;;AAEL;AACA;AACA;AACA,CAAC,IAAI;;AAEL;AACA;AACA;AACA;;;;;;;;;ACzCA;AACA;AACA;AACA;AACY;;AAEZ,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;AACnC,kBAAkB,mBAAO,CAAC,KAAa;;AAEvC;AACA,cAAc;AACd,cAAc;AACd,iBAAiB;AACjB,aAAa;AACb,aAAa;;AAEb;;AAEA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACnIY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACzBY;AACZ,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpBY;;AAEZ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;AChFY;AACZ,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;AC3CY;;AAEZ,aAAa,mBAAO,CAAC,KAAW;AAChC,cAAc,mBAAO,CAAC,KAAQ;AAC9B,eAAe,mBAAO,CAAC,KAAU;AACjC,eAAe,mBAAO,CAAC,KAAU;AACjC,eAAe,mBAAO,CAAC,KAAU;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC,IAAI;;AAEL;AACA;AACA;AACA,CAAC,IAAI;;AAEL;AACA;AACA;AACA;;;;;;;;;ACzCA;AACA;AACA;AACA;AACY;;AAEZ,QAAQ,SAAS,EAAE,mBAAO,CAAC,KAAQ;AACnC,kBAAkB,mBAAO,CAAC,KAAa;;AAEvC;AACA,cAAc;AACd,cAAc;AACd,iBAAiB;AACjB,aAAa;AACb,aAAa;;AAEb;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACjIa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,EAAE,kBAAkB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yDAAyD,uCAAgB;AACzE,SAAS,uCAAgB;AACzB;;AAEA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA,CAAC;;;;;;;;ACzED,SAAS,mBAAO,CAAC,KAAO;AACxB,qBAAqB,mBAAO,CAAC,KAAkB;;AAE/C;AACA;AACA,WAAW,sBAAsB;AACjC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,EAAE;AACvC;AACA,yDAAyD;AACzD;AACA;AACA;AACA,2GAA2G,EAAE;AAC7G;AACA;AACA;AACA;;AAEA,kBAAkB,mBAAO,CAAC,KAAgB;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;AACxC;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uDAAuD;AACvD;AACA;AACA,kGAAkG,gCAAgC;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uGAAuG;AAC7H;AACA,kCAAkC;AAClC,kBAAkB,uDAAuD;AACzE;AACA;AACA;AACA,sCAAsC,yBAAyB;AAC/D,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C;AACA,2BAA2B,iCAAiC;AAC5D;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD;AACjD;;AAEA,wBAAwB;AACxB,uBAAuB;AACvB,yBAAyB;AACzB,wBAAwB;AACxB,yBAAyB;AACzB,yBAAyB;AACzB,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA,iEAAiE;AACjE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA,aAAa;AACb;AACA;;AAEA;AACA,sBAAsB;AACtB,mCAAmC,OAAO;AAC1C,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,iCAAiC;AACjC,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,qCAAqC;AACrC,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,iCAAiC;AACjC,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,qCAAqC;AACrC,MAAM;AACN;AACA;;AAEA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,GAAG;AACzB;;AAEA;AACA;AACA,oCAAoC,sBAAsB;AAC1D;;AAEA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA,2BAA2B;AAC3B,8BAA8B,YAAY;AAC1C,wEAAwE,YAAY;AACpF;AACA;AACA,sBAAsB;AACtB,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACngBa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjBa;;AAEb,aAAa,mBAAO,CAAC,KAAmB;AACxC,eAAe,mBAAO,CAAC,KAAW;;AAElC,qBAAqB,mBAAO,CAAC,KAAkB;AAC/C,kBAAkB,mBAAO,CAAC,KAAY;AACtC,WAAW,mBAAO,CAAC,KAAQ;;AAE3B;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;ACjBa;;AAEb,qBAAqB,mBAAO,CAAC,KAAkB;;AAE/C;AACA;AACA;;;;;;;;;ACNa;;AAEb,kBAAkB,mBAAO,CAAC,KAAY;AACtC,aAAa,mBAAO,CAAC,KAAmB;;AAExC;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA,EAAE;AACF;AACA;;;;;;;;;ACba;;AAEb;AACA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,KAAe,GAAG;AACxC;AACA,2CAA2C,gBAAgB;AAC3D,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACzHa;;AAEb;AACA,aAAa,mBAAO,CAAC,KAAe;;AAEpC;AACA,6CAA6C,sBAAsB,EAAE,mBAAO,CAAC,KAAkB;;AAE/F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;AC/Ba;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChBa;;AAEb;AACA,iBAAiB,mBAAO,CAAC,KAAa;AACtC,iBAAiB,mBAAO,CAAC,KAAmB;AAC5C,gBAAgB,mBAAO,CAAC,IAAqB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB,4BAA4B;AAC5B;AACA,aAAa;AACb;AACA,iBAAiB,sBAAsB;AACvC,qCAAqC;;AAErC;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,iBAAiB;AACnC;AACA,2CAA2C;AAC3C,mCAAmC;AACnC,6BAA6B;AAC7B;AACA;AACA;;AAEA,YAAY;AACZ;;;;;;;;;AC7Ca;;AAEb,qBAAqB,mBAAO,CAAC,KAAkB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,MAAM;AAChD;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtDA,aAAa,mBAAO,CAAC,KAAQ;AAC7B;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACzCA;AACA;AACY;;AAEZ,WAAW,mBAAO,CAAC,KAAS;;AAE5B,gDAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;;AAErB,gBAAgB;AAChB;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;;AAEpB;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED,iBAAiB;AACjB;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;ACzHD;AACA;;AAEY;;AAEZ,UAAU,mBAAO,CAAC,KAAS;;AAE3B;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;ACxFA;AACA;AACA;AACA;AACA,UAAU,mBAAO,CAAC,KAAgB;AAClC,cAAc,mBAAO,CAAC,KAAgB;AACtC,aAAa,mCAA6B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9BA,WAAW,mBAAO,CAAC,KAAQ;AAC3B,YAAY,mBAAO,CAAC,KAAc;AAClC,cAAc,mBAAO,CAAC,KAAW;AACjC,cAAc,mBAAO,CAAC,KAAgB;AACtC,aAAa,mBAAO,CAAC,IAAQ;AAC7B,aAAa,mCAA6B;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1GA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;;AAEA,cAAc;AACd;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;;AAEA,yGAAyG,IAAI,GAAG,IAAI,SAAS,IAAI;;AAEjI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wEAAwE;AACxE;;AAEA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wEAAwE;AACxE,kFAAkF;AAClF;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,IAAI;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;;;;;;ACnEA,2CAAuC;AACvC,+CAA0C;;;;;;;;ACD1C,aAAa,mCAA6B;;AAE1C,sBAAsB,mBAAO,CAAC,KAAgB;AAC9C,sBAAsB,mBAAO,CAAC,KAAoB;AAClD,WAAW,mBAAO,CAAC,KAAQ;AAC3B,eAAe,mBAAO,CAAC,KAAa;;AAEpC;AACA,aAAa,qBAAM,WAAW,qBAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,qBAAM,aAAa,qBAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,qBAAM,YAAY,qBAAM;AAC9B,eAAe,qBAAM;AACrB,IAAI,SAAS,qBAAM;AACnB,eAAe,qBAAM;AACrB,IAAI,SAAS,qBAAM;AACnB,eAAe,qBAAM;AACrB,IAAI;AACJ,eAAe,qBAAM;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,qBAAM;AAC5B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;ACrHA;AACA;AACA,IAAI,qBAAM,YAAY,qBAAM;AAC5B;AACA,EAAE,SAAS,qBAAM,YAAY,qBAAM;AACnC,+BAA+B,SAAe;;AAE9C;AACA,EAAE;AACF;AACA;AACA;;;;;;;;ACXA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+DAA+D;AAC/D;AACA;AACA;;;;;;;;AClBA,UAAU,mBAAO,CAAC,IAAiB;AACnC,gBAAgB,mBAAO,CAAC,KAAW;AACnC,UAAU,mBAAO,CAAC,KAAQ;AAC1B,aAAa,mCAA6B;;AAE1C,sBAAsB,mBAAO,CAAC,KAAgB;AAC9C,sBAAsB,mBAAO,CAAC,KAAoB;AAClD,eAAe,mBAAO,CAAC,KAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,QAAQ;AAC1B;;AAEA;AACA;;AAEA,oBAAoB,gBAAgB;AACpC;AACA,sBAAsB,UAAU;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACxGA,aAAa,mCAA6B;;AAE1C;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;ACZa;;AAEb;AACA,KAAK,SAAe;AACpB,IAAI,SAAe;AACnB,IAAI,MAAoC,IAAI,CAAsC;AAClF,qBAAqB;AACrB,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uCAAgB;AAC3B;AACA,WAAW,uCAAgB;AAC3B;AACA,KAAK;AACL;AACA,WAAW,uCAAgB;AAC3B;AACA,KAAK;AACL;AACA,WAAW,uCAAgB;AAC3B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uCAAgB;AAC3B;AACA,KAAK;AACL;AACA;;;;;;;;;AC3CA,kDAAkD;AAClD,kDAAoD;;AAEpD,sBAAsB;AACtB;AACA;;AAEA,qBAAqB;AACrB;AACA;;;;;;;;ACTA,iBAAiB,mBAAO,CAAC,KAAa;AACtC,aAAa,mCAA6B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;AClBA,gBAAgB,mBAAO,CAAC,KAAY;AACpC,UAAU,mBAAO,CAAC,KAAO;AACzB,UAAU,mBAAO,CAAC,KAAO;AACzB,SAAS,mBAAO,CAAC,KAAO;AACxB,UAAU,mBAAO,CAAC,KAAgB;AAClC,iBAAiB,mBAAO,CAAC,KAAa;AACtC,iBAAiB,mBAAO,CAAC,KAAc;AACvC,aAAa,mCAA6B;;AAE1C;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxGA,gBAAgB,mBAAO,CAAC,KAAY;AACpC,kBAAkB,mBAAO,CAAC,KAAa;AACvC,iBAAiB,mBAAO,CAAC,KAAa;AACtC,UAAU,mBAAO,CAAC,KAAO;AACzB,UAAU,mBAAO,CAAC,KAAO;AACzB,SAAS,mBAAO,CAAC,KAAO;AACxB,iBAAiB,mBAAO,CAAC,KAAc;AACvC,UAAU,mBAAO,CAAC,KAAgB;AAClC,aAAa,mCAA6B;;AAE1C;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvFA,SAAS,mBAAO,CAAC,KAAO;AACxB,aAAa,mCAA6B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACPA,WAAW,mBAAO,CAAC,KAAM;AACzB,UAAU,mBAAO,CAAC,KAAe;AACjC,SAAS,mBAAO,CAAC,KAAI;;AAErB;AACA,4BAA4B,SAAe;;AAE3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH,eAAe,qCAAqC;AACpD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,EAAE,mBAAmB,EAAE,iBAAiB,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,IAAI;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,IAAI;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,MAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,SAAS;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,SAAS;AACtE;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,UAAU;AACtC;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAA6B;AAC7B,UAAe;AACf,yBAAc;AACd,yBAAe;AACf,yBAAe;;;;;;;;;AC9YF;AACb,wBAAwB,mBAAO,CAAC,KAAmB;AACnD,wBAAwB,mBAAO,CAAC,KAAsB;AACtD,qBAAqB,mBAAO,CAAC,KAAgB;AAC7C,qBAAqB,mBAAO,CAAC,IAAY;;AAEzC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,EAAE;AACF;;AAEA,eAAe;AACf,aAAa;;AAEb,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;;AAEA,gBAAgB;AAChB;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,wDAAwD,2CAA2C;AACnG;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,yDAAyD,YAAY;;AAErE;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;;AAEA;AACA;AACA,aAAa,2GAA2G;AACxH;;AAEA,WAAW,IAAI,EAAE,YAAY,EAAE,KAAK;AACpC;;AAEA,YAAY;AACZ;AACA;AACA;AACA,EAAE;;AAEF,QAAQ,gCAAgC;AACxC;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA,eAAe;AACf;;AAEA;AACA;;;;;;;;ACjeA;AACA;;AAEA;AACA,iEAAiE,qBAAM;AACvE;AACA;AACA;AACA,qCAAqC,WAAW;;;;;;;;;ACRpC;AACZ;AACA,QAAQ,2BAA2B,WAAW;AAC9C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;AC5GY;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,mCAA6B;AAC1C,aAAa,qBAAM,WAAW,qBAAM;;AAEpC;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,mBAAmB;AACnB,4BAA4B;AAC5B;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,WAAW,uCAAgB;AAC3B;AACA,KAAK;AACL;;AAEA;AACA;;;;;;;;;;ACjDY;;AAEZ;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,KAAa;AACtC,kBAAkB,mBAAO,CAAC,KAAa;AACvC;AACA;AACA,aAAa,qBAAM,WAAW,qBAAM;AACpC;AACA;AACA,yDAAyD;AACzD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;AACnD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C,IAAe;AAC1D,EAAE,kBAAkB;AACpB,EAAE,sBAAsB;AACxB,EAAE;AACF,EAAE,kBAAkB;AACpB,EAAE,sBAAsB;AACxB;AACA;AACA,gDAAgD,qBAAM;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,IAAe;AACrB;AACA;AACA;AACA;AACA,MAAM,uCAAgB;AACtB;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,qBAAM;AACtD;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;;;;;;;AC3GY;AACZ,aAAa,kCAAwB;AACrC,eAAe,mBAAO,CAAC,KAAU;AACjC,eAAe,mBAAO,CAAC,KAAW;;AAElC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kBAAkB,QAAQ;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM,OAAO;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;AClKa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,GAAG,cAAc,GAAG,cAAc;AACnD,8BAA8B,mBAAO,CAAC,KAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA,kBAAkB,MAAM;AACxB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA,SAAS,MAAM;AACf;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1PA;AACA,aAAa,mBAAO,CAAC,IAAQ;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE,cAAc;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7DA;AACA;AACA,aAAa,mBAAO,CAAC,IAAQ;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE,cAAc;AAChB;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA,gEAAgE,aAAa;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;;;;;;;;;ACnBzB;;AAEY;;AAEZ,aAAa,mBAAO,CAAC,IAAQ;AAC7B;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AC5Ea;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;;AAEA,6BAA6B,QAAQ;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,4BAA4B,QAAQ;AACpC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,cAAc,OAAO;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,QAAQ,OAAO;AACnC,oBAAoB,qBAAqB,OAAO;AAChD,oBAAoB,iBAAiB,OAAO;AAC5C,+BAA+B,cAAc,OAAO;;AAEpD;AACA,oBAAoB,QAAQ;AAC5B,oBAAoB,qBAAqB;;AAEzC;AACA;AACA,uCAAuC,mBAAmB;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B;AACA;;AAEA,oBAAoB,OAAO;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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ACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,QAAQ;AAC1B,SAAS,QAAQ;;AAEjB,kBAAkB,QAAQ;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACtIA,eAAe,mBAAO,CAAC,KAAU;AACjC,aAAa,mBAAO,CAAC,KAAU;AAC/B,WAAW,mBAAO,CAAC,KAAQ;AAC3B,aAAa,mCAA6B;;AAE1C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACxDA,eAAe,mBAAO,CAAC,KAAU;AACjC,WAAW,mBAAO,CAAC,KAAQ;AAC3B,aAAa,mCAA6B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,SAAS,SAAS;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;ACnQa,6BAA2C,CAAC,WAAW,CAAC,CAAC,yBAAkB,CAAC,yBAAa,CAAC,yBAAgB,CAAC,UAAY,CAAC,yBAAc,QAAQ,YAAY,mBAAO,CAAC,IAAQ,EAAE,mCAAmC,mBAAO,CAAC,KAAU,GAAG,qCAAqC,gCAAgC,eAAe,yCAAyC,qFAAqF,uBAAuB,eAAe,+EAA+E,mCAAmC,sBAAsB,+CAA+C,2CAA2C,mCAAmC,cAAc,EAAE,4BAA4B,8EAA8E,mCAAmC,qBAAqB,aAAa,4BAA4B,yDAAyD,+CAA+C,uBAAuB,uFAAuF,+CAA+C,uBAAuB,iBAAiB,2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B;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,6BAA6B,6BAA6B;AAC1D;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,wBAAwB;AACxB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,cAAc;AACd;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,cAAc;AACd;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3HA;;AAEA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,KAAS;AAC/B,YAAY,mBAAO,CAAC,KAAa;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,qCAAqC;AACrC,UAAU;AACV;;AAEA;AACA;;AAEA;AACA,wBAAwB;AACxB;AACA;AACA,IAAI;AACJ;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;AAEA,yBAAyB;AACzB;AACA,kCAAkC;AAClC;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;AAC9B,IAAI;AACJ,oBAAoB,iBAAiB;AACrC;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;;AAEA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC;AACzC,MAAM,yBAAyB;AAC/B,sBAAsB,gBAAgB;AACtC;AACA;AACA,MAAM,mDAAmD;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC3IA;AACA;AACA;;AAEA,YAAY,mBAAO,CAAC,KAAO;AAC3B,cAAc,mBAAO,CAAC,KAAmB;AACzC,aAAa,mBAAO,CAAC,KAAU;AAC/B,cAAc,mBAAO,CAAC,KAAS;AAC/B,YAAY,mBAAO,CAAC,KAAa;;AAEjC;AACA;AACA;AACA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;;AAEA,eAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA,eAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B;AAC3B,uBAAuB;AACvB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,sFAAsF;AACtF;;AAEA;AACA;AACA;AACA;AACA,MAAM,OAAO;AACb;AACA;AACA,IAAI,qCAAqC;AACzC;AACA;AACA,MAAM;AACN;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,qBAAqB;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,YAAY,eAAe;AAC3B;AACA;AACA;;AAEA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC1ZA;;AAEA,8BAA8B,MAAM,0BAA0B,MAAM;AACpE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,MAAM;AACpC;AACA;;;;;;;;;ACnBa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS,yCAA8B;AACvC,eAAe,mBAAO,CAAC,KAAU;;AAEjC;AACA,kBAAkB,mBAAO,CAAC,KAAyC;AACnE,kBAAkB,mBAAO,CAAC,IAAyC;AACnE,gBAAgB,mBAAO,CAAC,KAAuC;AAC/D,mBAAmB,mBAAO,CAAC,KAA0C;AACrE,qBAAqB,mBAAO,CAAC,KAA4C;AACzE,kBAAkB,mBAAO,CAAC,KAAuD;AACjF,kBAAkB,mBAAO,CAAC,KAAkD;;AAE5E;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;;;;AChIA,oBAAoB,mBAAO,CAAC,KAAe;AAC3C,eAAe,mBAAO,CAAC,KAAgB;AACvC,aAAa,mBAAO,CAAC,KAAO;AAC5B,kBAAkB,mBAAO,CAAC,KAAsB;AAChD,UAAU,mBAAO,CAAC,KAAK;;AAEvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,qBAAM;;AAE7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpFA,aAAa,cAAc,qBAAM,sBAAsB,qBAAM;;AAE7D,sBAAsB,cAAc,qBAAM;;AAE1C,uBAAuB,cAAc,qBAAM;;AAE3C,uBAAuB;AACvB;AACA;AACA,CAAC,uBAAuB;AACxB,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK,qBAAM;AACX,YAAY,qBAAM;AAClB;AACA;AACA;AACA;AACA,mBAAmB,qBAAM;AACzB,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,6BAA6B,qBAAM;AACnC,8CAA8C,qBAAM;;AAEpD;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA,gBAAgB;AAChB,6BAA6B;AAC7B;;AAEA;AACA;AACA,wBAAwB;;AAExB,eAAe,cAAc,qBAAM;;AAEnC;AACA;AACA;;AAEA;;;;;;;;;;ACxEA,iBAAiB,mBAAO,CAAC,KAAc;AACvC,eAAe,mBAAO,CAAC,KAAU;AACjC,eAAe,mBAAO,CAAC,KAAY;AACnC,aAAa,mBAAO,CAAC,KAAiB;AACtC,oBAAoB,mBAAO,CAAC,KAAgB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAiD,MAAM;AACvD;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,MAAM;AAC9B,IAAI;AACJ,cAAc,qBAAM;AACpB;AACA,IAAI;AACJ,2CAA2C;AAC3C,IAAI;AACJ,IAAI;AACJ;AACA,UAAU,MAAM;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,IAAI;AACJ;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,qBAAM;AAC7B;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,EAAE,qBAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,GAAG,qBAAM;AACT;AACA;AACA,GAAG;AACH,GAAG;AACH,4BAA4B,qBAAM;AAClC;AACA;AACA,IAAI;AACJ,GAAG,uCAAgB;AACnB;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC;;AAErC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,GAAG,uCAAgB;AACnB;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC,qBAAM;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACtUA,iBAAiB,mBAAO,CAAC,KAAc;AACvC,eAAe,mBAAO,CAAC,KAAU;AACjC,aAAa,mBAAO,CAAC,KAAiB;;AAEtC,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE,uCAAgB;AAClB;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,sBAAsB,MAAM;AACpC;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN,KAAK;AACL;AACA,KAAK,qBAAM;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,KAAK,qBAAM;AACX;AACA;AACA,KAAK;AACL;AACA,KAAK,aAAa;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,qBAAM;AACX;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA,IAAI;AACJ,IAAI,qBAAM;AACV;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wCAAwC,eAAe,IAAI;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAM;AACzB,KAAK;AACL;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,MAAM;AAC5B,qBAAqB,oBAAoB;AACzC;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAM;AAC1B;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AC/Na;AACb,6EAA6E,2CAA2C;;;;;;;;;ACDxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,aAAa,mCAA6B;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,sCAAsC,sCAAsC;AACzG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACvSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,aAAa,mCAA6B;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,sCAAsC,sCAAsC;AACzG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACvSA,oBAAoB,mBAAO,CAAC,KAAiB;;AAE7C;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACba;;AAEb;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY,iBAAiB;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,iBAAiB;AAC5B,YAAY,QAAQ;AACpB;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,8BAA8B;AACzC;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;;AAEA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,aAAa,0BAA0B;AACvC;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,aAAa,0BAA0B;AACvC;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,SAAS;AAC/B;AACA,sBAAsB,SAAS;AAC/B;AACA,sBAAsB,UAAU;AAChC;AACA,sBAAsB,SAAS;AAC/B;AACA,sBAAsB,SAAS;AAC/B;;AAEA,2CAA2C,eAAe;AAC1D,wCAAwC,mBAAmB;AAC3D,4CAA4C,uBAAuB;AACnE;;AAEA;AACA;AACA,aAAa,kBAAkB;AAC/B,aAAa,SAAS;AACtB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;;AAEA;AACA,uCAAuC,mBAAmB;AAC1D;AACA;AACA;;AAEA;;AAEA;;AAEA,eAAe,2BAA2B;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gBAAgB;AACxE;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,SAAS;AAC/B;AACA,sBAAsB,UAAU;AAChC;AACA,uBAAuB,iBAAiB;AACxC,mBAAmB;;AAEnB,2CAA2C,eAAe;AAC1D;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,cAAc,YAAY;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,2BAA2B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gBAAgB;AAChB,YAAY,iBAAiB;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB,iBAAiB,QAAQ;AACzB,iBAAiB,QAAQ;AACzB,iBAAiB,QAAQ;AACzB,iBAAiB,QAAQ;;AAEzB;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,cAAc,2BAA2B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,cAAc,0BAA0B;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB,mBAAmB;;;;;;;ACjoBnB;;AAEA;AACA;;AAEA;;AAEA,6BAA6B,iBAAiB;AAC9C;AACA;;AAEA;AACA;;;;;;;;ACZA,aAAa,kCAAwB;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;AC1Ba;;AAEb,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,yBAAgB;AAChB,UAAa;AACb,yBAAoB;;AAEpB,aAAa,mBAAO,CAAC,KAAa;;AAElC;;AAEA,uCAAuC,uCAAuC;;AAE9E,eAAe,yBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;;;;;;ACvEa;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF;AACA;;AAEA;AACA,kBAAe;;;;;;;ACTf;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,MAAM;AACN,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,CAAC,CAAC,MAA8B,GAAG,CAAc,CAAC;;;;;;;;;ACxMlD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,SAAS,qBAAM;AACf,IAAI;AACJ;AACA;AACA,YAAY,qBAAM;AAClB;AACA;AACA;;;;;;;;AClEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;AACA;;;;;;;;AC5BA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzBA;AACA,YAAY,mBAAO,CAAC,KAAa;AACjC,YAAY,mBAAO,CAAC,KAAa;AACjC,oBAAoB,mBAAO,CAAC,KAAa;AACzC;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACxBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,mBAAmB,mBAAO,CAAC,IAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/DA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,cAAc,mBAAO,CAAC,KAAW;AACjC,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,QAAQ,cAAc,EAAE,mBAAO,CAAC,KAAM;AACtC,aAAa,mCAAmC;AAChD,cAAc,mBAAO,CAAC,KAAc;AACpC,mBAAmB,mBAAO,CAAC,KAAY;AACvC,oBAAoB,mBAAO,CAAC,KAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAO,CAAC,KAAmB;AAClD,kBAAkB,mBAAO,CAAC,KAAqB;AAC/C,iBAAiB,mBAAO,CAAC,KAAoB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,eAAe;AACf;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA,2DAA2D,WAAW,aAAa,WAAW,OAAO,wBAAwB;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtTA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;ACtFA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,mBAAmB,mBAAO,CAAC,KAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC5DA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,aAAa,mCAAmC;AAChD,mBAAmB,mBAAO,CAAC,IAAe;AAC1C,iBAAiB,uCAAuC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,eAAe;AAC3B;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;;;;;;;;;ACpRA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,iBAAiB,uCAAuC;AACxD,aAAa,mBAAO,CAAC,IAAkB;AACvC,YAAY,mBAAO,CAAC,KAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtDA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAO,CAAC,KAA0B;AACzD,eAAe,mBAAO,CAAC,KAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1EA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kCAAwB;AACrC,YAAY,mBAAO,CAAC,KAAY;AAChC,qBAAqB,+CAAsC;AAC3D,gBAAgB,gDAAuC;AACvD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,KAAK;AAChB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,YAAY;AACvB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,UAAU,iBAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,KAAK;AAChB,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wCAAwC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;ACzXA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,cAAc,mBAAO,CAAC,KAAY;AAClC,kBAAkB,mBAAO,CAAC,KAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA,yBAAyB,EAAE,aAAa,GAAG,UAAU,MAAM;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACrPA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,WAAW,mBAAO,CAAC,KAAW;AAC9B,aAAa,mBAAO,CAAC,IAAkB;AACvC,YAAY,mBAAO,CAAC,KAAY;AAChC,UAAU,mBAAO,CAAC,KAAU;AAC5B,iBAAiB,uCAAuC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;AChIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,WAAW,mBAAO,CAAC,KAAW;AAC9B,aAAa,mBAAO,CAAC,IAAkB;AACvC,YAAY,mBAAO,CAAC,KAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;ACrDA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,YAAY,mBAAO,CAAC,KAAa;AACjC,WAAW,mBAAO,CAAC,IAAM;AACzB,YAAY,mBAAO,CAAC,KAAO;AAC3B;AACA,qCAA+B;AAC/B;AACA,WAAW,qBAAM,qBAAqB,qBAAM;AAC5C,IAAI,mBAAO,CAAC,KAAoD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,WAAW;AAC3D;AACA;AACA,8CAA8C,WAAW;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;;;;;;;;ACtKA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,aAAa,mCAAmC;AAChD,WAAW,mBAAO,CAAC,KAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,SAAS,QAAQ;AACjB;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS,MAAM,KAAK;AACxC,oBAAoB,aAAa,MAAM,OAAO,OAAO;AACrD,oBAAoB,WAAW,MAAM,MAAM,OAAO;AAClD,oBAAoB,WAAW,MAAM,MAAM,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,iBAAiB;AAC/C;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,QAAQ;AAChB,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,QAAQ;AACjB,SAAS,UAAU;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,QAAQ;AAChB,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,QAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;;;;;;;;AC3QA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA,cAAc,mBAAO,CAAC,KAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kCAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9BA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,mBAAmB,mBAAO,CAAC,IAAe;AAC1C,cAAc,mBAAO,CAAC,KAAc;AACpC,aAAa,mCAAmC;AAChD,SAAS,yCAAiC;AAC1C;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,2DAA2D;AAC3D,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS,MAAM,KAAK;AACxC,oBAAoB,aAAa,MAAM,OAAO,OAAO;AACrD,oBAAoB,WAAW,MAAM,MAAM,OAAO;AAClD,oBAAoB,WAAW,MAAM,MAAM,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;AChZA;AACA;AACA;AACA,EAAE;AACF;AACA,gBAAgB,mBAAO,CAAC,KAAgB;AACxC,GAAG;AACH,GAAG;AACH,uDAAuD;AACvD,sBAAsB;AACtB;AACA;;AAEA;AACA,wBAAwB,mBAAO,CAAC,KAAW;;;AAG3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACrDA,mDAAmD;;;;;;;;;ACAtC;;AAEb,cAAc,mBAAO,CAAC,KAAU;AAChC,2BAA2B,mBAAO,CAAC,IAAwB;AAC3D,eAAe,mBAAO,CAAC,KAAW;AAClC,gBAAgB,mBAAO,CAAC,IAAqB;AAC7C,WAAW,mBAAO,CAAC,KAAM;;AAEzB;AACA,qBAAqB,mBAAO,CAAC,KAAuB;;AAEpD,4CAA4C,qBAAM;AAClD;;AAEA;AACA,4CAA4C;;AAE5C;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY;AACjB;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY;AACjB;AACA,EAAE;AACF;AACA;;AAEA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;;;;;;;;AChCa;;AAEb;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACPA;;AAEA;;AAEA;AACA;;AAEA,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AClBa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA,cAAc,gBAAgB;AAC9B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,YAAY;;AAEnB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnEA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;;ACAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,qBAAM;;AAElD;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC1BY;;AAEZ,eAAe,mBAAO,CAAC,KAAwB;;AAE/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD;;AAEzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC,IAAI,wCAAwC;;AAEpF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB,2BAA2B;AAC3B;;AAEA,uBAAuB;AACvB,wBAAwB;AACxB,uBAAuB;AACvB,sBAAsB,4CAA4C;;AAElE;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA,IAAI;AACJ;AACA;AACA;AACA;;;;;;;;;;;;ACrWO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACO;AACP,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;ACtBA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,WAAW,EAAE,SAAS,EAAE,cAAc;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpBiD;AACjD;AACO;AACP;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCO;AACP;AACA;AACA;AACA,yBAAyB,6BAA6B;AACtD;;;;;;;;;;;;ACLO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,2BAA2B;AAC3E;AACA;AACA;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;;;;;;;;;;;;AClBwE;AACN;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,8BAA8B;AAC9B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qCAAqC;AACrC,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,wBAAwB,gCAAgC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wIAAwI,IAAI,eAAe,KAAK,QAAQ,IAAI;;AAE5K;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8FAAe;AACnB;AACA;AACA;AACA;AACA,EAAE,2FAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,yDAAyD;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,8EAA8E;AAC9E,uDAAuD;AACvD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,CAAC;AACD;;AAE8B;;;;;;;;;;;;AC9WvB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACTuD;AAChD;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA,WAAW,6EAAY;AACvB;AACA;AACA;;;;;;;;;;;;;ACZyC;AACc;AAChD;AACP;AACA;AACA;AACA,iBAAiB,+DAAW;AAC5B;AACA;AACA;AACA;AACA;AACA,SAAS,6EAAY;AACrB;;;;;;;;;;;;;ACboC;AACmB;AAChD;AACP,eAAe,+DAAK;AACpB;AACA,8CAA8C,UAAU;AACxD;AACA;AACA,WAAW,6EAAY;AACvB;AACA,iCAAiC,aAAa,GAAG,QAAQ;AACzD;;;;;;;;;;;;;;;;ACXuC;AACF;AACA;AACS;AACJ;AACX;;;;;;;;;;;;;ACLK;AAC7B;AACP,eAAe,+DAAK;AACpB;AACA,8CAA8C,UAAU;AACxD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACL4C;AACF;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA,CAAC;AACD;AACA,cAAc,+DAAW;AACzB,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,OAAO,gEAAK;AACZ;AACA;AACA;AACA,KAAK,gEAAK;AACV;AACA,iEAAe,KAAK;;;;;;;;;;;;;AC5Cb,sBAAsB,OAAO,mCAA6C;AAC1E,0BAA0B,OAAO,mCAAiD;AAClF,0BAA0B,OAAO,mCAAiD;AAClF,yBAAyB,OAAO,mCAAgD;AAChF,2BAA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","sources":["webpack://mask-network/./packages/base/src/Identifier/base.ts","webpack://mask-network/./packages/base/src/Identifier/ec-key.ts","webpack://mask-network/./packages/base/src/Identifier/post-iv.ts","webpack://mask-network/./packages/base/src/Identifier/post.ts","webpack://mask-network/./packages/base/src/Identifier/profile.ts","webpack://mask-network/./packages/base/src/Identifier/utils.ts","webpack://mask-network/./packages/flags/src/flags/buildInfo.ts","webpack://mask-network/./packages/flags/src/flags/index.ts","webpack://mask-network/./packages/flags/src/libs/Flags.ts","webpack://mask-network/./packages/flags/src/libs/RemoteFlags.ts","webpack://mask-network/./packages/injected-script/sdk/Base.ts","webpack://mask-network/./packages/injected-script/sdk/BaseInjected.ts","webpack://mask-network/./packages/injected-script/sdk/Browser.ts","webpack://mask-network/./packages/injected-script/sdk/Clover.ts","webpack://mask-network/./packages/injected-script/sdk/Coin98.ts","webpack://mask-network/./packages/injected-script/sdk/Coinbase.ts","webpack://mask-network/./packages/injected-script/sdk/MetaMask.ts","webpack://mask-network/./packages/injected-script/sdk/OKX.ts","webpack://mask-network/./packages/injected-script/sdk/Opera.ts","webpack://mask-network/./packages/injected-script/sdk/Phantom.ts","webpack://mask-network/./packages/injected-script/sdk/Solflare.ts","webpack://mask-network/./packages/injected-script/sdk/utils.ts","webpack://mask-network/./packages/injected-script/shared/index.ts","webpack://mask-network/./packages/shared-base-ui/src/data/queryClient.ts","webpack://mask-network/./packages/shared-base/src/KVStorage/kv-storage/index.ts","webpack://mask-network/./packages/shared-base/src/KVStorage/kv-storage/proxy.ts","webpack://mask-network/./packages/shared-base/src/Messages/CrossIsolationEvents.ts","webpack://mask-network/./packages/shared-base/src/Messages/index.ts","webpack://mask-network/./packages/shared-base/src/NextID/types.ts","webpack://mask-network/./packages/shared-base/src/Pageable/index.ts","webpack://mask-network/./packages/shared-base/src/Site/types.ts","webpack://mask-network/./packages/shared-base/src/Sniffings/index.ts","webpack://mask-network/./packages/shared-base/src/Telemetry/index.ts","webpack://mask-network/./packages/shared-base/src/helpers/ValueRef.ts","webpack://mask-network/./packages/shared-base/src/helpers/asyncIterator.ts","webpack://mask-network/./packages/shared-base/src/helpers/createLookupTableResolver.ts","webpack://mask-network/./packages/shared-base/src/helpers/debug.ts","webpack://mask-network/./packages/shared-base/src/helpers/getCookie.ts","webpack://mask-network/./packages/shared-base/src/helpers/mixin.ts","webpack://mask-network/./packages/shared-base/src/helpers/parseURL.ts","webpack://mask-network/./packages/shared-base/src/helpers/resolve.ts","webpack://mask-network/./packages/shared-base/src/i18n/register-ns.ts","webpack://mask-network/./node_modules/.pnpm/typeson@9.0.3/node_modules/typeson/dist/typeson.esm.min.js","webpack://mask-network/./packages/shared-base/src/serializer/response.ts","webpack://mask-network/./packages/shared-base/src/serializer/request.ts","webpack://mask-network/./packages/shared-base/src/serializer/index.ts","webpack://mask-network/./packages/shared-base/src/types/Account.ts","webpack://mask-network/./packages/shared-base/src/types/Days.ts","webpack://mask-network/./packages/shared-base/src/types/NameService.ts","webpack://mask-network/./packages/shared-base/src/types/PluginID.ts","webpack://mask-network/./packages/shared-base/src/types/SocialIdentity.ts","webpack://mask-network/./packages/shared-base/src/types/Wallet.ts","webpack://mask-network/./packages/web3-providers/src/ARBID/index.ts","webpack://mask-network/./packages/web3-providers/src/Airdrop/index.ts","webpack://mask-network/./packages/web3-providers/src/Alchemy/constants.ts","webpack://mask-network/./packages/web3-providers/src/Alchemy/helpers.ts","webpack://mask-network/./packages/web3-providers/src/Approval/constants.ts","webpack://mask-network/./packages/web3-providers/src/Approval/approvalListState.ts","webpack://mask-network/./packages/web3-providers/src/Approval/index.ts","webpack://mask-network/./packages/web3-providers/src/Chainbase/apis/DomainAPI.ts","webpack://mask-network/./packages/web3-providers/src/Chainbase/constants.ts","webpack://mask-network/./packages/web3-providers/src/CoinGecko/apis/PriceAPI_EVM.ts","webpack://mask-network/./packages/web3-providers/src/CoinGecko/apis/PriceAPI_Solana.ts","webpack://mask-network/./packages/web3-providers/src/CoinGecko/helpers.ts","webpack://mask-network/./packages/web3-providers/src/CoinGecko/apis/TrendingAPI.ts","webpack://mask-network/./packages/web3-providers/src/CoinGecko/apis/base.ts","webpack://mask-network/./packages/web3-providers/src/CoinGecko/constants.ts","webpack://mask-network/./packages/web3-providers/src/DSearch/constants.ts","webpack://mask-network/./packages/web3-providers/src/DSearch/helpers.ts","webpack://mask-network/./packages/web3-providers/src/CoinGecko/apis/DSearchAPI.ts","webpack://mask-network/./packages/web3-providers/src/CoinMarketCap/apis/DSearchAPI.ts","webpack://mask-network/./packages/web3-providers/src/NFTScan/apis/DSearchAPI.ts","webpack://mask-network/./packages/web3-providers/src/DSearch/rules.ts","webpack://mask-network/./packages/web3-providers/src/DSearch/index.ts","webpack://mask-network/./packages/web3-providers/src/DeBank/apis/HistoryAPI.ts","webpack://mask-network/./packages/web3-providers/src/DeBank/constants.ts","webpack://mask-network/./packages/web3-providers/src/DeBank/helpers.ts","webpack://mask-network/./packages/web3-providers/src/DeBank/types.ts","webpack://mask-network/./packages/web3-providers/src/R2D2/constants.ts","webpack://mask-network/./packages/web3-providers/src/R2D2/apis/DomainAPI.ts","webpack://mask-network/./packages/web3-providers/src/TheGraph/apis/DomainAPI.ts","webpack://mask-network/./packages/web3-providers/src/ENS/index.ts","webpack://mask-network/./packages/web3-providers/src/Firefly/index.ts","webpack://mask-network/./packages/web3-providers/src/Fuse/apis/Base.ts","webpack://mask-network/./packages/web3-providers/src/Fuse/apis/Coin.ts","webpack://mask-network/./packages/web3-providers/src/GoPlusLabs/constants.ts","webpack://mask-network/./packages/web3-providers/src/Lens/constants.ts","webpack://mask-network/./packages/web3-providers/src/Lens/index.ts","webpack://mask-network/./packages/web3-providers/src/LooksRare/constants.ts","webpack://mask-network/./packages/web3-providers/src/LooksRare/utils.ts","webpack://mask-network/./packages/web3-providers/src/LooksRare/index.ts","webpack://mask-network/./packages/web3-providers/src/MagicEden/constants.ts","webpack://mask-network/./packages/web3-providers/src/MagicEden/index.ts","webpack://mask-network/./packages/web3-providers/src/Manager/registry.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/decodeOutputString.ts","webpack://mask-network/./packages/web3-providers/src/Multicall/constants.ts","webpack://mask-network/./packages/web3-providers/src/Multicall/index.ts","webpack://mask-network/./packages/web3-providers/src/NFTScan/constants.ts","webpack://mask-network/./packages/web3-providers/src/NFTScan/helpers/EVM.ts","webpack://mask-network/./packages/web3-providers/src/NFTScan/helpers/Solana.ts","webpack://mask-network/./packages/web3-providers/src/NextID/constants.ts","webpack://mask-network/./packages/web3-providers/src/NextID/helpers.ts","webpack://mask-network/./packages/web3-providers/src/NextID/kv.ts","webpack://mask-network/./packages/shared-base/src/helpers/getDomainSystem.ts","webpack://mask-network/./packages/web3-providers/src/NextID/proof.ts","webpack://mask-network/./packages/web3-providers/src/OpenSea/types.ts","webpack://mask-network/./packages/web3-providers/src/OpenSea/utils.ts","webpack://mask-network/./packages/web3-providers/src/OpenSea/constants.ts","webpack://mask-network/./packages/web3-providers/src/OpenSea/index.ts","webpack://mask-network/./packages/web3-providers/src/R2D2/apis/TokenListAPI.ts","webpack://mask-network/./packages/web3-providers/src/RSS3/helpers.ts","webpack://mask-network/./packages/web3-providers/src/RSS3/apis/RSS3API.ts","webpack://mask-network/./packages/web3-providers/src/RSS3/constants.ts","webpack://mask-network/./packages/web3-providers/src/RSS3/types.ts","webpack://mask-network/./packages/web3-providers/src/Rabby/constants.ts","webpack://mask-network/./packages/web3-providers/src/Rabby/index.ts","webpack://mask-network/./packages/web3-providers/src/Chainbase/apis/RedPacketAPI.ts","webpack://mask-network/./packages/web3-providers/src/Etherscan/apis/RedPacketAPI.ts","webpack://mask-network/./packages/web3-providers/src/RedPacket/constants.ts","webpack://mask-network/./packages/web3-providers/src/RedPacket/api.ts","webpack://mask-network/./packages/web3-providers/src/RedPacket/index.ts","webpack://mask-network/./packages/web3-providers/src/SID/apis/DomainAPI.ts","webpack://mask-network/./packages/web3-providers/src/SimpleHash/historicalPriceState.ts","webpack://mask-network/./packages/web3-providers/src/SimpleHash/apis/EVM.ts","webpack://mask-network/./packages/web3-providers/src/SimpleHash/constants.ts","webpack://mask-network/./packages/web3-providers/src/SimpleHash/helpers.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/apis/AbstractAccountAPI.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/apis/BundlerAPI.ts","webpack://mask-network/./packages/web3-providers/src/types/Funder.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/apis/FunderAPI.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/libs/Create2Factory.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/apis/OwnerAPI.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/constants.ts","webpack://mask-network/./packages/web3-contracts/bytes/WalletProxy.mts","webpack://mask-network/./packages/web3-providers/src/SmartPay/libs/ContractWallet.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/libs/DepositPaymaster.ts","webpack://mask-network/./packages/web3-providers/src/SmartPay/libs/UserTransaction.ts","webpack://mask-network/./packages/web3-providers/src/SpaceID/index.ts","webpack://mask-network/./packages/web3-providers/src/Storage/constants/index.ts","webpack://mask-network/./packages/web3-providers/src/Storage/libs/R2D2.ts","webpack://mask-network/./packages/web3-providers/src/Storage/storages/KV.ts","webpack://mask-network/./packages/web3-providers/src/Storage/storages/NextID.ts","webpack://mask-network/./packages/web3-providers/src/Storage/storages/RSS3.ts","webpack://mask-network/./packages/web3-providers/src/Storage/libs/Firefly.ts","webpack://mask-network/./packages/web3-providers/src/Storage/storages/Firefly.ts","webpack://mask-network/./packages/web3-providers/src/Storage/apis/Storage.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getTokens.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getSettings.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getObjectStore.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getUserSettings.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getUserNFTContainer.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getUserNFTAvatar.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/uploadMedia.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/updateProfileImage.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getUserByScreenName.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getUserByScreenNameShow.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/getUserViaTwitterIdentity.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/apis/createTweet.ts","webpack://mask-network/./packages/web3-providers/src/Twitter/index.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/ChainResolverAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/ConnectionOptionsAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/ExplorerResolverAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/HubBaseAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/HubFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/HubNonFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/HubOptionsAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/HubProviderAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/NetworkExplorerAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/OthersAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/ProviderResolverAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ConnectionAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ConnectionOptionsAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ConnectionOptionsReadonlyAPI.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/createAccount.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/parseStringOrBytes32.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ConnectionReadonlyAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ContractAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ContractReadonlyAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/HubAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/GasOptionAPI.ts","webpack://mask-network/./packages/web3-providers/src/MetaSwap/index.ts","webpack://mask-network/./packages/web3-providers/src/Astar/index.ts","webpack://mask-network/./packages/web3-providers/src/DeBank/apis/GasOptionAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/HubBaseAPI.ts","webpack://mask-network/./packages/web3-providers/src/Chainbase/apis/FungibleTokenAPI.ts","webpack://mask-network/./packages/web3-providers/src/Cloudflare/index.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/FungibleTokenAPI.ts","webpack://mask-network/./packages/web3-providers/src/DeBank/apis/FungibleTokenAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/HubFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Alchemy/apis/EVM.ts","webpack://mask-network/./packages/web3-providers/src/Chainbase/apis/NonFungibleTokenAPI.ts","webpack://mask-network/./packages/web3-providers/src/Gem/constants.ts","webpack://mask-network/./packages/web3-providers/src/Gem/index.ts","webpack://mask-network/./packages/web3-providers/src/NFTScan/types/EVM.ts","webpack://mask-network/./packages/web3-providers/src/NFTScan/apis/NonFungibleTokenAPI_EVM.ts","webpack://mask-network/./packages/web3-providers/src/X2Y2/constants.ts","webpack://mask-network/./packages/web3-providers/src/X2Y2/index.ts","webpack://mask-network/./packages/web3-providers/src/Zora/types.ts","webpack://mask-network/./packages/web3-providers/src/Zora/queries.ts","webpack://mask-network/./packages/web3-providers/src/Zora/constants.ts","webpack://mask-network/./packages/web3-providers/src/Zora/index.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/HubNonFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/HubOptionsAPI.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/getTransactionSignature.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/OthersAPI.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/Composer.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/middleware/Nonce.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/translators/Base.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/translators/Astar.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/translators/Polygon.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/middleware/Translator.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/None.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/MaskWallet.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/WalletConnect.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/MetaMaskLike.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/Fortmatic.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/ContractWallet.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/Popups.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isMaskOnlyMethodType.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/interceptors/CustomNetwork.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/middleware/Interceptor.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/middleware/RecentTransaction.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/middleware/TransactionWatcher.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ComposerAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/libs/ConnectionContext.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/helpers/createContext.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/RequestAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/RequestReadonlyAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/apis/ResolverAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/Base.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/None.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/BaseInjected.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/Browser.ts","webpack://mask-network/./node_modules/.pnpm/@dimensiondev+metamask-extension-provider@3.0.6-20221105074301-8806fca/node_modules/@dimensiondev/metamask-extension-provider/index.js","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/MetaMask.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/EIP155Editor.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/WalletConnect.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/Coin98.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/Coinbase.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/OKX.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/Clover.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/Fortmatic.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/Opera.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/BaseHosted.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/BaseContractWallet.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/MaskWallet.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/CustomNetwork.ts","webpack://mask-network/./packages/web3-providers/src/Web3/EVM/providers/index.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/Web3API.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/ConnectionAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/ConnectionOptionsAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/OthersAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/ResolverAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/providers/Base.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/providers/Blocto.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/providers/Dapper.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/providers/Ledger.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/providers/index.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/ConnectionCreatorAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Router/apis/AllConnectionAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Base/apis/HubCreatorAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/HubOptionsAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/HubBaseAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/FungibleTokenAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/HubFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Alchemy/apis/Flow.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Flow/apis/HubNonFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/HubOptionsAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/HubBaseAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/HubFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/NonFungibleTokenAPI.ts","webpack://mask-network/./packages/web3-providers/src/NFTScan/apis/NonFungibleTokenAPI_Solana.ts","webpack://mask-network/./packages/web3-providers/src/SimpleHash/solana-helpers.ts","webpack://mask-network/./packages/web3-providers/src/SimpleHash/apis/Solana.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/HubNonFungibleAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Router/apis/AllHubAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Router/apis/AllOthersAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/Web3API.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/spl-token/createAssociatedTokenAccountInstruction.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/spl-token/getAccountInfo.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/spl-token/getAssociatedTokenAddress.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/spl-token/getOrCreateAssociatedTokenAccount.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/spl-token/createTransferInstructions.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/TransferAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/ConnectionAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/ConnectionOptionsAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/constants/index.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/FungibleTokenAPI.ts","webpack://mask-network/./packages/web3-shared/solana/src/helpers/token.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/OthersAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/apis/ResolverAPI.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/helpers/index.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/providers/Base.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/providers/BaseInjected.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/providers/Phantom.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/providers/SolflareProvider.ts","webpack://mask-network/./node_modules/.pnpm/@project-serum+sol-wallet-adapter@0.2.6_patch_hash=dl5wqnnaxjm7biesxtvdpr7gpe_@solana+web3.js@1.75.0/node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/providers/Sollet.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/providers/Coin98.ts","webpack://mask-network/./packages/web3-providers/src/Web3/Solana/providers/index.ts","webpack://mask-network/./packages/web3-providers/src/Zerion/types.ts","webpack://mask-network/./packages/web3-providers/src/Zerion/helpers.ts","webpack://mask-network/./packages/web3-providers/src/Zerion/base-api.ts","webpack://mask-network/./packages/web3-providers/src/Zerion/index.ts","webpack://mask-network/./packages/web3-providers/src/helpers/createWeb3FromProvider.ts","webpack://mask-network/./packages/web3-providers/src/helpers/createWeb3FromURL.ts","webpack://mask-network/./packages/web3-providers/src/helpers/createWeb3ProviderFromRequest.ts","webpack://mask-network/./packages/web3-providers/src/helpers/createWeb3ProviderFromURL.ts","webpack://mask-network/./packages/web3-telemetry/src/helpers/captureFetchTransaction.ts","webpack://mask-network/./packages/web3-providers/src/helpers/fetch.ts","webpack://mask-network/./packages/web3-providers/src/helpers/fetchCached.ts","webpack://mask-network/./packages/web3-providers/src/helpers/fetchGlobal.ts","webpack://mask-network/./packages/web3-providers/src/helpers/fetchJSON.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/RequestID.ts","webpack://mask-network/./packages/web3-providers/src/helpers/fetchJsonRpcResponse.ts","webpack://mask-network/./packages/web3-providers/src/helpers/fetchSquashed.ts","webpack://mask-network/./packages/web3-providers/src/helpers/getAllMaskDappContractInfo.tsx","webpack://mask-network/./packages/web3-providers/src/helpers/getAssetFullName.ts","webpack://mask-network/./packages/web3-providers/src/helpers/getContractSymbol.ts","webpack://mask-network/./packages/web3-providers/src/helpers/getNativeAssets.ts","webpack://mask-network/./packages/web3-providers/src/helpers/getNextFetchers.ts","webpack://mask-network/./packages/web3-providers/src/helpers/getPaymentToken.ts","webpack://mask-network/./packages/web3-providers/src/helpers/parseJSON.ts","webpack://mask-network/./packages/web3-providers/src/helpers/resolveActivityType.ts","webpack://mask-network/./packages/web3-providers/src/types/RSS3.ts","webpack://mask-network/./packages/web3-providers/src/types/SimpleHash.ts","webpack://mask-network/./packages/web3-providers/src/types/Twitter.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/attemptUntil.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/constant.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatBalance.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatPercentage.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/isSameAddress.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/isSameURL.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/token.ts","webpack://mask-network/./packages/web3-shared/evm/src/constants/descriptors.ts","webpack://mask-network/./packages/web3-shared/evm/src/constants/primitives.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/abiCoder.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/address.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/createContract.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/createJsonRpcPayload.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/createJsonRpcResponse.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/decodeFunctionData.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/defaults.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/getAverageBlockDelay.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/getTransactionStatusType.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isLens.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isLensCollect.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isLensComment.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isLensFollower.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isLensPost.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isValidChainId.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isValidDomain.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/parseChainId.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/resolveImageURL.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/token.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/AccountTransaction.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/ContractTransaction.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/ErrorEditor.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/EtherscanURL.ts","webpack://mask-network/./packages/web3-shared/evm/src/helpers/isRiskyMethodType.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/PayloadEditor.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/ProviderURL.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/Signer.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/Web3.ts","webpack://mask-network/./packages/web3-shared/flow/src/constants/constants.ts","webpack://mask-network/./packages/web3-shared/flow/src/constants/descriptors.ts","webpack://mask-network/./packages/web3-shared/flow/src/constants/primitives.ts","webpack://mask-network/./packages/web3-shared/flow/src/helpers/address.ts","webpack://mask-network/./packages/web3-shared/flow/src/helpers/domain.ts","webpack://mask-network/./packages/web3-shared/flow/src/helpers/token.ts","webpack://mask-network/./packages/web3-shared/flow/src/sdk/index.ts","webpack://mask-network/./packages/web3-shared/flow/src/types.ts","webpack://mask-network/./packages/web3-shared/solana/src/constants/constants.ts","webpack://mask-network/./packages/web3-shared/solana/src/constants/descriptors.ts","webpack://mask-network/./packages/web3-shared/solana/src/constants/primitives.ts","webpack://mask-network/./packages/web3-shared/solana/src/helpers/isTronAddress.ts","webpack://mask-network/./packages/web3-shared/solana/src/helpers/address.ts","webpack://mask-network/./packages/web3-shared/solana/src/helpers/domain.ts","webpack://mask-network/./packages/web3-shared/solana/src/sdk/index.ts","webpack://mask-network/./packages/web3-shared/solana/src/types.ts","webpack://mask-network/./packages/web3-telemetry/src/helpers/getABTestSeed.ts","webpack://mask-network/./packages/web3-telemetry/src/helpers/joinsABTest.ts","webpack://mask-network/./node_modules/.pnpm/@sentry+tracing@7.66.0/node_modules/@sentry/tracing/esm/index.js","webpack://mask-network/./packages/web3-telemetry/src/providers/Base.ts","webpack://mask-network/./packages/web3-telemetry/src/apis/Mixpanel.ts","webpack://mask-network/./packages/web3-telemetry/src/providers/Mixpanel.ts","webpack://mask-network/./packages/web3-telemetry/src/helpers/parseVersion.ts","webpack://mask-network/./packages/web3-telemetry/src/helpers/isNewerThan.ts","webpack://mask-network/./packages/web3-telemetry/src/helpers/isSameVersion.ts","webpack://mask-network/./packages/web3-telemetry/src/helpers/removeSensitiveTelemetryInfo.ts","webpack://mask-network/./packages/web3-telemetry/src/providers/Sentry.ts","webpack://mask-network/./packages/web3-telemetry/src/providers/Telemetry.ts","webpack://mask-network/./packages/web3-telemetry/src/providers/index.ts","webpack://mask-network/./packages/web3-telemetry/src/settings/index.ts","webpack://mask-network/./packages/web3-telemetry/src/types/index.ts","webpack://mask-network/./node_modules/.pnpm/@emotion+sheet@1.2.2/node_modules/@emotion/sheet/dist/emotion-sheet.browser.esm.js","webpack://mask-network/./node_modules/.pnpm/stylis@4.2.0/node_modules/stylis/src/Utility.js","webpack://mask-network/./node_modules/.pnpm/stylis@4.2.0/node_modules/stylis/src/Tokenizer.js","webpack://mask-network/./node_modules/.pnpm/stylis@4.2.0/node_modules/stylis/src/Enum.js","webpack://mask-network/./node_modules/.pnpm/stylis@4.2.0/node_modules/stylis/src/Serializer.js","webpack://mask-network/./node_modules/.pnpm/stylis@4.2.0/node_modules/stylis/src/Middleware.js","webpack://mask-network/./node_modules/.pnpm/stylis@4.2.0/node_modules/stylis/src/Parser.js","webpack://mask-network/./node_modules/.pnpm/@emotion+cache@11.11.0/node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js","webpack://mask-network/./node_modules/.pnpm/@emotion+hash@0.9.1/node_modules/@emotion/hash/dist/emotion-hash.esm.js","webpack://mask-network/./node_modules/.pnpm/@emotion+memoize@0.8.1/node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","webpack://mask-network/./node_modules/.pnpm/@emotion+unitless@0.8.1/node_modules/@emotion/unitless/dist/emotion-unitless.esm.js","webpack://mask-network/./node_modules/.pnpm/@emotion+use-insertion-effect-with-fallbacks@1.0.1_react@0.0.0-experimental-0a360642d-20230711/node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js","webpack://mask-network/./node_modules/.pnpm/@emotion+utils@1.2.1/node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js","webpack://mask-network/./node_modules/.pnpm/@ethereumjs+rlp@4.0.1/node_modules/@ethereumjs/rlp/dist/index.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+constants@5.7.0/node_modules/@ethersproject/constants/lib.esm/bignumbers.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+keccak256@5.7.0/node_modules/@ethersproject/keccak256/lib.esm/index.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+logger@5.7.0/node_modules/@ethersproject/logger/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+logger@5.7.0/node_modules/@ethersproject/logger/lib.esm/index.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+properties@5.7.0/node_modules/@ethersproject/properties/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+strings@5.7.0/node_modules/@ethersproject/strings/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+strings@5.7.0/node_modules/@ethersproject/strings/lib.esm/utf8.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+rlp@5.7.0/node_modules/@ethersproject/rlp/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+rlp@5.7.0/node_modules/@ethersproject/rlp/lib.esm/index.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+transactions@5.7.0/node_modules/@ethersproject/transactions/lib.esm/_version.js","webpack://mask-network/./node_modules/.pnpm/@ethersproject+transactions@5.7.0/node_modules/@ethersproject/transactions/lib.esm/index.js","webpack://mask-network/./node_modules/.pnpm/@metamask+object-multiplex@1.2.0/node_modules/@metamask/object-multiplex/dist/ObjectMultiplex.js","webpack://mask-network/./node_modules/.pnpm/@metamask+object-multiplex@1.2.0/node_modules/@metamask/object-multiplex/dist/Substream.js","webpack://mask-network/./node_modules/.pnpm/@metamask+object-multiplex@1.2.0/node_modules/@metamask/object-multiplex/dist/index.js","webpack://mask-network/./node_modules/.pnpm/@metamask+safe-event-emitter@2.0.0/node_modules/@metamask/safe-event-emitter/index.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/Program.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/Transaction.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/Account.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/index.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/config.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/errors.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/mpl-core.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/types.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/utils/borsh.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/utils/index.js","webpack://mask-network/./node_modules/.pnpm/@metaplex-foundation+mpl-core@0.0.2/node_modules/@metaplex-foundation/mpl-core/dist/src/utils/tupleNumeric.js","webpack://mask-network/./node_modules/.pnpm/@mui+private-theming@5.10.6_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/private-theming/useTheme/ThemeContext.js","webpack://mask-network/./node_modules/.pnpm/@mui+private-theming@5.10.6_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/private-theming/useTheme/useTheme.js","webpack://mask-network/./node_modules/.pnpm/@emotion+is-prop-valid@1.2.1/node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","webpack://mask-network/./node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js","webpack://mask-network/./node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js","webpack://mask-network/./node_modules/.pnpm/@mui+styled-engine@5.10.8_@emotion+react@11.11.1_@emotion+styled@11.11.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/styled-engine/index.js","webpack://mask-network/./node_modules/.pnpm/@onflow+rlp@1.1.0/node_modules/@onflow/rlp/dist/rlp.module.js","webpack://mask-network/./node_modules/.pnpm/@onflow+util-actor@1.2.0/node_modules/@onflow/util-actor/dist/actor.module.js","webpack://mask-network/./node_modules/.pnpm/@onflow+util-address@1.1.0/node_modules/@onflow/util-address/dist/util-address.module.js","webpack://mask-network/./node_modules/.pnpm/@onflow+util-invariant@1.1.0/node_modules/@onflow/util-invariant/dist/util-invariant.module.js","webpack://mask-network/./node_modules/.pnpm/@onflow+util-logger@1.2.0/node_modules/@onflow/util-logger/dist/util-logger.module.js","webpack://mask-network/./node_modules/.pnpm/@onflow+util-uid@1.1.0/node_modules/@onflow/util-uid/dist/util-uid.module.js","webpack://mask-network/./node_modules/.pnpm/@servie+events@3.0.0/node_modules/@servie/events/dist/index.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+binary@1.0.1/node_modules/@stablelib/binary/lib/binary.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+chacha20poly1305@1.0.1/node_modules/@stablelib/chacha20poly1305/lib/chacha20poly1305.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+chacha@1.0.1/node_modules/@stablelib/chacha/lib/chacha.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+constant-time@1.0.1/node_modules/@stablelib/constant-time/lib/constant-time.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+hash@1.0.1/node_modules/@stablelib/hash/lib/hash.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+hkdf@1.0.1/node_modules/@stablelib/hkdf/lib/hkdf.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+hmac@1.0.1/node_modules/@stablelib/hmac/lib/hmac.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+int@1.0.1/node_modules/@stablelib/int/lib/int.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+poly1305@1.0.1/node_modules/@stablelib/poly1305/lib/poly1305.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/random.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/browser.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/node.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/system.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+sha256@1.0.1/node_modules/@stablelib/sha256/lib/sha256.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+sha512@1.0.1/node_modules/@stablelib/sha512/lib/sha512.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+wipe@1.0.1/node_modules/@stablelib/wipe/lib/wipe.js","webpack://mask-network/./node_modules/.pnpm/@stablelib+x25519@1.0.3/node_modules/@stablelib/x25519/lib/x25519.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/crypto.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/env.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+events@1.0.1/node_modules/@walletconnect/events/dist/esm/events.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+events@1.0.1/node_modules/@walletconnect/events/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/constants/heartbeat.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/constants/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/heartbeat.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/types/heartbeat.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/types/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-provider@1.0.13/node_modules/@walletconnect/jsonrpc-provider/dist/esm/provider.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-provider@1.0.13/node_modules/@walletconnect/jsonrpc-provider/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/misc.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/provider.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-ws-connection@1.0.11/node_modules/@walletconnect/jsonrpc-ws-connection/dist/esm/ws.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+jsonrpc-ws-connection@1.0.11/node_modules/@walletconnect/jsonrpc-ws-connection/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+keyvaluestorage@1.0.2/node_modules/@walletconnect/keyvaluestorage/dist/cjs/browser/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+keyvaluestorage@1.0.2/node_modules/@walletconnect/keyvaluestorage/dist/cjs/browser/lib/localStorage.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+keyvaluestorage@1.0.2/node_modules/@walletconnect/keyvaluestorage/dist/cjs/shared/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+keyvaluestorage@1.0.2/node_modules/@walletconnect/keyvaluestorage/dist/cjs/shared/types.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+keyvaluestorage@1.0.2/node_modules/@walletconnect/keyvaluestorage/dist/cjs/shared/utils.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/constants.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/utils.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-api@1.0.9/node_modules/@walletconnect/relay-api/dist/esm/jsonrpc.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-api@1.0.9/node_modules/@walletconnect/relay-api/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-api@1.0.9/node_modules/@walletconnect/relay-api/dist/esm/types.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/constants.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/utils.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/api.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/types.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+safe-json@1.0.2/node_modules/@walletconnect/safe-json/dist/esm/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/misc.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/time.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/types/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/types/watch.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/convert.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/delay.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/watch.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+types@2.7.3/node_modules/@walletconnect/types/dist/index.es.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+window-getters@1.0.1/node_modules/@walletconnect/window-getters/dist/cjs/index.js","webpack://mask-network/./node_modules/.pnpm/@walletconnect+window-metadata@1.0.1/node_modules/@walletconnect/window-metadata/dist/cjs/index.js","webpack://mask-network/./node_modules/.pnpm/abort-controller@3.0.0/node_modules/abort-controller/browser.js","webpack://mask-network/./node_modules/.pnpm/abortcontroller-polyfill@1.7.5/node_modules/abortcontroller-polyfill/dist/polyfill-patch-fetch.js","webpack://mask-network/./node_modules/.pnpm/after@0.8.2/node_modules/after/index.js","webpack://mask-network/./node_modules/.pnpm/arraybuffer.slice@0.0.7/node_modules/arraybuffer.slice/index.js","webpack://mask-network/./node_modules/.pnpm/backo2@1.0.2/node_modules/backo2/index.js","webpack://mask-network/./node_modules/.pnpm/base-x@3.0.9/node_modules/base-x/src/index.js","webpack://mask-network/./node_modules/.pnpm/base-x@4.0.0/node_modules/base-x/src/index.js","webpack://mask-network/./node_modules/.pnpm/base64-arraybuffer@0.1.4/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","webpack://mask-network/./node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js","webpack://mask-network/./node_modules/.pnpm/bigint-buffer@1.1.5/node_modules/bigint-buffer/dist/browser.js","webpack://mask-network/./node_modules/.pnpm/blob@0.0.5/node_modules/blob/index.js","webpack://mask-network/./node_modules/.pnpm/brorand@1.1.0/node_modules/brorand/index.js","webpack://mask-network/./node_modules/.pnpm/browserify-cipher@1.0.1/node_modules/browserify-cipher/browser.js","webpack://mask-network/./node_modules/.pnpm/browserify-des@1.0.2/node_modules/browserify-des/index.js","webpack://mask-network/./node_modules/.pnpm/browserify-des@1.0.2/node_modules/browserify-des/modes.js","webpack://mask-network/./node_modules/.pnpm/browserify-rsa@4.1.0/node_modules/browserify-rsa/index.js","webpack://mask-network/./node_modules/.pnpm/browserify-sign@4.2.1/node_modules/browserify-sign/algos.js","webpack://mask-network/./node_modules/.pnpm/browserify-sign@4.2.1/node_modules/browserify-sign/browser/index.js","webpack://mask-network/./node_modules/.pnpm/browserify-sign@4.2.1/node_modules/browserify-sign/browser/sign.js","webpack://mask-network/./node_modules/.pnpm/browserify-sign@4.2.1/node_modules/browserify-sign/browser/verify.js","webpack://mask-network/./node_modules/.pnpm/bs58@4.0.1/node_modules/bs58/index.js","webpack://mask-network/./node_modules/.pnpm/bs58@5.0.0/node_modules/bs58/index.js","webpack://mask-network/./node_modules/.pnpm/buffer-xor@1.0.3/node_modules/buffer-xor/index.js","webpack://mask-network/./node_modules/.pnpm/builtin-status-codes@3.0.0/node_modules/builtin-status-codes/browser.js","webpack://mask-network/./node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/callBound.js","webpack://mask-network/./node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/index.js","webpack://mask-network/./node_modules/.pnpm/cids@0.7.5/node_modules/cids/src/cid-util.js","webpack://mask-network/./node_modules/.pnpm/cids@0.7.5/node_modules/cids/src/index.js","webpack://mask-network/./node_modules/.pnpm/cipher-base@1.0.4/node_modules/cipher-base/index.js","webpack://mask-network/./node_modules/.pnpm/class-is@1.1.0/node_modules/class-is/index.js","webpack://mask-network/./node_modules/.pnpm/component-bind@1.0.0/node_modules/component-bind/index.js","webpack://mask-network/./node_modules/.pnpm/component-emitter@1.3.0/node_modules/component-emitter/index.js","webpack://mask-network/./node_modules/.pnpm/component-inherit@0.0.3/node_modules/component-inherit/index.js","webpack://mask-network/./node_modules/.pnpm/content-hash@2.5.2/node_modules/content-hash/src/helpers.js","webpack://mask-network/./node_modules/.pnpm/content-hash@2.5.2/node_modules/content-hash/src/index.js","webpack://mask-network/./node_modules/.pnpm/content-hash@2.5.2/node_modules/content-hash/src/profiles.js","webpack://mask-network/./node_modules/.pnpm/core-util-is@1.0.3/node_modules/core-util-is/lib/util.js","webpack://mask-network/./node_modules/.pnpm/crc-32@1.2.2/node_modules/crc-32/crc32.js","webpack://mask-network/./node_modules/.pnpm/create-ecdh@4.0.4/node_modules/create-ecdh/browser.js","webpack://mask-network/./node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js","webpack://mask-network/./node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/md5.js","webpack://mask-network/./node_modules/.pnpm/create-hmac@1.1.7/node_modules/create-hmac/browser.js","webpack://mask-network/./node_modules/.pnpm/create-hmac@1.1.7/node_modules/create-hmac/legacy.js","webpack://mask-network/./node_modules/.pnpm/crypto-browserify@3.12.0/node_modules/crypto-browserify/index.js","webpack://mask-network/./node_modules/.pnpm/crypto-hash@1.3.0/node_modules/crypto-hash/browser.js","webpack://mask-network/./node_modules/.pnpm/decode-uri-component@0.2.2/node_modules/decode-uri-component/index.js","webpack://mask-network/./node_modules/.pnpm/define-properties@1.2.0/node_modules/define-properties/index.js","webpack://mask-network/./node_modules/.pnpm/des.js@1.0.1/node_modules/des.js/lib/des.js","webpack://mask-network/./node_modules/.pnpm/des.js@1.0.1/node_modules/des.js/lib/des/cbc.js","webpack://mask-network/./node_modules/.pnpm/des.js@1.0.1/node_modules/des.js/lib/des/cipher.js","webpack://mask-network/./node_modules/.pnpm/des.js@1.0.1/node_modules/des.js/lib/des/des.js","webpack://mask-network/./node_modules/.pnpm/des.js@1.0.1/node_modules/des.js/lib/des/ede.js","webpack://mask-network/./node_modules/.pnpm/des.js@1.0.1/node_modules/des.js/lib/des/utils.js","webpack://mask-network/./node_modules/.pnpm/detect-browser@3.0.1/node_modules/detect-browser/index.js","webpack://mask-network/./node_modules/.pnpm/detect-browser@5.3.0/node_modules/detect-browser/es/index.js","webpack://mask-network/./node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/browser.js","webpack://mask-network/./node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/dh.js","webpack://mask-network/./node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/generatePrime.js","webpack://mask-network/./node_modules/.pnpm/end-of-stream@1.4.4/node_modules/end-of-stream/index.js","webpack://mask-network/./node_modules/.pnpm/es5-ext@0.10.62/node_modules/es5-ext/global.js","webpack://mask-network/./node_modules/.pnpm/eth-ens-namehash@2.0.8/node_modules/eth-ens-namehash/index.js","webpack://mask-network/./node_modules/.pnpm/eth-rpc-errors@4.0.3/node_modules/eth-rpc-errors/dist/classes.js","webpack://mask-network/./node_modules/.pnpm/eth-rpc-errors@4.0.3/node_modules/eth-rpc-errors/dist/error-constants.js","webpack://mask-network/./node_modules/.pnpm/eth-rpc-errors@4.0.3/node_modules/eth-rpc-errors/dist/errors.js","webpack://mask-network/./node_modules/.pnpm/eth-rpc-errors@4.0.3/node_modules/eth-rpc-errors/dist/index.js","webpack://mask-network/./node_modules/.pnpm/eth-rpc-errors@4.0.3/node_modules/eth-rpc-errors/dist/utils.js","webpack://mask-network/./node_modules/.pnpm/ethereum-bloom-filters@1.0.10/node_modules/ethereum-bloom-filters/dist/index.js","webpack://mask-network/./node_modules/.pnpm/ethereum-bloom-filters@1.0.10/node_modules/ethereum-bloom-filters/dist/utils.js","webpack://mask-network/./node_modules/.pnpm/ethereum-cryptography@0.1.3/node_modules/ethereum-cryptography/hash-utils.js","webpack://mask-network/./node_modules/.pnpm/ethereum-cryptography@0.1.3/node_modules/ethereum-cryptography/keccak.js","webpack://mask-network/./node_modules/.pnpm/ethereum-cryptography@0.1.3/node_modules/ethereum-cryptography/random.js","webpack://mask-network/./node_modules/.pnpm/ethereum-cryptography@0.1.3/node_modules/ethereum-cryptography/secp256k1.js","webpack://mask-network/./node_modules/.pnpm/ethereum-cryptography@2.1.2/node_modules/ethereum-cryptography/keccak.js","webpack://mask-network/./node_modules/.pnpm/ethereum-cryptography@2.1.2/node_modules/ethereum-cryptography/secp256k1.js","webpack://mask-network/./node_modules/.pnpm/ethereum-cryptography@2.1.2/node_modules/ethereum-cryptography/utils.js","webpack://mask-network/./node_modules/.pnpm/ethjs-unit@0.1.6/node_modules/ethjs-unit/lib/index.js","webpack://mask-network/./node_modules/.pnpm/event-iterator@2.0.0/node_modules/event-iterator/lib/dom.js","webpack://mask-network/./node_modules/.pnpm/event-iterator@2.0.0/node_modules/event-iterator/lib/event-iterator.js","webpack://mask-network/./node_modules/.pnpm/eventemitter3@4.0.4/node_modules/eventemitter3/index.js","webpack://mask-network/./node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js","webpack://mask-network/./node_modules/.pnpm/events@3.3.0/node_modules/events/events.js","webpack://mask-network/./node_modules/.pnpm/evp_bytestokey@1.0.3/node_modules/evp_bytestokey/index.js","webpack://mask-network/./node_modules/.pnpm/extension-port-stream@1.0.0/node_modules/extension-port-stream/index.js","webpack://mask-network/./node_modules/.pnpm/extension-port-stream@2.0.1/node_modules/extension-port-stream/dist/index.js","webpack://mask-network/./node_modules/.pnpm/fast-deep-equal@2.0.1/node_modules/fast-deep-equal/index.js","webpack://mask-network/./node_modules/.pnpm/fast-safe-stringify@2.1.1/node_modules/fast-safe-stringify/index.js","webpack://mask-network/./node_modules/.pnpm/filter-obj@1.1.0/node_modules/filter-obj/index.js","webpack://mask-network/./node_modules/.pnpm/for-each@0.3.3/node_modules/for-each/index.js","webpack://mask-network/./node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/implementation.js","webpack://mask-network/./node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/index.js","webpack://mask-network/./node_modules/.pnpm/get-intrinsic@1.2.1/node_modules/get-intrinsic/index.js","webpack://mask-network/./node_modules/.pnpm/gopd@1.0.1/node_modules/gopd/index.js","webpack://mask-network/./node_modules/.pnpm/has-binary2@1.0.3/node_modules/has-binary2/index.js","webpack://mask-network/./node_modules/.pnpm/has-cors@1.1.0/node_modules/has-cors/index.js","webpack://mask-network/./node_modules/.pnpm/has-property-descriptors@1.0.0/node_modules/has-property-descriptors/index.js","webpack://mask-network/./node_modules/.pnpm/has-proto@1.0.1/node_modules/has-proto/index.js","webpack://mask-network/./node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js","webpack://mask-network/./node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js","webpack://mask-network/./node_modules/.pnpm/has-tostringtag@1.0.0/node_modules/has-tostringtag/shams.js","webpack://mask-network/./node_modules/.pnpm/has@1.0.3/node_modules/has/src/index.js","webpack://mask-network/./node_modules/.pnpm/hash-base@3.1.0/node_modules/hash-base/index.js","webpack://mask-network/./node_modules/.pnpm/hmac-drbg@1.0.1/node_modules/hmac-drbg/lib/hmac-drbg.js","webpack://mask-network/./node_modules/.pnpm/https-browserify@1.0.0/node_modules/https-browserify/index.js","webpack://mask-network/./node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js","webpack://mask-network/./node_modules/.pnpm/indexof@0.0.1/node_modules/indexof/index.js","webpack://mask-network/./node_modules/.pnpm/inherits@2.0.3/node_modules/inherits/inherits_browser.js","webpack://mask-network/./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js","webpack://mask-network/./node_modules/.pnpm/is-arguments@1.1.1/node_modules/is-arguments/index.js","webpack://mask-network/./node_modules/.pnpm/is-callable@1.2.7/node_modules/is-callable/index.js","webpack://mask-network/./node_modules/.pnpm/is-generator-function@1.0.10/node_modules/is-generator-function/index.js","webpack://mask-network/./node_modules/.pnpm/is-hex-prefixed@1.0.0/node_modules/is-hex-prefixed/src/index.js","webpack://mask-network/./node_modules/.pnpm/is-nan@1.3.2/node_modules/is-nan/implementation.js","webpack://mask-network/./node_modules/.pnpm/is-nan@1.3.2/node_modules/is-nan/index.js","webpack://mask-network/./node_modules/.pnpm/is-nan@1.3.2/node_modules/is-nan/polyfill.js","webpack://mask-network/./node_modules/.pnpm/is-nan@1.3.2/node_modules/is-nan/shim.js","webpack://mask-network/./node_modules/.pnpm/is-stream@2.0.1/node_modules/is-stream/index.js","webpack://mask-network/./node_modules/.pnpm/is-typed-array@1.1.12/node_modules/is-typed-array/index.js","webpack://mask-network/./node_modules/.pnpm/isarray@1.0.0/node_modules/isarray/index.js","webpack://mask-network/./node_modules/.pnpm/isarray@2.0.1/node_modules/isarray/index.js","webpack://mask-network/./node_modules/.pnpm/jayson@3.6.5/node_modules/jayson/lib/client/browser/index.js","webpack://mask-network/./node_modules/.pnpm/jayson@3.6.5/node_modules/jayson/lib/generateRequest.js","webpack://mask-network/./node_modules/.pnpm/jayson@4.1.0/node_modules/jayson/lib/client/browser/index.js","webpack://mask-network/./node_modules/.pnpm/jayson@4.1.0/node_modules/jayson/lib/generateRequest.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-engine@6.1.0/node_modules/json-rpc-engine/dist/JsonRpcEngine.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-engine@6.1.0/node_modules/json-rpc-engine/dist/createAsyncMiddleware.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-engine@6.1.0/node_modules/json-rpc-engine/dist/createScaffoldMiddleware.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-engine@6.1.0/node_modules/json-rpc-engine/dist/getUniqueId.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-engine@6.1.0/node_modules/json-rpc-engine/dist/idRemapMiddleware.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-engine@6.1.0/node_modules/json-rpc-engine/dist/index.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-engine@6.1.0/node_modules/json-rpc-engine/dist/mergeMiddleware.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-middleware-stream@3.0.0/node_modules/json-rpc-middleware-stream/dist/createEngineStream.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-middleware-stream@3.0.0/node_modules/json-rpc-middleware-stream/dist/createStreamMiddleware.js","webpack://mask-network/./node_modules/.pnpm/json-rpc-middleware-stream@3.0.0/node_modules/json-rpc-middleware-stream/dist/index.js","webpack://mask-network/./node_modules/.pnpm/json-stable-stringify@1.0.2/node_modules/json-stable-stringify/index.js","webpack://mask-network/./node_modules/.pnpm/jsonify@0.0.1/node_modules/jsonify/index.js","webpack://mask-network/./node_modules/.pnpm/jsonify@0.0.1/node_modules/jsonify/lib/parse.js","webpack://mask-network/./node_modules/.pnpm/jsonify@0.0.1/node_modules/jsonify/lib/stringify.js","webpack://mask-network/./node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js","webpack://mask-network/./node_modules/.pnpm/micro-ftch@0.3.1/node_modules/micro-ftch/index.js","webpack://mask-network/./node_modules/.pnpm/miller-rabin@4.0.1/node_modules/miller-rabin/lib/mr.js","webpack://mask-network/./node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js","webpack://mask-network/./node_modules/.pnpm/minimalistic-crypto-utils@1.0.1/node_modules/minimalistic-crypto-utils/lib/utils.js","webpack://mask-network/./node_modules/.pnpm/ms@2.0.0/node_modules/ms/index.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.6.1/node_modules/multibase/src/base.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.6.1/node_modules/multibase/src/base16.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.6.1/node_modules/multibase/src/base32.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.6.1/node_modules/multibase/src/base64.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.6.1/node_modules/multibase/src/constants.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.6.1/node_modules/multibase/src/index.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.7.0/node_modules/multibase/src/base.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.7.0/node_modules/multibase/src/base16.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.7.0/node_modules/multibase/src/base32.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.7.0/node_modules/multibase/src/base64.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.7.0/node_modules/multibase/src/constants.js","webpack://mask-network/./node_modules/.pnpm/multibase@0.7.0/node_modules/multibase/src/index.js","webpack://mask-network/./node_modules/.pnpm/next-tick@1.1.0/node_modules/next-tick/index.js","webpack://mask-network/./node_modules/.pnpm/number-to-bn@1.7.0/node_modules/number-to-bn/src/index.js","webpack://mask-network/./node_modules/.pnpm/object-inspect@1.12.3/node_modules/object-inspect/index.js","webpack://mask-network/./node_modules/.pnpm/object-is@1.1.5/node_modules/object-is/implementation.js","webpack://mask-network/./node_modules/.pnpm/object-is@1.1.5/node_modules/object-is/index.js","webpack://mask-network/./node_modules/.pnpm/object-is@1.1.5/node_modules/object-is/polyfill.js","webpack://mask-network/./node_modules/.pnpm/object-is@1.1.5/node_modules/object-is/shim.js","webpack://mask-network/./node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/implementation.js","webpack://mask-network/./node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/index.js","webpack://mask-network/./node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/isArguments.js","webpack://mask-network/./node_modules/.pnpm/object.assign@4.1.4/node_modules/object.assign/implementation.js","webpack://mask-network/./node_modules/.pnpm/object.assign@4.1.4/node_modules/object.assign/polyfill.js","webpack://mask-network/./node_modules/.pnpm/once@1.4.0/node_modules/once/once.js","webpack://mask-network/./node_modules/.pnpm/parse-asn1@5.1.6/node_modules/parse-asn1/asn1.js","webpack://mask-network/./node_modules/.pnpm/parse-asn1@5.1.6/node_modules/parse-asn1/certificate.js","webpack://mask-network/./node_modules/.pnpm/parse-asn1@5.1.6/node_modules/parse-asn1/fixProc.js","webpack://mask-network/./node_modules/.pnpm/parse-asn1@5.1.6/node_modules/parse-asn1/index.js","webpack://mask-network/./node_modules/.pnpm/parseqs@0.0.6/node_modules/parseqs/index.js","webpack://mask-network/./node_modules/.pnpm/parseuri@0.0.6/node_modules/parseuri/index.js","webpack://mask-network/./node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/browser.js","webpack://mask-network/./node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/async.js","webpack://mask-network/./node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/default-encoding.js","webpack://mask-network/./node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/precondition.js","webpack://mask-network/./node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/sync-browser.js","webpack://mask-network/./node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/to-buffer.js","webpack://mask-network/./node_modules/.pnpm/process-nextick-args@2.0.1/node_modules/process-nextick-args/index.js","webpack://mask-network/./node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/browser.js","webpack://mask-network/./node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/mgf.js","webpack://mask-network/./node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/privateDecrypt.js","webpack://mask-network/./node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/publicEncrypt.js","webpack://mask-network/./node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/withPublic.js","webpack://mask-network/./node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/xor.js","webpack://mask-network/./node_modules/.pnpm/pump@3.0.0/node_modules/pump/index.js","webpack://mask-network/./node_modules/.pnpm/pvtsutils@1.3.5/node_modules/pvtsutils/build/index.js","webpack://mask-network/./node_modules/.pnpm/query-string@7.1.3/node_modules/query-string/index.js","webpack://mask-network/./node_modules/.pnpm/queue-microtask@1.2.3/node_modules/queue-microtask/index.js","webpack://mask-network/./node_modules/.pnpm/quick-format-unescaped@4.0.4/node_modules/quick-format-unescaped/index.js","webpack://mask-network/./node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js","webpack://mask-network/./node_modules/.pnpm/randomfill@1.0.4/node_modules/randomfill/browser.js","webpack://mask-network/./node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js","webpack://mask-network/./node_modules/.pnpm/rlp@2.2.7/node_modules/rlp/dist.browser/index.js","webpack://mask-network/./node_modules/.pnpm/safe-buffer@5.1.2/node_modules/safe-buffer/index.js","webpack://mask-network/./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js","webpack://mask-network/./node_modules/.pnpm/safe-json-utils@1.1.1/node_modules/safe-json-utils/dist/cjs/index.js","webpack://mask-network/./node_modules/.pnpm/safer-buffer@2.1.2/node_modules/safer-buffer/safer.js","webpack://mask-network/./node_modules/.pnpm/scrypt-js@3.0.1/node_modules/scrypt-js/scrypt.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha1.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha224.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha384.js","webpack://mask-network/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/chi/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/copy/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/iota/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/iota/round-constants/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/rho-pi/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/rho-pi/pi-shuffles/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/rho-pi/rho-offsets/index.js","webpack://mask-network/./node_modules/.pnpm/sha3@2.1.4/node_modules/sha3/sponge/permute/theta/index.js","webpack://mask-network/./node_modules/.pnpm/side-channel@1.0.4/node_modules/side-channel/index.js","webpack://mask-network/./node_modules/.pnpm/socket.io-parser@3.3.2/node_modules/socket.io-parser/binary.js","webpack://mask-network/./node_modules/.pnpm/socket.io-parser@3.3.2/node_modules/socket.io-parser/index.js","webpack://mask-network/./node_modules/.pnpm/socket.io-parser@3.3.2/node_modules/socket.io-parser/is-buffer.js","webpack://mask-network/./node_modules/.pnpm/split-on-first@1.1.0/node_modules/split-on-first/index.js","webpack://mask-network/./node_modules/.pnpm/stream-browserify@3.0.0/node_modules/stream-browserify/index.js","webpack://mask-network/./node_modules/.pnpm/stream-http@2.8.3/node_modules/stream-http/index.js","webpack://mask-network/./node_modules/.pnpm/stream-http@2.8.3/node_modules/stream-http/lib/capability.js","webpack://mask-network/./node_modules/.pnpm/stream-http@2.8.3/node_modules/stream-http/lib/request.js","webpack://mask-network/./node_modules/.pnpm/stream-http@2.8.3/node_modules/stream-http/lib/response.js","webpack://mask-network/./node_modules/.pnpm/strict-uri-encode@2.0.0/node_modules/strict-uri-encode/index.js","webpack://mask-network/./node_modules/.pnpm/string_decoder@1.1.1/node_modules/string_decoder/lib/string_decoder.js","webpack://mask-network/./node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js","webpack://mask-network/./node_modules/.pnpm/strip-hex-prefix@1.0.0/node_modules/strip-hex-prefix/src/index.js","webpack://mask-network/./node_modules/.pnpm/text-encoding-utf-8@1.0.2/node_modules/text-encoding-utf-8/lib/encoding.lib.js","webpack://mask-network/./node_modules/.pnpm/to-array@0.1.4/node_modules/to-array/index.js","webpack://mask-network/./node_modules/.pnpm/to-arraybuffer@1.0.1/node_modules/to-arraybuffer/index.js","webpack://mask-network/./node_modules/.pnpm/twemoji-parser@11.0.2/node_modules/twemoji-parser/dist/index.js","webpack://mask-network/./node_modules/.pnpm/twemoji-parser@11.0.2/node_modules/twemoji-parser/dist/lib/regex.js","webpack://mask-network/./node_modules/.pnpm/utf8@3.0.0/node_modules/utf8/utf8.js","webpack://mask-network/./node_modules/.pnpm/util-deprecate@1.0.2/node_modules/util-deprecate/browser.js","webpack://mask-network/./node_modules/.pnpm/varint@5.0.2/node_modules/varint/decode.js","webpack://mask-network/./node_modules/.pnpm/varint@5.0.2/node_modules/varint/encode.js","webpack://mask-network/./node_modules/.pnpm/varint@5.0.2/node_modules/varint/index.js","webpack://mask-network/./node_modules/.pnpm/varint@5.0.2/node_modules/varint/length.js","webpack://mask-network/./node_modules/.pnpm/web3-core-promievent@1.10.2/node_modules/web3-core-promievent/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-core-requestmanager@1.10.2/node_modules/web3-core-requestmanager/lib/batch.js","webpack://mask-network/./node_modules/.pnpm/web3-core-requestmanager@1.10.2/node_modules/web3-core-requestmanager/lib/givenProvider.js","webpack://mask-network/./node_modules/.pnpm/web3-core-requestmanager@1.10.2/node_modules/web3-core-requestmanager/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-core-requestmanager@1.10.2/node_modules/web3-core-requestmanager/lib/jsonrpc.js","webpack://mask-network/./node_modules/.pnpm/web3-core-subscriptions@1.10.2/node_modules/web3-core-subscriptions/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-core-subscriptions@1.10.2/node_modules/web3-core-subscriptions/lib/subscription.js","webpack://mask-network/./node_modules/.pnpm/web3-core@1.10.2_patch_hash=7c6knffilb7dxuf3r2r5ttgbem/node_modules/web3-core/lib/extend.js","webpack://mask-network/./node_modules/.pnpm/web3-core@1.10.2_patch_hash=7c6knffilb7dxuf3r2r5ttgbem/node_modules/web3-core/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-eth-abi@1.10.2/node_modules/web3-eth-abi/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-eth-iban@1.10.2/node_modules/web3-eth-iban/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-eth-personal@1.10.2/node_modules/web3-eth-personal/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-net@1.10.2/node_modules/web3-net/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-providers-http@1.10.2/node_modules/web3-providers-http/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-providers-ipc@1.10.2/node_modules/web3-providers-ipc/lib/index.js","webpack://mask-network/./node_modules/.pnpm/web3-providers-ws@1.10.2/node_modules/web3-providers-ws/lib/helpers.js","webpack://mask-network/./node_modules/.pnpm/web3-providers-ws@1.10.2/node_modules/web3-providers-ws/lib/index.js","webpack://mask-network/./node_modules/.pnpm/websocket@1.0.34/node_modules/websocket/lib/browser.js","webpack://mask-network/./node_modules/.pnpm/websocket@1.0.34/node_modules/websocket/lib/version.js","webpack://mask-network/./node_modules/.pnpm/which-typed-array@1.1.11/node_modules/which-typed-array/index.js","webpack://mask-network/./node_modules/.pnpm/wrappy@1.0.2/node_modules/wrappy/wrappy.js","webpack://mask-network/./node_modules/.pnpm/ws@7.5.9/node_modules/ws/browser.js","webpack://mask-network/./node_modules/.pnpm/xtend@4.0.2/node_modules/xtend/immutable.js","webpack://mask-network/./node_modules/.pnpm/yeast@0.1.2/node_modules/yeast/index.js","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/@noble+ed25519@1.7.3/node_modules/@noble/ed25519/lib/esm|crypto","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/esm|crypto","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source|crypto","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/bn.js@4.12.0/node_modules/bn.js/lib|buffer","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib|buffer","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/brorand@1.1.0/node_modules/brorand|crypto","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/engine.io-client@3.5.2/node_modules/engine.io-client/lib/transports|ws","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/object-inspect@1.12.3/node_modules/object-inspect|./util.inspect","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/pump@3.0.0/node_modules/pump|fs","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@2.3.7/node_modules/readable-stream/lib/internal/streams|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@2.3.7/node_modules/readable-stream/lib|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib|util","webpack://mask-network/ignored|/Users/macbook/Documents/projects/mask/node_modules/.pnpm/tweetnacl@1.0.3/node_modules/tweetnacl|crypto","webpack://mask-network/./node_modules/.pnpm/available-typed-arrays@1.0.5/node_modules/available-typed-arrays/index.js","webpack://mask-network/./node_modules/.pnpm/pino@7.11.0/node_modules/pino/browser.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/ecmascript/concatArrayBuffer.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/ecmascript/defer.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/ecmascript/lazyDecorator.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/ecmascript/memoizePromise.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/media/file.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/media/image.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/typescript/enum.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/web/combineAbortSignal.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/web/delay.js","webpack://mask-network/./node_modules/.pnpm/@masknet+kit@0.1.2/node_modules/@masknet/kit/esm/web/timeout.js","webpack://mask-network/./node_modules/.pnpm/i18next-browser-languagedetector@7.1.0/node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js","webpack://mask-network/./node_modules/.pnpm/ts-results-es@4.0.0/node_modules/ts-results-es/dist/esm/utils.js","webpack://mask-network/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/alloc.js","webpack://mask-network/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/concat.js","webpack://mask-network/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/from-string.js","webpack://mask-network/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/index.js","webpack://mask-network/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/to-string.js","webpack://mask-network/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/util/as-uint8array.js","webpack://mask-network/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/util/bases.js","webpack://mask-network/./packages/icons/icon-generated-as-url.js","webpack://mask-network/./packages/icons/utils/MaskIconPaletteContext.js","webpack://mask-network/./packages/icons/utils/internal.js"],"sourcesContent":["import { type Option, None } from 'ts-results-es'\n\nexport abstract class Identifier {\n    abstract toText(): string\n    abstract [Symbol.toStringTag]: string\n    /** @internal */\n    toString() {\n        return this.toText()\n    }\n    static from(input: string | undefined | null): Option<Identifier> {\n        // this method will be override in ./utils\n        return None\n    }\n    static [Symbol.hasInstance](x: unknown): boolean {\n        // this method will be override in ./utils\n        return false\n    }\n}\n","import { decodeArrayBuffer, encodeArrayBuffer } from '@masknet/kit'\nimport { Convert } from 'pvtsutils'\nimport { type Option, None, Some, Result, Err } from 'ts-results-es'\nimport { Identifier } from './base.js'\nimport { isEC_JsonWebKey, type EC_JsonWebKey, type EC_Public_JsonWebKey } from '../WebCrypto/JsonWebKey.js'\nimport { decompressK256Key, type EC_CryptoKey, type EC_Public_CryptoKey } from '../index.js'\nimport { compressK256Key } from '../WebCrypto/k256.js'\n\nconst instance = new WeakSet()\nconst k256Cache: Record<string, ECKeyIdentifier> = Object.create(null)\nconst keyAsHex: Record<string, string> = Object.create(null)\n\n/**\n * This class identify the point on an EC curve.\n * ec_key:secp256k1/CompressedPoint\n */\nexport class ECKeyIdentifier extends Identifier {\n    static override from(input: string | null | undefined): Option<ECKeyIdentifier> {\n        if (!input) return None\n        input = String(input)\n        if (input.startsWith('ec_key:')) return Identifier.from(input) as Option<ECKeyIdentifier>\n        return None\n    }\n    static fromHexPublicKeyK256(hex: string | null | undefined): Option<ECKeyIdentifier> {\n        if (!hex) return None\n        hex = String(hex)\n        if (hex.startsWith('0x')) hex = hex.slice(2)\n        const publicKey = encodeArrayBuffer(new Uint8Array(Convert.FromHex(hex)))\n        return Some(new ECKeyIdentifier('secp256k1', publicKey))\n    }\n    static async fromJsonWebKey(key: EC_JsonWebKey): Promise<Result<ECKeyIdentifier, unknown>> {\n        if (!isEC_JsonWebKey(key)) return Err(new Error('key is not a EC_JsonWebKey'))\n        if (key.crv !== 'K-256') return Err(new Error('curve is not K-256'))\n        const result = await Result.wrapAsync(() => compressK256Key(key))\n        return result.map((key) => new ECKeyIdentifier('secp256k1', key))\n    }\n    static async fromCryptoKey(key: EC_CryptoKey): Promise<Result<ECKeyIdentifier, unknown>> {\n        if (!key.extractable) return Err('key is not extractable')\n        if ((key.algorithm as EcKeyAlgorithm).namedCurve !== 'K-256') return Err('curve is not K-256')\n        const jwk = await Result.wrapAsync(() => crypto.subtle.exportKey('jwk', key))\n        if (jwk.isErr()) return jwk\n        return ECKeyIdentifier.fromJsonWebKey(jwk.value as EC_JsonWebKey)\n    }\n    async toJsonWebKey(usage: 'sign_and_verify' | 'derive'): Promise<EC_Public_JsonWebKey> {\n        const key = await decompressK256Key(this.rawPublicKey)\n        if (usage === 'sign_and_verify') key.key_ops = ['sign', 'verify']\n        return key\n    }\n    async toCryptoKey(usage: 'sign_and_verify' | 'derive'): Promise<EC_Public_CryptoKey> {\n        const key = await this.toJsonWebKey(usage)\n        return crypto.subtle.importKey(\n            'jwk',\n            key as JsonWebKey,\n            { name: usage === 'sign_and_verify' ? 'ECDSA' : 'ECDH', namedCurve: 'K-256' },\n            true,\n            key.key_ops as readonly KeyUsage[],\n        ) as Promise<EC_Public_CryptoKey>\n    }\n\n    declare readonly curve: 'secp256k1'\n    declare readonly rawPublicKey: string\n    constructor(curve: 'secp256k1', publicKey: string) {\n        publicKey = String(publicKey).replaceAll('|', '/')\n        if (curve !== 'secp256k1') throw new Error('Only secp256k1 is supported')\n\n        // return the cache to keep the object identity\n        // eslint-disable-next-line no-constructor-return\n        if (k256Cache[publicKey]) return k256Cache[publicKey]\n\n        super()\n        this.curve = 'secp256k1'\n        this.rawPublicKey = publicKey\n        Object.freeze(this)\n        k256Cache[publicKey] = this\n        instance.add(this)\n    }\n    toText() {\n        const normalized = this.rawPublicKey.replaceAll('/', '|')\n        return `ec_key:${this.curve}/${normalized}`\n    }\n    get publicKeyAsHex() {\n        return '0x' + (keyAsHex[this.rawPublicKey] ??= Convert.ToHex(decodeArrayBuffer(this.rawPublicKey)))\n    }\n    declare [Symbol.toStringTag]: string\n    static [Symbol.hasInstance](x: any): boolean {\n        return instance.has(x)\n    }\n}\nECKeyIdentifier.prototype[Symbol.toStringTag] = 'ECKeyIdentifier'\nObject.freeze(ECKeyIdentifier.prototype)\nObject.freeze(ECKeyIdentifier)\n\nexport type PersonaIdentifier = ECKeyIdentifier\nexport const PersonaIdentifier = [ECKeyIdentifier]\n","import { decodeArrayBuffer } from '@masknet/kit'\nimport { type Option, None } from 'ts-results-es'\nimport { Identifier } from './base.js'\nimport { banSlash } from './utils.js'\n\nconst instance = new WeakSet()\nconst id: Record<string, Record<string, PostIVIdentifier>> = Object.create(null)\nexport class PostIVIdentifier extends Identifier {\n    static override from(input: string | null | undefined): Option<PostIVIdentifier> {\n        if (!input) return None\n        input = String(input)\n        if (input.startsWith('post_iv:')) return Identifier.from(input) as Option<PostIVIdentifier>\n        return None\n    }\n    declare readonly network: string\n    declare readonly postIV: string\n    constructor(network: string, postIV: string) {\n        network = String(network)\n        postIV = String(postIV)\n\n        const networkCache = (id[network] ??= {})\n        // return the cache to keep the object identity\n        // eslint-disable-next-line no-constructor-return\n        if (networkCache[postIV]) return networkCache[postIV]\n\n        banSlash(network, 'PostIVIdentifier.network')\n        super()\n        this.network = network\n        this.postIV = postIV\n        Object.freeze(this)\n        networkCache[postIV] = this\n        instance.add(this)\n    }\n    toText() {\n        return `post_iv:${this.network}/${this.postIV.replaceAll('/', '|')}`\n    }\n    toIV() {\n        const x = this.postIV.replaceAll('|', '/')\n        return new Uint8Array(decodeArrayBuffer(x))\n    }\n    declare [Symbol.toStringTag]: string\n    static [Symbol.hasInstance](x: any): boolean {\n        return instance.has(x)\n    }\n}\nPostIVIdentifier.prototype[Symbol.toStringTag] = 'PostIVIdentifier'\nObject.freeze(PostIVIdentifier.prototype)\nObject.freeze(PostIVIdentifier)\n","import { type Option, None } from 'ts-results-es'\nimport { Identifier } from './base.js'\nimport { banSlash } from './utils.js'\nimport { ProfileIdentifier } from './profile.js'\n\nconst instance = new WeakSet()\nconst id = new WeakMap<ProfileIdentifier, Record<string, PostIdentifier>>()\n/**\n * If identifier is a PostIdentifier, that means this post is bound with other post in some kind\n * e.g. a comment.\n */\nexport class PostIdentifier extends Identifier {\n    static override from(input: string | null | undefined): Option<PostIdentifier> {\n        if (!input) return None\n        input = String(input)\n        if (input.startsWith('post:')) return Identifier.from(input) as Option<PostIdentifier>\n        return None\n    }\n    declare readonly identifier: ProfileIdentifier\n    declare readonly postID: string\n    constructor(identifier: ProfileIdentifier, postID: string) {\n        if (!(identifier instanceof ProfileIdentifier))\n            throw new TypeError('[@masknet/shared-base] PostIdentifier.identifier is not a ProfileIdentifier')\n\n        if (!id.has(identifier)) id.set(identifier, Object.create(null))\n        const idCache = id.get(identifier)!\n        // return the cache to keep the object identity\n        // eslint-disable-next-line no-constructor-return\n        if (idCache[postID]) return idCache[postID]\n\n        banSlash(postID, 'PostIdentifier.postID')\n        super()\n        this.identifier = identifier\n        this.postID = postID\n        Object.freeze(this)\n        idCache[postID] = this\n        instance.add(this)\n    }\n    toText() {\n        return `post:${this.postID}/${this.identifier.toText()}`\n    }\n    /** @deprecated */\n    get postId() {\n        return this.postID\n    }\n    declare [Symbol.toStringTag]: string\n    static [Symbol.hasInstance](x: any): boolean {\n        return instance.has(x)\n    }\n}\nPostIdentifier.prototype[Symbol.toStringTag] = 'PostIdentifier'\nObject.freeze(PostIdentifier.prototype)\nObject.freeze(PostIdentifier)\n","import { type Option, None, Some } from 'ts-results-es'\nimport { Identifier } from './base.js'\nimport { banSlash } from './utils.js'\n\nconst instance = new WeakSet()\nconst id: Record<string, Record<string, ProfileIdentifier>> = Object.create(null)\nconst unknownText = 'person:localhost/$unknown'\n/**\n * Refers to a profile on a network.\n */\nexport class ProfileIdentifier extends Identifier {\n    static override from(input: string | null | undefined): Option<ProfileIdentifier> {\n        input = String(input)\n        if (input === unknownText) return None\n        if (input.startsWith('person:')) return Identifier.from(input) as Option<ProfileIdentifier>\n        return None\n    }\n    static of(network: string | undefined | null, userID: string | undefined | null): Option<ProfileIdentifier> {\n        if (!userID || !network) return None\n        if (network === 'localhost' && userID === '$unknown') return None\n        if (network.includes('/') || userID.includes('/')) return None\n        if (network.includes('\\n') || userID.includes('\\n')) return None\n        return Some(new ProfileIdentifier(network, userID))\n    }\n\n    // ! \"network\" and \"userId\" cannot be renamed because they're stored in the database in it's object form.\n    declare readonly network: string\n    declare readonly userId: string\n    private constructor(network: string, userID: string) {\n        network = String(network).toLowerCase()\n        userID = String(userID)\n\n        if (network === 'localhost' && userID === '$unknown') {\n            throw new TypeError('[@masknet/base] Use null instead.')\n        }\n        if (!userID) throw new TypeError('[@masknet/base] userID cannot be empty.')\n\n        const networkCache = (id[network] ??= {})\n        // return the cache to keep the object identity\n        // eslint-disable-next-line no-constructor-return\n        if (networkCache[userID]) return networkCache[userID]\n\n        banSlash(network, 'ProfileIdentifier.network')\n        banSlash(userID, 'ProfileIdentifier.userID')\n        super()\n        this.network = network\n        this.userId = userID\n        Object.freeze(this)\n        networkCache[userID] = this\n        instance.add(this)\n    }\n    toText() {\n        return `person:${this.network}/${this.userId}`\n    }\n    declare [Symbol.toStringTag]: string\n    static [Symbol.hasInstance](x: any): boolean {\n        return instance.has(x)\n    }\n}\nProfileIdentifier.prototype[Symbol.toStringTag] = 'ProfileIdentifier'\nObject.freeze(ProfileIdentifier.prototype)\nObject.freeze(ProfileIdentifier)\n","import { type Option, Some, None } from 'ts-results-es'\nimport { ProfileIdentifier } from './profile.js'\nimport { PostIdentifier } from './post.js'\nimport { ECKeyIdentifier } from './ec-key.js'\nimport { PostIVIdentifier } from './post-iv.js'\nimport { Identifier } from './base.js'\n\n/**\n * This type only refers to the stringified Identifier. ANY suffix CANNOT be renamed.\n * person:...\n * post:...\n * post_iv:...\n * ec_key:...\n *\n * Note:\n * group: has removed, if you want to add a new identifier for grouping, please choose another prefix.\n * @internal\n */\nfunction parse(input: string | null | undefined): Option<Identifier> {\n    if (!input) return None\n    input = String(input)\n    if (input.startsWith('person:')) {\n        const [network, userID] = input.slice('person:'.length).split('/')\n        if (!network || !userID) return None\n        return ProfileIdentifier.of(network, userID)\n    } else if (input.startsWith('post:')) {\n        const [postID, ...rest] = input.slice('post:'.length).split('/')\n        const inner = parse(rest.join('/'))\n        if (inner.isNone()) return None\n        if (inner.value instanceof ProfileIdentifier) return Some(new PostIdentifier(inner.value, postID))\n        return None\n    } else if (input.startsWith('post_iv:')) {\n        const [network, postIV] = input.slice('post_iv:'.length).split('/')\n        if (!network || !postIV) return None\n        return Some(new PostIVIdentifier(network, postIV.replaceAll('|', '/')))\n    } else if (input.startsWith('ec_key:')) {\n        const [curve, compressedPoint] = input.slice('ec_key:'.length).split('/')\n        if (curve !== 'secp256k1') return None\n        if (!compressedPoint) return None\n        return Some(new ECKeyIdentifier(curve, compressedPoint))\n    }\n    return None\n}\n\nfunction hasInstance(x: unknown): boolean {\n    if (\n        x instanceof ProfileIdentifier ||\n        x instanceof ECKeyIdentifier ||\n        x instanceof PostIVIdentifier ||\n        x instanceof PostIdentifier\n    )\n        return true\n    return false\n}\n// Due to circular reference, I have to move part of this class to this file.\nIdentifier[Symbol.hasInstance] = hasInstance\nIdentifier.from = parse\nObject.freeze(Identifier.prototype)\nObject.freeze(Identifier)\n\n/**\n * Because \"/\" is used to split parts in identifier\n * we should reject the \"/\"\n *\n * If you want to use it, you must first convert to something else\n * @internal\n */\nexport function banSlash(input: string | undefined | null, source?: string) {\n    if (!input) return\n    if (input.includes('/')) throw new TypeError(`Cannot contain / in a part of identifier (${source}): ${input}`)\n}\n","import { Environment, getEnvironment } from '@dimensiondev/holoflows-kit'\nimport { defer } from '@masknet/kit'\n\nexport interface BuildInfoFile {\n    readonly BUILD_DATE?: string | undefined\n    readonly VERSION?: string | undefined\n    readonly COMMIT_HASH?: string | undefined\n    readonly COMMIT_DATE?: string | undefined\n    readonly BRANCH_NAME?: string | undefined\n    readonly DIRTY?: boolean | undefined\n    readonly REACT_DEVTOOLS_EDITOR_URL?: string\n    readonly channel: 'stable' | 'beta' | 'insider'\n}\n\nexport async function getBuildInfo(): Promise<BuildInfoFile> {\n    try {\n        // eslint-disable-next-line no-bitwise\n        const hasBrowserAPI = getEnvironment() & Environment.HasBrowserAPI\n        const b = (globalThis as any).browser\n        const manifestVersion = hasBrowserAPI ? b.runtime.getManifest().version : undefined\n        const response = await fetch(hasBrowserAPI ? b.runtime.getURL('/build-info.json') : '/build-info.json')\n        const env: BuildInfoFile = await response.json()\n        if (manifestVersion) Object.assign(env, { VERSION: manifestVersion })\n        Object.freeze(env)\n        return env\n    } catch {\n        return {\n            channel: 'stable',\n        }\n    }\n}\nexport let env: BuildInfoFile\nconst [_promise, resolve] = defer<void>()\nexport const buildInfoReadyPromise = _promise\nexport async function setupBuildInfo(): Promise<void> {\n    if (env) return\n    return setupBuildInfoManually(await getBuildInfo())\n}\nexport function setupBuildInfoManually(_env: BuildInfoFile) {\n    if (env) return\n    resolve()\n    env = _env\n}\n","import { env } from './buildInfo.js'\nimport { Environment, isEnvironment } from '@dimensiondev/holoflows-kit'\n\nconst isTest = process.env.NODE_ENV === 'test'\nconst isDev = process.env.NODE_ENV === 'development'\nconst isProd = process.env.NODE_ENV === 'production'\nconst isInsider = env.channel === 'insider' || isDev\nconst isBeta = isInsider || env.channel === 'beta'\n\nexport const flags = {\n    mask_sdk_enabled: isBeta,\n    support_testnet_switch: isBeta,\n\n    shadowRootInit: {\n        mode:\n            '__REACT_DEVTOOLS_GLOBAL_HOOK__' in globalThis ||\n            isBeta ||\n            isTest ||\n            !isEnvironment(Environment.HasBrowserAPI)\n                ? 'open'\n                : 'closed',\n        delegatesFocus: true,\n    } as const satisfies ShadowRootInit,\n\n    using_emoji_flag: true,\n    post_actions_enabled: true,\n    sandboxedPluginRuntime: false,\n\n    // twitter\n    twitter_token:\n        'AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA',\n\n    // sentry\n    sentry_earliest_version: env.VERSION,\n    sentry_sample_rate: 0.05,\n    sentry_enabled: isProd,\n    sentry_event_enabled: isProd,\n    sentry_exception_enabled: isProd,\n    sentry_fetch_transaction_enabled: isProd,\n    sentry_async_transaction_enabled: isDev,\n\n    // mixpanel\n    mixpanel_earliest_version: env.VERSION,\n    mixpanel_sample_rate: 1,\n    mixpanel_enabled: isProd,\n    mixpanel_event_enabled: isProd,\n    mixpanel_exception_enabled: isProd,\n    mixpanel_project_token: 'b815b822fd131650e92ff8539eb5e793',\n\n    // wallet connect\n    wc_relay_url: 'wss://relay.walletconnect.com',\n    wc_project_id: '8f1769933420afe8873860925fcca14f',\n    wc_mode: isProd ? 'error' : 'debug',\n    wc_enabled: process.env.NODE_ENV !== 'test',\n} as const\n\nObject.freeze(flags.shadowRootInit)\n\nif (process.env.NODE_ENV === 'development') {\n    console.debug('[mask] flags:', flags)\n}\n","export class Flags<T extends object> {\n    constructor(protected defaults: T) {}\n\n    get accessor(): Readonly<T> {\n        return new Proxy(this.defaults, {\n            get(target, key, receiver) {\n                return Reflect.get(target, key, receiver)\n            },\n            set(target, key, value, receiver) {\n                throw new Error('Not allowed')\n            },\n        })\n    }\n}\n","import urlcat from 'urlcat'\nimport { has } from 'lodash-es'\nimport { Flags } from './Flags.js'\nimport { env } from '../flags/buildInfo.js'\n\ninterface FetchResult<T extends Record<string, unknown>> {\n    flags?: T\n    timestamp: number\n}\n\nexport class RemoteFlags<T extends Record<string, unknown>> extends Flags<T> {\n    private readonly KEY = 'mask-last-fetch-result'\n\n    private lastFetchResult: FetchResult<T> | null = null\n\n    private get lastStorageResult() {\n        if (typeof localStorage === 'undefined') return null\n        try {\n            const json = localStorage.getItem(this.KEY)\n            const result: FetchResult<T> | null = json ? JSON.parse(json) : null\n            return result\n        } catch (error) {\n            return null\n        }\n    }\n\n    constructor(\n        private remoteFlagsURL: string,\n        defaults: T,\n        private initials?: {\n            // the valid duration for remote fetched flags\n            fetchTTL?: number\n            // the valid duration for local storage flags\n            storageTTL?: number\n        },\n    ) {\n        super(defaults)\n\n        this.sync()\n    }\n\n    get options() {\n        return {\n            fetchTTL: 60 * 60 * 1000, // 1hr\n            storageTTL: 2 * 60 * 60 * 1000, // 2hr\n            ...this.initials,\n        }\n    }\n\n    get isLastFetchResultFresh() {\n        return Date.now() - this.lastFetchTimestamp < this.options.fetchTTL\n    }\n\n    get isLastStorageResultFresh() {\n        return Date.now() - this.lastStorageTimestamp < this.options.storageTTL\n    }\n\n    get lastFetchTimestamp() {\n        return this.lastFetchResult?.timestamp ?? 0\n    }\n\n    get lastStorageTimestamp() {\n        return this.lastStorageResult?.timestamp ?? 0\n    }\n\n    override get accessor(): Readonly<T> {\n        return new Proxy(this.defaults, {\n            get: (target, key, receiver) => {\n                if (has(this.lastFetchResult?.flags, key)) return this.lastFetchResult?.flags?.[key as string]\n                return Reflect.get(target, key, receiver)\n            },\n            set: (target, key, value, receiver) => {\n                throw new Error('Not allowed')\n            },\n        })\n    }\n\n    /**\n     * Sync with the local storage.\n     */\n    sync() {\n        if (!this.isLastStorageResultFresh) {\n            try {\n                localStorage.removeItem(this.KEY)\n            } catch {}\n        }\n\n        const lastFetchResult = this.lastFetchResult\n        const lastStorageResult = this.lastStorageResult\n\n        if (\n            (lastFetchResult?.timestamp && !lastStorageResult?.timestamp) ||\n            (lastFetchResult?.timestamp &&\n                lastStorageResult?.timestamp &&\n                lastStorageResult.timestamp < lastFetchResult.timestamp)\n        ) {\n            console.log('[RemoteFlags] sync from remote')\n            try {\n                localStorage.setItem(this.KEY, JSON.stringify(lastFetchResult))\n            } catch {}\n        } else if (lastStorageResult?.timestamp) {\n            this.lastFetchResult = lastStorageResult\n        }\n    }\n\n    /**\n     * Fetch flags from the remote server.\n     */\n    async fetch() {\n        const response = await fetch(\n            urlcat(this.remoteFlagsURL, {\n                channel: env.channel,\n                NODE_ENV: process.env.NODE_ENV,\n            }),\n        )\n        const flags: T = await response.json()\n        return flags\n    }\n\n    /**\n     * Fetch flags from the remote server and patch updates right after fetched.\n     */\n    async fetchAndActive() {\n        // Prevent fetching too frequently\n        if (this.isLastFetchResultFresh) return\n\n        this.lastFetchResult = {\n            flags: await this.fetch(),\n            timestamp: Date.now(),\n        }\n        this.sync()\n    }\n}\n","export abstract class BaseProvider {\n    protected events = new Map<string, Set<(data: unknown) => void>>()\n    protected isReadyInternal = false\n    protected isConnectedInternal = false\n\n    constructor(public pathname: string) {\n        this.startup()\n    }\n\n    private async startup() {\n        await this.untilAvailable()\n\n        // if a provider is not ready, it will not be able to connect\n        if (!this.isReady) return\n\n        this.on('connected', () => {\n            this.isConnectedInternal = true\n        })\n        this.on('disconnect', () => {\n            this.isConnectedInternal = false\n        })\n\n        this.isConnectedInternal = (await this.getProperty<boolean | null>('isConnected')) ?? false\n    }\n\n    get isReady() {\n        return this.isReadyInternal\n    }\n\n    get isConnected() {\n        return this.isConnectedInternal\n    }\n\n    /**\n     * Build the connection.\n     */\n    abstract connect(options: unknown): Promise<unknown>\n\n    /**\n     * Break the connections.\n     */\n    abstract disconnect(): Promise<void>\n\n    /**\n     * Wait until the sdk object injected into the page.\n     */\n    abstract untilAvailable(validator?: () => Promise<boolean>): Promise<void>\n\n    /**\n     * Send RPC request to the sdk object.\n     */\n    abstract request<T>(data: unknown): Promise<T>\n\n    /**\n     * Add event listener on the sdk object.\n     */\n    abstract on(event: string, callback: (...args: any) => void): () => void\n\n    /**\n     * Remove event listener from the sdk object.\n     */\n    abstract off(event: string, callback: (...args: any) => void): void\n\n    /**\n     * Emit event and invoke registered listeners\n     */\n    abstract emit(event: string, data: unknown[]): void\n\n    /**\n     * Access primitive property on the sdk object.\n     */\n    abstract getProperty<T = unknown>(key: string): Promise<T | null>\n}\n","import { BaseProvider } from './Base.js'\nimport { createPromise, sendEvent } from './utils.js'\n\nexport class BaseInjectedProvider extends BaseProvider {\n    /**\n     * Build the connection.\n     */\n    connect(options: unknown): Promise<unknown> {\n        return createPromise((id) => sendEvent('web3BridgeExecute', [this.pathname, 'connect'].join('.'), id, options))\n    }\n\n    /**\n     * Break the connections.\n     */\n    async disconnect(): Promise<void> {\n        try {\n            // some providers do not support disconnect\n            return await createPromise((id) =>\n                sendEvent('web3BridgeExecute', [this.pathname, 'disconnect'].join('.'), id),\n            )\n        } catch {\n            return\n        }\n    }\n\n    /**\n     * Wait until the sdk object injected into the page.\n     */\n    async untilAvailable(validator: () => Promise<boolean> = () => Promise.resolve(true)): Promise<void> {\n        await createPromise((id) => sendEvent('web3UntilBridgeOnline', this.pathname.split('.')[0], id))\n        if (await validator()) {\n            this.isReadyInternal = true\n        }\n    }\n\n    /**\n     * Send RPC request to the sdk object.\n     */\n    request<T>(data: unknown): Promise<T> {\n        return createPromise((id) => sendEvent('web3BridgeExecute', [this.pathname, 'request'].join('.'), id, data))\n    }\n\n    /**\n     * Add event listener on the sdk object.\n     */\n    on(event: string, callback: (...args: any) => void): () => void {\n        if (!this.events.has(event)) {\n            this.events.set(event, new Set())\n            sendEvent('web3BridgeBindEvent', this.pathname, 'web3BridgeEmitEvent', event)\n        }\n        const set = this.events.get(event)!\n        set.add(callback)\n        return () => void set.delete(callback)\n    }\n\n    /**\n     * Remove event listener from the sdk object.\n     */\n    off(event: string, callback: (...args: any) => void): void {\n        this.events.get(event)?.delete(callback)\n    }\n\n    /**\n     * Emit event and invoke registered listeners\n     */\n    emit(event: string, data: unknown[]) {\n        for (const f of this.events.get(event) || []) {\n            try {\n                Reflect.apply(f, null, data)\n            } catch {}\n        }\n    }\n\n    /**\n     * Access primitive property on the sdk object.\n     */\n    getProperty<T = unknown>(key: string): Promise<T | null> {\n        return createPromise((id) => sendEvent('web3BridgePrimitiveAccess', this.pathname, id, key))\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\n\nexport class BrowserProvider extends BaseInjectedProvider {\n    constructor() {\n        super('ethereum')\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\n\nexport class CloverProvider extends BaseInjectedProvider {\n    constructor() {\n        super('clover')\n    }\n\n    override async untilAvailable(): Promise<void> {\n        await super.untilAvailable(async () => {\n            const isClover = await super.getProperty<boolean>('isClover')\n            return !!isClover\n        })\n    }\n}\n","import type { RequestArguments } from '../shared/index.js'\nimport { BaseInjectedProvider } from './BaseInjected.js'\n\nexport enum Coin98ProviderType {\n    EVM = 1,\n    Solana = 2,\n    Near = 3,\n}\n\nexport class Coin98Provider extends BaseInjectedProvider {\n    constructor(protected type: Coin98ProviderType) {\n        const pathnameMap: Record<Coin98ProviderType, string> = {\n            [Coin98ProviderType.EVM]: 'coin98.provider',\n            [Coin98ProviderType.Near]: 'coin98.near',\n            [Coin98ProviderType.Solana]: 'coin98.sol',\n        }\n\n        super(pathnameMap[type])\n    }\n\n    override async request<T>(data: RequestArguments): Promise<T> {\n        // coin98 cannot handle it correctly (test with coin98 v6.0.3)\n        if (data.method === 'eth_chainId') return (await this.getProperty<T>('chainId'))!\n        return super.request<T>(data)\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\nimport { createPromise, sendEvent } from './utils.js'\n\nexport class CoinbaseProvider extends BaseInjectedProvider {\n    constructor() {\n        super('coinbaseWalletExtension')\n    }\n\n    override async untilAvailable(): Promise<void> {\n        await super.untilAvailable(async () => !!(await super.getProperty<boolean>('isCoinbaseWallet')))\n    }\n\n    override connect(options: unknown): Promise<void> {\n        return createPromise((id) => sendEvent('web3BridgeExecute', [this.pathname, 'enable'].join('.'), id, options))\n    }\n\n    override emit(event: string, data: unknown[]) {\n        for (const f of this.events.get(event) || []) {\n            try {\n                Reflect.apply(f, null, event === 'chainChanged' ? [`0x${Number(data[0]).toString(16)}`] : data)\n            } catch {}\n        }\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\n\nexport class MetaMaskProvider extends BaseInjectedProvider {\n    constructor() {\n        super('ethereum.__metamask__')\n    }\n\n    override async untilAvailable(): Promise<void> {\n        await super.untilAvailable(async () => {\n            const isMetaMask = await super.getProperty<boolean>('isMetaMask')\n            return !!isMetaMask\n        })\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\nimport { createPromise, sendEvent } from './utils.js'\n\nexport class OKXProvider extends BaseInjectedProvider {\n    constructor() {\n        super('okxwallet')\n    }\n\n    override async untilAvailable(): Promise<void> {\n        await super.untilAvailable(async () => !!(await super.getProperty<boolean>('isOKExWallet')))\n    }\n\n    override connect(options: unknown): Promise<void> {\n        return createPromise((id) => sendEvent('web3BridgeExecute', [this.pathname, 'enable'].join('.'), id, options))\n    }\n\n    override emit(event: string, data: unknown[]) {\n        for (const f of this.events.get(event) || []) {\n            try {\n                Reflect.apply(f, null, event === 'chainChanged' ? [`0x${Number(data[0]).toString(16)}`] : data)\n            } catch {}\n        }\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\n\nexport class OperaProvider extends BaseInjectedProvider {\n    constructor() {\n        super('ethereum')\n    }\n\n    override async untilAvailable(): Promise<void> {\n        await super.untilAvailable(async () => {\n            const isOpera = await super.getProperty<boolean>('isOpera')\n            return !!isOpera\n        })\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\n\nexport class PhantomProvider extends BaseInjectedProvider {\n    constructor() {\n        super('phantom.solana')\n    }\n\n    override async connect(options: unknown): Promise<unknown> {\n        await super.connect(options)\n        return {\n            publicKey: await super.getProperty<string>('publicKey'),\n        }\n    }\n}\n","import { BaseInjectedProvider } from './BaseInjected.js'\n\nexport class SolflareProvider extends BaseInjectedProvider {\n    constructor() {\n        super('solflare')\n    }\n\n    override async connect(options: unknown): Promise<unknown> {\n        await super.connect(options)\n        return {\n            publicKey: await super.getProperty<string>('publicKey'),\n        }\n    }\n}\n","import { CustomEventId, type InternalEvents, encodeEvent } from '../shared/index.js'\n\nlet warned = false\nexport function sendEvent<K extends keyof InternalEvents>(name: K, ...params: InternalEvents[K]) {\n    if (!warned && typeof location === 'object' && location.protocol.includes('extension')) {\n        console.warn('This code is not expected to be run in the extension pages. Please check your code.')\n        warned = true\n    }\n    if (typeof document === 'undefined') return\n    document.dispatchEvent(\n        new CustomEvent(CustomEventId, {\n            cancelable: true,\n            bubbles: true,\n            detail: encodeEvent(name, params),\n        }),\n    )\n}\nconst promisePool = new Map<number, [resolve: (value: any) => void, reject: (reason?: any) => void]>()\nlet id = 1\nexport function createPromise<T>(callback: (id: number) => void) {\n    return new Promise<T>((resolve, reject) => {\n        id += 1\n        promisePool.set(id, [resolve, reject])\n        callback(id)\n    })\n}\nexport function resolvePromise(id: number, data: unknown) {\n    const pair = promisePool.get(id)\n    if (pair) {\n        pair[0](data)\n        promisePool.delete(id)\n    }\n}\nexport function rejectPromise(id: number, data: unknown) {\n    const pair = promisePool.get(id)\n    if (pair) {\n        pair[1](data)\n        promisePool.delete(id)\n    }\n}\n","export const CustomEventId = '413f832d-db5c-4779-8d7e-1f7127bd167b'\nexport interface InternalEvents {\n    /** Simulate a paste event on the activeElement */\n    paste: [text: string]\n    /** Simulate an image paste event on the activeElement */\n    pasteImage: [image: number[]]\n    /** Simulate a input event on the activeElement */\n    input: [text: string]\n    /** Simulate a image upload on the activeElement on instagram */\n    instagramUpload: [image: number[]]\n    /**\n     * Simulate an image upload event.\n     *\n     * How to use:\n     * Call this event, then invoke the file selector (for now it's instagram). It will invoke click on some input, then let's replace with the result.\n     */\n    hookInputUploadOnce: [format: string, fileName: string, file: number[], triggerOnActiveElementNow: boolean]\n\n    // #region web3 bridge\n    /** Request the bridge to listen on an event. */\n    web3BridgeBindEvent: [path: string, responseEventName: keyof InternalEvents, eventName: string]\n    /** When a event happened. */\n    web3BridgeEmitEvent: [path: string, eventName: string, data: unknown[]]\n    /** Send JSON RPC request. */\n    web3BridgeSendRequest: [path: string, req_id: number, request: unknown]\n    /** Access primitive property on the window.ethereum object. */\n    web3BridgePrimitiveAccess: [path: string, req_id: number, property: string]\n    /** Wait until window.ethereum appears */\n    web3UntilBridgeOnline: [path: string, req_id: number]\n    /** Request the bridge to call function. */\n    web3BridgeExecute: [path: string, req_id: number, opts?: unknown]\n    // #endregion\n\n    /** A simple RPC. */\n    // Not using async-call-rpc because we need to make sure every intrinsic\n    // we're using is captured.\n    resolvePromise: [req_id: number, data: unknown]\n    rejectPromise: [req_id: number, error: unknown]\n}\n\nexport interface RequestArguments {\n    method: string\n    params?: any\n    [key: string]: any\n}\nexport interface EthereumProvider {\n    /** Wait for ethereum object appears. */\n    untilAvailable(): Promise<true>\n    /** Send JSON RPC to the ethereum provider. */\n    request(data: RequestArguments): Promise<unknown>\n    /** Add event listener */\n    on(event: string, callback: (...args: any) => void): () => void\n    /** Remove event listener */\n    off(event: string, callback: (...args: any) => void): void\n    /** Access primitive property on the ethereum object. */\n    getProperty(key: string): Promise<boolean | undefined>\n}\n\nexport type EventItemBeforeSerialization = keyof InternalEvents extends infer U\n    ? U extends keyof InternalEvents\n        ? readonly [U, InternalEvents[U]]\n        : never\n    : never\nconst { parse, stringify } = JSON\nconst { isArray } = Array\nconst { setPrototypeOf } = Object\nconst { String } = globalThis\nexport function encodeEvent(key: string, args: unknown[]) {\n    return stringify(setPrototypeOf([key, args], null), function formatter(key: string, value: unknown) {\n        if (value instanceof Uint8Array) return { $type: 'u8[]', value: [...value] }\n        return value\n    })\n}\n\nexport function decodeEvent(data: unknown) {\n    const result = parse(String(data), function reviver(key: string, value: unknown) {\n        if (\n            typeof value === 'object' &&\n            value &&\n            '$type' in value &&\n            'value' in value &&\n            isArray(value.value) &&\n            value.$type === 'u8[]'\n        )\n            return new Uint8Array(value.value)\n        return value\n    })\n    // Do not throw new Error cause it requires a global lookup.\n    if (!isEventItemBeforeSerialization(result)) throw null\n    return result\n}\n\nfunction isEventItemBeforeSerialization(data: unknown): data is EventItemBeforeSerialization {\n    if (!isArray(data)) return false\n    if (data.length !== 2) return false\n    if (typeof data[0] !== 'string') return false\n    if (!isArray(data[1])) return false\n    return true\n}\nexport * from './twitter.js'\n","import { QueryClient } from '@tanstack/react-query'\n\nexport const queryClient = new QueryClient({\n    defaultOptions: {\n        queries: {\n            staleTime: 20_000,\n            cacheTime: Number.POSITIVE_INFINITY,\n        },\n    },\n})\n","import type { UnboundedRegistry as MessageChannel } from '@dimensiondev/holoflows-kit'\nimport { combineAbortSignal } from '@masknet/kit'\nimport type { Subscription } from 'use-subscription'\nimport type { KVStorageBackend } from './types.js'\n\nexport { createInMemoryKVStorageBackend } from './in-memory.js'\nexport { createIndexedDB_KVStorageBackend } from './idb.js'\nexport { createProxyKVStorageBackend } from './proxy.js'\nexport type { ProxiedKVStorageBackend } from './proxy.js'\n\nexport const removed = Symbol.for('removed')\nexport * from './types.js'\n\n/**\n * Create a root scope of simple K/V storage.\n * @param backend The storage provider\n * @param message The message channel to sync the latest value\n * @param signal The abort signal\n */\nexport function createKVStorageHost(\n    backend: KVStorageBackend,\n    message: Pick<MessageChannel<[string, unknown]>, 'on'>,\n    signal = new AbortController().signal,\n): ScopedStorage<never>['createSubScope'] {\n    return (name, defaultValues) => {\n        return createScope(signal, backend, message, null, name, defaultValues)\n    }\n}\n\nexport interface ScopedStorage<StorageState extends object> {\n    createSubScope<StorageState extends object>(\n        subScopeName: string,\n        defaultValue: StorageState,\n        signal?: AbortSignal,\n    ): ScopedStorage<StorageState>\n    storage: StorageObject<StorageState>\n}\nexport type StorageObject<T extends object> = {\n    [key in keyof T]: StorageItem<T[key]>\n}\nexport interface StorageItem<T> {\n    /** If this state is initialized */\n    get initialized(): boolean\n    /** A promise of initialization of this state. */\n    readonly initializedPromise: Promise<void>\n    get value(): T\n    readonly subscription: Subscription<T>\n    setValue(value: T): Promise<void>\n}\nconst alwaysThrowHandler = () => {\n    throw new TypeError('Invalid operation')\n}\nfunction createScope(\n    signal: AbortSignal,\n    backend: KVStorageBackend,\n    message: Pick<MessageChannel<any>, 'on'>,\n    parentScope: string | null,\n    scope: string,\n    defaultValues: any,\n): ScopedStorage<any> {\n    if (scope.includes('/')) throw new TypeError('scope name cannot contains \"/\"')\n    if (scope.includes(':')) throw new TypeError('scope name cannot contains \":\"')\n    const currentScope = parentScope === null ? scope : `${parentScope}/${scope}`\n    const storage_inner: StorageObject<any> = {\n        __proto__: new Proxy({ __proto__: null } as any, { get: (_, prop) => get(prop) }),\n    }\n    const storage = new Proxy(storage_inner, {\n        defineProperty: alwaysThrowHandler,\n        deleteProperty: alwaysThrowHandler,\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, p) => {\n            get(p)\n            return Reflect.getOwnPropertyDescriptor(storage_inner, p)\n        },\n    })\n    function get(key: string | symbol) {\n        if (typeof key === 'symbol') return undefined\n        const value = createState(signal, backend, message, currentScope, key, defaultValues[key])\n        Object.defineProperty(storage_inner, key, { enumerable: true, value })\n        return value\n    }\n\n    backend.beforeAutoSync.then(() => {\n        for (const [key, value] of Object.entries(defaultValues)) {\n            if (value === removed) continue\n            // trigger the auto sync\n            storage[key].initialized\n        }\n    })\n\n    return {\n        createSubScope(subScope, defaultValues, scopeSignal) {\n            const aggregatedSignal = combineAbortSignal(scopeSignal, signal)\n            return createScope(aggregatedSignal, backend, message, currentScope, subScope, defaultValues)\n        },\n        storage,\n    }\n}\n\nfunction createState(\n    signal: AbortSignal,\n    backend: KVStorageBackend,\n    message: Pick<MessageChannel<any>, 'on'>,\n    scope: string,\n    prop: string,\n    defaultValue: any,\n): StorageItem<any> {\n    const propKey = `${scope}:${prop}`\n\n    let initialized = false\n    let usingDefaultValue = true\n    const initializedPromise: Promise<void> = backend.beforeAutoSync\n        .then(() => backend.getValue(propKey))\n        .then((val) => {\n            if (val.isSome()) usingDefaultValue = false\n            return val.unwrapOr(defaultValue)\n        })\n        .then((val) => {\n            state = val\n            initialized = true\n        })\n    let state = defaultValue\n\n    const listeners = new Set<() => void>()\n    function subscribe(f: () => void) {\n        listeners.add(f)\n        return () => listeners.delete(f)\n    }\n    const subscription: Subscription<any> = {\n        getCurrentValue: () => {\n            // TODO: suspense\n            if (!initialized) throw initializedPromise\n            return state\n        },\n        subscribe,\n    }\n\n    function setter(val: any) {\n        if (isEqual(state, val)) return\n        usingDefaultValue = false\n        state = val\n        for (const f of listeners) f()\n    }\n\n    message.on(([eventKey, newValue]) => eventKey === propKey && setter(newValue), { signal })\n\n    return {\n        get initialized() {\n            return initialized\n        },\n        get initializedPromise() {\n            return initializedPromise\n        },\n        get value() {\n            if (!initialized) throw new Error(`Try to access K/V state before initialization finished: ${propKey}.`)\n            return state\n        },\n        async setValue(value) {\n            if (signal.aborted) throw new TypeError('Aborted storage.')\n            // force trigger store when set state with default value to make it persistent.\n            if (usingDefaultValue || !isEqual(state, value)) await backend.setValue(propKey, value)\n            setter(value)\n        },\n        subscription,\n    }\n}\nfunction isEqual(a: any, b: any) {\n    if (a === b) return true\n    if (a === null || b === null) return false\n    if (typeof a === 'object') {\n        // Note: JSON stringify is not stable.\n        return JSON.stringify(a) === JSON.stringify(b)\n    }\n    return false\n}\n","import type { KVStorageBackend } from './types.js'\nimport { defer } from '@masknet/kit'\n\nexport interface ProxiedKVStorageBackend extends KVStorageBackend {\n    replaceBackend(backend: KVStorageBackend): void\n}\n\nexport function createProxyKVStorageBackend(): ProxiedKVStorageBackend {\n    let target: KVStorageBackend\n    let [promise, resolve, reject] = defer<void>()\n\n    return {\n        get beforeAutoSync() {\n            return promise\n        },\n        async getValue(...args) {\n            return target!.getValue(...args)\n        },\n        async setValue(...args) {\n            return target!.setValue(...args)\n        },\n        replaceBackend(backend: KVStorageBackend) {\n            target = backend\n            // resolve old one\n            backend.beforeAutoSync.then(resolve, reject)\n            // setup new one\n            ;[promise, resolve, reject] = defer()\n            backend.beforeAutoSync.then(resolve, reject)\n        },\n    }\n}\n","import { WebExtensionMessage } from '@dimensiondev/holoflows-kit'\nimport type {\n    CheckSecurityConfirmationDialogEvent,\n    CompositionDialogEvent,\n    Web3ProfileDialogEvent,\n    CheckSecurityDialogEvent,\n    ApplicationDialogEvent,\n    HideSearchResultInspectorEvent,\n    SwapDialogEvent,\n    ProfileCardEvent,\n    SettingsDialogEvent,\n    NonFungibleTokenDialogEvent,\n    WalletSettingsDialogEvent,\n    AvatarSettingDialogEvent,\n    redpacketDialogEvent,\n    PersonaBindFinishEvent,\n    SmartPayDialogEvent,\n    RenameWalletEvent,\n    FollowLensDialogEvent,\n    RequestsUpdatedEvent,\n    WalletLockStatusUpdatedEvent,\n    PopupWalletConnectEvent,\n    SwitchLogoDialogEvent,\n    PasswordStatusUpdatedEvent,\n} from './Events.js'\n\n/**\n * Prefer MaskMessages.\n *\n * Only use this in the following cases:\n *\n * - You need to send message across different plugins\n *       e.g. from the packages/plugins/Example to packages/plugins/Example2\n * - You need to send message from plugin\n *       e.g. packages/plugins/Example to the main Mask extension.\n */\n// TODO: find a way to use a good API for cross isolation communication.\nexport let CrossIsolationMessages: { readonly events: PluginMessageEmitter<CrossIsolationEvents> } =\n    new WebExtensionMessage<CrossIsolationEvents>({ domain: 'cross-isolation' })\n\nexport function __workaround__replaceImplementationOfCrossIsolationMessage__(msg: PluginMessageEmitter<any>) {\n    CrossIsolationMessages = { events: msg }\n}\n\nexport interface CrossIsolationEvents {\n    compositionDialogEvent: CompositionDialogEvent\n    web3ProfileDialogEvent: Web3ProfileDialogEvent\n    hideSearchResultInspectorEvent: HideSearchResultInspectorEvent\n    checkSecurityDialogEvent: CheckSecurityDialogEvent\n    checkSecurityConfirmationDialogEvent: CheckSecurityConfirmationDialogEvent\n    applicationDialogEvent: ApplicationDialogEvent\n    personaBindFinished: PersonaBindFinishEvent\n    swapDialogEvent: SwapDialogEvent\n    settingsDialogEvent: SettingsDialogEvent\n    profileCardEvent: ProfileCardEvent\n    renameWallet: RenameWalletEvent\n    nonFungibleTokenDialogEvent: NonFungibleTokenDialogEvent\n    walletSettingsDialogEvent: WalletSettingsDialogEvent\n    avatarSettingDialogEvent: AvatarSettingDialogEvent\n    redpacketDialogEvent: redpacketDialogEvent\n    smartPayDialogEvent: SmartPayDialogEvent\n    followLensDialogEvent: FollowLensDialogEvent\n    popupWalletConnectEvent: PopupWalletConnectEvent\n    walletsUpdated: void\n    requestsUpdated: RequestsUpdatedEvent\n    walletLockStatusUpdated: WalletLockStatusUpdatedEvent\n    passwordStatusUpdated: PasswordStatusUpdatedEvent\n    walletLockTimeUpdated: void\n    switchLogoDialogUpdated: SwitchLogoDialogEvent\n}\n\nexport type PluginMessageEmitter<T> = { readonly [key in keyof T]: PluginMessageEmitterItem<T[key]> }\nexport interface PluginMessageEmitterItem<T> {\n    /** @returns A function to remove the listener */\n    on(callback: (data: T) => void, options?: { signal?: AbortSignal }): () => void\n    off(callback: (data: T) => void): void\n    sendToLocal(data: T): void\n    sendToContentScripts?(data: T): void\n    sendToBackgroundPage(data: T): void\n    sendToVisiblePages(data: T): void\n    sendByBroadcast(data: T): void\n    sendToAll(data: T): void\n\n    pause?(): (reducer?: (data: T[]) => T[]) => Promise<void>\n}\n","import { WebExtensionMessage } from '@dimensiondev/holoflows-kit'\nimport type { MaskEvents } from './Events.js'\nimport { serializer } from '../serializer/index.js'\nimport type { PluginMessageEmitter } from './CrossIsolationEvents.js'\n\nexport let MaskMessages: { readonly events: PluginMessageEmitter<MaskEvents> }\nconst m = new WebExtensionMessage<MaskEvents>({ domain: 'mask' })\nm.serialization = serializer\nMaskMessages = m\n\nexport function __workaround__replaceImplementationOfMaskMessage__(msg: PluginMessageEmitter<any>) {\n    MaskMessages = { events: msg }\n}\n","export enum NextIDAction {\n    Create = 'create',\n    Delete = 'delete',\n}\n\nexport enum NextIDPlatform {\n    NextID = 'nextid',\n    Twitter = 'twitter',\n    Keybase = 'keybase',\n    Ethereum = 'ethereum',\n    GitHub = 'github',\n    ENS = 'ens',\n    RSS3 = 'rss3',\n    LENS = 'lens',\n    REDDIT = 'reddit',\n    SYBIL = 'sybil',\n    EthLeaderboard = 'ethLeaderboard',\n    SpaceId = 'space_id',\n    Farcaster = 'farcaster',\n    Bit = 'dotbit',\n    Unstoppable = 'unstoppabledomains',\n    CyberConnect = 'cyberconnect',\n}\n\nexport interface NextIDEnsRecord {\n    category: 'ENS'\n    chain: string\n    id: string\n    uuid: string\n}\n\nexport interface NextIDIdentity {\n    uuid: string\n    platform: NextIDPlatform\n    identity: string\n    displayName: string\n    nft: NextIDEnsRecord[]\n}\n\nexport interface NextIDErrorBody {\n    message?: string\n}\n\nexport interface NextIDPayload {\n    postContent: string\n    signPayload: string\n    uuid: string\n    createdAt: string\n}\n\nexport interface Binding {\n    platform: NextIDPlatform\n    identity: string\n}\n\nexport interface NextIDPersonaBindings {\n    activated_at: string\n    persona: string\n    proofs: BindingProof[]\n}\n\nexport interface BindingProof {\n    platform: NextIDPlatform\n    source?: NextIDPlatform\n    /**\n     * Platform identity.\n     * For Twitter, it's twitter account\n     */\n    identity: string\n    name: string\n    created_at: string\n    latest_checked_at?: string\n    is_valid: boolean\n    last_checked_at: string\n    /**\n     * @deprecated\n     * legacy data\n     */\n    isDefault?: 0 | 1\n    /**\n     * @deprecated\n     * legacy data\n     */\n    isPublic?: 0 | 1\n    // Some other related bindings, like some other ens\n    relatedList?: BindingProof[]\n    link?: string\n}\n\ninterface Pagination {\n    total: number\n    per: number\n    current: number\n    next: number\n}\n\nexport interface NextIDBindings {\n    pagination: Pagination\n    ids: NextIDPersonaBindings[]\n}\n\n// #region kv server\nexport interface NextIDStoragePayload {\n    uuid: string\n    signPayload: string\n    createdAt: string\n}\nexport interface NextIDStorageInfo<T = unknown> {\n    persona: string\n    proofs: Array<NextIDStorageProofs<T>>\n}\nexport interface NextIDStorageProofs<T> {\n    content: {\n        // pluginID\n        [index: string]: T\n    }\n    identity: string\n    platform: NextIDPlatform\n}\n// #endregion\n","export interface Pageable<Item, Indicator = unknown> {\n    /** the indicator of the current page */\n    indicator: Indicator\n    /** the indicator of the next page */\n    nextIndicator?: Indicator\n    /** items data */\n    data: Item[]\n}\n\nexport interface PageIndicator {\n    /** The id of the page (cursor). */\n    id: string\n    /** The index number of the page. */\n    index: number\n}\n\nexport function createIndicator(indicator?: PageIndicator, id?: string): PageIndicator {\n    const index = indicator?.index ?? 0\n    return {\n        id: id ?? indicator?.id ?? index.toString(),\n        index,\n    }\n}\n\nexport function createNextIndicator(indicator?: PageIndicator, id?: string): PageIndicator {\n    const index = (indicator?.index ?? 0) + 1\n    return typeof id === 'string'\n        ? {\n              id,\n              index,\n          }\n        : {\n              id: index.toString(),\n              index,\n          }\n}\n\nexport function createPageable<Item, Indicator = PageIndicator>(\n    data: Item[],\n    indicator: Indicator,\n    nextIndicator?: Indicator,\n) {\n    // with next page\n    if (typeof nextIndicator !== 'undefined') {\n        return {\n            data,\n            indicator,\n            nextIndicator,\n        }\n    }\n    // without next page\n    return {\n        data,\n        indicator,\n    }\n}\n\nexport async function* pageableToIterator<T>(\n    getPageable: (indicator?: PageIndicator) => Promise<Pageable<T> | void>,\n    {\n        maxSize = 25,\n    }: {\n        maxSize?: number\n    } = {},\n) {\n    let indicator = createIndicator()\n    for (let i = 0; i < maxSize; i += 1) {\n        try {\n            const pageable = await getPageable(indicator)\n            if (!pageable) return\n            yield* pageable.data\n            if (!pageable.nextIndicator) return\n            indicator = pageable.nextIndicator as PageIndicator\n        } catch (error) {\n            yield new Error((error as Error).message)\n        }\n    }\n}\n","export enum EnhanceableSite {\n    Localhost = 'localhost',\n    App = 'app.mask.io',\n    Twitter = 'twitter.com',\n    Facebook = 'facebook.com',\n    Minds = 'minds.com',\n    Instagram = 'instagram.com',\n    OpenSea = 'opensea.io',\n    Mirror = 'mirror.xyz',\n}\n\nexport enum ExtensionSite {\n    Dashboard = 'dashboard',\n    Popup = 'popup',\n}\n","enum SiteHost {\n    Twitter = 'twitter.com',\n    Facebook = 'facebook.com',\n}\n\nconst isChromium =\n    typeof navigator === 'object' &&\n    (navigator.userAgent.includes('Chrome') || navigator.userAgent.includes('Chromium'))\n\nexport const Sniffings = {\n    is_dashboard_page:\n        typeof location === 'object' &&\n        location.protocol.includes('extension') &&\n        location.href.includes('dashboard.html'),\n    is_popup_page:\n        typeof location === 'object' &&\n        location.protocol.includes('extension') &&\n        location.href.includes('popups.html'),\n\n    is_twitter_page: typeof location === 'object' && location.href.includes(SiteHost.Twitter),\n    is_facebook_page: typeof location === 'object' && location.href.includes(SiteHost.Facebook),\n\n    is_opera: typeof navigator === 'object' && navigator.userAgent.includes('OPR/'),\n    is_edge: typeof navigator === 'object' && navigator.userAgent.includes('Edg'),\n    is_firefox: typeof navigator === 'object' && navigator.userAgent.includes('Firefox'),\n    is_chromium: isChromium,\n    is_safari: !isChromium && navigator.userAgent.includes('Safari'),\n}\n","import { ValueRef } from '../helpers/ValueRef.js'\n\nexport const TelemetryID = new ValueRef('0000000000000000000000000000000000000000')\n","// All imports must be deferred. This file loads in the very early stage.\n\nimport * as kit /* webpackDefer: true */ from '@masknet/kit'\n// false positive. we're not using lodash.get\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport * as lodash /* webpackDefer: true */ from 'lodash-es'\nimport * as constants /* webpackDefer: true */ from '../constants.js'\nimport * as stringify /* webpackDefer: true */ from 'json-stable-stringify'\n\nexport type ValueComparer<T> = (a: T, b: T) => boolean\nconst defaultComparer: ValueComparer<any> = (a, b) => a === b\nexport class ValueRef<T> {\n    constructor(value: T, isEqual: ValueComparer<T> = defaultComparer) {\n        this._value = value\n        this.isEqual = isEqual\n    }\n    get value() {\n        return this._value\n    }\n    set value(newVal: T) {\n        const oldVal = this._value\n        if (this.isEqual(newVal, oldVal)) return\n        this._value = newVal\n        for (const fn of this.watcher) {\n            try {\n                fn(newVal, oldVal)\n            } catch (err) {\n                console.error(err)\n            }\n        }\n    }\n    addListener(fn: (newVal: T, oldVal: T) => void): () => void {\n        this.watcher.add(fn)\n        return () => void this.watcher.delete(fn)\n    }\n    private watcher = new Set<(newVal: any, oldVal: any) => void>()\n    private isEqual: ValueComparer<T>\n    private _value: T\n}\n\nexport class ValueRefWithReady<T> extends ValueRef<T> {\n    constructor(value?: T | undefined, isEqual: ValueComparer<T> = defaultComparer) {\n        // this is unsafe. we assigned T | undefined to T\n        super(value!, isEqual)\n        const [promise, resolve] = kit.defer<void>()\n        this.readyPromise = promise.then(() => this.value)\n        this.nowReady = resolve\n    }\n    override get value() {\n        return super.value\n    }\n    override set value(value: T) {\n        if (this.ready === false) {\n            this.nowReady!()\n            Object.assign(this, { ready: true, nowReady: undefined })\n        }\n        super.value = value\n    }\n    readonly nowReady: (() => void) | undefined\n    readonly ready = false\n    readonly readyPromise: Promise<T>\n}\n\n/**\n * @deprecated\n * Avoid using this. You should define a comparer to use the object directly.\n * This class is provided to strongly type the existing bad-smell code.\n */\nexport class ValueRefJSON<T extends object> extends ValueRefWithReady<string> {\n    constructor(defaultValue: T) {\n        super(stringify.default(defaultValue), lodash.isEqual)\n    }\n    override get value(): string {\n        return super.value\n    }\n    override set value(value: T | Readonly<T> | string) {\n        if (typeof value === 'string') {\n            super.value = value\n            return\n        }\n        if (lodash.isEqual(this.asJSON, value)) return\n        this.json = value\n        super.value = stringify.default(value)\n    }\n    private json: Readonly<T> | undefined\n    get asJSON(): Readonly<T> {\n        if (this.json) return this.json\n        if (this.value === '[]') return (this.json = constants.EMPTY_LIST as any)\n        if (this.value === '{}') return (this.json = constants.EMPTY_OBJECT as any)\n        return (this.json = JSON.parse(this.value))\n    }\n}\n","export async function asyncIteratorToArray<T>(iterable?: AsyncIterable<T>): Promise<Array<Exclude<T, Error>>> {\n    if (!iterable) return []\n    const arr: T[] = []\n    for await (const x of iterable) if (!(x instanceof Error)) arr.push(x)\n    return arr as Array<Exclude<T, Error>>\n}\n\nexport async function* flattenAsyncIterator<T>(iterables: Array<AsyncIterable<T>>) {\n    for (const x of iterables) yield* x\n}\n","export function createLookupTableResolver<K extends keyof any, T>(map: Record<K, T>, fallback: T | ((key: K) => T)) {\n    function resolveFallback(key: K) {\n        if (typeof fallback === 'function') return (fallback as (key: K) => T)(key)\n        return fallback\n    }\n    return (key: K) => map[key] ?? resolveFallback(key)\n}\n","class Opaque {\n    #DebugOnlyValue: unknown\n    constructor(key: string, value: unknown) {\n        this.#DebugOnlyValue = {\n            __proto__: null,\n            get ['set globalThis.' + key]() {\n                console.log(`[DEBUG] globalThis.${key} =`, value)\n                ;(globalThis as any)[key] = value\n                return value\n            },\n            value,\n        }\n        this.#DebugOnlyValue\n        Object.setPrototypeOf(this, null)\n        Object.freeze(this)\n    }\n}\n\n/**\n * This function provide a way to prevent debug-purposed global values accidentally used in production code.\n * All value wrapped by this function can only be accessed in the devtools.\n */\nexport function setDebugObject(key: string, value: unknown) {\n    ;(globalThis as any)[key] = new Opaque(key, value)\n}\n","export function getCookie(field: string) {\n    const pair = document.cookie.split('; ').find((x) => x.startsWith(`${field}=`))\n    if (!pair) return ''\n    const [, value] = pair.split('=')\n    return value\n}\n","export function mixin<T, S1>(target: T, source1: S1): T & S1\nexport function mixin<T, S1, S2>(target: T, source1: S1, source2: S2): T & S1 & S2\nexport function mixin<T, S1, S2, S3>(target: T, source1: S1, source2: S2, source3: S3): T & S1 & S2 & S3\nexport function mixin<T, S1, S2, S3, S4>(\n    target: T,\n    source1: S1,\n    source2: S2,\n    source3: S3,\n    source4: S4,\n): T & S1 & S2 & S3 & S4\nexport function mixin<R>(...mixinTargets: any[]): R {\n    if (mixinTargets.some((x) => typeof x !== 'object' || x === null))\n        throw new TypeError('mixin() expects object arguments')\n    const container = {\n        __proto__: new Proxy(\n            {},\n            {\n                get(_, key) {\n                    if (key === '__proto__') return undefined\n                    const mixinTarget = mixinTargets.find((x) => key in x)\n                    if (!mixinTarget) return undefined\n                    const mixinItem = mixinTarget[key]\n                    if (typeof mixinItem === 'function')\n                        // Note: not use .bind here because it will override the arguments for bound function.\n                        return set(key, (...args: any[]) => Reflect.apply(mixinItem, mixinTarget, args))\n                    return set(key, mixinItem)\n                },\n                has(_, key) {\n                    return mixinTargets.some((x) => key in x)\n                },\n            },\n        ),\n    }\n    function set(k: PropertyKey, value: unknown) {\n        Object.defineProperty(container, k, { configurable: true, enumerable: true, value })\n        return value\n    }\n    return new Proxy(container as any, traps)\n}\nconst traps: ProxyHandler<any> = {\n    getPrototypeOf: () => null,\n    setPrototypeOf: (_, p) => p === null,\n    getOwnPropertyDescriptor(container, key) {\n        // trigger [[Get]]\n        Reflect.get(container, key)\n        return Reflect.getOwnPropertyDescriptor(container, key)\n    },\n    has(container, key) {\n        return key in container\n    },\n}\n","export function parseURL(url: string | undefined) {\n    if (!url || !URL.canParse(url)) return\n    return new URL(url)\n}\n","export type Unresolved<T, P = never> = T | ((options?: P) => T)\n\nexport function resolve<T, P = never>(unresolved: Unresolved<T, P>, options?: P): T {\n    if (typeof unresolved !== 'function') return unresolved\n    const unresolvedFunction = unresolved as (options?: P) => T\n    return unresolvedFunction(options)\n}\n","import type { i18n } from 'i18next'\n\nfunction addI18NBundle(instance: i18n, namespace: string, langs: Record<string, object>) {\n    if (!instance.addResourceBundle) throw new TypeError('Please call instance.init() first')\n\n    try {\n        if (process.env.NODE_ENV === 'development') {\n            globalThis.addEventListener('MASK_I18N_HMR', (e) => {\n                const [ns, langs] = (e as CustomEvent).detail\n                if (namespace !== ns) return\n\n                for (const lang of Object.keys(langs)) {\n                    instance.addResourceBundle(lang, namespace, removeEmptyString(langs[lang]))\n                }\n            })\n        }\n    } catch {\n        // ignore\n    }\n    for (const lang of Object.keys(langs)) {\n        instance.addResourceBundle(lang, namespace, removeEmptyString(langs[lang]))\n    }\n}\n\nexport function createI18NBundle(namespace: string, langs: Record<string, object>) {\n    return (instance: i18n) => addI18NBundle(instance, namespace, langs)\n}\n\nfunction removeEmptyString(lang: Partial<Record<string, string>>) {\n    const next: Partial<Record<string, string>> = {}\n    for (const key in lang) {\n        if (lang[key]) next[key] = lang[key]\n    }\n    return next\n}\n","function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _typeof(e){return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||_unsupportedIterableToArray(e,t)||function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function _unsupportedIterableToArray(e,t){if(e){if(\"string\"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if(\"object\"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||\"default\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}var e=_createClass((function TypesonPromise(e){_classCallCheck(this,TypesonPromise),this.p=new Promise(e)}));e.__typeson__type__=\"TypesonPromise\",\"undefined\"!=typeof Symbol&&Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function get(){return\"TypesonPromise\"}}),e.prototype.then=function(t,r){var n=this;return new e((function(e,o){n.p.then((function(r){e(t?t(r):r)})).catch((function(e){return r?r(e):Promise.reject(e)})).then(e,o)}))},e.prototype.catch=function(e){return this.then((function(){}),e)},e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,r){r(t)}))},e.all=function(t){return new e((function(e,r){Promise.all(t.map((function(e){return null!=e&&e.constructor&&\"__typeson__type__\"in e.constructor&&\"TypesonPromise\"===e.constructor.__typeson__type__?e.p:e}))).then(e,r)}))},e.race=function(t){return new e((function(e,r){Promise.race(t.map((function(e){return null!=e&&e.constructor&&\"__typeson__type__\"in e.constructor&&\"TypesonPromise\"===e.constructor.__typeson__type__?e.p:e}))).then(e,r)}))},e.allSettled=function(t){return new e((function(e,r){Promise.allSettled(t.map((function(e){return null!=e&&e.constructor&&\"__typeson__type__\"in e.constructor&&\"TypesonPromise\"===e.constructor.__typeson__type__?e.p:e}))).then(e,r)}))};var t=Object.hasOwn,r=Object.getPrototypeOf;function isThenable(e,t){return isObject(e)&&\"function\"==typeof e.then&&(!t||\"function\"==typeof e.catch)}function toStringTag(e){return Object.prototype.toString.call(e).slice(8,-1)}function hasConstructorOf(e,n){if(!e||\"object\"!==_typeof(e))return!1;var o=r(e);if(!o)return null===n;var i=t(o,\"constructor\")&&o.constructor;return\"function\"!=typeof i?null===n:n===i||(null!==n&&Function.prototype.toString.call(i)===Function.prototype.toString.call(n)||\"function\"==typeof n&&\"string\"==typeof i.__typeson__type__&&i.__typeson__type__===n.__typeson__type__)}function isPlainObject(e){return!(!e||\"Object\"!==toStringTag(e))&&(!r(e)||hasConstructorOf(e,Object))}function isUserObject(e){if(!e||\"Object\"!==toStringTag(e))return!1;var t=r(e);return!t||(hasConstructorOf(e,Object)||isUserObject(t))}function isObject(e){return null!==e&&\"object\"===_typeof(e)}function escapeKeyPathComponent(e){return e.replaceAll(\"''\",\"''''\").replace(/^$/,\"''\").replaceAll(\"~\",\"~0\").replaceAll(\".\",\"~1\")}function unescapeKeyPathComponent(e){return e.replaceAll(\"~1\",\".\").replaceAll(\"~0\",\"~\").replace(/^''$/,\"\").replaceAll(\"''''\",\"''\")}function getByKeyPath(e,t){if(\"\"===t)return e;if(null===e||\"object\"!==_typeof(e))throw new TypeError(\"Unexpected non-object type\");var r=t.indexOf(\".\");if(r>-1){var n=e[unescapeKeyPathComponent(t.slice(0,r))];return void 0===n?void 0:getByKeyPath(n,t.slice(r+1))}return e[unescapeKeyPathComponent(t)]}function setAtKeyPath(e,t,r){if(\"\"===t)return r;if(!e||\"object\"!==_typeof(e))throw new TypeError(\"Unexpected non-object type\");var n=t.indexOf(\".\");return n>-1?setAtKeyPath(e[unescapeKeyPathComponent(t.slice(0,n))],t.slice(n+1),r):(e[unescapeKeyPathComponent(t)]=r,e)}function getJSONType(e){return null===e?\"null\":Array.isArray(e)?\"array\":_typeof(e)}function _await(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var n=Object.keys,o=Object.hasOwn,i=Array.isArray,a=[\"type\",\"replaced\",\"iterateIn\",\"iterateUnsetNumeric\",\"addLength\"];function _async(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function nestedPathsFirst(e,t){var r,n;if(\"\"===e.keypath)return-1;var o=null!==(r=e.keypath.match(/\\./g))&&void 0!==r?r:0,i=null!==(n=t.keypath.match(/\\./g))&&void 0!==n?n:0;return o&&(o=o.length),i&&(i=i.length),o>i?-1:o<i?1:e.keypath<t.keypath?-1:e.keypath>t.keypath?1:0}var c=function(){function Typeson(e){_classCallCheck(this,Typeson),this.options=e,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return _createClass(Typeson,[{key:\"stringify\",value:function stringify(e,t,r,n){n=_objectSpread2(_objectSpread2(_objectSpread2({},this.options),n),{},{stringification:!0});var o=this.encapsulate(e,null,n);return i(o)?JSON.stringify(o[0],t,r):o.then((function(e){return JSON.stringify(e,t,r)}))}},{key:\"stringifySync\",value:function stringifySync(e,t,r,n){return this.stringify(e,t,r,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:\"stringifyAsync\",value:function stringifyAsync(e,t,r,n){return this.stringify(e,t,r,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:\"parse\",value:function parse(e,t,r){return r=_objectSpread2(_objectSpread2(_objectSpread2({},this.options),r),{},{parse:!0}),this.revive(JSON.parse(e,t),r)}},{key:\"parseSync\",value:function parseSync(e,t,r){return this.parse(e,t,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:\"parseAsync\",value:function parseAsync(e,t,r){return this.parse(e,t,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:\"specialTypeNames\",value:function specialTypeNames(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.returnTypeNames=!0,this.encapsulate(e,t,r)}},{key:\"rootTypeName\",value:function rootTypeName(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.iterateNone=!0,this.encapsulate(e,t,r)}},{key:\"encapsulate\",value:function encapsulate(t,r,c){var s=this,u=_objectSpread2(_objectSpread2({sync:!0},this.options),c),l=u.sync,y={},p=[],f=[],v=[],h=!(\"cyclic\"in u)||u.cyclic,d=u.encapsulateObserver,b=function finish(e){var t=Object.values(y);if(u.iterateNone)return t.length?t[0]:getJSONType(e);if(t.length){if(u.returnTypeNames)return _toConsumableArray(new Set(t));e&&isPlainObject(e)&&!o(e,\"$types\")?e.$types=y:e={$:e,$types:{$:y}}}else isObject(e)&&o(e,\"$types\")&&(e={$:e,$types:!0});return!u.returnTypeNames&&e},_=_async((function(t,r){return _await(Promise.all(r.map((function(e){return e[1].p}))),(function(n){return _await(Promise.all(n.map(_async((function(n){var o=!1,i=[],a=_slicedToArray(r.splice(0,1),1),c=_slicedToArray(a[0],7),s=c[0],u=c[2],l=c[3],y=c[4],p=c[5],f=c[6],v=m(s,n,u,l,i,!0,f),h=hasConstructorOf(v,e);return function _invoke(e,t){var r=e();return r&&r.then?r.then(t):t(r)}((function(){if(s&&h)return _await(v.p,(function(e){y[p]=e;var r=_(t,i);return o=!0,r}))}),(function(e){return o?e:(s?y[p]=v:t=h?v.p:v,_(t,i))}))})))),(function(){return t}))}))})),O=function _adaptBuiltinStateObjectProperties(e,t,r){Object.assign(e,t);var n=a.map((function(t){var r=e[t];return delete e[t],r}));r(),a.forEach((function(t,r){e[t]=n[r]}))},m=function _encapsulate(t,r,a,c,l,v,h){var b,_={},m=_typeof(r),g=d?function(n){var o,i=null!==(o=null!=h?h:c.type)&&void 0!==o?o:getJSONType(r);d(Object.assign(null!=n?n:_,{keypath:t,value:r,cyclic:a,stateObj:c,promisesData:l,resolvingTypesonPromise:v,awaitingTypesonPromise:hasConstructorOf(r,e)},{type:i}))}:null;if([\"string\",\"boolean\",\"number\",\"undefined\"].includes(m))return void 0===r||Number.isNaN(r)||r===Number.NEGATIVE_INFINITY||r===Number.POSITIVE_INFINITY||0===r?(b=c.replaced?r:j(t,r,c,l,!1,v,g))!==r&&(_={replaced:b}):b=r,g&&g(),b;if(null===r)return g&&g(),r;if(a&&!c.iterateIn&&!c.iterateUnsetNumeric&&r&&\"object\"===_typeof(r)){var S=p.indexOf(r);if(!(S<0))return y[t]=\"#\",g&&g({cyclicKeypath:f[S]}),\"#\"+f[S];!0===a&&(p.push(r),f.push(t))}var P,T,w=isPlainObject(r),A=i(r),C=(w||A)&&(!s.plainObjectReplacers.length||c.replaced)||c.iterateIn?r:j(t,r,c,l,w||A,null,g);if(C!==r?(b=C,_={replaced:C}):\"\"===t&&hasConstructorOf(r,e)?(l.push([t,r,a,c,void 0,void 0,c.type]),b=r):A&&\"object\"!==c.iterateIn||\"array\"===c.iterateIn?(P=new Array(r.length),_={clone:P}):([\"function\",\"symbol\"].includes(_typeof(r))||\"toJSON\"in r||hasConstructorOf(r,e)||hasConstructorOf(r,Promise)||hasConstructorOf(r,ArrayBuffer))&&!w&&\"object\"!==c.iterateIn?b=r:(P={},c.addLength&&(P.length=r.length),_={clone:P}),g&&g(),u.iterateNone)return null!==(T=P)&&void 0!==T?T:b;if(!P)return b;if(c.iterateIn){var k=function _loop(n){var i={ownKeys:o(r,n)};O(c,i,(function(){var o=t+(t?\".\":\"\")+escapeKeyPathComponent(n),i=_encapsulate(o,r[n],Boolean(a),c,l,v);hasConstructorOf(i,e)?l.push([o,i,Boolean(a),c,P,n,c.type]):void 0!==i&&(P[n]=i)}))};for(var N in r)k(N);g&&g({endIterateIn:!0,end:!0})}else n(r).forEach((function(n){var o=t+(t?\".\":\"\")+escapeKeyPathComponent(n);O(c,{ownKeys:!0},(function(){var t=_encapsulate(o,r[n],Boolean(a),c,l,v);hasConstructorOf(t,e)?l.push([o,t,Boolean(a),c,P,n,c.type]):void 0!==t&&(P[n]=t)}))})),g&&g({endIterateOwn:!0,end:!0});if(c.iterateUnsetNumeric){for(var I=r.length,E=function _loop2(n){if(!(n in r)){var o=\"\".concat(t).concat(t?\".\":\"\").concat(n);O(c,{ownKeys:!1},(function(){var t=_encapsulate(o,void 0,Boolean(a),c,l,v);hasConstructorOf(t,e)?l.push([o,t,Boolean(a),c,P,n,c.type]):void 0!==t&&(P[n]=t)}))}},K=0;K<I;K++)E(K);g&&g({endIterateUnsetNumeric:!0,end:!0})}return P},j=function replace(e,t,r,n,o,i,a){for(var c=o?s.plainObjectReplacers:s.nonplainObjectReplacers,u=c.length;u--;){var p=c[u];if(p.test(t,r)){var f=p.type;if(s.revivers[f]){var v=y[e];y[e]=v?[f].concat(v):f}if(Object.assign(r,{type:f,replaced:!0}),(l||!p.replaceAsync)&&!p.replace)return a&&a({typeDetected:!0}),m(e,t,h&&\"readonly\",r,n,i,f);a&&a({replacing:!0});var d=void 0;if(l||!p.replaceAsync){if(void 0===p.replace)throw new TypeError(\"Missing replacer\");d=p.replace(t,r)}else d=p.replaceAsync(t,r);return m(e,d,h&&\"readonly\",r,n,i,f)}}return t},g=m(\"\",t,h,null!=r?r:{},v);if(v.length)return l&&u.throwOnBadSyncType?function(){throw new TypeError(\"Sync method requested but async result obtained\")}():Promise.resolve(_(g,v)).then(b);if(!l&&u.throwOnBadSyncType)throw new TypeError(\"Async method requested but sync result obtained\");return u.stringification&&l?[b(g)]:l?b(g):Promise.resolve(b(g))}},{key:\"encapsulateSync\",value:function encapsulateSync(e,t,r){return this.encapsulate(e,t,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:\"encapsulateAsync\",value:function encapsulateAsync(e,t,r){return this.encapsulate(e,t,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:\"revive\",value:function revive(t,r){var o=this,a=_objectSpread2(_objectSpread2({sync:!0},this.options),r),c=a.sync;function finishRevival(e){if(c)return e;if(a.throwOnBadSyncType)throw new TypeError(\"Async method requested but sync result obtained\");return Promise.resolve(e)}if(!t||\"object\"!==_typeof(t)||Array.isArray(t))return finishRevival(t);var u=t.$types;if(!0===u)return finishRevival(t.$);if(!u||\"object\"!==_typeof(u)||Array.isArray(u))return finishRevival(t);var l=[],y={},p=!0;u.$&&isPlainObject(u.$)&&(t=t.$,u=u.$,p=!1);var f=function executeReviver(e,t){var r,n=_slicedToArray(null!==(r=o.revivers[e])&&void 0!==r?r:[],1)[0];if(!n)throw new Error(\"Unregistered type: \"+e);if(c&&!(\"revive\"in n))return t;if(!c&&n.reviveAsync)return n.reviveAsync(t,y);if(n.revive)return n.revive(t,y);throw new Error(\"Missing reviver\")},v=[];function checkUndefined(e){return hasConstructorOf(e,s)?void 0:e}var h,d=function revivePlainObjects(){var r=[];if(!u)throw new Error(\"Found bad `types`\");if(Object.entries(u).forEach((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];\"#\"!==i&&[].concat(i).forEach((function(e){var t;_slicedToArray(null!==(t=o.revivers[e])&&void 0!==t?t:[null,{}],2)[1].plain&&(r.push({keypath:n,type:e}),delete u[n])}))})),r.length)return r.sort(nestedPathsFirst).reduce((function reducer(r,n){var o=n.keypath,i=n.type;if(isThenable(r))return r.then((function(e){return reducer(e,{keypath:o,type:i})}));var a=getByKeyPath(t,o);if(hasConstructorOf(a=f(i,a),e))return a.then((function(e){var r=setAtKeyPath(t,o,e);r===e&&(t=r)}));var c=setAtKeyPath(t,o,a);c===a&&(t=c)}),void 0)}();return hasConstructorOf(d,e)?h=d.then((function(){return t})):(h=function _revive(t,r,o,a,c){if(!p||\"$types\"!==t){var y=u[t],h=i(r);if(h||isPlainObject(r)){var d=h?new Array(r.length):{};for(n(r).forEach((function(n){var i=_revive(t+(t?\".\":\"\")+escapeKeyPathComponent(n),r[n],null!=o?o:d,d,n),a=function set(e){return hasConstructorOf(e,s)?d[n]=void 0:void 0!==e&&(d[n]=e),e};hasConstructorOf(i,e)?v.push(i.then((function(e){return a(e)}))):a(i)})),r=d;l.length;){var b=_slicedToArray(l[0],4),_=b[0],O=b[1],m=b[2],j=b[3],g=getByKeyPath(_,O);if(void 0===g)break;m[j]=g,l.splice(0,1)}}if(!y)return r;if(\"#\"===y){var S=getByKeyPath(o,r.slice(1));return void 0===S&&l.push([o,r.slice(1),a,c]),S}return[].concat(y).reduce((function reducer(t,r){if(hasConstructorOf(t,e))return t.then((function(e){return reducer(e,r)}));if(\"string\"!=typeof r)throw new TypeError(\"Bad type JSON\");return f(r,t)}),r)}}(\"\",t,null),v.length&&(h=e.resolve(h).then((function(t){return e.all([t].concat(v))})).then((function(e){return _slicedToArray(e,1)[0]})))),isThenable(h)?c&&a.throwOnBadSyncType?function(){throw new TypeError(\"Sync method requested but async result obtained\")}():hasConstructorOf(h,e)?h.p.then(checkUndefined):h:!c&&a.throwOnBadSyncType?function(){throw new TypeError(\"Async method requested but sync result obtained\")}():c?checkUndefined(h):Promise.resolve(checkUndefined(h))}},{key:\"reviveSync\",value:function reviveSync(e,t){return this.revive(e,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},t),{},{sync:!0}))}},{key:\"reviveAsync\",value:function reviveAsync(e,t){return this.revive(e,_objectSpread2(_objectSpread2({throwOnBadSyncType:!0},t),{},{sync:!1}))}},{key:\"register\",value:function register(e,t){var r=this,o=null!=t?t:{},a=function R(e){i(e)?e.forEach((function(e){return R(e)})):n(e).forEach((function(t){var n;if(\"#\"===t)throw new TypeError(\"# cannot be used as a type name as it is reserved for cyclic objects\");if(u.includes(t))throw new TypeError(\"Plain JSON object types are reserved as type names\");var a=e[t],c=a&&\"function\"!=typeof a&&!Array.isArray(a)&&a.testPlainObjects?r.plainObjectReplacers:r.nonplainObjectReplacers,s=c.filter((function(e){return e.type===t}));if(s.length&&(c.splice(c.indexOf(s[0]),1),delete r.revivers[t],delete r.types[t]),\"function\"==typeof a){var l=a;a={test:function test(e){return e&&e.constructor===l},replace:function replace(e){return _objectSpread2({},e)},revive:function revive(e){return Object.assign(Object.create(l.prototype),e)}}}else if(i(a)){var y=_slicedToArray(a,3);a={test:y[0],replace:y[1],revive:y[2]}}if(null!==(n=a)&&void 0!==n&&n.test){var p={type:t,test:a.test.bind(a)};a.replace&&(p.replace=a.replace.bind(a)),a.replaceAsync&&(p.replaceAsync=a.replaceAsync.bind(a));var f=\"number\"==typeof o.fallback?o.fallback:o.fallback?0:Number.POSITIVE_INFINITY;if(a.testPlainObjects?r.plainObjectReplacers.splice(f,0,p):r.nonplainObjectReplacers.splice(f,0,p),a.revive||a.reviveAsync){var v={};a.revive&&(v.revive=a.revive.bind(a)),a.reviveAsync&&(v.reviveAsync=a.reviveAsync.bind(a)),r.revivers[t]=[v,{plain:a.testPlainObjects}]}r.types[t]=a}}))};return[].concat(e).forEach((function(e){return a(e)})),this}}]),Typeson}(),s=_createClass((function Undefined(){_classCallCheck(this,Undefined)}));s.__typeson__type__=\"TypesonUndefined\";var u=[\"null\",\"boolean\",\"number\",\"string\",\"array\",\"object\"];export{u as JSON_TYPES,c as Typeson,e as TypesonPromise,s as Undefined,escapeKeyPathComponent,getByKeyPath,getJSONType,hasConstructorOf,isObject,isPlainObject,isThenable,isUserObject,setAtKeyPath,toStringTag,unescapeKeyPathComponent};\n","import { TypesonPromise } from 'typeson'\n\nexport const is = (x: any) => x instanceof Response\nexport const serializer = (x: Response) => {\n    return new TypesonPromise<{\n        body: Blob\n        init: ResponseInit\n    }>(async (resolve) => {\n        const bodyBlob = await x.blob()\n        resolve({\n            body: bodyBlob,\n            init: {\n                status: x.status,\n                statusText: x.statusText,\n                headers: x.headers,\n            },\n        })\n    })\n}\n\nexport const deserializer = (x: { body: Blob; init: ResponseInit }) => {\n    return new Response(x.body, x.init)\n}\n\nexport const responseRegedit = [is, serializer, deserializer] as const\n","export const is = (x: any) => x instanceof Request\nexport const serializer = (x: Request) => {\n    const { url, method, body, headers, mode, credentials, cache, redirect, referrer, integrity } = x\n    return {\n        input: url,\n        init: {\n            method,\n            // body maybe is a Blob, a BufferSource, a FormData, a URLSearchParams, a string, or a ReadableStream object, should handle different object type later\n            body,\n            headers,\n            mode,\n            credentials,\n            cache,\n            redirect,\n            referrer,\n            integrity,\n        },\n    }\n}\n\nexport const deserializer = (x: { input: string; init: RequestInit }) => {\n    return new Request(x.input, x.init)\n}\n\nexport const requestRegedit = [is, serializer, deserializer] as const\n","import { Typeson, TypesonPromise } from 'typeson'\nimport type { Serialization } from 'async-call-rpc'\nimport { Err, None, Ok, Some } from 'ts-results-es'\nimport * as BN from 'bignumber.js'\nimport { EncryptError, DecryptError } from '@masknet/encryption'\n\nimport { blob, builtin, file, filelist, imagebitmap, specialNumbers } from 'typeson-registry'\nimport { Identifier } from '@masknet/base'\nimport { responseRegedit } from './response.js'\nimport { requestRegedit } from './request.js'\n\nconst pendingRegister = new Set<() => void>()\nlet typeson: Typeson | undefined\nfunction setup() {\n    const { default: BigNumber } = BN\n    // https://github.com/dfahlander/typeson-registry/issues/27\n    typeson = new Typeson({ cyclic: false, sync: false })\n    typeson.register(builtin)\n    typeson.register(specialNumbers)\n    typeson.register([blob, file, filelist, imagebitmap])\n    typeson.register({ None: [(x) => x === None, () => 'None', () => None] })\n\n    addClass('Ok', Ok)\n    addClass('Err', Err)\n    addClass('Some', Some)\n\n    addClass('BigNumber', BigNumber)\n\n    registerSerializableClass(\n        'MaskDecryptError',\n        (x) => x instanceof DecryptError,\n        (e: DecryptError) => ({\n            cause: (e as any).cause,\n            recoverable: e.recoverable,\n            message: e.message,\n            stack: e.stack,\n        }),\n        (o) => {\n            const e = new DecryptError(o.message, o.cause, o.recoverable)\n            e.stack = o.stack\n            return e\n        },\n    )\n    registerSerializableClass(\n        'MaskEncryptError',\n        (x) => x instanceof EncryptError,\n        (e: EncryptError) => ({\n            cause: (e as any).cause,\n            message: e.message,\n            stack: e.stack,\n        }),\n        (o) => {\n            const e = new EncryptError(o.message, o.cause)\n            e.stack = o.stack\n            return e\n        },\n    )\n\n    typeson.register({\n        Identifier: [\n            (x) => x instanceof Identifier,\n            (x: Identifier) => x.toText(),\n            (x) => Identifier.from(x).expect(`${x} should be a Identifier`),\n        ],\n        Response: [...responseRegedit],\n        Request: [...requestRegedit],\n    })\n\n    for (const a of pendingRegister) a()\n}\nexport const serializer: Serialization = {\n    async serialization(from: unknown) {\n        if (!typeson) setup()\n        return typeson!.encapsulate(from)\n    },\n    // cspell:disable-next-line\n    deserialization(to: any) {\n        if (!typeson) setup()\n        return typeson!.revive(to)\n    },\n}\nexport function registerSerializableClass(name: string, constructor: NewableFunction): void\nexport function registerSerializableClass<T, Q>(\n    name: string,\n    isT: (x: unknown) => boolean,\n    ser: (x: T) => Q | TypesonPromise<Q>,\n    de_ser: (x: Q) => T,\n): void\nexport function registerSerializableClass(name: string, a: any, b?: any, c?: any): void {\n    if (typeson) {\n        if (b) typeson.register({ [name]: [a, b, c] })\n        else addClass(name, a)\n    } else {\n        if (b) pendingRegister.add(() => typeson!.register({ [name]: [a, b, c] }))\n        else pendingRegister.add(() => addClass(name, a))\n    }\n}\n\nfunction addClass(name: string, constructor: any) {\n    Object.defineProperty(constructor, 'name', {\n        configurable: true,\n        enumerable: false,\n        writable: false,\n        value: name,\n    })\n    typeson!.register({\n        [name]: [\n            (x) => x instanceof constructor,\n            (x: unknown) => {\n                return new TypesonPromise((resolve) => {\n                    const cloned = Object.assign({}, x)\n                    Object.getOwnPropertySymbols(cloned).forEach((x) => Reflect.deleteProperty(cloned, x))\n                    Promise.resolve(typeson!.encapsulate(cloned)).then(resolve)\n                })\n            },\n            (x: any) => {\n                return new TypesonPromise((resolve) => {\n                    Promise.resolve(typeson!.revive(x)).then((data) => {\n                        Object.setPrototypeOf(data, constructor.prototype)\n                        resolve(data)\n                    })\n                })\n            },\n        ],\n    })\n}\n","export interface Account<ChainId> {\n    account: string\n    chainId: ChainId\n    publicKey?: string\n    privateKey?: string\n}\n\nexport enum SignType {\n    Message = 'message',\n    TypedData = 'typedData',\n    Transaction = 'transaction',\n}\n","export enum Days {\n    MAX = 0,\n    ONE_DAY = 1,\n    ONE_WEEK = 7,\n    ONE_MONTH = 30,\n    THREE_MONTHS = 90,\n    ONE_YEAR = 365,\n}\n","/**\n * All integrated name service IDs\n */\nexport enum NameServiceID {\n    ARBID = 'ARBID',\n    ENS = 'ENS',\n    Lens = 'Lens',\n    SpaceID = 'SpaceID',\n    Flowns = 'Flowns',\n    Bonfida = 'Bonfida',\n    SOL = 'SOL',\n}\n","/**\n * All integrated network Plugin IDs\n */\nexport enum NetworkPluginID {\n    PLUGIN_EVM = 'com.mask.evm',\n    PLUGIN_FLOW = 'com.mask.flow',\n    PLUGIN_SOLANA = 'com.mask.solana',\n}\n\n/**\n * All integrated Plugin IDs\n */\nexport enum PluginID {\n    EVM = 'com.mask.evm',\n    Flow = 'com.mask.flow',\n    Solana = 'com.mask.solana',\n    Approval = 'com.maskbook.approval',\n    Avatar = 'com.maskbook.avatar',\n    ArtBlocks = 'io.artblocks',\n    Collectible = 'com.maskbook.collectibles',\n    Handle = 'com.maskbook.handle',\n    NextID = 'com.mask.next_id',\n    Gitcoin = 'co.gitcoin',\n    MaskBox = 'com.maskbook.box',\n    Trader = 'com.maskbook.trader',\n    Tips = 'com.maskbook.tip',\n    Transak = 'com.maskbook.transak',\n    Valuables = 'com.maskbook.tweet',\n    Debugger = 'io.mask.debugger',\n    Template = 'io.mask.template',\n    Testplugin4 = 'io.mask.testplugin4',\n    RSS3 = 'bio.rss3',\n    RedPacket = 'com.maskbook.red_packet',\n    Pets = 'com.maskbook.pets',\n    Snapshot = 'org.snapshot',\n    Savings = 'com.savings',\n    Wallet = 'com.maskbook.wallet',\n    FileService = 'com.maskbook.fileservice',\n    CyberConnect = 'me.cyberconnect.app',\n    Beholder = 'io.beholder.app',\n    GoPlusSecurity = 'io.gopluslabs.security',\n    CrossChainBridge = 'io.mask.cross-chain-bridge',\n    Web3Profile = 'io.mask.web3-profile',\n    Web3ProfileCard = 'io.mask.web3-profile-card',\n    ScamSniffer = 'io.scamsniffer.mask-plugin',\n    ScamWarning = 'com.mask.scam-warning',\n    SmartPay = 'com.mask.smart-pay',\n    Claim = 'com.mask.claim',\n    WalletService = 'com.mask.WalletService',\n    SwitchLogo = 'io.mask.switch-logo',\n    Calendar = 'io.mask.calendar',\n}\n","import type { ProfileIdentifier } from '@masknet/base'\nimport type { NextIDPersonaBindings } from '../NextID/types.js'\nimport type { NetworkPluginID } from '../index.js'\n\nexport enum SocialAddressType {\n    Address = 'Address',\n    ENS = 'ENS',\n    ARBID = 'ARBID',\n    SPACE_ID = 'SPACE_ID',\n    RSS3 = 'RSS3',\n    SOL = 'SOL',\n    NEXT_ID = 'NEXT_ID',\n    CyberConnect = 'CyberConnect',\n    Firefly = 'Firefly',\n    Leaderboard = '.eth Leaderboard',\n    OpenSea = 'OpenSea',\n    Sybil = 'Sybil',\n    TwitterBlue = 'TwitterBlue',\n    Mask = 'Mask Network',\n    Lens = 'Lens',\n    Crossbell = 'Crossbell',\n}\n\nexport interface SocialIdentity {\n    /** The identifier of the social account */\n    identifier?: ProfileIdentifier\n    /** The avatar image link of the social account */\n    avatar?: string\n    /** The bio content of the social account */\n    bio?: string\n    /** The nickname of the social account */\n    nickname?: string\n    /** The homepage link of the social account */\n    homepage?: string\n    /** Has a NextID binding or not */\n    hasBinding?: boolean\n    /** The public key of persona in hex */\n    publicKey?: string\n    /** Is own user account identity */\n    isOwner?: boolean\n    /** All bindings of the persona  **/\n    binding?: NextIDPersonaBindings\n}\n\n/**\n * The smallest unit of a social account. This type only for internal usage.\n * The SocialAccount serves for UI usage.\n */\nexport interface SocialAddress<ChainId> {\n    /** The ID of a plugin that the address belongs to */\n    pluginID: NetworkPluginID\n    /** The chain id that the address belongs to, default support all chains */\n    chainId?: ChainId\n    /** The data source type */\n    type: SocialAddressType\n    /** The address in hex string */\n    address: string\n    /** A human readable address title */\n    label: string\n    /** Last updated timestamp (unix timestamp) */\n    updatedAt?: string\n    /** Create timestamp (unix timestamp) */\n    createdAt?: string\n    /** Data from official sources indicate validation, e.g. twitter blue  */\n    verified?: boolean\n}\n\n/**\n * The social account that merged from multiple social addresses.\n * This type only for UI usage.\n */\nexport interface SocialAccount<ChainId> extends Omit<SocialAddress<ChainId>, 'type'> {\n    supportedAddressTypes?: SocialAddressType[]\n    /** The chain ids that the address supported, default support all chains */\n    supportedChainIds?: ChainId[]\n}\n","import type { api } from '@dimensiondev/mask-wallet-core/proto'\n\nexport enum LockStatus {\n    INIT = 0,\n    UNLOCK = 1,\n    LOCKED = 2,\n}\n\nexport enum ImportSource {\n    WalletRPC = 'wallet_rpc',\n    LocalGenerated = 'local_generated',\n    UserProvided = 'user_provided',\n}\n\nexport interface Wallet {\n    id: string\n    /** the user define wallet name. Default address.prefix(6) */\n    name: string\n    /** the address of wallet */\n    address: string\n    /** the wallet source */\n    source: ImportSource\n    /** true: Mask Wallet, false: External Wallet */\n    hasStoredKeyInfo: boolean\n    /** true: Derivable Wallet. false: UnDerivable Wallet */\n    hasDerivationPath: boolean\n    /** yep: removable, nope: unremovable */\n    configurable?: boolean\n    /** the derivation path when wallet was created */\n    derivationPath?: string\n    /** the derivation path when wallet last was derived */\n    latestDerivationPath?: string\n    /** the internal presentation of mask wallet sdk */\n    storedKeyInfo?: api.IStoredKeyInfo\n    /** record created at */\n    createdAt: Date\n    /** record updated at */\n    updatedAt: Date\n    /** an abstract wallet has a owner */\n    owner?: string\n    /** an abstract wallet has been deployed */\n    deployed?: boolean\n    /** persona identifier */\n    identifier?: string\n    /**\n     * mnemonicId represents a wallet under the same set of mnemonics,\n     * used for wallet grouping\n     */\n    mnemonicId?: string\n}\n\nexport type UpdatableWallet = Pick<Wallet, 'address' | 'name' | 'owner' | 'identifier'>\n\nexport interface LegacyWalletRecord {\n    /** ethereum hex address */\n    address: string\n    /** User define wallet name. Default address.prefix(6) */\n    name: string | null\n    /** A list of trusted ERC20 contract address */\n    erc20_token_whitelist: Set<string>\n    /** A list of untrusted ERC20 contract address */\n    erc20_token_blacklist: Set<string>\n    /** A list of trusted ERC721 contract address */\n    erc721_token_whitelist: Set<string>\n    /** A list of untrusted ERC721 contract address */\n    erc721_token_blacklist: Set<string>\n    /** A list of trusted ERC1155 contract address */\n    erc1155_token_whitelist: Set<string>\n    /** A list of untrusted ERC1155 contract address */\n    erc1155_token_blacklist: Set<string>\n    /** The HD wallet path includes address index */\n    path?: string\n    mnemonic: string[]\n    passphrase: string\n    _public_key_?: string\n    /** Wallet recover from private key */\n    _private_key_?: string\n    createdAt: Date\n    updatedAt: Date\n}\n","import { ChainId } from '@masknet/web3-shared-evm'\nimport { NameServiceID } from '@masknet/shared-base'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport { SID_Domain } from '../SID/index.js'\nimport type { NameServiceAPI } from '../entry-types.js'\n\nclass ARBID_API implements NameServiceAPI.Provider {\n    readonly id = NameServiceID.ARBID\n\n    async lookup(name: string) {\n        return attemptUntil(\n            [SID_Domain].map((x) => () => x.lookup(ChainId.Arbitrum, name)),\n            undefined,\n        )\n    }\n\n    async reverse(address: string) {\n        return attemptUntil(\n            [SID_Domain].map((x) => () => x.reverse(ChainId.Arbitrum, address)),\n            undefined,\n        )\n    }\n}\nexport const ARBID = new ARBID_API()\n","import { type ChainId, getAirdropClaimersConstants } from '@masknet/web3-shared-evm'\nimport { ContractReadonlyAPI } from '../Web3/EVM/apis/ContractReadonlyAPI.js'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\n\nexport class AirdropAPI {\n    private Contract = new ContractReadonlyAPI()\n\n    async getActivity(chainId: ChainId, address?: string) {\n        const { CLAIMERS, CONTRACT_ADDRESS } = getAirdropClaimersConstants(chainId)\n        if (!CLAIMERS || !CONTRACT_ADDRESS) return\n\n        const airdropContract = this.Contract.getAirdropV2Contract(CONTRACT_ADDRESS, { chainId })\n        const data = await fetchJSON<Record<string, string>>(`https://cors-next.r2d2.to/?${CLAIMERS}`, {\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n\n        const eventIndex = await airdropContract?.methods.eventIndex().call()\n        const currentEventIndex = Number(eventIndex) - 1\n        const claimEvents = await airdropContract?.methods.claimEvents(currentEventIndex).call()\n        const isClaimed = address ? await airdropContract?.methods.isClaimed(currentEventIndex, address).call() : false\n\n        if (!claimEvents) return\n\n        return {\n            claimers: data,\n            startTime: claimEvents.startTime,\n            endTime: claimEvents.endTime,\n            token: claimEvents.token,\n            isClaimed,\n            eventIndex: currentEventIndex,\n        }\n    }\n\n    async getPoolInfo(chainId: ChainId, eventIndex: string) {\n        const { CONTRACT_ADDRESS } = getAirdropClaimersConstants(chainId)\n        if (!CONTRACT_ADDRESS) return\n\n        const airdropContract = this.Contract.getAirdropV2Contract(CONTRACT_ADDRESS, { chainId })\n        return airdropContract?.methods.claimEvents(eventIndex).call()\n    }\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport { ChainId as ChainId_EVM } from '@masknet/web3-shared-evm'\nimport { ChainId as ChainId_Flow } from '@masknet/web3-shared-flow'\n\nexport const Alchemy_EVM_NetworkMap = {\n    network: NetworkPluginID.PLUGIN_EVM,\n    chains: [\n        {\n            chainId: ChainId_EVM.Mainnet,\n            baseURL: 'https://alchemy-proxy.r2d2.to/eth-mainnet-io/v2/APIKEY',\n            contractMetadataURL: 'https://alchemy-proxy.r2d2.to/eth-mainnet/nft/v2/APIKEY',\n            tokenOwnerURL: 'https://alchemy-proxy.r2d2.to/eth-mainnet/nft/v2/APIKEY',\n        },\n        {\n            chainId: ChainId_EVM.Matic,\n            baseURL: 'https://alchemy-proxy.r2d2.to/polygon-mainnet/v2/APIKEY',\n            contractMetadataURL: 'https://alchemy-proxy.r2d2.to/polygon-mainnet/nft/v2/APIKEY',\n            tokenOwnerURL: 'https://alchemy-proxy.r2d2.to/polygon-mainnet/nft/v2/APIKEY',\n        },\n    ],\n}\n\nexport const Alchemy_FLOW_NetworkMap = {\n    network: NetworkPluginID.PLUGIN_FLOW,\n    chains: [\n        {\n            chainId: ChainId_Flow.Mainnet,\n            baseURL: 'https://alchemy-proxy.r2d2.to/flow-mainnet/v2/APIKEY',\n        },\n    ],\n}\n\nexport const FILTER_WORDS = ['description', 'id', 'title', 'number', 'img', 'uri']\n","import { hexToNumberString, isHex } from 'web3-utils'\n\nexport function formatAlchemyTokenId(tokenId: string) {\n    return isHex(tokenId) && tokenId.startsWith('0x') ? hexToNumberString(tokenId) : tokenId\n}\n\nexport function formatAlchemyTokenAddress(address: string, identifier: string) {\n    return `A.${address.replace(/^0x/, '')}.${identifier}`\n}\n","export const TOKEN_APPROVAL_TOPIC = '0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925'\nexport const NFT_APPROVAL_TOPIC = '0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31'\n","import { produce, enableMapSet } from 'immer'\nimport type { BigNumber } from 'bignumber.js'\nimport { type ChainId } from '@masknet/web3-shared-evm'\n\nexport type TokenApprovalInfoAccountMap = Record<\n    string,\n    Map<\n        ChainId,\n        {\n            spenderList: Map<string, Map<string, { amount: BigNumber; transactionBlockNumber: number }>>\n            fromBlock: number\n        }\n    >\n>\n\nexport type NFTApprovalInfoAccountMap = Record<\n    string,\n    Map<\n        ChainId,\n        {\n            spenderList: Map<string, Map<string, { approved: boolean; transactionBlockNumber: number }>>\n            fromBlock: number\n        }\n    >\n>\n\nclass ApprovalListState {\n    private _token_state: TokenApprovalInfoAccountMap = {}\n    private _nft_state: NFTApprovalInfoAccountMap = {}\n\n    constructor() {\n        enableMapSet()\n    }\n\n    public get tokenState() {\n        return this._token_state\n    }\n\n    public get nftState() {\n        return this._nft_state\n    }\n\n    public updateTokenState(\n        account_: string,\n        spender_: string,\n        address_: string,\n        chainId: ChainId,\n        fromBlock: number,\n        transactionBlockNumber: number,\n        amount: BigNumber,\n    ) {\n        const account = account_.toLowerCase()\n        const spender = spender_.toLowerCase()\n        const address = address_.toLowerCase()\n\n        this._token_state = produce(this._token_state, (draft) => {\n            if (!draft[account]) draft[account] = new Map()\n\n            const addressMap = new Map()\n            addressMap.set(address, { amount, transactionBlockNumber })\n\n            if (!draft[account].get(chainId)?.spenderList) {\n                const spenderListMap = new Map()\n                spenderListMap.set(spender, addressMap)\n                draft[account].set(chainId, {\n                    spenderList: spenderListMap,\n                    fromBlock,\n                })\n            }\n\n            if (!draft[account].get(chainId)!.spenderList!.get(spender)) {\n                draft[account].get(chainId)!.spenderList!.set(spender, addressMap)\n            }\n\n            draft[account].get(chainId)!.spenderList.get(spender)?.set(address, { amount, transactionBlockNumber })\n            draft[account].get(chainId)!.fromBlock = fromBlock\n        })\n    }\n\n    public updateNFT_State(\n        account_: string,\n        spender_: string,\n        address_: string,\n        chainId: ChainId,\n        fromBlock: number,\n        transactionBlockNumber: number,\n        approved: boolean,\n    ) {\n        const account = account_.toLowerCase()\n        const spender = spender_.toLowerCase()\n        const address = address_.toLowerCase()\n\n        this._nft_state = produce(this._nft_state, (draft) => {\n            if (!draft[account]) draft[account] = new Map()\n\n            const addressMap = new Map()\n            addressMap.set(address, { approved, transactionBlockNumber })\n\n            if (!draft[account].get(chainId)?.spenderList) {\n                const spenderListMap = new Map()\n                spenderListMap.set(spender, addressMap)\n                draft[account].set(chainId, {\n                    spenderList: spenderListMap,\n                    fromBlock,\n                })\n            }\n\n            if (!draft[account].get(chainId)!.spenderList!.get(spender)) {\n                draft[account].get(chainId)!.spenderList!.set(spender, addressMap)\n            }\n\n            draft[account].get(chainId)!.spenderList.get(spender)?.set(address, { approved, transactionBlockNumber })\n            draft[account].get(chainId)!.fromBlock = fromBlock\n        })\n    }\n}\n\nexport const approvalListState = new ApprovalListState()\n","import { BigNumber } from 'bignumber.js'\nimport type { Log } from 'web3-core'\nimport { maxBy, mapKeys } from 'lodash-es'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { isZeroAddress, type ChainId, type SchemaType, abiCoder } from '@masknet/web3-shared-evm'\nimport { TOKEN_APPROVAL_TOPIC, NFT_APPROVAL_TOPIC } from './constants.js'\nimport {\n    isSameAddress,\n    type FungibleTokenSpender,\n    type NonFungibleContractSpender,\n    isGreaterThan,\n} from '@masknet/web3-shared-base'\nimport {\n    approvalListState,\n    type TokenApprovalInfoAccountMap,\n    type NFTApprovalInfoAccountMap,\n} from './approvalListState.js'\nimport { ConnectionReadonlyAPI } from '../Web3/EVM/apis/ConnectionReadonlyAPI.js'\nimport { getAllMaskDappContractInfo } from '../helpers/getAllMaskDappContractInfo.js'\nimport type { AuthorizationAPI } from '../entry-types.js'\n\nexport class ApprovalAPI implements AuthorizationAPI.Provider<ChainId> {\n    private Web3 = new ConnectionReadonlyAPI()\n\n    async getFungibleTokenSpenders(chainId: ChainId, account: string) {\n        try {\n            const { toBlock, records: tokenSpenderRecords } = await this.parseSpenderRecords(\n                chainId,\n                account,\n                TOKEN_APPROVAL_TOPIC,\n                approvalListState.tokenState,\n            )\n            const maskDappContractInfoList = getAllMaskDappContractInfo(chainId, 'token')\n\n            mapKeys(tokenSpenderRecords, (spender, spenderAddress) =>\n                mapKeys(spender, (tokens, tokenAddress) => {\n                    const latestBlockTx = maxBy(tokens, (x) => x.blockNumber)\n                    const latestTx = maxBy(\n                        tokens.filter((x) => x.blockNumber === latestBlockTx?.blockNumber),\n                        (x) => x.transactionIndex,\n                    )\n                    if (!latestTx) return\n                    const amount = new BigNumber(isZeroAddress(latestTx.data) ? 0 : latestTx.data)\n                    approvalListState.updateTokenState(\n                        account,\n                        spenderAddress,\n                        tokenAddress,\n                        chainId,\n                        toBlock,\n                        latestTx.blockNumber,\n                        amount,\n                    )\n                }),\n            )\n            const spenderList = approvalListState.tokenState[account.toLowerCase()]?.get(chainId)?.spenderList\n\n            if (!spenderList) return EMPTY_LIST\n\n            return Array.from(spenderList.keys())\n                .flatMap((spender) => {\n                    return Array.from(spenderList.get(spender)!.keys()).map((address) => {\n                        const maskDappContractInfo = maskDappContractInfoList.find((y) =>\n                            isSameAddress(y.address, spender),\n                        )\n                        return {\n                            tokenInfo: { address, name: '', symbol: '' },\n                            address: spender,\n                            name: maskDappContractInfo?.name,\n                            logo: maskDappContractInfo?.logo,\n                            rawAmount: spenderList.get(spender)?.get(address)?.amount.toNumber() ?? 0,\n                            transactionBlockNumber: spenderList.get(spender)?.get(address)?.transactionBlockNumber ?? 0,\n                            isMaskDapp: Boolean(maskDappContractInfo),\n                        }\n                    })\n                })\n                .filter((x) => isGreaterThan(x.rawAmount, 0))\n                .sort((a, b) => {\n                    if (a.isMaskDapp && !b.isMaskDapp) return -1\n                    if (!a.isMaskDapp && b.isMaskDapp) return 1\n                    return b.transactionBlockNumber - a.transactionBlockNumber\n                }) as Array<FungibleTokenSpender<ChainId, SchemaType>>\n        } catch (error) {\n            return EMPTY_LIST\n        }\n    }\n\n    async getNonFungibleTokenSpenders(chainId: ChainId, account: string) {\n        try {\n            const { toBlock, records: nftSpenderRecords } = await this.parseSpenderRecords(\n                chainId,\n                account,\n                NFT_APPROVAL_TOPIC,\n                approvalListState.nftState,\n            )\n            const maskDappContractInfoList = getAllMaskDappContractInfo(chainId, 'nft')\n\n            mapKeys(nftSpenderRecords, (spender, spenderAddress) =>\n                mapKeys(spender, (nfts, tokenAddress) => {\n                    const latestBlockTx = maxBy(nfts, (x) => x.blockNumber)\n                    const latestTx = maxBy(\n                        nfts.filter((x) => x.blockNumber === latestBlockTx?.blockNumber),\n                        (x) => x.transactionIndex,\n                    )\n                    if (!latestTx) return\n                    const approved = Number.parseInt(latestTx.data, 16) === 1\n                    approvalListState.updateNFT_State(\n                        account,\n                        spenderAddress,\n                        tokenAddress,\n                        chainId,\n                        toBlock,\n                        latestTx.blockNumber,\n                        approved,\n                    )\n                }),\n            )\n\n            const spenderList = approvalListState.nftState[account.toLowerCase()]?.get(chainId)?.spenderList\n\n            if (!spenderList) return EMPTY_LIST\n\n            return Array.from(spenderList.keys())\n                .flatMap((spender) => {\n                    return Array.from(spenderList.get(spender)!.keys()).map((address) => {\n                        const maskDappContractInfo = maskDappContractInfoList.find((y) =>\n                            isSameAddress(y.address, spender),\n                        )\n\n                        return {\n                            contract: { address, name: '' },\n                            address: spender,\n                            name: maskDappContractInfo?.name,\n                            logo: maskDappContractInfo?.logo,\n                            amount: '1',\n                            approved: spenderList.get(spender)?.get(address)?.approved,\n                            transactionBlockNumber: spenderList.get(spender)?.get(address)?.transactionBlockNumber ?? 0,\n                            isMaskDapp: Boolean(maskDappContractInfo),\n                        }\n                    })\n                })\n                .filter((x) => x.approved)\n                .sort((a, b) => {\n                    if (a.isMaskDapp && !b.isMaskDapp) return -1\n                    if (!a.isMaskDapp && b.isMaskDapp) return 1\n                    return b.transactionBlockNumber - a.transactionBlockNumber\n                }) as Array<NonFungibleContractSpender<ChainId, SchemaType>>\n        } catch (error) {\n            return EMPTY_LIST\n        }\n    }\n\n    private async parseSpenderRecords(\n        chainId: ChainId,\n        account: string,\n        topic: string,\n        state: TokenApprovalInfoAccountMap | NFTApprovalInfoAccountMap,\n    ) {\n        const fromBlock = state[account]?.get(chainId)?.fromBlock ?? 0\n        const toBlock = await this.Web3.getBlockNumber({ chainId })\n\n        const logs = await this.Web3.getWeb3({ chainId }).eth.getPastLogs({\n            topics: [topic, abiCoder.encodeParameter('address', account)],\n            fromBlock,\n            toBlock,\n        })\n\n        return { records: parseLogs(logs), toBlock }\n    }\n}\n\nfunction parseLogs(logs: Log[]) {\n    return logs\n        .filter((x) => x.topics.length === 3 && x.data !== '0x')\n        .reduce<Record<string, Record<string, Array<{ blockNumber: number; data: string; transactionIndex: number }>>>>(\n            (acc, cur) => {\n                const spender = abiCoder.decodeParameter('address', cur.topics[2]) as unknown as string\n                if (isZeroAddress(spender)) return acc\n                if (!acc[spender]) acc[spender] = {}\n\n                if (acc[spender][cur.address]) {\n                    acc[spender][cur.address].push({\n                        blockNumber: cur.blockNumber,\n                        data: cur.data,\n                        transactionIndex: cur.transactionIndex,\n                    })\n                } else {\n                    acc[spender][cur.address] = [\n                        { blockNumber: cur.blockNumber, data: cur.data, transactionIndex: cur.transactionIndex },\n                    ]\n                }\n\n                return acc\n            },\n            {},\n        )\n}\n","import urlcat from 'urlcat'\nimport { first } from 'lodash-es'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { ChainId, formatEthereumAddress, isValidAddress, isValidChainId, isValidDomain } from '@masknet/web3-shared-evm'\nimport { fetchFromChainbase } from '../helpers.js'\nimport type { ENSRecord } from '../types.js'\nimport type { DomainAPI } from '../../entry-types.js'\n\nconst suffixMap: Partial<Record<ChainId, string>> = {\n    [ChainId.Mainnet]: 'eth',\n    [ChainId.BSC]: 'bnb',\n    [ChainId.Arbitrum]: 'arb',\n}\n\nclass ChainbaseDomainAPI implements DomainAPI.Provider<ChainId> {\n    private async getAddress(chainId: ChainId, name: string) {\n        if (!isValidChainId(chainId)) return\n\n        const response = await fetchFromChainbase<ENSRecord>(\n            urlcat(`/v1/${chainId !== ChainId.BSC ? 'ens' : 'space-id'}/records`, { chain_id: chainId, domain: name }),\n        )\n        return response?.address\n    }\n\n    private async getName(chainId: ChainId, address: string) {\n        if (!isValidChainId(chainId)) return\n\n        const response = await fetchFromChainbase<ENSRecord[]>(\n            urlcat(`/v1/${chainId !== ChainId.BSC ? 'ens' : 'space-id'}/reverse`, { chain_id: chainId, address }),\n        )\n\n        if (!isSameAddress(response?.[0]?.address, address)) return\n\n        const name = first(response)?.name\n        if (!name) return\n        const suffix = suffixMap[chainId] || 'eth'\n        return isValidDomain(name) ? name : isValidDomain(`${name}.${suffix}`) ? `${name}.${suffix}` : undefined\n    }\n\n    async lookup(chainId: ChainId, name: string): Promise<string | undefined> {\n        if (!name) return\n        const address = await this.getAddress(chainId, name)\n        if (isValidAddress(address)) return formatEthereumAddress(address)\n        return\n    }\n\n    async reverse(chainId: ChainId, address: string): Promise<string | undefined> {\n        if (!address || !isValidAddress(address)) return\n        const name = await this.getName(chainId, address)\n        if (isValidDomain(name)) return name\n        return\n    }\n}\nexport const ChainbaseDomain = new ChainbaseDomainAPI()\n","export const CHAINBASE_API_URL = 'https://chainbase-proxy.r2d2.to'\n\nexport const TRANSACTIONS_BY_CONTRACT_METHOD_ENDPOINT =\n    'https://arql3twjl4.execute-api.us-east-1.amazonaws.com/prod/records'\n\nexport const MAX_SIZE_PER_PAGE = 1000\n","import { type ChainId, getCoinGeckoConstants, isNativeTokenAddress, isValidAddress } from '@masknet/web3-shared-evm'\nimport { getTokenPrice, getTokenPriceByCoinId } from './base.js'\nimport type { HubOptions_Base, PriceAPI } from '../../entry-types.js'\n\nclass CoinGeckoPriceAPI_EVM implements PriceAPI.Provider<ChainId> {\n    async getFungibleTokenPrice(chainId: ChainId, address: string, options?: HubOptions_Base<ChainId>) {\n        const { PLATFORM_ID = '', COIN_ID = '' } = getCoinGeckoConstants(options?.chainId ?? chainId)\n\n        if (isNativeTokenAddress(address) || !isValidAddress(address)) {\n            return getTokenPriceByCoinId(COIN_ID, options?.currencyType)\n        }\n        return getTokenPrice(PLATFORM_ID, address, options?.currencyType)\n    }\n}\nexport const CoinGeckoPriceEVM = new CoinGeckoPriceAPI_EVM()\n","import { type ChainId, getCoinGeckoConstants, isNativeTokenAddress } from '@masknet/web3-shared-solana'\nimport { getTokenPriceByCoinId, getTokenPrice } from './base.js'\nimport type { HubOptions_Base, PriceAPI } from '../../entry-types.js'\n\nclass CoinGeckoPriceAPI_Solana implements PriceAPI.Provider<ChainId> {\n    getFungibleTokenPrice(chainId: ChainId, address: string, options?: HubOptions_Base<ChainId>) {\n        const { PLATFORM_ID = '', COIN_ID = '' } = getCoinGeckoConstants(options?.chainId ?? chainId)\n\n        if (isNativeTokenAddress(address)) {\n            return getTokenPriceByCoinId(COIN_ID, options?.currencyType)\n        }\n        return getTokenPrice(PLATFORM_ID, address, options?.currencyType)\n    }\n}\nexport const CoinGeckoPriceSolana = new CoinGeckoPriceAPI_Solana()\n","import { createLookupTableResolver } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { ChainId } from '@masknet/web3-shared-evm'\nimport { ChainId as ChainIdSolana } from '@masknet/web3-shared-solana'\n\nexport const resolveCoinGeckoChainId = createLookupTableResolver<string, Web3Helper.ChainIdAll | undefined>(\n    {\n        ethereum: ChainId.Mainnet,\n        'binance-smart-chain': ChainId.BSCT,\n        'polygon-pos': ChainId.Matic,\n        solana: ChainIdSolana.Mainnet,\n        astar: ChainId.Astar,\n        aurora: ChainId.Aurora,\n        avalanche: ChainId.Avalanche,\n        'arbitrum-nova': ChainId.Arbitrum,\n        boba: ChainId.Boba,\n        conflux: ChainId.Conflux,\n        fantom: ChainId.Fantom,\n        fuse: ChainId.Fuse,\n        moonbeam: ChainId.Moonbeam,\n        'optimistic-ethereum': ChainId.Optimism,\n        xdai: ChainId.xDai,\n    },\n    undefined,\n)\n","import { compact, uniq, uniqBy } from 'lodash-es'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { attemptUntil, TokenType, SourceType } from '@masknet/web3-shared-base'\nimport { ChainId, getCoinGeckoConstants, getTokenConstant, isNativeTokenSymbol } from '@masknet/web3-shared-evm'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { COINGECKO_CHAIN_ID_LIST, COINGECKO_URL_BASE } from '../constants.js'\nimport { getCommunityLink, isMirroredKeyword } from '../../Trending/helpers.js'\nimport { COIN_RECOMMENDATION_SIZE, VALID_TOP_RANK } from '../../Trending/constants.js'\nimport { getAllCoins, getCoinInfo, getPriceStats as getStats, getThumbCoins } from './base.js'\nimport type { CoinInfo, Platform } from '../types.js'\nimport { resolveCoinGeckoChainId } from '../helpers.js'\nimport { FuseCoin } from '../../Fuse/index.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport type { TrendingAPI } from '../../entry-types.js'\nimport { ChainResolver } from '../../Web3/EVM/apis/ResolverAPI.js'\n\nclass CoinGeckoTrendingAPI implements TrendingAPI.Provider<Web3Helper.ChainIdAll> {\n    private coins: Map<string, TrendingAPI.Coin> = new Map()\n\n    private async createCoins() {\n        if (this.coins.size) return\n\n        const coins = await this.getAllCoins()\n        coins.forEach((x) => this.coins.set(x.id, x))\n    }\n\n    private async getSupportedPlatform() {\n        const response = await fetchJSON<Platform[]>(`${COINGECKO_URL_BASE}/asset_platforms`)\n        return response.filter((x) => x.id && x.chain_identifier) ?? []\n    }\n\n    async getAllCoins(): Promise<TrendingAPI.Coin[]> {\n        const coins = await getAllCoins()\n        return coins.map((coin) => ({ ...coin, type: TokenType.Fungible }))\n    }\n\n    async getCoinsByKeyword(chainId: Web3Helper.ChainIdAll, keyword: string): Promise<TrendingAPI.Coin[]> {\n        try {\n            await this.createCoins()\n            const thumbCoins = await getThumbCoins(keyword)\n            return compact(\n                thumbCoins\n                    .filter((x) => x?.market_cap_rank && x.market_cap_rank < VALID_TOP_RANK)\n                    .map((y) => this.coins.get(y.id)),\n            ).slice(0, COIN_RECOMMENDATION_SIZE)\n        } catch {\n            return FuseCoin.create(await this.getAllCoins())\n                .search(keyword)\n                .map((x) => x.item)\n                .slice(0, COIN_RECOMMENDATION_SIZE)\n        }\n    }\n\n    async getCoinInfoByAddress(address: string, chainId?: number): Promise<TrendingAPI.CoinInfo | undefined> {\n        const chainIds = chainId ? [chainId] : COINGECKO_CHAIN_ID_LIST\n        return attemptUntil(\n            chainIds.map((chainId) => async () => {\n                try {\n                    const { PLATFORM_ID } = getCoinGeckoConstants(chainId)\n                    if (!PLATFORM_ID) return\n                    const requestPath = `${COINGECKO_URL_BASE}/coins/${PLATFORM_ID}/contract/${address.toLowerCase()}`\n                    const response = await fetchJSON<{ name: string; id: string; error: string }>(requestPath)\n                    return response.error ? undefined : { name: response.name, id: response.id, chainId }\n                } catch {\n                    return undefined\n                }\n            }),\n            undefined,\n        )\n    }\n\n    async getCoinTrending(\n        chainId: Web3Helper.ChainIdAll,\n        id: string,\n        currency: TrendingAPI.Currency,\n    ): Promise<TrendingAPI.Trending> {\n        const info = await getCoinInfo(id)\n        if ('error' in info) throw new Error(info.error)\n\n        const platform_url = `https://www.coingecko.com/en/coins/${info.id}`\n        const twitter_url = info.links.twitter_screen_name\n            ? `https://twitter.com/${info.links.twitter_screen_name}`\n            : ''\n        const facebook_url = info.links.facebook_username ? `https://facebook.com/${info.links.facebook_username}` : ''\n        const telegram_url = info.links.telegram_channel_identifier\n            ? `https://t.me/${info.links.telegram_channel_identifier}`\n            : ''\n\n        const platforms = await this.getSupportedPlatform()\n        const avaxContracts = [\n            {\n                address: '0x1ce0c2827e2ef14d5c4f29a091d735a204794041',\n                chainId: ChainId.BSC,\n                pluginID: NetworkPluginID.PLUGIN_EVM,\n            },\n            {\n                address: '0x4792c1ecb969b036eb51330c63bd27899a13d84e',\n                chainId: ChainId.Moonbeam,\n                pluginID: NetworkPluginID.PLUGIN_EVM,\n            },\n        ]\n\n        return {\n            lastUpdated: info.last_updated,\n            dataProvider: SourceType.CoinGecko,\n            contracts:\n                info.id === 'avalanche-2'\n                    ? avaxContracts\n                    : Object.entries(info.platforms)\n                          .map(([key, address]) => ({\n                              chainId:\n                                  platforms.find((x) => x.id === key)?.chain_identifier ?? resolveCoinGeckoChainId(key),\n                              address,\n                              pluginID: key === 'solana' ? NetworkPluginID.PLUGIN_SOLANA : NetworkPluginID.PLUGIN_EVM,\n                          }))\n                          .filter((x) => x.chainId && x.address),\n            currency,\n            coin: {\n                id,\n                chainId: isNativeTokenSymbol(info.symbol) ? ChainResolver.chainId(info.name) : undefined,\n                name: info.name,\n                symbol: info.symbol.toUpperCase(),\n                type: TokenType.Fungible,\n                is_mirrored: isMirroredKeyword(info.symbol),\n\n                // TODO: use current language setting\n                description: info.description.en,\n                market_cap_rank: info.market_cap_rank,\n                image_url: info.image.small,\n                tags: info.categories.filter(Boolean),\n                announcement_urls: info.links.announcement_url.filter(Boolean),\n                community_urls: getCommunityLink(\n                    uniqBy(\n                        [\n                            twitter_url,\n                            facebook_url,\n                            telegram_url,\n                            info.links.subreddit_url,\n                            ...info.links.chat_url,\n                            ...info.links.official_forum_url,\n                        ].filter(Boolean),\n                        (x) => x.toLowerCase(),\n                    ),\n                ),\n                source_code_urls: Object.values(info.links.repos_url).flatMap((x) => x),\n                home_urls: info.links.homepage.filter(Boolean),\n                blockchain_urls: uniq(\n                    [platform_url, ...info.links.blockchain_site].filter(Boolean).map((url) => url.toLowerCase()),\n                ),\n                platform_url,\n                facebook_url,\n                twitter_url,\n                telegram_url,\n                contract_address:\n                    ChainResolver.chainId(info.name) && isNativeTokenSymbol(info.symbol)\n                        ? getTokenConstant(ChainResolver.chainId(info.name)!, 'NATIVE_TOKEN_ADDRESS')\n                        : info.contract_address,\n            },\n            market: (() => {\n                const entries = Object.entries(info.market_data).map(([key, value]) => {\n                    if (value && typeof value === 'object') {\n                        return [key, value[currency.id] ?? 0]\n                    }\n                    return [key, value]\n                })\n                return Object.fromEntries(entries)\n            })(),\n            tickers: info.tickers.slice(0, 30).map((x) => ({\n                logo_url: x.market.logo,\n                trade_url: x.trade_url,\n                market_name: x.market.name,\n                base_name: x.base,\n                target_name: x.target,\n                price: x.converted_last.usd,\n                volume: x.converted_volume.usd,\n                score: x.trust_score,\n                updated: new Date(x.timestamp),\n            })),\n        }\n    }\n\n    async getCoinPriceStats(\n        chainId: Web3Helper.ChainIdAll,\n        coinId: string,\n        currency: TrendingAPI.Currency,\n        days: number,\n    ): Promise<TrendingAPI.Stat[]> {\n        return (await getStats(coinId, currency.id, days)).prices\n    }\n\n    getCoinMarketInfo(address: string): Promise<TrendingAPI.MarketInfo | undefined> {\n        return attemptUntil(\n            COINGECKO_CHAIN_ID_LIST.map((chainId) => async (): Promise<TrendingAPI.MarketInfo | undefined> => {\n                try {\n                    const { PLATFORM_ID = '' } = getCoinGeckoConstants(chainId)\n                    const requestPath = `${COINGECKO_URL_BASE}/coins/${PLATFORM_ID}/contract/${address.toLowerCase()}`\n                    const response = await fetchJSON<CoinInfo | { error: string }>(requestPath)\n                    if ('error' in response) return\n                    return { id: response.id, market_cap: response.market_data.market_cap.usd.toString() }\n                } catch {\n                    return undefined\n                }\n            }),\n            undefined,\n        )\n    }\n}\nexport const CoinGeckoTrending = new CoinGeckoTrendingAPI()\n","import urlcat from 'urlcat'\nimport { Days } from '@masknet/shared-base'\nimport { CurrencyType, type Price } from '@masknet/web3-shared-base'\nimport { COINGECKO_URL_BASE } from '../constants.js'\nimport type { Category, CoinInfo, Exchange, ThumbCoin, ThumbCollection } from '../types.js'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport type { TrendingAPI } from '../../entry-types.js'\n\nfunction fetchFromCoinGecko<T>(request: RequestInfo | URL, init?: RequestInit) {\n    return fetchCachedJSON<T>(request, init)\n}\n\n// #region coins\nexport async function getAllCoins() {\n    return fetchFromCoinGecko<TrendingAPI.Coin[]>(urlcat(COINGECKO_URL_BASE, '/coins/list'), { cache: 'force-cache' })\n}\n\nexport async function getCoinInfo(coinId: string) {\n    return fetchFromCoinGecko<\n        | CoinInfo\n        | {\n              error: string\n          }\n    >(\n        urlcat(COINGECKO_URL_BASE, `/coins/${coinId}`, {\n            developer_data: false,\n            community_data: false,\n            tickers: true,\n        }),\n        {\n            cache: 'default',\n        },\n    )\n}\n\nexport async function getThumbCoins(keyword: string) {\n    if (!keyword) return []\n    const response = await fetchFromCoinGecko<\n        | {\n              categories: Category[]\n              coins: ThumbCoin[]\n              nfts: ThumbCollection[]\n              exchanges: Exchange[]\n          }\n        | { error: string }\n    >(\n        urlcat(COINGECKO_URL_BASE, '/search', {\n            query: keyword,\n        }),\n        {\n            cache: 'default',\n        },\n    )\n    if ('error' in response) throw new Error(response.error)\n    return response.coins\n}\n// #endregion\n\n// #region price chart\ntype Stat = [number, number]\n\nexport async function getPriceStats(coinId: string, currencyId: string, days: number) {\n    return fetchFromCoinGecko<{\n        market_caps: Stat[]\n        prices: Stat[]\n        total_volumes: Stat[]\n    }>(\n        urlcat(COINGECKO_URL_BASE, `/coins/${coinId}/market_chart`, {\n            vs_currency: currencyId,\n            days: days === Days.MAX ? 11430 : days,\n        }),\n        {\n            cache: 'default',\n        },\n    )\n}\n// #endregion\n\n// #region token price\nexport async function getTokenPrice(platform_id: string, address: string, currencyType = CurrencyType.USD) {\n    const price = await getTokenPrices(platform_id, [address], currencyType)\n    const currencies = price[address.toLowerCase()]\n    return currencies?.[currencyType] ? Number(currencies[currencyType]) : undefined\n}\n\nasync function getTokenPrices(platform_id: string, contractAddresses: string[], currency = CurrencyType.USD) {\n    return fetchFromCoinGecko<Record<string, Price>>(\n        urlcat(COINGECKO_URL_BASE, '/simple/token_price/:platform_id', {\n            platform_id,\n            contract_addresses: contractAddresses.join(','),\n            vs_currencies: currency,\n        }),\n        undefined,\n    )\n}\n\nexport async function getTokenPriceByCoinId(coin_id: string, currency = CurrencyType.USD) {\n    const price = await fetchFromCoinGecko<Record<string, Record<CurrencyType, number>>>(\n        urlcat(COINGECKO_URL_BASE, '/simple/price', { ids: coin_id, vs_currencies: currency }),\n        undefined,\n    )\n    return price[coin_id]?.[currency]\n}\n// #endregion\n","import { ChainId } from '@masknet/web3-shared-evm'\nimport Coingecko from '@masknet/web3-constants/evm/coingecko.json'\n\nexport const COINGECKO_URL_BASE = 'https://coingecko-agent.r2d2.to/api/v3'\nexport const COINGECKO_CHAIN_ID_LIST = [\n    ChainId.Mainnet,\n    ChainId.BSC,\n    ChainId.Base,\n    ChainId.Matic,\n    ChainId.Arbitrum,\n    ChainId.xDai,\n    ChainId.Optimism,\n    ChainId.Avalanche,\n    ChainId.Celo,\n    ChainId.Fantom,\n    ChainId.Aurora,\n    ChainId.Conflux,\n    ChainId.Astar,\n    ChainId.Pulse,\n    ChainId.Moonbeam,\n    ChainId.Klaytn,\n    ChainId.Moonriver,\n    ChainId.Harmony,\n    ChainId.Cronos,\n    ChainId.BitTorrent,\n    ChainId.Boba,\n]\n\nif (process.env.NODE_ENV === 'development') {\n    const NonEmptyChainIds = Object.entries(Coingecko.COIN_ID).filter((x) => x[1])\n    console.assert(\n        NonEmptyChainIds.length === COINGECKO_CHAIN_ID_LIST.length,\n        \"COINGECKO_CHAIN_ID_LIST doesn't align to coingecko.json\",\n    )\n}\n","export const DSEARCH_BASE_URL = 'https://dsearch.mask.r2d2.to'\n","import { Duration } from '../helpers/fetchCached.js'\nimport { fetchCachedJSON } from '../helpers/fetchJSON.js'\n\nexport function fetchFromDSearch<T>(request: RequestInfo | URL, init?: RequestInit) {\n    return fetchCachedJSON<T>(request, init, {\n        squashExpiration: 0,\n        cacheDuration: Duration.THIRTY_MINUTES,\n    })\n}\n","import urlcat from 'urlcat'\nimport type { SourceType, FungibleTokenResult } from '@masknet/web3-shared-base'\nimport { DSEARCH_BASE_URL } from '../../DSearch/constants.js'\nimport { fetchFromDSearch } from '../../DSearch/helpers.js'\nimport type { DSearchBaseAPI } from '../../entry-types.js'\n\nexport interface FungibleToken {\n    id: string | number\n    name: string\n    symbol: string\n    sourceType: SourceType\n}\n\nexport interface NonFungibleToken {\n    address: string\n    name: string\n    chain: string\n}\n\nexport class CoinGeckoSearchAPI<ChainId, SchemaType> implements DSearchBaseAPI.DataSourceProvider<ChainId, SchemaType> {\n    async get(): Promise<Array<FungibleTokenResult<ChainId, SchemaType>>> {\n        return fetchFromDSearch<Array<FungibleTokenResult<ChainId, SchemaType>>>(\n            urlcat(DSEARCH_BASE_URL, '/fungible-tokens/coingecko.json'),\n            { mode: 'cors' },\n        )\n    }\n}\n","import urlcat from 'urlcat'\nimport type { SourceType, FungibleTokenResult } from '@masknet/web3-shared-base'\nimport { DSEARCH_BASE_URL } from '../../DSearch/constants.js'\nimport { fetchFromDSearch } from '../../DSearch/helpers.js'\nimport type { DSearchBaseAPI } from '../../entry-types.js'\n\nexport interface FungibleToken {\n    id: string | number\n    name: string\n    symbol: string\n    sourceType: SourceType\n}\n\nexport interface NonFungibleToken {\n    address: string\n    name: string\n    chain: string\n}\n\nexport class CoinMarketCapSearchAPI<ChainId, SchemaType>\n    implements DSearchBaseAPI.DataSourceProvider<ChainId, SchemaType>\n{\n    async get(): Promise<Array<FungibleTokenResult<ChainId, SchemaType>>> {\n        return fetchFromDSearch<Array<FungibleTokenResult<ChainId, SchemaType>>>(\n            urlcat(DSEARCH_BASE_URL, '/fungible-tokens/coinmarketcap.json'),\n            { mode: 'cors' },\n        )\n    }\n}\n","import urlcat from 'urlcat'\nimport type { NonFungibleCollectionResult, SearchResult, SourceType } from '@masknet/web3-shared-base'\nimport { DSEARCH_BASE_URL } from '../../DSearch/constants.js'\nimport { fetchFromDSearch } from '../../DSearch/helpers.js'\nimport type { DSearchBaseAPI } from '../../entry-types.js'\n\nexport interface FungibleToken {\n    id: string | number\n    name: string\n    symbol: string\n    sourceType: SourceType\n}\n\nexport interface NonFungibleToken {\n    address: string\n    name: string\n    chain: string\n}\n\nexport class NFTScanSearchAPI<ChainId, SchemaType> implements DSearchBaseAPI.DataSourceProvider<ChainId, SchemaType> {\n    async get(): Promise<Array<SearchResult<ChainId, SchemaType>>> {\n        const nfts = fetchFromDSearch<Array<SearchResult<ChainId, SchemaType>>>(\n            urlcat(DSEARCH_BASE_URL, '/non-fungible-tokens/nftscan.json'),\n            { mode: 'cors' },\n        )\n        const collections = fetchFromDSearch<Array<SearchResult<ChainId, SchemaType>>>(\n            urlcat(DSEARCH_BASE_URL, '/non-fungible-collections/nftscan.json'),\n            { mode: 'cors' },\n        )\n        const collectionsFromSpecialList = fetchFromDSearch<Array<SearchResult<ChainId, SchemaType>>>(\n            urlcat(DSEARCH_BASE_URL, '/non-fungible-collections/specific-list.json'),\n            { mode: 'cors' },\n        )\n        return (await Promise.allSettled([collectionsFromSpecialList, nfts, collections])).flatMap((v) =>\n            v.status === 'fulfilled' && v.value ? v.value : [],\n        )\n    }\n}\n\nexport class NFTScanCollectionSearchAPI<ChainId, SchemaType>\n    implements DSearchBaseAPI.DataSourceProvider<ChainId, SchemaType>\n{\n    async get(): Promise<Array<NonFungibleCollectionResult<ChainId, SchemaType>>> {\n        const collectionsFromSpecialList = fetchFromDSearch<Array<NonFungibleCollectionResult<ChainId, SchemaType>>>(\n            urlcat(DSEARCH_BASE_URL, '/non-fungible-collections/specific-list.json'),\n            { mode: 'cors' },\n        )\n        const collections = fetchFromDSearch<Array<NonFungibleCollectionResult<ChainId, SchemaType>>>(\n            urlcat(DSEARCH_BASE_URL, '/non-fungible-collections/nftscan.json'),\n            { mode: 'cors' },\n        )\n        return (await Promise.allSettled([collectionsFromSpecialList, collections])).flatMap((v) =>\n            v.status === 'fulfilled' && v.value ? v.value : [],\n        )\n    }\n}\n","import { compact } from 'lodash-es'\nimport { isSameAddress, type SearchResult, SearchResultType } from '@masknet/web3-shared-base'\nimport type { Handler } from './types.js'\nimport { Fuse } from '../Fuse/index.js'\n\nexport const getHandlers = <ChainId, SchemaType>(): Array<Handler<ChainId, SchemaType>> => [\n    {\n        rules: [\n            {\n                key: 'token',\n                type: 'exact',\n                filter: (data: SearchResult<ChainId, SchemaType>, keyword: string) => {\n                    if (data.type !== SearchResultType.FungibleToken) return false\n\n                    if (\n                        data.alias\n                            ?.filter((x) => !x.isPin)\n                            .map((x) => x.value.toLowerCase())\n                            .includes(keyword.toLowerCase())\n                    )\n                        return true\n\n                    const symbol = data.symbol\n                    if (symbol === keyword || symbol?.replace(/\\s/g, '') === keyword) return true\n\n                    const name = data.name\n                    if (name === keyword) return true\n\n                    return false\n                },\n            },\n            {\n                key: 'token',\n                type: 'fuzzy',\n                fullSearch<T extends SearchResult<ChainId, SchemaType> = SearchResult<ChainId, SchemaType>>(\n                    keyword: string,\n                    all: T[],\n                ) {\n                    const data = compact<T>(\n                        all\n                            .filter((x) => x.alias?.length && x.type === SearchResultType.FungibleToken)\n                            .flatMap((x) => {\n                                return x.alias\n                                    ?.filter((x) => x.isPin)\n                                    .map((y) => {\n                                        return {\n                                            ...x,\n                                            __alias: y.value,\n                                        }\n                                    })\n                            }),\n                    )\n\n                    return Fuse.create(data, {\n                        keys: [{ name: '__alias', weight: 0.5 }],\n                        isCaseSensitive: false,\n                        ignoreLocation: true,\n                        shouldSort: true,\n                        threshold: 0,\n                        minMatchCharLength: 5,\n                    })\n                        .search(keyword)\n                        .map((x) => data[x.refIndex])\n                },\n            },\n            {\n                key: 'token',\n                type: 'fuzzy',\n                fullSearch<T extends SearchResult<ChainId, SchemaType> = SearchResult<ChainId, SchemaType>>(\n                    keyword: string,\n                    all: T[],\n                ) {\n                    const data = compact<T>(\n                        all.map((x) => {\n                            if (x.type !== SearchResultType.FungibleToken) return\n                            return {\n                                ...x,\n                                __symbol: x.symbol?.replace(/\\s/g, ''),\n                                __name: x.name?.replace(/\\s/g, ''),\n                            }\n                        }),\n                    )\n\n                    return Fuse.create(data, {\n                        keys: [\n                            { name: 'symbol', weight: 0.5 },\n                            { name: '__symbol', weight: 0.4 },\n                            { name: '__name', weight: 0.3 },\n                            { name: 'name', weight: 0.3 },\n                        ],\n                        isCaseSensitive: false,\n                        ignoreLocation: true,\n                        shouldSort: true,\n                        threshold: 0,\n                        minMatchCharLength: 5,\n                    })\n                        .search(keyword)\n                        .map((x) => all[x.refIndex])\n                },\n            },\n        ],\n        types: [SearchResultType.FungibleToken],\n    },\n    {\n        rules: [\n            {\n                key: 'token',\n                type: 'exact',\n                filter: (data: SearchResult<ChainId, SchemaType>, keyword: string) => {\n                    if (\n                        data.type !== SearchResultType.NonFungibleCollection &&\n                        data.type !== SearchResultType.NonFungibleToken\n                    )\n                        return false\n\n                    return (\n                        isSameAddress(data.address, keyword) ||\n                        data.name === keyword ||\n                        Boolean(\n                            data.alias\n                                ?.filter((x) => !x.isPin)\n                                ?.map((x) => x.value.toLowerCase())\n                                .includes(keyword.toLowerCase()),\n                        )\n                    )\n                },\n            },\n            {\n                key: 'token',\n                type: 'fuzzy',\n                fullSearch<T extends SearchResult<ChainId, SchemaType> = SearchResult<ChainId, SchemaType>>(\n                    keyword: string,\n                    all: T[],\n                ) {\n                    const data = compact<T>(\n                        all\n                            .filter(\n                                (x) => x.alias?.length && x.type === SearchResultType.CollectionListByTwitterHandler,\n                            )\n                            .flatMap((x) => {\n                                // Make ts work\n                                if (x.type !== SearchResultType.CollectionListByTwitterHandler) return []\n                                return x.alias\n                                    ?.filter((x) => x.isPin)\n                                    .map((y) => {\n                                        return {\n                                            ...x,\n                                            __name: x.name?.replace(/\\s/g, ''),\n                                            __alias: y.value,\n                                        }\n                                    })\n                            }),\n                    )\n\n                    return Fuse.create(data, {\n                        keys: [\n                            { name: '__alias', weight: 0.5 },\n                            { name: '__name', weight: 0.3 },\n                            { name: 'name', weight: 0.3 },\n                        ],\n                        isCaseSensitive: false,\n                        ignoreLocation: true,\n                        shouldSort: true,\n                        threshold: 0,\n                        minMatchCharLength: 5,\n                    })\n                        .search(keyword)\n                        .map((x) => data[x.refIndex])\n                },\n            },\n            {\n                key: 'token',\n                type: 'fuzzy',\n                fullSearch<T extends SearchResult<ChainId, SchemaType> = SearchResult<ChainId, SchemaType>>(\n                    keyword: string,\n                    all: T[],\n                ) {\n                    const data = compact<T>(\n                        all.map((x) => {\n                            if (\n                                x.type !== SearchResultType.NonFungibleCollection &&\n                                x.type !== SearchResultType.NonFungibleToken\n                            )\n                                return\n                            return {\n                                ...x,\n                                __name: x.name?.replace(/\\s/g, ''),\n                            }\n                        }),\n                    )\n\n                    return Fuse.create(data, {\n                        keys: [\n                            { name: 'name', weight: 0.6 },\n                            { name: '__name', weight: 0.4 },\n                        ],\n                        isCaseSensitive: false,\n                        ignoreLocation: true,\n                        shouldSort: true,\n                        threshold: 0,\n                        minMatchCharLength: 5,\n                    })\n                        .search(keyword)\n                        .map((x) => all[x.refIndex])\n                },\n            },\n        ],\n        types: [SearchResultType.NonFungibleToken, SearchResultType.NonFungibleCollection],\n    },\n    {\n        rules: [\n            {\n                key: 'twitter',\n                type: 'exact',\n                filter: (data: SearchResult<ChainId, SchemaType>, keyword: string) => {\n                    if (data.type !== SearchResultType.CollectionListByTwitterHandler) return false\n                    return !!data.collection?.socialLinks?.twitter?.toLowerCase().endsWith(keyword.toLowerCase())\n                },\n            },\n        ],\n        types: [SearchResultType.CollectionListByTwitterHandler],\n    },\n]\n","import urlcat from 'urlcat'\nimport { uniqWith } from 'lodash-es'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport {\n    attemptUntil,\n    type DomainResult,\n    type EOAResult,\n    type FungibleTokenResult,\n    isSameAddress,\n    type NonFungibleCollectionResult,\n    type NonFungibleTokenResult,\n    type SearchResult,\n    SearchResultType,\n    SourceType,\n} from '@masknet/web3-shared-base'\nimport { EMPTY_LIST, NetworkPluginID } from '@masknet/shared-base'\nimport { Telemetry } from '@masknet/web3-telemetry'\nimport { EventType, EventID } from '@masknet/web3-telemetry/types'\nimport {\n    ChainId as ChainIdEVM,\n    isValidAddress as isValidAddressEVM,\n    isValidDomain as isValidDomainEVM,\n    isZeroAddress as isZeroAddressEVM,\n} from '@masknet/web3-shared-evm'\nimport {\n    isValidAddress as isValidAddressFlow,\n    isValidDomain as isValidDomainFlow,\n    isZeroAddress as isZeroAddressFlow,\n} from '@masknet/web3-shared-flow'\nimport {\n    isValidAddress as isValidAddressSolana,\n    isValidDomain as isValidDomainSolana,\n    isZeroAddress as isZeroAddressSolana,\n} from '@masknet/web3-shared-solana'\nimport { CoinGeckoSearchAPI } from '../CoinGecko/apis/DSearchAPI.js'\nimport { CoinGeckoTrending } from '../CoinGecko/apis/TrendingAPI.js'\nimport { CoinMarketCapSearchAPI } from '../CoinMarketCap/apis/DSearchAPI.js'\nimport { NFTScanCollectionSearchAPI, NFTScanSearchAPI } from '../NFTScan/apis/DSearchAPI.js'\nimport { RSS3 } from '../RSS3/index.js'\nimport { ENS } from '../ENS/index.js'\nimport { SpaceID } from '../SpaceID/index.js'\nimport { ARBID } from '../ARBID/index.js'\nimport { NextIDProof } from '../NextID/proof.js'\nimport { PlatformToChainIdMap } from '../RSS3/constants.js'\nimport { getHandlers } from './rules.js'\nimport { DSEARCH_BASE_URL } from './constants.js'\nimport { fetchFromDSearch } from './helpers.js'\n\nconst isValidAddress = (address?: string): boolean => {\n    return isValidAddressEVM(address) || isValidAddressFlow(address) || isValidAddressSolana(address)\n}\n\nconst isZeroAddress = (address?: string): boolean => {\n    return isZeroAddressEVM(address) || isZeroAddressFlow(address) || isZeroAddressSolana(address)\n}\n\nconst isValidDomain = (domain?: string): boolean => {\n    return isValidDomainEVM(domain) || isValidDomainFlow(domain) || isValidDomainSolana(domain)\n}\n\nconst handleRe = new RegExp(\n    `\\\\.(${[\n        'avax',\n        'csb',\n        'bit',\n        'eth',\n        'arb',\n        'lens',\n        'bnb',\n        'crypto',\n        'nft',\n        'x',\n        'wallet',\n        'bitcoin',\n        'dao',\n        '888',\n        'zil',\n        'blockchain',\n    ].join('|')})$`,\n    'i',\n)\n\nconst isValidHandle = (handle: string): boolean => {\n    return handleRe.test(handle)\n}\n\nexport class DSearchAPI<ChainId = Web3Helper.ChainIdAll, SchemaType = Web3Helper.SchemaTypeAll> {\n    private NFTScanClient = new NFTScanSearchAPI<ChainId, SchemaType>()\n    private NFTScanCollectionClient = new NFTScanCollectionSearchAPI<ChainId, SchemaType>()\n    private CoinGeckoClient = new CoinGeckoSearchAPI<ChainId, SchemaType>()\n    private CoinMarketCapClient = new CoinMarketCapSearchAPI<ChainId, SchemaType>()\n\n    private parseKeyword(keyword: string): { word: string; field?: string } {\n        const words = keyword.split(':')\n        if (words.length === 1) {\n            return {\n                word: words[0],\n            }\n        }\n        return {\n            word: words[1],\n            field: words[0],\n        }\n    }\n\n    private async searchDomain(domain: string): Promise<Array<DomainResult<ChainId>>> {\n        // only EVM domains\n        if (!isValidDomainEVM(domain)) return EMPTY_LIST\n\n        const [address, chainId] = await attemptUntil(\n            [\n                () =>\n                    ENS.lookup(domain).then((x = '') => {\n                        if (!x || isZeroAddressEVM(address)) throw new Error(`No result for ${domain}`)\n                        return [x, ChainIdEVM.Mainnet]\n                    }),\n                () =>\n                    SpaceID.lookup(domain).then((x = '') => {\n                        if (!x || isZeroAddressEVM(address)) throw new Error(`No result for ${domain}`)\n                        return [x, ChainIdEVM.BSC]\n                    }),\n                () =>\n                    ARBID.lookup(domain).then((x = '') => {\n                        if (!x || isZeroAddressEVM(address)) throw new Error(`No result for ${domain}`)\n                        return [x, ChainIdEVM.Arbitrum]\n                    }),\n            ],\n            ['', ChainIdEVM.Mainnet],\n        )\n        if (!isValidAddressEVM(address) || isZeroAddressEVM(address)) return EMPTY_LIST\n\n        return [\n            {\n                type: SearchResultType.Domain,\n                pluginID: NetworkPluginID.PLUGIN_EVM,\n                chainId: chainId as ChainId,\n                keyword: domain,\n                domain,\n                address,\n            },\n        ]\n    }\n\n    private async searchRSS3Handle(handle: string): Promise<Array<DomainResult<ChainId>>> {\n        const profiles = await RSS3.getProfiles(handle)\n        return profiles\n            .filter((x) => x.handle === handle)\n            .map((profile) => {\n                const chainId = PlatformToChainIdMap[profile.network] as ChainId\n                if (!chainId) console.error(`Not chain id configured for network ${profile.network}`)\n\n                return {\n                    type: SearchResultType.Domain,\n                    pluginID: NetworkPluginID.PLUGIN_EVM,\n                    chainId,\n                    keyword: handle,\n                    domain: profile.handle,\n                    address: profile.address,\n                }\n            })\n    }\n\n    private async searchRSS3NameService(handle: string): Promise<Array<DomainResult<ChainId>>> {\n        const result = await RSS3.getNameService(handle)\n        if (!result) return []\n        return [\n            {\n                type: SearchResultType.Domain,\n                pluginID: NetworkPluginID.PLUGIN_EVM,\n                chainId: result.chainId as ChainId,\n                keyword: handle,\n                domain: handle,\n                address: result.address,\n            },\n        ]\n    }\n\n    private async searchAddress(address: string): Promise<Array<EOAResult<ChainId>>> {\n        // only EVM address\n        if (!isValidAddressEVM(address)) return EMPTY_LIST\n\n        const [domain, chainId] = await attemptUntil(\n            [\n                () => ENS.reverse(address).then((x) => [x, ChainIdEVM.Mainnet]),\n                () => SpaceID.reverse(address).then((x) => [x, ChainIdEVM.BSC]),\n                () => ARBID.reverse(address).then((x) => [x, ChainIdEVM.Arbitrum]),\n            ],\n            ['', ChainIdEVM.Mainnet],\n        )\n\n        if (isValidDomainEVM(domain)) {\n            return [\n                {\n                    type: SearchResultType.EOA,\n                    pluginID: NetworkPluginID.PLUGIN_EVM,\n                    chainId: chainId as ChainId,\n                    keyword: address,\n                    domain,\n                    address,\n                },\n            ]\n        }\n\n        const bindingProofs = await NextIDProof.queryProfilesByAddress(address)\n\n        if (bindingProofs?.length > 0) {\n            return [\n                {\n                    type: SearchResultType.EOA,\n                    pluginID: NetworkPluginID.PLUGIN_EVM,\n                    chainId: chainId as ChainId,\n                    keyword: address,\n                    bindingProofs,\n                    address,\n                },\n            ]\n        }\n\n        return EMPTY_LIST\n    }\n\n    private async searchTokens() {\n        const specificTokens = (\n            await Promise.allSettled([\n                fetchFromDSearch<Array<FungibleTokenResult<ChainId, SchemaType>>>(\n                    urlcat(DSEARCH_BASE_URL, '/fungible-tokens/specific-list.json'),\n                    { mode: 'cors' },\n                ),\n                fetchFromDSearch<Array<NonFungibleTokenResult<ChainId, SchemaType>>>(\n                    urlcat(DSEARCH_BASE_URL, '/non-fungible-tokens/specific-list.json'),\n                    { mode: 'cors' },\n                ),\n                fetchFromDSearch<Array<NonFungibleCollectionResult<ChainId, SchemaType>>>(\n                    urlcat(DSEARCH_BASE_URL, '/non-fungible-collections/specific-list.json'),\n                    { mode: 'cors' },\n                ),\n            ])\n        ).flatMap(\n            (v) =>\n                (v.status === 'fulfilled' && v.value ? v.value : []) as Array<\n                    | FungibleTokenResult<ChainId, SchemaType>\n                    | NonFungibleTokenResult<ChainId, SchemaType>\n                    | NonFungibleCollectionResult<ChainId, SchemaType>\n                >,\n        )\n\n        const normalTokens = (\n            await Promise.allSettled([\n                this.NFTScanClient.get(),\n                this.CoinGeckoClient.get(),\n                this.CoinMarketCapClient.get(),\n            ])\n        ).flatMap(\n            (v) =>\n                (v.status === 'fulfilled' && v.value ? v.value : []) as Array<\n                    | FungibleTokenResult<ChainId, SchemaType>\n                    | NonFungibleTokenResult<ChainId, SchemaType>\n                    | NonFungibleCollectionResult<ChainId, SchemaType>\n                >,\n        )\n\n        return {\n            specificTokens,\n            normalTokens,\n        }\n    }\n\n    private async searchTokenByAddress(address: string): Promise<Array<SearchResult<ChainId, SchemaType>>> {\n        const { specificTokens, normalTokens } = await this.searchTokens()\n\n        const specificTokensFiltered = specificTokens\n            .filter(\n                (x) =>\n                    isSameAddress(address, x.address) &&\n                    (x.type === SearchResultType.FungibleToken ||\n                        x.type === SearchResultType.NonFungibleToken ||\n                        x.type === SearchResultType.CollectionListByTwitterHandler),\n            )\n            .sort((a, b) => (a.rank ?? 0) - (b.rank ?? 0))\n\n        const normalTokensFiltered = normalTokens\n            .filter(\n                (x) =>\n                    isSameAddress(address, x.address) &&\n                    (x.type === SearchResultType.FungibleToken ||\n                        x.type === SearchResultType.NonFungibleToken ||\n                        x.type === SearchResultType.CollectionListByTwitterHandler),\n            )\n            .sort((a, b) => (a.rank ?? 0) - (b.rank ?? 0))\n\n        if (specificTokensFiltered.length > 0) return [specificTokensFiltered[0]]\n\n        if (normalTokensFiltered.length > 0) return [normalTokensFiltered[0]]\n\n        const coinInfo = await CoinGeckoTrending.getCoinInfoByAddress(address)\n\n        if (coinInfo?.id) {\n            return [\n                {\n                    type: SearchResultType.FungibleToken,\n                    pluginID: NetworkPluginID.PLUGIN_EVM,\n                    chainId: coinInfo.chainId as ChainId,\n                    id: coinInfo.id,\n                    source: SourceType.CoinGecko,\n                    name: coinInfo.name,\n                    // FIXME: symbol is missing\n                    symbol: coinInfo.name,\n                    keyword: address,\n                },\n            ]\n        }\n        return EMPTY_LIST\n    }\n\n    private async searchTokenByHandler(\n        tokens: Array<\n            | FungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleCollectionResult<ChainId, SchemaType>\n        >,\n        name: string,\n    ): Promise<\n        Array<\n            | FungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleCollectionResult<ChainId, SchemaType>\n        >\n    > {\n        let result: Array<\n            | FungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleCollectionResult<ChainId, SchemaType>\n        > = []\n\n        if (name.length < 6) {\n            const lowerName = name.toLowerCase()\n            result = tokens.filter(\n                (t) =>\n                    t.symbol?.toLowerCase() === lowerName ||\n                    (name.length > 3 && t.name?.toLowerCase().startsWith(lowerName) && t.rank && t.rank <= 20) ||\n                    t.alias?.map((x) => x.value.toLowerCase()).includes(lowerName),\n            )\n        }\n\n        if (!result.length) {\n            for (const { rules, types } of getHandlers<ChainId, SchemaType>()) {\n                for (const rule of rules) {\n                    if (!['token', 'twitter'].includes(rule.key)) continue\n\n                    const filtered = tokens.filter((x) => (types ? types.includes(x.type) : true))\n                    if (rule.type === 'exact') {\n                        const item = filtered.find((x) => rule.filter?.(x, name, filtered))\n                        if (item) result = [...result, { ...item, keyword: name }]\n                    }\n                    if (rule.type === 'fuzzy' && rule.fullSearch) {\n                        const items = rule\n                            .fullSearch<\n                                | FungibleTokenResult<ChainId, SchemaType>\n                                | NonFungibleTokenResult<ChainId, SchemaType>\n                                | NonFungibleCollectionResult<ChainId, SchemaType>\n                            >(name, filtered)\n                            ?.map((x) => ({ ...x, keyword: name }))\n                        if (items?.length) result = [...result, ...items]\n                    }\n                }\n            }\n        }\n        return result.sort((a, b) => {\n            if (\n                (a.rank &&\n                    a.rank <= 200 &&\n                    a.type === SearchResultType.FungibleToken &&\n                    b.type !== SearchResultType.FungibleToken) ||\n                (a.source === SourceType.CoinGecko && b.source === SourceType.CoinMarketCap)\n            )\n                return -1\n\n            if (a.source === SourceType.CoinMarketCap && b.source === SourceType.CoinGecko) return 1\n\n            return (a.rank ?? 0) - (b.rank ?? 0)\n        })\n    }\n\n    private async searchTokenByName(name: string): Promise<Array<SearchResult<ChainId, SchemaType>>> {\n        const { specificTokens, normalTokens } = await this.searchTokens()\n        const specificResult_ = await this.searchTokenByHandler(\n            specificTokens.map((x) => ({ ...x, alias: x.alias?.filter((x) => !x.isPin) })),\n            name,\n        )\n        const normalResult = await this.searchTokenByHandler([...specificTokens, ...normalTokens], name)\n\n        const specificResult: Array<\n            | FungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleTokenResult<ChainId, SchemaType>\n            | NonFungibleCollectionResult<ChainId, SchemaType>\n        > = specificResult_.map((x) => {\n            const r = normalTokens.find((y) => isSameAddress(y.address, x.address) && x.chainId === y.chainId)\n            return { ...x, rank: r?.rank }\n        })\n\n        return uniqWith(specificResult.concat(normalResult), (a, b) => a.id === b.id)\n    }\n\n    private async searchCollectionListByTwitterHandler(\n        twitterHandler: string,\n    ): Promise<Array<SearchResult<ChainId, SchemaType>>> {\n        const collections = uniqWith(\n            (\n                await Promise.allSettled([\n                    this.CoinGeckoClient.get(),\n                    this.CoinMarketCapClient.get(),\n                    this.NFTScanCollectionClient.get(),\n                ])\n            )\n                .flatMap(\n                    (v) =>\n                        (v.status === 'fulfilled' && v.value ? v.value : []) as Array<\n                            FungibleTokenResult<ChainId, SchemaType> | NonFungibleCollectionResult<ChainId, SchemaType>\n                        >,\n                )\n                .filter((x) => {\n                    const resultTwitterHandler =\n                        (x as NonFungibleCollectionResult<ChainId, SchemaType>).collection?.socialLinks?.twitter ||\n                        (x as FungibleTokenResult<ChainId, SchemaType>).socialLinks?.twitter\n                    return (\n                        resultTwitterHandler &&\n                        [twitterHandler.toLowerCase(), `https://twitter.com/${twitterHandler.toLowerCase()}`].includes(\n                            resultTwitterHandler.toLowerCase(),\n                        ) &&\n                        ((x.rank && x.rank <= 500) || x.id === 'mask-network')\n                    )\n                })\n                .sort((a, b) => {\n                    if (a.source === SourceType.CoinGecko && b.source === SourceType.CoinMarketCap) return -1\n                    if (a.source === SourceType.CoinMarketCap && b.source === SourceType.CoinGecko) return 1\n\n                    return (a.rank ?? 0) - (b.rank ?? 0)\n                }),\n            (a, b) => a.id === b.id,\n        )\n\n        if (!collections[0]) return EMPTY_LIST\n\n        return collections\n    }\n\n    /**\n     * The entry point of DSearch\n     * @param keyword\n     * @returns\n     */\n    async search<T extends SearchResult<ChainId, SchemaType> = SearchResult<ChainId, SchemaType>>(\n        keyword_: string,\n        type?: SearchResultType,\n    ): Promise<T[]> {\n        const keyword = keyword_.toLowerCase()\n        // filter out 'domain/xxx' or string ends with punctuation marks like 'eth.'\n        if (keyword.replace(/([#$])?([\\s\\w+.])+/, '').length > 0 || !new RegExp(/(\\w)+/).test(keyword.at(-1)!))\n            return EMPTY_LIST\n        // #MASK or $MASK or MASK\n        const [_, name = ''] = keyword.match(/(\\w+)/) ?? []\n\n        // BoredApeYC or CryptoPunks nft twitter project\n        if (type === SearchResultType.CollectionListByTwitterHandler)\n            return this.searchCollectionListByTwitterHandler(keyword) as Promise<T[]>\n\n        // token:MASK\n        const { word, field } = this.parseKeyword(keyword)\n        if (word && ['token', 'twitter'].includes(field ?? '')) return this.searchTokenByName(word) as Promise<T[]>\n\n        // vitalik.lens, vitalik.bit, etc. including ENS BNB\n        // Can't get .bit domain via RSS3 profile API.\n        if (isValidHandle(keyword) && !keyword.endsWith('.bit')) {\n            if (keyword.endsWith('.eth')) Telemetry.captureEvent(EventType.Access, EventID.EntryTimelineDsearchEns)\n            else Telemetry.captureEvent(EventType.Access, EventID.EntryTimelineDsearchName)\n            return this.searchRSS3Handle(keyword) as Promise<T[]>\n        }\n        if (keyword.endsWith('.bit')) {\n            Telemetry.captureEvent(EventType.Access, EventID.EntryTimelineDsearchName)\n            return this.searchRSS3NameService(keyword) as Promise<T[]>\n        }\n        // vitalik.eth\n        if (isValidDomain(keyword)) return this.searchDomain(keyword) as Promise<T[]>\n\n        // 0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045\n        if (isValidAddress?.(keyword) && !isZeroAddress?.(keyword)) {\n            const tokenList = await this.searchTokenByAddress(keyword)\n            if (tokenList.length) return tokenList as T[]\n\n            Telemetry.captureEvent(EventType.Access, EventID.EntryTimelineDsearchAddress)\n            const addressList = await this.searchAddress(keyword)\n            if (addressList.length) return addressList as T[]\n        }\n\n        if (name) return this.searchTokenByName(name) as Promise<T[]>\n        return EMPTY_LIST\n    }\n}\n","import urlcat from 'urlcat'\nimport { compact, last, uniq } from 'lodash-es'\nimport { createPageable, createIndicator, type Pageable, createNextIndicator, EMPTY_LIST } from '@masknet/shared-base'\nimport { type Transaction } from '@masknet/web3-shared-base'\nimport { ChainId, getDeBankConstants, type SchemaType } from '@masknet/web3-shared-evm'\nimport { formatTransactions, resolveDeBankAssetIdReversed } from '../helpers.js'\nimport type { HistoryRecord } from '../types.js'\nimport { CHIAN_ID_TO_DEBANK_CHAIN_MAP, DEBANK_OPEN_API } from '../constants.js'\nimport { fetchSquashedJSON } from '../../helpers/fetchJSON.js'\nimport type { HistoryAPI, HubOptions_Base } from '../../entry-types.js'\nimport { Web3StateRef } from '../../Web3/EVM/apis/Web3StateAPI.js'\n\nconst PRESET_CHAIN_IDS = 'eth,aurora,bsc,matic,pls,ftm,op,klay,nova,celo,astar,boba'.split(',')\nclass DeBankHistoryAPI implements HistoryAPI.Provider<ChainId, SchemaType> {\n    // Collect from https://docs.cloud.debank.com/en/readme/api-pro-reference/chain#returns-1\n    private getChainIds() {\n        const networks = Web3StateRef.value.Network?.networks?.getCurrentValue()\n        // Fallback to commonly used chains\n        if (!networks) return PRESET_CHAIN_IDS\n        const RUNTIME_CHAIN_IDS = networks.map((x) => CHIAN_ID_TO_DEBANK_CHAIN_MAP[x.chainId])\n        return compact(uniq([...RUNTIME_CHAIN_IDS, PRESET_CHAIN_IDS])).join(',')\n    }\n    async getTransactions(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<Transaction<ChainId, SchemaType>>> {\n        const { CHAIN_ID = '' } = getDeBankConstants(chainId)\n        if (!CHAIN_ID) return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const result = await fetchSquashedJSON<HistoryRecord>(\n            urlcat(DEBANK_OPEN_API, '/v1/user/history_list', {\n                id: address.toLowerCase(),\n                chain_id: resolveDeBankAssetIdReversed(CHAIN_ID),\n                page_count: size,\n                start_time: indicator?.id,\n            }),\n        )\n        const transactions = formatTransactions(result, address)\n        const timeStamp = last(result.history_list)?.time_at\n        return createPageable(\n            transactions,\n            createIndicator(indicator),\n            transactions.length > 0 ? createNextIndicator(indicator, timeStamp?.toString()) : undefined,\n        )\n    }\n\n    async getAllTransactions(\n        address: string,\n        { indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<Transaction<ChainId, SchemaType>>> {\n        const result = await fetchSquashedJSON<HistoryRecord>(\n            urlcat(DEBANK_OPEN_API, '/v1/user/all_history_list', {\n                id: address.toLowerCase(),\n                page_count: size,\n                start_time: indicator?.id,\n                chain_ids: this.getChainIds(),\n            }),\n        )\n        const transactions = formatTransactions(result, address)\n        const timeStamp = last(result.history_list)?.time_at\n        return createPageable(\n            transactions,\n            createIndicator(indicator),\n            transactions.length > 0 ? createNextIndicator(indicator, timeStamp?.toString()) : undefined,\n        )\n    }\n}\nexport const DeBankHistory = new DeBankHistoryAPI()\n","import { ChainId } from '@masknet/web3-shared-evm'\nimport type { DebankChains } from './types.js'\n\nexport const DEBANK_OPEN_API = 'https://debank-proxy.r2d2.to'\n\n/**\n * Collect from https://docs.cloud.debank.com/en/readme/api-pro-reference/chain#returns-1\n * but they might not list all, for example, missing 369:pls\n */\nexport const DEBANK_CHAIN_TO_CHAIN_ID_MAP: Record<DebankChains, ChainId | number> = {\n    arb: ChainId.Arbitrum,\n    astar: ChainId.Astar,\n    aurora: ChainId.Aurora,\n    avax: ChainId.Avalanche,\n    boba: ChainId.Boba,\n    brise: ChainId.Brise,\n    bsc: ChainId.BSC,\n    btt: ChainId.BitTorrent,\n    canto: ChainId.Canto,\n    celo: ChainId.Celo,\n    cfx: ChainId.Conflux,\n    cro: ChainId.Cronos,\n    dfk: ChainId.DFK,\n    doge: ChainId.Doge,\n    eth: ChainId.Mainnet,\n    evmos: ChainId.Evmos,\n    ftm: ChainId.Fantom,\n    fuse: ChainId.Fuse,\n    heco: ChainId.HuobiEco,\n    hmy: ChainId.Harmony,\n    iotx: ChainId.IoTex,\n    kava: ChainId.Kava,\n    kcc: ChainId.Kcc,\n    klay: ChainId.Klaytn,\n    mada: ChainId.Milkomeda,\n    matic: ChainId.Matic,\n    metis: ChainId.Metis,\n    mobm: ChainId.Moonbeam,\n    movr: ChainId.Moonriver,\n    nova: ChainId.Arbitrum_Nova,\n    okt: ChainId.OKXChain,\n    op: ChainId.Optimism,\n    palm: ChainId.Palm,\n    pls: ChainId.Pulse,\n    rsk: ChainId.RSK,\n    sbch: ChainId.SmartBitcoinCash,\n    sdn: ChainId.Shiden,\n    sgb: ChainId.SongbirdCanary,\n    step: ChainId.Step,\n    swm: 73772,\n    tlos: ChainId.Telos,\n    wan: ChainId.Wanchain,\n    xdai: ChainId.xDai,\n    base: ChainId.Base,\n    scrl: ChainId.Scroll,\n}\n\n/**\n * Collect from https://docs.cloud.debank.com/en/readme/api-pro-reference/chain#returns-1\n * but they might not list all, for example, missing 369:pls\n *\n * Rabby use this map as well.\n */\nexport const CHIAN_ID_TO_DEBANK_CHAIN_MAP: Record<number, DebankChains> = {\n    1: 'eth',\n    10: 'op',\n    19: 'sgb',\n    25: 'cro',\n    30: 'rsk',\n    40: 'tlos',\n    56: 'bsc',\n    66: 'okt',\n    100: 'xdai',\n    122: 'fuse',\n    128: 'heco',\n    137: 'matic',\n    199: 'btt',\n    250: 'ftm',\n    288: 'boba',\n    321: 'kcc',\n    336: 'sdn',\n    369: 'pls',\n    592: 'astar',\n    888: 'wan',\n    1030: 'cfx',\n    1088: 'metis',\n    1234: 'step',\n    1284: 'mobm',\n    1285: 'movr',\n    2000: 'doge',\n    2001: 'mada',\n    2222: 'kava',\n    4689: 'iotx',\n    7700: 'canto',\n    8217: 'klay',\n    8453: 'base',\n    9001: 'evmos',\n    10000: 'sbch',\n    32520: 'brise',\n    42161: 'arb',\n    42170: 'nova',\n    42220: 'celo',\n    43114: 'avax',\n    53935: 'dfk',\n    534352: 'scrl',\n    73772: 'swm',\n    1313161554: 'aurora',\n    1666600000: 'hmy',\n    11297108109: 'palm',\n}\n","import { compact, isNil, memoize } from 'lodash-es'\nimport {\n    type ChainId,\n    formatEthereumAddress,\n    isNativeTokenAddress,\n    SchemaType,\n    ZERO_ADDRESS,\n    isValidAddress,\n} from '@masknet/web3-shared-evm'\nimport {\n    CurrencyType,\n    type FungibleAsset,\n    multipliedBy,\n    rightShift,\n    toFixed,\n    TokenType,\n    type Transaction,\n    isSameAddress,\n    TransactionStatusType,\n} from '@masknet/web3-shared-base'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport {\n    DebankTransactionDirection,\n    type HistoryResponse,\n    type TransferringAsset,\n    type WalletTokenRecord,\n} from './types.js'\nimport { DEBANK_CHAIN_TO_CHAIN_ID_MAP } from './constants.js'\n\nexport function formatAssets(data: WalletTokenRecord[]): Array<FungibleAsset<ChainId, SchemaType>> {\n    const resolveNativeAddress = memoize((chainId: ChainId) => {\n        try {\n            // chainId is beyond builtin chainIds\n            return ChainResolver.nativeCurrency(chainId)?.address || ZERO_ADDRESS\n        } catch {\n            return ZERO_ADDRESS\n        }\n    })\n\n    return data\n        .filter((x) => DEBANK_CHAIN_TO_CHAIN_ID_MAP[x.chain])\n        .map((x) => {\n            const chainId = DEBANK_CHAIN_TO_CHAIN_ID_MAP[x.chain]\n            const address = x.id in DEBANK_CHAIN_TO_CHAIN_ID_MAP ? resolveNativeAddress(chainId) : x.id\n\n            return {\n                id: x.id,\n                address: formatEthereumAddress(address),\n                chainId,\n                type: TokenType.Fungible,\n                schema: isNativeTokenAddress(address) ? SchemaType.Native : SchemaType.ERC20,\n                decimals: x.decimals,\n                name: x.name.replace('(PoS)', ''),\n                symbol: x.symbol,\n                balance: rightShift(x.amount, x.decimals).toFixed(),\n                price: {\n                    [CurrencyType.USD]: toFixed(x.price),\n                },\n                value: {\n                    [CurrencyType.USD]: multipliedBy(x.price ?? 0, x.amount).toFixed(),\n                },\n                logoURL: x.logo_url,\n            }\n        })\n}\n\nfunction toTxAsset(\n    { token_id, amount }: TransferringAsset,\n    chainId: ChainId,\n    token_dict: HistoryResponse['data']['token_dict'],\n    direction: DebankTransactionDirection,\n) {\n    const token = token_dict[token_id]\n    // token_dict might not contain value to current token_id\n    if (!token) return null\n    const schema = token.decimals\n        ? isValidAddress(token.id) // for native token, token.id is symbol. e.g `matic` for Matic\n            ? SchemaType.ERC20\n            : SchemaType.Native\n        : token.is_erc721\n        ? SchemaType.ERC721\n        : SchemaType.ERC1155\n\n    if (process.env.NODE_ENV === 'development') {\n        console.assert(token, `[Debank] no matching token in token_dict with token_id ${token_id}`)\n    }\n    const fallbackName = token.is_erc1155 || token.is_erc721 ? 'Unknown NFT' : 'Unknown Token'\n    return {\n        id: token_id,\n        chainId,\n        type: token.decimals ? TokenType.Fungible : TokenType.NonFungible,\n        schema,\n        name: token.name || token.collection?.name || fallbackName,\n        symbol: token.optimized_symbol || token.collection?.name || fallbackName,\n        address: token.decimals ? token_id : token.contract_id,\n        decimals: token.decimals || 1,\n        direction,\n        amount: amount?.toString(),\n        logoURI: token.logo_url,\n    }\n}\n\n/** 0: failed 1: succeed */\nfunction normalizeTxStatus(status: 0 | 1): TransactionStatusType {\n    const map = {\n        0: TransactionStatusType.FAILED,\n        1: TransactionStatusType.SUCCEED,\n    }\n    return map[status]\n}\n\nexport function formatTransactions(\n    { cate_dict, history_list, token_dict }: HistoryResponse['data'],\n    ownerAddress: string,\n): Array<Transaction<ChainId, SchemaType>> {\n    const transactions = history_list.map((transaction): Transaction<ChainId, SchemaType> | undefined => {\n        let txType = transaction.tx?.name\n        if (!txType && !isNil(transaction.cate_id)) {\n            txType = cate_dict[transaction.cate_id].name\n        } else if (txType === '') {\n            txType = 'contract interaction'\n        }\n\n        const chainId = DEBANK_CHAIN_TO_CHAIN_ID_MAP[transaction.chain]\n        if (!chainId) return\n\n        if (isSameAddress(transaction.sends[0]?.to_addr, ZERO_ADDRESS)) {\n            txType = 'burn'\n        }\n        const isIn = transaction.cate_id === 'receive'\n        const from = transaction.tx?.from_addr ?? (isIn ? transaction.other_addr : '')\n        const to = isIn ? ownerAddress : transaction.other_addr\n        const { SEND, RECEIVE } = DebankTransactionDirection\n        return {\n            id: transaction.id,\n            chainId,\n            type: txType,\n            cateType: transaction.cate_id,\n            cateName: transaction.cate_id\n                ? cate_dict[transaction.cate_id].name\n                : transaction.tx?.name || 'Contract Interaction',\n            timestamp: transaction.time_at * 1000,\n            from,\n            to,\n            status: normalizeTxStatus(transaction.tx?.status!),\n            assets: compact([\n                ...transaction.sends.map((asset) => toTxAsset(asset, chainId, token_dict, SEND)),\n                ...transaction.receives.map((asset) => toTxAsset(asset, chainId, token_dict, RECEIVE)),\n            ]),\n            fee: transaction.tx\n                ? { eth: transaction.tx.eth_gas_fee?.toString(), usd: transaction.tx.usd_gas_fee?.toString() }\n                : undefined,\n            isScam: transaction.is_scam,\n        }\n    })\n    return compact(transactions)\n}\n\nexport function resolveDeBankAssetIdReversed(id: string) {\n    if (id === 'bnb') return 'bsc'\n    if (id === 'Conflux') return 'cfx'\n    return id\n}\n","export enum DebankTransactionDirection {\n    SEND = 'send',\n    RECEIVE = 'receive',\n}\n\n/**\n * Collect from https://docs.cloud.debank.com/en/readme/api-pro-reference/chain#returns-1\n */\nexport type DebankChains =\n    | 'base'\n    | 'eth'\n    | 'arb'\n    | 'astar'\n    | 'aurora'\n    | 'avax'\n    | 'boba'\n    | 'brise'\n    | 'bsc'\n    | 'btt'\n    | 'canto'\n    | 'celo'\n    | 'cfx'\n    | 'cro'\n    | 'dfk'\n    | 'doge'\n    | 'evmos'\n    | 'ftm'\n    | 'fuse'\n    | 'heco'\n    | 'hmy'\n    | 'iotx'\n    | 'kava'\n    | 'kcc'\n    | 'klay'\n    | 'mada'\n    | 'matic'\n    | 'metis'\n    | 'mobm'\n    | 'movr'\n    | 'nova'\n    | 'okt'\n    | 'op'\n    | 'palm'\n    | 'pls'\n    | 'rsk'\n    | 'sbch'\n    | 'sdn'\n    | 'sgb'\n    | 'step'\n    | 'swm'\n    | 'tlos'\n    | 'wan'\n    | 'xdai'\n    | 'scrl'\n\nexport interface DictItem {\n    name: string\n    id: string\n    cn: string\n    en: string\n}\n\nexport interface ProjectItem {\n    id: string\n    log_url: string\n    name: Omit<DictItem, 'id'>\n}\n\nexport interface TokenItem {\n    decimals: number\n    display_symbol?: string\n    id: string\n    is_core: boolean\n    is_swap_common?: boolean\n    is_swap_hot?: boolean\n    is_verified: boolean\n    logo_url: string\n    name: string\n    optimized_symbol: string\n    price: number\n    symbol: string\n    time_at: number\n    contract_id: string\n    /** Only NFT */\n    is_erc721: boolean\n    /** Only NFT */\n    is_erc1155: boolean\n    collection?: {\n        chain: DebankChains\n        credit_score: number\n        description: string | null\n        floor_price: number\n        /** e.g. 'matic:0x813de35e46a7d3a6ea1df82414dfadd5b283d9a9' */\n        id: string\n        is_core: boolean\n        is_scam: boolean\n        is_suspicious: boolean\n        is_verified: boolean\n        logo_url: string\n        name: string\n    }\n}\n\nexport interface HistoryItem {\n    cate_id: keyof HistoryResponse['data']['cate_dict']\n    debt_liquidated: null\n    id: string\n    chain: DebankChains\n    other_addr: string\n    project_id?: string\n    receives: TransferringAsset[]\n    sends: TransferringAsset[]\n    spot_trade?: SpotTrade\n    time_at: number\n    token_approve?: TokenApprove\n    tx?: Record\n    is_scam: boolean\n}\n\nexport interface TransferringAsset {\n    amount: number\n    to_addr: string\n    token_id: string\n}\n\nexport interface SpotTrade {\n    dex_id: string\n    pay_token_amount: number\n    pay_token_id: string\n    receive_token_amount: number\n    receive_token_id: string\n}\n\nexport interface TokenApprove {\n    spender: string\n    token_id: string\n    value: number\n}\n\nexport interface Record {\n    eth_gas_fee?: number\n    from_addr: string\n    name: string\n    // Note: this is JSON string\n    params: string\n    // Note: 0 - failed, 1 - succeed\n    status: 0 | 1\n    to_addr: string\n    usd_gas_fee?: number\n    value: number\n}\n\nexport interface HistoryRecord {\n    cate_dict: {\n        approve: DictItem\n        receive: DictItem\n        send: DictItem\n        spot_trade: DictItem\n    }\n    history_list: HistoryItem[]\n    project_dict: {\n        [key in string]: ProjectItem\n    }\n    token_dict: {\n        [key in string | 'eth']: TokenItem\n    }\n}\n\nexport interface BalanceRecord {\n    balance: number\n    chain: DebankChains\n    decimals: number\n    display_symbol: null\n    id: LiteralUnion<'eth'>\n    is_core: boolean\n    is_swap_common: boolean\n    is_swap_hot: null\n    is_verified: boolean\n    logo_url: string\n    name: string\n    optimized_symbol: string\n    price: number\n    symbol: string\n    time_at: null\n}\n\nexport interface WalletTokenRecord {\n    /** Could be chain or token address */\n    id: LiteralUnion<DebankChains, string>\n    amount: string\n    is_wallet: boolean\n    protocol_id: string\n    chain: DebankChains\n    decimals: number\n    display_symbol: null\n    is_core: boolean\n    is_verified: boolean\n    logo_url: string\n    name: string\n    optimized_symbol: string\n    price: number\n    symbol: string\n    time_at: null\n}\n\nexport interface HistoryResponse {\n    data: HistoryRecord\n    error_code: number\n    _cache_seconds: number\n    _seconds: number\n}\n\nexport interface BalanceListResponse {\n    data?: BalanceRecord[]\n    error_code: number\n    _cache_seconds: number\n    _seconds: number\n}\n\nexport interface GasPriceRecord {\n    estimated_seconds: number\n    front_tx_count: number\n    price: number\n}\n\n/**\n * Legacy gas response\n */\nexport interface GasPriceDictResponse {\n    data: {\n        fast: GasPriceRecord\n        normal: GasPriceRecord\n        slow: GasPriceRecord\n        update_at: number\n    }\n    error_code: number\n    _seconds: number\n}\n\nexport type GasPriceResponse = [\n    {\n        level: 'slow'\n        front_tx_count: number\n        price: number\n        estimated_seconds: number\n    },\n    {\n        level: 'normal'\n        front_tx_count: number\n        price: number\n        estimated_seconds: number\n    },\n    {\n        level: 'fast'\n        front_tx_count: number\n        price: number\n        estimated_seconds: number\n    },\n]\n","export const ENS_ROOT_URL = 'https://ens-reverse-lookup.r2d2.to/ens/'\n","import urlcat from 'urlcat'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { ENS_ROOT_URL } from '../constants.js'\nimport type { DomainAPI } from '../../entry-types.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\n\nclass R2D2DomainAPI implements DomainAPI.Provider<ChainId> {\n    lookup(chainId: ChainId, name: string): Promise<string | undefined> {\n        throw new Error('Method not implemented.')\n    }\n\n    async reverse(chainId: ChainId, address: string): Promise<string | undefined> {\n        const response = await fetchJSON<{ reverseRecord: string; domains: string[] }>(urlcat(ENS_ROOT_URL, address))\n        return response?.reverseRecord\n    }\n}\nexport const R2D2Domain = new R2D2DomainAPI()\n","import { first } from 'lodash-es'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { API_URL } from '../constants.js'\nimport type { DomainAPI } from '../../entry-types.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\n\nclass TheGraphDomainAPI implements DomainAPI.Provider<ChainId> {\n    async lookup(chainId: ChainId, name: string): Promise<string | undefined> {\n        const response = await fetchJSON<{\n            data: {\n                domains: Array<{\n                    name: string\n                    labelName: string\n                    resolvedAddress: {\n                        id: string\n                    }\n                }>\n            }\n        }>(API_URL, {\n            method: 'POST',\n            body: JSON.stringify({\n                query: `{\n                    domains(where: { name: \"${name}\" }) {\n                        name\n                        labelName\n                        resolvedAddress {\n                          id\n                        }\n                    }\n                  }`,\n            }),\n        })\n\n        return first(response.data.domains)?.resolvedAddress?.id\n    }\n    async reverse(chainId: ChainId, address: string): Promise<string | undefined> {\n        const response = await fetchJSON<{\n            data: {\n                domains: Array<{\n                    name: string\n                    labelName: string\n                }>\n            }\n        }>(API_URL, {\n            method: 'POST',\n            body: JSON.stringify({\n                query: `{\n                    domains(where: { owner: \"${address}\", resolvedAddress: \"${address}\" }, orderBy: createdAt) {\n                      name\n                      labelName\n                    }\n                  }`,\n            }),\n        })\n\n        return first(response.data.domains)?.name\n    }\n}\nexport const TheGraphDomain = new TheGraphDomainAPI()\n","import { ChainId } from '@masknet/web3-shared-evm'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport { NameServiceID } from '@masknet/shared-base'\nimport { ChainbaseDomain } from '../Chainbase/index.js'\nimport { R2D2Domain } from '../R2D2/index.js'\nimport { TheGraphDomain } from '../TheGraph/index.js'\nimport type { NameServiceAPI } from '../entry-types.js'\n\nclass ENS_API implements NameServiceAPI.Provider {\n    readonly id = NameServiceID.ENS\n\n    async lookup(name: string) {\n        return attemptUntil(\n            [ChainbaseDomain, R2D2Domain, TheGraphDomain].map((x) => () => x.lookup(ChainId.Mainnet, name)),\n            undefined,\n        )\n    }\n\n    async reverse(address: string) {\n        return attemptUntil(\n            [ChainbaseDomain, R2D2Domain, TheGraphDomain].map((x) => () => x.reverse(ChainId.Mainnet, address)),\n            undefined,\n        )\n    }\n}\nexport const ENS = new ENS_API()\n","import urlcat from 'urlcat'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\nimport type { FireflyBaseAPI } from '../entry-types.js'\n\nconst BASE_URL = 'https://api.dimension.im/v1'\nconst TWITTER_HANDLER_VERIFY_URL = 'https://twitter-handler-proxy.r2d2.to'\nexport class Firefly {\n    static async getLensByTwitterId(twitterHandle?: string, isVerified = true): Promise<FireflyBaseAPI.LensAccount[]> {\n        if (!twitterHandle) return EMPTY_LIST\n        const result = await fetchJSON<FireflyBaseAPI.LensResult>(\n            urlcat(BASE_URL, '/account/lens', {\n                twitterHandle,\n                isVerified,\n            }),\n        )\n        if (result.code !== 200) return EMPTY_LIST\n        return result.data\n    }\n    static async verifyTwitterHandleByAddress(address: string, handle?: string): Promise<boolean> {\n        if (!handle || !address) return false\n        const response = await fetchJSON<FireflyBaseAPI.VerifyTwitterResult>(\n            urlcat(TWITTER_HANDLER_VERIFY_URL, '/v1/relation/handles', {\n                wallet: address.toLowerCase(),\n                isVerified: true,\n            }),\n        )\n\n        if ('error' in response) return false\n\n        return response.data.includes(handle)\n    }\n}\n","import FuseLib from 'fuse.js'\n\nexport class Fuse {\n    static create<T>(items: T[], options?: FuseLib.IFuseOptions<T>, index?: FuseLib.FuseIndex<T>) {\n        return new FuseLib(items, options, index)\n    }\n}\n","import Fuse from 'fuse.js'\nimport type { TrendingAPI } from '../../entry-types.js'\n\nexport class FuseCoin {\n    static create<T = TrendingAPI.Coin>(items: T[]) {\n        return new Fuse(items, {\n            keys: [\n                { name: 'name', weight: 0.8 },\n                { name: 'symbol', weight: 0.3 },\n            ],\n            isCaseSensitive: false,\n            ignoreLocation: true,\n            shouldSort: true,\n            threshold: 0,\n            minMatchCharLength: 3,\n        })\n    }\n}\n","export const GO_PLUS_LABS_ROOT_URL = 'https://gopluslabs.r2d2.to'\n\nexport const INFINITE_VALUE = 10000000000000\n","export const LENS_ROOT_API = 'https://api.lens.dev/'\n","import { NameServiceID } from '@masknet/shared-base'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { isValidAddress } from '@masknet/web3-shared-evm'\nimport { first } from 'lodash-es'\nimport type { FollowModuleTypedData, LensBaseAPI } from '../entry-types.js'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\nimport { LENS_ROOT_API } from './constants.js'\n\nexport class Lens {\n    static readonly id = NameServiceID.Lens\n    static async getProfileByHandle(handle: string): Promise<LensBaseAPI.Profile> {\n        const { data } = await fetchJSON<{ data: { profile: LensBaseAPI.Profile } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: /* GraphQL */ `\n                    query Profile($handle: Handle) {\n                        profile(request: { handle: $handle }) {\n                            id\n                            handle\n                            ownedBy\n                            name\n                            picture {\n                                ... on MediaSet {\n                                    original {\n                                        url\n                                    }\n                                }\n                            }\n                            stats {\n                                totalFollowers\n                                totalFollowing\n                            }\n                            followModule {\n                                ... on FeeFollowModuleSettings {\n                                    type\n                                    contractAddress\n                                    amount {\n                                        asset {\n                                            name\n                                            symbol\n                                            decimals\n                                            address\n                                        }\n                                        value\n                                    }\n                                    recipient\n                                }\n                                ... on ProfileFollowModuleSettings {\n                                    type\n                                }\n                                ... on RevertFollowModuleSettings {\n                                    type\n                                }\n                            }\n                        }\n                    }\n                `,\n                variables: { handle },\n            }),\n        })\n        return data.profile\n    }\n\n    static async queryDefaultProfileByAddress(address: string) {\n        if (!isValidAddress(address)) return\n        const { data } = await fetchJSON<{ data: { defaultProfile?: LensBaseAPI.Profile } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: `query DefaultProfile {\n                  defaultProfile(request: { ethereumAddress: \"${address}\"}) {\n                    id\n                    name\n                    ownedBy\n                    handle\n                    picture {\n                      ... on MediaSet {\n                        original {\n                          url\n                          mimeType\n                        }\n                      }\n                    }\n                    stats {\n                      totalFollowers\n                      totalFollowing\n                    }\n                    followModule {\n                      ... on FeeFollowModuleSettings {\n                        type\n                        contractAddress\n                        amount {\n                          asset {\n                            name\n                            symbol\n                            decimals\n                            address\n                          }\n                          value\n                        }\n                        recipient\n                      }\n                      ... on ProfileFollowModuleSettings {\n                       type\n                      }\n                      ... on RevertFollowModuleSettings {\n                       type\n                      }\n                    }\n                  }\n                }`,\n            }),\n        })\n        return data.defaultProfile\n    }\n    static async reverse(address: string) {\n        if (!isValidAddress(address)) return\n        type Response = { data: { defaultProfile?: Pick<LensBaseAPI.Profile, 'id' | 'name' | 'handle'> } }\n        const { data } = await fetchJSON<Response>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: /* GraphQL */ `\n                    query handleOfDefaultProfile($address: EthereumAddress!) {\n                        defaultProfile(request: { ethereumAddress: $address }) {\n                            id\n                            name\n                            handle\n                        }\n                    }\n                `,\n                variables: { address },\n            }),\n        })\n        return data.defaultProfile?.handle\n    }\n\n    static async queryProfilesByAddress(address: string) {\n        if (!isValidAddress(address)) return []\n        const { data } = await fetchJSON<{ data: { profiles: { items: LensBaseAPI.Profile[] } } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: `query Profiles {\n                profiles(request: { ownedBy: [\"${address}\"], limit: 10 }) {\n                  items {\n                    id\n                    name\n                    picture {\n                      ... on MediaSet {\n                        original {\n                          url\n                          mimeType\n                        }\n                      }\n                    }\n                    handle\n                    ownedBy\n                    stats {\n                      totalFollowers\n                      totalFollowing\n\n                    }\n                    followModule {\n                      ... on FeeFollowModuleSettings {\n                        type\n                        amount {\n                          asset {\n                            symbol\n                            name\n                            decimals\n                            address\n                          }\n                          value\n                        }\n                        recipient\n                      }\n                      ... on ProfileFollowModuleSettings {\n                       type\n                      }\n                      ... on RevertFollowModuleSettings {\n                       type\n                      }\n                    }\n                  }\n                }\n              }`,\n            }),\n        })\n\n        return data.profiles.items\n    }\n\n    static async queryFollowStatus(address: string, profileId: string) {\n        if (!isValidAddress(address) || !profileId) return false\n\n        const { data } = await fetchJSON<{ data: { doesFollow: LensBaseAPI.DoesFollow[] } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: `query DoesFollow {\n                    doesFollow(request: {\n                      followInfos: [\n                        {\n                          followerAddress: \"${address}\",\n                          profileId: \"${profileId}\"\n                        }\n                      ]\n                }) {\n                  followerAddress\n                  profileId\n                  follows\n                }\n              }`,\n            }),\n        })\n\n        if (!data.doesFollow.length) return false\n\n        const result: LensBaseAPI.DoesFollow | undefined = data.doesFollow.find((x) =>\n            isSameAddress(x.followerAddress, address),\n        )\n\n        return result?.follows\n    }\n\n    static async queryChallenge(address: string) {\n        if (!isValidAddress(address)) return ''\n        const { data } = await fetchJSON<{ data: { challenge: LensBaseAPI.Challenge } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: `query Challenge {\n                  challenge(request: { address: \"${address}\" }) {\n                    text\n                  }\n                }`,\n            }),\n        })\n\n        return data.challenge.text\n    }\n\n    static async authenticate(address: string, signature: string) {\n        if (!isValidAddress(address) || !signature) return\n        const { data } = await fetchJSON<{ data: { authenticate: LensBaseAPI.Authenticate } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: `mutation Authenticate {\n                  authenticate(\n                    request: {\n                      address: \"${address}\"\n                      signature: \"${signature}\"\n                    }\n                  ) {\n                    accessToken\n                    refreshToken\n                  }\n                }\n                `,\n            }),\n        })\n\n        return data.authenticate\n    }\n\n    static async refresh(refreshToken: string) {\n        if (!refreshToken) return\n        const { data } = await fetchJSON<{ data: { refresh: LensBaseAPI.Authenticate } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: `mutation Refresh {\n                  refresh(request: {\n                    refreshToken: \"${refreshToken}\"\n                  }) {\n                    accessToken\n                    refreshToken\n                  }\n                }\n              `,\n            }),\n        })\n\n        return data.refresh\n    }\n\n    static async createFollowTypedData(\n        profileId: string,\n        options: {\n            token: string\n            followModule?: FollowModuleTypedData\n        },\n    ) {\n        if (!profileId) return\n\n        let followModule = ''\n        if (options.followModule?.profileFollowModule) {\n            followModule = `followModule: { profileFollowModule: { profileId: \"${options.followModule.profileFollowModule.profileId}\" } }`\n        } else if (options.followModule?.feeFollowModule) {\n            followModule = `followModule: {\n              feeFollowModule: {\n                amount: {\n                   currency: \"${options.followModule.feeFollowModule.currency}\",\n                   value: \"${options.followModule.feeFollowModule.value}\"\n                }\n              }\n            }`\n        }\n        const { data } = await fetchJSON<{ data: { createFollowTypedData: LensBaseAPI.CreateFollowTypedData } }>(\n            LENS_ROOT_API,\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-access-token': options?.token ? `Bearer ${options.token}` : '',\n                },\n                body: JSON.stringify({\n                    query: `mutation CreateFollowTypedData {\n                      createFollowTypedData(\n                        request: { follow: [{ profile: \"${profileId}\", ${followModule} }] }\n                      ) {\n                        id\n                        expiresAt\n                        typedData {\n                          domain {\n                            name\n                            chainId\n                            version\n                            verifyingContract\n                          }\n                          types {\n                            FollowWithSig {\n                              name\n                              type\n                            }\n                          }\n                          value {\n                            nonce\n                            deadline\n                            profileIds\n                            datas\n                          }\n                        }\n                      }\n                    }\n                  `,\n                }),\n            },\n        )\n\n        return data.createFollowTypedData\n    }\n\n    static async createUnfollowTypedData(profileId: string, options: { token: string }) {\n        if (!profileId) return\n        const { data } = await fetchJSON<{ data: { createUnfollowTypedData: LensBaseAPI.CreateUnfollowTypedData } }>(\n            LENS_ROOT_API,\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-access-token': options?.token ? `Bearer ${options.token}` : '',\n                },\n                body: JSON.stringify({\n                    query: `mutation CreateUnfollowTypedData {\n                      createUnfollowTypedData(request:{\n                        profile: \"${profileId}\"\n                      }) {\n                        id\n                        expiresAt\n                        typedData {\n                          types {\n                            BurnWithSig {\n                              name\n                              type\n                            }\n                          }\n                          domain {\n                            version\n                            chainId\n                            name\n                            verifyingContract\n                          }\n                          value {\n                            nonce\n                            deadline\n                            tokenId\n                          }\n                        }\n                      }\n                    }\n                `,\n                }),\n            },\n        )\n\n        return data.createUnfollowTypedData\n    }\n\n    static async followWithProxyAction(profileId: string, options: { token: string }) {\n        if (!profileId) return\n        const { data } = await fetchJSON<{ data: { proxyAction: string } }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'x-access-token': options?.token ? `Bearer ${options.token}` : '',\n            },\n            body: JSON.stringify({\n                query: `mutation ProxyAction {\n                  proxyAction(request: { follow: { freeFollow: { profileId: \"${profileId}\" } } })\n                }\n                `,\n            }),\n        })\n\n        return data.proxyAction\n    }\n\n    static async queryProxyStatus(proxyActionId: string, options: { token: string }) {\n        if (!proxyActionId) return\n        const { data } = await fetchJSON<{ data: { proxyActionStatus: LensBaseAPI.ProxyActionStatus } }>(\n            LENS_ROOT_API,\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-access-token': options?.token ? `Bearer ${options.token}` : '',\n                },\n                body: JSON.stringify({\n                    query: `query ProxyStatus {\n                      proxyActionStatus(proxyActionId: \"${proxyActionId}\") {\n                        ... on ProxyActionError{\n                          reason\n                          lastKnownTxId\n                          __typename\n                        }\n                        ... on ProxyActionStatusResult {\n                          txHash\n                          txId\n                          status\n                          __typename\n                        }\n                        ... on ProxyActionQueued {\n                          queuedAt\n                          __typename\n                        }\n                      }\n                    }`,\n                }),\n            },\n        )\n\n        return data.proxyActionStatus\n    }\n\n    static async broadcast(\n        id: string,\n        signature: string,\n        options?: {\n            token: string\n            fetcher: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise<unknown>\n        },\n    ) {\n        if (!id || !options?.token || !signature) return\n        const { data } = (await options.fetcher(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'x-access-token': options?.token ? `Bearer ${options.token}` : '',\n            },\n            body: JSON.stringify({\n                query: `mutation Broadcast {\n                      broadcast(\n                        request: {\n                          id: \"${id}\"\n                          signature: \"${signature}\"\n                        }\n                      ) {\n                        ... on RelayerResult {\n                          txHash\n                          __typename\n                        }\n                        ... on RelayError {\n                          reason\n                          __typename\n                        }\n                        __typename\n                      }\n                    }\n                    `,\n            }),\n        })) as { data: { broadcast: LensBaseAPI.Broadcast } }\n\n        return data.broadcast\n    }\n\n    static async queryApprovedModuleAllowanceAmount(\n        currency: string,\n        options?: {\n            token: string\n        },\n    ) {\n        if (!options?.token) return\n        const { data } = await fetchJSON<{\n            data: { approvedModuleAllowanceAmount: LensBaseAPI.ApprovedModuleAllowanceAmount[] }\n        }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'x-access-token': options?.token ? `Bearer ${options.token}` : '',\n            },\n            body: JSON.stringify({\n                query: `query ApprovedModuleAllowanceAmount {\n              approvedModuleAllowanceAmount(request: { currencies: \"${currency}\", followModules: [FeeFollowModule] }) {\n                currency\n                module\n                allowance\n                contractAddress\n              }\n            }`,\n            }),\n        })\n\n        return first(data.approvedModuleAllowanceAmount)\n    }\n\n    static async queryTransactionPublicationId(txId: string) {\n        const result = await fetchJSON<{\n            data: { dataAvailabilityTransaction?: LensBaseAPI.TransactionPublication }\n        }>(LENS_ROOT_API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                query: /* GraphQL */ `\n                    query TransactionPublicationId($txId: String!) {\n                        dataAvailabilityTransaction(request: { id: $txId }) {\n                            ... on DataAvailabilityPost {\n                                ...DAPostFields\n                                __typename\n                            }\n                        }\n                    }\n                    fragment DAPostFields on DataAvailabilityPost {\n                        publicationId\n                        __typename\n                    }\n                `,\n                variables: { txId },\n            }),\n        })\n\n        return result?.data?.dataAvailabilityTransaction?.publicationId\n    }\n}\n","export const LOOKSRARE_API_URL = 'https://api.looksrare.org'\nexport const LOOKSRARE_PAGE_SIZE = 20\n","import { ChainId } from '@masknet/web3-shared-evm'\n\nexport function isSupportedChainId(chainId?: ChainId) {\n    return chainId === ChainId.Mainnet\n}\n","import urlcat from 'urlcat'\nimport { fromUnixTime } from 'date-fns'\nimport {\n    type NonFungibleAsset,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenEvent,\n    type NonFungibleTokenOrder,\n    type NonFungibleTokenStats,\n    OrderSide,\n    SourceType,\n    TokenType,\n} from '@masknet/web3-shared-base'\nimport { createIndicator, createNextIndicator, createPageable, type Pageable, EMPTY_LIST } from '@masknet/shared-base'\nimport { ChainId, createERC20Token, formatWeiToEther, SchemaType } from '@masknet/web3-shared-evm'\nimport type { Collection, Event, Order, Stats, Token } from './types.js'\nimport { LOOKSRARE_API_URL, LOOKSRARE_PAGE_SIZE } from './constants.js'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\nimport { getPaymentToken } from '../helpers/getPaymentToken.js'\nimport { resolveActivityType } from '../helpers/resolveActivityType.js'\nimport { isSupportedChainId } from './utils.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../entry-types.js'\n\nasync function fetchFromLooksRare<T>(chainId: ChainId, url: string) {\n    if (![ChainId.Mainnet, ChainId.Rinkeby].includes(chainId)) return\n    return fetchJSON<T>(urlcat(LOOKSRARE_API_URL, url), { method: 'GET' })\n}\n\nfunction createAssetLink(chainId: ChainId, address: string, tokenId: string) {\n    return urlcat('https://looksrare.org/collections/:address/:tokenId', {\n        address,\n        tokenId,\n    })\n}\n\nfunction createNonFungibleAssetFromToken(\n    chainId: ChainId,\n    token?: Token,\n): NonFungibleAsset<ChainId, SchemaType> | undefined {\n    if (!token) return\n\n    const shared = {\n        chainId,\n        name: token.collection?.name ?? 'Unknown Token',\n        symbol: token.collection?.symbol ?? 'UNKNOWN',\n        address: token.collectionAddress,\n        description: token.collection?.description,\n        schema: token.collection?.type === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n    }\n\n    return {\n        id: token.id.toString(),\n        chainId,\n        type: TokenType.NonFungible,\n        schema: shared.schema,\n        address: token.collectionAddress,\n        tokenId: token.tokenId,\n        ownerId: token.collection?.owner,\n        contract: {\n            ...shared,\n            owner: token.collection?.owner,\n        },\n        metadata: {\n            ...shared,\n            imageURL: token.imageURI,\n            mediaURL: token.imageURI,\n        },\n        collection: {\n            ...shared,\n            slug: token.collection?.name ?? '',\n            verified: token.collection?.isVerified,\n        },\n        link: createAssetLink(chainId, token.collectionAddress, token.tokenId),\n        creator: {\n            address: token.collection?.owner,\n        },\n        owner: {\n            address: token.collection?.owner,\n        },\n        traits: token.attributes.map((x) => ({\n            type: x.displayType,\n            value: x.value,\n        })),\n        source: SourceType.LooksRare,\n    }\n}\n\nfunction createNonFungibleContractFromCollection(\n    chainId: ChainId,\n    collection?: Collection,\n): NonFungibleTokenContract<ChainId, SchemaType> | undefined {\n    if (!collection) return\n    return {\n        chainId,\n        name: collection.name ?? 'Unknown Token',\n        symbol: collection.symbol ?? 'UNKNOWN',\n        address: collection.address,\n        schema: collection.type === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n        owner: collection.owner,\n        source: SourceType.LooksRare,\n    }\n}\n\nfunction createNonFungibleEventFromEvent(chainId: ChainId, event: Event): NonFungibleTokenEvent<ChainId, SchemaType> {\n    return {\n        id: event.id.toString(),\n        chainId,\n        type: resolveActivityType(event.type),\n        assetPermalink: urlcat('https://looksrare.org/collections/:address/:tokenId', {\n            address: event.token?.collectionAddress ?? event.collection?.address,\n            tokenId: event.token?.tokenId,\n        }),\n        assetSymbol: event.collection?.symbol,\n        quantity: '1',\n        hash: event.hash,\n        from: {\n            address: event.from,\n        },\n        to: {\n            address: event.to,\n        },\n        timestamp: Number.parseInt(event.createdAt, 10) * 1000,\n        source: SourceType.LooksRare,\n    }\n}\n\nfunction createNonFungibleTokenOrderFromOrder(\n    chainId: ChainId,\n    order: Order,\n): NonFungibleTokenOrder<ChainId, SchemaType> {\n    const paymentToken = getPaymentToken(chainId, { address: order.currency })\n    return {\n        id: order.hash,\n        chainId,\n        quantity: order.amounts.length.toString(),\n        hash: order.hash,\n        side: order.quoteType === 1 ? OrderSide.Sell : OrderSide.Buy,\n        assetPermalink: urlcat('https://looksrare.org/collections/:address/:tokenId', {\n            address: order.collection,\n            tokenId: order.itemIds[0],\n        }),\n        maker: {\n            address: order.signer,\n        },\n        createdAt: fromUnixTime(order.startTime).getTime(),\n        expiredAt: fromUnixTime(order.endTime).getTime(),\n        priceInToken: {\n            amount: order.price,\n            token: paymentToken ?? createERC20Token(chainId, order.currency),\n        },\n        source: SourceType.LooksRare,\n    }\n}\n\nclass LooksRareAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getAsset(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isSupportedChainId(chainId)) return\n        const response = await fetchFromLooksRare<{\n            data: Token\n        }>(\n            chainId,\n            urlcat('/api/v1/tokens', {\n                collection: address,\n                tokenId,\n            }),\n        )\n        return createNonFungibleAssetFromToken(chainId, response?.data)\n    }\n\n    async getAssets(\n        account: string,\n        options?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleAsset<ChainId, SchemaType>>> {\n        throw new Error('Method not implemented.')\n    }\n\n    async getContract(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType> | undefined> {\n        if (!isSupportedChainId(chainId)) return\n\n        const response = await fetchFromLooksRare<{\n            data: Collection\n        }>(chainId, address)\n        return createNonFungibleContractFromCollection(chainId, response?.data)\n    }\n\n    async getEvents(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isSupportedChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const response = await fetchFromLooksRare<{\n            data: Event[]\n        }>(\n            chainId,\n            urlcat('/api/v1/events', {\n                collection: address,\n                tokenId,\n                pagination: indicator\n                    ? {\n                          first: indicator.index * LOOKSRARE_PAGE_SIZE,\n                          cursor: indicator.id,\n                      }\n                    : undefined,\n            }),\n        )\n\n        if (!response?.data.length) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const events = response.data.map((x) => createNonFungibleEventFromEvent(chainId, x))\n        return createPageable(\n            events,\n            createIndicator(indicator),\n            events.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getStats(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleTokenStats | undefined> {\n        if (!isSupportedChainId(chainId)) return\n        const response = await fetchFromLooksRare<{\n            data: Stats\n        }>(\n            chainId,\n            urlcat('/api/v1/collections/stats', {\n                address,\n            }),\n        )\n        const stats = response?.data\n        if (!stats) return\n\n        return {\n            count24h: stats.count24h,\n            volume24h: formatWeiToEther(stats.volume24h).toNumber(),\n            floorPrice: formatWeiToEther(stats.floorPrice).toNumber(),\n        }\n    }\n\n    async getOrders(\n        address: string,\n        tokenId: string,\n        side: OrderSide,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isSupportedChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const response = await fetchFromLooksRare<{\n            data: Order[]\n        }>(\n            chainId,\n            urlcat('/api/v2/orders', {\n                // For ask (aka. listing) set 1. For bid (aka. offer) set 0.\n                quoteType: side === OrderSide.Sell ? 1 : 0,\n                collection: address,\n                itemId: tokenId,\n                pagination: indicator\n                    ? JSON.stringify({\n                          first: indicator.index * LOOKSRARE_PAGE_SIZE,\n                      })\n                    : undefined,\n                sort: 'PRICE_DESC',\n            }),\n        )\n\n        if (!response?.data.length) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const orders = response.data.map((x) => createNonFungibleTokenOrderFromOrder(chainId, x))\n        return createPageable(\n            orders,\n            createIndicator(indicator),\n            orders.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getOffers(address: string, tokenId: string, options?: HubOptions_Base<ChainId>) {\n        return this.getOrders(address, tokenId, OrderSide.Buy, options)\n    }\n\n    async getListings(address: string, tokenId: string, options?: HubOptions_Base<ChainId>) {\n        return this.getOrders(address, tokenId, OrderSide.Sell, options)\n    }\n}\nexport const LooksRare = new LooksRareAPI()\n","export const MAGIC_EDEN_API_URL = 'https://api-mainnet.magiceden.io'\n","import urlcat from 'urlcat'\nimport { createIndicator, createNextIndicator, createPageable, EMPTY_LIST } from '@masknet/shared-base'\nimport {\n    type NonFungibleToken,\n    type NonFungibleTokenContract,\n    ActivityType,\n    type OrderSide,\n    TokenType,\n    resolveIPFS_URL,\n    SourceType,\n} from '@masknet/web3-shared-base'\nimport { ChainId, SchemaType, isValidChainId } from '@masknet/web3-shared-solana'\nimport { MAGIC_EDEN_API_URL } from './constants.js'\nimport type {\n    Auction,\n    MagicEdenCollection as Collection,\n    MagicEdenNFT,\n    MagicEdenToken,\n    TokenActivity,\n    WalletOffer,\n} from './types.js'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\nimport { getAssetFullName } from '../helpers/getAssetFullName.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../entry-types.js'\n\nasync function fetchFromMagicEden<T>(chainId: ChainId, path: string) {\n    if (chainId !== ChainId.Mainnet) return\n\n    const url = urlcat(MAGIC_EDEN_API_URL, path)\n    return fetchJSON<T>(url, {\n        method: 'GET',\n        headers: { Accept: 'application/json' },\n    })\n}\n\nfunction createNFTToken(\n    chainId: ChainId,\n    token: MagicEdenToken,\n    collection: Collection,\n): NonFungibleToken<ChainId, SchemaType> {\n    return {\n        id: token.mintAddress,\n        chainId,\n        ownerId: token.owner,\n        type: TokenType.NonFungible,\n        schema: SchemaType.NonFungible,\n        tokenId: '',\n        address: token.mintAddress,\n        metadata: {\n            chainId,\n            name: getAssetFullName(token.mintAddress, collection.name, token.name, ''),\n            symbol: collection.symbol,\n            description: collection.description,\n            imageURL: token.image || token.animationUrl,\n            mediaURL: token.animationUrl || token.image,\n        },\n        contract: {\n            chainId,\n            schema: SchemaType.NonFungible,\n            address: token.mintAddress,\n            name: collection.name,\n            symbol: collection.symbol,\n        },\n        collection: {\n            chainId,\n            name: token.collection,\n            slug: token.collection,\n            description: collection.description,\n            iconURL: collection.image,\n            verified: false,\n            createdAt: new Date(collection.createdAt).getTime(),\n        },\n    }\n}\n\nfunction createNFTCollection(collection: Collection): NonFungibleTokenContract<ChainId, SchemaType.NonFungible> {\n    return {\n        chainId: ChainId.Mainnet,\n        name: collection.name,\n        symbol: collection.symbol,\n        address: '',\n        schema: SchemaType.NonFungible,\n        logoURL: collection.image,\n        iconURL: collection.image,\n        source: SourceType.MagicEden,\n    }\n}\n\nclass MagicEdenAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getToken(address: string, tokenMint: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const token = await fetchFromMagicEden<MagicEdenToken>(\n            chainId,\n            urlcat('/v2/tokens/:mint_address', { mint_address: tokenMint }),\n        )\n        if (!token) return\n        const collection = await fetchFromMagicEden<Collection>(\n            chainId,\n            urlcat('/collections/:symbol', { symbol: token?.collection }),\n        )\n        if (!collection) return\n        return createNFTToken(chainId, token, collection)\n    }\n\n    async getAsset(address: string, tokenMint: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const [token, auction, nft] = await Promise.all([\n            this.getToken(address, tokenMint, {\n                chainId,\n            }),\n            fetchFromMagicEden<Auction>(\n                chainId,\n                urlcat('/auctions/token-mint/:mint_address', { mint_address: tokenMint }),\n            ),\n            fetchFromMagicEden<MagicEdenNFT>(\n                chainId,\n                urlcat('/rpc/getNFTByMintAddress/:mint_address', { mint_address: tokenMint }),\n            ),\n        ])\n        if (!token) return\n\n        return {\n            ...token,\n            link: urlcat('https://magiceden.io/item-details/:mint_address', {\n                mint_address: tokenMint,\n            }),\n            creator: nft?.creators?.length\n                ? {\n                      address: nft.creators[0].address,\n                  }\n                : undefined,\n            owner: {\n                address: nft?.owner,\n            },\n            traits: auction?.attributes.map((x) => ({\n                type: x.trait_type,\n                value: x.value,\n            })),\n            source: SourceType.MagicEden,\n        }\n    }\n\n    async getAssets(owner: string, { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        if ((indicator?.index ?? 0) > 0) return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const response = await fetchFromMagicEden<{\n            results: MagicEdenNFT[]\n        }>(\n            chainId,\n            urlcat('/rpc/getNFTsByOwner/:owner', {\n                owner,\n            }),\n        )\n        const data = response?.results.map((token) => {\n            return {\n                id: token.mintAddress,\n                chainId,\n                link: urlcat('https://magiceden.io/item-details/:mint_address', {\n                    mint_address: token.mintAddress,\n                }),\n                type: TokenType.NonFungible,\n                schema: SchemaType.NonFungible,\n                tokenId: '',\n                address: token.mintAddress,\n                metadata: {\n                    chainId,\n                    name: getAssetFullName(token.mintAddress, token.collectionName, token?.title, ''),\n                    symbol: '',\n                    imageURL: resolveIPFS_URL(token.img),\n                    mediaURL: resolveIPFS_URL(token.img),\n                    owner: token.owner,\n                },\n                contract: {\n                    chainId,\n                    schema: SchemaType.NonFungible,\n                    address: token.mintAddress,\n                    name: token.collectionName,\n                    symbol: '',\n                },\n                collection: {\n                    chainId,\n                    name: token.collectionName ?? token?.collectionTitle,\n                    slug: '',\n                    description: '',\n                    iconURL: '',\n                    verified: false,\n                },\n                source: SourceType.MagicEden,\n            }\n        })\n        return createPageable(data ?? EMPTY_LIST, createIndicator(indicator))\n    }\n\n    async getContract(tokenMint: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const token = await fetchFromMagicEden<MagicEdenToken>(\n            chainId,\n            urlcat('/v2/tokens/:mint_address', { mint_address: tokenMint }),\n        )\n        if (!token) return\n        const collection = await fetchFromMagicEden<Collection>(\n            chainId,\n            urlcat('/collections/:symbol', { symbol: token?.collection }),\n        )\n        if (!collection) return\n        return createNFTCollection(collection)\n    }\n\n    async getEvents(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, indicator, size = 50 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const activities = await fetchFromMagicEden<TokenActivity[]>(\n            chainId,\n            urlcat('/v2/tokens/:mint_address/activities', {\n                mint_address: address,\n                offset: (indicator?.index ?? 0) * size,\n                limit: size,\n            }),\n        )\n        const events = activities?.map((activity) => {\n            return {\n                id: activity.signature,\n                chainId: ChainId.Mainnet,\n                assetSymbol: activity.collectionSymbol,\n                timestamp: activity.blockTime * 1000,\n                from: {\n                    address: activity.seller,\n                },\n                to: {\n                    address: activity.buyerReferral,\n                },\n                quantity: '1',\n                type: ActivityType.Transfer,\n                source: SourceType.MagicEden,\n            }\n        })\n        return createPageable(\n            events ?? EMPTY_LIST,\n            createIndicator(indicator),\n            events?.length === size ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getOrders(\n        address: string,\n        tokenId: string,\n        side: OrderSide,\n        { chainId = ChainId.Mainnet, indicator, size }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const limit = size || 20\n        const offers = await fetchFromMagicEden<WalletOffer[]>(\n            chainId,\n            urlcat('/tokens/:mint_address/offer_received', {\n                mint_address: address,\n                side,\n                offset: (indicator?.index ?? 0) * limit,\n                limit,\n            }),\n        )\n        const orders = offers?.map((offer) => {\n            return {\n                id: offer.pdaAddress,\n                chainId: ChainId.Mainnet,\n                side,\n                quantity: '1',\n                // TODO's\n                assetPermalink: '',\n                source: SourceType.MagicEden,\n            }\n        })\n        return createPageable(\n            orders ?? EMPTY_LIST,\n            createIndicator(indicator),\n            orders?.length === size ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getCollectionsByOwner(\n        symbol: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const collections = await fetchFromMagicEden<Collection[]>(\n            chainId,\n            urlcat('/collections/:symbol/listings', {\n                symbol,\n                limit: size,\n                offset: (indicator?.index ?? 0) * size,\n            }),\n        )\n        const data = collections?.map((collection) => ({\n            chainId,\n            name: collection.name,\n            slug: collection.symbol,\n            address: '',\n            symbol: collection.symbol,\n            iconURL: resolveIPFS_URL(collection.image),\n            source: SourceType.MagicEden,\n        }))\n\n        return createPageable(\n            data ?? EMPTY_LIST,\n            createIndicator(indicator),\n            data?.length === size ? createNextIndicator(indicator) : undefined,\n        )\n    }\n}\nexport const MagicEden = new MagicEdenAPI()\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport {\n    CHAIN_DESCRIPTORS as evm_chain,\n    NETWORK_DESCRIPTORS as evm_network,\n    PROVIDER_DESCRIPTORS as evm_providers,\n} from '@masknet/web3-shared-evm'\nimport {\n    CHAIN_DESCRIPTORS as flow_chain,\n    NETWORK_DESCRIPTORS as flow_network,\n    PROVIDER_DESCRIPTORS as flow_providers,\n} from '@masknet/web3-shared-flow'\nimport {\n    CHAIN_DESCRIPTORS as solana_chain,\n    NETWORK_DESCRIPTORS as solana_network,\n    PROVIDER_DESCRIPTORS as solana_providers,\n} from '@masknet/web3-shared-solana'\nimport type { Web3Helper } from '@masknet/web3-helpers'\n\ninterface NetworkPlugin<T extends NetworkPluginID> {\n    readonly chain: ReadonlyArray<Web3Helper.ChainDescriptorScope<void, T>>\n    readonly network: ReadonlyArray<Web3Helper.Web3NetworkDescriptor<T>>\n    readonly provider: ReadonlyArray<Web3Helper.Web3ProviderDescriptor<T>>\n    state: Web3Helper.Web3State<T>\n}\nexport const evm: NetworkPlugin<NetworkPluginID.PLUGIN_EVM> = {\n    chain: evm_chain,\n    network: evm_network,\n    provider: evm_providers,\n    state: null!,\n}\nexport const flow: NetworkPlugin<NetworkPluginID.PLUGIN_FLOW> = {\n    chain: flow_chain,\n    network: flow_network,\n    provider: flow_providers,\n    state: null!,\n}\nexport const solana: NetworkPlugin<NetworkPluginID.PLUGIN_SOLANA> = {\n    chain: solana_chain,\n    network: solana_network,\n    provider: solana_providers,\n    state: null!,\n}\n","import type { AbiItem } from 'web3-utils'\nimport { abiCoder } from './abiCoder.js'\n\nexport function decodeOutputString(abis: AbiItem[], output: string, methodName: string) {\n    const item = abis.find((x) => x.type === 'function' && x.name === methodName)\n    if (!item) throw new Error(`Failed to locate abi with name: ${methodName}.`)\n    const outputs = item.outputs ?? []\n    if (outputs.length === 1) return abiCoder.decodeParameter(outputs[0], output)\n    if (outputs.length > 1) return abiCoder.decodeParameters(outputs, output)\n    return\n}\n","// conservative, hard-coded estimate of the current block gas limit\nexport const CONSERVATIVE_BLOCK_GAS_LIMIT = 10000000\n\n// the default value for calls that don't specify gasRequired\nexport const DEFAULT_GAS_REQUIRED = 200000\nexport const DEFAULT_GAS_LIMIT = 1000000\n","import { EMPTY_LIST } from '@masknet/shared-base'\nimport type { Multicall } from '@masknet/web3-contracts/types/Multicall.js'\nimport type { BaseContract, NonPayableTx } from '@masknet/web3-contracts/types/types.js'\nimport {\n    type ChainId,\n    ContractTransaction,\n    decodeOutputString,\n    getEthereumConstant,\n    type UnboxTransactionObject,\n} from '@masknet/web3-shared-evm'\nimport { ContractReadonlyAPI } from '../Web3/EVM/apis/ContractReadonlyAPI.js'\nimport { ConnectionReadonlyAPI } from '../Web3/EVM/apis/ConnectionReadonlyAPI.js'\nimport { CONSERVATIVE_BLOCK_GAS_LIMIT, DEFAULT_GAS_LIMIT, DEFAULT_GAS_REQUIRED } from './constants.js'\nimport type { MulticallBaseAPI } from '../entry-types.js'\n\nexport class MulticallAPI {\n    private Contract = new ContractReadonlyAPI()\n    private Web3 = new ConnectionReadonlyAPI()\n\n    private results: {\n        [chainId: number]: {\n            blockNumber: number\n            results: Record<string, MulticallBaseAPI.Result>\n        }\n    } = {}\n\n    private createContract(chainId: ChainId) {\n        const address = getEthereumConstant(chainId, 'MULTICALL_ADDRESS')\n        if (!address) throw new Error('Failed to create multicall contract.')\n\n        const contract = this.Contract.getMulticallContract(address, { chainId })\n        if (!contract) throw new Error('Failed to create multicall contract.')\n\n        return contract\n    }\n\n    private toCallKey(call: MulticallBaseAPI.Call) {\n        return call.join('-')\n    }\n\n    private getCallResult(call: MulticallBaseAPI.Call, chainId: ChainId, blockNumber: number) {\n        const cache = this.results[chainId]\n        const blockNumber_ = cache?.blockNumber ?? 0\n        if (blockNumber_ < blockNumber) return\n        return cache.results[this.toCallKey(call)]\n    }\n\n    private setCallResult(\n        call: MulticallBaseAPI.Call,\n        result: MulticallBaseAPI.Result,\n        chainId: ChainId,\n        blockNumber: number,\n    ) {\n        const cache = this.results[chainId] ?? {\n            results: [],\n            blockNumber: 0,\n        }\n        const blockNumber_ = cache.blockNumber\n        if (blockNumber_ > blockNumber) return\n        if (blockNumber_ < blockNumber) cache.blockNumber = blockNumber\n        cache.results[this.toCallKey(call)] = result\n        this.results[chainId] = cache\n    }\n\n    // evenly distributes items among the chunks\n    private chunkArray(\n        items: MulticallBaseAPI.Call[],\n        gasLimit = CONSERVATIVE_BLOCK_GAS_LIMIT * 10,\n    ): MulticallBaseAPI.Call[][] {\n        const chunks: MulticallBaseAPI.Call[][] = []\n        let currentChunk: MulticallBaseAPI.Call[] = []\n        let currentChunkCumulativeGas = 0\n\n        for (const item of items) {\n            // calculate the gas required by the current item\n            const gasRequired = item[1] ?? DEFAULT_GAS_REQUIRED\n\n            // if the current chunk is empty, or the current item wouldn't push it over the gas limit,\n            // append the current item and increment the cumulative gas\n            if (currentChunk.length === 0 || currentChunkCumulativeGas + gasRequired < gasLimit) {\n                currentChunk.push(item)\n                currentChunkCumulativeGas += gasRequired\n            } else {\n                // otherwise, push the current chunk and create a new chunk\n                chunks.push(currentChunk)\n                currentChunk = [item]\n                currentChunkCumulativeGas = gasRequired\n            }\n        }\n        if (currentChunk.length > 0) chunks.push(currentChunk)\n        return chunks\n    }\n\n    async call<\n        T extends BaseContract,\n        K extends keyof T['methods'],\n        R extends UnboxTransactionObject<ReturnType<T['methods'][K]>>,\n    >(\n        chainId: ChainId,\n        contracts: T[],\n        names: K[],\n        calls: MulticallBaseAPI.Call[],\n        overrides?: NonPayableTx,\n        blockNumber?: number,\n    ): Promise<Array<MulticallBaseAPI.DecodeResult<T, K, R>>> {\n        if (!calls.length) return EMPTY_LIST\n\n        const contract = this.createContract(chainId)\n        if (!contract) return EMPTY_LIST\n\n        const blockNumber_ = blockNumber ?? (await this.Web3.getBlockNumber({ chainId }))\n\n        // filter out cached calls\n        const unresolvedCalls = calls.filter((call_) => !this.getCallResult(call_, chainId, blockNumber_))\n\n        // resolve the calls by chunks\n        if (unresolvedCalls.length) {\n            await Promise.all(\n                this.chunkArray(unresolvedCalls).map(async (chunk) => {\n                    // we don't mind the actual block number of the current call\n                    const tx = new ContractTransaction(contract).fill(contract.methods.multicall(chunk), overrides)\n                    const hex = await this.Web3.callTransaction(tx, { chainId })\n\n                    const result = decodeOutputString(contract.options.jsonInterface, hex, 'multicall') as\n                        | UnboxTransactionObject<ReturnType<Multicall['methods']['multicall']>>\n                        | undefined\n\n                    if (!result) return\n\n                    result.returnData.forEach((result, index) =>\n                        this.setCallResult(chunk[index], result, chainId, blockNumber_),\n                    )\n                }),\n            )\n        }\n\n        const results = calls.map(\n            (call) =>\n                this.getCallResult(call, chainId, blockNumber_) ?? ([false, '0x0', '0x0'] as MulticallBaseAPI.Result),\n        )\n\n        return results.map<MulticallBaseAPI.DecodeResult<T, K, R>>(([succeed, gasUsed, result], index) => {\n            try {\n                const value = decodeOutputString(\n                    contracts[index].options.jsonInterface,\n                    result,\n                    names[index] as string,\n                ) as R\n                return { succeed, gasUsed, value, error: null }\n            } catch (error) {\n                return { succeed: false, gasUsed, value: null, error }\n            }\n        })\n    }\n\n    createSingleContractMultipleData<T extends BaseContract, K extends keyof T['methods']>(\n        contract: T,\n        names: K[],\n        callDatas: Array<Parameters<T['methods'][K]>>,\n        gasLimit = DEFAULT_GAS_LIMIT,\n    ) {\n        return callDatas.map<MulticallBaseAPI.Call>((data, i) => [\n            contract.options.address,\n            gasLimit,\n            contract.methods[names[i]](...data).encodeABI() as string,\n        ])\n    }\n\n    createMultipleContractSingleData<T extends BaseContract, K extends keyof T['methods']>(\n        contracts: T[],\n        names: K[],\n        callData: Parameters<T['methods'][K]>,\n        gasLimit = DEFAULT_GAS_LIMIT,\n    ) {\n        return contracts.map<MulticallBaseAPI.Call>((contract, i) => [\n            contract.options.address,\n            gasLimit,\n            contract.methods[names[i]](...callData).encodeABI() as string,\n        ])\n    }\n}\n","export const NFTSCAN_URL = 'https://nftscan-proxy.r2d2.to'\nexport const NFTSCAN_BASE = 'https://www.nftscan.com'\nexport const NFTSCAN_BASE_SOLANA = 'https://solana.nftscan.com'\nexport const NFTSCAN_LOGO_BASE = 'https://logo.nftscan.com/logo'\n","import urlcat from 'urlcat'\nimport { first } from 'lodash-es'\nimport { EMPTY_LIST, NetworkPluginID } from '@masknet/shared-base'\nimport {\n    formatPercentage,\n    type NonFungibleAsset,\n    type NonFungibleCollection,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenEvent,\n    type NonFungibleTokenTrait,\n    resolveResourceURL,\n    scale10,\n    SourceType,\n    TokenType,\n} from '@masknet/web3-shared-base'\nimport {\n    type ChainId,\n    isENSContractAddress,\n    SchemaType,\n    WNATIVE,\n    isValidDomain,\n    resolveImageURL,\n} from '@masknet/web3-shared-evm'\nimport { ChainResolver } from '../../Web3/EVM/apis/ResolverAPI.js'\nimport { NFTSCAN_BASE, NFTSCAN_LOGO_BASE, NFTSCAN_URL } from '../constants.js'\nimport type { EVM } from '../types/EVM.js'\nimport { resolveNFTScanHostName } from './utils.js'\nimport { fetchSquashedJSON } from '../../helpers/fetchJSON.js'\nimport { parseJSON } from '../../helpers/parseJSON.js'\nimport { getAssetFullName } from '../../helpers/getAssetFullName.js'\nimport { getPaymentToken } from '../../helpers/getPaymentToken.js'\nimport { resolveActivityType } from '../../helpers/resolveActivityType.js'\nimport type { NonFungibleTokenAPI } from '../../entry-types.js'\n\nexport async function fetchFromNFTScanV2<T>(chainId: ChainId, pathname: string, init?: RequestInit) {\n    return fetchSquashedJSON<T>(urlcat(NFTSCAN_URL, pathname), {\n        ...init,\n        headers: {\n            'content-type': 'application/json',\n            ...init?.headers,\n            ...(chainId ? { 'x-app-chainid': chainId.toString() } : {}),\n        },\n        cache: 'no-cache',\n    })\n}\n\nexport function createPermalink(chainId: ChainId, address: string, tokenId: string) {\n    return urlcat(\n        resolveNFTScanHostName(NetworkPluginID.PLUGIN_EVM, chainId) || 'https://www.nftscan.com',\n        '/:address/:tokenId',\n        {\n            address,\n            tokenId,\n        },\n    )\n}\n\nfunction getAssetTraits(asset: EVM.Asset): NonFungibleTokenTrait[] {\n    if (asset.attributes.length) {\n        return asset.attributes.map((x) => ({\n            type: x.attribute_name,\n            value: x.attribute_value,\n            rarity: x.percentage,\n        }))\n    }\n    // Manually get traits from metadata, since NFTScan doesn't return\n    // attributes at this time.\n    if (isENSContractAddress(asset.contract_address)) {\n        const payload = parseJSON<EVM.Payload>(asset.metadata_json)\n        return (\n            payload?.attributes?.map((x) => ({\n                type: x.trait_type,\n                value: x.value,\n            })) ?? EMPTY_LIST\n        )\n    }\n    return EMPTY_LIST\n}\n\nexport function createNonFungibleAsset(\n    chainId: ChainId,\n    asset: EVM.Asset,\n    collection?: NonFungibleTokenAPI.Collection | EVM.AssetsGroup,\n): NonFungibleAsset<ChainId, SchemaType> {\n    const payload = parseJSON<EVM.Payload>(asset.metadata_json)\n    const contractName = asset.contract_name\n    const description = payload?.description ?? collection?.description ?? ''\n    const uri = asset.imageURL ?? asset.image_uri\n    const mediaURL = resolveResourceURL(uri)\n\n    const creator = asset.minter\n    const owner = asset.owner\n    const schema = asset.erc_type === 'erc1155' ? SchemaType.ERC1155 : SchemaType.ERC721\n    const symbol = asset.contract_name\n    const name = isValidDomain(asset.name)\n        ? asset.name\n        : getAssetFullName(asset.contract_address, contractName, payload?.name || asset.name, asset.token_id)\n\n    return {\n        id: asset.contract_address,\n        chainId,\n        link: createPermalink(chainId, asset.contract_address, asset.token_id),\n        tokenId: asset.token_id,\n        type: TokenType.NonFungible,\n        address: asset.contract_address,\n        schema,\n        creator: {\n            address: creator,\n            link: urlcat(NFTSCAN_BASE, creator),\n        },\n        owner: owner\n            ? {\n                  address: owner,\n                  link: urlcat(NFTSCAN_BASE, owner),\n              }\n            : undefined,\n        traits: getAssetTraits(asset),\n        priceInToken: asset.latest_trade_price\n            ? {\n                  amount: scale10(asset.latest_trade_price, WNATIVE[chainId].decimals).toFixed(),\n                  // FIXME: cannot get payment token\n                  token:\n                      asset.latest_trade_symbol === 'ETH'\n                          ? ChainResolver.nativeCurrency(chainId) ?? WNATIVE[chainId]\n                          : WNATIVE[chainId],\n              }\n            : undefined,\n        metadata: {\n            chainId,\n            name,\n            symbol,\n            description,\n            imageURL: resolveImageURL(mediaURL, name, asset.contract_address),\n            mediaURL,\n        },\n        contract: {\n            chainId,\n            schema,\n            address: asset.contract_address,\n            name: contractName,\n            symbol,\n            creatorEarning:\n                collection && 'royalty' in collection ? formatPercentage(collection.royalty / 100 / 100) : undefined,\n        },\n        collection: {\n            chainId,\n            name: contractName,\n            slug: contractName,\n            description,\n            address: asset.contract_address,\n            // If collectionContext.logo_url is null, we will directly render a fallback logo instead.\n            // So do not fallback to the constructed NFTScan logo url\n            iconURL: collection ? collection.logo_url : `${urlcat(NFTSCAN_LOGO_BASE, asset.contract_address)}.png`,\n            verified: collection?.verified || collection?.opensea_verified,\n            createdAt: asset.mint_timestamp,\n        },\n        source: SourceType.NFTScan,\n    }\n}\n\nexport function createNonFungibleCollectionFromGroup(\n    chainId: ChainId,\n    group: EVM.AssetsGroup,\n): NonFungibleCollection<ChainId, SchemaType> {\n    const sample = first(group.assets)\n    const payload = parseJSON<EVM.Payload>(sample?.metadata_json)\n    return {\n        id: group.contract_address,\n        chainId,\n        assets: group.assets.map((x) => createNonFungibleAsset(chainId, x)),\n        schema: sample?.erc_type === 'erc1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n        name: group.contract_name || group.symbol || '',\n        symbol: group.symbol,\n        slug: group.contract_name || '',\n        address: group.contract_address,\n        description: group.description || payload?.description,\n        iconURL: group.logo_url,\n        balance: group.assets.length,\n        source: SourceType.NFTScan,\n    }\n}\n\nexport function createNonFungibleCollectionFromCollection(\n    chainId: ChainId,\n    collection: NonFungibleTokenAPI.Collection,\n): NonFungibleCollection<ChainId, SchemaType> {\n    return {\n        chainId,\n        schema: collection.erc_type === 'erc1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n        name: collection.name,\n        symbol: collection.symbol,\n        slug: collection.symbol,\n        address: collection.contract_address,\n        description: collection.description,\n        iconURL: collection.logo_url,\n        verified: collection.verified,\n        source: SourceType.NFTScan,\n    }\n}\n\nexport function createNonFungibleTokenContract(\n    chainId: ChainId,\n    collection: NonFungibleTokenAPI.Collection,\n): NonFungibleTokenContract<ChainId, SchemaType> {\n    return {\n        chainId,\n        address: collection.contract_address,\n        name: collection.name,\n        symbol: collection.symbol,\n        schema: collection.erc_type === 'erc1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n        iconURL: collection.logo_url,\n        logoURL: collection.logo_url,\n        owner: collection.owner,\n        source: SourceType.NFTScan,\n    }\n}\n\nexport function createNonFungibleTokenEvent(\n    chainId: ChainId,\n    transaction: EVM.Transaction,\n): NonFungibleTokenEvent<ChainId, SchemaType> {\n    const paymentToken = getPaymentToken(chainId, { symbol: transaction.trade_symbol })\n    return {\n        chainId,\n        id: transaction.hash,\n        quantity: transaction.amount,\n        timestamp: transaction.timestamp,\n        type: resolveActivityType(transaction.event_type),\n        hash: transaction.hash,\n        from: {\n            address: transaction.from,\n        },\n        to: {\n            address: transaction.to,\n        },\n        send: {\n            address: transaction.send,\n        },\n        receive: {\n            address: transaction.receive,\n        },\n        assetName: transaction.contract_name,\n        assetPermalink: createPermalink(chainId, transaction.contract_address, transaction.token_id),\n        priceInToken: paymentToken\n            ? {\n                  amount: scale10(transaction.trade_price, paymentToken?.decimals).toFixed(),\n                  token: paymentToken,\n              }\n            : undefined,\n        paymentToken,\n        source: SourceType.NFTScan,\n    }\n}\n","import urlcat from 'urlcat'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { ChainId, SchemaType } from '@masknet/web3-shared-solana'\nimport {\n    type NonFungibleAsset,\n    type NonFungibleCollection,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenEvent,\n    resolveIPFS_URL,\n    scale10,\n    SourceType,\n    TokenType,\n} from '@masknet/web3-shared-base'\nimport { SolanaChainResolver } from '../../Web3/Solana/apis/ResolverAPI.js'\nimport { NFTSCAN_BASE_SOLANA, NFTSCAN_URL } from '../constants.js'\nimport type { Solana } from '../types/Solana.js'\nimport { fetchSquashedJSON } from '../../helpers/fetchJSON.js'\nimport { resolveActivityType } from '../../helpers/resolveActivityType.js'\nimport { parseJSON } from '../../helpers/parseJSON.js'\nimport { getAssetFullName } from '../../helpers/getAssetFullName.js'\n\nexport function createPermalink(chainId: ChainId, address?: string) {\n    if (!address) return\n    return urlcat('https://solana.nftscan.com', '/:address', {\n        address,\n    })\n}\n\nexport async function fetchFromNFTScanV2<T>(chainId: ChainId, pathname: string, init?: RequestInit) {\n    if (chainId !== ChainId.Mainnet) return\n\n    return fetchSquashedJSON<T>(urlcat(NFTSCAN_URL, pathname), {\n        ...init,\n        headers: {\n            'content-type': 'application/json',\n            ...init?.headers,\n            'x-app-chainid': 'solana',\n        },\n        cache: 'no-cache',\n    })\n}\n\nexport function createNonFungibleAsset(chainId: ChainId, asset: Solana.Asset): NonFungibleAsset<ChainId, SchemaType> {\n    const payload = parseJSON<Solana.Payload>(asset.metadata_json)\n    const name = payload?.name || asset.name || payload?.name || ''\n    const description = payload?.description\n    const mediaURL = resolveIPFS_URL(asset.image_uri ?? asset.content_uri)\n\n    const creator = asset.minter\n    const owner = asset.owner\n    const schema = SchemaType.NonFungible\n    const symbol = payload?.symbol\n    const nativeToken = SolanaChainResolver.nativeCurrency(chainId)\n\n    return {\n        id: asset.token_address,\n        chainId,\n        link: createPermalink(chainId, asset.token_address),\n        tokenId: '',\n        type: TokenType.NonFungible,\n        address: asset.token_address,\n        schema,\n        creator: {\n            address: creator,\n            link: urlcat(NFTSCAN_BASE_SOLANA + '/:id', { id: creator }),\n        },\n        owner: owner\n            ? {\n                  address: owner,\n                  link: urlcat(NFTSCAN_BASE_SOLANA + '/:id', { id: owner }),\n              }\n            : undefined,\n        traits:\n            asset.attributes?.map((x) => ({\n                type: x.attribute_name,\n                value: x.attribute_value,\n                rarity: x.percentage,\n            })) ?? EMPTY_LIST,\n        priceInToken: asset.latest_trade_price\n            ? {\n                  amount: scale10(asset.latest_trade_price, nativeToken.decimals).toFixed(),\n                  // FIXME: cannot get payment token\n                  token: nativeToken,\n              }\n            : undefined,\n        metadata: {\n            chainId,\n            name: getAssetFullName(asset.token_address, payload?.collection?.name || name, name),\n            symbol,\n            description,\n            imageURL: mediaURL,\n            mediaURL,\n            projectURL: asset.external_link,\n        },\n        contract: {\n            chainId,\n            schema,\n            address: asset.token_address,\n            name,\n            symbol,\n        },\n        collection: {\n            chainId,\n            name,\n            slug: payload?.symbol || name,\n            description,\n            address: asset.token_address,\n            iconURL: '',\n            // TODO fetch via `collections` API\n            verified: false,\n            createdAt: asset.mint_timestamp,\n        },\n        source: SourceType.NFTScan,\n    }\n}\n\nexport function createNonFungibleCollection(\n    chainId: ChainId,\n    collection: Solana.Collection,\n): NonFungibleCollection<ChainId, SchemaType> {\n    return {\n        chainId,\n        schema: SchemaType.NonFungible,\n        name: collection.collection || collection.symbol || '',\n        symbol: collection.symbol,\n        slug: collection.symbol || '',\n        address: '',\n        balance: collection.items_total,\n        description: collection.description,\n        iconURL: collection.logo_url,\n        verified: collection.verified,\n    }\n}\n\nexport function createNonFungibleTokenContract(\n    chainId: ChainId,\n    collection: Solana.Collection,\n): NonFungibleTokenContract<ChainId, SchemaType> {\n    return {\n        chainId,\n        address: '',\n        name: collection.collection || collection.symbol || '',\n        symbol: collection.symbol,\n        schema: SchemaType.NonFungible,\n        iconURL: collection.logo_url,\n        logoURL: collection.logo_url,\n    }\n}\n\nexport function createNonFungibleTokenEvent(\n    chainId: ChainId,\n    transaction: Solana.Transaction,\n): NonFungibleTokenEvent<ChainId, SchemaType> {\n    const paymentToken = SolanaChainResolver.nativeCurrency(chainId)\n    return {\n        chainId,\n        id: transaction.hash,\n        quantity: '1',\n        timestamp: transaction.timestamp ?? 0,\n        type: resolveActivityType(transaction.event_type),\n        hash: transaction.hash,\n        from: transaction.source\n            ? {\n                  address: transaction.source,\n              }\n            : undefined,\n        to: transaction.destination\n            ? {\n                  address: transaction.destination,\n              }\n            : undefined,\n        assetName: transaction.exchange_name,\n        assetPermalink: createPermalink(chainId, transaction.token_address),\n        priceInToken:\n            paymentToken && transaction.trade_price\n                ? {\n                      amount: scale10(transaction.trade_price ?? 0, paymentToken?.decimals).toFixed(),\n                      token: paymentToken,\n                  }\n                : undefined,\n        paymentToken,\n        source: SourceType.NFTScan,\n    }\n}\n","export const KV_BASE_URL_DEV = 'https://kv-service.nextnext.id'\nexport const KV_BASE_URL_PROD = 'https://kv-service.next.id'\nexport const PROOF_BASE_URL_DEV = 'https://proof-service.nextnext.id/'\nexport const PROOF_BASE_URL_PROD = 'https://proof-service.next.id/'\nexport const RELATION_SERVICE_URL = 'https://relation-service-tiger.next.id'\n","import { staleCached } from '../helpers/fetchCached.js'\n\nexport async function staleNextIDCached(url: string): Promise<void> {\n    const request = new Request(url)\n    const response = await staleCached(request)\n\n    if (response && !response.ok) throw new Error('Stale cache failed')\n}\n","/**\n * Document url: https://github.com/nextdotid/kv_server/blob/develop/docs/api.apib\n */\nimport urlcat from 'urlcat'\nimport { compact } from 'lodash-es'\nimport { Err, Ok, type Result } from 'ts-results-es'\nimport type { NextIDPlatform, NextIDStoragePayload } from '@masknet/shared-base'\nimport { env } from '@masknet/flags'\nimport { KV_BASE_URL_DEV, KV_BASE_URL_PROD } from './constants.js'\nimport { staleNextIDCached } from './helpers.js'\nimport { fetchCachedJSON, fetchJSON, fetchSquashedJSON } from '../helpers/fetchJSON.js'\n\ninterface CreatePayloadResponse {\n    uuid: string\n    sign_payload: string\n    created_at: string\n}\n\nconst BASE_URL = env.channel === 'stable' && process.env.NODE_ENV === 'production' ? KV_BASE_URL_PROD : KV_BASE_URL_DEV\n\nfunction formatPatchData(pluginID: string, data: unknown) {\n    return {\n        [pluginID]: data,\n    }\n}\n\nexport class NextIDStorageProvider {\n    /**\n     * Get current KV of a persona\n     * @param personaPublicKey\n     *\n     */\n    static async getByIdentity<T>(\n        personaPublicKey: string,\n        platform: NextIDPlatform,\n        identity: string,\n        pluginID: string,\n    ): Promise<Result<T, string>> {\n        interface Proof {\n            platform: NextIDPlatform\n            identity: string\n            content: Record<string, T>\n        }\n        interface Response {\n            persona: string\n            proofs: Proof[]\n        }\n        const response = await fetchSquashedJSON<Response | undefined>(\n            urlcat(BASE_URL, '/v1/kv', { persona: personaPublicKey }),\n        )\n        if (!response) return Err('User not found')\n\n        const proofs = (response.proofs ?? [])\n            .filter((x) => x.platform === platform)\n            .filter((x) => x.identity === identity.toLowerCase())\n        if (!proofs.length) return Err('Proof not found')\n        return Ok(proofs[0].content[pluginID])\n    }\n\n    static async getAllByIdentity<T>(\n        platform: NextIDPlatform,\n        identity: string,\n        pluginID: string,\n    ): Promise<Result<T[], string>> {\n        interface Proof {\n            avatar: string\n            content: Record<string, T>\n        }\n\n        interface Response {\n            values: Proof[]\n        }\n        const response = await fetchCachedJSON<Response>(urlcat(BASE_URL, '/v1/kv/by_identity', { platform, identity }))\n        if (!response) return Err('User not found')\n\n        const result = compact(response.values.map((x) => x.content[pluginID]))\n        return Ok(result)\n    }\n    static async get<T>(personaPublicKey: string): Promise<T> {\n        return fetchCachedJSON<T>(urlcat(BASE_URL, '/v1/kv', { persona: personaPublicKey }))\n    }\n    /**\n     * Get signature payload for updating\n     * @param personaPublicKey\n     * @param platform\n     * @param identity\n     * @param patchData\n     * @param pluginID\n     *\n     * We choose [RFC 7396](https://www.rfc-editor.org/rfc/rfc7396) standard for KV modifying.\n     */\n    static async getPayload(\n        personaPublicKey: string,\n        platform: NextIDPlatform,\n        identity: string,\n        patchData: unknown,\n        pluginID: string,\n    ): Promise<Result<NextIDStoragePayload, null>> {\n        const requestBody = {\n            persona: personaPublicKey,\n            platform,\n            identity,\n            patch: formatPatchData(pluginID, patchData),\n        }\n\n        const response = await fetchJSON<CreatePayloadResponse>(urlcat(BASE_URL, '/v1/kv/payload'), {\n            body: JSON.stringify(requestBody),\n            method: 'POST',\n        })\n\n        return response\n            ? Ok({\n                  signPayload: JSON.stringify(JSON.parse(response.sign_payload)),\n                  createdAt: response.created_at,\n                  uuid: response.uuid,\n              })\n            : Err(null)\n    }\n\n    /**\n     * Update a full set of key-value pairs\n     * @param uuid\n     * @param personaPublicKey\n     * @param signature\n     * @param platform\n     * @param identity\n     * @param createdAt\n     * @param patchData\n     * @param pluginID\n     *\n     * We choose [RFC 7396](https://www.rfc-editor.org/rfc/rfc7396) standard for KV modifying.\n     */\n    static async set<T>(\n        uuid: string,\n        personaPublicKey: string,\n        signature: string,\n        platform: NextIDPlatform,\n        identity: string,\n        createdAt: string,\n        patchData: unknown,\n        pluginID: string,\n    ): Promise<Result<T, null>> {\n        const requestBody = {\n            uuid,\n            persona: personaPublicKey,\n            platform,\n            identity,\n            signature,\n            patch: formatPatchData(pluginID, patchData),\n            created_at: createdAt,\n        }\n\n        const result = await fetchJSON<T>(urlcat(BASE_URL, '/v1/kv'), {\n            body: JSON.stringify(requestBody),\n            method: 'POST',\n        })\n\n        if (result) {\n            await staleNextIDCached(urlcat(BASE_URL, '/v1/kv', { persona: personaPublicKey }))\n        }\n\n        return result ? Ok(result) : Err(null)\n    }\n}\n","const unstoppableDomains = ['.crypto', '.nft', '.x', '.wallet', '.bitcoin', '.dao', '.888', '.zil', '.blockchain']\nexport function getDomainSystem(domain?: string) {\n    if (!domain) return 'unknown'\n    if (domain.endsWith('.lens') || domain === 'lensprotocol' || domain === '@lensprotocol') return 'lens'\n    if (domain.endsWith('.eth')) return 'ENS'\n    if (domain.endsWith('.bit')) return 'dotbit'\n    if (domain.endsWith('.bnb')) return 'space_id'\n    const ext = domain.slice(domain.lastIndexOf('.'))\n    if (unstoppableDomains.includes(ext)) return 'unstoppabledomains'\n    return 'unknown'\n}\n","import urlcat from 'urlcat'\nimport { first, sortBy, uniqBy } from 'lodash-es'\nimport {\n    NextIDPlatform,\n    fromHex,\n    toBase64,\n    type BindingProof,\n    type NextIDAction,\n    type NextIDBindings,\n    type NextIDErrorBody,\n    type NextIDIdentity,\n    type NextIDPayload,\n    type NextIDPersonaBindings,\n    type NextIDEnsRecord,\n    createBindingProofFromProfileQuery,\n    EMPTY_LIST,\n    getDomainSystem,\n} from '@masknet/shared-base'\nimport { PROOF_BASE_URL_DEV, PROOF_BASE_URL_PROD, RELATION_SERVICE_URL } from './constants.js'\nimport { staleNextIDCached } from './helpers.js'\nimport PRESET_LENS from './preset-lens.json'\nimport { fetchJSON, fetchSquashedJSON } from '../helpers/fetchJSON.js'\nimport type { NextIDBaseAPI } from '../entry-types.js'\nimport { stableSquashedCached } from '../entry-helpers.js'\nimport { env } from '@masknet/flags'\n\nconst BASE_URL =\n    env.channel === 'stable' && process.env.NODE_ENV === 'production' ? PROOF_BASE_URL_PROD : PROOF_BASE_URL_DEV\n\nconst relationServiceDomainQuery = (depth?: number) => `domain(domainSystem: $domainSystem, name: $domain) {\n    source\n    system\n    name\n    fetcher\n    resolved {\n      identity\n      platform\n      displayName\n    }\n    owner {\n      identity\n      platform\n      displayName\n      uuid\n      nft(category: [\"ENS\"], limit: 100, offset: 0) {\n        uuid\n        category\n        chain\n        id\n      }\n      neighborWithTraversal(depth: ${depth ?? 5}) {\n        ... on ProofRecord {\n          source\n          from {\n            nft(category: [\"ENS\"], limit: 100, offset: 0) {\n              uuid\n              category\n              chain\n              id\n            }\n            uuid\n            platform\n            identity\n            displayName\n          }\n          to {\n            nft(category: [\"ENS\"], limit: 100, offset: 0) {\n              uuid\n              category\n              chain\n              id\n            }\n            uuid\n            platform\n            identity\n            displayName\n          }\n        }\n        ... on HoldRecord {\n          source\n          from {\n            nft(category: [\"ENS\"], limit: 100, offset: 0) {\n              uuid\n              category\n              chain\n              id\n            }\n            uuid\n            platform\n            identity\n            displayName\n          }\n          to {\n            nft(category: [\"ENS\"], limit: 100, offset: 0) {\n              uuid\n              category\n              chain\n              id\n            }\n            uuid\n            platform\n            identity\n            displayName\n          }\n        }\n      }\n    }\n    }`\n\nconst relationServiceIdentityQuery = (depth?: number) => `\n    identity(platform: $platform, identity: $identity) {\n        platform\n        identity\n        displayName\n        uuid\n        ownedBy {\n          uuid\n          platform\n          identity\n          displayName\n        }\n        nft(category: [\"ENS\"], limit: 100, offset: 0) {\n          uuid\n          category\n          chain\n          address\n          id\n        }\n        neighborWithTraversal(depth: ${depth ?? 5}) {\n          ... on ProofRecord {\n            source\n            from {\n              nft(category: [\"ENS\"], limit: 100, offset: 0) {\n                uuid\n                category\n                chain\n                id\n              }\n              uuid\n              platform\n              identity\n              displayName\n            }\n            to {\n              nft(category: [\"ENS\"], limit: 100, offset: 0) {\n                uuid\n                category\n                chain\n                id\n              }\n              uuid\n              platform\n              identity\n              displayName\n            }\n          }\n          ... on HoldRecord {\n            source\n            from {\n              nft(category: [\"ENS\"], limit: 100, offset: 0) {\n                uuid\n                category\n                chain\n                id\n              }\n              uuid\n              platform\n              identity\n              displayName\n            }\n            to {\n              nft(category: [\"ENS\"], limit: 100, offset: 0) {\n                uuid\n                category\n                chain\n                id\n              }\n              uuid\n              platform\n              identity\n              displayName\n            }\n          }\n        }\n      }`\n\ninterface CreatePayloadBody {\n    action: string\n    platform: string\n    identity: string\n    public_key: string\n}\n\ntype PostContentLanguages = 'default' | 'zh_CN'\n\ninterface CreatePayloadResponse {\n    post_content: {\n        [key in PostContentLanguages]: string\n    }\n    sign_payload: string\n    uuid: string\n    created_at: string\n}\n\ntype NeighborNode = {\n    source: NextIDPlatform\n    to: NextIDIdentity\n    from: NextIDIdentity\n}\ntype NeighborList = NeighborNode[]\n\nconst getPersonaQueryURL = (platform: string, identity: string) =>\n    urlcat(BASE_URL, '/v1/proof', {\n        platform,\n        identity,\n    })\n\nconst getExistedBindingQueryURL = (platform: string, identity: string, personaPublicKey: string) =>\n    urlcat(BASE_URL, '/v1/proof/exists', {\n        platform,\n        identity,\n        public_key: personaPublicKey,\n    })\n\nexport class NextIDProof {\n    static fetchFromProofService<T>(request: Request | RequestInfo, init?: RequestInit) {\n        return fetchJSON<T>(request, init)\n    }\n\n    static async clearPersonaQueryCache(personaPublicKey: string) {\n        const url = getPersonaQueryURL(NextIDPlatform.NextID, personaPublicKey)\n        await staleNextIDCached(url)\n        await stableSquashedCached(url)\n    }\n\n    static async bindProof(\n        uuid: string,\n        personaPublicKey: string,\n        action: NextIDAction,\n        platform: string,\n        identity: string,\n        createdAt: string,\n        options?: {\n            walletSignature?: string\n            signature?: string\n            proofLocation?: string\n        },\n    ) {\n        const requestBody = {\n            uuid,\n            action,\n            platform,\n            identity,\n            public_key: personaPublicKey,\n            proof_location: options?.proofLocation,\n            extra: {\n                wallet_signature: options?.walletSignature ? toBase64(fromHex(options.walletSignature)) : undefined,\n                signature: options?.signature ? toBase64(fromHex(options.signature)) : undefined,\n            },\n            created_at: createdAt,\n        }\n\n        const result = await fetchJSON<NextIDErrorBody | undefined>(urlcat(BASE_URL, '/v1/proof'), {\n            body: JSON.stringify(requestBody),\n            method: 'POST',\n        })\n\n        if (result?.message) throw new Error(result.message)\n\n        // Should delete cache when proof status changed\n        const cacheKeyOfQueryPersona = getPersonaQueryURL(NextIDPlatform.NextID, personaPublicKey)\n        const cacheKeyOfQueryPlatform = getPersonaQueryURL(platform, identity)\n        const cacheKeyOfExistedBinding = getExistedBindingQueryURL(platform, identity, personaPublicKey)\n\n        await staleNextIDCached(cacheKeyOfExistedBinding)\n        await staleNextIDCached(cacheKeyOfQueryPersona)\n        await staleNextIDCached(cacheKeyOfQueryPlatform)\n\n        await stableSquashedCached(cacheKeyOfQueryPersona)\n        await stableSquashedCached(cacheKeyOfQueryPlatform)\n        await stableSquashedCached(cacheKeyOfExistedBinding)\n    }\n\n    static async queryExistedBindingByPersona(personaPublicKey: string) {\n        const { ids } = await this.fetchFromProofService<NextIDBindings>(\n            getPersonaQueryURL(NextIDPlatform.NextID, personaPublicKey),\n            undefined,\n        )\n        // Will have only one item when query by personaPublicKey\n        return first(ids)\n    }\n\n    static async queryExistedBindingByPlatform(platform: NextIDPlatform, identity: string, page = 1, exact = true) {\n        if (!platform && !identity) return []\n\n        const response = await this.fetchFromProofService<NextIDBindings>(\n            urlcat(BASE_URL, '/v1/proof', {\n                platform,\n                identity,\n                page,\n                exact,\n                // TODO workaround for the API, and will sort the result manually\n            }),\n        )\n\n        return sortBy(response.ids, (x) => -x.activated_at)\n    }\n\n    static async queryLatestBindingByPlatform(\n        platform: NextIDPlatform,\n        identity: string,\n        publicKey?: string,\n    ): Promise<NextIDPersonaBindings | null> {\n        if (!platform && !identity) return null\n\n        const result = await this.queryAllExistedBindingsByPlatform(platform, identity, true)\n        if (publicKey) return result.find((x) => x.persona === publicKey) ?? null\n        return first(result) ?? null\n    }\n\n    static async queryAllExistedBindingsByPlatform(platform: NextIDPlatform, identity: string, exact?: boolean) {\n        if (!platform && !identity) return []\n\n        const nextIDPersonaBindings: NextIDPersonaBindings[] = []\n        let page = 1\n        do {\n            const result = await this.fetchFromProofService<NextIDBindings>(\n                urlcat(BASE_URL, '/v1/proof', {\n                    platform,\n                    identity,\n                    exact,\n                    page,\n                    order: 'desc',\n                }),\n                undefined,\n            )\n            const personaBindings = result.ids\n            if (personaBindings.length === 0) return nextIDPersonaBindings\n            nextIDPersonaBindings.push(...personaBindings)\n\n            // next is `0` if current page is the last one.\n            if (result.pagination.next === 0) return nextIDPersonaBindings\n\n            page += 1\n        } while (page > 1)\n        return []\n    }\n\n    static async queryIsBound(personaPublicKey: string, platform: NextIDPlatform, identity: string) {\n        try {\n            if (!platform && !identity) return false\n\n            const result = await this.fetchFromProofService<BindingProof | undefined>(\n                getExistedBindingQueryURL(platform, identity, personaPublicKey),\n                undefined,\n            )\n            return !!result?.is_valid\n        } catch {\n            return false\n        }\n    }\n\n    static async queryProfilesByDomain(domain?: string, depth?: number) {\n        const domainSystem = getDomainSystem(domain)\n        if (domainSystem === 'unknown') return EMPTY_LIST\n        const { data } = await fetchSquashedJSON<{\n            data: {\n                domain: {\n                    owner: {\n                        neighborWithTraversal: NeighborList\n                        nft: NextIDEnsRecord[]\n                    }\n                } | null\n            }\n        }>(RELATION_SERVICE_URL, {\n            method: 'POST',\n            mode: 'cors',\n            body: JSON.stringify({\n                operationName: 'GET_PROFILES_QUERY',\n                variables: { domainSystem, domain: domain?.toLowerCase() },\n                query: `\n                    query GET_PROFILES_QUERY($domainSystem:String, $domain: String) {\n                      ${relationServiceDomainQuery(depth)}\n                    }\n                `,\n            }),\n        })\n\n        if (!data.domain) return EMPTY_LIST\n        const bindings = createBindProofsFromNeighbor(data.domain.owner.neighborWithTraversal)\n        return bindings.filter((x) => ![NextIDPlatform.NextID].includes(x.platform) && x.identity)\n    }\n\n    static async queryProfilesByAddress(address: string, depth?: number) {\n        const { data } = await fetchSquashedJSON<{\n            data: {\n                identity: {\n                    nft: NextIDEnsRecord[]\n                    neighborWithTraversal: NeighborList\n                }\n            }\n        }>(RELATION_SERVICE_URL, {\n            method: 'POST',\n            mode: 'cors',\n            body: JSON.stringify({\n                operationName: 'GET_PROFILES_QUERY',\n                variables: { platform: NextIDPlatform.Ethereum, identity: address.toLowerCase() },\n                query: `\n                    query GET_PROFILES_QUERY($platform: String, $identity: String) {\n                       ${relationServiceIdentityQuery(depth)}\n                      }\n                `,\n            }),\n        })\n\n        const bindings = createBindProofsFromNeighbor(data.identity.neighborWithTraversal)\n        return bindings.filter(\n            (x) => ![NextIDPlatform.Ethereum, NextIDPlatform.NextID].includes(x.platform) && x.identity,\n        )\n    }\n\n    static async queryProfilesByPublicKey(publicKey: string, depth?: number) {\n        const { data } = await fetchJSON<{\n            data: {\n                identity: {\n                    nft: NextIDEnsRecord[]\n                    neighborWithTraversal: NeighborList\n                }\n            }\n        }>(RELATION_SERVICE_URL, {\n            method: 'POST',\n            mode: 'cors',\n            body: JSON.stringify({\n                operationName: 'GET_PROFILES_QUERY',\n                variables: { platform: NextIDPlatform.NextID, identity: publicKey },\n                query: `\n                    query GET_PROFILES_QUERY($platform: String, $identity: String) {\n                       ${relationServiceIdentityQuery(depth)}\n                      }\n                `,\n            }),\n        })\n        const bindings = createBindProofsFromNeighbor(data.identity.neighborWithTraversal)\n        return bindings\n    }\n\n    static async queryProfilesByTwitterId(twitterId: string, depth?: number) {\n        const { data } = await fetchSquashedJSON<{\n            data: {\n                identity: {\n                    nft: NextIDEnsRecord[]\n                    neighborWithTraversal: NeighborList\n                }\n            }\n        }>(RELATION_SERVICE_URL, {\n            method: 'POST',\n            mode: 'cors',\n            body: JSON.stringify({\n                operationName: 'GET_PROFILES_BY_TWITTER_ID',\n                variables: { platform: NextIDPlatform.Twitter, identity: twitterId.toLowerCase() },\n                query: `\n                        query GET_PROFILES_BY_TWITTER_ID($platform: String, $identity: String) {\n                            ${relationServiceIdentityQuery(depth)}\n                        }\n                `,\n            }),\n        })\n        const bindings = createBindProofsFromNeighbor(data.identity.neighborWithTraversal)\n        return bindings.filter((x) => ![NextIDPlatform.NextID].includes(x.platform) && x.identity)\n    }\n\n    static async queryAllLens(twitterId: string, depth?: number): Promise<NextIDBaseAPI.LensAccount[]> {\n        const lowerCaseId = twitterId.toLowerCase()\n        const { data } = await fetchSquashedJSON<{\n            data: {\n                domain: {\n                    owner: {\n                        neighborWithTraversal: NeighborList\n                    }\n                } | null\n            }\n        }>(RELATION_SERVICE_URL, {\n            method: 'POST',\n            mode: 'cors',\n            body: JSON.stringify({\n                operationName: 'GET_LENS_PROFILES',\n                variables: { domainSystem: 'lens', domain: lowerCaseId },\n                query: `\n                        query GET_LENS_PROFILES($domainSystem: String, $domain: String) {\n                            ${relationServiceDomainQuery(depth)}\n                        }\n                `,\n            }),\n        })\n\n        const connectionsTo =\n            data.domain?.owner.neighborWithTraversal.filter((x) => x.to.platform === NextIDPlatform.LENS) || []\n\n        const connectionsFrom =\n            data.domain?.owner.neighborWithTraversal.filter((x) => x.from.platform === NextIDPlatform.LENS) || []\n\n        const id = lowerCaseId as keyof typeof PRESET_LENS\n        if (connectionsTo.length === 0 && connectionsFrom.length === 0 && PRESET_LENS[id]) {\n            return PRESET_LENS[id]\n        }\n\n        return uniqBy(\n            connectionsTo\n                .map((x) => ({\n                    handle: x.to.identity,\n                    displayName: x.to.displayName,\n                    address: x.to.identity,\n                }))\n                .concat(\n                    connectionsFrom.map((x) => ({\n                        handle: x.from.identity,\n                        displayName: x.from.displayName,\n                        address: x.from.identity,\n                    })),\n                ),\n            (x) => x.handle,\n        )\n    }\n\n    static async createPersonaPayload(\n        personaPublicKey: string,\n        action: NextIDAction,\n        identity: string,\n        platform: NextIDPlatform,\n        language: string = 'default',\n    ): Promise<NextIDPayload | null> {\n        const requestBody: CreatePayloadBody = {\n            action,\n            platform,\n            identity,\n            public_key: personaPublicKey,\n        }\n\n        const nextIDLanguageFormat = language.replace('-', '_') as PostContentLanguages\n\n        const response = await fetchJSON<CreatePayloadResponse>(urlcat(BASE_URL, '/v1/proof/payload'), {\n            body: JSON.stringify(requestBody),\n            method: 'POST',\n        })\n\n        return response\n            ? {\n                  postContent: response.post_content[nextIDLanguageFormat] ?? response.post_content.default,\n                  signPayload: JSON.stringify(JSON.parse(response.sign_payload)),\n                  createdAt: response.created_at,\n                  uuid: response.uuid,\n              }\n            : null\n    }\n}\n\nfunction createBindingProofNodeFromNeighbor(nextIDIdentity: NextIDIdentity, source: NextIDPlatform) {\n    const nft = nextIDIdentity.nft.map((x) =>\n        createBindingProofFromProfileQuery(NextIDPlatform.NextID, x.id, x.id, undefined, NextIDPlatform.ENS),\n    )\n    return createBindingProofFromProfileQuery(\n        nft.length === 0 ? nextIDIdentity.platform : NextIDPlatform.ENS,\n        nextIDIdentity.identity,\n        nextIDIdentity.displayName,\n        undefined,\n        source,\n        nft,\n    )\n}\n\nfunction createBindProofsFromNeighbor(neighborList: NeighborList): BindingProof[] {\n    const bindings = neighborList.flatMap((x) => {\n        return [\n            {\n                uuid: x.from.uuid,\n                data: createBindingProofNodeFromNeighbor(x.from, x.source),\n            },\n            {\n                uuid: x.to.uuid,\n                data: createBindingProofNodeFromNeighbor(x.to, x.source),\n            },\n        ]\n    })\n    return uniqBy(bindings, (x) => x.uuid).map((x) => x.data)\n}\n","export enum EventType {\n    Successful = 'successful',\n    Cancelled = 'cancelled',\n    BidEntered = 'bid_entered',\n    BidWithdrawn = 'bid_withdrawn',\n    Transfer = 'transfer',\n    OfferEntered = 'offer_entered',\n    Approve = 'approve',\n}\n\ninterface OpenSeaFees {\n    /**\n     * @deprecated\n     * use fee instead\n     */\n    opensea_seller_fee_basis_points: number\n    opensea_buyer_fee_basis_points: number\n    dev_seller_fee_basis_points: number\n    dev_buyer_fee_basis_points: number\n}\n\ninterface Asset {\n    token_id: string\n    token_address: string\n    schema_name?: string\n    version?: string\n    name?: string\n    decimals?: number\n}\n\ninterface AssetEvent {\n    event_type: string\n    event_timestamp: number\n    auction_type: string\n    total_price: string\n    payment_token: {\n        decimals: number\n        symbol: string\n        usd_price: string\n        address: string\n    }\n    quantity: string\n}\n\nexport interface OpenSeaAssetContract extends OpenSeaFees {\n    name: string\n    address: string\n    asset_contract_type: string\n    schema_name: string\n    seller_fee_basis_points: string\n    buyer_fee_basis_points: string\n    description: string\n    symbol: string\n    image_url: string\n    stats?: object\n    traits?: object[]\n    external_link?: string\n    wiki_link?: string\n    collection: OpenSeaCollection\n}\n\ninterface NumericalTraitStats {\n    min: number\n    max: number\n}\n\ninterface OpenSeaTraitStats {\n    [traitName: string]: NumericalTraitStats | Record<string, number>\n}\n\ninterface OpenSeaFungibleToken {\n    image_url?: string\n    eth_price?: string\n    usd_price?: string\n    name: string\n    symbol: string\n    decimals: number\n    address: string\n}\n\nexport interface OpenSeaCustomAccount {\n    address: string\n    profile_img_url: string\n    user?: {\n        username: string\n    }\n}\n\nexport interface OpenSeaCollection extends OpenSeaFees {\n    name: string\n    address: string\n    slug: string\n    editors: string[]\n    hidden: boolean\n    featured: boolean\n    created_date: string\n    description: string\n    image_url: string\n    largeImage_url: string\n    featured_image_url: string\n    stats: {\n        average_price: number\n        count: number\n        floor_price: number\n        market_cap: number\n        num_owners: number\n        num_reports: number\n        one_day_average_price: number\n        one_day_change: number\n        one_day_sales: number\n        one_day_volume: number\n        seven_day_average_price: number\n        seven_day_change: number\n        seven_day_sales: number\n        seven_day_volume: number\n        thirty_day_average_price: number\n        thirty_day_change: number\n        thirty_day_sales: number\n        thirty_day_volume: number\n        total_sales: number\n        total_supply: number\n        total_volume: number\n    }\n    display_data: object\n    payment_tokens: OpenSeaFungibleToken[]\n    payout_address?: string\n    trait_stats: OpenSeaTraitStats\n    external_link?: string\n    wiki_link?: string\n    safelist_request_status: string\n    owned_asset_count: number\n    primary_asset_contracts: Array<{\n        address: string\n        asset_contract_type: string\n        schema_name: string\n        symbol: string\n    }>\n}\n\nexport interface OpenSeaAssetResponse extends Asset {\n    animation_url: string\n    asset_contract: OpenSeaAssetContract\n    collection: OpenSeaCollection\n    name: string\n    description: string\n    owner: OpenSeaCustomAccount\n    is_presale: boolean\n    image_url: string\n    image_preview_url: string\n    image_original_url: string\n    image_thumbnail_url: string\n    opensea_link: string\n    external_link: string\n    traits: Array<{\n        value: string\n        trait_type: string\n        trait_count: number\n    }>\n    num_sales: number\n    last_sale: AssetEvent | null\n    background_color: string | null\n    transfer_fee: string | null\n    transfer_fee_payment_token: OpenSeaFungibleToken | null\n    top_ownerships: Array<{\n        owner: OpenSeaCustomAccount\n        quantity: string\n    }>\n    creator: OpenSeaCustomAccount\n    endTime: string\n    permalink: string\n}\n\nexport interface OpenSeaAssetEvent {\n    id: string\n    event_type: string\n    from_account?: OpenSeaCustomAccount\n    to_account?: OpenSeaCustomAccount\n    seller?: OpenSeaCustomAccount\n    winner_account?: OpenSeaCustomAccount\n    asset: {\n        id: string\n        decimals: number\n        image_url: string\n        image_original_url: string\n        image_preview_url: string\n        asset_contract: {\n            symbol: string\n        }\n        permalink: string\n    }\n    payment_token?: OpenSeaFungibleToken\n    quantity: string\n    ending_price: string\n    bid_amount?: string\n    total_price?: string\n    starting_price: string\n    transaction?: {\n        transaction_index: string\n        transaction_hash: string\n        id: string\n    }\n    assetQuantity: {\n        asset: {\n            decimals?: number\n            id: string\n        }\n        quantity: string\n        id: string\n    }\n    created_date: string\n}\n\nexport interface OpenSeaCollectionStats {\n    one_day_volume: number\n    one_day_change: number\n    one_day_sales: number\n    one_day_average_price: number\n    seven_day_volume: number\n    seven_day_change: number\n    seven_day_sales: number\n    seven_day_average_price: number\n    thirty_day_volume: number\n    thirty_day_change: number\n    thirty_day_sales: number\n    thirty_day_average_price: number\n    total_volume: number\n    total_sales: number\n    total_supply: number\n    count: number\n    num_owners: number\n    average_price: number\n    num_reports: number\n    market_cap: number\n    floor_price: number\n}\n","import { BigNumber } from 'bignumber.js'\nimport { pow10, ZERO } from '@masknet/web3-shared-base'\n\nexport function getOrderUSDPrice(currentPrice?: string, usdPrice?: string, decimals?: number) {\n    if (!currentPrice || !decimals) return ZERO\n    const quantity = new BigNumber(currentPrice).div(pow10(decimals))\n    return new BigNumber(usdPrice ?? 0).multipliedBy(quantity).decimalPlaces(2, 2)\n}\n","export const OPENSEA_ACCOUNT_URL = 'https://opensea.io/accounts/:address'\nexport const OPENSEA_API_URL = 'https://opensea-proxy.r2d2.to'\n","import urlcat from 'urlcat'\nimport { uniqBy } from 'lodash-es'\nimport { BigNumber } from 'bignumber.js'\nimport { getUnixTime } from 'date-fns'\nimport { createPageable, createIndicator, createNextIndicator, EMPTY_LIST } from '@masknet/shared-base'\nimport {\n    CurrencyType,\n    type NonFungibleToken,\n    type NonFungibleCollection,\n    type NonFungibleTokenEvent,\n    type NonFungibleTokenOrder,\n    OrderSide,\n    scale10,\n    TokenType,\n    createNonFungibleTokenContract,\n    type NonFungibleAsset,\n    type NonFungibleTokenStats,\n    formatPercentage,\n    dividedBy,\n    resolveIPFS_URL,\n    SourceType,\n} from '@masknet/web3-shared-base'\nimport { ChainId, SchemaType, createERC20Token, isValidChainId, resolveImageURL } from '@masknet/web3-shared-evm'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport {\n    type OpenSeaAssetContract,\n    type OpenSeaAssetEvent,\n    type OpenSeaCollection,\n    type OpenSeaCollectionStats,\n    type OpenSeaCustomAccount,\n    type OpenSeaAssetResponse,\n    EventType,\n} from './types.js'\nimport { getOrderUSDPrice } from './utils.js'\nimport { OPENSEA_ACCOUNT_URL, OPENSEA_API_URL } from './constants.js'\nimport { getAssetFullName } from '../helpers/getAssetFullName.js'\nimport { getPaymentToken } from '../helpers/getPaymentToken.js'\nimport { fetchSquashedJSON } from '../helpers/fetchJSON.js'\nimport { resolveActivityType } from '../helpers/resolveActivityType.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../entry-types.js'\n\nasync function fetchFromOpenSea<T>(url: string, chainId: ChainId, init?: RequestInit) {\n    if (![ChainId.Mainnet, ChainId.Rinkeby, ChainId.Matic].includes(chainId)) return\n    return fetchSquashedJSON<T>(urlcat(OPENSEA_API_URL, url), { method: 'GET', ...init })\n}\n\nfunction createTokenDetailed(\n    chainId: ChainId,\n    token: {\n        address: string\n        decimals: number\n        name: string\n        symbol: string\n        image_url?: string\n    },\n) {\n    if (token.symbol === 'ETH') return ChainResolver.nativeCurrency(chainId)\n    return createERC20Token(chainId, token.address, token.name, token.symbol, token.decimals, token.image_url)\n}\n\nfunction createAssetLink(chainId: ChainId, address: string, tokenId: string) {\n    if (chainId === ChainId.Mainnet)\n        return urlcat('https://opensea.io/assets/ethereum/:address/:tokenId', {\n            address,\n            tokenId,\n        })\n    if (chainId === ChainId.Matic)\n        return urlcat('https://opensea.io/assets/matic/:address/:tokenId', {\n            address,\n            tokenId,\n        })\n    return\n}\n\nfunction createAccountLink(account: OpenSeaCustomAccount | undefined) {\n    if (!account) return ''\n    return urlcat(OPENSEA_ACCOUNT_URL, {\n        address: account?.user?.username ?? account?.address,\n    })\n}\n\nfunction createNFTToken(chainId: ChainId, asset: OpenSeaAssetResponse): NonFungibleToken<ChainId, SchemaType> {\n    const address = asset.token_address ?? asset.asset_contract.address\n    const name = getAssetFullName(\n        address,\n        asset.name ?? asset.collection.name,\n        asset.name ?? asset.collection.name,\n        asset.token_id,\n    )\n\n    return {\n        id: asset.token_address ?? asset.asset_contract.address,\n        chainId,\n        type: TokenType.NonFungible,\n        schema: asset.asset_contract.schema_name === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n        tokenId: asset.token_id,\n        address,\n        metadata: {\n            chainId,\n            name,\n            symbol: asset.asset_contract.symbol,\n            description: asset.description,\n            imageURL: resolveImageURL(\n                decodeURIComponent(\n                    asset.image_url ?? asset.image_preview_url ?? asset.image_original_url ?? asset.animation_url ?? '',\n                ),\n                name,\n                address,\n            ),\n            mediaURL: decodeURIComponent(\n                asset?.animation_url ??\n                    resolveIPFS_URL(asset?.image_original_url ?? asset?.image_preview_url ?? asset?.image_url ?? ''),\n            ),\n        },\n        contract: {\n            chainId,\n            schema: asset.asset_contract.schema_name === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n            address,\n            name: asset.name ?? asset.collection.name,\n            symbol: asset.asset_contract.symbol,\n            owner: asset.owner.address,\n            creatorEarning: asset.asset_contract.dev_seller_fee_basis_points.toString(),\n        },\n        collection: {\n            address,\n            chainId,\n            name: asset.collection.name,\n            slug: asset.collection.slug,\n            description: asset.collection.description,\n            iconURL: decodeURIComponent(\n                asset.collection.image_url ?? asset.collection.largeImage_url ?? asset.collection.featured_image_url,\n            ),\n            verified: ['approved', 'verified'].includes(asset.collection?.safelist_request_status ?? ''),\n            createdAt: getUnixTime(new Date(asset.collection.created_date)),\n        },\n    }\n}\n\nfunction createNFTAsset(chainId: ChainId, asset: OpenSeaAssetResponse): NonFungibleAsset<ChainId, SchemaType> {\n    const token = createNFTToken(chainId, asset)\n    const paymentToken = getPaymentToken(chainId, {\n        address: asset.last_sale?.payment_token.address,\n        symbol: asset.last_sale?.payment_token.symbol,\n    })\n    return {\n        ...token,\n        link: asset.opensea_link ?? asset.permalink ?? createAssetLink(chainId, token.address, token.tokenId),\n        paymentTokens: uniqBy(asset.collection?.payment_tokens?.map((x) => createTokenDetailed(chainId, x)), (x) =>\n            x.address.toLowerCase(),\n        ),\n        creator: {\n            address: asset.creator.address,\n            nickname: asset.creator.user?.username ?? 'Unknown',\n            avatarURL: asset.creator.profile_img_url,\n            link: createAccountLink(asset.creator),\n        },\n        owner: {\n            address: asset.owner.address,\n            nickname: asset.owner.user?.username ?? 'Unknown',\n            avatarURL: asset.owner.profile_img_url,\n            link: createAccountLink(asset.owner),\n        },\n        traits: asset.traits.map((x) => ({\n            type: x.trait_type,\n            value: x.value,\n            rarity: formatPercentage(dividedBy(x.trait_count, asset.collection.stats.count)),\n        })),\n        price: asset.last_sale\n            ? {\n                  [CurrencyType.USD]: getOrderUSDPrice(\n                      asset.last_sale.total_price,\n                      asset.last_sale.payment_token.usd_price,\n                      asset.last_sale.payment_token.decimals,\n                  )?.toString(),\n              }\n            : undefined,\n        priceInToken: asset.last_sale\n            ? {\n                  token:\n                      paymentToken ??\n                      createTokenDetailed(chainId, {\n                          address: asset.last_sale.payment_token.address ?? '',\n                          decimals: Number(asset.last_sale.payment_token.decimals ?? '0'),\n                          name: '',\n                          symbol: asset.last_sale.payment_token.symbol ?? '',\n                      }),\n                  amount: asset.last_sale.total_price ?? '0',\n              }\n            : undefined,\n    }\n}\n\nfunction createAccount(account?: OpenSeaCustomAccount) {\n    if (!account) return\n    return {\n        address: account.address,\n        nickname: account.user?.username,\n        avatarURL: account.profile_img_url,\n        link: createAccountLink(account),\n    }\n}\n\nfunction createEvent(chainId: ChainId, event: OpenSeaAssetEvent): NonFungibleTokenEvent<ChainId, SchemaType> {\n    const paymentToken = event.payment_token\n        ? createERC20Token(\n              chainId,\n              event.payment_token.address,\n              event.payment_token.name,\n              event.payment_token.symbol,\n              event.payment_token.decimals,\n              event.payment_token.image_url,\n          )\n        : undefined\n    return {\n        from: createAccount(event.from_account ?? event.seller),\n        to: createAccount(event.to_account ?? event.winner_account),\n        id: event.id,\n        chainId,\n        type: resolveActivityType(event.event_type),\n        assetPermalink: event.asset.permalink,\n        quantity: event.quantity,\n        hash: event.transaction?.transaction_hash,\n        timestamp: new Date(`${event.created_date}Z`).getTime(),\n        price: event.payment_token\n            ? {\n                  [CurrencyType.USD]: new BigNumber(event.bid_amount ?? event.total_price ?? 0)\n                      .dividedBy(scale10(1, event.payment_token?.decimals))\n                      .dividedBy(event.quantity)\n                      .multipliedBy(event.payment_token?.usd_price ?? 1)\n                      .toFixed(2),\n              }\n            : undefined,\n        priceInToken: paymentToken\n            ? {\n                  amount: event.bid_amount ?? event.total_price ?? '0',\n                  token: paymentToken,\n              }\n            : undefined,\n        paymentToken,\n        source: SourceType.OpenSea,\n    }\n}\n\nfunction createOrder(\n    chainId: ChainId,\n    event: OpenSeaAssetEvent,\n    side: OrderSide,\n): NonFungibleTokenOrder<ChainId, SchemaType> {\n    const amount = side === OrderSide.Buy ? event.ending_price : event.ending_price\n    return {\n        id: `${event.asset.permalink}_${event.created_date}`,\n        chainId,\n        hash: event.transaction?.transaction_hash,\n        assetPermalink: event.asset.permalink,\n        quantity: event.quantity,\n        side: event.event_type === 'offer_entered' ? OrderSide.Buy : undefined,\n        maker: createAccount(event.from_account ?? event.seller),\n        taker: createAccount(event.to_account ?? event.winner_account),\n        createdAt: event.created_date ? getUnixTime(new Date(event.created_date)) : undefined,\n        price: {\n            [CurrencyType.USD]: new BigNumber(amount ?? 0)\n                .dividedBy(scale10(1, event.payment_token?.decimals ?? 0))\n                .dividedBy(event.quantity)\n                .multipliedBy(event.payment_token?.usd_price ?? 1)\n                .toFixed(2),\n        },\n        priceInToken: event.payment_token\n            ? {\n                  amount: amount ?? '0',\n                  token: createERC20Token(\n                      chainId,\n                      event.payment_token.address,\n                      event.payment_token.name,\n                      event.payment_token.symbol,\n                      event.payment_token.decimals,\n                      event.payment_token.image_url,\n                  ),\n              }\n            : undefined,\n        source: SourceType.OpenSea,\n    }\n}\n\nclass OpenSeaAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getAsset(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const response = await fetchFromOpenSea<OpenSeaAssetResponse>(\n            urlcat('/api/v1/asset/:address/:tokenId', { address, tokenId }),\n            chainId,\n        )\n        if (!response) return\n        return createNFTAsset(chainId, response)\n    }\n\n    async getAssets(\n        account: string,\n        { chainId = ChainId.Mainnet, indicator, size = 50 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const response = await fetchFromOpenSea<{\n            assets?: OpenSeaAssetResponse[]\n            next: string\n            previous?: string\n        }>(\n            urlcat('/api/v1/assets', {\n                owner: account,\n                offset: (indicator?.index ?? 0) * size,\n                limit: size,\n                cursor: indicator?.id,\n            }),\n            chainId,\n        )\n        const tokens = (response?.assets ?? EMPTY_LIST)\n            ?.filter(\n                (x: OpenSeaAssetResponse) =>\n                    ['non-fungible', 'semi-fungible'].includes(x.asset_contract.asset_contract_type) ||\n                    ['ERC721', 'ERC1155'].includes(x.asset_contract.schema_name),\n            )\n            .map((asset: OpenSeaAssetResponse) => createNFTAsset(chainId, asset))\n\n        return createPageable(\n            tokens,\n            createIndicator(indicator),\n            tokens.length === size ? createNextIndicator(indicator, response?.next) : undefined,\n        )\n    }\n\n    async getContract(address: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        const contract = await fetchFromOpenSea<OpenSeaAssetContract>(\n            urlcat('/api/v1/asset_contract/:address', { address }),\n            chainId,\n        )\n        return createNonFungibleTokenContract(\n            chainId,\n            SchemaType.ERC721,\n            address,\n            contract?.name ?? 'Unknown Token',\n            contract?.symbol ?? 'UNKNOWN',\n        )\n    }\n\n    async getEvents(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, indicator, size }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const parameters = new URLSearchParams()\n        parameters.append('event_type', EventType.Successful)\n        parameters.append('event_type', EventType.OfferEntered)\n        parameters.append('event_type', EventType.Transfer)\n        parameters.append('asset_contract_address', address)\n        parameters.append('token_id', tokenId)\n        if (indicator?.id) parameters.append('cursor', indicator?.id)\n        if (size) parameters.append('limit', size.toString())\n\n        const response = await fetchFromOpenSea<{\n            asset_events: OpenSeaAssetEvent[]\n            next: string\n            previous?: string\n        }>(`/api/v1/events?${parameters.toString()}`, chainId)\n        const events = response?.asset_events?.map((x) => createEvent(chainId, x)) ?? EMPTY_LIST\n        return createPageable(\n            events,\n            createIndicator(indicator),\n            events.length === size ? createNextIndicator(indicator, response?.next) : undefined,\n        )\n    }\n\n    async getOffers(address: string, tokenId: string, options?: HubOptions_Base<ChainId>) {\n        return this.getOrders(address, tokenId, OrderSide.Buy, options)\n    }\n\n    async getListings(address: string, tokenId: string, options?: HubOptions_Base<ChainId>) {\n        return this.getOrders(address, tokenId, OrderSide.Sell, options)\n    }\n\n    async getOrders(\n        address: string,\n        tokenId: string,\n        side: OrderSide,\n        { chainId = ChainId.Mainnet, indicator, size }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const response = await fetchFromOpenSea<{\n            asset_events: OpenSeaAssetEvent[]\n            next: string\n            previous?: string\n        }>(\n            urlcat('/api/v1/events', {\n                asset_contract_address: address,\n                token_id: tokenId,\n                cursor: indicator?.id,\n                limit: size,\n                event_type: side === OrderSide.Sell ? 'created' : side === OrderSide.Buy ? 'offer_entered' : '',\n            }),\n            chainId,\n        )\n\n        const offers = response?.asset_events?.map((x) => createOrder(chainId, x, side)) ?? EMPTY_LIST\n\n        return createPageable(\n            offers,\n            createIndicator(indicator),\n            offers.length === size ? createNextIndicator(indicator, response?.next) : undefined,\n        )\n    }\n\n    async getCollectionsByOwner(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator, size = 50 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const response = await fetchFromOpenSea<OpenSeaCollection[]>(\n            urlcat('/api/v1/collections', {\n                asset_owner: address,\n                offset: (indicator?.index ?? 0) * size,\n                limit: size,\n            }),\n            chainId,\n        )\n        if (!response) return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const collections: Array<NonFungibleCollection<ChainId, SchemaType>> =\n            response\n                ?.map((x) => ({\n                    chainId,\n                    name: x.name,\n                    slug: x.slug,\n                    address: x.primary_asset_contracts?.[0]?.address,\n                    symbol: x.primary_asset_contracts?.[0]?.symbol,\n                    schema:\n                        x.primary_asset_contracts?.[0]?.schema_name === 'ERC1155'\n                            ? SchemaType.ERC1155\n                            : SchemaType.ERC721,\n                    description: x.description,\n                    iconURL: x.image_url,\n                    balance: x.owned_asset_count,\n                    verified: ['approved', 'verified'].includes(x.safelist_request_status ?? ''),\n                    createdAt: getUnixTime(new Date(x.created_date)),\n                }))\n                .filter((x) => x.address) ?? EMPTY_LIST\n\n        return createPageable(\n            collections,\n            createIndicator(indicator),\n            collections.length === size ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getStats(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleTokenStats | undefined> {\n        if (!isValidChainId(chainId)) return\n        const assetContract = await fetchFromOpenSea<OpenSeaAssetContract>(\n            urlcat('/api/v1/asset_contract/:address', { address }),\n            chainId,\n        )\n        const slug = assetContract?.collection.slug\n        if (!slug) return\n        const response = await fetchFromOpenSea<{\n            stats: OpenSeaCollectionStats\n        }>(\n            urlcat('/api/v1/collection/:slug/stats', {\n                slug,\n            }),\n            chainId,\n        )\n        const stats = response?.stats\n        if (!stats) return\n\n        return {\n            volume24h: stats.one_day_volume,\n            floorPrice: stats.floor_price,\n            count24h: stats.one_day_sales,\n        }\n    }\n}\nexport const OpenSea = new OpenSeaAPI()\n","import { memoize, uniqBy } from 'lodash-es'\nimport { memoizePromise } from '@masknet/kit'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { env } from '@masknet/flags'\nimport { type FungibleToken, type NonFungibleToken, TokenType } from '@masknet/web3-shared-base'\nimport { ChainId, SchemaType, formatEthereumAddress, getTokenListConstants } from '@masknet/web3-shared-evm'\nimport { ChainResolver } from '../../Web3/EVM/apis/ResolverAPI.js'\nimport { Duration } from '../../helpers/fetchCached.js'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport type { TokenListAPI } from '../../entry-types.js'\n\nconst fetchTokenList = memoizePromise(\n    memoize,\n    async (url: string) => {\n        return fetchCachedJSON<TokenListAPI.TokenList<ChainId> | TokenListAPI.TokenObject<ChainId>>(\n            url,\n            { cache: 'default' },\n            {\n                cacheDuration: Duration.TWELVE_HOURS,\n            },\n        )\n    },\n    (url) => url,\n)\n\n/**\n * Fetch tokens from common token list\n * @param url\n * @param chainId\n */\nasync function fetchCommonERC20TokensFromTokenList(\n    url: string,\n    chainId = ChainId.Mainnet,\n): Promise<Array<FungibleToken<ChainId, SchemaType.ERC20>>> {\n    return ((await fetchTokenList(url)) as TokenListAPI.TokenList<ChainId>).tokens\n        .filter(\n            (x) =>\n                x.chainId === chainId &&\n                (process.env.NODE_ENV === 'production' && env.channel === 'stable'\n                    ? ChainResolver.isMainnet(chainId)\n                    : true),\n        )\n        .map((x) => ({\n            id: x.address,\n            type: TokenType.Fungible,\n            schema: SchemaType.ERC20,\n            ...x,\n            logoURL: x.originLogoURI || x.logoURI,\n        }))\n}\n\n/**\n * Fetch tokens adapter\n * @param urls\n * @param chainId\n */\nasync function fetchERC20TokensFromTokenList(urls: string[], chainId = ChainId.Mainnet) {\n    const allRequest = urls.map(async (x) => {\n        const tokens = await fetchCommonERC20TokensFromTokenList(x, chainId)\n        return { tokens, weight: x.startsWith('https://tokens.r2d2.to') ? 1 : 0 }\n    })\n\n    const allListResponse = await Promise.allSettled(allRequest)\n    return allListResponse.map((x) => (x.status === 'fulfilled' ? x.value : { tokens: [], weight: 0 }))\n}\n\n/**\n * Fetch tokens from multiple token lists\n * @param urls\n * @param chainId\n */\nclass R2D2TokenListAPI implements TokenListAPI.Provider<ChainId, SchemaType> {\n    async getFungibleTokenList(chainId: ChainId, urls?: string[]) {\n        const { FUNGIBLE_TOKEN_LISTS = EMPTY_LIST } = getTokenListConstants(chainId)\n        const result = memoizePromise(\n            memoize,\n            async (urls: string[], chainId = ChainId.Mainnet): Promise<Array<FungibleToken<ChainId, SchemaType>>> => {\n                const tokens = (await fetchERC20TokensFromTokenList(urls, chainId))\n                    .sort((a, b) => b.weight - a.weight)\n                    .flatMap((x) => x.tokens)\n\n                return uniqBy(tokens, (x) => x.address.toLowerCase()).map((token) => {\n                    return {\n                        ...token,\n                        address: formatEthereumAddress(token.address),\n                    }\n                })\n            },\n            (urls, chainId) => `${chainId}-${urls.join(',')}`,\n        )\n\n        return result(urls ?? FUNGIBLE_TOKEN_LISTS, chainId)\n    }\n    async getNonFungibleTokenList(\n        chainId: ChainId,\n        urls?: string[],\n    ): Promise<Array<NonFungibleToken<ChainId, SchemaType>>> {\n        return EMPTY_LIST\n    }\n}\n\nexport const R2D2TokenList = new R2D2TokenListAPI()\n","import { resolveResourceURL } from '@masknet/web3-shared-base'\nimport type { RSS3BaseAPI } from '../entry-types.js'\n\n/**\n * Normalize RSS3 feed.\n *\n * @affects\n *   feed.actions[number].metadata.image\n *   feed.actions[number].metadata.token.image\n *   feed.actions[number].metadata.logo\n *\n * - resolve image resource\n */\nexport function normalizedFeed(feed: RSS3BaseAPI.Web3Feed) {\n    feed.actions.forEach((action) => {\n        if (!action.metadata) return\n        if ('image' in action.metadata) {\n            action.metadata.image = resolveResourceURL(action.metadata.image)!\n        } else if ('token' in action.metadata) {\n            action.metadata.token.image = resolveResourceURL(action.metadata.token.image)!\n        } else if ('logo' in action.metadata) {\n            action.metadata.logo = resolveResourceURL(action.metadata.logo)!\n        }\n    })\n}\n","import * as RSS3Next from /* webpackDefer: true */ 'rss3-next'\nimport urlcat, { query } from 'urlcat'\nimport { Telemetry } from '@masknet/web3-telemetry'\nimport { ExceptionID, ExceptionType } from '@masknet/web3-telemetry/types'\nimport { createIndicator, createNextIndicator, createPageable } from '@masknet/shared-base'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { queryClient } from '@masknet/shared-base-ui'\nimport { RSS3_FEED_ENDPOINT, RSS3_ENDPOINT, NameServiceToChainMap, RSS3_LEGACY_ENDPOINT } from '../constants.js'\nimport { type RSS3NameServiceResponse, type RSS3ProfilesResponse, TAG, TYPE } from '../types.js'\nimport { normalizedFeed } from '../helpers.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport { RSS3BaseAPI, type HubOptions_Base } from '../../entry-types.js'\n\ninterface RSS3Result<T> {\n    cursor?: string\n    total: number\n    result: T[]\n}\n\nconst fetchFromRSS3 = <T>(url: string) => {\n    return queryClient.fetchQuery({\n        queryKey: [url],\n        staleTime: 10_000,\n        queryFn: () => fetchJSON<T>(url),\n    })\n}\n\nexport class RSS3 {\n    static createRSS3(\n        address: string,\n        sign: (message: string) => Promise<string> = () => {\n            throw new Error('Not supported.')\n        },\n    ): RSS3Next.default {\n        return new RSS3Next.default({\n            endpoint: RSS3_LEGACY_ENDPOINT,\n            address,\n            sign,\n        })\n    }\n    static async getFileData<T>(rss3: RSS3Next.default, address: string, key: string) {\n        const file = await rss3.files.get(address)\n        if (!file) throw new Error('The account was not found.')\n        const descriptor = Object.getOwnPropertyDescriptor(file, key)\n        return descriptor?.value as T | undefined\n    }\n    static async setFileData<T>(rss3: RSS3Next.default, address: string, key: string, data: T): Promise<T> {\n        const file = await rss3.files.get(address)\n        if (!file) throw new Error('The account was not found.')\n        const descriptor = Object.getOwnPropertyDescriptor(file, key)\n        const value = {\n            ...(descriptor?.value as T | undefined),\n            ...data,\n        }\n        rss3.files.set(Object.assign(file, { [key]: value }))\n        await rss3.files.sync()\n        return value\n    }\n    static async getDonations(address: string, { indicator, size = 100 }: HubOptions_Base<ChainId> = {}) {\n        if (!address) return createPageable([], createIndicator(indicator))\n        const collectionURL = urlcat(RSS3_FEED_ENDPOINT, address, {\n            tag: TAG.donation,\n            type: TYPE.donate,\n            limit: size,\n            cursor: indicator?.id,\n            include_poap: true,\n        })\n        const { result: donations, cursor } = await fetchFromRSS3<RSS3Result<RSS3BaseAPI.Donation>>(collectionURL)\n        // A donation Feed contains multiple donation Actions. Let's flatten them.\n        const result = donations.flatMap((donation) => {\n            return donation.actions.map((action) => ({\n                ...donation,\n                actions: [action],\n            }))\n        })\n        return createPageable(result, createIndicator(indicator), createNextIndicator(indicator, cursor))\n    }\n    static async getFootprints(address: string, { indicator, size = 100 }: HubOptions_Base<ChainId> = {}) {\n        if (!address) return createPageable([], createIndicator(indicator))\n        const collectionURL = urlcat(RSS3_FEED_ENDPOINT, address, {\n            tag: TAG.collectible,\n            type: TYPE.poap,\n            limit: size,\n            cursor: indicator?.id,\n            include_poap: true,\n        })\n        const { result, cursor } = await fetchFromRSS3<RSS3Result<RSS3BaseAPI.Footprint>>(collectionURL)\n        return createPageable(result, createIndicator(indicator), createNextIndicator(indicator, cursor))\n    }\n    /** get .csb handle info */\n    static async getNameInfo(handle: string) {\n        if (!handle) return\n        const url = urlcat('https://pregod.rss3.dev/v1/ns/:id', { id: handle })\n        return fetchFromRSS3<RSS3BaseAPI.NameInfo>(url)\n    }\n\n    /**\n     * @deprecated\n     * Get feeds in tags of donation, collectible and transaction\n     */\n    static async getWeb3Feeds(address: string, { indicator, size = 100 }: HubOptions_Base<ChainId> = {}) {\n        if (!address) return createPageable([], createIndicator(indicator))\n        const tags = [RSS3BaseAPI.Tag.Donation, RSS3BaseAPI.Tag.Collectible, RSS3BaseAPI.Tag.Transaction]\n        const queryString = `tag=${tags.join('&tag=')}&${query({\n            limit: size,\n            cursor: indicator?.id ?? '',\n            include_poap: true,\n        })}`\n        const url = urlcat(RSS3_FEED_ENDPOINT, `/:address?${queryString}`, {\n            address,\n        })\n        const { result, cursor } = await fetchFromRSS3<{\n            result: RSS3BaseAPI.Activity[]\n            cursor?: string\n        }>(url)\n        result.forEach(normalizedFeed)\n        return createPageable(result, createIndicator(indicator), createNextIndicator(indicator, cursor))\n    }\n    static async getAllNotes(\n        address: string,\n        options: Partial<Record<string, string>> = {},\n        { indicator, size = 100 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!address) return createPageable([], createIndicator(indicator))\n        const url = urlcat(RSS3_FEED_ENDPOINT, '/:address', {\n            ...options,\n            address,\n            limit: size,\n            cursor: indicator?.id ?? '',\n        })\n        const res = await fetchFromRSS3<{\n            result: RSS3BaseAPI.Web3Feed[]\n            cursor?: string\n        }>(url)\n        if (!res.result)\n            Telemetry.captureException(\n                ExceptionType.Error,\n                ExceptionID.FetchError,\n                new Error(`No feeds response from ${url}`),\n            )\n        const { result = [], cursor } = res\n        result.forEach(normalizedFeed)\n        // createNextIndicator() return a fallback indicator as `{ id: 1, index: 1 }`\n        // which will fail the API, so we pass undefined if cursor is undefined\n        return createPageable(\n            result,\n            createIndicator(indicator),\n            cursor ? createNextIndicator(indicator, cursor) : undefined,\n        )\n    }\n\n    static async getProfiles(handle: string) {\n        const url = urlcat(RSS3_ENDPOINT, '/profiles/:handle', {\n            handle,\n        })\n        const response = await fetchFromRSS3<RSS3ProfilesResponse>(url)\n\n        if ('error' in response) return []\n        return response.result\n    }\n\n    static async getNameService(handle: string) {\n        const url = urlcat(RSS3_ENDPOINT, '/ns/:handle', {\n            handle,\n        })\n        const response = await fetchFromRSS3<RSS3NameServiceResponse>(url)\n        const suffix = handle.split('.').pop() as keyof typeof NameServiceToChainMap\n\n        if ('error' in response) return\n\n        return {\n            address: response.address,\n            chainId: NameServiceToChainMap[suffix],\n        }\n    }\n}\n","import { ChainId } from '@masknet/web3-shared-evm'\nimport { NETWORK } from './types.js'\n\nexport const RSS3_LEGACY_ENDPOINT = 'https://hub.pass3.me'\nexport const RSS3_ENDPOINT = 'https://pregod.rss3.dev/v1'\nexport const RSS3_FEED_ENDPOINT = 'https://pregod.rss3.dev/v1/notes/'\n\n/** Lowercase platform as key */\nexport const PlatformToChainIdMap: Partial<Record<NETWORK, ChainId>> = {\n    [NETWORK.arbitrum]: ChainId.Arbitrum,\n    [NETWORK.avalanche]: ChainId.Avalanche,\n    [NETWORK.crossbell]: ChainId.Crossbell,\n    [NETWORK.ethereum]: ChainId.Mainnet,\n    [NETWORK.binance_smart_chain]: ChainId.BSC,\n    [NETWORK.polygon]: ChainId.Matic,\n    [NETWORK.xdai]: ChainId.xDai,\n    [NETWORK.optimism]: ChainId.Optimism,\n    [NETWORK.fantom]: ChainId.Fantom,\n}\n\nexport const NameServiceToChainMap = {\n    eth: ChainId.Mainnet,\n    csb: ChainId.Crossbell,\n    lens: ChainId.Matic,\n    bnb: ChainId.BSC,\n    bit: ChainId.Mainnet,\n    888: ChainId.Mainnet,\n    bitcoin: ChainId.Mainnet,\n    blockchain: ChainId.Mainnet,\n    crypto: ChainId.Mainnet,\n    dao: ChainId.Mainnet,\n    nft: ChainId.Mainnet,\n    wallet: ChainId.Mainnet,\n    x: ChainId.Mainnet,\n    zil: ChainId.Mainnet,\n} as const\n","export enum CollectionType {\n    NFTs = 'NFTs',\n    Donations = 'Donations',\n    Footprints = 'Footprints',\n    Feeds = 'Feeds',\n}\n\nexport enum TAG {\n    NFT = 'NFT',\n    Token = 'Token',\n    POAP = 'POAP',\n    Gitcoin = 'Gitcoin',\n    Mirror = 'Mirror Entry',\n    ETH = 'ETH',\n}\n\nexport enum NETWORK {\n    ethereum = 'ethereum',\n    ethereum_classic = 'ethereum_classic',\n    binance_smart_chain = 'binance_smart_chain',\n    polygon = 'polygon',\n    zksync = 'zksync',\n    xdai = 'xdai',\n    arweave = 'arweave',\n    arbitrum = 'arbitrum',\n    optimism = 'optimism',\n    fantom = 'fantom',\n    avalanche = 'avalanche',\n    crossbell = 'crossbell',\n}\nexport enum PLATFORM {\n    mirror = 'mirror',\n    lens = 'lens',\n    gitcoin = 'gitcoin',\n    snapshot = 'snapshot',\n    uniswap = 'uniswap',\n    binance = 'binance',\n    crossbell = 'crossbell',\n}\n\nexport enum TAG {\n    social = 'social',\n    transaction = 'transaction',\n    exchange = 'exchange',\n    collectible = 'collectible',\n    donation = 'donation',\n    governance = 'governance',\n}\n\nexport enum TYPE {\n    transfer = 'transfer',\n    mint = 'mint',\n    burn = 'burn',\n    withdraw = 'withdraw',\n    deposit = 'deposit',\n    swap = 'swap',\n    trade = 'trade',\n    poap = 'poap',\n    post = 'post',\n    comment = 'comment',\n    share = 'share',\n    profile = 'profile',\n    follow = 'follow',\n    unfollow = 'unfollow',\n    like = 'like',\n    propose = 'propose',\n    vote = 'vote',\n    launch = 'launch',\n    donate = 'donate',\n}\n\nexport interface RSS3ProfileResult {\n    address: string\n    network: NETWORK\n    platform: PLATFORM\n    source: 'Lens'\n    /** @example vitalik.lens */\n    name: string\n    /** @example vitalik.lens */\n    handle: string\n    bio: string\n    url: string\n    /** Could be http url, or ipfs url */\n    profile_uri: string[]\n}\n\ntype Response<T> = T | { error: string }\nexport type RSS3ProfilesResponse = Response<{\n    total: number\n    result: RSS3ProfileResult[]\n}>\n\nexport type RSS3NameServiceResponse = Response<{\n    ens: string\n    crossbell: string\n    lens: string\n    spaceid: string\n    unstoppable_domains: string\n    bit: string\n    avvy: string\n    /** hex address */\n    address: string\n}>\n","export const NON_FUNGIBLE_TOKEN_API_URL = 'https://api.rabby.io/v1/user/nft_authorized_list'\nexport const FUNGIBLE_TOKEN_API_URL = 'https://api.rabby.io/v1/user/token_authorized_list'\n","import urlcat from 'urlcat'\nimport { omit } from 'lodash-es'\nimport { type ChainId, type SchemaType, isValidChainId } from '@masknet/web3-shared-evm'\nimport { isSameAddress, type NonFungibleContractSpender, type FungibleTokenSpender } from '@masknet/web3-shared-base'\nimport { getAllMaskDappContractInfo } from '../helpers/getAllMaskDappContractInfo.js'\nimport { NON_FUNGIBLE_TOKEN_API_URL, FUNGIBLE_TOKEN_API_URL } from './constants.js'\nimport type { NFTInfo, RawTokenInfo, TokenSpender } from './types.js'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\nimport type { AuthorizationAPI } from '../entry-types.js'\nimport { CHIAN_ID_TO_DEBANK_CHAIN_MAP } from '../DeBank/constants.js'\n\nclass RabbyAPI implements AuthorizationAPI.Provider<ChainId> {\n    async getNonFungibleTokenSpenders(chainId: ChainId, account: string) {\n        const maskDappContractInfoList = getAllMaskDappContractInfo(chainId, 'nft')\n        const debankChainId = CHIAN_ID_TO_DEBANK_CHAIN_MAP[chainId]\n\n        if (!debankChainId || !account || !isValidChainId(chainId)) return []\n        const rawData = await fetchJSON<{ contracts: NFTInfo[] }>(\n            urlcat(NON_FUNGIBLE_TOKEN_API_URL, { id: account, chain_id: debankChainId }),\n        )\n\n        return rawData.contracts\n            .filter((x) => x.amount !== '0' && x.is_erc721)\n            .map((x) => {\n                const maskDappContractInfo = maskDappContractInfoList.find((y) =>\n                    isSameAddress(y.address, x.spender.id),\n                )\n\n                if (maskDappContractInfo) {\n                    return {\n                        ...x,\n                        contract: {\n                            address: x.contract_id,\n                            name: x.contract_name,\n                        },\n                        address: x.spender.id,\n                        name: maskDappContractInfo.name,\n                        logo: maskDappContractInfo.logo,\n                        isMaskDapp: true,\n                    }\n                }\n\n                return {\n                    ...x,\n                    ...x.spender,\n                    address: x.spender.id,\n                    contract: {\n                        address: x.contract_id,\n                        name: x.contract_name,\n                    },\n                    isMaskDapp: false,\n                }\n            })\n            .sort((a, b) => {\n                if (a.isMaskDapp && !b.isMaskDapp) return -1\n                if (!a.isMaskDapp && b.isMaskDapp) return 1\n                return Number(b.amount) - Number(a.amount)\n            }) as Array<NonFungibleContractSpender<ChainId, SchemaType>>\n    }\n\n    async getFungibleTokenSpenders(chainId: ChainId, account: string) {\n        const maskDappContractInfoList = getAllMaskDappContractInfo(chainId, 'token')\n        const debankChainId = CHIAN_ID_TO_DEBANK_CHAIN_MAP[chainId]\n\n        if (!debankChainId || !account || !isValidChainId(chainId)) return []\n\n        const rawData = await fetchJSON<RawTokenInfo[]>(\n            urlcat(FUNGIBLE_TOKEN_API_URL, { id: account, chain_id: debankChainId }),\n        )\n        return rawData\n            .reduce<TokenSpender[]>((acc, cur) => {\n                const tokenInfo = omit({ ...cur, address: cur.id, logoURL: cur.logo_url }, ['spenders'])\n                return acc.concat(\n                    cur.spenders.map((rawSpender) => {\n                        const spender = omit(\n                            {\n                                ...rawSpender,\n                                name: rawSpender.protocol?.name,\n                                logo: rawSpender.protocol?.logo_url,\n                                address: rawSpender.id,\n                                amount: rawSpender.value,\n                                tokenInfo,\n                            },\n                            ['protocol'],\n                        )\n\n                        const maskDappContractInfo = maskDappContractInfoList.find((x) =>\n                            isSameAddress(x.address, spender.id),\n                        )\n\n                        if (maskDappContractInfo) {\n                            return {\n                                ...spender,\n                                name: maskDappContractInfo.name,\n                                logo: maskDappContractInfo.logo,\n                                isMaskDapp: true,\n                            }\n                        }\n\n                        return { ...spender, isMaskDapp: false }\n                    }),\n                )\n            }, [])\n            .sort((a, b) => {\n                if (a.isMaskDapp && !b.isMaskDapp) return -1\n                if (!a.isMaskDapp && b.isMaskDapp) return 1\n                return b.exposure_usd - a.exposure_usd\n            }) as Array<FungibleTokenSpender<ChainId, SchemaType>>\n    }\n}\nexport const Rabby = new RabbyAPI()\n","import urlcat from 'urlcat'\nimport { type Transaction } from '@masknet/web3-shared-base'\nimport {\n    asyncIteratorToArray,\n    createIndicator,\n    createNextIndicator,\n    createPageable,\n    pageableToIterator,\n} from '@masknet/shared-base'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { TRANSACTIONS_BY_CONTRACT_METHOD_ENDPOINT, MAX_SIZE_PER_PAGE } from '../constants.js'\nimport type { Tx } from '../types.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport type { RedPacketBaseAPI } from '../../entry-types.js'\n\nclass ChainbaseRedPacketAPI implements RedPacketBaseAPI.Provider<ChainId, SchemaType> {\n    async getHistoryTransactions(\n        chainId: ChainId,\n        senderAddress: string,\n        contractAddress: string,\n        methodId: string,\n    ): Promise<Array<Transaction<ChainId, SchemaType>> | undefined> {\n        try {\n            const txs = await asyncIteratorToArray(\n                pageableToIterator(async (indicator) => {\n                    const { records } = await fetchJSON<{ records: { data: { result: Tx[] } } }>(\n                        urlcat(TRANSACTIONS_BY_CONTRACT_METHOD_ENDPOINT, {\n                            senderAddress,\n                            contractAddress,\n                            chainId,\n                            methodId: `${methodId}%`, // '%' for sql string match.\n                            size: MAX_SIZE_PER_PAGE,\n                            offset: Number(indicator?.id ?? 0) * MAX_SIZE_PER_PAGE,\n                        }),\n                    )\n\n                    return createPageable(\n                        records.data.result,\n                        createIndicator(indicator),\n                        records.data.result.length === 0 ? undefined : createNextIndicator(indicator),\n                    )\n                }),\n            )\n\n            if (!txs?.length) return\n\n            return txs\n                .sort((a, b) => new Date(b.block_timestamp).getTime() - new Date(a.block_timestamp).getTime())\n                .map(\n                    (x) =>\n                        ({\n                            input: x.input,\n                            to: x.to_address,\n                            from: x.from_address,\n                            hash: x.transaction_hash,\n                            chainId,\n                            blockNumber: Number(x.block_number),\n                        }) as Transaction<ChainId, SchemaType>,\n                )\n        } catch {\n            return\n        }\n    }\n}\nexport const ChainbaseRedPacket = new ChainbaseRedPacketAPI()\n","import urlcat from 'urlcat'\nimport { isSameAddress, type Transaction } from '@masknet/web3-shared-base'\nimport { EtherscanURL } from '@masknet/web3-shared-evm'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport type { RedPacketBaseAPI } from '../../entry-types.js'\n\nclass EtherscanRedPacketAPI implements RedPacketBaseAPI.Provider<ChainId, SchemaType> {\n    async getHistoryTransactions(\n        chainId: ChainId,\n        senderAddress: string,\n        contractAddress: string,\n        methodId: string,\n        startBlock: number,\n        endBlock: number,\n    ): Promise<Array<Transaction<ChainId, SchemaType>> | undefined> {\n        if (!senderAddress || !contractAddress || !startBlock || !endBlock || !methodId) return\n\n        try {\n            const { result } = await fetchJSON<{ result: Array<Transaction<ChainId, SchemaType>> }>(\n                urlcat(EtherscanURL.from(chainId), {\n                    action: 'txlist',\n                    module: 'account',\n                    sort: 'desc',\n                    startBlock,\n                    endBlock,\n                    address: contractAddress,\n                    chain_id: chainId,\n                }),\n            )\n\n            if (!result) return\n\n            return result\n                .filter(\n                    (x) => x.methodId?.toLowerCase() === methodId.toLowerCase() && isSameAddress(x.from, senderAddress),\n                )\n                .map((x) => ({ ...x, chainId }))\n        } catch {\n            return\n        }\n    }\n}\nexport const EtherscanRedPacket = new EtherscanRedPacketAPI()\n","export const CREATE_LUCKY_DROP_TOPIC = '0x86af556fd7cfab9462285ad44f2d5913527c539ff549f74731ca9997ca534018'\n","import { secondsToMilliseconds } from 'date-fns'\nimport { abiCoder, type ChainId, type SchemaType } from '@masknet/web3-shared-evm'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport REDPACKET_ABI from '@masknet/web3-contracts/abis/HappyRedPacketV4.json'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport { ConnectionReadonlyAPI } from '../Web3/EVM/apis/ConnectionReadonlyAPI.js'\nimport type { RedPacketJSONPayloadFromChain } from './types.js'\nimport { CREATE_LUCKY_DROP_TOPIC } from './constants.js'\nimport type { RedPacketBaseAPI } from '../entry-types.js'\n\nconst creationSuccessTopicInputs = REDPACKET_ABI.find((x) => x.name === 'CreationSuccess')?.inputs!\n\nexport class ContractRedPacketAPI implements RedPacketBaseAPI.Provider<ChainId, SchemaType> {\n    private Web3 = new ConnectionReadonlyAPI()\n\n    async getHistories(\n        chainId: ChainId,\n        senderAddress: string,\n        contractAddress: string,\n        methodId: string,\n        fromBlock: number,\n        toBlock: number,\n    ): Promise<RedPacketJSONPayloadFromChain[] | undefined> {\n        if (!senderAddress || !contractAddress || !fromBlock || !toBlock || !methodId) return\n\n        const logs = await this.Web3.getWeb3({ chainId }).eth.getPastLogs({\n            topics: [CREATE_LUCKY_DROP_TOPIC],\n            address: contractAddress,\n            fromBlock,\n            toBlock,\n        })\n\n        return logs\n            .map((log) => {\n                const result = abiCoder.decodeLog(creationSuccessTopicInputs, log.data, [\n                    CREATE_LUCKY_DROP_TOPIC,\n                ]) as unknown as {\n                    creation_time: string // 10\n                    creator: string\n                    duration: string // 86400\n                    id: string\n                    ifrandom: boolean\n                    message: string\n                    name: string\n                    number: string\n                    token_address: string\n                    total: string\n                }\n\n                return { result, log }\n            })\n            .filter((x) => isSameAddress(x.result.creator, senderAddress))\n            .map(\n                (x) =>\n                    ({\n                        contract_address: contractAddress,\n                        txid: x.log.transactionHash,\n                        chainId,\n                        shares: Number(x.result.number),\n                        is_random: x.result.ifrandom,\n                        total: x.result.total,\n                        duration: secondsToMilliseconds(Number(x.result.duration)),\n                        block_number: x.log.blockNumber,\n                        contract_version: 4,\n                        network: ChainResolver.networkType(chainId),\n                        token_address: x.result.token_address,\n                        sender: {\n                            address: senderAddress,\n                            name: x.result.name,\n                            message: x.result.message,\n                        },\n                        rpid: x.result.id,\n                        creation_time: secondsToMilliseconds(Number(x.result.creation_time)),\n                        // #region Retrieve at RedPacketInHistoryList component\n                        total_remaining: '',\n                        // #endregion\n                        // #region Retrieve from database\n                        password: '',\n                        // #endregion\n                    }) as RedPacketJSONPayloadFromChain,\n            )\n    }\n}\n","import urlcat from 'urlcat'\nimport { mapKeys } from 'lodash-es'\nimport type { AbiItem } from 'web3-utils'\nimport { createIndicator, createPageable, type PageIndicator, type Pageable, EMPTY_LIST } from '@masknet/shared-base'\nimport { type Transaction, attemptUntil, type NonFungibleCollection } from '@masknet/web3-shared-base'\nimport { decodeFunctionData, type ChainId, type SchemaType } from '@masknet/web3-shared-evm'\nimport REDPACKET_ABI from '@masknet/web3-contracts/abis/HappyRedPacketV4.json'\nimport NFT_REDPACKET_ABI from '@masknet/web3-contracts/abis/NftRedPacket.json'\nimport { DSEARCH_BASE_URL } from '../DSearch/constants.js'\nimport { fetchFromDSearch } from '../DSearch/helpers.js'\nimport { ChainbaseRedPacket } from '../Chainbase/index.js'\nimport { EtherscanRedPacket } from '../Etherscan/index.js'\nimport { ContractRedPacketAPI } from './api.js'\nimport {\n    type RedPacketJSONPayloadFromChain,\n    type NftRedPacketJSONPayload,\n    type CreateNFTRedpacketParam,\n} from './types.js'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport type { HubOptions_Base, RedPacketBaseAPI } from '../entry-types.js'\n\nexport class RedPacketAPI implements RedPacketBaseAPI.Provider<ChainId, SchemaType> {\n    private ContractRedPacket = new ContractRedPacketAPI()\n\n    getHistories(\n        chainId: ChainId,\n        senderAddress: string,\n        contractAddress: string,\n        methodId: string,\n        fromBlock: number,\n        endBlock: number,\n    ): Promise<RedPacketJSONPayloadFromChain[] | undefined> {\n        return attemptUntil(\n            [\n                async () =>\n                    this.ContractRedPacket.getHistories(\n                        chainId,\n                        senderAddress,\n                        contractAddress,\n                        methodId,\n                        fromBlock,\n                        endBlock,\n                    ),\n                async () =>\n                    this.parseRedPacketCreationTransactions(\n                        await this.getHistoryTransactions(\n                            chainId,\n                            senderAddress,\n                            contractAddress,\n                            methodId,\n                            fromBlock,\n                            endBlock,\n                        ),\n                        senderAddress,\n                    ),\n            ],\n            [],\n        )\n    }\n\n    async getNFTHistories(\n        chainId: ChainId,\n        senderAddress: string,\n        contractAddress: string,\n        methodId: string,\n        fromBlock: number,\n        endBlock: number,\n    ): Promise<NftRedPacketJSONPayload[] | undefined> {\n        return this.parseNFTRedPacketCreationTransactions(\n            await this.getHistoryTransactions(chainId, senderAddress, contractAddress, methodId, fromBlock, endBlock),\n            senderAddress,\n        )\n    }\n\n    async getHistoryTransactions(\n        chainId: ChainId,\n        senderAddress: string,\n        contractAddress: string,\n        methodId: string,\n        fromBlock: number,\n        endBlock: number,\n    ) {\n        return attemptUntil(\n            [\n                async () =>\n                    await EtherscanRedPacket.getHistoryTransactions(\n                        chainId,\n                        senderAddress,\n                        contractAddress,\n                        methodId,\n                        fromBlock,\n                        endBlock,\n                    ),\n\n                async () =>\n                    await ChainbaseRedPacket.getHistoryTransactions(chainId, senderAddress, contractAddress, methodId),\n            ],\n            [],\n        )\n    }\n\n    async getCollectionsByOwner(\n        account: string,\n        { chainId, indicator }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<NonFungibleCollection<ChainId, SchemaType>, PageIndicator>> {\n        const result = await fetchFromDSearch<{\n            [owner: string]: Array<NonFungibleCollection<ChainId, SchemaType>>\n        }>(urlcat(DSEARCH_BASE_URL, '/nft-lucky-drop/specific-list.json'))\n        const list = mapKeys(result, (_v, k) => k.toLowerCase())?.[account.toLowerCase()].filter(\n            (x) => x.chainId === chainId,\n        )\n        return createPageable(list, createIndicator(indicator))\n    }\n\n    private parseNFTRedPacketCreationTransactions(\n        transactions: Array<Transaction<ChainId, SchemaType>> | undefined,\n        senderAddress: string,\n    ): NftRedPacketJSONPayload[] {\n        if (!transactions) return EMPTY_LIST\n\n        return transactions.flatMap((tx) => {\n            try {\n                const decodedInputParam = decodeFunctionData(\n                    NFT_REDPACKET_ABI as AbiItem[],\n                    tx.input ?? '',\n                    'create_red_packet',\n                ) as CreateNFTRedpacketParam\n\n                const redpacketPayload: NftRedPacketJSONPayload = {\n                    contract_address: tx.to,\n                    txid: tx.hash ?? '',\n                    contract_version: 1,\n                    shares: decodedInputParam._erc721_token_ids.length,\n                    network: ChainResolver.networkType(tx.chainId),\n                    token_address: decodedInputParam._token_addr,\n                    chainId: tx.chainId,\n                    sender: {\n                        address: senderAddress,\n                        name: decodedInputParam._name,\n                        message: decodedInputParam._message,\n                    },\n                    duration: decodedInputParam._duration.toNumber() * 1000,\n                    token_ids: decodedInputParam._erc721_token_ids.map((x) => x.toString()),\n                    // #region Retrieve at NFT History List Item.\n                    rpid: '',\n                    creation_time: 0,\n                    // #endregion\n                    // #region Retrieve from database\n                    password: '',\n                    // #endregion\n                }\n\n                return redpacketPayload\n            } catch {\n                return EMPTY_LIST\n            }\n        })\n    }\n\n    private parseRedPacketCreationTransactions(\n        transactions: Array<Transaction<ChainId, SchemaType>> | undefined,\n        senderAddress: string,\n    ): RedPacketJSONPayloadFromChain[] {\n        if (!transactions) return EMPTY_LIST\n\n        return transactions.flatMap((tx) => {\n            try {\n                const decodedInputParam = decodeFunctionData(\n                    REDPACKET_ABI as AbiItem[],\n                    tx.input ?? '',\n                    'create_red_packet',\n                )\n\n                const redpacketPayload: RedPacketJSONPayloadFromChain = {\n                    contract_address: tx.to,\n                    txid: tx.hash ?? '',\n                    chainId: tx.chainId,\n                    shares: decodedInputParam._number.toNumber(),\n                    is_random: decodedInputParam._ifrandom,\n                    total: decodedInputParam._total_tokens.toString(),\n                    duration: decodedInputParam._duration.toNumber() * 1000,\n                    block_number: Number(tx.blockNumber),\n                    contract_version: 4,\n                    network: ChainResolver.networkType(tx.chainId),\n                    token_address: decodedInputParam._token_addr,\n                    sender: {\n                        address: senderAddress,\n                        name: decodedInputParam._name,\n                        message: decodedInputParam._message,\n                    },\n                    // #region Retrieve at RedPacketInHistoryList component\n                    rpid: '',\n                    creation_time: 0,\n                    total_remaining: '',\n                    // #endregion\n                    // #region Retrieve from database\n                    password: '',\n                    // #endregion\n                }\n                return redpacketPayload\n            } catch {\n                return EMPTY_LIST\n            }\n        })\n    }\n}\n","import urlcat from 'urlcat'\nimport { ChainId, isValidAddress, isValidDomain } from '@masknet/web3-shared-evm'\nimport type { DomainAPI } from '../../entry-types.js'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport { resolveCrossOriginURL } from '@masknet/web3-shared-base'\n\nconst ROOT_HOST = 'https://api.prd.space.id'\n\nclass SID_DomainAPI implements DomainAPI.Provider<ChainId> {\n    private resolveTLD(chainId: ChainId) {\n        switch (chainId) {\n            case ChainId.BSC:\n                return 'bnb'\n            case ChainId.Arbitrum:\n                return 'arb1'\n            default:\n                return\n        }\n    }\n\n    async lookup(chainId: ChainId, name: string): Promise<string | undefined> {\n        const tld = this.resolveTLD(chainId)\n        if (!tld) return\n\n        const url = resolveCrossOriginURL(\n            urlcat(ROOT_HOST, '/v1/getAddress', {\n                tld,\n                domain: name,\n            }),\n        )\n        const result = await fetchCachedJSON<{ code: number; address: string }>(url)\n\n        if (result.code === 0 && isValidAddress(result.address)) return result.address\n        return\n    }\n\n    async reverse(chainId: ChainId, address: string): Promise<string | undefined> {\n        const tld = this.resolveTLD(chainId)\n        if (!tld) return\n\n        const url = resolveCrossOriginURL(\n            urlcat(ROOT_HOST, '/v1/getName', {\n                tld,\n                address,\n            }),\n        )\n        const result = await fetchCachedJSON<{ code: number; name: string }>(url)\n\n        if (result.code === 0 && isValidDomain(result.name)) return result.name\n        return\n    }\n}\n\nexport const SID_Domain = new SID_DomainAPI()\n","import { produce } from 'immer'\nimport { type SimpleHash } from '../types/SimpleHash.js'\nimport { maxBy, uniqBy } from 'lodash-es'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport type { TrendingAPI } from '../entry-types.js'\nimport { BigNumber } from 'bignumber.js'\nimport { leftShift } from '@masknet/web3-shared-base'\n\ntype HistoricalPriceMap = Record<string, TrendingAPI.Stat[]>\ntype PaymentTokenMap = Record<string, SimpleHash.PaymentToken>\n\nclass HistoricalPriceState {\n    private _priceState: HistoricalPriceMap = {}\n    private _paymentTokenState: PaymentTokenMap = {}\n    private _allLoadedIdListState: string[] = []\n\n    get priceState() {\n        return this._priceState\n    }\n\n    public getPriceStats(id: string, range?: number) {\n        const allStats = this._priceState[id]\n\n        return range ? allStats.filter((x) => x[0] > range) : allStats\n    }\n\n    public getHighestPrice(id: string) {\n        return this._priceState[id] ? maxBy(this._priceState[id], (x) => x[1])?.[1] : undefined\n    }\n\n    public isLoaded(id: string, fromTimeStamp?: number) {\n        return (\n            !!this._allLoadedIdListState.find((x) => x === id) ||\n            (fromTimeStamp && !!this._priceState[id]?.find((x) => x[0] < fromTimeStamp))\n        )\n    }\n\n    public updatePriceState(\n        id: string,\n        priceStats: SimpleHash.PriceStat[],\n        paymentToken: SimpleHash.PaymentToken | undefined,\n    ) {\n        if (!paymentToken) return\n\n        this._priceState = produce(this._priceState, (draft) => {\n            if (!draft[id]) draft[id] = EMPTY_LIST\n            priceStats.map((x) => [\n                new Date(x.timestamp).getTime(),\n                new BigNumber(leftShift(x.floor_price, paymentToken.decimals).toPrecision(4)).toNumber(),\n            ])\n            draft[id] = uniqBy(\n                draft[id]\n                    .concat(\n                        priceStats.map((x) => [\n                            new Date(x.timestamp).getTime(),\n                            new BigNumber(leftShift(x.floor_price, paymentToken.decimals).toPrecision(4)).toNumber(),\n                        ]),\n                    )\n                    .sort((a, b) => a[0] - b[0]),\n                (x) => x[0],\n            )\n        })\n\n        this._paymentTokenState = produce(this._paymentTokenState, (draft) => {\n            draft[id] = paymentToken\n        })\n    }\n\n    public updateAllLoadedIdListState(id: string) {\n        this._allLoadedIdListState = produce(this._allLoadedIdListState, (draft) => draft.concat(id))\n    }\n}\n\nexport const historicalPriceState = new HistoricalPriceState()\n","import urlcat from 'urlcat'\nimport { compact } from 'lodash-es'\nimport { MaskIconURLs } from '@masknet/icons'\nimport {\n    EMPTY_LIST,\n    createPageable,\n    type Pageable,\n    type PageIndicator,\n    createIndicator,\n    createNextIndicator,\n    NetworkPluginID,\n    type Days,\n} from '@masknet/shared-base'\nimport {\n    SourceType,\n    type NonFungibleAsset,\n    type NonFungibleCollection,\n    type NonFungibleTokenActivity,\n    TokenType,\n    leftShift,\n    type NonFungibleCollectionOverview,\n} from '@masknet/web3-shared-base'\nimport { formatBalance } from '@masknet/web3-shared-base'\nimport { subSeconds, isAfter, secondsToMilliseconds, millisecondsToSeconds } from 'date-fns'\nimport { ChainId, SchemaType, isValidChainId, ZERO_ADDRESS } from '@masknet/web3-shared-evm'\nimport {\n    fetchFromSimpleHash,\n    createNonFungibleAsset,\n    resolveChain,\n    createNonFungibleCollection,\n    resolveChainId,\n    getAllChainNames,\n    resolveEventType,\n    resolveSimpleHashRange,\n    checkBlurToken,\n    isLensFollower,\n} from '../helpers.js'\nimport { LooksRare } from '../../LooksRare/index.js'\nimport { OpenSea } from '../../OpenSea/index.js'\nimport { getContractSymbol } from '../../helpers/getContractSymbol.js'\nimport { NonFungibleMarketplace } from '../../NFTScan/helpers/utils.js'\nimport { ChainResolver, ExplorerResolver } from '../../Web3/EVM/apis/ResolverAPI.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI, TrendingAPI } from '../../entry-types.js'\nimport { historicalPriceState } from '../historicalPriceState.js'\nimport { SIMPLE_HASH_HISTORICAL_PRICE_START_TIME, SPAM_SCORE } from '../constants.js'\nimport { SimpleHash } from '../../types/SimpleHash.js'\n\nclass SimpleHashAPI_EVM implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getCollectionByContractAddress(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<SimpleHash.Collection | undefined> {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_EVM, chainId)\n        if (!chain || !address || !isValidChainId(chainId)) return\n        const path = urlcat('/api/v0/nfts/collections/:chain/:address', {\n            chain,\n            address,\n        })\n\n        const { collections } = await fetchFromSimpleHash<{ collections: SimpleHash.Collection[] }>(path)\n\n        return collections[0]\n    }\n\n    async getAsset(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, account }: HubOptions_Base<ChainId> = {},\n    ) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_EVM, chainId)\n        if (!chain || !address || !tokenId || !isValidChainId(chainId)) return\n        const path = urlcat('/api/v0/nfts/:chain/:address/:tokenId', {\n            chain,\n            address,\n            tokenId,\n        })\n        const response = await fetchFromSimpleHash<SimpleHash.Asset>(path)\n        const asset = createNonFungibleAsset(response)\n\n        if (asset?.schema === SchemaType.ERC1155 && account) {\n            const pathToQueryOwner = urlcat('/api/v0/nfts/contracts', {\n                chains: chain,\n                wallet_addresses: account,\n                contract_addresses: asset.address,\n            })\n\n            const ownershipResponse = await fetchFromSimpleHash<{ wallets: SimpleHash.Ownership[] }>(pathToQueryOwner)\n\n            if (ownershipResponse.wallets?.[0]?.contracts?.[0].token_ids?.includes(asset.tokenId)) {\n                asset.owner = { address: account }\n            }\n        }\n\n        return asset\n    }\n\n    async getCollectionOverview(chainId: ChainId, id: string): Promise<NonFungibleCollectionOverview | undefined> {\n        const path = urlcat('/api/v0/nfts/collections_activity', {\n            collection_ids: id,\n        })\n\n        const response = await fetchFromSimpleHash<{ collections: SimpleHash.CollectionOverview[] }>(path)\n        const overview = response.collections[0]\n\n        const floorPricePath = urlcat('/api/v0/nfts/floor_prices/collection/:id/opensea', {\n            id,\n        })\n\n        const floorPriceResponse = await fetchFromSimpleHash<{ '1_day_average': number }>(floorPricePath)\n\n        return {\n            collection: overview.name,\n            market_cap: formatBalance(overview.market_cap, overview.payment_token.decimals),\n            average_price_change_1d: overview['1_day_volume_change_percent'] + '%',\n            volume_24h: formatBalance(overview['1_day_volume'], overview.payment_token.decimals),\n            average_price_24h: formatBalance(floorPriceResponse['1_day_average'], overview.payment_token.decimals),\n            total_volume: formatBalance(overview.all_time_volume, overview.payment_token.decimals),\n        }\n    }\n\n    async getAssets(account: string, { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {}) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_EVM, chainId)\n        if (!account || !isValidChainId(chainId) || !chain) {\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n        }\n        const path = urlcat('/api/v0/nfts/owners', {\n            chains: chain,\n            wallet_addresses: account,\n            contract_addresses: '',\n            cursor: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n        })\n\n        const response = await fetchFromSimpleHash<{ next_cursor: string; nfts: SimpleHash.Asset[] }>(path)\n        const assets = response.nfts.map((x) => createNonFungibleAsset(x)).filter(Boolean) as Array<\n            NonFungibleAsset<ChainId, SchemaType>\n        >\n\n        return createPageable(\n            assets,\n            indicator,\n            response.next_cursor ? createNextIndicator(indicator, response.next_cursor) : undefined,\n        )\n    }\n\n    async getAssetsByCollection(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_EVM, chainId)\n        if (!chain || !address || !isValidChainId(chainId)) {\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n        }\n\n        const path = urlcat(`/api/v0/nfts/${chain}/:address`, {\n            address,\n            cursor: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n        })\n\n        const response = await fetchFromSimpleHash<{ next_cursor: string; nfts: SimpleHash.Asset[] }>(path)\n\n        const assets = response.nfts.map((x) => createNonFungibleAsset(x)).filter(Boolean) as Array<\n            NonFungibleAsset<ChainId, SchemaType>\n        >\n\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response.next_cursor ? createNextIndicator(indicator, response.next_cursor) : undefined,\n        )\n    }\n\n    async getCoinPriceStats(\n        chainId: ChainId,\n        collectionId: string,\n        currency: TrendingAPI.Currency,\n        days: Days,\n    ): Promise<TrendingAPI.Stat[]> {\n        const range = resolveSimpleHashRange(days)\n        const to_timeStamp = millisecondsToSeconds(Date.now())\n        const isLoadAll = !range\n        const from_timeStamp = isLoadAll ? SIMPLE_HASH_HISTORICAL_PRICE_START_TIME : to_timeStamp - range\n        let cursor = '' as string | null\n        while (cursor !== null && !historicalPriceState.isLoaded(collectionId, secondsToMilliseconds(from_timeStamp))) {\n            const path = urlcat('/api/v0/nfts/floor_prices/collection/:collectionId/opensea', {\n                collectionId,\n                to_timeStamp,\n                from_timeStamp,\n                cursor: cursor ? cursor : undefined,\n            })\n\n            const response = await fetchFromSimpleHash<{\n                next_cursor: string\n                floor_prices: SimpleHash.PriceStat[]\n                payment_token: SimpleHash.PaymentToken\n            }>(path)\n\n            const firstFloorPriceTimeStamp = response.floor_prices?.[0]?.timestamp\n            cursor =\n                !firstFloorPriceTimeStamp ||\n                isAfter(secondsToMilliseconds(from_timeStamp), new Date(firstFloorPriceTimeStamp))\n                    ? null\n                    : response.next_cursor\n\n            historicalPriceState.updatePriceState(collectionId, response.floor_prices, response.payment_token)\n        }\n\n        if (isLoadAll) historicalPriceState.updateAllLoadedIdListState(collectionId)\n\n        return historicalPriceState.getPriceStats(\n            collectionId,\n            isLoadAll ? undefined : subSeconds(Date.now(), range).getTime(),\n        )\n    }\n\n    async getHighestFloorPrice(collectionId: string) {\n        let cursor = '' as string | null\n\n        while (cursor !== null && !historicalPriceState.isLoaded(collectionId)) {\n            const path = urlcat('/api/v0/nfts/floor_prices/collection/:collectionId/opensea', {\n                collectionId,\n                cursor: cursor ? cursor : undefined,\n            })\n\n            const response = await fetchFromSimpleHash<{\n                next_cursor: string\n                floor_prices: SimpleHash.PriceStat[]\n                payment_token: SimpleHash.PaymentToken\n            }>(path)\n\n            cursor = response.next_cursor\n            historicalPriceState.updatePriceState(collectionId, response.floor_prices, response.payment_token)\n        }\n\n        historicalPriceState.updateAllLoadedIdListState(collectionId)\n\n        return historicalPriceState.getHighestPrice(collectionId)\n    }\n\n    async getOneDaySaleAmounts(collectionId: string) {\n        const to_timeStamp = millisecondsToSeconds(Date.now())\n        const from_timeStamp = millisecondsToSeconds(subSeconds(Date.now(), 60 * 60 * 24).getTime())\n        let sales: Array<{ timestamp: string }> = []\n        let cursor = '' as string | null\n        while (cursor !== null) {\n            const path = urlcat('/api/v0/nfts/transfers/collection/:collectionId', {\n                collectionId,\n                only_sales: 1,\n                to_timeStamp,\n                from_timeStamp,\n                cursor: cursor ? cursor : undefined,\n            })\n\n            const response = await fetchFromSimpleHash<{\n                transfers: Array<{ timestamp: string }>\n                next_cursor: string\n            }>(path)\n\n            const firstFloorPriceTimeStamp = response.transfers?.[0]?.timestamp\n\n            cursor =\n                !firstFloorPriceTimeStamp ||\n                isAfter(secondsToMilliseconds(from_timeStamp), new Date(firstFloorPriceTimeStamp))\n                    ? null\n                    : response.next_cursor\n\n            sales = sales.concat(response.transfers)\n        }\n\n        return sales.filter((x) => isAfter(new Date(x.timestamp), secondsToMilliseconds(from_timeStamp))).length\n    }\n\n    async getCollectionsByOwner(\n        account: string,\n        { chainId, indicator, allChains, schemaType }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<NonFungibleCollection<ChainId, SchemaType>, PageIndicator>> {\n        const pluginId = NetworkPluginID.PLUGIN_EVM\n        const isERC712Only = schemaType === SchemaType.ERC721\n        const chain = allChains || !chainId ? getAllChainNames(pluginId) : resolveChain(pluginId, chainId)\n        if (!chain || !account || !isValidChainId(chainId)) {\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n        }\n\n        const path = urlcat('/api/v0/nfts/collections_by_wallets', {\n            chains: chain,\n            wallet_addresses: account,\n            nft_ids: 1,\n        })\n\n        const response = await fetchFromSimpleHash<{ collections: SimpleHash.Collection[] }>(path)\n\n        const filteredCollections = response.collections\n            // Might got bad data responded including id field and other fields empty\n            .filter((x) => {\n                if (!x?.id || (x.spam_score !== null && x.spam_score >= SPAM_SCORE)) return false\n                return (\n                    isValidChainId(resolveChainId(x.chain)) &&\n                    x.top_contracts.length > 0 &&\n                    (!isLensFollower(x.name) || !isERC712Only)\n                )\n            })\n\n        let erc721CollectionIdList: string[] = EMPTY_LIST\n\n        if (isERC712Only) {\n            const nftIdList = filteredCollections.map((x) => x.nft_ids?.[0] || '').filter(Boolean)\n            while (nftIdList.length) {\n                const batchAssetsPath = urlcat('/api/v0/nfts/assets', {\n                    nft_ids: nftIdList.splice(0, 50).join(','),\n                })\n\n                const batchAssetsResponse = await fetchFromSimpleHash<{\n                    nfts: SimpleHash.Asset[]\n                }>(batchAssetsPath)\n\n                erc721CollectionIdList = erc721CollectionIdList.concat(\n                    batchAssetsResponse.nfts\n                        .filter((x) => x.contract.type === 'ERC721')\n                        .map((x) => x.collection.collection_id),\n                )\n            }\n        }\n\n        const collections = filteredCollections\n            .filter((x) => !isERC712Only || erc721CollectionIdList.includes(x.id))\n            .map((x) => createNonFungibleCollection(x))\n\n        return createPageable(collections, createIndicator(indicator))\n    }\n\n    async getAssetsByCollectionAndOwner(\n        collectionId: string,\n        owner: string,\n        { chainId = ChainId.Mainnet, indicator, size = 50 }: HubOptions_Base<ChainId> = {},\n    ) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_EVM, chainId)\n        if (!chain || !isValidChainId(chainId) || !collectionId || !owner)\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const path = urlcat('/api/v0/nfts/owners', {\n            chains: chain,\n            wallet_addresses: owner,\n            collection_ids: collectionId,\n            cursor: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n            limit: size,\n        })\n\n        const response = await fetchFromSimpleHash<{ nfts: SimpleHash.Asset[]; next_cursor: string }>(path)\n\n        const assets = response.nfts.map((x) => createNonFungibleAsset(x)).filter(Boolean) as Array<\n            NonFungibleAsset<ChainId, SchemaType>\n        >\n\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response.next_cursor ? createNextIndicator(indicator, response.next_cursor) : undefined,\n        )\n    }\n\n    async getCollectionVerifiedBy(id: string) {\n        const collection = await this.getSimpleHashCollection(id)\n        if (!collection) return []\n        const marketplaces = collection.marketplace_pages?.filter((x) => x.verified) || []\n        return marketplaces.map((x) => x.marketplace_name)\n    }\n\n    async getCoinActivities(\n        chainId: ChainId,\n        id: string,\n        cursor: string,\n    ): Promise<{ content: Array<NonFungibleTokenActivity<ChainId, SchemaType>>; cursor: string } | undefined> {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_EVM, chainId)\n\n        if (!chain || !isValidChainId(chainId) || !id) return\n\n        const path = urlcat('/api/v0/nfts/transfers/:chain/:id', {\n            id,\n            chain,\n            cursor: cursor ? cursor : undefined,\n            order_by: 'timestamp_desc',\n            limit: 50,\n        })\n        const response = await fetchFromSimpleHash<{\n            next_cursor: string\n            transfers: SimpleHash.Activity[]\n        }>(path)\n\n        if (!response?.transfers?.length) return\n\n        const batchAssetsPath = urlcat('/api/v0/nfts/assets', {\n            nft_ids: response.transfers.map((x) => x.nft_id).join(','),\n        })\n\n        const batchAssetsResponse = await fetchFromSimpleHash<{\n            nfts: SimpleHash.Asset[]\n        }>(batchAssetsPath)\n\n        return {\n            cursor: response.next_cursor,\n            content: response.transfers.map((x) => {\n                const trade_token =\n                    !x.sale_details?.payment_token ||\n                    checkBlurToken(NetworkPluginID.PLUGIN_EVM, chainId, x.sale_details.payment_token?.address || '')\n                        ? ChainResolver.nativeCurrency(chainId)\n                        : {\n                              ...x.sale_details?.payment_token,\n                              type: TokenType.Fungible,\n                              address: x.sale_details?.payment_token.payment_token_id.includes('native')\n                                  ? ZERO_ADDRESS\n                                  : x.sale_details?.payment_token.address ?? '',\n                              id: x.sale_details?.payment_token.payment_token_id.includes('native')\n                                  ? ZERO_ADDRESS\n                                  : x.sale_details?.payment_token.address ?? '',\n                              chainId,\n                              schema: SchemaType.ERC20,\n                          }\n                const imageURL = batchAssetsResponse.nfts.find((y) => y.nft_id === x.nft_id)?.image_url ?? ''\n                return {\n                    hash: x.transaction,\n                    from: x.from_address,\n                    token_id: x.token_id,\n                    transaction_link: ExplorerResolver.transactionLink(chainId, x.transaction),\n                    event_type: resolveEventType(x.event_type),\n                    send: x.from_address,\n                    receive: x.event_type === SimpleHash.ActivityType.Burn ? ZERO_ADDRESS : x.to_address,\n                    to: x.event_type === SimpleHash.ActivityType.Burn ? ZERO_ADDRESS : x.to_address,\n                    trade_token,\n                    timestamp: new Date(x.timestamp).getTime(),\n                    trade_price: x.sale_details?.total_price\n                        ? leftShift(x.sale_details?.total_price, trade_token.decimals).toNumber()\n                        : 0,\n                    imageURL,\n                    contract_address: x.contract_address,\n                    trade_symbol: trade_token.symbol ?? '',\n                    token_address: trade_token.address ?? '',\n                }\n            }),\n        }\n    }\n\n    async getCoinTrending(chainId: ChainId, address: string): Promise<TrendingAPI.Trending | undefined> {\n        const collection = await this.getCollectionByContractAddress(address, { chainId })\n        if (!collection) {\n            throw new Error(`SimpleHash: Can not find collection by address ${address}, chainId ${chainId}`)\n        }\n\n        const [symbol, openseaStats, looksrareStats] = await Promise.all([\n            getContractSymbol(chainId, address),\n            OpenSea.getStats(address).catch(() => null),\n            LooksRare.getStats(address).catch(() => null),\n        ])\n\n        const paymentToken = collection.floor_prices[0]?.payment_token\n\n        if (!paymentToken) return\n\n        const tickers: TrendingAPI.Ticker[] = compact([\n            openseaStats\n                ? {\n                      logo_url: MaskIconURLs.open_sea_url().toString(),\n                      // TODO\n                      trade_url: `https://opensea.io/assets/ethereum/${address}`,\n                      market_name: NonFungibleMarketplace.OpenSea,\n                      volume_24h: openseaStats.volume24h,\n                      floor_price: openseaStats.floorPrice,\n                      price_symbol: paymentToken?.symbol,\n                      sales_24: openseaStats.count24h,\n                  }\n                : null,\n            looksrareStats\n                ? {\n                      logo_url: MaskIconURLs.looks_rare_url().toString(),\n                      trade_url: `https://looksrare.org/collections/${address}`,\n                      market_name: NonFungibleMarketplace.LooksRare,\n                      volume_24h: looksrareStats.volume24h,\n                      floor_price: looksrareStats.floorPrice,\n                      price_symbol: paymentToken?.symbol,\n                      sales_24: looksrareStats.count24h,\n                  }\n                : null,\n        ])\n\n        return {\n            lastUpdated: new Date().toJSON(),\n            dataProvider: SourceType.SimpleHash,\n            contracts: [{ chainId, address, pluginID: NetworkPluginID.PLUGIN_EVM }],\n            currency: {\n                id: paymentToken?.payment_token_id,\n                symbol: paymentToken?.symbol,\n                name: paymentToken?.symbol,\n                chainId,\n            },\n            coin: {\n                id: collection.collection_id,\n                name: collection.name,\n                symbol,\n                address,\n                contract_address: address,\n                type: TokenType.NonFungible,\n                description: collection.description,\n                image_url: collection.image_url,\n                home_urls: [collection.external_url],\n                community_urls: [\n                    {\n                        type: 'twitter',\n                        link: collection.twitter_username ? `https://twitter.com/${collection.twitter_username}` : null,\n                    },\n                    {\n                        type: 'facebook',\n                        // TODO format of facebook url is unknown\n                        link: null,\n                    },\n                    {\n                        type: 'discord',\n                        link: collection.discord_url,\n                    },\n                    {\n                        type: 'instagram',\n                        link: collection.instagram_username\n                            ? `https://www.instagram.com/${collection.instagram_username}`\n                            : null,\n                    },\n                    {\n                        type: 'medium',\n                        link: collection.medium_username ? `https://medium.com/@${collection.medium_username}` : null,\n                    },\n                    {\n                        type: 'reddit',\n                        link: null,\n                    },\n                    {\n                        type: 'telegram',\n                        link: collection.telegram_url,\n                    },\n                    {\n                        type: 'youtube',\n                        link: null,\n                    },\n                    {\n                        type: 'github',\n                        link: null,\n                    },\n                ].filter((x) => x.link) as TrendingAPI.CommunityUrls,\n            },\n            market: {\n                total_supply: collection.total_quantity,\n                current_price: leftShift(collection.floor_prices[0]?.value, paymentToken?.decimals).toString(),\n                floor_price: leftShift(collection.floor_prices[0]?.value, paymentToken?.decimals).toString(),\n                owners_count: collection.distinct_owner_count,\n                volume_24h: tickers?.[0]?.volume_24h,\n                total_24h: tickers?.[0]?.sales_24,\n                price_symbol: paymentToken?.symbol || 'ETH',\n                price_token_address: paymentToken?.address || '',\n            },\n            tickers,\n        }\n    }\n\n    async getSimpleHashCollection(id: string): Promise<SimpleHash.Collection | undefined> {\n        const path = urlcat('/api/v0/nfts/collections/ids', {\n            collection_ids: id,\n        })\n        const response = await fetchFromSimpleHash<{ collections: SimpleHash.Collection[] }>(path)\n        return response.collections[0]\n    }\n}\nexport const SimpleHashEVM = new SimpleHashAPI_EVM()\n","export const SIMPLE_HASH_URL = 'https://simplehash-proxy.r2d2.to'\n\nexport const ETH_BLUR_TOKEN_ADDRESS = '0x0000000000a39bb272e79075ade125fd351887ac'\n\nexport const SIMPLE_HASH_HISTORICAL_PRICE_START_TIME = 1669852800\n\nexport const SPAM_SCORE = 50\n","import { isEmpty, memoize } from 'lodash-es'\nimport { unreachable } from '@masknet/kit'\nimport {\n    SourceType,\n    TokenType,\n    type NonFungibleAsset,\n    type NonFungibleCollection,\n    ActivityType,\n} from '@masknet/web3-shared-base'\nimport { ChainId, SchemaType, WNATIVE, isValidChainId, resolveImageURL } from '@masknet/web3-shared-evm'\nimport { ChainId as SolanaChainId } from '@masknet/web3-shared-solana'\nimport { ChainId as FlowChainId } from '@masknet/web3-shared-flow'\nimport { queryClient } from '@masknet/shared-base-ui'\nimport { Days, NetworkPluginID, createLookupTableResolver } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { createPermalink } from '../NFTScan/helpers/EVM.js'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport { ETH_BLUR_TOKEN_ADDRESS, SIMPLE_HASH_URL, SPAM_SCORE } from './constants.js'\nimport { fetchSquashedJSON } from '../helpers/fetchJSON.js'\nimport { getAssetFullName } from '../helpers/getAssetFullName.js'\nimport { SimpleHash } from '../types/SimpleHash.js'\n\nexport async function fetchFromSimpleHash<T>(path: string, init?: RequestInit) {\n    return queryClient.fetchQuery<T>({\n        queryKey: ['simple-hash', path],\n        staleTime: 10_000,\n        queryFn: async () => {\n            return fetchSquashedJSON<T>(`${SIMPLE_HASH_URL}${path}`, {\n                method: 'GET',\n                mode: 'cors',\n                headers: { 'content-type': 'application/json' },\n            })\n        },\n    })\n}\n\nexport function createNonFungibleAsset(asset: SimpleHash.Asset): NonFungibleAsset<ChainId, SchemaType> | undefined {\n    if (isEmpty(asset)) return\n    const chainId = resolveChainId(asset.chain)\n    const address = asset.contract_address\n\n    const spam_score = asset.collection.spam_score\n    if (!chainId || !isValidChainId(chainId) || !address || (spam_score !== null && spam_score >= SPAM_SCORE)) return\n    const schema = asset.contract.type === 'ERC721' ? SchemaType.ERC721 : SchemaType.ERC1155\n    const name = asset.name || getAssetFullName(asset.contract_address, asset.contract.name, asset.name, asset.token_id)\n\n    return {\n        id: address,\n        chainId,\n        link: createPermalink(chainId, address, asset.token_id),\n        tokenId: asset.token_id,\n        type: TokenType.NonFungible,\n        address,\n        schema,\n        creator: {\n            address: asset.contract.deployed_by,\n        },\n        owner: {\n            address: asset.owners?.[0].owner_address,\n        },\n        priceInToken: asset.last_sale\n            ? {\n                  amount: asset.last_sale.total_price?.toString() || '',\n                  // FIXME: cannot get payment token\n                  token:\n                      asset.last_sale.payment_token?.symbol === 'ETH'\n                          ? ChainResolver.nativeCurrency(chainId) ?? WNATIVE[chainId]\n                          : WNATIVE[chainId],\n              }\n            : undefined,\n        metadata: {\n            chainId,\n            name,\n            tokenId: asset.token_id,\n            symbol: asset.contract.symbol,\n            description: asset.description,\n            imageURL: resolveImageURL(\n                asset.image_url || asset.previews.image_large_url,\n                asset.name,\n                asset.collection.name,\n                asset.contract_address,\n            ),\n            previewImageURL: resolveImageURL(\n                asset.previews.image_small_url,\n                asset.name,\n                asset.collection.name,\n                asset.contract_address,\n            ),\n            blurhash: asset.previews.blurhash,\n            mediaURL: asset.image_url || asset.previews.image_large_url,\n        },\n        contract: {\n            chainId,\n            schema,\n            address: asset.contract_address,\n            name: asset.contract.name,\n            symbol: asset.contract.symbol,\n        },\n        collection: {\n            chainId,\n            name: asset.collection.name || '',\n            slug: asset.contract.name,\n            description: asset.collection.description,\n            address: asset.contract_address,\n            iconURL: asset.collection.image_url,\n            verified: Boolean(asset.collection.marketplace_pages?.some((x) => x.verified)),\n            createdAt: new Date(asset.created_date).getTime(),\n            floorPrices: asset.collection.floor_prices,\n        },\n        source: SourceType.SimpleHash,\n        traits:\n            asset.extra_metadata?.attributes.map((x) => ({\n                type: x.trait_type,\n                value: x.value,\n                displayType: x.display_type,\n            })) || [],\n    }\n}\n\nexport function createNonFungibleCollection(\n    collection: SimpleHash.Collection,\n): NonFungibleCollection<ChainId, SchemaType> {\n    const chainId = resolveChainId(collection.chain)!\n\n    const verifiedMarketplaces = collection.marketplace_pages?.filter((x) => x.verified) || []\n    return {\n        id: collection.id,\n        chainId,\n        name: collection.name || '',\n        slug: collection.name,\n        schema: SchemaType.ERC721,\n        balance: collection.distinct_nfts_owned,\n        iconURL: collection.image_url,\n        ownersTotal: collection.total_quantity,\n        source: SourceType.SimpleHash,\n        address: collection.top_contracts?.[0]?.split('.')?.[1] ?? '',\n        verified: verifiedMarketplaces.length > 0,\n        verifiedBy: verifiedMarketplaces.map((x) => x.marketplace_name),\n    }\n}\n\nexport const resolveChainId: (chainId: string) => ChainId | undefined = memoize(function resolveChainId(\n    chain: string,\n): ChainId | undefined {\n    // Some of the `chainResolver.chainId()` results do not match.\n    switch (chain) {\n        case 'ethereum':\n            return ChainId.Mainnet\n        case 'polygon':\n            return ChainId.Matic\n        case 'arbitrum':\n            return ChainId.Arbitrum\n        case 'optimism':\n            return ChainId.Optimism\n        case 'avalanche':\n            return ChainId.Avalanche\n        case 'gnosis':\n            return ChainId.xDai\n        case 'bsc':\n            return ChainId.BSC\n        case 'base':\n            return ChainId.Base\n        case 'scroll':\n            return ChainId.Scroll\n        case 'celo':\n            return ChainId.Celo\n        default:\n            return undefined\n    }\n})\n\nconst ChainNameMap: Record<NetworkPluginID, Record<number, string>> = {\n    [NetworkPluginID.PLUGIN_EVM]: {\n        [ChainId.Mainnet]: 'ethereum',\n        [ChainId.BSC]: 'bsc',\n        [ChainId.Matic]: 'polygon',\n        [ChainId.Arbitrum]: 'arbitrum',\n        [ChainId.Optimism]: 'optimism',\n        [ChainId.Avalanche]: 'avalanche',\n        [ChainId.xDai]: 'gnosis',\n        [ChainId.Base]: 'base',\n        [ChainId.Scroll]: 'scroll',\n        [ChainId.Celo]: 'celo',\n    },\n    [NetworkPluginID.PLUGIN_SOLANA]: {\n        [SolanaChainId.Mainnet]: 'solana',\n    },\n    [NetworkPluginID.PLUGIN_FLOW]: {\n        [FlowChainId.Mainnet]: 'flow',\n    },\n}\n\nexport const getAllChainNames = (pluginID: NetworkPluginID) => {\n    return Object.values(ChainNameMap[pluginID]).join(',')\n}\n\nexport function resolveChain(pluginId: NetworkPluginID, chainId: Web3Helper.ChainIdAll): string | undefined {\n    return ChainNameMap[pluginId][chainId]\n}\n\nexport function checkBlurToken(pluginId: NetworkPluginID, chainId: Web3Helper.ChainIdAll, address: string): boolean {\n    return `${resolveChain(pluginId, chainId)}.${address.toLowerCase()}` === `ethereum.${ETH_BLUR_TOKEN_ADDRESS}`\n}\n\nexport function isLensFollower(name: string) {\n    if (!name) return false\n    return name.endsWith('.lens-Follower')\n}\n\nexport const resolveSimpleHashRange = createLookupTableResolver<Days, number>(\n    {\n        [Days.ONE_DAY]: 60 * 60 * 24,\n        [Days.ONE_WEEK]: 60 * 60 * 24 * 7,\n        [Days.ONE_MONTH]: 60 * 60 * 24 * 30,\n        [Days.THREE_MONTHS]: 60 * 60 * 24 * 90,\n        [Days.ONE_YEAR]: 0,\n        [Days.MAX]: 0,\n    },\n    () => 0,\n)\n\nexport function resolveEventType(event: SimpleHash.ActivityType) {\n    switch (event) {\n        case SimpleHash.ActivityType.Sale:\n            return ActivityType.Sale\n        case SimpleHash.ActivityType.Transfer:\n            return ActivityType.Transfer\n        case SimpleHash.ActivityType.Burn:\n            return ActivityType.Burn\n        case SimpleHash.ActivityType.Mint:\n            return ActivityType.Mint\n        default:\n            unreachable(event)\n    }\n}\n","import { first } from 'lodash-es'\nimport type { ECKeyIdentifier } from '@masknet/shared-base'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport {\n    type ChainId,\n    type Transaction,\n    type UserOperation,\n    type Signer,\n    getSmartPayConstants,\n    isEmptyHex,\n    isValidAddress,\n} from '@masknet/web3-shared-evm'\nimport { RequestReadonlyAPI } from '../../Web3/EVM/apis/RequestReadonlyAPI.js'\nimport { SmartPayBundler } from './BundlerAPI.js'\nimport { SmartPayOwnerAPI } from './OwnerAPI.js'\nimport { ContractWallet } from '../libs/ContractWallet.js'\nimport { UserTransaction } from '../libs/UserTransaction.js'\nimport type { AbstractAccountAPI } from '../../entry-types.js'\n\nexport class SmartPayAccountAPI implements AbstractAccountAPI.Provider<ChainId, UserOperation, Transaction> {\n    private Request = new RequestReadonlyAPI()\n    private Owner = new SmartPayOwnerAPI()\n\n    private async getEntryPoint(chainId: ChainId) {\n        const entryPoints = await SmartPayBundler.getSupportedEntryPoints(chainId)\n        const entryPoint = first(entryPoints)\n        if (!entryPoint || !isValidAddress(entryPoint)) throw new Error(`Not supported ${chainId}`)\n        return entryPoint\n    }\n\n    private async getInitCode(chainId: ChainId, owner: string) {\n        const contractWallet = await this.createContractWallet(chainId, owner)\n        if (isEmptyHex(contractWallet.initCode)) throw new Error('Failed to create initCode.')\n        return contractWallet.initCode\n    }\n\n    private async createContractWallet(chainId: ChainId, owner: string) {\n        if (!owner) throw new Error('No owner address.')\n        return new ContractWallet(\n            chainId,\n            owner,\n            getSmartPayConstants(chainId).LOGIC_WALLET_CONTRACT_ADDRESS ?? '',\n            await this.getEntryPoint(chainId),\n        )\n    }\n\n    /**\n     * The internal method to send a UserTransaction.\n     */\n    private async sendUserTransaction(\n        chainId: ChainId,\n        owner: string,\n        userTransaction: UserTransaction,\n        signer: Signer<ECKeyIdentifier> | Signer<string>,\n    ) {\n        const getOverrides = async () => {\n            if (isEmptyHex(userTransaction.initCode) && userTransaction.nonce === 0) {\n                const accounts = await this.Owner.getAccountsByOwner(chainId, owner, false)\n                const target = accounts.find((x) => isSameAddress(x.address, userTransaction.operation.sender))\n                const accountsDeployed = accounts.filter((x) => isSameAddress(x.creator, owner) && x.deployed)\n\n                // If the wallet to which the transaction is sent is obtained by changing the owner\n                if (!target?.creator) {\n                    return\n                }\n\n                if (!accountsDeployed.length) {\n                    return {\n                        initCode: await this.getInitCode(chainId, owner),\n                        nonce: accountsDeployed.length,\n                    }\n                }\n            }\n            return\n        }\n\n        await userTransaction.fillUserOperation(this.Request.getWeb3({ chainId }), await getOverrides())\n        return SmartPayBundler.sendUserOperation(chainId, await userTransaction.signUserOperation(signer))\n    }\n\n    private async estimateUserTransaction(chainId: ChainId, userTransaction: UserTransaction) {\n        await userTransaction.fillUserOperation(this.Request.getWeb3({ chainId }))\n        return userTransaction.estimateUserOperation()\n    }\n\n    async sendTransaction(\n        chainId: ChainId,\n        owner: string,\n        transaction: Transaction,\n        signer: Signer<ECKeyIdentifier> | Signer<string>,\n        options?: AbstractAccountAPI.Options,\n    ): Promise<string> {\n        const entryPoint = await this.getEntryPoint(chainId)\n        const userTransaction = UserTransaction.fromTransaction(chainId, entryPoint, transaction, options)\n        return this.sendUserTransaction(chainId, owner, userTransaction, signer)\n    }\n\n    async sendUserOperation(\n        chainId: ChainId,\n        owner: string,\n        operation: UserOperation,\n        signer: Signer<ECKeyIdentifier> | Signer<string>,\n        options?: AbstractAccountAPI.Options,\n    ): Promise<string> {\n        const entryPoint = await this.getEntryPoint(chainId)\n        const userTransaction = UserTransaction.fromUserOperation(chainId, entryPoint, operation, options)\n        return this.sendUserTransaction(chainId, owner, userTransaction, signer)\n    }\n\n    async estimateTransaction(\n        chainId: ChainId,\n        transaction: Transaction,\n        options?: AbstractAccountAPI.Options,\n    ): Promise<string> {\n        const entryPoint = await this.getEntryPoint(chainId)\n        const userTransaction = UserTransaction.fromTransaction(chainId, entryPoint, transaction, options)\n        return this.estimateUserTransaction(chainId, userTransaction)\n    }\n\n    async estimateUserOperation(\n        chainId: ChainId,\n        operation: UserOperation,\n        options?: AbstractAccountAPI.Options,\n    ): Promise<string> {\n        const entryPoint = await this.getEntryPoint(chainId)\n        const userTransaction = UserTransaction.fromUserOperation(chainId, entryPoint, operation, options)\n        return this.estimateUserTransaction(chainId, userTransaction)\n    }\n\n    async deploy(chainId: ChainId, owner: string, signer: Signer<ECKeyIdentifier> | Signer<string>): Promise<string> {\n        if (!isValidAddress(owner)) throw new Error('Invalid owner address.')\n\n        const initCode = await this.getInitCode(chainId, owner)\n        const accounts = await this.Owner.getAccountsByOwner(chainId, owner, false)\n        const accountsDeployed = accounts.filter((x) => isSameAddress(x.creator, owner) && x.deployed)\n\n        return this.sendUserOperation(\n            chainId,\n            owner,\n            {\n                initCode,\n                nonce: accountsDeployed.length,\n                sender: accounts[accountsDeployed.length].address,\n            },\n            signer,\n        )\n    }\n\n    transfer(\n        chainId: ChainId,\n        owner: string,\n        sender: string,\n        recipient: string,\n        amount: string,\n        signer: Signer<ECKeyIdentifier> | Signer<string>,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    changeOwner(\n        chainId: ChainId,\n        owner: string,\n        sender: string,\n        recipient: string,\n        signer: Signer<ECKeyIdentifier> | Signer<string>,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n}\n","import urlcat from 'urlcat'\nimport { omit } from 'lodash-es'\nimport type { ChainId, UserOperation } from '@masknet/web3-shared-evm'\nimport { toBase64, fromHex } from '@masknet/shared-base'\nimport { BUNDLER_PROD } from '../constants.js'\nimport type { BundlerAPI } from '../../entry-types.js'\nimport { Duration } from '../../helpers/fetchCached.js'\nimport { fetchCachedJSON, fetchJSON } from '../../helpers/fetchJSON.js'\n\nclass SmartPayBundlerAPI implements BundlerAPI.Provider {\n    private healthz() {\n        return fetchCachedJSON<BundlerAPI.Healthz>(\n            urlcat(BUNDLER_PROD, '/healthz'),\n            {\n                method: 'GET',\n            },\n            {\n                cacheDuration: Duration.TWELVE_HOURS,\n            },\n        )\n    }\n\n    private async handle(userOperation: UserOperation) {\n        const { tx_hash, message = 'Unknown Error' } = await fetchJSON<{ tx_hash: string; message?: string }>(\n            urlcat(BUNDLER_PROD, '/handle'),\n            {\n                method: 'POST',\n                body: JSON.stringify({\n                    user_operations: [\n                        {\n                            ...omit(userOperation, [\n                                'initCode',\n                                'callData',\n                                'callGas',\n                                'verificationGas',\n                                'preVerificationGas',\n                                'maxFeePerGas',\n                                'maxPriorityFeePerGas',\n                                'paymasterData',\n                            ]),\n                            nonce: userOperation.nonce?.toFixed() ?? '0',\n                            init_code: toBase64(fromHex(userOperation.initCode ?? '0x')),\n                            call_data: toBase64(fromHex(userOperation.callData ?? '0x')),\n                            call_gas: userOperation.callGas,\n                            verification_gas: userOperation.verificationGas,\n                            pre_verification_gas: userOperation.preVerificationGas,\n                            max_fee_per_gas: userOperation.maxFeePerGas,\n                            max_priority_fee_per_gas: userOperation.maxPriorityFeePerGas,\n                            paymaster_data: toBase64(fromHex(userOperation.paymasterData ?? '0x')),\n                            signature: toBase64(fromHex(userOperation.signature ?? '0x')),\n                        },\n                    ],\n                }),\n            },\n        )\n        if (tx_hash) return tx_hash\n        throw new Error(message)\n    }\n\n    private async assetChainId(chainId: ChainId) {\n        const supportedChainId = await this.getSupportedChainId()\n        if (supportedChainId !== chainId) throw new Error(`Not supported ${chainId}.`)\n    }\n\n    async getSigner(chainId: ChainId): Promise<string> {\n        await this.assetChainId(chainId)\n\n        const healthz = await this.healthz()\n        return healthz.bundler_eoa\n    }\n\n    async getSupportedChainId(): Promise<ChainId> {\n        const healthz = await this.healthz()\n        return Number.parseInt(healthz.chain_id, 10) as ChainId\n    }\n    async getSupportedEntryPoints(chainId: ChainId): Promise<string[]> {\n        await this.assetChainId(chainId)\n\n        const healthz = await this.healthz()\n        return [healthz.entrypoint_contract_address]\n    }\n    simulateUserOperation(): Promise<{ preOpGas: string; prefund: string }> {\n        throw new Error('Method not implemented.')\n    }\n    async sendUserOperation(chainId: ChainId, userOperation: UserOperation): Promise<string> {\n        await this.assetChainId(chainId)\n        return this.handle(userOperation)\n    }\n}\nexport const SmartPayBundler = new SmartPayBundlerAPI()\n","import type { Proof } from '@masknet/shared-base'\n\nexport namespace FunderAPI {\n    export interface Payload {\n        twitterHandle: string\n        nonce: number\n        publicKey: string\n        // timestamp will expire after 1 hour\n        ts: number\n    }\n\n    export interface Fund {\n        message: {\n            walletAddress: string\n            tx: string\n            code?: string\n        }\n    }\n\n    export interface WhiteList {\n        totalCount: number\n        twitterHandler: string\n        usedCount: number\n    }\n\n    export interface Operation {\n        tokenTransferTx: string\n        twitterHandler: string\n        // eg: 1669970510248\n        createAt: number\n        nonce: number\n        id: string\n        walletAddress: string\n    }\n\n    export enum ScanKey {\n        TwitterHandler = 'twitterHandler',\n        OwnerAddress = 'ownerAddress',\n        TokenTransferTx = 'tokenTransferTx',\n        Id = 'id',\n        WalletAddress = 'walletAddress',\n    }\n\n    export interface Provider<ChainId> {\n        getRemainFrequency(handler: string): Promise<number>\n        getOperationsByOwner(chainId: ChainId, owner: string): Promise<Operation[]>\n        /** Fund token for a NextID public-derived EOA account. */\n        fund(chainId: ChainId, proof: Proof): Promise<Fund>\n        /** Verify whether if a whitelisted user account */\n        verify(handler: string): Promise<boolean>\n    }\n}\n","import urlcat from 'urlcat'\nimport { BigNumber } from 'bignumber.js'\nimport { ChainId, type TransactionReceipt } from '@masknet/web3-shared-evm'\nimport { EMPTY_LIST, type Proof } from '@masknet/shared-base'\nimport { ConnectionReadonlyAPI } from '../../Web3/EVM/apis/ConnectionReadonlyAPI.js'\nimport { FUNDER_PROD } from '../constants.js'\nimport { fetchJSON, fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport { FunderAPI } from '../../entry-types.js'\n\nexport class SmartPayFunderAPI implements FunderAPI.Provider<ChainId> {\n    private Web3 = new ConnectionReadonlyAPI()\n\n    private async assetChainId(chainId: ChainId) {\n        if (![ChainId.Matic, ChainId.Mumbai].includes(chainId)) throw new Error(`Not supported ${chainId}.`)\n    }\n\n    private async getWhiteList(handler: string) {\n        return fetchCachedJSON<FunderAPI.WhiteList>(urlcat(FUNDER_PROD, '/whitelist', { twitterHandle: handler }))\n    }\n\n    async getRemainFrequency(handler: string) {\n        try {\n            const result = await this.getWhiteList(handler)\n            if (!result.totalCount || result.twitterHandler !== handler.toLowerCase()) return 0\n            return BigNumber.max(result.totalCount - result.usedCount, 0).toNumber()\n        } catch {\n            return 0\n        }\n    }\n\n    async getOperationsByOwner(chainId: ChainId, owner: string) {\n        await this.assetChainId(chainId)\n\n        try {\n            const operations = await fetchCachedJSON<FunderAPI.Operation[]>(\n                urlcat(FUNDER_PROD, '/operation', { scanKey: FunderAPI.ScanKey.OwnerAddress, scanValue: owner }),\n            )\n            const allSettled = await Promise.allSettled(\n                operations.map<Promise<TransactionReceipt | null>>((x) =>\n                    this.Web3.getTransactionReceipt(x.tokenTransferTx, {\n                        chainId,\n                    }),\n                ),\n            )\n\n            return operations.filter((_, i) => {\n                const receipt = allSettled[i] as PromiseFulfilledResult<TransactionReceipt | null>\n                return receipt.status === 'fulfilled' && receipt?.value?.status\n            })\n        } catch {\n            return EMPTY_LIST\n        }\n    }\n\n    async fund(chainId: ChainId, proof: Proof): Promise<FunderAPI.Fund> {\n        await this.assetChainId(chainId)\n\n        return fetchJSON<FunderAPI.Fund>(urlcat(FUNDER_PROD, '/verify'), {\n            method: 'POST',\n            body: JSON.stringify(proof),\n            headers: { 'Content-Type': 'application/json' },\n        })\n    }\n\n    async verify(handler: string) {\n        try {\n            const result = await this.getWhiteList(handler)\n            return result.twitterHandler === handler.toLowerCase() && result.usedCount < result.totalCount\n        } catch {\n            return false\n        }\n    }\n}\n","import { bytesToHex, hexToBytes, keccak256, padLeft, toHex } from 'web3-utils'\nimport { formatEthereumAddress } from '@masknet/web3-shared-evm'\n\nexport class Create2Factory {\n    static MAX_DERIVATION_NUM = 99\n\n    /**\n     * Create2Factory\n     *\n     * @param address The contract address of Create2Factory\n     */\n    constructor(private address: string) {}\n\n    private getDeployAddress(initCode: string, salt: number): string {\n        const saltByte32 = padLeft(toHex(salt), 64)\n        const items = ['0xff', formatEthereumAddress(this.address), saltByte32, keccak256(initCode)].flatMap((x) =>\n            hexToBytes(x),\n        )\n        return formatEthereumAddress(bytesToHex(hexToBytes(keccak256(bytesToHex(items))).slice(12)))\n    }\n\n    derive(initCode: string, nonce: number) {\n        return this.getDeployAddress(initCode, nonce)\n    }\n\n    /** Derive multiple times from the given initCode. */\n    deriveUntil(initCode: string, length = Create2Factory.MAX_DERIVATION_NUM) {\n        return Array.from({ length }).map((_, i) => this.getDeployAddress(initCode, i))\n    }\n}\n","import { compact, first } from 'lodash-es'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { queryClient } from '@masknet/shared-base-ui'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { getSmartPayConstants, isValidAddress, type ChainId } from '@masknet/web3-shared-evm'\nimport { MulticallAPI } from '../../Multicall/index.js'\nimport { ContractReadonlyAPI } from '../../Web3/EVM/apis/ContractReadonlyAPI.js'\nimport { SmartPayBundler } from './BundlerAPI.js'\nimport { SmartPayFunderAPI } from './FunderAPI.js'\nimport { ContractWallet } from '../libs/ContractWallet.js'\nimport { Create2Factory } from '../libs/Create2Factory.js'\nimport { MAX_ACCOUNT_LENGTH, THE_GRAPH_PROD } from '../constants.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport type { OwnerAPI } from '../../entry-types.js'\n\ninterface OwnerShip {\n    address: string\n    owner: string\n    id: string\n    creator: string\n}\n\nexport class SmartPayOwnerAPI {\n    private Contract = new ContractReadonlyAPI()\n    private Multicall = new MulticallAPI()\n    private Funder = new SmartPayFunderAPI()\n\n    private async getEntryPoint(chainId: ChainId) {\n        const entryPoints = await SmartPayBundler.getSupportedEntryPoints(chainId)\n        const entryPoint = first(entryPoints)\n        if (!entryPoint || !isValidAddress(entryPoint)) throw new Error(`Not supported ${chainId}`)\n        return entryPoint\n    }\n\n    private createWalletContract(chainId: ChainId, address: string) {\n        return this.Contract.getWalletContract(address, {\n            chainId,\n        })\n    }\n\n    private async createContractWallet(chainId: ChainId, owner: string) {\n        if (!owner) throw new Error('No owner address.')\n        return new ContractWallet(\n            chainId,\n            owner,\n            getSmartPayConstants(chainId).LOGIC_WALLET_CONTRACT_ADDRESS ?? '',\n            await this.getEntryPoint(chainId),\n        )\n    }\n\n    private async createCreate2Factory(chainId: ChainId, owner: string) {\n        if (!owner) throw new Error('No owner address.')\n\n        const { CREATE2_FACTORY_CONTRACT_ADDRESS } = getSmartPayConstants(chainId)\n        if (!CREATE2_FACTORY_CONTRACT_ADDRESS) throw new Error('No create2 contract.')\n\n        return new Create2Factory(CREATE2_FACTORY_CONTRACT_ADDRESS)\n    }\n\n    private filterAccounts(accounts: Array<OwnerAPI.AbstractAccount<NetworkPluginID.PLUGIN_EVM>>) {\n        const countMap = new Map<string, number>()\n        accounts.forEach((x) => {\n            const address = x.address.toLowerCase()\n            const count = countMap.get(address) || 0\n            countMap.set(address, count + 1)\n        })\n        return accounts.filter((x) => countMap.get(x.address.toLowerCase()) === 1 || x.creator)\n    }\n\n    private createContractAccount(\n        chainId: ChainId,\n        address: string,\n        owner: string,\n        creator: string,\n        deployed = true,\n        funded = false,\n    ): OwnerAPI.AbstractAccount<NetworkPluginID.PLUGIN_EVM> {\n        return {\n            pluginID: NetworkPluginID.PLUGIN_EVM,\n            chainId,\n            id: `${NetworkPluginID.PLUGIN_EVM}_${chainId}_${address}`,\n            address,\n            owner,\n            creator,\n            deployed,\n            funded,\n        }\n    }\n\n    /**\n     * Use the multicall contract to filter non-owned accounts out.\n     * @param chainId\n     * @param options\n     * @returns\n     */\n    private async getAccountsFromMulticall(chainId: ChainId, owner: string, options: string[]) {\n        const contracts = options.map((x) => this.createWalletContract(chainId, x)!)\n        const names = Array.from<'owner'>({ length: options.length }).fill('owner')\n        const calls = this.Multicall.createMultipleContractSingleData(contracts, names, [])\n        const results = await this.Multicall.call(chainId, contracts, names, calls)\n        const accounts = results.flatMap((x) => (x.succeed && x.value ? x.value : ''))\n\n        if (!accounts.length) {\n            return []\n        }\n\n        return compact(\n            accounts.map((x, index) =>\n                this.createContractAccount(chainId, options[index], x || owner, owner, isValidAddress(x)),\n            ),\n        )\n    }\n\n    private async getAccountsFromTheGraph(chainId: ChainId, owner: string) {\n        const response = await fetchJSON<{\n            data: {\n                ownerShips: OwnerShip[]\n            }\n        }>(THE_GRAPH_PROD, {\n            method: 'POST',\n            body: JSON.stringify({\n                query: `{\n                    ownerShips(where: { owner: \"${owner}\" }) {\n                      id\n                      address\n                      owner\n                      creator\n                    }\n                }`,\n            }),\n        })\n\n        return response.data.ownerShips.map((x) =>\n            this.createContractAccount(chainId, x.address, x.owner, '', true, true),\n        )\n    }\n\n    async getAccountsByOwner(\n        chainId: ChainId,\n        owner: string,\n        exact = true,\n    ): Promise<Array<OwnerAPI.AbstractAccount<NetworkPluginID.PLUGIN_EVM>>> {\n        const accounts = await queryClient.fetchQuery({\n            queryKey: ['smart-pay', 'get-accounts-by-owner', chainId, owner, exact],\n            cacheTime: 1000_000,\n            queryFn: async () => {\n                const create2Factory = await this.createCreate2Factory(chainId, owner)\n                const contractWallet = await this.createContractWallet(chainId, owner)\n                const operations = await this.Funder.getOperationsByOwner(chainId, owner)\n\n                const allSettled = await Promise.allSettled([\n                    this.getAccountsFromMulticall(\n                        chainId,\n                        owner,\n                        create2Factory.deriveUntil(contractWallet.initCode, MAX_ACCOUNT_LENGTH),\n                    ),\n                    this.getAccountsFromTheGraph(chainId, owner),\n                ])\n\n                const result = allSettled\n                    .flatMap((x) => (x.status === 'fulfilled' ? x.value : []))\n                    .map((y) => ({\n                        ...y,\n                        funded: y.creator\n                            ? operations.some((operation) => isSameAddress(operation.walletAddress, y.address))\n                            : y.funded,\n                    }))\n\n                return this.filterAccounts(result).filter((x) => (exact ? isSameAddress(x.owner, owner) : true))\n            },\n        })\n        return accounts ?? []\n    }\n\n    async getAccountsByOwners(\n        chainId: ChainId,\n        owners: string[],\n        exact = true,\n    ): Promise<Array<OwnerAPI.AbstractAccount<NetworkPluginID.PLUGIN_EVM>>> {\n        const allSettled = await Promise.allSettled(owners.map((x) => this.getAccountsByOwner(chainId, x, false)))\n        const result = allSettled.flatMap((x) => (x.status === 'fulfilled' ? x.value : []))\n\n        /**\n         * There may be a transfer of ownership between different owners with the same address,\n         * giving priority to the result obtained by multicall\n         */\n        return this.filterAccounts(result).filter((x) => (exact ? owners.some((y) => isSameAddress(y, x.owner)) : true))\n    }\n}\n","export const MAX_ACCOUNT_LENGTH = 49\n\nexport const BUNDLER_PROD = 'https://9rh2q3tdqj.execute-api.ap-east-1.amazonaws.com/'\nexport const FUNDER_PROD = 'https://uldpla73li.execute-api.ap-east-1.amazonaws.com/Prod/'\nexport const THE_GRAPH_PROD = 'https://api.thegraph.com/subgraphs/name/dimensiondev/paygas-x-subgraph'\n","export const WalletProxyByteCode =\n    '0x608060405260405162000a8738038062000a87833981016040819052620000269162000360565b8181620000368282600062000041565b505050505062000493565b6200004c836200007e565b6000825111806200005a5750805b156200007957620000778383620000c060201b620000df1760201c565b505b505050565b6200008981620000ef565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b6060620000e8838360405180606001604052806027815260200162000a6060279139620001c8565b9392505050565b6200010581620002ae60201b6200010b1760201c565b6200016d5760405162461bcd60e51b815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201526c1bdd08184818dbdb9d1c9858dd609a1b60648201526084015b60405180910390fd5b80620001a77f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b620002bd60201b6200011a1760201c565b80546001600160a01b0319166001600160a01b039290921691909117905550565b60606001600160a01b0384163b620002325760405162461bcd60e51b815260206004820152602660248201527f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f6044820152651b9d1c9858dd60d21b606482015260840162000164565b600080856001600160a01b0316856040516200024f919062000440565b600060405180830381855af49150503d80600081146200028c576040519150601f19603f3d011682016040523d82523d6000602084013e62000291565b606091505b509092509050620002a4828286620002c0565b9695505050505050565b6001600160a01b03163b151590565b90565b60608315620002d1575081620000e8565b825115620002e25782518084602001fd5b8160405162461bcd60e51b81526004016200016491906200045e565b80516001600160a01b03811681146200031657600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b838110156200034e57818101518382015260200162000334565b83811115620000775750506000910152565b6000806000606084860312156200037657600080fd5b6200038184620002fe565b92506200039160208501620002fe565b60408501519092506001600160401b0380821115620003af57600080fd5b818601915086601f830112620003c457600080fd5b815181811115620003d957620003d96200031b565b604051601f8201601f19908116603f011681019083821181831017156200040457620004046200031b565b816040528281528960208487010111156200041e57600080fd5b6200043183602083016020880162000331565b80955050505050509250925092565b600082516200045481846020870162000331565b9190910192915050565b60208152600082518060208401526200047f81604085016020870162000331565b601f01601f19169190910160400192915050565b6105bd80620004a36000396000f3fe6080604052600436106100225760003560e01c806306d2e4261461003957610031565b366100315761002f610059565b005b61002f610059565b34801561004557600080fd5b5061002f610054366004610405565b61006b565b61006961006461011d565b61012c565b565b610073610150565b6001600160a01b0316336001600160a01b0316148061009157503330145b6100cf5760405162461bcd60e51b815260206004820152600a60248201526937b7363c9037bbb732b960b11b60448201526064015b60405180910390fd5b6100da838383610183565b505050565b60606101048383604051806060016040528060278152602001610561602791396101ae565b9392505050565b6001600160a01b03163b151590565b90565b600061012761028b565b905090565b3660008037600080366000845af43d6000803e80801561014b573d6000f35b3d6000fd5b60007fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035b546001600160a01b0316919050565b61018c836102b3565b6000825111806101995750805b156100da576101a883836100df565b50505050565b60606001600160a01b0384163b6102165760405162461bcd60e51b815260206004820152602660248201527f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f6044820152651b9d1c9858dd60d21b60648201526084016100c6565b600080856001600160a01b0316856040516102319190610511565b600060405180830381855af49150503d806000811461026c576040519150601f19603f3d011682016040523d82523d6000602084013e610271565b606091505b50915091506102818282866102f3565b9695505050505050565b60007f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc610174565b6102bc8161032c565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60608315610302575081610104565b8251156103125782518084602001fd5b8160405162461bcd60e51b81526004016100c6919061052d565b6001600160a01b0381163b6103995760405162461bcd60e51b815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201526c1bdd08184818dbdb9d1c9858dd609a1b60648201526084016100c6565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b634e487b7160e01b600052604160045260246000fd5b8035801515811461040057600080fd5b919050565b60008060006060848603121561041a57600080fd5b83356001600160a01b038116811461043157600080fd5b9250602084013567ffffffffffffffff8082111561044e57600080fd5b818601915086601f83011261046257600080fd5b813581811115610474576104746103da565b604051601f8201601f19908116603f0116810190838211818310171561049c5761049c6103da565b816040528281528960208487010111156104b557600080fd5b8260208601602083013760006020848301015280965050505050506104dc604085016103f0565b90509250925092565b60005b838110156105005781810151838201526020016104e8565b838111156101a85750506000910152565b600082516105238184602087016104e5565b9190910192915050565b602081526000825180602084015261054c8160408501602087016104e5565b601f01601f1916919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220c58e01c79a6b3e7b89afe3f577c3161e96003f0d5f1630dcfb9bf9fdfa0ce1ec64736f6c634300080c0033416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564'\n","import type { AbiItem } from 'web3-utils'\nimport {\n    type ChainId,\n    createContract,\n    ZERO_ADDRESS,\n    getSmartPayConstants,\n    abiCoder,\n    Web3,\n} from '@masknet/web3-shared-evm'\nimport type { WalletProxy } from '@masknet/web3-contracts/types/WalletProxy.js'\nimport WalletABI from '@masknet/web3-contracts/abis/Wallet.json'\nimport WalletProxyABI from '@masknet/web3-contracts/abis/WalletProxy.json'\nimport { WalletProxyByteCode } from '@masknet/web3-contracts/bytes/WalletProxy.mjs'\n\nexport class ContractWallet {\n    private web3 = new Web3()\n\n    /**\n     * ContractWallet\n     *\n     * @param owner the owner address\n     * @param address  the deployed logic contract address\n     * @param entryPoint the entry point contract address\n     */\n    constructor(\n        private chainId: ChainId,\n        private owner: string,\n        private address: string,\n        private entryPoint: string,\n    ) {}\n\n    /**\n     * The wallet proxy contract instance\n     */\n    private get contract() {\n        return createContract<WalletProxy>(this.web3, ZERO_ADDRESS, WalletProxyABI as AbiItem[])\n    }\n\n    /**\n     * Encoded initialize parameters of ContractWallet\n     */\n    private get data() {\n        const {\n            PAYMASTER_MASK_CONTRACT_ADDRESS,\n            PAYMASTER_NATIVE_CONTRACT_ADDRESS,\n            PAYMASTER_MINIMAL_STAKE_AMOUNT,\n            PAYMENT_TOKEN_ADDRESS,\n        } = getSmartPayConstants(this.chainId)\n        if (\n            !PAYMASTER_MASK_CONTRACT_ADDRESS ||\n            !PAYMASTER_NATIVE_CONTRACT_ADDRESS ||\n            !PAYMASTER_MINIMAL_STAKE_AMOUNT ||\n            !PAYMENT_TOKEN_ADDRESS\n        )\n            return\n\n        const abi = WalletABI.find((x) => x.name === 'initialize' && x.type === 'function')\n        if (!abi) throw new Error('Failed to load ABI.')\n\n        return abiCoder.encodeFunctionCall(abi as AbiItem, [\n            this.entryPoint,\n            this.owner,\n            PAYMENT_TOKEN_ADDRESS,\n            PAYMASTER_MASK_CONTRACT_ADDRESS,\n            PAYMASTER_MINIMAL_STAKE_AMOUNT,\n            PAYMASTER_NATIVE_CONTRACT_ADDRESS,\n        ])\n    }\n\n    /**\n     * Encoded initCode for deploying a WalletProxy contract\n     */\n    get initCode() {\n        if (!this.contract) throw new Error('Failed to create proxy contract.')\n        return this.contract\n            .deploy({\n                data: WalletProxyByteCode,\n                arguments: [this.owner, this.address, this.data],\n            })\n            .encodeABI()\n    }\n}\n","import type { AbiItem } from 'web3-utils'\nimport { BigNumber } from 'bignumber.js'\nimport { type ChainId, createContract, getSmartPayConstants, ProviderURL } from '@masknet/web3-shared-evm'\nimport DepositPaymasterABI from '@masknet/web3-contracts/abis/DepositPaymaster.json'\nimport type { DepositPaymaster as DepositPaymasterType } from '@masknet/web3-contracts/types/DepositPaymaster.js'\nimport { createWeb3FromURL } from '../../helpers/createWeb3FromURL.js'\n\nexport class DepositPaymaster {\n    /**\n     * DepositPaymaster\n     * @param chainId ChainId\n     */\n    constructor(private chainId: ChainId) {}\n\n    private get contract() {\n        const { PAYMASTER_MASK_CONTRACT_ADDRESS } = getSmartPayConstants(this.chainId)\n        if (!PAYMASTER_MASK_CONTRACT_ADDRESS) return\n        return createContract<DepositPaymasterType>(\n            createWeb3FromURL(ProviderURL.from(this.chainId)),\n            PAYMASTER_MASK_CONTRACT_ADDRESS,\n            DepositPaymasterABI as AbiItem[],\n        )\n    }\n\n    async getRatio() {\n        const maskBase = await this.contract?.methods.PAYTOKEN_TO_MATIC_RATIO(0).call()\n        const gasCurrencyRatio = await this.contract?.methods.PAYTOKEN_TO_MATIC_RATIO(1).call()\n        if (!maskBase || !gasCurrencyRatio) return new BigNumber(0)\n        return new BigNumber(maskBase).dividedBy(gasCurrencyRatio)\n    }\n}\n","import { BigNumber } from 'bignumber.js'\nimport { isUndefined, omitBy } from 'lodash-es'\nimport { type AbiItem, hexToBytes, keccak256, padLeft, toHex, toNumber } from 'web3-utils'\nimport type { ECKeyIdentifier } from '@masknet/shared-base'\nimport { isGreaterThan, multipliedBy, toFixed } from '@masknet/web3-shared-base'\nimport WalletABI from '@masknet/web3-contracts/abis/Wallet.json'\nimport EntryPointABI from '@masknet/web3-contracts/abis/EntryPoint.json'\nimport type { Wallet } from '@masknet/web3-contracts/types/Wallet.js'\nimport type { EntryPoint } from '@masknet/web3-contracts/types/EntryPoint.js'\nimport {\n    createContract,\n    formatEthereumAddress,\n    getSmartPayConstants,\n    getZeroAddress,\n    isEmptyHex,\n    isNativeTokenAddress,\n    isValidAddress,\n    isZeroAddress,\n    isZeroString,\n    type ChainId,\n    type Signer,\n    type Transaction,\n    type UserOperation,\n    type Web3,\n    abiCoder,\n} from '@masknet/web3-shared-evm'\n\nconst USER_OP_TYPE = {\n    userOp: {\n        sender: 'address',\n        nonce: 'uint256',\n        initCode: 'bytes',\n        callData: 'bytes',\n        callGas: 'uint256',\n        verificationGas: 'uint256',\n        preVerificationGas: 'uint256',\n        maxFeePerGas: 'uint256',\n        maxPriorityFeePerGas: 'uint256',\n        paymaster: 'address',\n        paymasterData: 'bytes',\n        signature: 'bytes',\n    },\n}\n\nconst POSTOP = 35000\n\nconst DEFAULT_USER_OPERATION: Required<UserOperation> = {\n    sender: getZeroAddress(),\n    nonce: 0,\n    initCode: '0x',\n    callData: '0x',\n    callGas: '35000',\n    // default verification gas. will add create2 cost (3200 + 200 * length) if initCode exists\n    verificationGas: '100000',\n    // should also cover calldata cost.\n    preVerificationGas: '21000',\n    maxFeePerGas: '0',\n    maxPriorityFeePerGas: '1000000000',\n    paymaster: getZeroAddress(),\n    paymasterData: '0x',\n    signature: '0x',\n}\n\nconst CALL_WALLET_TYPE: AbiItem = {\n    name: 'execFromEntryPoint',\n    type: 'function',\n    inputs: [\n        {\n            internalType: 'address',\n            name: 'dest',\n            type: 'address',\n        },\n        {\n            internalType: 'uint256',\n            name: 'value',\n            type: 'uint256',\n        },\n        {\n            internalType: 'bytes',\n            name: 'func',\n            type: 'bytes',\n        },\n    ],\n}\n\ninterface Options {\n    paymentToken?: string\n}\n\n/**\n * The wrapped UserOperation helper.\n * Learn more: https://github.com/eth-infinitism/account-abstraction/blob/develop/test/UserOp.ts\n */\nexport class UserTransaction {\n    /**\n     * Use UserTransaction.fromTransaction() or UserTransaction.fromUserOperation() stead.\n     * They ensure to create of a valid user operation.\n     *\n     * @param chainId\n     * @param entryPoint\n     * @param userOperation\n     */\n    private constructor(\n        private chainId: ChainId,\n        private entryPoint: string,\n        private userOperation: UserOperation,\n        private options?: Options,\n    ) {}\n\n    get paymentToken() {\n        return this.options?.paymentToken\n    }\n\n    get initCode() {\n        return this.userOperation.initCode\n    }\n\n    get nonce() {\n        return this.userOperation.nonce ?? 0\n    }\n\n    get hasPaymaster() {\n        return !!(this.userOperation.paymaster && !isZeroAddress(this.userOperation.paymaster))\n    }\n\n    /**\n     * Pack everything without signature\n     */\n    get pack() {\n        const encoded = abiCoder.encodeParameter(USER_OP_TYPE, {\n            ...this.userOperation,\n            signature: '0x',\n        })\n        return `0x${encoded.slice(66, encoded.length - 64)}`\n    }\n\n    /**\n     * Pack everything include signature\n     */\n    get packAll() {\n        const encoded = abiCoder.encodeParameter(USER_OP_TYPE, this.userOperation)\n        return `0x${encoded.slice(66, encoded.length - 64)}`\n    }\n\n    get hash() {\n        return keccak256(this.pack)\n    }\n\n    get requestId() {\n        return keccak256(\n            abiCoder.encodeParameters(['bytes32', 'address', 'uint256'], [this.hash, this.entryPoint, this.chainId]),\n        )\n    }\n\n    get operation() {\n        return this.userOperation\n    }\n\n    createWalletContract(web3: Web3, sender: string) {\n        const contract = createContract<Wallet>(web3, sender, WalletABI as AbiItem[])\n        if (!contract) throw new Error('Failed to create wallet contract.')\n        return contract\n    }\n\n    createEntryPointContract(web3: Web3) {\n        const contract = createContract<EntryPoint>(web3, this.entryPoint, EntryPointABI as AbiItem[])\n        if (!contract) throw new Error('Failed to create entry point contract.')\n        return contract\n    }\n\n    async fillUserOperation(web3: Web3, overrides?: Required<Pick<UserOperation, 'initCode' | 'nonce'>>) {\n        // from overrides\n        if (overrides) {\n            this.userOperation.nonce = overrides.nonce\n            this.userOperation.initCode = overrides.initCode\n        }\n\n        const { initCode, nonce, sender, callData, callGas, preVerificationGas, maxFeePerGas, maxPriorityFeePerGas } =\n            this.userOperation\n\n        // add sender\n        if (!isEmptyHex(initCode) && !isValidAddress(sender)) {\n            this.userOperation.sender = await this.createEntryPointContract(web3)\n                .methods.getSenderAddress(initCode, nonce)\n                .call()\n        }\n\n        // fill nonce\n        if (isValidAddress(this.userOperation.sender) && typeof overrides === 'undefined' && nonce === 0) {\n            try {\n                const nonce_ = await this.createWalletContract(web3, sender).methods.nonce().call()\n                this.userOperation.nonce = toNumber(nonce_) as number\n            } catch (error) {\n                this.userOperation.nonce = 0\n            }\n        }\n\n        if (!isEmptyHex(callData)) {\n            const estimatedGas = await web3.eth.estimateGas({\n                from: this.entryPoint,\n                to: this.userOperation.sender,\n                data: callData,\n            })\n            this.userOperation.callGas = toHex(estimatedGas)\n        } else {\n            this.userOperation.callGas = callGas ?? DEFAULT_USER_OPERATION.callGas\n        }\n\n        // 2x scale up callGas and add margin for postop\n        this.userOperation.callGas = toHex(toFixed(multipliedBy(this.userOperation.callGas ?? '0', 2).plus(POSTOP), 0))\n\n        // recover to the original callGas when extra gas could be provided\n        if (isGreaterThan(callGas ?? '0', this.userOperation.callGas)) {\n            this.userOperation.callGas = callGas\n        }\n\n        if (isZeroString(maxFeePerGas)) {\n            try {\n                const block = await web3.eth.getBlock('latest')\n                this.userOperation.maxFeePerGas = toFixed(\n                    new BigNumber(block.baseFeePerGas ?? 0).plus(\n                        maxPriorityFeePerGas ?? DEFAULT_USER_OPERATION.maxPriorityFeePerGas,\n                    ),\n                )\n            } catch (error) {\n                this.userOperation.maxFeePerGas = DEFAULT_USER_OPERATION.maxPriorityFeePerGas\n            }\n        }\n\n        if (isZeroString(maxPriorityFeePerGas)) {\n            this.userOperation.maxPriorityFeePerGas = DEFAULT_USER_OPERATION.maxPriorityFeePerGas\n        }\n\n        // add more verification gas according to the size of initCode\n        if (!isEmptyHex(initCode)) {\n            this.userOperation.verificationGas = toFixed(\n                new BigNumber(DEFAULT_USER_OPERATION.verificationGas).plus(32000 + (200 * initCode.length) / 2),\n            )\n        } else {\n            this.userOperation.verificationGas = DEFAULT_USER_OPERATION.verificationGas\n        }\n        if (isZeroString(preVerificationGas)) {\n            this.userOperation.preVerificationGas = toFixed(\n                Math.max(\n                    hexToBytes(this.packAll)\n                        .map<number>((x) => (x === 0 ? 4 : 16))\n                        .reduce((sum, x) => sum + x),\n                    Number.parseInt(DEFAULT_USER_OPERATION.preVerificationGas, 10),\n                ),\n            )\n        }\n        if (!this.paymentToken || isZeroAddress(this.paymentToken)) {\n            const { PAYMASTER_MASK_CONTRACT_ADDRESS, PAYMASTER_NATIVE_CONTRACT_ADDRESS } = getSmartPayConstants(\n                this.chainId,\n            )\n            if (!PAYMASTER_MASK_CONTRACT_ADDRESS && !PAYMASTER_NATIVE_CONTRACT_ADDRESS)\n                throw new Error('No paymaster address.')\n\n            if (!this.paymentToken || isNativeTokenAddress(this.paymentToken)) {\n                this.userOperation.paymaster = PAYMASTER_NATIVE_CONTRACT_ADDRESS\n            } else {\n                this.userOperation.paymaster = PAYMASTER_MASK_CONTRACT_ADDRESS\n                this.userOperation.paymasterData = padLeft(this.paymentToken, 64)\n            }\n        }\n\n        return this\n    }\n\n    estimateUserOperation() {\n        const { callGas = DEFAULT_USER_OPERATION.callGas } = this.userOperation\n        return toHex(callGas)\n    }\n\n    async signTransaction(web3: Web3, signer: Signer<ECKeyIdentifier> | Signer<string>): Promise<string> {\n        const transaction = UserTransaction.toTransaction(this.chainId, this.userOperation)\n        if (!transaction.from || !transaction.to) throw new Error('Invalid transaction.')\n\n        return signer.signTransaction(\n            omitBy(\n                {\n                    ...transaction,\n                    to: transaction.from,\n                    data: this.createWalletContract(web3, transaction.from)\n                        .methods.exec(transaction.to, transaction.value ?? '0', transaction.data ?? '0x')\n                        .encodeABI(),\n                },\n                isUndefined,\n            ),\n        )\n    }\n\n    async signUserOperation(signer: Signer<ECKeyIdentifier> | Signer<string>): Promise<UserOperation> {\n        const { nonce, callGas, verificationGas, preVerificationGas, maxFeePerGas, maxPriorityFeePerGas } =\n            this.userOperation\n        return {\n            ...this.userOperation,\n            sender: formatEthereumAddress(this.userOperation.sender),\n            nonce,\n            callGas: callGas ? toFixed(callGas) : '0',\n            verificationGas: verificationGas ? toFixed(verificationGas) : '0',\n            preVerificationGas: preVerificationGas ? toFixed(preVerificationGas) : '0',\n            maxFeePerGas: maxFeePerGas ? toFixed(maxFeePerGas) : '0',\n            maxPriorityFeePerGas: maxPriorityFeePerGas ? toFixed(maxPriorityFeePerGas) : '0',\n            signature: await signer.signMessage(this.requestId),\n        }\n    }\n\n    static fromTransaction(\n        chainId: ChainId,\n        entryPoint: string,\n        transaction: Transaction,\n        options?: Options,\n    ): UserTransaction {\n        return new UserTransaction(chainId, entryPoint, UserTransaction.toUserOperation(chainId, transaction), options)\n    }\n\n    static fromUserOperation(\n        chainId: ChainId,\n        entryPoint: string,\n        userOperation: UserOperation,\n        options?: Options,\n    ): UserTransaction {\n        const { PAYMENT_TOKEN_ADDRESS } = getSmartPayConstants(chainId)\n\n        return new UserTransaction(chainId, entryPoint, UserTransaction.fillUserOperation(chainId, userOperation), {\n            paymentToken: options?.paymentToken ?? PAYMENT_TOKEN_ADDRESS,\n            ...options,\n        })\n    }\n\n    static fillUserOperation(chainId: ChainId, userOperation: UserOperation) {\n        const { PAYMASTER_MASK_CONTRACT_ADDRESS, PAYMENT_TOKEN_ADDRESS } = getSmartPayConstants(chainId)\n\n        return {\n            ...DEFAULT_USER_OPERATION,\n            paymaster: PAYMASTER_MASK_CONTRACT_ADDRESS || DEFAULT_USER_OPERATION.paymaster,\n            paymasterData: PAYMENT_TOKEN_ADDRESS\n                ? padLeft(PAYMENT_TOKEN_ADDRESS, 64)\n                : DEFAULT_USER_OPERATION.paymasterData,\n            ...userOperation,\n        }\n    }\n\n    static fillTransaction(chainId: ChainId, transaction: Transaction) {\n        throw new Error('Method not implemented.')\n    }\n\n    static toUserOperation(chainId: ChainId, transaction: Transaction): UserOperation {\n        const { from, to, nonce = 0, value = '0', data = '0x' } = transaction\n        if (!from) throw new Error('No sender address.')\n        if (!to) throw new Error('No destination address.')\n\n        return UserTransaction.fillUserOperation(chainId, {\n            sender: formatEthereumAddress(from),\n            nonce: toNumber(nonce) as number,\n            callGas: transaction.gas ?? DEFAULT_USER_OPERATION.callGas,\n            callData: abiCoder.encodeFunctionCall(CALL_WALLET_TYPE, [to, value, data]),\n            maxFeePerGas: transaction.maxFeePerGas ?? transaction.gasPrice ?? DEFAULT_USER_OPERATION.maxFeePerGas,\n            maxPriorityFeePerGas:\n                transaction.maxPriorityFeePerGas ?? transaction.gasPrice ?? DEFAULT_USER_OPERATION.maxPriorityFeePerGas,\n            signature: '0x',\n        })\n    }\n\n    static toTransaction(chainId: ChainId, userOperation: UserOperation): Transaction {\n        const parameters = !isEmptyHex(userOperation.callData)\n            ? (abiCoder.decodeParameters(CALL_WALLET_TYPE.inputs ?? [], userOperation.callData.slice(10)) as {\n                  dest: string\n                  value: string\n                  func: string\n              })\n            : undefined\n\n        return {\n            chainId,\n            from: userOperation.sender,\n            to: parameters?.dest,\n            value: toHex(parameters?.value ?? '0'),\n            gas: userOperation.callGas,\n            maxFeePerGas: userOperation.maxFeePerGas,\n            maxPriorityFeePerGas: userOperation.maxPriorityFeePerGas,\n            nonce: toNumber(userOperation.nonce ?? '0') as number,\n            data: parameters?.func ?? '0x',\n        }\n    }\n}\n","import { ChainId } from '@masknet/web3-shared-evm'\nimport { NameServiceID } from '@masknet/shared-base'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport { ChainbaseDomain } from '../Chainbase/index.js'\nimport { SID_Domain } from '../SID/index.js'\nimport type { NameServiceAPI } from '../entry-types.js'\n\nclass SpaceID_API implements NameServiceAPI.Provider {\n    readonly id = NameServiceID.SpaceID\n\n    async lookup(name: string) {\n        return attemptUntil(\n            [ChainbaseDomain, SID_Domain].map((x) => () => x.lookup(ChainId.BSC, name)),\n            undefined,\n        )\n    }\n\n    async reverse(address: string) {\n        return attemptUntil(\n            [ChainbaseDomain, SID_Domain].map((x) => () => x.reverse(ChainId.BSC, address)),\n            undefined,\n        )\n    }\n}\nexport const SpaceID = new SpaceID_API()\n","export const FIREFLY_API_URL = 'https://store.firefly.land/api/v1/str'\nexport const KV_ROOT_URL = 'https://kv.r2d2.to'\n","import urlcat from 'urlcat'\nimport { KV_ROOT_URL } from '../constants/index.js'\nimport { fetchSquashedJSON } from '../../helpers/fetchJSON.js'\n\nexport class R2D2GetterSetter<T> {\n    constructor(private prefix: string) {}\n\n    async get(key: string) {\n        try {\n            return fetchSquashedJSON<T>(\n                urlcat(KV_ROOT_URL, 'api/:name', {\n                    name: `${this.prefix}_${key}`,\n                }),\n                {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'text/plain',\n                    },\n                },\n            )\n        } catch {\n            return\n        }\n    }\n\n    async set(key: string, value: T) {\n        await fetch(\n            urlcat(KV_ROOT_URL, 'api/:name', {\n                name: `${this.prefix}_${key}`,\n            }),\n            {\n                method: 'PUT',\n                mode: 'cors',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(value),\n            },\n        )\n    }\n}\n","import { LRUCache } from 'lru-cache'\nimport { R2D2GetterSetter } from '../libs/R2D2.js'\nimport type { StorageAPI } from '../../entry-types.js'\n\nconst caches = new Map<string, LRUCache<string, any>>()\n\nexport class KVStorage implements StorageAPI.Storage {\n    private cache: LRUCache<string, any> | undefined\n\n    constructor(private namespace: string) {\n        const cache = caches.get(namespace)\n        if (cache) {\n            this.cache = cache\n            return\n        } else {\n            const lru = new LRUCache<string, any>({\n                max: 500,\n                ttl: 60_000,\n            })\n\n            caches.set(namespace, lru)\n            this.cache = lru\n        }\n    }\n\n    private getKV<T>() {\n        return new R2D2GetterSetter<T>(this.namespace)\n    }\n\n    async has(key: string) {\n        return !!this.get(key)\n    }\n\n    async get<T>(key: string) {\n        const cacheKey = `${this.namespace}_${key}`\n        const cache = this.cache?.get(cacheKey)\n        const storage = cache ?? this.getKV<T>().get(key)\n        return storage as T | undefined\n    }\n\n    async set<T>(key: string, value: T) {\n        await this.getKV<T>().set(key, value)\n\n        // clear cache when set\n        await this.delete(key)\n\n        return\n    }\n\n    async delete(key: string) {\n        const cacheKey = `${this.namespace}_${key}`\n        this.cache?.delete(cacheKey)\n    }\n\n    async clearAll() {\n        this.cache?.clear()\n    }\n}\n","import { type ECKeyIdentifier, fromHex, type NextIDPlatform, SignType, toBase64 } from '@masknet/shared-base'\nimport { NextIDStorageProvider as Storage } from '../../NextID/kv.js'\nimport type { StorageAPI, WalletAPI } from '../../entry-types.js'\n\nexport class NextIDStorage implements StorageAPI.Storage {\n    private publicKeyAsHex = ''\n    private signer: ECKeyIdentifier | null = null\n\n    constructor(\n        private proofIdentity: string, // proof identity as key\n        private platform: NextIDPlatform, // proof platform\n        private signerOrPublicKey: string | ECKeyIdentifier, // publicKey, like SocialIdentity publicKey or PersonaIdentifier publicKeyAsHex\n        private signWithPersona?: WalletAPI.IOContext['signWithPersona'],\n    ) {\n        if (typeof this.signerOrPublicKey === 'string') {\n            this.publicKeyAsHex = this.signerOrPublicKey\n        } else {\n            this.publicKeyAsHex = this.signerOrPublicKey.publicKeyAsHex\n            this.signer = this.signerOrPublicKey\n        }\n    }\n\n    async has(key: string) {\n        return !!this.get(key)\n    }\n\n    async get<T>(key: string) {\n        const response = await Storage.getByIdentity<T>(this.publicKeyAsHex, this.platform, this.proofIdentity, key)\n\n        if (!response.isOk()) return\n\n        return response.value\n    }\n\n    async getAll<T>(key: string) {\n        const response = await Storage.getAllByIdentity<T>(this.platform, this.proofIdentity, key)\n\n        if (!response.isOk()) return\n\n        return response.value\n    }\n\n    async set<T>(key: string, value: T) {\n        if (!this.signer) throw new Error('signer is requirement when set data to NextID Storage')\n\n        const payload = await Storage.getPayload(\n            this.publicKeyAsHex,\n            this.platform,\n            this.proofIdentity, // identity\n            value,\n            key,\n        )\n\n        if (!payload?.isOk()) throw new Error('Invalid payload Error')\n\n        const signature = await this.signWithPersona?.(SignType.Message, payload.value.signPayload, this.signer, true)\n        if (!signature) throw new Error('Failed to sign payload.')\n\n        await Storage.set(\n            payload.value.uuid,\n            this.publicKeyAsHex,\n            toBase64(fromHex(signature)),\n            this.platform,\n            this.proofIdentity,\n            payload.value.createdAt,\n            value,\n            key,\n        )\n\n        return\n    }\n}\n","import { LRUCache } from 'lru-cache'\nimport { RSS3 } from '../../RSS3/index.js'\nimport { ConnectionAPI } from '../../Web3/EVM/apis/ConnectionAPI.js'\nimport type { StorageAPI } from '../../entry-types.js'\n\nconst caches = new Map<string, LRUCache<string, any>>()\n\nexport class RSS3Storage implements StorageAPI.Storage {\n    private Web3 = new ConnectionAPI()\n\n    private cache: LRUCache<string, any> | undefined\n\n    constructor(private address: string) {\n        const cache = caches.get(address)\n\n        if (cache) {\n            this.cache = cache\n        } else {\n            const lru = new LRUCache<string, any>({\n                max: 500,\n                ttl: 60_000,\n            })\n\n            caches.set(address, lru)\n            this.cache = lru\n        }\n    }\n\n    private async getRSS3() {\n        return RSS3.createRSS3(this.address, (message: string) =>\n            this.Web3.signMessage('message', message, { account: this.address }),\n        )\n    }\n\n    async has(key: string) {\n        return !!this.get(key)\n    }\n\n    async get<T>(key: string): Promise<T | undefined> {\n        const cacheKey = `${this.address}_${key}`\n        const rss3 = await this.getRSS3()\n        const cache = this.cache?.get(cacheKey)\n        return cache ?? RSS3.getFileData(rss3, this.address, key)\n    }\n\n    async set<T>(key: string, value: T) {\n        const rss3 = await this.getRSS3()\n        await RSS3.setFileData<T>(rss3, this.address, key, value)\n\n        this.delete(key)\n        return\n    }\n\n    async delete(key: string) {\n        const cacheKey = `${this.address}_${key}`\n\n        this.cache?.delete(cacheKey)\n    }\n\n    async clearAll() {\n        this.cache?.clear()\n    }\n}\n","import urlcat from 'urlcat'\nimport { FIREFLY_API_URL } from '../constants/index.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport { parseJSON } from '../../helpers/parseJSON.js'\n\ninterface ResponseData {\n    code: number\n    reason: string\n    message: string\n    metaData: {\n        value: string\n    }\n}\nconst genKey = (namespace: string, userId: string) => `${namespace}-${userId.replaceAll('.', '%2E')}`\n\nexport class FireflyGetterSetter {\n    async get<T>(namespace: string, userId: string, address: string) {\n        if (!userId || !address) return\n        const response = await fetchJSON<ResponseData>(\n            urlcat(`${FIREFLY_API_URL}/get`, {\n                key: genKey(namespace, userId),\n                address,\n            }),\n        )\n        if (!response.metaData?.value) return\n        return parseJSON<T>(response.metaData.value)\n    }\n\n    async set<T>(namespace: string, userId: string, address: string, value: T, signature: string): Promise<void> {\n        if (!userId || !address || !value || !signature) return\n        const response = await fetch(`${FIREFLY_API_URL}/set`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                value: JSON.stringify(value),\n                address,\n                signature,\n                key: genKey(namespace, userId),\n            }),\n        })\n        const result: {\n            code: number\n            message: string\n        } = await response.json()\n        if (result.code !== 200) throw new Error(result.message)\n        return\n    }\n}\n","import { LRUCache } from 'lru-cache'\nimport { SignType } from '@masknet/shared-base'\nimport { FireflyGetterSetter } from '../libs/Firefly.js'\nimport { ConnectionAPI } from '../../Web3/EVM/apis/ConnectionAPI.js'\nimport type { StorageAPI } from '../../entry-types.js'\n\nconst caches = new Map<string, LRUCache<string, any>>()\n\nexport class FireflyStorage implements StorageAPI.Storage {\n    private Firefly = new FireflyGetterSetter()\n    private Web3 = new ConnectionAPI()\n\n    private cache: LRUCache<string, any> | undefined\n\n    constructor(\n        private namespace: string,\n        private address: string,\n    ) {\n        const cache = caches.get(this.getKey())\n        if (cache) {\n            this.cache = cache\n            return\n        } else {\n            const lru = new LRUCache<string, any>({\n                max: 500,\n                ttl: 60_000,\n            })\n\n            caches.set(this.getKey(), lru)\n            this.cache = lru\n        }\n    }\n\n    private getKey() {\n        return `${this.namespace}-${this.address}`\n    }\n\n    async get<T>(key: string) {\n        const cacheKey = `${this.getKey()}-${key}`\n        let value = this.cache?.get(cacheKey)\n        if (value) return value as T\n        value = await this.Firefly.get(this.namespace, key, this.address)\n        this.cache?.set(cacheKey, value)\n        return value as T\n    }\n\n    async has(key: string) {\n        return !!this.get(key)\n    }\n\n    async set<T>(key: string, value: T) {\n        const signature = await this.Web3.signMessage(SignType.Message, JSON.stringify(value))\n        if (!signature) throw new Error('Failed to sign payload')\n        await this.Firefly.set(this.namespace, key, this.address, value as string, signature)\n        const cacheKey = `${this.getKey()}-${key}`\n        this.cache?.delete(cacheKey)\n        return\n    }\n}\n","import type { ECKeyIdentifier, NextIDPlatform } from '@masknet/shared-base'\nimport { KVStorage } from '../storages/KV.js'\nimport { NextIDStorage } from '../storages/NextID.js'\nimport { RSS3Storage } from '../storages/RSS3.js'\nimport { FireflyStorage } from '../storages/Firefly.js'\nimport type { WalletAPI } from '../../entry-types.js'\n\nexport class Web3Storage {\n    static createKVStorage(namespace: string) {\n        return new KVStorage(namespace)\n    }\n\n    static createFireflyStorage(namespace: string, address: string) {\n        return new FireflyStorage(namespace, address || '')\n    }\n\n    static createRSS3Storage(namespace: string) {\n        return new RSS3Storage(namespace)\n    }\n\n    static createNextIDStorage(\n        proofIdentity: string,\n        platform: NextIDPlatform,\n        signerOrPublicKey: string | ECKeyIdentifier,\n        signWithPersona: WalletAPI.IOContext['signWithPersona'],\n    ) {\n        if (!platform || !signerOrPublicKey) throw new Error('Instantiation parameter error.')\n        return new NextIDStorage(proofIdentity, platform, signerOrPublicKey, signWithPersona)\n    }\n}\n","import { Flags } from '@masknet/flags'\nimport { getCookie } from '@masknet/shared-base'\n\nexport function getHeaders(overrides?: Record<string, string>) {\n    return {\n        authorization: `Bearer ${Flags.twitter_token}`,\n        'x-csrf-token': getCookie('ct0'),\n        'x-twitter-auth-type': 'OAuth2Session',\n        'x-twitter-client-language': navigator.language ? navigator.language : 'en',\n        ...overrides,\n    }\n}\n","import { getHeaders } from './getTokens.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nexport async function getSettings() {\n    return await fetchJSON<TwitterBaseAPI.Settings>('https://api.twitter.com/1.1/account/settings.json', {\n        headers: getHeaders({\n            referer: 'https://twitter.com/home',\n        }),\n        credentials: 'include',\n    })\n}\n","import { Sniffings } from '@masknet/shared-base'\n\n/* cspell:disable-next-line */\nconst DB_NAME = 'localforage'\nconst DB_VERSION = 2\n\nasync function getDatabase() {\n    if (!Sniffings.is_firefox) {\n        const databases = await indexedDB.databases()\n        if (!databases.some((x) => x.name === DB_NAME && x.version === DB_VERSION)) return\n    }\n\n    return new Promise<IDBDatabase>((resolve, reject) => {\n        const request = indexedDB.open(DB_NAME, DB_VERSION)\n\n        request.addEventListener('success', () => {\n            resolve(request.result)\n        })\n        request.addEventListener('error', (error) => {\n            reject(error)\n        })\n    })\n}\n\nexport async function getObjectStore(name: string) {\n    const database = await getDatabase()\n    if (!database) throw new Error('Failed to read database.')\n\n    const transaction = database.transaction([name], 'readonly')\n    return transaction.objectStore(name)\n}\n","import { hexToRgb } from '@mui/material'\nimport { getObjectStore } from './getObjectStore.js'\nimport { TwitterBaseAPI } from '../../entry-types.js'\n\n/* cspell:disable-next-line */\nconst STORE_NAME = 'keyvaluepairs'\n/* cspell:disable-next-line */\nconst KEY_NAME = 'device:rweb.settings'\n\nexport async function getUserSettings() {\n    const store = await getObjectStore(STORE_NAME)\n    const query = store.get(KEY_NAME)\n\n    return new Promise<TwitterBaseAPI.UserSettings | undefined>(async (resolve, reject) => {\n        query.addEventListener('success', (event) => {\n            if (!event.target) reject('Failed to get user settings.')\n\n            const event_ = event as unknown as TwitterBaseAPI.Event<\n                | {\n                      local: TwitterBaseAPI.UserSettings\n                  }\n                | undefined\n            >\n\n            resolve(event_.target.result?.local)\n        })\n        query.addEventListener('error', (error) => {\n            reject(error)\n        })\n    })\n}\n\nexport function getDefaultUserSettings(): TwitterBaseAPI.UserSettings {\n    return {\n        scale: TwitterBaseAPI.Scale.Normal,\n        themeBackground: TwitterBaseAPI.ThemeMode.Light,\n        themeColor: TwitterBaseAPI.ThemeColor.Blue,\n    }\n}\n\nexport function getComputedUserSettings(): TwitterBaseAPI.UserSettings {\n    const getThemeBackground = () => {\n        const { backgroundColor } = getComputedStyle(document.body)\n        const rgb = backgroundColor.startsWith('#') ? hexToRgb(backgroundColor) : backgroundColor\n\n        switch (rgb.toLowerCase()) {\n            case 'rgb(255, 255, 255)':\n                return TwitterBaseAPI.ThemeMode.Light\n            case 'rgb(21, 32, 43)':\n                return TwitterBaseAPI.ThemeMode.Dim\n            case 'rgb(0, 0, 0)':\n                return TwitterBaseAPI.ThemeMode.Dark\n            default:\n                return\n        }\n    }\n\n    const getThemeColor = () => {\n        const tweetButton = document.querySelector('a[href=\"/compose/tweet\"][data-testid=\"SideNav_NewTweet_Button\"]')\n        if (!tweetButton) return\n\n        const { backgroundColor } = getComputedStyle(tweetButton)\n        const rgb = backgroundColor.startsWith('#') ? hexToRgb(backgroundColor) : backgroundColor\n\n        switch (rgb.toLowerCase()) {\n            case 'rgb(29, 155, 240)':\n                return TwitterBaseAPI.ThemeColor.Blue\n            case 'rgb(255, 212, 0)':\n                return TwitterBaseAPI.ThemeColor.Yellow\n            case 'rgb(120, 86, 255)':\n                return TwitterBaseAPI.ThemeColor.Purple\n            case 'rgb(249, 24, 128)':\n                return TwitterBaseAPI.ThemeColor.Magenta\n            case 'rgb(255, 122, 0)':\n                return TwitterBaseAPI.ThemeColor.Orange\n            case 'rgb(0, 186, 124)':\n                return TwitterBaseAPI.ThemeColor.Green\n            default:\n                return\n        }\n    }\n\n    return {\n        themeBackground: getThemeBackground(),\n        themeColor: getThemeColor(),\n    }\n}\n","import urlcat from 'urlcat'\nimport { getHeaders } from './getTokens.js'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport { Duration } from '../../helpers/fetchCached.js'\nimport { Expiration } from '../../helpers/fetchSquashed.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nexport async function getUserNFTContainer(screenName: string) {\n    return await fetchCachedJSON<{\n        data: {\n            user: {\n                result: TwitterBaseAPI.NFTContainer\n            }\n        }\n    }>(\n        urlcat('https://twitter.com/i/api/graphql/z-_uxIiYELU35OzocPdDIw/userNftContainer_Query', {\n            variables: JSON.stringify({\n                screenName,\n            }),\n        }),\n        {\n            headers: getHeaders({\n                referer: `https://twitter.com/${screenName}/nft`,\n            }),\n            credentials: 'include',\n        },\n        {\n            cacheDuration: Duration.ONE_DAY,\n            squashExpiration: Expiration.ONE_SECOND,\n        },\n    )\n}\n","import urlcat from 'urlcat'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nexport async function getUserNFTAvatar(screenName: string) {\n    return await fetchCachedJSON<TwitterBaseAPI.UserNFTAvatarResponse>(\n        urlcat('https://a8fq5hs9nk.execute-api.us-east-1.amazonaws.com/prod/twitter', { screenName }),\n    )\n}\n","import urlcat from 'urlcat'\nimport { getHeaders } from './getTokens.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nconst UPLOAD_AVATAR_URL = 'https://upload.twitter.com/i/media/upload.json'\n\nexport async function uploadMedia(image: File | Blob): Promise<TwitterBaseAPI.MediaResponse> {\n    const headers = getHeaders()\n\n    // INIT\n    const initURL = urlcat(UPLOAD_AVATAR_URL, {\n        command: 'INIT',\n        total_bytes: image.size,\n        media_type: encodeURIComponent(image.type),\n    })\n    const initRes = await fetchJSON<{\n        media_id_string: string\n    }>(initURL, {\n        method: 'POST',\n        headers,\n        credentials: 'include',\n    })\n\n    // APPEND\n    const mediaId = initRes.media_id_string\n    const appendURL = urlcat(UPLOAD_AVATAR_URL, {\n        command: 'APPEND',\n        media_id: mediaId,\n        segment_index: 0,\n    })\n    const formData = new FormData()\n    formData.append('media', image)\n    await fetch(appendURL, {\n        method: 'POST',\n        headers,\n        body: formData,\n        credentials: 'include',\n    })\n\n    // FINALIZE\n    const finalizeURL = urlcat(UPLOAD_AVATAR_URL, {\n        command: 'FINALIZE',\n        media_id: mediaId,\n    })\n    return fetchJSON<TwitterBaseAPI.MediaResponse>(finalizeURL, {\n        method: 'POST',\n        headers,\n        credentials: 'include',\n    })\n}\n","import urlcat from 'urlcat'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport { getHeaders } from './getTokens.js'\n\nexport async function updateProfileImage(\n    screenName: string,\n    media_id_str: string,\n): Promise<TwitterBaseAPI.AvatarInfo | undefined> {\n    const profile = await fetchJSON<{\n        profile_image_url_https: string\n        id_str: string\n        name: string\n        screen_name: string\n    }>(\n        urlcat('https://twitter.com/i/api/1.1/account/update_profile_image.json', {\n            media_id: media_id_str,\n            skip_status: 1,\n            return_user: true,\n        }),\n        {\n            method: 'POST',\n            headers: getHeaders({\n                referer: `https://twitter.com/${screenName}`,\n            }),\n            credentials: 'include',\n        },\n    )\n\n    return {\n        imageUrl: profile.profile_image_url_https,\n        mediaId: profile.id_str,\n        nickname: profile.name,\n        userId: profile.screen_name,\n    }\n}\n","import urlcat from 'urlcat'\nimport { getHeaders } from './getTokens.js'\nimport { fetchGlobal } from '../../helpers/fetchGlobal.js'\nimport { Expiration } from '../../helpers/fetchSquashed.js'\nimport { Duration, staleCached } from '../../helpers/fetchCached.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nconst features = {\n    responsive_web_twitter_blue_verified_badge_is_enabled: true,\n    responsive_web_graphql_exclude_directive_enabled: false,\n    verified_phone_label_enabled: false,\n    responsive_web_twitter_blue_new_verification_copy_is_enabled: false,\n    responsive_web_graphql_skip_user_profile_image_extensions_enabled: false,\n    responsive_web_graphql_timeline_navigation_enabled: true,\n    blue_business_profile_image_shape_enabled: false,\n    subscriptions_verification_info_verified_since_enabled: false,\n    creator_subscriptions_tweet_preview_api_enabled: false,\n    highlights_tweets_tab_ui_enabled: false,\n    hidden_profile_likes_enabled: false,\n    hidden_profile_subscriptions_enabled: false,\n    subscriptions_verification_info_is_identity_verified_enabled: false,\n}\n\nasync function createRequest(screenName: string) {\n    const url = urlcat('https://twitter.com/i/api/graphql/sLVLhk0bGj3MVFEKTdax1w/UserByScreenName', {\n        variables: JSON.stringify({\n            screen_name: screenName,\n            withSafetyModeUserFields: true,\n            withSuperFollowsUserFields: true,\n        }),\n        features: JSON.stringify(features),\n    })\n\n    return new Request(url, {\n        headers: getHeaders({\n            'content-type': 'application/json',\n            referer: `https://twitter.com/${screenName}`,\n        }),\n        credentials: 'include',\n    })\n}\n\nfunction createUser(response: TwitterBaseAPI.UserResponse) {\n    const result = response.data.user.result\n    return {\n        verified: result.legacy?.verified ?? false,\n        has_nft_avatar: result.has_nft_avatar ?? false,\n        userId: result.rest_id,\n        nickname: result.legacy?.name ?? '',\n        screenName: result.legacy?.screen_name ?? '', // handle\n        avatarURL: result.legacy?.profile_image_url_https.replace(/_normal(\\.\\w+)$/, '_400x400$1'),\n        bio: result.legacy?.description,\n        location: result.legacy?.location,\n        homepage: result.legacy?.entities.url?.urls[0]?.expanded_url,\n    }\n}\n\nexport async function getUserByScreenName(screenName: string): Promise<TwitterBaseAPI.User | null> {\n    const request = await createRequest(screenName)\n    if (!request) return null\n\n    const response = await fetchGlobal(request, undefined, {\n        cacheDuration: Duration.ONE_DAY,\n        squashExpiration: Expiration.ONE_SECOND,\n    })\n    if (response.ok) {\n        const json: TwitterBaseAPI.UserResponse = await response.json()\n        return createUser(json)\n    }\n\n    const patchingFeatures: string[] = []\n    const failedResponse: TwitterBaseAPI.FailedResponse = await response.json()\n    for (const error of failedResponse.errors) {\n        const matched = error.message.match(/The following features cannot be null: (.*)$/)\n        if (matched) {\n            if (process.env.NODE_ENV === 'development') {\n                console.error('Error in getUserByScreenName:', error.message)\n            }\n            patchingFeatures.push(...matched[1].split(/,\\s+/))\n        }\n    }\n    if (patchingFeatures.length) {\n        Object.assign(features, Object.fromEntries(patchingFeatures.map((x) => [x, false])))\n    }\n    return null\n}\n\nexport async function staleUserByScreenName(screenName: string): Promise<TwitterBaseAPI.User | null> {\n    const request = await createRequest(screenName)\n    if (!request) return null\n\n    const response = await staleCached(request)\n    if (!response?.ok) return null\n\n    const json: TwitterBaseAPI.UserResponse = await response.json()\n    return createUser(json)\n}\n","import urlcat from 'urlcat'\nimport { getHeaders } from './getTokens.js'\nimport { Duration, staleCached } from '../../helpers/fetchCached.js'\nimport { Expiration } from '../../helpers/fetchSquashed.js'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nfunction createUser(response: TwitterBaseAPI.UserShowResponse): TwitterBaseAPI.User {\n    return {\n        verified: response.verified,\n        has_nft_avatar: false,\n        userId: response.id_str,\n        nickname: response.name,\n        screenName: response.screen_name,\n        avatarURL: response.profile_image_url_https.replace(/_normal(\\.\\w+)$/, '_400x400$1'),\n        bio: response.description,\n        location: response.location,\n        homepage: response.entities?.url?.urls[0]?.expanded_url,\n    }\n}\n\nasync function createRequest(screenName: string) {\n    const url = urlcat('https://api.twitter.com/1.1/users/show.json', {\n        screen_name: screenName,\n    })\n    return new Request(url, {\n        headers: getHeaders(),\n        credentials: 'include',\n    })\n}\n\nexport async function getUserByScreenNameShow(screenName: string): Promise<TwitterBaseAPI.User | null> {\n    const request = await createRequest(screenName)\n    const response = await fetchCachedJSON<TwitterBaseAPI.UserShowResponse>(request, undefined, {\n        cacheDuration: Duration.ONE_DAY,\n        squashExpiration: Expiration.ONE_SECOND,\n    })\n    return createUser(response)\n}\n\nexport async function staleUserByScreenNameShow(screenName: string): Promise<TwitterBaseAPI.User | null> {\n    const request = await createRequest(screenName)\n    if (!request) return null\n\n    const response = await staleCached(request)\n    if (!response?.ok) return null\n\n    const json: TwitterBaseAPI.UserShowResponse = await response.json()\n    return createUser(json)\n}\n","import urlcat from 'urlcat'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport { Duration, staleCached } from '../../helpers/fetchCached.js'\nimport { Expiration } from '../../helpers/fetchSquashed.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nconst TWITTER_IDENTITY_URL = 'https://mr8asf7i4h.execute-api.us-east-1.amazonaws.com/prod/twitter-identity'\n\nfunction createUser(response: TwitterBaseAPI.IdentifyResponse): TwitterBaseAPI.User {\n    return {\n        has_nft_avatar: false,\n        verified: response.verified,\n        userId: '',\n        nickname: response.name,\n        screenName: response.screen_name,\n        avatarURL: response.profile_image_url_https,\n        bio: response.description,\n        location: response.location,\n        homepage: response.entities?.url?.urls[0]?.expanded_url,\n    }\n}\nexport async function getUserViaTwitterIdentity(screenName: string): Promise<TwitterBaseAPI.User | null> {\n    const identity = await fetchCachedJSON<TwitterBaseAPI.IdentifyResponse>(\n        urlcat(TWITTER_IDENTITY_URL, {\n            screenName,\n        }),\n        undefined,\n        {\n            cacheDuration: Duration.ONE_DAY,\n            squashExpiration: Expiration.ONE_SECOND,\n        },\n    )\n    return createUser(identity)\n}\n\nexport async function staleUserViaIdentity(screenName: string): Promise<TwitterBaseAPI.User | null> {\n    const response = await staleCached(\n        new URL(\n            urlcat(TWITTER_IDENTITY_URL, {\n                screenName,\n            }),\n        ),\n    )\n    if (!response?.ok) return null\n\n    const identity: TwitterBaseAPI.IdentifyResponse = await response.json()\n    return createUser(identity)\n}\n","/* cspell:disable */\nimport * as Parser from 'twitter-text'\nimport { getHeaders } from './getTokens.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport type { TwitterBaseAPI } from '../../entry-types.js'\n\nconst features = {\n    freedom_of_speech_not_reach_fetch_enabled: true,\n    graphql_is_translatable_rweb_tweet_is_translatable_enabled: true,\n    longform_notetweets_consumption_enabled: true,\n    longform_notetweets_inline_media_enabled: true,\n    longform_notetweets_rich_text_read_enabled: true,\n    responsive_web_edit_tweet_api_enabled: true,\n    responsive_web_enhance_cards_enabled: false,\n    responsive_web_graphql_exclude_directive_enabled: true,\n    responsive_web_graphql_skip_user_profile_image_extensions_enabled: false,\n    responsive_web_graphql_timeline_navigation_enabled: true,\n    responsive_web_media_download_video_enabled: false,\n    responsive_web_twitter_article_tweet_consumption_enabled: false,\n    standardized_nudges_misinfo: true,\n    tweet_awards_web_tipping_enabled: false,\n    tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled: true,\n    tweetypie_unmention_optimization_enabled: true,\n    verified_phone_label_enabled: false,\n    view_counts_everywhere_api_enabled: true,\n}\n\nconst toggles = { withArticleRichContentState: false, withAuxiliaryUserLabels: false }\n\nexport async function createTweet(tweet: TwitterBaseAPI.Tweet) {\n    const variables = {\n        ...tweet,\n        dark_request: false,\n        withDownvotePerspective: false,\n        withReactionsMetadata: false,\n        withReactionsPerspective: false,\n        withSuperFollowsTweetFields: true,\n        withSuperFollowsUserFields: true,\n        semantic_annotation_ids: [],\n    }\n    const parsedTweet = Parser.default.parseTweet(variables.tweet_text)\n    const overLength = parsedTweet.weightedLength > 280\n    const scheduled = typeof variables.execute_at !== 'undefined'\n    const queryId = scheduled\n        ? 'LCVzRQGxOaGnOnYH01NQXg'\n        : overLength\n        ? 'pokID4auGUSzBxijrqpIlw'\n        : 'tTsjMKyhajZvK4q76mpIBg'\n    const queryName = scheduled ? 'CreateScheduledTweet' : overLength ? 'CreateNoteTweet' : 'CreateTweet'\n    const response = await fetchJSON<TwitterBaseAPI.CreateTweetResponse>(\n        `https://twitter.com/i/api/graphql/${queryId}/${queryName}`,\n        {\n            headers: getHeaders({\n                'content-type': 'application/json; charset=utf-8',\n            }),\n            method: 'POST',\n            credentials: 'include',\n            body: JSON.stringify({\n                variables,\n                features,\n                fieldToggles: toggles,\n                queryId,\n            }),\n        },\n    )\n\n    return response.data[scheduled ? 'posttweet_created' : overLength ? 'notetweet_create' : 'create_tweet']\n        .tweet_results.result\n}\n","import { timeout } from '@masknet/kit'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport {\n    getSettings,\n    getDefaultUserSettings,\n    getUserSettings,\n    getUserViaTwitterIdentity,\n    getUserNFTAvatar,\n    getUserNFTContainer,\n    getComputedUserSettings,\n    getUserByScreenName,\n    getUserByScreenNameShow,\n    staleUserByScreenName,\n    staleUserByScreenNameShow,\n    staleUserViaIdentity,\n    createTweet,\n    uploadMedia,\n    updateProfileImage,\n} from './apis/index.js'\nimport type { TwitterBaseAPI } from '../entry-types.js'\n\nexport class Twitter {\n    static getAvatarId(avatarURL?: string) {\n        if (!avatarURL) return ''\n        const match = new URL(avatarURL).pathname.match(/^\\/profile_images\\/(\\d+)/)\n        return match ? match[1] : ''\n    }\n\n    static getSettings() {\n        return getSettings()\n    }\n\n    static async getUserSettings() {\n        const defaults = getDefaultUserSettings()\n        const computed = getComputedUserSettings()\n\n        try {\n            const userSettings = await timeout(getUserSettings(), 5000, 'Timeout to get twitter user settings.')\n\n            return {\n                ...defaults,\n                ...computed,\n                ...userSettings,\n            }\n        } catch {\n            return {\n                ...defaults,\n                ...computed,\n            }\n        }\n    }\n\n    static async getUserNftContainer(screenName: string) {\n        return await attemptUntil<TwitterBaseAPI.NFT | undefined>(\n            [\n                async () => {\n                    const response = await getUserNFTContainer(screenName)\n                    const result = response?.data.user?.result\n                    if (!result?.has_nft_avatar) throw new Error(`User ${screenName} doesn't have NFT avatar.`)\n\n                    return {\n                        address: result.nft_avatar_metadata.smart_contract.address,\n                        token_id: result.nft_avatar_metadata.token_id,\n                    }\n                },\n                async () => {\n                    const response = await getUserNFTAvatar(screenName)\n                    const result = response.data.user?.result\n                    if (!result?.has_nft_avatar) throw new Error(`User ${screenName} doesn't have NFT avatar.`)\n                    return {\n                        address: result.nft_avatar_metadata.smart_contract.address,\n                        token_id: result.nft_avatar_metadata.token_id,\n                    }\n                },\n            ],\n            undefined,\n        )\n    }\n\n    static async uploadMedia(image: File | Blob): Promise<TwitterBaseAPI.MediaResponse> {\n        return uploadMedia(image)\n    }\n\n    static async updateProfileImage(\n        screenName: string,\n        media_id_str: string,\n    ): Promise<TwitterBaseAPI.AvatarInfo | undefined> {\n        return updateProfileImage(screenName, media_id_str)\n    }\n\n    static async getUserByScreenName(\n        screenName: string,\n        checkNFTAvatar?: boolean,\n    ): Promise<TwitterBaseAPI.User | null> {\n        if (!screenName) return null\n        if (checkNFTAvatar) return getUserByScreenName(screenName)\n        return attemptUntil<TwitterBaseAPI.User | null>(\n            [\n                () => getUserByScreenNameShow(screenName),\n                () => getUserByScreenName(screenName),\n                () => getUserViaTwitterIdentity(screenName),\n            ],\n            null,\n        )\n    }\n\n    static async staleUserByScreenName(screenName: string): Promise<void> {\n        await staleUserByScreenName(screenName)\n        await staleUserByScreenNameShow(screenName)\n        await staleUserViaIdentity(screenName)\n    }\n\n    static async createTweet(tweet: TwitterBaseAPI.Tweet) {\n        const response = await createTweet(tweet)\n        return response.rest_id\n    }\n}\n","import type { ChainDescriptor } from '@masknet/web3-shared-base'\n\nexport abstract class ChainResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected abstract readonly descriptors: ReadonlyArray<ChainDescriptor<ChainId, SchemaType, NetworkType>>\n    private getDescriptor(chainId: ChainId) {\n        return this.descriptors.find((x) => x.chainId === chainId)\n    }\n\n    private getDescriptorRequired(chainId: ChainId) {\n        const descriptor = this.getDescriptor(chainId)\n        if (!descriptor) throw new Error(`Unknown chainId: ${chainId}. It might too early to access network state.`)\n        return descriptor\n    }\n\n    /**\n     * Guess chain id by name, it's not perfectly accurate\n     */\n    chainId = (name: string) =>\n        this.descriptors.find((x) =>\n            [x.name, x.type as string, x.fullName, x.shortName]\n                .map((x) => x?.toLowerCase())\n                .filter(Boolean)\n                .includes(name?.toLowerCase()),\n        )?.chainId\n\n    coinMarketCapChainId = (chainId: ChainId) => this.getDescriptor(chainId)?.coinMarketCapChainId ?? ''\n\n    coinGeckoChainId = (chainId: ChainId) => this.getDescriptor(chainId)?.coinGeckoChainId ?? ''\n\n    coinGeckoPlatformId = (chainId: ChainId) => this.getDescriptor(chainId)?.coinGeckoPlatformId ?? ''\n\n    chainName = (chainId: ChainId) => this.getDescriptor(chainId)?.name ?? 'Custom Network'\n\n    chainFullName = (chainId: ChainId) => this.getDescriptor(chainId)?.fullName ?? 'Custom Network'\n    chainColor = (chainId: ChainId) => this.getDescriptor(chainId)?.color ?? 'rgb(138, 138, 138)'\n\n    chainPrefix = (chainId: ChainId) => ''\n\n    networkType = (chainId: ChainId) => this.getDescriptorRequired(chainId)?.type\n\n    explorerUrl = (chainId: ChainId) => this.getDescriptorRequired(chainId)?.explorerUrl\n\n    nativeCurrency = (chainId: ChainId) => this.getDescriptorRequired(chainId)?.nativeCurrency\n\n    isValidChainId = (chainId: ChainId, testnet = false) =>\n        this.getDescriptor(chainId)?.network === 'mainnet' || testnet\n\n    isMainnet = (chainId: ChainId) => this.getDescriptor(chainId)?.network === 'mainnet'\n\n    isFeatureSupported = (chainId: ChainId, feature: string) =>\n        !!this.getDescriptor(chainId)?.features?.includes(feature)\n}\n","import { identity, pickBy } from 'lodash-es'\nimport type { GasOptionType, Web3State } from '@masknet/web3-shared-base'\nimport type { ECKeyIdentifier, PartialRequired } from '@masknet/shared-base'\nimport type { OthersAPI_Base } from './OthersAPI.js'\n\nexport interface ConnectionOptions_Base<ChainId, ProviderType, Transaction> {\n    /** Designate the signer of the transaction. */\n    account?: string\n    /** Designate the sub-network id of the transaction. */\n    chainId?: ChainId\n    /** an abstract wallet has a owner */\n    owner?: string\n    /** persona identifier */\n    identifier?: ECKeyIdentifier\n    /** Designate the provider to handle the transaction. */\n    providerType?: ProviderType\n    /** Custom network rpc url. */\n    providerURL?: string\n    /** Gas payment token. */\n    paymentToken?: string\n    /** Only Support Mask Wallet, silent switch wallet */\n    silent?: boolean\n    /** Accessing data from chain directly w/o middleware, the default value is true  */\n    readonly?: boolean\n    /** Fragments to merge into the transaction. */\n    overrides?: Partial<Transaction>\n    /** Termination signal */\n    signal?: AbortSignal\n    /** Gas option type */\n    gasOptionType?: GasOptionType\n}\n\nexport abstract class ConnectionOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n> {\n    constructor(private options?: ConnectionOptions_Base<ChainId, ProviderType, Transaction>) {}\n    abstract readonly Web3StateRef: {\n        readonly value: Web3State<\n            ChainId,\n            SchemaType,\n            ProviderType,\n            NetworkType,\n            MessageRequest,\n            MessageResponse,\n            Transaction,\n            TransactionParameter\n        >\n    }\n\n    abstract readonly Web3Others: OthersAPI_Base<ChainId, SchemaType, ProviderType, NetworkType, Transaction>\n\n    protected get defaults(): PartialRequired<\n        ConnectionOptions_Base<ChainId, ProviderType, Transaction>,\n        'account' | 'chainId' | 'providerType'\n    > {\n        const others = this.Web3Others\n        return {\n            account: '',\n            chainId: others.getDefaultChainId(),\n            providerType: others.getDefaultProviderType(),\n        }\n    }\n\n    protected get refs(): ConnectionOptions_Base<ChainId, ProviderType, Transaction> {\n        const provider = this.Web3StateRef.value?.Provider\n        if (!provider) return {}\n        return {\n            account: provider.account?.getCurrentValue(),\n            chainId: provider.chainId?.getCurrentValue(),\n            providerType: provider.providerType?.getCurrentValue(),\n        }\n    }\n\n    fill(\n        initials?: ConnectionOptions_Base<ChainId, ProviderType, Transaction>,\n        overrides?: Partial<Transaction>,\n    ): PartialRequired<\n        ConnectionOptions_Base<ChainId, ProviderType, Transaction>,\n        'account' | 'chainId' | 'providerType'\n    > {\n        return {\n            ...this.defaults,\n            ...this.refs,\n            ...pickBy(this.options, identity),\n            ...pickBy(initials, identity),\n            overrides: {\n                ...this.defaults.overrides,\n                ...pickBy(this.refs?.overrides, identity),\n                ...pickBy(this.options?.overrides, identity),\n                ...pickBy(initials?.overrides, identity),\n                ...pickBy(overrides, identity),\n            },\n        }\n    }\n}\n","import urlcat from 'urlcat'\nimport type { ChainDescriptor } from '@masknet/web3-shared-base'\n\ninterface ExplorerOptions {\n    addressPathname?: string\n    blockPathname?: string\n    transactionPathname?: string\n    domainPathname?: string\n    fungibleTokenPathname?: string\n    nonFungibleTokenPathname?: string\n}\n\nexport abstract class ExplorerResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected abstract readonly descriptors: ReadonlyArray<ChainDescriptor<ChainId, SchemaType, NetworkType>>\n    protected abstract initial?: ExplorerOptions\n    private get options() {\n        const defaults = {\n            addressPathname: '/address/:address',\n            blockPathname: '/block/:blockNumber',\n            transactionPathname: '/tx/:id',\n            domainPathname: '/address/:domain',\n            fungibleTokenPathname: '/address/:address',\n            nonFungibleTokenPathname: '/nft/:address/:tokenId',\n        }\n        return {\n            ...defaults,\n            ...this.initial,\n        }\n    }\n\n    private getExplorerURL(chainId: ChainId) {\n        const chainDescriptor = this.descriptors.find((x) => x.chainId === chainId)\n        return chainDescriptor?.explorerUrl ?? { url: '' }\n    }\n\n    explorerUrl = (chainId: ChainId) => this.getExplorerURL(chainId)\n\n    addressLink = (chainId: ChainId, address: string, tokenId?: string) => {\n        const explorerUrl = this.getExplorerURL(chainId)\n        if (!explorerUrl.url) return\n        return urlcat(explorerUrl.url, this.options.addressPathname, {\n            address,\n            ...explorerUrl?.parameters,\n        })\n    }\n\n    blockLink = (chainId: ChainId, blockNumber: number) => {\n        const explorerUrl = this.getExplorerURL(chainId)\n        if (!explorerUrl.url) return\n\n        return urlcat(explorerUrl.url, this.options.blockPathname, {\n            blockNumber,\n            ...explorerUrl?.parameters,\n        })\n    }\n\n    transactionLink = (chainId: ChainId, id: string) => {\n        const explorerUrl = this.getExplorerURL(chainId)\n        if (!explorerUrl.url) return\n\n        return urlcat(explorerUrl.url, this.options.transactionPathname, {\n            id,\n            ...explorerUrl?.parameters,\n        })\n    }\n\n    fungibleTokenLink = (chainId: ChainId, address: string) => {\n        const explorerUrl = this.getExplorerURL(chainId)\n        if (!address || !explorerUrl.url) return\n        return urlcat(explorerUrl.url, this.options.fungibleTokenPathname, {\n            address,\n            ...explorerUrl?.parameters,\n        })\n    }\n\n    nonFungibleTokenLink = (chainId: ChainId, address: string, tokenId: string) => {\n        const explorerUrl = this.getExplorerURL(chainId)\n        if (!explorerUrl.url) return\n        return urlcat(explorerUrl.url, this.options.nonFungibleTokenPathname, {\n            address,\n            tokenId,\n            ...explorerUrl?.parameters,\n        })\n    }\n}\n","import type { Pageable } from '@masknet/shared-base'\nimport type { GasOptionType, Transaction as Web3Transaction } from '@masknet/web3-shared-base'\nimport type { HubOptions_Base } from './HubOptionsAPI.js'\nimport { HubProviderAPI_Base } from './HubProviderAPI.js'\n\nexport abstract class HubBaseAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n    GasOption,\n> extends HubProviderAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    abstract getGasOptions?(\n        chainId: ChainId,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Record<GasOptionType, GasOption> | undefined>\n    abstract getTransactions?(\n        chainId: ChainId,\n        account: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<Web3Transaction<ChainId, SchemaType>>>\n}\n","import { EMPTY_LIST, createIndicator, createPageable, type Pageable } from '@masknet/shared-base'\nimport { queryClient } from '@masknet/shared-base-ui'\nimport {\n    attemptUntil,\n    type FungibleAsset,\n    type FungibleToken,\n    type FungibleTokenSpender,\n} from '@masknet/web3-shared-base'\nimport { isEmpty } from 'lodash-es'\nimport type { AuthorizationAPI, FungibleTokenAPI, PriceAPI, TokenIconAPI, TokenListAPI } from '../../../entry-types.js'\nimport type { HubOptions_Base } from './HubOptionsAPI.js'\nimport { HubProviderAPI_Base } from './HubProviderAPI.js'\n\nexport abstract class HubFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n> extends HubProviderAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    protected abstract getProviders(\n        initial?: HubOptions_Base<ChainId>,\n    ): Array<\n        AuthorizationAPI.Provider<ChainId> &\n            FungibleTokenAPI.Provider<ChainId, SchemaType> &\n            TokenListAPI.Provider<ChainId, SchemaType> &\n            TokenIconAPI.Provider<ChainId> &\n            PriceAPI.Provider<ChainId>\n    >\n\n    async getFungibleTokensFromTokenList(\n        chainId: ChainId,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Array<FungibleToken<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({ ...initial, chainId })\n        const providers = this.getProviders(initial)\n        return queryClient.fetchQuery(['get-fungible-token-list', options.chainId, initial], async () => {\n            return attemptUntil(\n                providers.map((x) => () => x.getFungibleTokenList?.(options.chainId)),\n                EMPTY_LIST,\n            )\n        })\n    }\n\n    async getFungibleTokenIconURLs(\n        chainId: ChainId,\n        address: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<string[]> {\n        const options = this.HubOptions.fill({ ...initial, chainId })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getFungibleTokenIconURLs?.(options.chainId, address)),\n            EMPTY_LIST,\n        )\n    }\n\n    async getFungibleTokenPrice(\n        chainId: ChainId,\n        address: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<number | undefined> {\n        const options = this.HubOptions.fill({ ...initial, chainId })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getFungibleTokenPrice?.(options.chainId, address)),\n            undefined,\n        )\n    }\n\n    async getFungibleTokenSpenders(\n        chainId: ChainId,\n        account: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Array<FungibleTokenSpender<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({ ...initial, chainId, account })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getFungibleTokenSpenders?.(options.chainId, options.account)),\n            EMPTY_LIST,\n            isEmpty,\n        )\n    }\n\n    async getFungibleAsset(\n        address: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<FungibleAsset<ChainId, SchemaType> | undefined> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getAsset?.(address, options)),\n            undefined,\n        )\n    }\n\n    async getFungibleAssets(\n        account: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<FungibleAsset<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({ ...initial, account })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getAssets?.(options.account, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    async getTrustedFungibleAssets(\n        account: string,\n        trustedFungibleTokens?: Array<FungibleToken<ChainId, SchemaType>>,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<FungibleAsset<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({ ...initial, account })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getTrustedAssets?.(options.account, trustedFungibleTokens, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    abstract getFungibleToken(\n        address: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<FungibleToken<ChainId, SchemaType> | undefined>\n}\n","import { isEmpty } from 'lodash-es'\nimport {\n    attemptUntil,\n    type NonFungibleAsset,\n    type NonFungibleCollection,\n    type NonFungibleTokenRarity,\n    type NonFungibleTokenEvent,\n    type NonFungibleTokenOrder,\n    type OrderSide,\n    type NonFungibleTokenContract,\n    type NonFungibleToken,\n    type NonFungibleContractSpender,\n    type PriceInToken,\n} from '@masknet/web3-shared-base'\nimport { type Pageable, createPageable, createIndicator, EMPTY_LIST } from '@masknet/shared-base'\nimport { HubProviderAPI_Base } from './HubProviderAPI.js'\nimport type { HubOptions_Base } from './HubOptionsAPI.js'\nimport type { AuthorizationAPI, NonFungibleTokenAPI, TokenListAPI } from '../../../entry-types.js'\n\nexport abstract class HubNonFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n> extends HubProviderAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    protected abstract getProviders(\n        initial?: HubOptions_Base<ChainId>,\n    ): Array<\n        AuthorizationAPI.Provider<ChainId> &\n            NonFungibleTokenAPI.Provider<ChainId, SchemaType> &\n            TokenListAPI.Provider<ChainId, SchemaType>\n    >\n\n    async getNonFungibleRarity(\n        address: string,\n        tokenId: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<NonFungibleTokenRarity<ChainId> | undefined> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getRarity?.(address, tokenId, options)),\n            undefined,\n        )\n    }\n\n    async getNonFungibleAsset(\n        address: string,\n        tokenId: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<NonFungibleAsset<ChainId, SchemaType> | undefined> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getAsset?.(address, tokenId, options)),\n            undefined,\n            (v) => !v,\n        )\n    }\n\n    async getNonFungibleAssets(\n        account: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleAsset<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({\n            ...initial,\n            account,\n        })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getAssets?.(options.account, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    async getNonFungibleTokenFloorPrice(\n        address: string,\n        tokenId: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<PriceInToken<ChainId, SchemaType> | undefined> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getFloorPrice?.(address, tokenId, options)),\n            undefined,\n        )\n    }\n\n    async getNonFungibleAssetsByCollection(\n        address: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleAsset<ChainId, SchemaType>> | undefined> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getAssetsByCollection?.(address, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    async getNonFungibleAssetsByCollectionAndOwner(\n        collectionId: string,\n        owner: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleAsset<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getAssetsByCollectionAndOwner?.(collectionId, owner, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    async getNonFungibleTokenContract(\n        address: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType> | undefined> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getContract?.(address, options)),\n            undefined,\n        )\n    }\n\n    async getNonFungibleTokenEvents(\n        address: string,\n        tokenId: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleTokenEvent<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getEvents?.(address, tokenId, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    async getNonFungibleTokenListings(\n        address: string,\n        tokenId: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleTokenOrder<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getListings?.(address, tokenId, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    async getNonFungibleTokenOffers(\n        address: string,\n        tokenId: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleTokenOrder<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getOffers?.(address, tokenId, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n            (result) => !result?.data.length,\n        )\n    }\n\n    async getNonFungibleTokenOrders(\n        address: string,\n        tokenId: string,\n        side: OrderSide,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleTokenOrder<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getOrders?.(address, tokenId, side, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n            (result) => !result?.data.length,\n        )\n    }\n\n    async getNonFungibleCollectionsByOwner(\n        account: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleCollection<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill(initial)\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getCollectionsByOwner?.(account, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n\n    async getNonFungibleCollectionVerifiedBy(id: string): Promise<string[]> {\n        const providers = this.getProviders()\n        return attemptUntil(\n            providers.map((x) => () => x.getCollectionVerifiedBy?.(id)),\n            [],\n        )\n    }\n\n    async getNonFungibleTokensFromTokenList(\n        chainId: ChainId,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Array<NonFungibleToken<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({\n            ...initial,\n            chainId,\n        })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getNonFungibleTokenList?.(options.chainId)),\n            EMPTY_LIST,\n        )\n    }\n\n    async getNonFungibleTokenSpenders(\n        chainId: ChainId,\n        account: string,\n        initial?: HubOptions_Base<ChainId>,\n    ): Promise<Array<NonFungibleContractSpender<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({\n            ...initial,\n            chainId,\n            account,\n        })\n        const providers = this.getProviders(initial)\n        return attemptUntil(\n            providers.map((x) => () => x.getNonFungibleTokenSpenders?.(options.chainId, options.account)),\n            EMPTY_LIST,\n            isEmpty,\n        )\n    }\n}\n","import { identity, pickBy } from 'lodash-es'\nimport type { NetworkPluginID, PageIndicator, PartialRequired } from '@masknet/shared-base'\nimport { CurrencyType, type SourceType, type Web3State } from '@masknet/web3-shared-base'\nimport { type SchemaType } from '@masknet/web3-shared-evm'\nimport type { OthersAPI_Base } from './OthersAPI.js'\n\nexport interface HubOptions_Base<ChainId, Indicator = PageIndicator> {\n    /** The user account as the API parameter */\n    account?: string\n    /** The chain id as the API parameter */\n    chainId?: ChainId\n    /** The networkPluginID as the API parameter */\n    networkPluginId?: NetworkPluginID\n    /** The id of data provider */\n    sourceType?: SourceType\n    /** The schema type of filtered data */\n    schemaType?: SchemaType\n    /** The currency type of data */\n    currencyType?: CurrencyType\n    /** The item size of each page. */\n    size?: number\n    /** The page index. */\n    indicator?: Indicator\n    allChains?: boolean\n}\n\nexport abstract class HubOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n> {\n    constructor(private options?: HubOptions_Base<ChainId>) {}\n\n    abstract readonly Web3StateRef: {\n        readonly value: Web3State<\n            ChainId,\n            SchemaType,\n            ProviderType,\n            NetworkType,\n            MessageRequest,\n            MessageResponse,\n            Transaction,\n            TransactionParameter\n        >\n    }\n\n    abstract readonly Web3Others: OthersAPI_Base<ChainId, SchemaType, ProviderType, NetworkType, Transaction>\n\n    protected get defaults(): PartialRequired<HubOptions_Base<ChainId>, 'account' | 'chainId'> {\n        return {\n            account: '',\n            chainId: this.Web3Others.getDefaultChainId(),\n            networkPluginId: this.Web3Others.getNetworkPluginID(),\n            currencyType: CurrencyType.USD,\n            size: 50,\n        }\n    }\n\n    protected get refs(): HubOptions_Base<ChainId> {\n        if (!this.Web3StateRef.value) return {}\n        return {\n            account: this.Web3StateRef.value.Provider?.account?.getCurrentValue(),\n            chainId: this.Web3StateRef.value.Provider?.chainId?.getCurrentValue(),\n            currencyType: this.Web3StateRef.value.Settings?.currencyType?.getCurrentValue(),\n        }\n    }\n\n    fill(initial?: HubOptions_Base<ChainId>): PartialRequired<HubOptions_Base<ChainId>, 'account' | 'chainId'> {\n        return {\n            ...this.defaults,\n            ...this.refs,\n            ...this.options,\n            ...pickBy(initial, identity),\n        }\n    }\n}\n","import { type SourceType, createPredicate } from '@masknet/web3-shared-base'\nimport { type HubOptionsAPI_Base, type HubOptions_Base } from './HubOptionsAPI.js'\n\nexport abstract class HubProviderAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n> {\n    constructor(protected options?: HubOptions_Base<ChainId>) {}\n    protected abstract HubOptions: HubOptionsAPI_Base<\n        ChainId,\n        SchemaType,\n        ProviderType,\n        NetworkType,\n        MessageRequest,\n        MessageResponse,\n        Transaction,\n        TransactionParameter\n    >\n\n    protected getPredicateProviders<P>(\n        providers: Partial<Record<SourceType, P>>,\n        defaultProviders: P[],\n        initial?: HubOptions_Base<ChainId>,\n    ) {\n        const options = this.HubOptions.fill(initial)\n        const predicate = createPredicate(Object.keys(providers) as Array<keyof typeof providers>)\n        return predicate(options.sourceType) ? [providers[options.sourceType]!] : defaultProviders\n    }\n}\n","import type { NetworkDescriptor } from '@masknet/web3-shared-base'\n\nexport abstract class NetworkResolverAPI_Base<ChainId, NetworkType> {\n    protected abstract readonly descriptors: ReadonlyArray<NetworkDescriptor<ChainId, NetworkType>>\n    private getDescriptor(networkType: NetworkType) {\n        return this.descriptors.find((x) => x.type === networkType)\n    }\n\n    networkIcon = (networkType: NetworkType) => this.getDescriptor(networkType)?.icon\n\n    networkIconColor = (networkType: NetworkType) => this.getDescriptor(networkType)?.iconColor\n\n    networkName = (networkType: NetworkType) => this.getDescriptor(networkType)?.name\n\n    networkChainId = (networkType: NetworkType) => this.getDescriptor(networkType)?.chainId\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport { type FungibleToken, type NonFungibleToken, isSameAddress } from '@masknet/web3-shared-base'\nimport type { ProviderResolverAPI_Base } from './ProviderResolverAPI.js'\nimport type { NetworkResolverAPI_Base } from './NetworkExplorerAPI.js'\nimport type { ChainResolverAPI_Base } from './ChainResolverAPI.js'\nimport type { ExplorerResolverAPI_Base } from './ExplorerResolverAPI.js'\n\nexport class OthersAPI_Base<ChainId, SchemaType, ProviderType, NetworkType, Transaction> {\n    readonly chainResolver: ChainResolverAPI_Base<ChainId, SchemaType, NetworkType> = null!\n    readonly explorerResolver: ExplorerResolverAPI_Base<ChainId, SchemaType, NetworkType> = null!\n    readonly providerResolver: ProviderResolverAPI_Base<ChainId, ProviderType> = null!\n    readonly networkResolver: NetworkResolverAPI_Base<ChainId, NetworkType> = null!\n\n    getNetworkPluginID(): NetworkPluginID {\n        throw new Error('Method not implemented.')\n    }\n    getDefaultChainId(): ChainId {\n        throw new Error('Method not implemented.')\n    }\n    getInvalidChainId(): ChainId {\n        throw new Error('Method not implemented.')\n    }\n    getDefaultNetworkType(): NetworkType {\n        throw new Error('Method not implemented.')\n    }\n    getDefaultProviderType(): ProviderType {\n        throw new Error('Method not implemented.')\n    }\n\n    getZeroAddress(): string | undefined {\n        throw new Error('Method not implemented.')\n    }\n    getNativeTokenAddress(chainId?: ChainId): string | undefined {\n        throw new Error('Method not implemented.')\n    }\n    getMaskTokenAddress(chainId?: ChainId): string | undefined {\n        throw new Error('Method not implemented.')\n    }\n    getAverageBlockDelay(chainId: ChainId, scale = 1): number {\n        throw new Error('Method not implemented.')\n    }\n    getTransactionSignature(chainId?: ChainId, transaction?: Transaction | undefined): string | undefined {\n        throw new Error('Method not implemented.')\n    }\n\n    isSameAddress = isSameAddress\n\n    isZeroAddress(address?: string): boolean {\n        throw new Error('Method not implemented.')\n    }\n    isNativeTokenAddress(address?: string): boolean {\n        throw new Error('Method not implemented.')\n    }\n    isValidChain(chainId: ChainId, testnet = false): boolean {\n        throw new Error('Method not implemented.')\n    }\n    isValidChainId(chainId: ChainId): boolean {\n        throw new Error('Method not implemented.')\n    }\n    isValidDomain(domain: string): boolean {\n        throw new Error('Method not implemented.')\n    }\n    isValidAddress(address: string): boolean {\n        throw new Error('Method not implemented.')\n    }\n\n    isNativeTokenSchemaType(schemaType?: SchemaType | undefined): boolean {\n        throw new Error('Method not implemented.')\n    }\n    isFungibleTokenSchemaType(schemaType?: SchemaType | undefined): boolean {\n        throw new Error('Method not implemented.')\n    }\n    isNonFungibleTokenSchemaType(schemaType?: SchemaType | undefined): boolean {\n        throw new Error('Method not implemented.')\n    }\n\n    formatAddress(address: string, size?: number | undefined): string {\n        throw new Error('Method not implemented.')\n    }\n    formatTokenId(id?: string | undefined, size?: number | undefined): string {\n        throw new Error('Method not implemented.')\n    }\n    formatDomainName(domain?: string | null | undefined, size?: number | undefined): string {\n        throw new Error('Method not implemented.')\n    }\n    formatSchemaType(schema: SchemaType): string {\n        throw new Error('Method not implemented.')\n    }\n\n    createNativeToken(chainId: ChainId): FungibleToken<ChainId, SchemaType> {\n        throw new Error('Method not implemented.')\n    }\n    createFungibleToken(\n        chainId: ChainId,\n        schemaType: SchemaType,\n        address: string,\n        name?: string,\n        symbol?: string,\n        decimals?: number,\n        logoURI?: string,\n    ): FungibleToken<ChainId, SchemaType> {\n        throw new Error('Method not implemented.')\n    }\n    createNonFungibleToken(\n        chainId: ChainId,\n        address: string,\n        schemaType: SchemaType,\n        tokenId: string,\n        ownerId?: string,\n        metadata?: NonFungibleToken<ChainId, SchemaType>['metadata'],\n        contract?: NonFungibleToken<ChainId, SchemaType>['contract'],\n        collection?: NonFungibleToken<ChainId, SchemaType>['collection'],\n    ): NonFungibleToken<ChainId, SchemaType> {\n        throw new Error('Method not implemented.')\n    }\n}\n","import type { ProviderDescriptor } from '@masknet/web3-shared-base'\n\nexport abstract class ProviderResolverAPI_Base<ChainId, ProviderType> {\n    protected abstract readonly descriptors: ReadonlyArray<ProviderDescriptor<ChainId, ProviderType>>\n    private getDescriptor(providerType: ProviderType) {\n        return this.descriptors.find((x) => x.type === providerType)\n    }\n\n    providerName = (providerType: ProviderType) => this.getDescriptor(providerType)?.name\n\n    providerHomeLink = (providerType: ProviderType) => this.getDescriptor(providerType)?.homeLink\n\n    providerShortenLink = (providerType: ProviderType) => this.getDescriptor(providerType)?.shortenLink\n\n    providerDownloadLink = (providerType: ProviderType) => this.getDescriptor(providerType)?.downloadLink\n}\n","import { toHex } from 'web3-utils'\nimport { delay } from '@masknet/kit'\nimport type { Account, ECKeyIdentifier, Proof, UpdatableWallet, Wallet } from '@masknet/shared-base'\nimport {\n    type AddressType,\n    type ChainId,\n    SchemaType,\n    type Web3Provider,\n    type Transaction,\n    type TransactionDetailed,\n    type TransactionReceipt,\n    type Block,\n    type TransactionSignature,\n    type ProviderType,\n    type Signature,\n    type UserOperation,\n    type Web3,\n    EthereumMethodType,\n    AccountTransaction,\n    getAverageBlockDelay,\n    isNativeTokenAddress,\n    ContractTransaction,\n} from '@masknet/web3-shared-evm'\nimport { TransactionStatusType } from '@masknet/web3-shared-base'\nimport { Web3StateRef } from './Web3StateAPI.js'\nimport { RequestAPI } from './RequestAPI.js'\nimport { ContractAPI } from './ContractAPI.js'\nimport { ConnectionReadonlyAPI } from './ConnectionReadonlyAPI.js'\nimport { ConnectionOptionsAPI } from './ConnectionOptionsAPI.js'\nimport type { ConnectionAPI_Base } from '../../Base/apis/ConnectionAPI.js'\nimport { Providers } from '../providers/index.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nexport class ConnectionAPI\n    extends ConnectionReadonlyAPI\n    implements\n        ConnectionAPI_Base<\n            ChainId,\n            AddressType,\n            SchemaType,\n            ProviderType,\n            Signature,\n            UserOperation,\n            Transaction,\n            TransactionReceipt,\n            TransactionDetailed,\n            TransactionSignature,\n            Block,\n            Web3,\n            Web3Provider\n        >\n{\n    private get Transaction() {\n        return Web3StateRef.value.Transaction\n    }\n\n    private get TransactionWatcher() {\n        return Web3StateRef.value.TransactionWatcher\n    }\n\n    protected override Request = new RequestAPI(this.options)\n    protected override Contract = new ContractAPI(this.options)\n    protected override ConnectionOptions = new ConnectionOptionsAPI(this.options)\n\n    override async addWallet(wallet: UpdatableWallet, initial?: ConnectionOptions): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_ADD_WALLET,\n                params: [wallet],\n            },\n            initial,\n        )\n    }\n\n    override async updateWallet(\n        address: string,\n        wallet: Partial<UpdatableWallet>,\n        initial?: ConnectionOptions,\n    ): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_UPDATE_WALLET,\n                params: [address, wallet],\n            },\n            initial,\n        )\n    }\n\n    override async renameWallet(address: string, name: string, initial?: ConnectionOptions): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_RENAME_WALLET,\n                params: [address, name],\n            },\n            initial,\n        )\n    }\n\n    override async removeWallet(\n        address: string,\n        password?: string | undefined,\n        initial?: ConnectionOptions,\n    ): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_REMOVE_WALLET,\n                params: [address, password],\n            },\n            initial,\n        )\n    }\n\n    override async resetAllWallets(initial?: ConnectionOptions): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_RESET_ALL_WALLETS,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    override async updateWallets(wallets: Wallet[], initial?: ConnectionOptions): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_UPDATE_WALLETS,\n                params: wallets,\n            },\n            initial,\n        )\n    }\n\n    override async removeWallets(wallets: Wallet[], initial?: ConnectionOptions): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_REMOVE_WALLETS,\n                params: wallets,\n            },\n            initial,\n        )\n    }\n\n    override async approveFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n\n        // Native\n        if (!address || isNativeTokenAddress(address)) throw new Error('Invalid token address.')\n\n        // ERC20\n        return new ContractTransaction(this.Contract.getERC20Contract(address, options)).send(\n            (x) => x?.methods.approve(recipient, toHex(amount)),\n            options.overrides,\n        )\n    }\n\n    override async approveNonFungibleToken(\n        address: string,\n        recipient: string,\n        tokenId: string,\n        schema: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        // Do not use `approve()`, since it is buggy.\n        // https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/ERC721.sol\n        throw new Error('Method not implemented.')\n    }\n\n    override async approveAllNonFungibleTokens(\n        address: string,\n        recipient: string,\n        approved: boolean,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n\n        // Native\n        if (!address || isNativeTokenAddress(address)) throw new Error('Invalid token address.')\n\n        // ERC721 & ERC1155\n        return new ContractTransaction(this.Contract.getERC721Contract(address, options)).send(\n            (x) => x?.methods.setApprovalForAll(recipient, approved),\n            options.overrides,\n        )\n    }\n\n    override async transferFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        memo?: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n\n        // Native\n        if (!address || isNativeTokenAddress(address)) {\n            const tx: Transaction = {\n                from: options.account,\n                to: recipient,\n                value: toHex(amount),\n                data: memo ? toHex(memo) : undefined,\n            }\n            return this.sendTransaction(\n                {\n                    ...tx,\n                    gas: await this.estimateTransaction(tx, 50000, options),\n                },\n                options,\n            )\n        }\n\n        // ERC20\n        return new ContractTransaction(this.Contract.getERC20Contract(address, options)).send(\n            (x) => x?.methods.transfer(recipient, toHex(amount)),\n            options.overrides,\n        )\n    }\n\n    override async transferNonFungibleToken(\n        address: string,\n        tokenId: string,\n        recipient: string,\n        amount?: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n\n        // ERC1155\n        if (actualSchema === SchemaType.ERC1155) {\n            return new ContractTransaction(this.Contract.getERC1155Contract(address, options)).send(\n                (x) => x?.methods.safeTransferFrom(options.account, recipient, tokenId, amount ?? '', '0x'),\n                options.overrides,\n            )\n        }\n\n        // ERC721\n        return new ContractTransaction(this.Contract.getERC721Contract(address, options)).send(\n            (x) => x?.methods.transferFrom(options.account, recipient, tokenId),\n            options.overrides,\n        )\n    }\n\n    override signMessage(\n        type: 'message' | 'typedData' | Omit<string, 'message' | 'typedData'>,\n        message: string,\n        initial?: ConnectionOptions,\n    ) {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!options.account) throw new Error('Unknown account.')\n\n        switch (type) {\n            case 'message':\n                return this.Request.request<string>(\n                    {\n                        method: EthereumMethodType.PERSONAL_SIGN,\n                        params: [message, options.account, ''].filter((x) => typeof x !== 'undefined'),\n                    },\n                    options,\n                )\n            case 'typedData':\n                return this.Request.request<string>(\n                    {\n                        method: EthereumMethodType.ETH_SIGN_TYPED_DATA,\n                        params: [options.account, message],\n                    },\n                    options,\n                )\n            default:\n                throw new Error(`Unknown sign type: ${type}.`)\n        }\n    }\n\n    override async verifyMessage(type: string, message: string, signature: string, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        const dataToSign = await this.getWeb3(options).eth.personal.ecRecover(message, signature)\n        return dataToSign === message\n    }\n\n    override async signTransaction(transaction: Transaction, initial?: ConnectionOptions) {\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_SIGN_TRANSACTION,\n                params: [transaction],\n            },\n            initial,\n        )\n    }\n\n    override signTransactions(transactions: Transaction[], initial?: ConnectionOptions) {\n        return Promise.all(transactions.map((x) => this.signTransaction(x, initial)))\n    }\n\n    override supportedChainIds(initial?: ConnectionOptions) {\n        return this.Request.request<ChainId[]>(\n            {\n                method: EthereumMethodType.ETH_SUPPORTED_CHAIN_IDS,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    override supportedEntryPoints(initial?: ConnectionOptions) {\n        return this.Request.request<string[]>(\n            {\n                method: EthereumMethodType.ETH_SUPPORTED_ENTRY_POINTS,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    override async callUserOperation(owner: string, operation: UserOperation, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_CALL_USER_OPERATION,\n                params: [\n                    owner,\n                    {\n                        ...operation,\n                        sender: options.account,\n                    },\n                ],\n            },\n            options,\n        )\n    }\n\n    override async sendUserOperation(owner: string, operation: UserOperation, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_SEND_USER_OPERATION,\n                params: [\n                    owner,\n                    {\n                        ...operation,\n                        sender: operation.sender || options.account,\n                    },\n                ],\n            },\n            options,\n        )\n    }\n\n    override async transfer(recipient: string, amount: string, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        const contract = this.Contract.getWalletContract(options.account, options)\n        if (!contract) throw new Error('Failed to create contract.')\n\n        const tx = {\n            from: options.account,\n            to: options.account,\n            data: contract.methods.transfer(recipient, amount).encodeABI(),\n        }\n\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_SEND_TRANSACTION,\n                params: [\n                    {\n                        ...tx,\n                        gas: await this.estimateTransaction(tx, 50000, options),\n                    },\n                ],\n            },\n            options,\n        )\n    }\n\n    override async changeOwner(recipient: string, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        const contract = this.Contract.getWalletContract(options.account, options)\n        if (!contract) throw new Error('Failed to create contract.')\n\n        const tx = {\n            from: options.account,\n            to: options.account,\n            data: contract.methods.changeOwner(recipient).encodeABI(),\n        }\n\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_SEND_TRANSACTION,\n                params: [\n                    {\n                        ...tx,\n                        gas: await this.estimateTransaction(tx, 50000, options),\n                    },\n                ],\n            },\n            options,\n        )\n    }\n\n    override async fund(proof: Proof, initial?: ConnectionOptions) {\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.MASK_FUND,\n                params: [proof],\n            },\n            initial,\n        )\n    }\n\n    override async deploy(owner: string, identifier?: ECKeyIdentifier, initial?: ConnectionOptions) {\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.MASK_DEPLOY,\n                params: [owner, identifier],\n            },\n            initial,\n        )\n    }\n\n    override async connect(initial?: ConnectionOptions): Promise<Account<ChainId>> {\n        return this.Request.request<Account<ChainId>>(\n            {\n                method: EthereumMethodType.MASK_LOGIN,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    override async disconnect(initial?: ConnectionOptions): Promise<void> {\n        await this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_LOGOUT,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    override async switchChain(chainId: ChainId, initial?: ConnectionOptions): Promise<void> {\n        const options = this.ConnectionOptions.fill(initial)\n        await Providers[options.providerType].switchChain(chainId)\n    }\n\n    override async sendTransaction(transaction: Transaction, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n\n        // send a transaction which will add into the internal transaction list and start to watch it for confirmation\n        const hash = await this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_SEND_TRANSACTION,\n                params: [new AccountTransaction(transaction).fill(options.overrides)],\n            },\n            options,\n        )\n\n        return new Promise<string>((resolve, reject) => {\n            if (!this.Transaction || !this.TransactionWatcher) reject(new Error('No context found.'))\n\n            const onProgress = async (\n                chainId: ChainId,\n                id: string,\n                status: TransactionStatusType,\n                transaction?: Transaction,\n            ) => {\n                if (status === TransactionStatusType.NOT_DEPEND) return\n                if (!transaction?.from) return\n                const transactions = await this.Transaction?.getTransactions?.(chainId, transaction.from)\n                const currentTransaction = transactions?.find((x) => {\n                    const hashes = Object.keys(x.candidates)\n                    return hashes.includes(hash) && hashes.includes(id)\n                })\n                if (currentTransaction) resolve(currentTransaction.indexId)\n            }\n            this.TransactionWatcher?.emitter.on('progress', onProgress)\n        })\n    }\n\n    override async confirmTransaction(hash: string, initial?: ConnectionOptions): Promise<TransactionReceipt> {\n        const options = this.ConnectionOptions.fill(initial)\n        const times = 49\n        const interval = getAverageBlockDelay(options.chainId)\n\n        for (let i = 0; i < times; i += 1) {\n            if (options.signal?.aborted) throw new Error(options.signal.reason)\n\n            try {\n                const receipt = await this.getTransactionReceipt(hash, options)\n                if (!receipt) throw new Error('Not confirm yet.')\n\n                // the transaction has been confirmed\n                return receipt\n            } catch {\n                await delay(interval)\n                continue\n            }\n        }\n\n        // insufficient try times\n        throw new Error('Not confirm yet')\n    }\n\n    override replaceTransaction(hash: string, transaction: Transaction, initial?: ConnectionOptions) {\n        return this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_REPLACE_TRANSACTION,\n                params: [hash, transaction],\n            },\n            initial,\n        )\n    }\n\n    override cancelTransaction(hash: string, transaction: Transaction, initial?: ConnectionOptions) {\n        return this.Request.request<void>(\n            {\n                method: EthereumMethodType.MASK_REPLACE_TRANSACTION,\n                params: [\n                    hash,\n                    {\n                        ...transaction,\n                        to: transaction.from,\n                        data: '0x0',\n                        value: '0x0',\n                    },\n                ],\n            },\n            initial,\n        )\n    }\n}\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-evm'\nimport { ConnectionOptionsAPI_Base } from '../../Base/apis/ConnectionOptionsAPI.js'\nimport { Web3StateRef } from './Web3StateAPI.js'\nimport { OthersAPI } from './OthersAPI.js'\n\nexport class ConnectionOptionsAPI extends ConnectionOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    readonly Web3StateRef = Web3StateRef\n    readonly Web3Others = new OthersAPI()\n}\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n    Web3State,\n} from '@masknet/web3-shared-evm'\nimport { ValueRefWithReady } from '@masknet/shared-base'\nimport { ConnectionOptionsAPI_Base } from '../../Base/apis/ConnectionOptionsAPI.js'\nimport { OthersAPI } from './OthersAPI.js'\n\nconst EmptyRef = new ValueRefWithReady<Web3State>({})\n\nexport class ConnectionOptionsReadonlyAPI extends ConnectionOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    readonly Web3StateRef = EmptyRef\n    readonly Web3Others = new OthersAPI()\n}\n","import Web3Accounts, { type Accounts } from 'web3-eth-accounts'\n\nexport function createAccount() {\n    const Accounts_ = Web3Accounts as unknown as typeof Accounts\n    const accounts = new Accounts_()\n    return accounts.create()\n}\n","import { hexToBytes, toAscii } from 'web3-utils'\n\n// parse a name or symbol from a token response\nconst BYTES32_REGEX = /^0x[\\dA-Fa-f]{64}$/\n\nexport function parseStringOrBytes32(\n    str: string | undefined,\n    bytes32: string | undefined,\n    defaultValue: string,\n): string {\n    return str && str.length > 0\n        ? str\n        : // need to check for proper bytes string and valid terminator\n        bytes32 && BYTES32_REGEX.test(bytes32) && hexToBytes(bytes32)[31] === 0\n        ? toAscii(bytes32)\n        : defaultValue\n}\n","import { first, omit, toNumber } from 'lodash-es'\nimport { numberToHex, toHex } from 'web3-utils'\nimport type { Account, ECKeyIdentifier, Proof, UpdatableWallet, Wallet } from '@masknet/shared-base'\nimport {\n    AddressType,\n    SchemaType,\n    type ChainId,\n    type Web3Provider,\n    type Transaction,\n    type TransactionDetailed,\n    type TransactionReceipt,\n    type Block,\n    EthereumMethodType,\n    AccountTransaction,\n    isNativeTokenAddress,\n    type TransactionSignature,\n    type ProviderType,\n    type Signature,\n    type UserOperation,\n    type Web3,\n    isValidAddress,\n    isEmptyHex,\n    getTransactionStatusType,\n    parseStringOrBytes32,\n    createERC20Token,\n    isCryptoPunksContractAddress,\n    getEthereumConstant,\n    getTokenConstant,\n    createAccount,\n    type NetworkType,\n    type MessageRequest,\n    type MessageResponse,\n    type TransactionParameter,\n} from '@masknet/web3-shared-evm'\nimport {\n    type FungibleToken,\n    type NonFungibleCollection,\n    type NonFungibleToken,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenMetadata,\n    type TransactionStatusType,\n    isSameAddress,\n    createNonFungibleToken,\n    resolveCrossOriginURL,\n    resolveIPFS_URL,\n    createNonFungibleTokenMetadata,\n    createNonFungibleTokenContract,\n    createNonFungibleTokenCollection,\n    isGreaterThan,\n} from '@masknet/web3-shared-base'\nimport { queryClient } from '@masknet/shared-base-ui'\nimport { RequestReadonlyAPI } from './RequestReadonlyAPI.js'\nimport { ContractReadonlyAPI } from './ContractReadonlyAPI.js'\nimport { ConnectionOptionsReadonlyAPI } from './ConnectionOptionsReadonlyAPI.js'\nimport type { ConnectionAPI_Base } from '../../Base/apis/ConnectionAPI.js'\nimport { fetchJSON } from '../../../helpers/fetchJSON.js'\nimport type { ConnectionOptions } from '../types/index.js'\nimport type { ConnectionOptions_Base } from '../../../entry-types.js'\nimport { ChainResolver } from './ResolverAPI.js'\nimport type { ConnectionOptionsAPI_Base } from '../../Base/apis/ConnectionOptionsAPI.js'\n\nconst EMPTY_STRING = Promise.resolve('')\nconst ZERO = Promise.resolve(0)\n\ninterface ERC721Metadata {\n    name: string\n    description: string\n    image: string\n}\n\ninterface ERC1155Metadata {\n    name: string\n    decimals: number\n    description: string\n    image: string\n}\n\nexport class ConnectionReadonlyAPI\n    implements\n        ConnectionAPI_Base<\n            ChainId,\n            AddressType,\n            SchemaType,\n            ProviderType,\n            Signature,\n            UserOperation,\n            Transaction,\n            TransactionReceipt,\n            TransactionDetailed,\n            TransactionSignature,\n            Block,\n            Web3,\n            Web3Provider\n        >\n{\n    constructor(protected options?: ConnectionOptions) {\n        this.Contract = new ContractReadonlyAPI(this.options)\n        this.Request = new RequestReadonlyAPI(this.options)\n        this.ConnectionOptions = new ConnectionOptionsReadonlyAPI(this.options)\n    }\n    protected Request\n    protected Contract\n    protected ConnectionOptions: ConnectionOptionsAPI_Base<\n        ChainId,\n        SchemaType,\n        ProviderType,\n        NetworkType,\n        MessageRequest,\n        MessageResponse,\n        Transaction,\n        TransactionParameter\n    >\n\n    getWeb3(initial?: ConnectionOptions) {\n        return this.Request.getWeb3(initial)\n    }\n\n    getWeb3Provider(initial?: ConnectionOptions) {\n        return this.Request.getWeb3Provider(initial)\n    }\n\n    async connect(initial?: ConnectionOptions): Promise<Account<ChainId>> {\n        throw new Error('Method not implemented.')\n    }\n\n    async disconnect(initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    getWallets(initial?: ConnectionOptions): Promise<Wallet[]> {\n        return this.Request.request<Wallet[]>(\n            {\n                method: EthereumMethodType.MASK_WALLETS,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    async addWallet(wallet: UpdatableWallet, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async updateWallet(address: string, wallet: Partial<UpdatableWallet>, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async renameWallet(address: string, name: string, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async removeWallet(address: string, password?: string | undefined, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async resetAllWallets(initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async updateWallets(wallets: Wallet[], initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async removeWallets(wallets: Wallet[], initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async approveFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async approveNonFungibleToken(\n        address: string,\n        recipient: string,\n        tokenId: string,\n        schema: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async approveAllNonFungibleTokens(\n        address: string,\n        recipient: string,\n        approved: boolean,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async transferFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        memo?: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async transferNonFungibleToken(\n        address: string,\n        tokenId: string,\n        recipient: string,\n        amount?: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async getGasPrice(initial?: ConnectionOptions): Promise<string> {\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_GAS_PRICE,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    async getAddressType(address: string, initial?: ConnectionOptions): Promise<AddressType | undefined> {\n        if (!isValidAddress(address)) return\n        const code = await this.getCode(address, initial)\n        return code === '0x' ? AddressType.ExternalOwned : AddressType.Contract\n    }\n\n    async getSchemaType(address: string, initial?: ConnectionOptions): Promise<SchemaType | undefined> {\n        const ERC165_INTERFACE_ID = '0x01ffc9a7'\n        const EIP5516_INTERFACE_ID = '0x8314f22b'\n        const EIP5192_INTERFACE_ID = '0xb45a3c0e'\n        const ERC721_INTERFACE_ID = '0x80ac58cd'\n        const ERC1155_INTERFACE_ID = '0xd9b67a26'\n\n        try {\n            const options = this.ConnectionOptions.fill(initial)\n            const erc165Contract = this.Contract.getERC165Contract(address, options)\n\n            const [isERC165, isERC721] = await Promise.all([\n                erc165Contract?.methods.supportsInterface(ERC165_INTERFACE_ID).call(),\n                erc165Contract?.methods.supportsInterface(ERC721_INTERFACE_ID).call(),\n            ])\n\n            if (isERC165 && isERC721) return SchemaType.ERC721\n\n            const isERC1155 = await erc165Contract?.methods.supportsInterface(ERC1155_INTERFACE_ID).call()\n            if (isERC165 && isERC1155) return SchemaType.ERC1155\n\n            const [isEIP5516, isEIP5192] = await Promise.all([\n                erc165Contract?.methods.supportsInterface(EIP5516_INTERFACE_ID).call(),\n                erc165Contract?.methods.supportsInterface(EIP5192_INTERFACE_ID).call(),\n            ])\n\n            if (isEIP5516 || isEIP5192) return SchemaType.SBT\n\n            const isERC20 = await this.getCode(address, options)\n            if (!isEmptyHex(isERC20)) return SchemaType.ERC20\n\n            return\n        } catch {\n            return\n        }\n    }\n\n    async getNonFungibleToken(\n        address: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleToken<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n        const allSettled = await Promise.allSettled([\n            this.getNonFungibleTokenMetadata(address, tokenId, schema, options),\n            this.getNonFungibleTokenContract(address, schema, options),\n        ])\n        const [metadata, contract] = allSettled.map((x) => (x.status === 'fulfilled' ? x.value : undefined)) as [\n            NonFungibleTokenMetadata<ChainId>,\n            NonFungibleTokenContract<ChainId, SchemaType>,\n        ]\n\n        let ownerId: string | undefined\n\n        if (actualSchema !== SchemaType.ERC1155) {\n            const contract = this.Contract.getERC721Contract(address, options)\n            try {\n                ownerId = await contract?.methods.ownerOf(tokenId).call()\n            } catch {}\n        } else if (options.account) {\n            const contract = this.Contract.getERC1155Contract(address, options)\n            try {\n                const balance = await contract?.methods.balanceOf(options.account, tokenId).call()\n                ownerId = balance && isGreaterThan(balance, '0') ? options.account : undefined\n            } catch {}\n        }\n\n        return createNonFungibleToken<ChainId, SchemaType>(\n            options.chainId,\n            address,\n            actualSchema ?? SchemaType.ERC721,\n            tokenId,\n            ownerId,\n            metadata,\n            contract,\n        )\n    }\n\n    async getNonFungibleTokenOwner(address: string, tokenId: string, schema?: SchemaType, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n\n        // ERC1155\n        if (actualSchema === SchemaType.ERC1155) return ''\n\n        // CRYPTOPUNKS\n        if (isCryptoPunksContractAddress(address)) {\n            const cryptoPunksContract = this.Contract.getCryptoPunksContract(address, options)\n            return (await cryptoPunksContract?.methods.punkIndexToAddress(tokenId).call()) ?? ''\n        }\n\n        // ERC721\n        const contract = this.Contract.getERC721Contract(address, options)\n        return (await contract?.methods.ownerOf(tokenId).call()) ?? ''\n    }\n\n    async getNonFungibleTokenOwnership(\n        address: string,\n        tokenId: string,\n        owner: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ) {\n        const options = this.ConnectionOptions.fill(initial)\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n\n        // ERC1155\n        if (actualSchema === SchemaType.ERC1155) {\n            const contract = this.Contract.getERC1155Contract(address, options)\n            // the owner has at least 1 token\n            return isGreaterThan((await contract?.methods.balanceOf(owner, tokenId).call()) ?? 0, 0)\n        }\n\n        // ERC721\n        const contract = this.Contract.getERC721Contract(address, options)\n        return isSameAddress(await contract?.methods.ownerOf(tokenId).call(), owner)\n    }\n\n    async getNonFungibleTokenMetadata(\n        address: string,\n        tokenId: string | undefined,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ) {\n        const options = this.ConnectionOptions.fill(initial)\n        const processURI = (uri: string) => {\n            // e.g,\n            // address: 0x495f947276749ce646f68ac8c248420045cb7b5e\n            // token id: 33445046430196205871873533938903624085962860434195770982901962545689408831489\n            if (uri.startsWith('https://api.opensea.io/') && tokenId) return uri.replace('0x{id}', tokenId)\n\n            // add cors header\n            return resolveCrossOriginURL(resolveIPFS_URL(uri))!\n        }\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n\n        // ERC1155\n        if (actualSchema === SchemaType.ERC1155) {\n            const contract = this.Contract.getERC1155Contract(address, options)\n            const uri = await contract?.methods.uri(tokenId ?? '').call()\n            if (!uri) throw new Error('Failed to read metadata uri.')\n\n            const response = await fetchJSON<ERC1155Metadata>(processURI(uri))\n            return createNonFungibleTokenMetadata(\n                options.chainId,\n                response.name,\n                tokenId ?? '',\n                '',\n                response.description,\n                undefined,\n                resolveIPFS_URL(response.image),\n                resolveIPFS_URL(response.image),\n            )\n        }\n\n        // ERC721\n        const contract = this.Contract.getERC721Contract(address, options)\n        const uri = await contract?.methods.tokenURI(tokenId ?? '').call()\n        if (!uri) throw new Error('Failed to read metadata uri.')\n        const response = await fetchJSON<ERC721Metadata>(processURI(uri))\n        return createNonFungibleTokenMetadata(\n            options.chainId,\n            response.name,\n            tokenId ?? '',\n            '',\n            response.description,\n            undefined,\n            resolveIPFS_URL(response.image),\n            resolveIPFS_URL(response.image),\n        )\n    }\n\n    async getNonFungibleTokenContract(\n        address: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n\n        // ERC1155\n        if (actualSchema === SchemaType.ERC1155) {\n            const contractERC721 = this.Contract.getERC721Contract(address, options)\n            const results = await Promise.allSettled([\n                contractERC721?.methods.name().call() ?? EMPTY_STRING,\n                contractERC721?.methods.symbol().call() ?? EMPTY_STRING,\n            ])\n\n            const [name, symbol] = results.map((result) => (result.status === 'fulfilled' ? result.value : ''))\n\n            return createNonFungibleTokenContract(\n                options.chainId,\n                SchemaType.ERC1155,\n                address,\n                name ?? 'Unknown Token',\n                symbol ?? 'UNKNOWN',\n            )\n        }\n\n        // ERC721\n        const contract = this.Contract.getERC721Contract(address, options)\n        const results = await Promise.allSettled([\n            contract?.methods.name().call() ?? EMPTY_STRING,\n            contract?.methods.symbol().call() ?? EMPTY_STRING,\n        ])\n\n        const [name, symbol] = results.map((result) => (result.status === 'fulfilled' ? result.value : ''))\n\n        return createNonFungibleTokenContract<ChainId, SchemaType.ERC721>(\n            options.chainId,\n            SchemaType.ERC721,\n            address,\n            name ?? 'Unknown Token',\n            symbol ?? 'UNKNOWN',\n        )\n    }\n\n    async getNonFungibleTokenCollection(\n        address: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleCollection<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n\n        // ERC1155\n        if (actualSchema === SchemaType.ERC1155) throw new Error('Not implemented yet.')\n\n        // ERC721\n        const contract = this.Contract.getERC721Contract(address, options)\n        const results = await Promise.allSettled([contract?.methods.name().call() ?? EMPTY_STRING])\n        const [name] = results.map((result) => (result.status === 'fulfilled' ? result.value : ''))\n        return createNonFungibleTokenCollection(options.chainId, address, name ?? 'Unknown Token', '')\n    }\n\n    createAccount(initial?: ConnectionOptions_Base<ChainId, ProviderType, Transaction> | undefined): Account<ChainId> {\n        const options = this.ConnectionOptions.fill(initial)\n        const account = createAccount()\n        return {\n            account: account.address,\n            chainId: options.chainId,\n            privateKey: account.privateKey,\n        }\n    }\n\n    async switchChain(chainId: ChainId, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async getNativeTokenBalance(initial?: ConnectionOptions): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!isValidAddress(options.account)) return '0'\n        return this.getBalance(options.account, options)\n    }\n\n    async getFungibleTokenBalance(address: string, schema?: SchemaType, initial?: ConnectionOptions): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n\n        // Native\n        if (!address || isNativeTokenAddress(address)) return this.getNativeTokenBalance(options)\n\n        // ERC20\n        const contract = this.Contract.getERC20Contract(address, options)\n        return (await contract?.methods.balanceOf(options.account).call()) ?? '0'\n    }\n\n    async getNonFungibleTokenBalance(\n        address: string,\n        tokenId: string | undefined,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        const actualSchema = schema ?? (await this.getSchemaType(address, options))\n\n        // ERC1155\n        if (actualSchema === SchemaType.ERC1155) {\n            const contract = this.Contract.getERC1155Contract(address, options)\n            return contract?.methods?.balanceOf(options.account, tokenId ?? '').call() ?? '0'\n        }\n\n        // ERC721\n        const contract = this.Contract.getERC721Contract(address, options)\n        return contract?.methods.balanceOf(options.account).call() ?? '0'\n    }\n\n    async getFungibleTokensBalance(\n        listOfAddress: string[],\n        initial?: ConnectionOptions,\n    ): Promise<Record<string, string>> {\n        if (!listOfAddress.length) return {}\n\n        const options = this.ConnectionOptions.fill(initial)\n        const NATIVE_TOKEN_ADDRESS = getTokenConstant(options.chainId, 'NATIVE_TOKEN_ADDRESS')\n        const BALANCE_CHECKER_ADDRESS = getEthereumConstant(options.chainId, 'BALANCE_CHECKER_ADDRESS')\n        const entities: Array<[string, string]> = []\n\n        if (listOfAddress.some(isNativeTokenAddress)) {\n            entities.push([NATIVE_TOKEN_ADDRESS ?? '', await this.getBalance(options.account, options)])\n        }\n\n        const listOfNonNativeAddress = listOfAddress.filter((x) => !isNativeTokenAddress(x))\n\n        if (listOfNonNativeAddress.length) {\n            const contract = this.Contract.getBalanceCheckerContract(BALANCE_CHECKER_ADDRESS ?? '', options)\n            const balances = await contract?.methods.balances([options.account], listOfNonNativeAddress).call({\n                // cannot check the sender's balance in the same contract\n                from: undefined,\n                chainId: numberToHex(options.chainId),\n            })\n\n            listOfNonNativeAddress.forEach((x, i) => {\n                entities.push([x, balances?.[i] ?? '0'])\n            })\n        }\n        return Object.fromEntries(entities)\n    }\n\n    async getNonFungibleTokensBalance(\n        listOfAddress: string[],\n        initial?: ConnectionOptions,\n    ): Promise<Record<string, string>> {\n        if (!listOfAddress.length) return {}\n\n        const options = this.ConnectionOptions.fill(initial)\n        const BALANCE_CHECKER_ADDRESS = getEthereumConstant(options.chainId, 'BALANCE_CHECKER_ADDRESS')\n        const contract = this.Contract.getBalanceCheckerContract(BALANCE_CHECKER_ADDRESS ?? '', options)\n        const result = await contract?.methods.balances([options.account], listOfAddress).call({\n            // cannot check the sender's balance in the same contract\n            from: undefined,\n            chainId: numberToHex(options.chainId),\n        })\n\n        if (result?.length !== listOfAddress.length) return {}\n        return Object.fromEntries(listOfAddress.map<[string, string]>((x, i) => [x, result[i]]))\n    }\n\n    getNativeToken(initial?: ConnectionOptions): Promise<FungibleToken<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        const token = ChainResolver.nativeCurrency(options.chainId)\n        if (!token) throw new Error('Failed to create native token.')\n        return Promise.resolve(token)\n    }\n\n    async getFungibleToken(address: string, initial?: ConnectionOptions): Promise<FungibleToken<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n\n        // Native\n        if (!address || isNativeTokenAddress(address)) return this.getNativeToken(options)\n\n        // ERC20\n        const contract = this.Contract.getERC20Contract(address, options)\n        const bytes32Contract = this.Contract.getERC20Bytes32Contract(address, options)\n        const results = await queryClient.fetchQuery({\n            staleTime: 600_000,\n            queryKey: ['fungibleToken', options.chainId, address],\n            queryFn: async () => {\n                return Promise.allSettled([\n                    contract?.methods.name().call() ?? EMPTY_STRING,\n                    bytes32Contract?.methods.name().call() ?? EMPTY_STRING,\n                    contract?.methods.symbol().call() ?? EMPTY_STRING,\n                    bytes32Contract?.methods.symbol().call() ?? EMPTY_STRING,\n                    contract?.methods.decimals().call() ?? ZERO,\n                ])\n            },\n        })\n        const [name, nameBytes32, symbol, symbolBytes32, decimals] = results.map((result) =>\n            result.status === 'fulfilled' ? result.value : '',\n        ) as string[]\n        return createERC20Token(\n            options.chainId,\n            address,\n            parseStringOrBytes32(name, nameBytes32, 'Unknown Token'),\n            parseStringOrBytes32(symbol, symbolBytes32, 'UNKNOWN'),\n            typeof decimals === 'string' ? Number.parseInt(decimals ? decimals : '0', 10) : decimals,\n        )\n    }\n\n    async getAccount(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        const accounts = await this.Request.request<string[]>(\n            {\n                method: EthereumMethodType.ETH_ACCOUNTS,\n                params: [],\n            },\n            options,\n        )\n        return first(accounts) ?? ''\n    }\n\n    async getChainId(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        const chainId = await this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_CHAIN_ID,\n                params: [],\n            },\n            options,\n        )\n        return Number.parseInt(chainId, 16)\n    }\n\n    getBlock(noOrId: number | string, initial?: ConnectionOptions) {\n        return this.Request.request<Block>(\n            {\n                method: EthereumMethodType.ETH_GET_BLOCK_BY_NUMBER,\n                params: [toHex(noOrId), false],\n            },\n            initial,\n        )\n    }\n\n    getBlockNumber(initial?: ConnectionOptions) {\n        return this.Request.request<number>(\n            {\n                method: EthereumMethodType.ETH_BLOCK_NUMBER,\n                params: [],\n            },\n            initial,\n        )\n    }\n\n    async getBlockTimestamp(initial?: ConnectionOptions): Promise<number> {\n        const options = this.ConnectionOptions.fill(initial)\n        const blockNumber = await this.getBlockNumber(options)\n        const block = await this.getBlock(blockNumber, options)\n        return Number.parseInt(block.timestamp, 16)\n    }\n\n    getBalance(address: string, initial?: ConnectionOptions) {\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_GET_BALANCE,\n                params: [address, 'latest'],\n            },\n            initial,\n        )\n    }\n\n    getCode(address: string, initial?: ConnectionOptions) {\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_GET_CODE,\n                params: [address, 'latest'],\n            },\n            initial,\n        )\n    }\n\n    async getTransaction(hash: string, initial?: ConnectionOptions) {\n        return this.Request.request<TransactionDetailed>(\n            {\n                method: EthereumMethodType.ETH_GET_TRANSACTION_BY_HASH,\n                params: [hash],\n            },\n            initial,\n        )\n    }\n\n    async estimateTransaction(transaction: Transaction, fallback = 21000, initial?: ConnectionOptions) {\n        try {\n            const options = this.ConnectionOptions.fill(initial)\n            return await this.Request.request<string>(\n                {\n                    method: EthereumMethodType.ETH_ESTIMATE_GAS,\n                    params: [\n                        new AccountTransaction({\n                            from: options.account,\n                            chainId: options.chainId,\n                            ...transaction,\n                        }).fill(omit(options.overrides, ['gas', 'gasPrice', 'maxPriorityFeePerGas', 'maxFeePerGas'])),\n                    ],\n                },\n                options,\n            )\n        } catch {\n            return toHex(fallback)\n        }\n    }\n\n    getTransactionReceipt(hash: string, initial?: ConnectionOptions) {\n        return this.Request.request<TransactionReceipt>(\n            {\n                method: EthereumMethodType.ETH_GET_TRANSACTION_RECEIPT,\n                params: [hash],\n            },\n            initial,\n        )\n    }\n\n    async getTransactionStatus(hash: string, initial?: ConnectionOptions): Promise<TransactionStatusType> {\n        const receipt = await this.getTransactionReceipt(hash, initial)\n        return getTransactionStatusType(receipt)\n    }\n\n    async getTransactionNonce(address: string, initial?: ConnectionOptions) {\n        const nonce = await this.Request.request<number | string>(\n            {\n                method: EthereumMethodType.ETH_GET_TRANSACTION_COUNT,\n                params: [address, 'latest'],\n            },\n            initial,\n        )\n        return toNumber(nonce)\n    }\n\n    signMessage(\n        type: 'message' | 'typedData' | Omit<string, 'message' | 'typedData'>,\n        message: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async verifyMessage(\n        type: string,\n        message: string,\n        signature: string,\n        initial?: ConnectionOptions,\n    ): Promise<boolean> {\n        throw new Error('Method not implemented.')\n    }\n\n    async signTransaction(transaction: Transaction, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    signTransactions(transactions: Transaction[], initial?: ConnectionOptions): Promise<string[]> {\n        throw new Error('Method not implemented.')\n    }\n\n    supportedChainIds(initial?: ConnectionOptions): Promise<ChainId[]> {\n        throw new Error('Method not implemented.')\n    }\n\n    supportedEntryPoints(initial?: ConnectionOptions): Promise<string[]> {\n        throw new Error('Method not implemented.')\n    }\n\n    async callUserOperation(owner: string, operation: UserOperation, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async sendUserOperation(owner: string, operation: UserOperation, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async transfer(recipient: string, amount: string, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async changeOwner(recipient: string, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async fund(proof: Proof, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async deploy(owner: string, identifier?: ECKeyIdentifier, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    callTransaction(transaction: Transaction, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_CALL,\n                params: [new AccountTransaction(transaction).fill(options.overrides), 'latest'],\n            },\n            options,\n        )\n    }\n\n    async sendTransaction(transaction: Transaction, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    sendSignedTransaction(signature: string, initial?: ConnectionOptions) {\n        return this.Request.request<string>(\n            {\n                method: EthereumMethodType.ETH_SEND_RAW_TRANSACTION,\n                params: [signature],\n            },\n            initial,\n        )\n    }\n\n    async confirmTransaction(hash: string, initial?: ConnectionOptions): Promise<TransactionReceipt> {\n        throw new Error('Method not implemented.')\n    }\n\n    replaceTransaction(hash: string, transaction: Transaction, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    cancelTransaction(hash: string, transaction: Transaction, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n}\n","import { RequestAPI } from './RequestAPI.js'\nimport { ContractReadonlyAPI } from './ContractReadonlyAPI.js'\n\nexport class ContractAPI extends ContractReadonlyAPI {\n    protected override Request = new RequestAPI(this.options)\n}\n","import type { AbiItem } from 'web3-utils'\nimport { isUndefined, omitBy } from 'lodash-es'\nimport { createContract } from '@masknet/web3-shared-evm'\nimport AirDropV2ABI from '@masknet/web3-contracts/abis/AirdropV2.json'\nimport type { BalanceChecker } from '@masknet/web3-contracts/types/BalanceChecker.js'\nimport type { ERC20 } from '@masknet/web3-contracts/types/ERC20.js'\nimport type { ERC20Bytes32 } from '@masknet/web3-contracts/types/ERC20Bytes32.js'\nimport type { ERC165 } from '@masknet/web3-contracts/types/ERC165.js'\nimport type { ERC721 } from '@masknet/web3-contracts/types/ERC721.js'\nimport type { ERC1155 } from '@masknet/web3-contracts/types/ERC1155.js'\nimport type { CryptoPunks } from '@masknet/web3-contracts/types/CryptoPunks.js'\nimport type { Wallet } from '@masknet/web3-contracts/types/Wallet.js'\nimport type { Multicall } from '@masknet/web3-contracts/types/Multicall.js'\nimport type { BaseContract } from '@masknet/web3-contracts/types/types.js'\nimport type { AirdropV2 } from '@masknet/web3-contracts/types/AirdropV2.js'\nimport type { RouterV2 } from '@masknet/web3-contracts/types/RouterV2.js'\nimport type { SwapRouter } from '@masknet/web3-contracts/types/SwapRouter.js'\nimport type { WETH } from '@masknet/web3-contracts/types/WETH.js'\nimport type { Pair } from '@masknet/web3-contracts/types/Pair.js'\nimport type { Quoter } from '@masknet/web3-contracts/types/Quoter.js'\nimport type { PoolStateV3 } from '@masknet/web3-contracts/types/PoolStateV3.js'\n\nimport BalanceCheckerABI from '@masknet/web3-contracts/abis/BalanceChecker.json'\nimport ERC20ABI from '@masknet/web3-contracts/abis/ERC20.json'\nimport ERC20Bytes32ABI from '@masknet/web3-contracts/abis/ERC20Bytes32.json'\nimport ERC165ABI from '@masknet/web3-contracts/abis/ERC165.json'\nimport ERC721ABI from '@masknet/web3-contracts/abis/ERC721.json'\nimport ERC1155ABI from '@masknet/web3-contracts/abis/ERC1155.json'\nimport CryptoPunksABI from '@masknet/web3-contracts/abis/CryptoPunks.json'\nimport WalletABI from '@masknet/web3-contracts/abis/Wallet.json'\nimport MulticallABI from '@masknet/web3-contracts/abis/Multicall.json'\nimport RouterV2ABI from '@masknet/web3-contracts/abis/RouterV2.json'\nimport SwapRouterABI from '@masknet/web3-contracts/abis/SwapRouter.json'\nimport WETH_ABI from '@masknet/web3-contracts/abis/WETH.json'\nimport PairABI from '@masknet/web3-contracts/abis/Pair.json'\nimport QuoterABI from '@masknet/web3-contracts/abis/Quoter.json'\nimport PoolStateV3ABI from '@masknet/web3-contracts/abis/PoolStateV3.json'\n\nimport { RequestReadonlyAPI } from './RequestReadonlyAPI.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nexport class ContractReadonlyAPI {\n    constructor(protected options?: ConnectionOptions) {\n        this.Request = new RequestReadonlyAPI(options)\n    }\n    protected Request\n\n    getWeb3Contract<T extends BaseContract>(address: string | undefined, ABI: AbiItem[], initial?: ConnectionOptions) {\n        const web3 = this.Request.getWeb3(initial)\n        const options = omitBy(\n            {\n                from: initial?.overrides?.from ?? initial?.account,\n            },\n            isUndefined,\n        )\n        return createContract<T>(web3, address, ABI, options)\n    }\n\n    getERC20Contract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<ERC20>(address, ERC20ABI as AbiItem[], initial)\n    }\n\n    getERC20Bytes32Contract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<ERC20Bytes32>(address, ERC20Bytes32ABI as AbiItem[], initial)\n    }\n\n    getERC721Contract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<ERC721>(address, ERC721ABI as AbiItem[], initial)\n    }\n\n    getERC1155Contract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<ERC1155>(address, ERC1155ABI as AbiItem[], initial)\n    }\n\n    getERC165Contract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<ERC165>(address, ERC165ABI as AbiItem[], initial)\n    }\n\n    getCryptoPunksContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<CryptoPunks>(address, CryptoPunksABI as AbiItem[], initial)\n    }\n\n    getBalanceCheckerContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<BalanceChecker>(address, BalanceCheckerABI as AbiItem[], initial)\n    }\n\n    getWalletContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<Wallet>(address, WalletABI as AbiItem[], initial)\n    }\n\n    getMulticallContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<Multicall>(address, MulticallABI as AbiItem[], initial)\n    }\n\n    getAirdropV2Contract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<AirdropV2>(address, AirDropV2ABI as AbiItem[], initial)\n    }\n\n    getPairContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<Pair>(address, PairABI as AbiItem[], initial)\n    }\n\n    getRouterV2Contract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<RouterV2>(address, RouterV2ABI as AbiItem[], initial)\n    }\n\n    getSwapRouterContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<SwapRouter>(address, SwapRouterABI as AbiItem[], initial)\n    }\n\n    getWETHContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<WETH>(address, WETH_ABI as AbiItem[], initial)\n    }\n\n    getQuoterContract(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<Quoter>(address, QuoterABI as AbiItem[], initial)\n    }\n\n    getPoolStateV3(address: string | undefined, initial?: ConnectionOptions) {\n        return this.getWeb3Contract<PoolStateV3>(address, PoolStateV3ABI as AbiItem[], initial)\n    }\n}\n","import { mixin } from '@masknet/shared-base'\nimport type { ChainId } from '@masknet/web3-shared-evm'\nimport { HubBaseAPI } from './HubBaseAPI.js'\nimport { HubFungibleAPI } from './HubFungibleAPI.js'\nimport { HubNonFungibleAPI } from './HubNonFungibleAPI.js'\nimport type { HubOptions_Base } from '../../../entry-types.js'\n\nexport class HubAPI {\n    create(initial?: HubOptions_Base<ChainId>) {\n        return mixin(new HubBaseAPI(initial), new HubFungibleAPI(initial), new HubNonFungibleAPI(initial))\n    }\n}\n","import { nth } from 'lodash-es'\nimport type { FeeHistoryResult } from 'web3-eth'\nimport { GasOptionType, toFixed } from '@masknet/web3-shared-base'\nimport { type ChainId, type GasOption } from '@masknet/web3-shared-evm'\nimport { ConnectionReadonlyAPI } from './ConnectionReadonlyAPI.js'\nimport type { GasOptionAPI_Base } from '../../../entry-types.js'\nimport { ChainResolver } from './ResolverAPI.js'\n\nexport class GasOptionAPI implements GasOptionAPI_Base.Provider<ChainId, GasOption> {\n    static HISTORICAL_BLOCKS = 4\n\n    private Web3 = new ConnectionReadonlyAPI()\n\n    private avg(arr: number[]) {\n        const sum = arr.reduce((a, v) => a + v)\n        return Math.round(sum / arr.length)\n    }\n\n    private formatFeeHistory(result: FeeHistoryResult) {\n        let index = 0\n        const blockNumber = Number(result.oldestBlock)\n        const blocks = []\n\n        while (index < GasOptionAPI.HISTORICAL_BLOCKS) {\n            blocks.push({\n                number: blockNumber + index,\n                baseFeePerGas: Number.parseInt(nth(result.baseFeePerGas, index) ?? '0', 16),\n                gasUsedRatio: nth(result.gasUsedRatio, index) || 0,\n                priorityFeePerGas:\n                    nth(result.reward, index)?.map((x) => Number.parseInt(x, 16)) ??\n                    Array.from<number>({ length: 3 }).fill(0),\n            })\n            index += 1\n        }\n        return blocks\n    }\n\n    private async getGasOptionsForEIP1559(chainId: ChainId): Promise<Record<GasOptionType, GasOption>> {\n        const history = await this.Web3.getWeb3({ chainId }).eth.getFeeHistory(\n            GasOptionAPI.HISTORICAL_BLOCKS,\n            'pending',\n            [25, 50, 75],\n        )\n        const blocks = this.formatFeeHistory(history)\n        const slow = this.avg(blocks.map((b) => b.priorityFeePerGas[0]))\n        const normal = this.avg(blocks.map((b) => b.priorityFeePerGas[1]))\n        const fast = this.avg(blocks.map((b) => b.priorityFeePerGas[2]))\n\n        // get the base fee per gas from the latest block\n        const block = await this.Web3.getBlock('latest', {\n            chainId,\n        })\n        const baseFeePerGas = block?.baseFeePerGas ?? 0\n\n        return {\n            [GasOptionType.FAST]: {\n                estimatedBaseFee: toFixed(baseFeePerGas),\n                estimatedSeconds: 0,\n                baseFeePerGas: toFixed(baseFeePerGas),\n                suggestedMaxFeePerGas: toFixed(baseFeePerGas + fast),\n                suggestedMaxPriorityFeePerGas: toFixed(fast),\n            },\n            [GasOptionType.NORMAL]: {\n                estimatedBaseFee: toFixed(baseFeePerGas),\n                estimatedSeconds: 0,\n                baseFeePerGas: toFixed(baseFeePerGas),\n                suggestedMaxFeePerGas: toFixed(baseFeePerGas + normal),\n                suggestedMaxPriorityFeePerGas: toFixed(normal),\n            },\n            [GasOptionType.SLOW]: {\n                estimatedBaseFee: toFixed(baseFeePerGas),\n                estimatedSeconds: 0,\n                baseFeePerGas: toFixed(baseFeePerGas),\n                suggestedMaxFeePerGas: toFixed(baseFeePerGas + slow),\n                suggestedMaxPriorityFeePerGas: toFixed(slow),\n            },\n            [GasOptionType.CUSTOM]: {\n                estimatedSeconds: 0,\n                suggestedMaxFeePerGas: '',\n                suggestedMaxPriorityFeePerGas: '',\n            },\n        }\n    }\n\n    private async getGasOptionsForPriorEIP1559(chainId: ChainId): Promise<Record<GasOptionType, GasOption>> {\n        const gasPrice = await this.Web3.getGasPrice({\n            chainId,\n        })\n        return {\n            [GasOptionType.FAST]: {\n                estimatedBaseFee: '0',\n                estimatedSeconds: 15,\n                suggestedMaxFeePerGas: toFixed(gasPrice),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.NORMAL]: {\n                estimatedBaseFee: '0',\n                estimatedSeconds: 30,\n                suggestedMaxFeePerGas: toFixed(gasPrice),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.SLOW]: {\n                estimatedBaseFee: '0',\n                estimatedSeconds: 60,\n                suggestedMaxFeePerGas: toFixed(gasPrice),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.CUSTOM]: {\n                estimatedSeconds: 0,\n                suggestedMaxFeePerGas: '',\n                suggestedMaxPriorityFeePerGas: '',\n            },\n        }\n    }\n\n    async getGasOptions(chainId: ChainId): Promise<Record<GasOptionType, GasOption>> {\n        if (ChainResolver.isFeatureSupported(chainId, 'EIP1559')) return this.getGasOptionsForEIP1559(chainId)\n        else return this.getGasOptionsForPriorEIP1559(chainId)\n    }\n}\n","import urlcat from 'urlcat'\nimport { GasOptionType } from '@masknet/web3-shared-base'\nimport { type ChainId, formatGweiToWei, type GasOption, isValidChainId } from '@masknet/web3-shared-evm'\nimport type { EstimateSuggestResponse } from './types.js'\nimport type { GasOptionAPI_Base } from '../entry-types.js'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\n\nconst METASWAP_API = 'https://gas-api.metaswap.codefi.network/'\n\nfunction formatAmountAsWei(amount = '0') {\n    return formatGweiToWei(amount).toFixed()\n}\n\nclass MetaSwapAPI implements GasOptionAPI_Base.Provider<ChainId, GasOption> {\n    async getGasOptions(chainId: ChainId): Promise<Record<GasOptionType, GasOption> | undefined> {\n        if (!isValidChainId(chainId)) return\n        const result = await fetchJSON<EstimateSuggestResponse>(\n            urlcat(METASWAP_API, '/networks/:chainId/suggestedGasFees', { chainId }),\n        )\n\n        return {\n            [GasOptionType.FAST]: {\n                estimatedBaseFee: formatAmountAsWei(result.estimatedBaseFee),\n                estimatedSeconds: 15,\n                baseFeePerGas: formatAmountAsWei(result.estimatedBaseFee),\n                suggestedMaxFeePerGas: formatAmountAsWei(result.high?.suggestedMaxFeePerGas),\n                suggestedMaxPriorityFeePerGas: formatAmountAsWei(result.high?.suggestedMaxPriorityFeePerGas),\n            },\n            [GasOptionType.NORMAL]: {\n                estimatedBaseFee: formatAmountAsWei(result.estimatedBaseFee),\n                estimatedSeconds: 30,\n                baseFeePerGas: formatAmountAsWei(result.estimatedBaseFee),\n                suggestedMaxFeePerGas: formatAmountAsWei(result.medium?.suggestedMaxFeePerGas),\n                suggestedMaxPriorityFeePerGas: formatAmountAsWei(result.medium?.suggestedMaxPriorityFeePerGas),\n            },\n            [GasOptionType.SLOW]: {\n                estimatedBaseFee: formatAmountAsWei(result.estimatedBaseFee),\n                estimatedSeconds: 60,\n                baseFeePerGas: formatAmountAsWei(result.estimatedBaseFee),\n                suggestedMaxFeePerGas: formatAmountAsWei(result.low?.suggestedMaxFeePerGas),\n                suggestedMaxPriorityFeePerGas: formatAmountAsWei(result.low?.suggestedMaxPriorityFeePerGas),\n            },\n            [GasOptionType.CUSTOM]: {\n                estimatedSeconds: 0,\n                suggestedMaxFeePerGas: '',\n                suggestedMaxPriorityFeePerGas: '',\n            },\n        }\n    }\n}\nexport const MetaSwap = new MetaSwapAPI()\n","import { GasOptionType, toFixed } from '@masknet/web3-shared-base'\nimport type { ChainId, GasOption } from '@masknet/web3-shared-evm'\nimport { fetchJSON } from '../helpers/fetchJSON.js'\nimport type { EstimateSuggestResponse } from './types.js'\nimport type { GasOptionAPI_Base } from '../entry-types.js'\n\nconst ASTAR_API = 'https://gas.astar.network/api/gasnow?network=astar'\n\nclass AstarAPI implements GasOptionAPI_Base.Provider<ChainId, GasOption> {\n    async getGasOptions(): Promise<Record<GasOptionType, GasOption>> {\n        const { data: result } = await fetchJSON<{ data: EstimateSuggestResponse }>(ASTAR_API)\n\n        const { priorityFeePerGas } = result.eip1559\n\n        return {\n            [GasOptionType.FAST]: {\n                estimatedBaseFee: toFixed(result.eip1559.baseFeePerGas),\n                estimatedSeconds: 15,\n                suggestedMaxFeePerGas: toFixed(result.fast ?? 0),\n                suggestedMaxPriorityFeePerGas: toFixed(priorityFeePerGas.fast),\n            },\n            [GasOptionType.NORMAL]: {\n                estimatedBaseFee: toFixed(result.eip1559.baseFeePerGas),\n                estimatedSeconds: 30,\n                suggestedMaxFeePerGas: toFixed(result.average ?? 0),\n                suggestedMaxPriorityFeePerGas: toFixed(priorityFeePerGas.average),\n            },\n            [GasOptionType.SLOW]: {\n                estimatedBaseFee: toFixed(result.eip1559.baseFeePerGas),\n                estimatedSeconds: 60,\n                suggestedMaxFeePerGas: toFixed(result.slow ?? 0),\n                suggestedMaxPriorityFeePerGas: toFixed(priorityFeePerGas.slow),\n            },\n            [GasOptionType.CUSTOM]: {\n                estimatedSeconds: 0,\n                suggestedMaxFeePerGas: '',\n                suggestedMaxPriorityFeePerGas: '',\n            },\n        }\n    }\n}\nexport const AstarGas = new AstarAPI()\n","import urlcat from 'urlcat'\nimport { GasOptionType, toFixed } from '@masknet/web3-shared-base'\nimport { type ChainId, getDeBankConstants, type GasOption } from '@masknet/web3-shared-evm'\nimport type { GasPriceResponse } from '../types.js'\nimport { DEBANK_OPEN_API } from '../constants.js'\nimport { fetchSquashedJSON } from '../../helpers/fetchJSON.js'\nimport type { GasOptionAPI_Base } from '../../entry-types.js'\n\nclass DeBankGasOptionAPI implements GasOptionAPI_Base.Provider<ChainId, GasOption> {\n    async getGasOptions(chainId: ChainId): Promise<Record<GasOptionType, GasOption>> {\n        const { CHAIN_ID } = getDeBankConstants(chainId)\n        if (!CHAIN_ID) throw new Error('Failed to get gas price.')\n\n        const result = await fetchSquashedJSON<GasPriceResponse>(\n            urlcat(DEBANK_OPEN_API, '/v1/wallet/gas_market', { chain_id: CHAIN_ID }),\n        )\n        if (!result.length) throw new Error('Failed to get gas price.')\n\n        const fast = result.find((x) => x.level === 'fast')\n        const normal = result.find((x) => x.level === 'normal')\n        const slow = result.find((x) => x.level === 'slow')\n        return {\n            [GasOptionType.FAST]: {\n                estimatedSeconds: fast?.estimated_seconds || 15,\n                suggestedMaxFeePerGas: toFixed(fast!.price),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.NORMAL]: {\n                estimatedSeconds: normal?.estimated_seconds || 30,\n                suggestedMaxFeePerGas: toFixed(normal!.price),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.SLOW]: {\n                estimatedSeconds: slow?.estimated_seconds || 60,\n                suggestedMaxFeePerGas: toFixed(slow!.price),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.CUSTOM]: {\n                estimatedSeconds: 0,\n                suggestedMaxFeePerGas: '',\n                suggestedMaxPriorityFeePerGas: '',\n            },\n        }\n    }\n}\nexport const DeBankGasOption = new DeBankGasOptionAPI()\n","import { EMPTY_LIST, type Pageable, createPageable, createIndicator } from '@masknet/shared-base'\nimport { attemptUntil, type Transaction as Web3Transaction } from '@masknet/web3-shared-base'\nimport {\n    ChainId,\n    type GasOption,\n    type SchemaType,\n    type ProviderType,\n    type NetworkType,\n    type MessageRequest,\n    type MessageResponse,\n    type Transaction,\n    type TransactionParameter,\n} from '@masknet/web3-shared-evm'\nimport { ChainResolver } from './ResolverAPI.js'\nimport { HubBaseAPI_Base } from '../../Base/apis/HubBaseAPI.js'\nimport { GasOptionAPI } from './GasOptionAPI.js'\nimport { HubOptionsAPI } from './HubOptionsAPI.js'\nimport type { HubOptions } from '../types/index.js'\nimport { MetaSwap } from '../../../MetaSwap/index.js'\nimport { AstarGas } from '../../../Astar/index.js'\nimport { DeBankGasOption, DeBankHistory } from '../../../DeBank/index.js'\nimport { Zerion } from '../../../Zerion/index.js'\n\nexport class HubBaseAPI extends HubBaseAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n    GasOption\n> {\n    private GasOptions = new GasOptionAPI()\n    protected override HubOptions = new HubOptionsAPI(this.options)\n\n    async getGasOptions(chainId: ChainId, initial?: HubOptions) {\n        const options = this.HubOptions.fill({\n            ...initial,\n            chainId,\n        })\n        try {\n            const isEIP1559 = ChainResolver.isFeatureSupported(options.chainId, 'EIP1559')\n            if (isEIP1559 && chainId !== ChainId.Astar) return await MetaSwap.getGasOptions(options.chainId)\n            if (chainId === ChainId.Aurora) return this.GasOptions.getGasOptions(options.chainId)\n            if (chainId === ChainId.Astar) return await AstarGas.getGasOptions()\n            return await DeBankGasOption.getGasOptions(options.chainId)\n        } catch (error) {\n            return this.GasOptions.getGasOptions(options.chainId)\n        }\n    }\n\n    async getTransactions(\n        chainId: ChainId,\n        account: string,\n        initial?: HubOptions,\n    ): Promise<Pageable<Web3Transaction<ChainId, SchemaType>>> {\n        const options = this.HubOptions.fill({\n            ...initial,\n            account,\n            chainId,\n        })\n        return attemptUntil(\n            [DeBankHistory, Zerion].map((x) => () => x.getTransactions(options.account, options)),\n            createPageable(EMPTY_LIST, createIndicator(options.indicator)),\n        )\n    }\n}\n","import urlcat from 'urlcat'\nimport {\n    createIndicator,\n    createNextIndicator,\n    createPageable,\n    type PageIndicator,\n    type Pageable,\n    EMPTY_LIST,\n} from '@masknet/shared-base'\nimport { type FungibleAsset, TokenType } from '@masknet/web3-shared-base'\nimport { ChainId, isNativeTokenAddress, isValidAddress, isValidChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport type { FT, FT_Price } from '../types.js'\nimport { fetchFromChainbase } from '../helpers.js'\nimport type { FungibleTokenAPI, HubOptions_Base } from '../../entry-types.js'\n\nclass ChainbaseFungibleTokenAPI implements FungibleTokenAPI.Provider<ChainId, SchemaType> {\n    createFungibleAssetFromFT(chainId: ChainId, token: FT) {\n        return {\n            chainId,\n            id: token.contract_address,\n            address: token.contract_address,\n            type: TokenType.Fungible,\n            schema: SchemaType.ERC20,\n            name: token.name,\n            symbol: token.symbol,\n            decimals: token.decimals,\n            balance: token.balance,\n            value: {\n                usd: token.current_usd_price.toString(),\n            },\n        }\n    }\n\n    async getAsset(address: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const token = await fetchFromChainbase<FT>(\n            urlcat('/v1/token/metadata', {\n                chain_id: chainId,\n                contract_address: address,\n            }),\n        )\n\n        if (!token) return\n        return this.createFungibleAssetFromFT(chainId, token)\n    }\n    async getAssets(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<FungibleAsset<ChainId, SchemaType>, PageIndicator>> {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const tokens = await fetchFromChainbase<FT[]>(\n            urlcat('/v1/account/tokens', {\n                chain_id: chainId,\n                address,\n                page: (indicator?.index || 0) + 1,\n            }),\n        )\n\n        if (!tokens) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const assets = tokens.map((x) => this.createFungibleAssetFromFT(chainId, x))\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            assets.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getFungibleTokenPrice(chainId: ChainId, address: string) {\n        if (isNativeTokenAddress(address) || !isValidAddress(address) || chainId !== ChainId.Mainnet) return undefined\n        const data = await fetchFromChainbase<FT_Price>(\n            urlcat('/v1/token/price', { chain_id: ChainId.Mainnet, contract_address: address }),\n        )\n\n        return data?.price\n    }\n}\nexport const ChainbaseFungibleToken = new ChainbaseFungibleTokenAPI()\n","import { EMPTY_LIST } from '@masknet/shared-base'\nimport { currySameAddress } from '@masknet/web3-shared-base'\nimport {\n    type ChainId,\n    formatEthereumAddress,\n    getTokenAssetBaseURLConstants,\n    isNativeTokenAddress,\n} from '@masknet/web3-shared-evm'\nimport SPECIAL_ICON_LIST from './TokenIconSpecialIconList.json'\nimport type { TokenIconAPI } from '../entry-types.js'\n\nclass CloudflareAPI implements TokenIconAPI.Provider<ChainId> {\n    async getFungibleTokenIconURLs(chainId: ChainId, address: string): Promise<string[]> {\n        const { NATIVE_TOKEN_ASSET_BASE_URI = EMPTY_LIST, ERC20_TOKEN_ASSET_BASE_URI = EMPTY_LIST } =\n            getTokenAssetBaseURLConstants(chainId)\n        const formattedAddress = formatEthereumAddress(address)\n\n        if (isNativeTokenAddress(formattedAddress)) {\n            return NATIVE_TOKEN_ASSET_BASE_URI?.map((x) => `${x}/info/logo.png/public`)\n        }\n\n        const specialIcon = SPECIAL_ICON_LIST.find(currySameAddress(address))\n        if (specialIcon) return [specialIcon.logo_url]\n\n        // load from remote\n        return ERC20_TOKEN_ASSET_BASE_URI.map((x) => `${x}/${formattedAddress}/logo.png/quality=85`)\n    }\n}\nexport const Cloudflare = new CloudflareAPI()\n","import { uniq } from 'lodash-es'\nimport {\n    CurrencyType,\n    type FungibleAsset,\n    type FungibleToken,\n    multipliedBy,\n    toFixed,\n    formatBalance,\n} from '@masknet/web3-shared-base'\nimport { createIndicator, createPageable, EMPTY_LIST } from '@masknet/shared-base'\nimport { type ChainId, getEthereumConstant, type SchemaType } from '@masknet/web3-shared-evm'\nimport { ContractReadonlyAPI } from './ContractReadonlyAPI.js'\nimport { CoinGeckoPriceEVM } from '../../../CoinGecko/index.js'\nimport type { HubOptions } from '../types/index.js'\nimport type { FungibleTokenAPI as FungibleTokenBaseAPI } from '../../../entry-types.js'\n\nexport class FungibleTokenAPI implements FungibleTokenBaseAPI.Provider<ChainId, SchemaType> {\n    private Contract = new ContractReadonlyAPI()\n\n    private createContract(chainId: ChainId) {\n        const address = getEthereumConstant(chainId, 'BALANCE_CHECKER_ADDRESS')\n        if (!address) throw new Error('Failed to create balance checker contract.')\n\n        const contract = this.Contract.getBalanceCheckerContract(address, {\n            chainId,\n        })\n        if (!contract) throw new Error('Failed to create balance checker contract.')\n\n        return contract\n    }\n\n    async createAssets(fungibleToken: FungibleToken<ChainId, SchemaType>, chainId: ChainId, balance: number) {\n        const price = await CoinGeckoPriceEVM.getFungibleTokenPrice(chainId, fungibleToken.address)\n\n        return {\n            ...fungibleToken,\n            balance: balance.toFixed(),\n            price: {\n                [CurrencyType.USD]: toFixed(price),\n            },\n            value: {\n                [CurrencyType.USD]: multipliedBy(price ?? 0, formatBalance(balance, fungibleToken.decimals)).toFixed(),\n            },\n        }\n    }\n\n    async getTrustedAssets(\n        address: string,\n        trustedFungibleTokens?: Array<FungibleToken<ChainId, SchemaType>>,\n        options?: HubOptions,\n    ) {\n        if (!trustedFungibleTokens) return createPageable(EMPTY_LIST, createIndicator(options?.indicator))\n\n        const chains = uniq(trustedFungibleTokens.map((x) => x.chainId))\n        let result: Array<FungibleAsset<ChainId, SchemaType>> = EMPTY_LIST\n\n        for (const chainId of chains) {\n            const contract = this.createContract(chainId)\n            if (!contract) return createPageable(EMPTY_LIST, createIndicator(options?.indicator))\n\n            const balances = await contract.methods\n                .balances(\n                    [address],\n                    trustedFungibleTokens.map((x) => x.address),\n                )\n                .call()\n\n            const requests = balances\n                .map((x, i) => {\n                    if (!trustedFungibleTokens[i]) return\n                    return this.createAssets(trustedFungibleTokens[i], chainId, Number.parseInt(x, 10))\n                })\n                .filter(Boolean)\n\n            const assets = (await Promise.allSettled(requests))\n                .map((x) => (x.status === 'fulfilled' ? x.value : undefined))\n                .filter(Boolean) as Array<FungibleAsset<ChainId, SchemaType>>\n\n            result = [...result, ...assets]\n        }\n\n        return createPageable(result, createIndicator(options?.indicator))\n    }\n}\n","import urlcat from 'urlcat'\nimport { unionWith } from 'lodash-es'\nimport { isSameAddress, type FungibleToken } from '@masknet/web3-shared-base'\nimport { createPageable, createIndicator } from '@masknet/shared-base'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { FungibleTokenAPI as EVM_FungibleTokenAPI } from '../../Web3/EVM/apis/FungibleTokenAPI.js'\nimport { formatAssets } from '../helpers.js'\nimport type { WalletTokenRecord } from '../types.js'\nimport { DEBANK_OPEN_API } from '../constants.js'\nimport { Duration } from '../../helpers/fetchCached.js'\nimport { fetchCachedJSON } from '../../helpers/fetchJSON.js'\nimport { getNativeAssets } from '../../helpers/getNativeAssets.js'\nimport type { FungibleTokenAPI, HubOptions_Base } from '../../entry-types.js'\n\nclass DeBankFungibleTokenAPI implements FungibleTokenAPI.Provider<ChainId, SchemaType> {\n    private FungibleToken = new EVM_FungibleTokenAPI()\n\n    async getAssets(address: string, options?: HubOptions_Base<ChainId>) {\n        const result = (\n            await fetchCachedJSON<WalletTokenRecord[] | undefined>(\n                urlcat(DEBANK_OPEN_API, '/v1/user/all_token_list', {\n                    id: address,\n                    is_all: true,\n                }),\n                undefined,\n                {\n                    cacheDuration: Duration.TEN_SECONDS,\n                },\n            )\n        )?.filter((x) => x.is_verified)\n\n        return createPageable(\n            unionWith(\n                formatAssets(\n                    (result ?? []).map((x) => {\n                        const isEther = ['arb', 'aurora'].includes(x.chain) && ['ETH', 'AETH'].includes(x.name)\n                        return {\n                            ...x,\n                            name: isEther ? 'ETH' : x.name,\n                            symbol: isEther ? 'ETH' : x.symbol,\n                            logo_url: isEther\n                                ? 'https://imagedelivery.net/PCnTHRkdRhGodr0AWBAvMA/Assets/blockchains/ethereum/info/logo.png/quality=85'\n                                : x.logo_url,\n                        }\n                    }),\n                ),\n                getNativeAssets(),\n                (a, z) => isSameAddress(a.address, z.address) && a.chainId === z.chainId,\n            ),\n            createIndicator(options?.indicator),\n        )\n    }\n\n    async getTrustedAssets(\n        address: string,\n        trustedFungibleTokens?: Array<FungibleToken<ChainId, SchemaType>>,\n        options?: HubOptions_Base<ChainId>,\n    ) {\n        const trustTokenAssets = await this.FungibleToken.getTrustedAssets(address, trustedFungibleTokens, options)\n        return createPageable(\n            unionWith(\n                trustTokenAssets.data,\n                getNativeAssets(),\n                (a, z) => isSameAddress(a.address, z.address) && a.chainId === z.chainId,\n            ),\n            createIndicator(options?.indicator),\n        )\n    }\n}\nexport const DeBankFungibleToken = new DeBankFungibleTokenAPI()\n","import { SourceType, attemptUntil } from '@masknet/web3-shared-base'\nimport {\n    ChainId,\n    type SchemaType,\n    type ProviderType,\n    type NetworkType,\n    type MessageRequest,\n    type MessageResponse,\n    type Transaction,\n    type TransactionParameter,\n} from '@masknet/web3-shared-evm'\nimport { ConnectionReadonlyAPI } from './ConnectionReadonlyAPI.js'\nimport type { HubOptions_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport { HubFungibleAPI_Base } from '../../Base/apis/HubFungibleAPI.js'\nimport { Web3StateRef } from './Web3StateAPI.js'\nimport { HubOptionsAPI } from './HubOptionsAPI.js'\nimport type { AuthorizationAPI, FungibleTokenAPI, TokenListAPI, TokenIconAPI, PriceAPI } from '../../../entry-types.js'\nimport { ApprovalAPI } from '../../../Approval/index.js'\nimport { ChainbaseFungibleToken } from '../../../Chainbase/index.js'\nimport { Cloudflare } from '../../../Cloudflare/index.js'\nimport { CoinGeckoPriceEVM } from '../../../CoinGecko/index.js'\nimport { DeBankFungibleToken } from '../../../DeBank/index.js'\nimport { GoPlusAuthorization } from '../../../GoPlusLabs/index.js'\nimport { R2D2TokenList } from '../../../R2D2/index.js'\nimport { Rabby } from '../../../Rabby/index.js'\nimport { Zerion } from '../../../Zerion/index.js'\n\nexport class HubFungibleAPI extends HubFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    private Approval = new ApprovalAPI()\n    protected override HubOptions = new HubOptionsAPI(this.options)\n\n    private Web3 = new ConnectionReadonlyAPI()\n\n    protected override getProviders(initial?: HubOptions_Base<ChainId>) {\n        const { indicator } = this.HubOptions.fill(initial)\n\n        // only the first page is available\n        if ((indicator?.index ?? 0) > 0) return []\n\n        return this.getPredicateProviders<\n            AuthorizationAPI.Provider<ChainId> &\n                FungibleTokenAPI.Provider<ChainId, SchemaType> &\n                TokenListAPI.Provider<ChainId, SchemaType> &\n                TokenIconAPI.Provider<ChainId> &\n                PriceAPI.Provider<ChainId>\n        >(\n            {\n                [SourceType.Chainbase]: ChainbaseFungibleToken,\n                [SourceType.DeBank]: DeBankFungibleToken,\n                [SourceType.Zerion]: Zerion,\n                [SourceType.GoPlus]: GoPlusAuthorization,\n                [SourceType.Rabby]: Rabby,\n                [SourceType.Approval]: this.Approval,\n                [SourceType.R2D2]: R2D2TokenList,\n                [SourceType.CF]: Cloudflare,\n                [SourceType.CoinGecko]: CoinGeckoPriceEVM,\n            },\n            [\n                DeBankFungibleToken,\n                this.Approval,\n                Zerion,\n                ChainbaseFungibleToken,\n                Rabby,\n                GoPlusAuthorization,\n                R2D2TokenList,\n                Cloudflare,\n                CoinGeckoPriceEVM,\n            ],\n            initial,\n        )\n    }\n\n    override getFungibleToken(address: string, initial?: HubOptions_Base<ChainId> | undefined) {\n        const networks = Web3StateRef.value?.Network?.networks?.getCurrentValue()\n        const currentNetwork = initial?.chainId\n            ? networks?.find((x) => x.chainId === initial.chainId)\n            : Web3StateRef.value?.Network?.network?.getCurrentValue()\n        return attemptUntil(\n            [\n                () => Web3StateRef.value?.Token?.createFungibleToken?.(initial?.chainId ?? ChainId.Mainnet, address),\n                () =>\n                    this.Web3.getFungibleToken(address, {\n                        ...initial,\n                        providerURL: currentNetwork?.isCustomized ? currentNetwork?.rpcUrl : undefined,\n                    }),\n            ],\n            undefined,\n        )\n    }\n}\n","import urlcat from 'urlcat'\nimport { first } from 'lodash-es'\nimport { createIndicator, createNextIndicator, createPageable } from '@masknet/shared-base'\nimport { type NonFungibleAsset, resolveResourceURL, SourceType, TokenType } from '@masknet/web3-shared-base'\nimport { ChainId, SchemaType, resolveImageURL } from '@masknet/web3-shared-evm'\nimport { Alchemy_EVM_NetworkMap } from '../constants.js'\nimport type {\n    AlchemyNFT_EVM,\n    AlchemyResponse_EVM,\n    AlchemyResponse_EVM_Contact_Metadata,\n    AlchemyResponse_EVM_Metadata,\n    AlchemyResponse_EVM_Owners,\n} from '../types.js'\nimport { formatAlchemyTokenId } from '../helpers.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport { getAssetFullName } from '../../helpers/getAssetFullName.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../../entry-types.js'\n\nfunction createNonFungibleTokenLink(chainId: ChainId, address: string, tokenId: string) {\n    if (chainId === ChainId.Matic) {\n        return urlcat('https://opensea.io/assets/matic/:address/:tokenId', {\n            address,\n            tokenId,\n        })\n    }\n    return urlcat('https://opensea.io/assets/:address/:tokenId', {\n        address,\n        tokenId,\n    })\n}\n\nfunction createNonFungibleToken(chainId: ChainId, asset: AlchemyNFT_EVM): NonFungibleAsset<ChainId, SchemaType> {\n    const contractAddress = asset.contract.address\n    const tokenId = formatAlchemyTokenId(asset.id.tokenId)\n    const imageURL =\n        asset.metadata.image || asset.metadata.image_url || asset.media?.[0]?.gateway || asset.metadata.animation_url\n    const mediaURL =\n        asset.media?.[0]?.gateway || asset.media?.[0]?.raw || asset.metadata.image_url || asset.metadata.image\n    const name = getAssetFullName(\n        asset.contract.address,\n        asset.metadata.name || asset.title,\n        asset.metadata.name || asset.title,\n        tokenId,\n    )\n    return {\n        id: `${contractAddress}_${tokenId}`,\n        chainId,\n        type: TokenType.NonFungible,\n        schema: asset.id?.tokenMetadata?.tokenType === 'ERC721' ? SchemaType.ERC721 : SchemaType.ERC1155,\n        tokenId,\n        address: contractAddress,\n        link: createNonFungibleTokenLink(chainId, contractAddress, tokenId),\n        metadata: {\n            chainId,\n            name,\n            description: asset.metadata.description || asset.description,\n            imageURL: resolveImageURL(resolveResourceURL(decodeURIComponent(imageURL)), name, contractAddress),\n            mediaURL: resolveResourceURL(decodeURIComponent(mediaURL)),\n        },\n        contract: {\n            chainId,\n            schema: asset.id?.tokenMetadata.tokenType === 'ERC721' ? SchemaType.ERC721 : SchemaType.ERC1155,\n            address: contractAddress,\n            name: asset.metadata.name || asset.title,\n            symbol: '',\n        },\n        collection: {\n            address: contractAddress,\n            chainId,\n            name: asset.metadata.name || asset.title,\n            slug: '',\n            description: asset.metadata.description || asset.description,\n        },\n        source: SourceType.Alchemy_EVM,\n    }\n}\n\nfunction createNonFungibleAsset(\n    chainId: ChainId,\n    metaDataResponse: AlchemyResponse_EVM_Metadata,\n    contractMetadataResponse?: AlchemyResponse_EVM_Contact_Metadata,\n    ownersResponse?: AlchemyResponse_EVM_Owners,\n): NonFungibleAsset<ChainId, SchemaType> {\n    const tokenId = formatAlchemyTokenId(metaDataResponse.id.tokenId)\n    const contractName = contractMetadataResponse?.contractMetadata.name || metaDataResponse.metadata?.name || ''\n    const name = getAssetFullName(metaDataResponse.contract?.address, contractName, metaDataResponse.title, tokenId)\n    return {\n        id: `${metaDataResponse.contract.address}_${tokenId}`,\n        chainId,\n        type: TokenType.NonFungible,\n        schema: metaDataResponse.id?.tokenMetadata?.tokenType === 'ERC721' ? SchemaType.ERC721 : SchemaType.ERC1155,\n        tokenId,\n        address: metaDataResponse.contract?.address,\n        metadata: {\n            chainId,\n            name,\n            symbol: contractMetadataResponse?.contractMetadata?.symbol ?? '',\n            description: metaDataResponse.description,\n            imageURL: resolveImageURL(\n                decodeURIComponent(\n                    metaDataResponse.metadata?.image ||\n                        metaDataResponse.media?.[0]?.gateway ||\n                        metaDataResponse.media?.[0]?.raw,\n                ),\n                name,\n                metaDataResponse.contract?.address,\n            ),\n            mediaURL: decodeURIComponent(metaDataResponse.media?.[0]?.gateway),\n        },\n        contract: {\n            chainId,\n            schema: metaDataResponse.id?.tokenMetadata?.tokenType === 'ERC721' ? SchemaType.ERC721 : SchemaType.ERC1155,\n            address: metaDataResponse.contract?.address,\n            name: contractName,\n            symbol: contractMetadataResponse?.contractMetadata?.symbol ?? '',\n        },\n        collection: {\n            chainId,\n            name: contractName,\n            slug: contractMetadataResponse?.contractMetadata?.symbol || '',\n            description: metaDataResponse.description,\n        },\n        link: createNonFungibleTokenLink(chainId, metaDataResponse.contract?.address, metaDataResponse.id?.tokenId),\n        owner: {\n            address: first(ownersResponse?.owners),\n        },\n        traits: metaDataResponse.metadata?.traits?.map((x) => ({\n            type: x.trait_type,\n            value: x.value,\n        })),\n        source: SourceType.Alchemy_EVM,\n    }\n}\n\nclass AlchemyEVM_API implements NonFungibleTokenAPI.Provider<ChainId, SchemaType, string> {\n    async getAsset(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        const chainInfo = Alchemy_EVM_NetworkMap.chains.find((chain) => chain.chainId === chainId)\n        if (!chainInfo) return\n\n        const allSettled = await Promise.allSettled([\n            fetchJSON<AlchemyResponse_EVM_Metadata>(\n                urlcat(`${chainInfo.baseURL}/getNFTMetadata`, {\n                    contractAddress: address,\n                    tokenId,\n                    tokenType: 'ERC721',\n                }),\n            ),\n            fetchJSON<AlchemyResponse_EVM_Contact_Metadata>(\n                urlcat(`${chainInfo.contractMetadataURL}/getContractMetadata`, {\n                    contractAddress: address,\n                }),\n            ),\n            fetchJSON<AlchemyResponse_EVM_Owners>(\n                urlcat(`${chainInfo.tokenOwnerURL}/getOwnersForToken`, {\n                    contractAddress: address,\n                    tokenId,\n                }),\n            ),\n        ])\n\n        const [metadataResponse, contractMetadataResponse, ownersResponse] = allSettled.map((x) =>\n            x.status === 'fulfilled' ? x.value : undefined,\n        ) as [\n            AlchemyResponse_EVM_Metadata | undefined,\n            AlchemyResponse_EVM_Contact_Metadata | undefined,\n            AlchemyResponse_EVM_Owners | undefined,\n        ]\n\n        if (!metadataResponse || metadataResponse.error || !ownersResponse) return\n        return createNonFungibleAsset(chainId, metadataResponse, contractMetadataResponse, ownersResponse)\n    }\n\n    async getAssets(from: string, { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {}) {\n        const chainInfo = Alchemy_EVM_NetworkMap.chains.find((chain) => chain.chainId === chainId)\n        if (!chainInfo) return createPageable([], createIndicator(indicator, ''))\n\n        const response = await fetchJSON<AlchemyResponse_EVM>(\n            urlcat(`${chainInfo.baseURL}/getNFTs/`, {\n                owner: from,\n                pageKey: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n            }),\n        )\n\n        const assets = response.ownedNfts.map((nft) => createNonFungibleToken(chainId, nft))\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response.pageKey ? createNextIndicator(indicator, response.pageKey) : undefined,\n        )\n    }\n}\nexport const AlchemyEVM = new AlchemyEVM_API()\n","import urlcat from 'urlcat'\nimport {\n    type NonFungibleAsset,\n    type NonFungibleCollection,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenEvent,\n    ActivityType,\n    scale10,\n    SourceType,\n    TokenType,\n} from '@masknet/web3-shared-base'\nimport { createIndicator, createNextIndicator, createPageable, EMPTY_LIST } from '@masknet/shared-base'\nimport { ChainId, isValidChainId, SchemaType, ZERO_ADDRESS } from '@masknet/web3-shared-evm'\nimport { ChainResolver, ExplorerResolver } from '../../Web3/EVM/apis/ResolverAPI.js'\nimport type { NFT, NFT_FloorPrice, NFT_Metadata, NFT_TransferEvent } from '../types.js'\nimport { fetchFromChainbase } from '../helpers.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../../entry-types.js'\n\nclass ChainbaseNonFungibleTokenAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    createNonFungibleTokenPermalink(chainId: ChainId, address: string, tokenId: string) {\n        if (chainId === ChainId.Mainnet || chainId === ChainId.Matic) {\n            return urlcat('https://opensea.com/:protocol/:contract/:tokenId', {\n                contract: address,\n                tokenId,\n                protocol: chainId === ChainId.Mainnet ? 'ethereum' : 'matic',\n            })\n        }\n        return ExplorerResolver.addressLink(chainId, address)\n    }\n\n    createNonFungibleTokenAssetFromNFT(chainId: ChainId, nft: NFT): NonFungibleAsset<ChainId, SchemaType> {\n        return {\n            chainId,\n            id: `${chainId}_${nft.contract_address}_${nft.token_id}`,\n            type: TokenType.NonFungible,\n            schema: nft.contract_type === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n            address: nft.contract_address,\n            tokenId: nft.token_id,\n            owner: {\n                address: nft.owner,\n            },\n            contract: {\n                chainId,\n                schema: nft.contract_type === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n                address: nft.contract_address,\n                name: nft.contract_name,\n                symbol: nft.contract_symbol,\n                owner: nft.owner,\n            },\n            metadata: {\n                chainId,\n                name: nft.contract_name,\n                symbol: nft.contract_symbol,\n            },\n            source: SourceType.Chainbase,\n        }\n    }\n\n    createNonFungibleAssetFromNFTMetadata(\n        chainId: ChainId,\n        address: string,\n        tokenId: string,\n        metadata: NFT_Metadata,\n    ): NonFungibleAsset<ChainId, SchemaType> {\n        return {\n            chainId,\n            type: TokenType.NonFungible,\n            id: `${chainId}_${metadata.contract_address}_${metadata.token_id}`,\n            schema: SchemaType.ERC721,\n            address,\n            tokenId,\n            link: this.createNonFungibleTokenPermalink(chainId, address, tokenId),\n            source: SourceType.Chainbase,\n        }\n    }\n\n    createNonFungibleContractFromNFTMetadata(\n        chainId: ChainId,\n        address: string,\n        metadata: NFT_Metadata,\n    ): NonFungibleTokenContract<ChainId, SchemaType> {\n        return {\n            chainId,\n            address,\n            name: metadata.name,\n            symbol: metadata.symbol,\n            schema: SchemaType.ERC721,\n            owner: metadata.owner,\n            source: SourceType.Chainbase,\n        }\n    }\n\n    createNonFungibleCollectionFromNFT(chainId: ChainId, nft: NFT): NonFungibleCollection<ChainId, SchemaType> {\n        return {\n            chainId,\n            schema: nft.contract_type === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n            name: nft.contract_name,\n            symbol: nft.contract_symbol,\n            slug: nft.contract_symbol,\n            address: nft.contract_address,\n            source: SourceType.Chainbase,\n        }\n    }\n\n    createNonFungibleTokenEventFromNFT_TransferEvent(\n        chainId: ChainId,\n        address: string,\n        event: NFT_TransferEvent,\n    ): NonFungibleTokenEvent<ChainId, SchemaType> {\n        return {\n            chainId,\n            id: event.transaction_hash,\n            quantity: '1',\n            type: ActivityType.Transfer,\n            assetPermalink: this.createNonFungibleTokenPermalink(chainId, address, event.token_id),\n            hash: event.transaction_hash,\n            timestamp: new Date(event.block_timestamp).getTime(),\n            from: {\n                address: event.from_address,\n            },\n            to: {\n                address: event.to_address,\n            },\n            source: SourceType.Chainbase,\n        }\n    }\n\n    async getFloorPrice(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return\n        const floorPrice = await fetchFromChainbase<NFT_FloorPrice>(\n            urlcat('/v1/nft/floor_price', {\n                chain_id: chainId,\n                contract_address: address,\n            }),\n        )\n        if (!floorPrice) return\n        const nativeToken = ChainResolver.nativeCurrency(chainId)\n        return {\n            amount: scale10(floorPrice.floor_price, nativeToken.decimals).toFixed(0),\n            token: nativeToken,\n        }\n    }\n\n    async getOwner(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return ZERO_ADDRESS\n        const owner = await fetchFromChainbase<string>(\n            urlcat('/v1/nft/owner', {\n                chain_id: chainId,\n                contract_address: address,\n                token_id: tokenId,\n            }),\n        )\n        return owner ?? ZERO_ADDRESS\n    }\n\n    async getAsset(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const metadata = await fetchFromChainbase<NFT_Metadata>(\n            urlcat('/v1/nft/metadata', {\n                chain_id: chainId,\n                contract_address: address.toLowerCase(),\n                token_id: tokenId,\n            }),\n        )\n        if (!metadata) return\n        return this.createNonFungibleAssetFromNFTMetadata(chainId, address, tokenId, metadata)\n    }\n\n    async getAssets(account: string, { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const tokens = await fetchFromChainbase<NFT[]>(\n            urlcat('/v1/account/nfts', {\n                chain_id: chainId,\n                address: account.toLowerCase(),\n                page: (indicator?.index ?? 0) + 1,\n            }),\n        )\n        if (!tokens) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const assets = tokens.map((x) => this.createNonFungibleTokenAssetFromNFT(chainId, x))\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            assets.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getContract(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType> | undefined> {\n        if (!isValidChainId(chainId)) return\n        const metadata = await fetchFromChainbase<NFT_Metadata>(\n            urlcat('/v1/nft/metadata', {\n                chain_id: chainId,\n                contract_address: address.toLowerCase(),\n                token_id: 1,\n            }),\n        )\n        if (!metadata) return\n        return this.createNonFungibleContractFromNFTMetadata(chainId, address, metadata)\n    }\n\n    async getEvents(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const transferEvents = await fetchFromChainbase<NFT_TransferEvent[]>(\n            urlcat('/v1/nft/transfers', {\n                chainId,\n                contract_address: address,\n                token_id: tokenId,\n                page: (indicator?.index ?? 0) + 1,\n            }),\n        )\n\n        if (!transferEvents?.length) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const events = transferEvents.map((x) =>\n            this.createNonFungibleTokenEventFromNFT_TransferEvent(chainId, address, x),\n        )\n        return createPageable(\n            events,\n            createIndicator(indicator),\n            events.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n}\nexport const ChainbaseNonFungibleToken = new ChainbaseNonFungibleTokenAPI()\n","import { SourceType } from '@masknet/web3-shared-base'\n\nexport const GEM_API_URL = 'https://gem-proxy.r2d2.to/'\n\nexport const RARITY_SOURCE_TYPE = [SourceType.Gem, SourceType.RaritySniper, SourceType.TraitSniper] as const\n","import urlcat from 'urlcat'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { SourceType, type NonFungibleTokenRarity } from '@masknet/web3-shared-base'\nimport { createLookupTableResolver } from '@masknet/shared-base'\nimport { GEM_API_URL, RARITY_SOURCE_TYPE } from './constants.js'\nimport { fetchCachedJSON } from '../helpers/fetchJSON.js'\nimport type { NonFungibleTokenAPI } from '../entry-types.js'\n\nconst resolveRarityId = createLookupTableResolver<\n    SourceType.Gem | SourceType.RaritySniper | SourceType.TraitSniper,\n    string\n>(\n    {\n        [SourceType.Gem]: 'gem',\n        [SourceType.RaritySniper]: 'rarity_sniper',\n        [SourceType.TraitSniper]: 'trait_sniper',\n    },\n    '',\n)\n\nasync function fetchFromGem<T>(pathname: string, init?: RequestInit) {\n    const { data } = await fetchCachedJSON<{ data: T | undefined }>(urlcat(GEM_API_URL, pathname), init, {\n        squashExpiration: 0,\n    })\n    return data\n}\n\nclass GemAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getRarity(address: string, tokenId: string) {\n        const response = await fetchFromGem<Record<string, NonFungibleTokenRarity<ChainId>>>(\n            urlcat('/rarity/:address/:tokenId', {\n                address: address.toLowerCase(),\n                tokenId: tokenId.toLowerCase(),\n            }),\n        )\n\n        if (!response) return\n\n        for (const sourceType of RARITY_SOURCE_TYPE) {\n            const rarity = response[resolveRarityId(sourceType)]\n            if (rarity) return rarity\n        }\n        return\n    }\n}\nexport const Gem = new GemAPI()\n","export namespace EVM {\n    export interface Attribute {\n        attribute_name: string\n        attribute_value: string\n        percentage: string\n    }\n\n    export interface Payload {\n        name?: string\n        description?: string\n        image?: string\n        attributes?: Array<{\n            trait_type: string\n            value: string\n            percentage?: string\n        }>\n    }\n\n    export interface Asset {\n        attributes: Attribute[]\n        contract_address: string\n        contract_name: string\n        contract_token_id: string\n        token_id: string\n        erc_type: ErcType | string\n        owner: string\n        mint_transaction_hash: string\n        mint_timestamp: number\n        mint_price: number\n        token_uri?: string\n        minter: string\n        metadata_json?: string\n        name: string\n        /** mime type */\n        content_type: string\n        content_uri: string\n        image_uri?: string\n        external_uri: string\n        latest_trade_price: string | null\n        latest_trade_symbol: string | null\n        latest_trade_timestamp: number | null\n        nftscan_id: string | null\n        imageURL: string | null\n    }\n\n    export enum ErcType {\n        ERC721 = 'erc721',\n        ERC1155 = 'erc1155',\n    }\n\n    export interface AssetsGroup {\n        contract_address: string\n        contract_name: string | null\n        verified?: boolean\n        opensea_verified?: boolean\n        logo_url?: string | null\n        owns_total: number\n        items_total: number\n        description: string | null\n        assets: Asset[]\n        symbol: string | null\n    }\n\n    export interface Transaction {\n        amount: string\n        block_hash: string\n        block_number: number\n        contract_address: string\n        contract_name: string\n        contract_token_id: string\n        erc_type: string\n        event_type: string\n        exchange_name: string\n        from: string\n        gas_fee: number\n        gas_price: string\n        gas_used: string\n        hash: string\n        nftscan_tx_id: string\n        receive: string\n        send: string\n        timestamp: number\n        to: string\n        token_id: string\n        trade_price: number\n        trade_symbol: string\n        trade_value: string\n    }\n\n    export type CollectionTrendingRange = '1h' | '4h' | '12h' | '1d' | '3d' | '7d' | '30d' | '90d' | '1y' | 'all'\n    export interface CollectionTrendingRecord {\n        begin_timestamp: number\n        end_timestamp: number\n        average_price: number\n        volume: number\n    }\n}\n","import urlcat from 'urlcat'\nimport {\n    createIndicator,\n    createNextIndicator,\n    createPageable,\n    type PageIndicator,\n    type Pageable,\n    EMPTY_LIST,\n} from '@masknet/shared-base'\nimport {\n    type NonFungibleCollection,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenEvent,\n} from '@masknet/web3-shared-base'\nimport { ChainId, type SchemaType, isValidChainId } from '@masknet/web3-shared-evm'\nimport { EVM, type PageableResponse, type Response } from '../types/index.js'\nimport {\n    createNonFungibleAsset,\n    createNonFungibleTokenContract,\n    fetchFromNFTScanV2,\n    createNonFungibleTokenEvent,\n    createNonFungibleCollectionFromGroup,\n    createNonFungibleCollectionFromCollection,\n} from '../helpers/EVM.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../../entry-types.js'\n\nclass NFTScanNonFungibleTokenAPI_EVM implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getAsset(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const path = urlcat('/api/v2/assets/:address/:token_id', {\n            address,\n            contract_address: address,\n            token_id: tokenId,\n            show_attribute: true,\n        })\n        const response = await fetchFromNFTScanV2<Response<EVM.Asset>>(chainId, path)\n        if (!response?.data) return\n\n        const collection = await this.getCollectionRaw(response.data.contract_address, { chainId })\n        return createNonFungibleAsset(chainId, response.data, collection)\n    }\n\n    async getAssets(\n        account: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const path = urlcat('/api/v2/account/own/all/:from', {\n            from: account,\n            show_attribute: true,\n        })\n        const response = await fetchFromNFTScanV2<Response<EVM.AssetsGroup[]>>(chainId, path)\n        const assets = response?.data?.flatMap((x) => x.assets.map((y) => createNonFungibleAsset(chainId, y, x)))\n        return createPageable(assets ?? EMPTY_LIST, createIndicator(indicator))\n    }\n\n    async getAssetsByCollection(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId) || !address) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const path = urlcat('/api/v2/assets/:address', {\n            address,\n            contract_address: address,\n            show_attribute: true,\n            limit: size,\n            cursor: indicator?.id,\n        })\n        const response = await fetchFromNFTScanV2<PageableResponse<EVM.Asset>>(chainId, path)\n        const assets = response?.data?.content.map((x) => createNonFungibleAsset(chainId, x)) ?? EMPTY_LIST\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response?.data.next ? createNextIndicator(indicator, response?.data.next) : undefined,\n        )\n    }\n\n    async getCollectionsByOwner(\n        account: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<NonFungibleCollection<ChainId, SchemaType>, PageIndicator>> {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const path = urlcat('/api/v2/account/own/all/:from', {\n            from: account,\n            erc_type: EVM.ErcType.ERC721,\n            show_attribute: true,\n        })\n        const response = await fetchFromNFTScanV2<Response<EVM.AssetsGroup[]>>(chainId, path)\n        const collections = response?.data.map((x) => createNonFungibleCollectionFromGroup(chainId, x)) ?? EMPTY_LIST\n        return createPageable(collections, createIndicator(indicator))\n    }\n\n    async getCollectionRaw(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleTokenAPI.Collection | undefined> {\n        if (!isValidChainId(chainId)) return\n        const path = urlcat('/api/v2/collections/:address', {\n            address,\n        })\n        const response = await fetchFromNFTScanV2<Response<NonFungibleTokenAPI.Collection>>(chainId, path)\n        return response?.data\n    }\n\n    async getCollection(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleCollection<ChainId, SchemaType> | undefined> {\n        const rawCollection = await this.getCollectionRaw(address, { chainId })\n        if (!rawCollection) return\n        return createNonFungibleCollectionFromCollection(chainId, rawCollection)\n    }\n\n    async getContract(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType> | undefined> {\n        const path = urlcat('/api/v2/collections/:address', {\n            address,\n        })\n        const response = await fetchFromNFTScanV2<Response<NonFungibleTokenAPI.Collection>>(chainId, path)\n        if (!response?.data) return\n        return createNonFungibleTokenContract(chainId, response.data)\n    }\n\n    async getEvents(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<NonFungibleTokenEvent<ChainId, SchemaType>>> {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const path = urlcat('/api/v2/transactions/:address/:tokenId', {\n            address,\n            tokenId,\n            limit: size,\n            cursor: indicator?.id,\n        })\n        const response = await fetchFromNFTScanV2<PageableResponse<EVM.Transaction>>(chainId, path)\n        const events = response?.data.content.map((x) => createNonFungibleTokenEvent(chainId, x)) ?? EMPTY_LIST\n        return createPageable(\n            events,\n            createIndicator(indicator),\n            response?.data.next ? createNextIndicator(indicator, response?.data.next) : undefined,\n        )\n    }\n}\nexport const NFTScanNonFungibleTokenEVM = new NFTScanNonFungibleTokenAPI_EVM()\n","export const X2Y2_API_URL = 'https://x2y2-proxy.r2d2.to'\nexport const X2Y2_PAGE_SIZE = 20\n","import urlcat from 'urlcat'\nimport { first, last } from 'lodash-es'\nimport {\n    OrderSide,\n    type NonFungibleTokenOrder,\n    type NonFungibleTokenEvent,\n    type NonFungibleTokenContract,\n    SourceType,\n} from '@masknet/web3-shared-base'\nimport { createPageable, createIndicator, createNextIndicator, EMPTY_LIST } from '@masknet/shared-base'\nimport { ChainId, createERC20Token, isZeroAddress, SchemaType } from '@masknet/web3-shared-evm'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport { X2Y2_API_URL, X2Y2_PAGE_SIZE } from './constants.js'\nimport type { Contract, Event, Order } from './types.js'\nimport { resolveActivityType } from '../helpers/resolveActivityType.js'\nimport { fetchSquashedJSON } from '../helpers/fetchJSON.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../entry-types.js'\n\nasync function fetchFromX2Y2<T>(pathname: string) {\n    const response = await fetchSquashedJSON<\n        | {\n              success: boolean\n              next?: string\n              data?: T | null\n          }\n        | undefined\n    >(urlcat(X2Y2_API_URL, pathname))\n    // The `undefined` can be given a default value when deconstructed, but `null` can't.\n    return response?.success ? ([response.data ?? undefined, response.next] as const) : EMPTY_LIST\n}\n\nclass X2Y2API implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    createPermalink(address: string, tokenId: string) {\n        return urlcat('https://x2y2.io/eth/:contract/:tokenId', {\n            contract: address,\n            tokenId,\n        })\n    }\n    createOrder(address: string, tokenId: string, order: Order): NonFungibleTokenOrder<ChainId, SchemaType> {\n        return {\n            id: order.item_hash,\n            chainId: ChainId.Mainnet,\n            assetPermalink: this.createPermalink(address, tokenId),\n            quantity: '1',\n            hash: order.item_hash,\n            side: order.type === 'buy' ? OrderSide.Buy : OrderSide.Sell,\n            maker: order.maker\n                ? {\n                      address: order.maker,\n                  }\n                : undefined,\n            taker: order.taker\n                ? {\n                      address: order.taker,\n                  }\n                : undefined,\n            createdAt: Number.parseInt(order.created_at, 10),\n            expiredAt: Number.parseInt(order.end_at, 10),\n            priceInToken: {\n                amount: order.price,\n                token: isZeroAddress(order.currency)\n                    ? ChainResolver.nativeCurrency(ChainId.Mainnet)\n                    : createERC20Token(ChainId.Mainnet, order.currency),\n            },\n            source: SourceType.X2Y2,\n        }\n    }\n\n    createEvent(address: string, tokenId: string, event: Event): NonFungibleTokenEvent<ChainId, SchemaType> {\n        return {\n            id: event.id.toString(),\n            chainId: ChainId.Mainnet,\n            type: resolveActivityType(event.type),\n            assetPermalink: this.createPermalink(address, tokenId),\n            quantity: '1',\n            hash: event.order.item_hash,\n            from: {\n                address: event.from_address,\n            },\n            to: {\n                address: event.to_address,\n            },\n            timestamp: Number.parseInt(event.created_at, 10) * 1000,\n            paymentToken: isZeroAddress(event.order.currency)\n                ? ChainResolver.nativeCurrency(ChainId.Mainnet)\n                : createERC20Token(ChainId.Mainnet, event.order.currency),\n            source: SourceType.X2Y2,\n        }\n    }\n\n    createContract(address: string, contract: Contract): NonFungibleTokenContract<ChainId, SchemaType> {\n        return {\n            chainId: ChainId.Mainnet,\n            name: contract.name,\n            symbol: contract.symbol,\n            address,\n            schema: contract.erc_type === 721 ? SchemaType.ERC721 : SchemaType.ERC1155,\n        }\n    }\n\n    async getOrders(address: string, tokenId: string, side: OrderSide, options?: HubOptions_Base<ChainId>) {\n        const [data = EMPTY_LIST, next] = await fetchFromX2Y2<Order[]>(\n            urlcat('/v1/orders', {\n                cursor: options?.indicator?.id,\n                contract: address,\n                token_id: tokenId,\n                sort: 'created_at',\n                direction: 'desc',\n                limit: X2Y2_PAGE_SIZE,\n            }),\n        )\n\n        const orders = data\n            .filter(\n                (x) => (x.type === 'sell' && side === OrderSide.Sell) || (x.type === 'buy' && side === OrderSide.Buy),\n            )\n            .map((x) => this.createOrder(address, tokenId, x))\n\n        return createPageable(\n            orders,\n            createIndicator(options?.indicator),\n            orders.length && next ? createNextIndicator(options?.indicator, next) : undefined,\n        )\n    }\n    async getOffers(address: string, tokenId: string, options?: HubOptions_Base<ChainId>) {\n        const [data = EMPTY_LIST, next] = await fetchFromX2Y2<Order[]>(\n            urlcat('/v1/offers', {\n                cursor: options?.indicator?.id,\n                contract: address,\n                token_id: tokenId,\n                sort: 'created_at',\n                direction: 'desc',\n                limit: X2Y2_PAGE_SIZE,\n            }),\n        )\n\n        const offers = data.filter((x) => x.type === 'buy').map((x) => this.createOrder(address, tokenId, x))\n\n        return createPageable(\n            offers,\n            createIndicator(options?.indicator),\n            offers.length && next ? createNextIndicator(options?.indicator, next) : undefined,\n        )\n    }\n    getListings(address: string, tokenId: string) {\n        return this.getOrders(address, tokenId, OrderSide.Sell)\n    }\n    async getEvents(address: string, tokenId: string, options?: HubOptions_Base<ChainId>) {\n        const cursors = options?.indicator?.id?.split('_')\n        const listCursor = first(cursors)\n        const saleCursor = last(cursors)\n\n        const result = await Promise.all([\n            listCursor || !options?.indicator?.index\n                ? fetchFromX2Y2<Event[]>(\n                      urlcat('/v1/events', {\n                          cursor: listCursor ?? '',\n                          contract: address,\n                          token_id: tokenId,\n                          // list, sale, cancel_listing\n                          type: 'list',\n                      }),\n                  )\n                : EMPTY_LIST,\n            saleCursor || !options?.indicator?.index\n                ? fetchFromX2Y2<Event[]>(\n                      urlcat('/v1/events', {\n                          cursor: saleCursor ?? '',\n                          contract: address,\n                          token_id: tokenId,\n                          // list, sale, cancel_listing\n                          type: 'sale',\n                      }),\n                  )\n                : EMPTY_LIST,\n        ])\n\n        const [[listData = EMPTY_LIST, listNext], [saleData = EMPTY_LIST, saleNext]] = result\n        const data = [...listData, ...saleData]\n\n        const next = `${listNext}_${saleNext}`\n        const events = data.map((x) => this.createEvent(address, tokenId, x))\n\n        return createPageable(\n            events,\n            createIndicator(options?.indicator),\n            events.length && next ? createNextIndicator(options?.indicator, next) : undefined,\n        )\n    }\n    async getContract(address: string) {\n        const [contract] = await fetchFromX2Y2<Contract>(\n            urlcat('/v1/contracts/:contract', {\n                contract: address,\n            }),\n        )\n        if (!contract) return\n        return this.createContract(address, contract)\n    }\n}\nexport const X2Y2 = new X2Y2API()\n","/* cspell:disable */\n\ninterface CurrencyAmount {\n    currency: {\n        name: string\n        address: string\n        decimals: string\n    }\n    raw: string\n    decimal: number\n}\n\ninterface PriceAtTime {\n    nativePrice: CurrencyAmount\n    chainTokenPrice?: CurrencyAmount\n    usdcPrice?: CurrencyAmount\n    blockNumber: number\n}\n\ninterface Network {\n    network: 'ETHEREUM'\n    chain: 'MAINNET' | 'GOERLI' | 'RINKEBY'\n}\n\ninterface Transaction {\n    blockNumber: number\n    // e.g., 2021-09-07T11:48:32+00:00\n    blockTimestamp: string\n    transactionHash?: string\n    logIndex?: number\n}\n\ninterface Media {\n    url?: string\n    mimeType?: string\n    size?: string\n}\n\ninterface Attribute {\n    value?: string\n    traitType?: string\n    displayType?: string\n}\n\ninterface CollectionAttribute {\n    traitType?: string\n    valueMetrics: Array<{\n        value: string\n        count: string\n        percent: string\n    }>\n}\n\nexport interface Token<T = unknown> {\n    collectionAddress: string\n    collectionName?: string\n    tokenId: string\n    mintInfo?: {\n        mintContext: Transaction\n        originatorAddress: string\n        toAddress: string\n        price: PriceAtTime\n    }\n    networkInfo: Network\n    tokenUrl?: string\n    tokenUrlMimeType?: string\n    content?: Media\n    image?: Media\n    owner?: string\n    tokenContract?: {\n        chain: number\n        name?: string\n        symbol?: string\n        description?: string\n        totalSupply?: number\n        network?: string\n        collectionAddress: string\n    }\n    name?: string\n    description?: string\n    metadata?: T\n    attributes?: Attribute[]\n    lastRefreshTime?: string\n}\n\nexport interface Collection {\n    name?: string\n    description: string\n    entityTitle: string\n    collectionAddress: string\n    entity: {\n        address: string\n        description: string\n        name: string\n        symbol: string\n        totalSupply?: number\n        networkInfo: Network\n        attributes: CollectionAttribute[]\n    }\n}\n\nexport enum EventType {\n    APPROVAL_EVENT = 'APPROVAL_EVENT',\n    LIL_NOUNS_AUCTION_EVENT = 'LIL_NOUNS_AUCTION_EVENT',\n    NOUNS_AUCTION_EVENT = 'NOUNS_AUCTION_EVENT',\n    SALE_EVENT = 'SALE_EVENT',\n    SEAPORT_EVENT = 'SEAPORT_EVENT',\n    MINT_EVENT = 'MINT_EVENT',\n    TRANSFER_EVENT = 'TRANSFER_EVENT',\n    V1_MARKET_EVENT = 'V1_MARKET_EVENT',\n    V2_AUCTION_EVENT = 'V2_AUCTION_EVENT',\n    V3_ASK_EVENT = 'V3_ASK_EVENT',\n    V3_RESERVE_AUCTION_EVENT = 'V3_RESERVE_AUCTION_EVENT',\n}\n\nenum SaleType {\n    FOUNDATION_SALE = 'FOUNDATION_SALE',\n    NOUNS_AUCTION_SALE = 'NOUNS_AUCTION_SALE',\n    LIL_NOUNS_AUCTION_SALE = 'LIL_NOUNS_AUCTION_SALE',\n    CRYPTOPUNKS_SALE = 'CRYPTOPUNKS_SALE',\n    LOOKS_RARE_SALE = 'LOOKS_RARE_SALE',\n    OPENSEA_SINGLE_SALE = 'OPENSEA_SINGLE_SALE',\n    OPENSEA_BUNDLE_SALE = 'OPENSEA_BUNDLE_SALE',\n    RARIBLE_SALE = 'RARIBLE_SALE',\n    SEAPORT_SALE = 'SEAPORT_SALE',\n    SUPERRARE_SALE = 'SUPERRARE_SALE',\n    ZEROX_SALE = 'ZEROX_SALE',\n    ZORA_V2_AUCTION_SALE = 'ZORA_V2_AUCTION_SALE',\n    ZORA_V3_ASK_SALE = 'ZORA_V3_ASK_SALE',\n}\n\nexport interface MintEventProperty {\n    tokenId: string\n    collectionAddress: string\n    originatorAddress: string\n    toAddress: string\n    price: PriceAtTime\n}\n\nexport interface SaleEventProperty {\n    saleContractAddress?: string\n    transactionInfo: Transaction\n    networkInfo: Network\n    buyerAddress: string\n    collectionAddress: string\n    saleType: SaleType\n    price: PriceAtTime\n    sellerAddress: string\n    tokenId: string\n}\n\nexport interface TransferEventProperty {\n    fromAddress: string\n    toAddress: string\n}\n\nexport interface Event<T = unknown> {\n    networkInfo: Network\n    transactionInfo: Transaction\n    eventType: EventType\n    collectionAddress?: string\n    tokenId?: string\n    properties?: T\n}\n","import { gql } from 'graphql-request'\n\nconst CurrencyAmount = gql`\n    raw\n    decimal\n    currency {\n        name\n        address\n        decimals\n    }\n`\n\nconst Page = gql`\n    limit\n    endCursor\n    hasNextPage\n`\n\nconst Network = gql`\n    chain\n`\n\nconst Transaction = gql`\n    blockNumber\n    blockTimestamp\n    transactionHash\n    logIndex\n`\n\nconst Media = gql`\n    url\n    mimeType\n    size\n`\n\nconst Attribute = gql`\n    traitType\n    displayType\n    value\n`\n\nconst Price = gql`\n    blockNumber\n    nativePrice {\n        ${CurrencyAmount}\n    }\n    chainTokenPrice {\n        ${CurrencyAmount}\n    }\n    usdcPrice {\n        ${CurrencyAmount}\n    }\n`\n\nconst Token = gql`\n    tokenId\n    collectionAddress\n    collectionName\n    mintInfo {\n        mintContext {\n            ${Transaction}\n        }\n        originatorAddress\n        toAddress\n        price {\n            ${Price}\n        }\n    }\n    networkInfo {\n        ${Network}\n    }\n    tokenUrl\n    tokenUrlMimeType\n    content {\n        ${Media}\n    }\n    image {\n        ${Media}\n    }\n    owner\n    tokenContract {\n        collectionAddress\n        chain\n        name\n        symbol\n        totalSupply\n        description\n    }\n    name\n    description\n    metadata\n    attributes {\n        ${Attribute}\n    }\n`\n\nconst Event = gql`\n    networkInfo {\n        ${Network}\n    }\n    transactionInfo {\n        ${Transaction}\n    }\n    eventType\n    collectionAddress\n    tokenId\n    properties {\n        ... on MintEvent {\n            originatorAddress\n            toAddress\n            price {\n                ${Price}\n            }\n        }\n        ... on Sale {\n            transactionInfo {\n                ${Transaction}\n            }\n            networkInfo {\n                ${Network}\n            }\n            buyerAddress\n            saleType\n            price {\n                ${Price}\n            }\n            sellerAddress\n        }\n        ... on TransferEvent {\n            fromAddress\n            toAddress\n        }\n        ... on V3AskEvent {\n            address\n            properties {\n                ... on V3AskCreatedEventProperties {\n                    seller\n                    sellerFundsRecipient\n                    askCurrency\n                    askPrice\n                    findersFeeBps\n                    price {\n                        ${Price}\n                    }\n                }\n            }\n        }\n    }\n`\n\nexport const GetTokenQuery = gql`\n    query getToken($address: String!, $tokenId: String!) {\n        token(\n            token: {\n                address: $address,\n                tokenId: $tokenId\n            }\n        ) {\n            token {\n                ${Token}\n            }\n        }\n    }\n`\n\nexport const GetEventsQuery = gql`\n    query getEvents($address: String!, $tokenId: String!, $eventTypes: [EventType!], $size: Int = 20) {\n        events(\n            filter: {\n                eventTypes: $eventTypes\n            },\n            pagination: {\n                limit: $size\n            },\n            where: {\n                tokens: [\n                    {\n                        address: $address,\n                        tokenId: $tokenId\n                    }\n                ]\n            }\n        ) {\n            nodes {\n                ${Event}\n            }\n            pageInfo {\n                ${Page}\n            }\n        }\n    }\n`\n","import { resolveCrossOriginURL } from '@masknet/web3-shared-base'\n\nexport const ZORA_MAINNET_GRAPHQL_URL = resolveCrossOriginURL('https://api.zora.co/graphql')\n","import urlcat from 'urlcat'\nimport { GraphQLClient, type Variables } from 'graphql-request'\nimport {\n    createIndicator,\n    createNextIndicator,\n    createPageable,\n    type PageIndicator,\n    type Pageable,\n    EMPTY_LIST,\n} from '@masknet/shared-base'\nimport {\n    CurrencyType,\n    type NonFungibleAsset,\n    type NonFungibleTokenEvent,\n    SourceType,\n    TokenType,\n} from '@masknet/web3-shared-base'\nimport { ChainId, SchemaType, isValidChainId } from '@masknet/web3-shared-evm'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport {\n    type Event,\n    EventType,\n    type MintEventProperty,\n    type SaleEventProperty,\n    type Token,\n    type TransferEventProperty,\n} from './types.js'\nimport { GetEventsQuery, GetTokenQuery } from './queries.js'\nimport { ZORA_MAINNET_GRAPHQL_URL } from './constants.js'\nimport { getAssetFullName } from '../helpers/getAssetFullName.js'\nimport { resolveActivityType } from '../helpers/resolveActivityType.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../entry-types.js'\n\nclass ZoraAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    private client = new GraphQLClient(ZORA_MAINNET_GRAPHQL_URL)\n\n    private createZoraLink(address: string, tokenId: string) {\n        return urlcat('https://zora.co/collections/:address/:tokenId', {\n            address,\n            tokenId,\n        })\n    }\n\n    private async request<T>(chainId: ChainId, query: string, parameters: Variables) {\n        if (chainId !== ChainId.Mainnet) return\n        const response = await this.client.request<T>(query, parameters)\n        return response as T\n    }\n\n    private createNonFungibleAssetFromToken(chainId: ChainId, token: Token): NonFungibleAsset<ChainId, SchemaType> {\n        const shared = {\n            chainId,\n            address: token.tokenContract?.collectionAddress ?? token.collectionAddress,\n            name: token.tokenContract?.name ?? token.collectionName ?? '',\n            symbol: token.tokenContract?.symbol ?? 'UNKNOWN',\n            schema: SchemaType.ERC721,\n        }\n        return {\n            id: `${token.collectionAddress}_${token.tokenId}`,\n            chainId,\n            type: TokenType.NonFungible,\n            schema: SchemaType.ERC721,\n            link: this.createZoraLink(token.collectionAddress, token.tokenId),\n            address: token.collectionAddress,\n            tokenId: token.tokenId,\n            contract: {\n                ...shared,\n                owner: token.owner,\n            },\n            collection: {\n                ...shared,\n                slug: token.tokenContract?.symbol ?? 'UNKNOWN',\n                description: token.tokenContract?.description ?? token.description,\n            },\n            metadata: {\n                ...shared,\n                name: getAssetFullName(shared.address, shared.name ?? '', token.name, token.tokenId),\n            },\n            traits:\n                token.attributes\n                    ?.filter((x) => x.traitType && x.value)\n                    .map((x) => ({\n                        type: x.traitType!,\n                        value: x.value!,\n                    })) ?? EMPTY_LIST,\n            price: token.mintInfo?.price.usdcPrice?.raw\n                ? {\n                      [CurrencyType.USD]: token.mintInfo?.price.usdcPrice?.raw,\n                  }\n                : undefined,\n            priceInToken: token.mintInfo?.price.nativePrice.raw\n                ? {\n                      amount: token.mintInfo?.price.nativePrice.raw,\n                      token: ChainResolver.nativeCurrency(chainId),\n                  }\n                : undefined,\n            owner: token.owner\n                ? {\n                      address: token.owner,\n                  }\n                : undefined,\n            ownerId: token.owner,\n            source: SourceType.Zora,\n        }\n    }\n\n    private createNonFungibleEventFromEvent(\n        chainId: ChainId,\n        event: Event<MintEventProperty | SaleEventProperty | TransferEventProperty>,\n    ): NonFungibleTokenEvent<ChainId, SchemaType> {\n        const pair = (() => {\n            const mintEventProperty = event.properties as MintEventProperty\n            if (mintEventProperty.originatorAddress && mintEventProperty.toAddress)\n                return {\n                    from: mintEventProperty.originatorAddress,\n                    to: mintEventProperty.toAddress,\n                }\n\n            const saleEventProperty = event.properties as SaleEventProperty\n            if (saleEventProperty.buyerAddress && saleEventProperty.sellerAddress)\n                return {\n                    from: saleEventProperty.sellerAddress,\n                    to: saleEventProperty.buyerAddress,\n                }\n\n            const transferEventProperty = event.properties as TransferEventProperty\n            if (transferEventProperty.fromAddress && transferEventProperty.toAddress) {\n                return {\n                    from: transferEventProperty.fromAddress,\n                    to: transferEventProperty.toAddress,\n                }\n            }\n            return\n        })()\n\n        const price = (() => {\n            const mintEventProperty = event.properties as MintEventProperty\n            const saleEventProperty = event.properties as SaleEventProperty\n            const price = mintEventProperty.price || saleEventProperty.price\n            if (price.usdcPrice)\n                return {\n                    price: price.usdcPrice?.raw\n                        ? {\n                              [CurrencyType.USD]: price.usdcPrice?.raw,\n                          }\n                        : undefined,\n                    priceInToken: price.nativePrice.raw\n                        ? {\n                              amount: price.nativePrice.raw,\n                              token: ChainResolver.nativeCurrency(chainId),\n                          }\n                        : undefined,\n                }\n            return\n        })()\n\n        return {\n            id: event.transactionInfo.transactionHash ?? `${event.transactionInfo.blockNumber}_${event.tokenId}`,\n            type: resolveActivityType(event.eventType),\n            chainId,\n            quantity: '1',\n            from: {\n                address: pair?.from,\n            },\n            to: {\n                address: pair?.to,\n            },\n            timestamp: new Date(event.transactionInfo.blockTimestamp).getTime(),\n            hash: event.transactionInfo.transactionHash,\n            ...price,\n            source: SourceType.Zora,\n        }\n    }\n\n    private createPageable<T>(items: T[], indicator?: PageIndicator) {\n        return createPageable(\n            items,\n            createIndicator(indicator),\n            items.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getAsset(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const token = await this.request<{\n            token: {\n                token: Token\n            }\n        }>(chainId, GetTokenQuery, {\n            address,\n            tokenId,\n        })\n        if (!token) return\n        return this.createNonFungibleAssetFromToken(ChainId.Mainnet, token.token.token)\n    }\n\n    async getAssets(\n        account: string,\n        options?: HubOptions_Base<ChainId>,\n    ): Promise<Pageable<NonFungibleAsset<ChainId, SchemaType>>> {\n        throw new Error('Method not implemented.')\n    }\n\n    private async getEventsFiltered<T>(chainId: ChainId, address: string, tokenId: string, eventTypes: EventType[]) {\n        if (!isValidChainId(chainId)) return []\n        const response = await this.request<{\n            events: {\n                nodes: Array<Event<T>>\n            }\n        }>(chainId, GetEventsQuery, {\n            address,\n            tokenId,\n            eventTypes,\n        })\n        return response?.events.nodes ?? EMPTY_LIST\n    }\n\n    async getEvents(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const events = await this.getEventsFiltered<MintEventProperty | SaleEventProperty | TransferEventProperty>(\n            chainId,\n            address,\n            tokenId,\n            [EventType.MINT_EVENT, EventType.SALE_EVENT, EventType.TRANSFER_EVENT],\n        )\n        const events_ = events.length ? events.map((x) => this.createNonFungibleEventFromEvent(chainId, x)) : EMPTY_LIST\n        return this.createPageable(events_, indicator)\n    }\n}\nexport const Zora = new ZoraAPI()\n","import { SourceType } from '@masknet/web3-shared-base'\nimport {\n    ChainId,\n    type SchemaType,\n    type ProviderType,\n    type NetworkType,\n    type MessageRequest,\n    type MessageResponse,\n    type Transaction,\n    type TransactionParameter,\n} from '@masknet/web3-shared-evm'\nimport { HubNonFungibleAPI_Base } from '../../Base/apis/HubNonFungibleAPI.js'\nimport { HubOptionsAPI } from './HubOptionsAPI.js'\nimport type { HubOptions } from '../types/index.js'\nimport type { AuthorizationAPI, NonFungibleTokenAPI, TokenListAPI } from '../../../entry-types.js'\nimport { AlchemyEVM } from '../../../Alchemy/index.js'\nimport { ApprovalAPI } from '../../../Approval/index.js'\nimport { ChainbaseNonFungibleToken } from '../../../Chainbase/index.js'\nimport { Gem } from '../../../Gem/index.js'\nimport { GoPlusAuthorization } from '../../../GoPlusLabs/index.js'\nimport { NFTScanNonFungibleTokenEVM } from '../../../NFTScan/index.js'\nimport { OpenSea } from '../../../OpenSea/index.js'\nimport { R2D2TokenList } from '../../../R2D2/index.js'\nimport { Rabby } from '../../../Rabby/index.js'\nimport { SimpleHashEVM } from '../../../SimpleHash/index.js'\nimport { X2Y2 } from '../../../X2Y2/index.js'\nimport { ZerionNonFungibleToken } from '../../../Zerion/index.js'\nimport { Zora } from '../../../Zora/index.js'\n\nexport class HubNonFungibleAPI extends HubNonFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    private Approval_ = new ApprovalAPI()\n    protected override HubOptions = new HubOptionsAPI(this.options)\n\n    protected override getProviders(initial?: HubOptions) {\n        const options = this.HubOptions.fill(initial)\n        return this.getPredicateProviders<\n            | AuthorizationAPI.Provider<ChainId>\n            | NonFungibleTokenAPI.Provider<ChainId, SchemaType>\n            | TokenListAPI.Provider<ChainId, SchemaType>\n        >(\n            {\n                [SourceType.X2Y2]: X2Y2,\n                [SourceType.Chainbase]: ChainbaseNonFungibleToken,\n                [SourceType.Zerion]: ZerionNonFungibleToken,\n                [SourceType.NFTScan]: NFTScanNonFungibleTokenEVM,\n                [SourceType.OpenSea]: OpenSea,\n                [SourceType.Approval]: this.Approval_,\n                [SourceType.Alchemy_EVM]: AlchemyEVM,\n                [SourceType.Zora]: Zora,\n                [SourceType.Gem]: Gem,\n                [SourceType.GoPlus]: GoPlusAuthorization,\n                [SourceType.Rabby]: Rabby,\n                [SourceType.R2D2]: R2D2TokenList,\n                [SourceType.SimpleHash]: SimpleHashEVM,\n            },\n            options.chainId === ChainId.Mainnet\n                ? [\n                      X2Y2,\n                      SimpleHashEVM,\n                      NFTScanNonFungibleTokenEVM,\n                      ZerionNonFungibleToken,\n                      OpenSea,\n                      AlchemyEVM,\n                      Zora,\n                      Gem,\n                      this.Approval_,\n                      GoPlusAuthorization,\n                      Rabby,\n                      R2D2TokenList,\n                  ]\n                : [\n                      SimpleHashEVM,\n                      NFTScanNonFungibleTokenEVM,\n                      ZerionNonFungibleToken,\n                      AlchemyEVM,\n                      OpenSea,\n                      Zora,\n                      this.Approval_,\n                      Gem,\n                      GoPlusAuthorization,\n                      Rabby,\n                      R2D2TokenList,\n                  ],\n            initial,\n        )\n    }\n}\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-evm'\nimport { HubOptionsAPI_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport { Web3StateRef } from './Web3StateAPI.js'\nimport { OthersAPI } from './OthersAPI.js'\n\nexport class HubOptionsAPI extends HubOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    override get Web3StateRef() {\n        return Web3StateRef\n    }\n\n    override get Web3Others() {\n        return new OthersAPI()\n    }\n}\n","import { sha3, toHex } from 'web3-utils'\nimport type { Transaction, ChainId } from '../types/index.js'\n\nexport function getTransactionSignature(chainId?: ChainId, transaction?: Partial<Transaction>) {\n    if (!chainId || !transaction) return\n    const { from, to, data, value } = transaction\n    return sha3([chainId, from, to, data || '0x0', toHex((value as string) || '0x0') || '0x0'].join('_')) ?? undefined\n}\n","import { createFungibleToken, createNonFungibleToken } from '@masknet/web3-shared-base'\nimport {\n    isValidDomain,\n    isValidAddress,\n    isZeroAddress,\n    isNativeTokenAddress,\n    isNativeTokenSchemaType,\n    isFungibleTokenSchemaType,\n    isNonFungibleTokenSchemaType,\n    formatEthereumAddress,\n    formatDomainName,\n    formatTokenId,\n    getTransactionSignature,\n    type ChainId,\n    type ProviderType,\n    type NetworkType,\n    type Transaction,\n    type SchemaType,\n    getNetworkPluginID,\n    getDefaultChainId,\n    getInvalidChainId,\n    getDefaultNetworkType,\n    getDefaultProviderType,\n    getZeroAddress,\n    getMaskTokenAddress,\n    getNativeTokenAddress,\n    getAverageBlockDelay,\n    formatSchemaType,\n    isValidChainId,\n} from '@masknet/web3-shared-evm'\nimport { OthersAPI_Base } from '../../Base/apis/OthersAPI.js'\nimport { ChainResolver, ExplorerResolver, ProviderResolver, NetworkResolver } from './ResolverAPI.js'\n\nexport class OthersAPI extends OthersAPI_Base<ChainId, SchemaType, ProviderType, NetworkType, Transaction> {\n    override chainResolver: typeof ChainResolver = ChainResolver\n    override explorerResolver: typeof ExplorerResolver = ExplorerResolver\n    override providerResolver: typeof ProviderResolver = ProviderResolver\n    override networkResolver: typeof NetworkResolver = NetworkResolver\n\n    override isValidDomain = isValidDomain\n    override isValidChainId = isValidChainId\n    override isValidAddress = isValidAddress\n    override isZeroAddress = isZeroAddress\n    override isNativeTokenAddress = isNativeTokenAddress\n    override isNativeTokenSchemaType = isNativeTokenSchemaType\n    override isFungibleTokenSchemaType = isFungibleTokenSchemaType\n    override isNonFungibleTokenSchemaType = isNonFungibleTokenSchemaType\n\n    override getNetworkPluginID = getNetworkPluginID\n    override getDefaultChainId = getDefaultChainId\n    override getInvalidChainId = getInvalidChainId\n    override getDefaultNetworkType = getDefaultNetworkType\n    override getDefaultProviderType = getDefaultProviderType\n    override getZeroAddress = getZeroAddress\n    override getMaskTokenAddress = getMaskTokenAddress\n    override getNativeTokenAddress = getNativeTokenAddress\n    override getTransactionSignature = getTransactionSignature\n    override getAverageBlockDelay = getAverageBlockDelay\n\n    override formatAddress = formatEthereumAddress\n    override formatTokenId = formatTokenId\n    override formatDomainName = formatDomainName\n    override formatSchemaType = formatSchemaType\n    override createNativeToken = (chainId: ChainId) => ChainResolver.nativeCurrency(chainId)\n    override createFungibleToken = createFungibleToken\n    override createNonFungibleToken = createNonFungibleToken\n}\n","export interface Middleware<Context> {\n    fn: (context: Context, next: () => Promise<void>) => Promise<void>\n}\n\nexport interface Translator<Context> {\n    encode?(context: Context): Promise<void>\n    decode?(context: Context): Promise<void>\n}\n\nexport class Composer<T> {\n    private items: Array<Middleware<T>> = []\n\n    private compose() {\n        return (context: T, next: () => Promise<void>) => {\n            let index = -1\n            const dispatch = (i: number): Promise<void> => {\n                if (i <= index) return Promise.reject(new Error('next() called multiple times'))\n                index = i\n                let fn\n                if (i >= this.items.length) fn = next\n                else fn = this.items[i].fn.bind(this.items[i])\n                if (!fn) return Promise.resolve()\n                try {\n                    return Promise.resolve(fn(context, dispatch.bind(null, i + 1)))\n                } catch (err) {\n                    return Promise.reject(err)\n                }\n            }\n\n            return dispatch(0)\n        }\n    }\n\n    /**\n     * Use a middleware\n     * @param middleware\n     */\n    public use(middleware: Middleware<T>) {\n        this.items.push(middleware)\n    }\n\n    /**\n     * Run all registered middleware\n     * @param context\n     * @param next\n     */\n    public async dispatch(context: T, next: () => Promise<void>) {\n        await this.compose()(context, next)\n    }\n\n    static from<T>(...items: Array<Middleware<T>>) {\n        const composer = new Composer<T>()\n        items.forEach((x) => composer.use(x))\n        return composer\n    }\n}\n","import { toHex } from 'web3-utils'\nimport {\n    type ChainId,\n    EthereumMethodType,\n    ProviderType,\n    type Middleware,\n    checksumAddress,\n} from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { ConnectionReadonlyAPI } from '../apis/ConnectionReadonlyAPI.js'\n\nexport class Nonce implements Middleware<ConnectionContext> {\n    static INITIAL_NONCE = -1\n\n    private Web3 = new ConnectionReadonlyAPI()\n\n    // account address => chainId => nonce\n    private nonces = new Map<string, Map<ChainId, number>>()\n\n    private async syncRemoteNonce(chainId: ChainId, address: string, providerURL?: string, commitment = 0) {\n        const address_ = checksumAddress(address)\n        const addressNonces = this.nonces.get(address_) ?? new Map<ChainId, number>()\n\n        addressNonces.set(\n            chainId,\n            commitment +\n                Math.max(\n                    await this.Web3.getTransactionNonce(address, {\n                        chainId,\n                        providerURL,\n                    }),\n                    addressNonces.get(chainId) ?? Nonce.INITIAL_NONCE,\n                ),\n        )\n\n        // set back into cache\n        this.nonces.set(address_, addressNonces)\n        return addressNonces.get(chainId)!\n    }\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        // set a nonce for Mask wallets\n        if (\n            !context.owner &&\n            context.account &&\n            context.providerType === ProviderType.MaskWallet &&\n            context.method === EthereumMethodType.ETH_SEND_TRANSACTION\n        ) {\n            context.requestArguments = {\n                method: context.method,\n                params: [\n                    {\n                        ...context.config,\n                        nonce: toHex(await this.syncRemoteNonce(context.chainId, context.account, context.providerURL)),\n                    },\n                ],\n            }\n        }\n\n        await next() // send transaction\n\n        if (context.method !== EthereumMethodType.ETH_SEND_TRANSACTION) return\n\n        try {\n            const message = context.error?.message ?? ''\n            const isGeneralErrorNonce = /\\bnonce|transaction\\b/im.test(message) && /\\b(low|high|old)\\b/im.test(message)\n            const isAuroraErrorNonce = message.includes('ERR_INCORRECT_NONCE')\n\n            // if a nonce error was occurred then reset the nonce\n            if (isGeneralErrorNonce || isAuroraErrorNonce)\n                await this.syncRemoteNonce(context.chainId, context.account, context.providerURL)\n            // if a transaction hash was received then commit the nonce\n            else if (!context.error && typeof context.result === 'string')\n                await this.syncRemoteNonce(context.chainId, context.account, context.providerURL, 1)\n        } catch {\n            // to scan the context to determine how to update the local nonce, allow to fail silently\n        }\n    }\n}\n","import { BigNumber } from 'bignumber.js'\nimport { toHex } from 'web3-utils'\nimport { GasOptionType, isLessThan, toFixed } from '@masknet/web3-shared-base'\nimport { ChainId, formatWeiToGwei, PayloadEditor, ProviderType, type Translator } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { HubAPI } from '../apis/HubAPI.js'\nimport { ChainResolver } from '../apis/ResolverAPI.js'\n\nexport class Base implements Translator<ConnectionContext> {\n    private Hub = new HubAPI().create()\n\n    async encode(context: ConnectionContext) {\n        const config = context.config\n        if (!config || PayloadEditor.fromPayload(context.request).readonly) return\n\n        // #region polyfill transaction config\n        try {\n            // add gas margin\n            if (config.gas) {\n                if (context.providerType !== ProviderType.MaskWallet) {\n                    config.gas = toHex(\n                        BigNumber.max(\n                            toHex(config.gas),\n                            context.chainId === ChainId.Optimism ? 25000 : 21000,\n                        ).toFixed(),\n                    )\n                } else {\n                    config.gas = toHex(config.gas)\n                }\n            }\n\n            // add gas price\n            const options = await this.Hub.getGasOptions(context.chainId, {\n                chainId: context.chainId,\n            })\n            const { [GasOptionType.SLOW]: slowOption, [GasOptionType.NORMAL]: normalOption } = options ?? {}\n\n            if (ChainResolver.isFeatureSupported(context.chainId, 'EIP1559')) {\n                delete config.gasPrice\n\n                if (\n                    slowOption?.suggestedMaxFeePerGas &&\n                    normalOption &&\n                    isLessThan(\n                        config.maxPriorityFeePerGas ? formatWeiToGwei(config.maxPriorityFeePerGas) : 0,\n                        slowOption.suggestedMaxPriorityFeePerGas,\n                    )\n                ) {\n                    config.maxFeePerGas = toHex(toFixed(normalOption.suggestedMaxFeePerGas, 0))\n                    config.maxPriorityFeePerGas = toHex(toFixed(normalOption.suggestedMaxPriorityFeePerGas, 0))\n                }\n            } else {\n                delete config.maxFeePerGas\n                delete config.maxPriorityFeePerGas\n\n                if (slowOption && normalOption && isLessThan(config.gasPrice ?? 0, slowOption.suggestedMaxFeePerGas)) {\n                    config.gasPrice = toHex(toFixed(normalOption.suggestedMaxFeePerGas, 0))\n                }\n            }\n        } catch (err) {\n            console.error(err)\n        }\n\n        const overrideMaxFeePerGas = context.requestOptions?.overrides?.maxFeePerGas\n        const overrideMaxPriorityFeePerGas = context.requestOptions?.overrides?.maxPriorityFeePerGas\n        const overrideGasPrice = context.requestOptions?.overrides?.gasPrice\n\n        context.config = {\n            ...config,\n            maxFeePerGas: overrideMaxFeePerGas ? toHex(overrideMaxFeePerGas) : config.maxFeePerGas,\n            maxPriorityFeePerGas: overrideMaxPriorityFeePerGas\n                ? toHex(overrideMaxPriorityFeePerGas)\n                : config.maxPriorityFeePerGas,\n            gasPrice: overrideGasPrice ? toHex(overrideGasPrice) : config.gasPrice,\n        }\n        // #endregion\n    }\n\n    async decode(context: ConnectionContext) {}\n}\n","import { ChainId } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { Base } from './Base.js'\nimport { toHex } from 'web3-utils'\n\nexport class Astar extends Base {\n    override async encode(context: ConnectionContext): Promise<void> {\n        await super.encode(context)\n        if (context.chainId !== ChainId.Astar) return\n        if (!context.config) return\n\n        context.config = {\n            ...context.config,\n            maxFeePerGas: context.config.maxFeePerGas ? toHex(context.config.maxFeePerGas) : undefined,\n            maxPriorityFeePerGas: context.config.maxPriorityFeePerGas\n                ? toHex(context.config.maxPriorityFeePerGas)\n                : undefined,\n            // rpc hack, alchemy rpc must pass gas parameter\n            gas: '0x135168',\n        }\n    }\n}\n","import { EthereumMethodType, PayloadEditor, ProviderType } from '@masknet/web3-shared-evm'\nimport { Base } from './Base.js'\nimport { ConnectionReadonlyAPI } from '../apis/ConnectionReadonlyAPI.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\n\nexport class Polygon extends Base {\n    private Web3 = new ConnectionReadonlyAPI()\n\n    override async encode(context: ConnectionContext): Promise<void> {\n        await super.encode(context)\n        if (!context.config) return\n\n        // the current version of metamask doesn't support polygon with EIP1559\n        if (context.providerType !== ProviderType.MetaMask) return\n\n        if (context.method !== EthereumMethodType.ETH_SEND_TRANSACTION) return\n\n        const config = {\n            ...context.config,\n            // keep the legacy gasPrice\n            ...(PayloadEditor.fromPayload(context.request)\n                ? {}\n                : {\n                      gasPrice: context.config.gasPrice ?? (await this.Web3.getGasPrice({ chainId: context.chainId })),\n                  }),\n        }\n\n        delete config.maxFeePerGas\n        delete config.maxPriorityFeePerGas\n\n        context.config = config\n    }\n}\n","import { ChainId, type Middleware, type Translator as Translator_ } from '@masknet/web3-shared-evm'\nimport { Base } from '../translators/Base.js'\nimport { Astar } from '../translators/Astar.js'\nimport { Polygon } from '../translators/Polygon.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\n\n/**\n * JSON RPC transactor for EVM chains.\n */\nexport class Translator implements Middleware<ConnectionContext> {\n    private base = new Base()\n\n    private translators: Partial<Record<ChainId, Translator_<ConnectionContext>>> = {\n        [ChainId.Astar]: new Astar(),\n        [ChainId.Matic]: new Polygon(),\n    }\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        const translator = this.translators[context.chainId] ?? this.base\n        if (translator.encode) await translator.encode(context)\n        await next()\n        if (translator.decode) await translator.decode(context)\n    }\n}\n","import type { Middleware } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\n\nexport class NoneWallet implements Middleware<ConnectionContext> {\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        if (context.risky) {\n            context.abort(new Error('No allowed.'))\n        }\n        await next()\n    }\n}\n","import { toHex } from 'web3-utils'\nimport type { Wallet } from '@masknet/shared-base'\nimport { EthereumMethodType, type Middleware, ProviderType, isValidAddress } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { Providers } from '../providers/index.js'\nimport type { BaseContractWalletProvider } from '../providers/BaseContractWallet.js'\n\nexport class MaskWallet implements Middleware<ConnectionContext> {\n    private get walletProvider() {\n        return Providers[ProviderType.MaskWallet]\n    }\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        if (!context.writeable) {\n            await next()\n            return\n        }\n\n        const provider = Providers.Maskbook as BaseContractWalletProvider\n\n        switch (context.request.method) {\n            case EthereumMethodType.ETH_CHAIN_ID:\n                context.write(toHex(provider.hostedChainId))\n                break\n            case EthereumMethodType.ETH_ACCOUNTS:\n                context.write([provider.hostedAccount])\n                break\n            case EthereumMethodType.MASK_WALLETS:\n                try {\n                    context.write(this.walletProvider.subscription.wallets.getCurrentValue())\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_ADD_WALLET:\n                try {\n                    if (!context.wallet) throw new Error('No wallet to be added.')\n                    await this.walletProvider.addWallet(context.wallet)\n                    context.write()\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_UPDATE_WALLET:\n                try {\n                    const [address, updates] = context.requestArguments.params as [string, Wallet]\n                    if (!isValidAddress(address)) throw new Error('Not a valid wallet address.')\n                    await this.walletProvider.updateWallet(address, updates)\n                    context.write()\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_RENAME_WALLET:\n                try {\n                    const [address, name] = context.requestArguments.params as [string, string]\n                    if (!isValidAddress(address)) throw new Error('Not a valid wallet address.')\n                    await this.walletProvider.renameWallet(address, name)\n                    context.write()\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_REMOVE_WALLET:\n                try {\n                    const [address, password] = context.requestArguments.params as [string, string | undefined]\n                    if (!isValidAddress(address)) throw new Error('Not a valid wallet address.')\n                    await this.walletProvider.removeWallet(address, password)\n                    context.write()\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_UPDATE_WALLETS:\n                try {\n                    const wallets = context.requestArguments.params as Wallet[]\n                    if (wallets.some((x) => !isValidAddress(x.address))) throw new Error('Not a valid wallet address.')\n                    await this.walletProvider.updateWallets(wallets)\n                    context.write()\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_REMOVE_WALLETS:\n                try {\n                    const wallets = context.requestArguments.params as Wallet[]\n                    if (wallets.some((x) => !isValidAddress(x.address))) throw new Error('Not a valid wallet address.')\n                    await this.walletProvider.removeWallets(wallets)\n                    context.write()\n                } catch (error) {\n                    context.abort(context)\n                }\n                break\n            case EthereumMethodType.MASK_RESET_ALL_WALLETS:\n                try {\n                    await this.walletProvider.resetAllWallets()\n                    context.write()\n                } catch (error) {\n                    context.abort(context)\n                }\n                break\n            default:\n                break\n        }\n        await next()\n    }\n}\n","import { toHex } from 'web3-utils'\nimport { EthereumMethodType, type Middleware } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\n\nexport class WalletConnect implements Middleware<ConnectionContext> {\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        switch (context.request.method) {\n            case EthereumMethodType.PERSONAL_SIGN:\n                context.requestArguments = {\n                    ...context.requestArguments,\n                    params: [...context.requestArguments.params.slice(0, 2), ''],\n                }\n                break\n            default:\n                break\n        }\n\n        await next()\n\n        switch (context.request.method) {\n            case EthereumMethodType.ETH_CHAIN_ID:\n                if (typeof context.result === 'number') {\n                    context.result = toHex(context.result)\n                }\n                break\n            default:\n                break\n        }\n    }\n}\n","import { EthereumMethodType, PayloadEditor, type Middleware, type ProviderType } from '@masknet/web3-shared-evm'\nimport { ConnectionAPI } from '../apis/ConnectionAPI.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\n\nexport class MetaMaskLike implements Middleware<ConnectionContext> {\n    constructor(providerType: ProviderType) {\n        this.Web3 = new ConnectionAPI({ providerType })\n    }\n    private Web3\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        // Evoke the unlock popup when metamask-like is locked before send transaction or sign message.\n        if (PayloadEditor.fromPayload(context.request).risky) {\n            await this.Web3.connect(context.requestOptions)\n        }\n\n        switch (context.request.method) {\n            case EthereumMethodType.PERSONAL_SIGN:\n                context.requestArguments = {\n                    ...context.requestArguments,\n                    params: [...context.requestArguments.params.slice(0, 2), ''],\n                }\n                break\n            case EthereumMethodType.ETH_SEND_TRANSACTION:\n                const currentChainId = await this.Web3.getChainId()\n                if (currentChainId !== context.chainId) {\n                    await this.Web3.connect({\n                        chainId: context.chainId,\n                    })\n                }\n                break\n            default:\n                break\n        }\n        await next()\n    }\n}\n","import { EthereumMethodType, type Middleware } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\n\nexport class Fortmatic implements Middleware<ConnectionContext> {\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        switch (context.request.method) {\n            case EthereumMethodType.PERSONAL_SIGN:\n                context.requestArguments = {\n                    ...context.requestArguments,\n                    params: [...context.requestArguments.params.slice(0, 2), ''],\n                }\n                break\n            default:\n                break\n        }\n        await next()\n    }\n}\n","import { toHex } from 'web3-utils'\nimport { type ECKeyIdentifier, SignType } from '@masknet/shared-base'\nimport {\n    Signer,\n    EthereumMethodType,\n    isValidAddress,\n    type ChainId,\n    type Middleware,\n    type ProviderType,\n    type Transaction,\n    type UserOperation,\n} from '@masknet/web3-shared-evm'\nimport { ConnectionAPI } from '../apis/ConnectionAPI.js'\nimport { ContractReadonlyAPI } from '../apis/ContractReadonlyAPI.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { Providers } from '../providers/index.js'\nimport type { BaseContractWalletProvider } from '../providers/BaseContractWallet.js'\nimport type { BundlerAPI, AbstractAccountAPI, FunderAPI, WalletAPI } from '../../../entry-types.js'\n\nexport class ContractWallet implements Middleware<ConnectionContext> {\n    private Web3 = new ConnectionAPI()\n    private Contract = new ContractReadonlyAPI()\n\n    constructor(\n        protected providerType: ProviderType,\n        protected account: AbstractAccountAPI.Provider<ChainId, UserOperation, Transaction>,\n        protected bundler: BundlerAPI.Provider,\n        protected funder: FunderAPI.Provider<ChainId>,\n        private signWithPersona: WalletAPI.IOContext['signWithPersona'],\n    ) {}\n\n    private async getNonce(context: ConnectionContext) {\n        const contract = this.Contract.getWalletContract(context.account)\n        if (!contract) throw new Error('Failed to create wallet contract.')\n        return contract.methods.nonce().call()\n    }\n\n    private getSigner(context: ConnectionContext) {\n        if (context.identifier)\n            return new Signer(\n                context.identifier,\n                async <T>(type: SignType, message: T, identifier?: ECKeyIdentifier) => {\n                    return this.signWithPersona(type, message, identifier, true)\n                },\n            )\n        if (context.owner)\n            return new Signer(context.owner, (type: SignType, message: string | Transaction, account: string) => {\n                switch (type) {\n                    case SignType.Message:\n                        return this.Web3.signMessage('message', message as string, {\n                            account,\n                            providerType: this.providerType,\n                        })\n                    case SignType.TypedData:\n                        return this.Web3.signMessage('typedData', message as string, {\n                            account,\n                            providerType: this.providerType,\n                        })\n                    case SignType.Transaction:\n                        return this.Web3.signTransaction(message as Transaction, {\n                            account,\n                            providerType: this.providerType,\n                        })\n                    default:\n                        throw new Error('Unknown sign method.')\n                }\n            })\n        throw new Error('Failed to create signer.')\n    }\n\n    private async send(context: ConnectionContext): Promise<string> {\n        if (!context.owner) throw new Error('No owner.')\n        if (context.userOperation)\n            return this.account.sendUserOperation(\n                context.chainId,\n                context.owner,\n                context.userOperation,\n                this.getSigner(context),\n                {\n                    paymentToken: context.paymentToken,\n                },\n            )\n        if (context.config)\n            return this.account.sendTransaction(\n                context.chainId,\n                context.owner,\n                context.config,\n                this.getSigner(context),\n                {\n                    paymentToken: context.paymentToken,\n                },\n            )\n        throw new Error('No user operation to be sent.')\n    }\n\n    private estimate(context: ConnectionContext): Promise<string> {\n        if (context.userOperation)\n            return this.account.estimateUserOperation(context.chainId, context.userOperation, {\n                paymentToken: context.paymentToken,\n            })\n        if (context.config)\n            return this.account.estimateTransaction(context.chainId, context.config, {\n                paymentToken: context.paymentToken,\n            })\n        throw new Error('No user operation to be estimated.')\n    }\n\n    private async fund(context: ConnectionContext) {\n        if (!context.proof) throw new Error('No proof.')\n        return this.funder.fund(context.chainId, context.proof)\n    }\n\n    private async deploy(context: ConnectionContext) {\n        if (!context.owner) throw new Error('No owner.')\n        return this.account.deploy(context.chainId, context.owner, this.getSigner(context))\n    }\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        if (!context.writeable) {\n            await next()\n            return\n        }\n\n        const provider = Providers[context.providerType] as BaseContractWalletProvider | undefined\n\n        // not a SC wallet provider\n        if (!provider?.ownerAccount && !context.owner) {\n            await next()\n            return\n        }\n\n        switch (context.request.method) {\n            case EthereumMethodType.ETH_CHAIN_ID:\n                context.write(provider?.hostedChainId ? toHex(provider?.hostedChainId) : undefined)\n                break\n            case EthereumMethodType.ETH_ACCOUNTS:\n                if (isValidAddress(provider?.hostedAccount)) {\n                    context.write([provider?.hostedAccount])\n                } else {\n                    context.abort(new Error('Please connect a wallet.'))\n                }\n                break\n            case EthereumMethodType.ETH_GET_TRANSACTION_COUNT:\n                try {\n                    context.write(await this.getNonce(context))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_SEND_TRANSACTION:\n                try {\n                    context.write(await this.send(context))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_SEND_USER_OPERATION:\n                try {\n                    context.write(await this.send(context))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_SUPPORTED_CHAIN_IDS:\n                try {\n                    context.write([await this.bundler.getSupportedChainId()])\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_SUPPORTED_ENTRY_POINTS:\n                try {\n                    context.write(await this.bundler.getSupportedEntryPoints(context.chainId))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_ESTIMATE_GAS:\n                try {\n                    context.write(await this.estimate(context))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_SIGN:\n            case EthereumMethodType.PERSONAL_SIGN:\n                try {\n                    if (!context.message) throw new Error('Invalid message.')\n                    context.write(await this.getSigner(context).signMessage(context.message))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_SIGN_TYPED_DATA:\n                try {\n                    if (!context.message) throw new Error('Invalid typed data.')\n                    context.write(await this.getSigner(context).signTypedData(context.message))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.ETH_SIGN_TRANSACTION:\n                try {\n                    if (!context.config) throw new Error('Invalid transaction.')\n                    context.write(await this.getSigner(context).signTransaction(context.config))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_FUND:\n                try {\n                    const { message } = await this.fund(context)\n                    if (!isValidAddress(message.walletAddress)) throw new Error('Failed to fund.')\n                    context.write(message.tx)\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.MASK_DEPLOY:\n                try {\n                    context.write(await this.deploy(context))\n                } catch (error) {\n                    context.abort(error)\n                }\n                break\n            case EthereumMethodType.WALLET_SWITCH_ETHEREUM_CHAIN:\n                context.abort(new Error('Not supported by contract wallet.'))\n                break\n            case EthereumMethodType.ETH_SEND_RAW_TRANSACTION:\n                context.abort(new Error('Not supported by contract wallet.'))\n                break\n            default:\n                break\n        }\n\n        await next()\n    }\n}\n","import { BigNumber } from 'bignumber.js'\nimport {\n    ErrorEditor,\n    type Middleware,\n    getMaskTokenAddress,\n    getSmartPayConstants,\n    PayloadEditor,\n    EthereumMethodType,\n    ProviderType,\n    type MessageRequest,\n    type MessageResponse,\n    isNativeTokenAddress,\n    getNativeTokenAddress,\n} from '@masknet/web3-shared-evm'\nimport {\n    MessageStateType,\n    isGreaterThan,\n    isZero,\n    toFixed,\n    type TransferableMessage,\n    isSameURL,\n} from '@masknet/web3-shared-base'\nimport { DepositPaymaster } from '../../../SmartPay/libs/DepositPaymaster.js'\nimport { SmartPayAccountAPI, SmartPayBundler } from '../../../SmartPay/index.js'\nimport { ConnectionReadonlyAPI } from '../apis/ConnectionReadonlyAPI.js'\nimport { ContractReadonlyAPI } from '../apis/ContractReadonlyAPI.js'\nimport { Web3StateRef } from '../apis/Web3StateAPI.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { Providers } from '../providers/index.js'\n\nexport class Popups implements Middleware<ConnectionContext> {\n    private Web3 = new ConnectionReadonlyAPI()\n    private Contract = new ContractReadonlyAPI()\n    private AbstractAccount = new SmartPayAccountAPI()\n\n    private get networks() {\n        if (!Web3StateRef.value?.Network) throw new Error('The web3 state does not load yet.')\n        return Web3StateRef.value.Network.networks?.getCurrentValue()\n    }\n\n    private async getPaymentToken(context: ConnectionContext) {\n        const maskAddress = getMaskTokenAddress(context.chainId)\n        const nativeTokenAddress = getNativeTokenAddress(context.chainId)\n\n        const DEFAULT_PAYMENT_TOKEN_STATE = {\n            allowMaskAsGas: false,\n            paymentToken: nativeTokenAddress,\n        }\n        try {\n            const smartPayChainId = await SmartPayBundler.getSupportedChainId()\n            if (context.chainId !== smartPayChainId || !context.owner)\n                return {\n                    allowMaskAsGas: false,\n                    paymentToken: undefined,\n                }\n\n            const { PAYMASTER_MASK_CONTRACT_ADDRESS } = getSmartPayConstants(context.chainId)\n            if (!PAYMASTER_MASK_CONTRACT_ADDRESS) return DEFAULT_PAYMENT_TOKEN_STATE\n\n            const { signableConfig } = PayloadEditor.fromPayload(context.request, {\n                chainId: context.chainId,\n            })\n\n            if (!signableConfig?.maxFeePerGas) return DEFAULT_PAYMENT_TOKEN_STATE\n\n            const gas = await this.AbstractAccount.estimateTransaction?.(smartPayChainId, signableConfig, {\n                paymentToken: maskAddress,\n            })\n\n            const depositPaymaster = new DepositPaymaster(context.chainId)\n            const ratio = await depositPaymaster.getRatio()\n\n            const maskGasFee = toFixed(\n                new BigNumber(signableConfig.maxFeePerGas)\n                    .multipliedBy(gas ?? 0)\n                    .integerValue()\n                    .multipliedBy(ratio),\n                0,\n            )\n\n            const maskBalance = await this.Web3.getFungibleTokenBalance(maskAddress, undefined, {\n                account: context.account,\n                chainId: context.chainId,\n            })\n\n            const contract = this.Contract.getERC20Contract(maskAddress, { chainId: context.chainId })\n            if (!contract) return DEFAULT_PAYMENT_TOKEN_STATE\n\n            const maskAllowance = await contract.methods\n                .allowance(context.account, PAYMASTER_MASK_CONTRACT_ADDRESS)\n                .call({ from: context.account })\n\n            const availableBalanceTooLow =\n                isGreaterThan(maskGasFee, maskAllowance) || isGreaterThan(maskGasFee, maskBalance)\n\n            const isNative = isNativeTokenAddress(context.paymentToken)\n\n            return {\n                allowMaskAsGas: !availableBalanceTooLow,\n                paymentToken: isNative\n                    ? context.paymentToken\n                    : !availableBalanceTooLow\n                    ? maskAddress\n                    : nativeTokenAddress,\n            }\n        } catch (error) {\n            const nativeBalance = await this.Web3.getNativeTokenBalance({\n                account: context.account,\n                chainId: context.chainId,\n            })\n\n            if (isZero(nativeBalance))\n                return { allowMaskAsGas: true, paymentToken: context.paymentToken ?? maskAddress }\n\n            return DEFAULT_PAYMENT_TOKEN_STATE\n        }\n    }\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        if (!context.risky || !context.writeable) {\n            await next()\n            return\n        }\n\n        try {\n            const MaskProvider = Providers[ProviderType.MaskWallet]\n            const currentChainId = MaskProvider.subscription.chainId.getCurrentValue()\n\n            if (context.method === EthereumMethodType.ETH_SEND_TRANSACTION && currentChainId !== context.chainId) {\n                await MaskProvider.switchChain(context.chainId)\n\n                // if send risky requests to a custom network, the providerURL must be provided.\n                const matchNetworkByProviderURL = this.networks?.find(\n                    (x) => x.isCustomized && isSameURL(x.rpcUrl, context.providerURL),\n                )\n\n                // a built-in network will be matched by chainId\n                const matchNetworkByChainId = this.networks?.find(\n                    (x) => !x.isCustomized && x.chainId === context.chainId,\n                )\n\n                const network = matchNetworkByProviderURL ?? matchNetworkByChainId\n                if (!network)\n                    throw new Error(\n                        'Failed to locate network. The providerURL must be given when sending risky requests to a custom network.',\n                    )\n\n                await Web3StateRef.value.Network?.switchNetwork(network?.ID)\n            }\n\n            if (!Web3StateRef.value.Message) throw new Error('Failed to approve request.')\n\n            const request: TransferableMessage<MessageRequest, MessageResponse> = {\n                state: MessageStateType.NOT_DEPEND,\n                request: {\n                    arguments: context.requestArguments,\n                    options: {\n                        ...(await this.getPaymentToken(context)),\n                        silent: context.silent,\n                        owner: context.owner,\n                        identifier: context.identifier?.toText(),\n                        providerURL: context.providerURL,\n                        gasOptionType: context.gasOptionType,\n                    },\n                },\n            }\n            const { request: updates, response } = await Web3StateRef.value.Message.applyAndWaitResponse(request)\n\n            context.config = {\n                ...context.config,\n                ...updates.arguments.params[0],\n            }\n\n            const editor = ErrorEditor.from(null, response)\n\n            if (editor.presence || !response) {\n                context.abort(editor.error)\n            } else {\n                context.write(response.result)\n            }\n        } catch (error) {\n            context.abort(error)\n        }\n\n        await next()\n    }\n}\n","import { EthereumMethodType } from '../types/index.js'\n\nexport function isMaskOnlyMethodType(type: EthereumMethodType) {\n    return [\n        EthereumMethodType.MASK_DEPLOY,\n        EthereumMethodType.MASK_FUND,\n        EthereumMethodType.MASK_LOGIN,\n        EthereumMethodType.MASK_LOGOUT,\n        EthereumMethodType.MASK_WALLETS,\n        EthereumMethodType.MASK_ADD_WALLET,\n        EthereumMethodType.MASK_UPDATE_WALLET,\n        EthereumMethodType.MASK_RENAME_WALLET,\n        EthereumMethodType.MASK_REMOVE_WALLET,\n        EthereumMethodType.MASK_UPDATE_WALLETS,\n        EthereumMethodType.MASK_REMOVE_WALLETS,\n        EthereumMethodType.MASK_RESET_ALL_WALLETS,\n        EthereumMethodType.MASK_REPLACE_TRANSACTION,\n    ].includes(type)\n}\n","import { noop } from 'lodash-es'\nimport { isSameURL } from '@masknet/web3-shared-base'\nimport { ErrorEditor, isMaskOnlyMethodType, type Middleware } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { Web3StateRef } from '../apis/Web3StateAPI.js'\nimport { ConnectionReadonlyAPI } from '../apis/ConnectionReadonlyAPI.js'\n\nexport class CustomNetwork implements Middleware<ConnectionContext> {\n    private Web3 = new ConnectionReadonlyAPI()\n\n    private get networks() {\n        if (!Web3StateRef.value?.Network) throw new Error('The web3 state does not load yet.')\n        return Web3StateRef.value.Network.networks?.getCurrentValue()\n    }\n\n    private get customNetwork() {\n        if (!Web3StateRef.value?.Network) throw new Error('The web3 state does not load yet.')\n        const network = Web3StateRef.value.Network.network?.getCurrentValue()\n        return network?.isCustomized ? network : undefined\n    }\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        const customNetwork = this.networks?.find((x) => x.isCustomized && isSameURL(x.rpcUrl, context.providerURL))\n        if (!customNetwork || context.risky || !context.writeable || isMaskOnlyMethodType(context.method)) {\n            await next()\n            return\n        }\n\n        try {\n            const response = await this.Web3.getWeb3Provider({\n                chainId: context.chainId,\n                account: context.account,\n                providerURL:\n                    context.providerURL ??\n                    // only attach providerURL when chainId got exactly matched.\n                    (this.customNetwork?.chainId === context.chainId ? this.customNetwork.rpcUrl : undefined),\n            }).sendAsync(context.request, noop)\n\n            const editor = ErrorEditor.from(null, response)\n\n            if (editor.presence) {\n                context.abort(editor.error)\n            } else {\n                context.write(response.result)\n            }\n        } catch (error) {\n            context.abort(error)\n        }\n\n        await next()\n    }\n}\n","import { Composer, type Middleware, ProviderType } from '@masknet/web3-shared-evm'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { NoneWallet } from '../interceptors/None.js'\nimport { MaskWallet } from '../interceptors/MaskWallet.js'\nimport { WalletConnect } from '../interceptors/WalletConnect.js'\nimport { MetaMaskLike } from '../interceptors/MetaMaskLike.js'\nimport { Fortmatic } from '../interceptors/Fortmatic.js'\nimport { ContractWallet } from '../interceptors/ContractWallet.js'\nimport { Popups } from '../interceptors/Popups.js'\nimport { CustomNetwork } from '../interceptors/CustomNetwork.js'\nimport { SmartPayAccountAPI, SmartPayBundler, SmartPayFunderAPI } from '../../../SmartPay/index.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class Interceptor implements Middleware<ConnectionContext> {\n    private Account = new SmartPayAccountAPI()\n    private Funder = new SmartPayFunderAPI()\n    constructor(private signWithPersona: WalletAPI.IOContext['signWithPersona']) {\n        this.composers = {\n            [ProviderType.None]: Composer.from(new NoneWallet()),\n            [ProviderType.MaskWallet]: Composer.from(\n                new Popups(),\n                new CustomNetwork(),\n                new ContractWallet(\n                    ProviderType.MaskWallet,\n                    this.Account,\n                    SmartPayBundler,\n                    this.Funder,\n                    this.signWithPersona,\n                ),\n                new MaskWallet(),\n            ),\n            [ProviderType.MetaMask]: Composer.from(new MetaMaskLike(ProviderType.MetaMask)),\n            [ProviderType.WalletConnect]: Composer.from(new WalletConnect()),\n            [ProviderType.Coin98]: Composer.from(new MetaMaskLike(ProviderType.Coin98)),\n            [ProviderType.Fortmatic]: Composer.from(new Fortmatic()),\n            [ProviderType.Opera]: Composer.from(new MetaMaskLike(ProviderType.Opera)),\n            [ProviderType.Clover]: Composer.from(new MetaMaskLike(ProviderType.Clover)),\n        }\n    }\n    private composers: Partial<Record<ProviderType, Composer<ConnectionContext>>>\n\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        const composer = this.composers[context.providerType]\n        if (!composer || !context.writeable) {\n            await next()\n            return\n        }\n\n        await composer.dispatch(context, next)\n    }\n}\n","import type { TransactionReceipt } from 'web3-core'\nimport { TransactionStatusType } from '@masknet/web3-shared-base'\nimport {\n    EthereumMethodType,\n    type Transaction,\n    type Middleware,\n    getTransactionStatusType,\n} from '@masknet/web3-shared-evm'\nimport { Web3StateRef } from '../apis/Web3StateAPI.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport { UserTransaction } from '../../../SmartPay/libs/UserTransaction.js'\n\nexport class RecentTransaction implements Middleware<ConnectionContext> {\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        // before sending a transaction, we measure the drafted time of such a transaction\n        const draftedAt = new Date()\n\n        await next()\n\n        const { Transaction, BalanceNotifier, BlockNumberNotifier } = Web3StateRef.value\n\n        try {\n            switch (context.method) {\n                case EthereumMethodType.ETH_SEND_TRANSACTION:\n                    const tx = context.result as string\n                    if (!tx || !context.config) return\n                    const account = context.config.from ?? context.account\n                    const chainId = context.config.chainId ?? context.chainId\n                    await Transaction?.addTransaction?.(chainId, account, tx, { ...context.config, draftedAt })\n                    break\n                case EthereumMethodType.MASK_DEPLOY:\n                case EthereumMethodType.MASK_FUND:\n                    const tx_ = context.result as string\n                    if (!tx_ || !context.config) return\n                    await Transaction?.addTransaction?.(context.chainId, '', tx_, {\n                        ...context.config,\n                        from: '',\n                        draftedAt,\n                    })\n                    break\n                case EthereumMethodType.ETH_SEND_USER_OPERATION:\n                    if (!context.userOperation || typeof context.result !== 'string') return\n                    const transaction = UserTransaction.toTransaction(context.chainId, context.userOperation)\n                    await Transaction?.addTransaction?.(context.chainId, context.account, context.result, {\n                        ...transaction,\n                        draftedAt,\n                    })\n                    break\n                case EthereumMethodType.ETH_GET_TRANSACTION_RECEIPT:\n                    const receipt = context.result as TransactionReceipt | null\n                    const status = getTransactionStatusType(receipt)\n                    if (!receipt?.transactionHash || status === TransactionStatusType.NOT_DEPEND) return\n\n                    BalanceNotifier?.emitter.emit('update', {\n                        chainId: context.chainId,\n                        account: receipt.from,\n                    })\n                    // it could be a contract address, but it doesn't matter\n                    BalanceNotifier?.emitter.emit('update', {\n                        chainId: context.chainId,\n                        account: receipt.to,\n                    })\n                    BlockNumberNotifier?.emitter.emit('update', context.chainId)\n                    break\n                case EthereumMethodType.MASK_REPLACE_TRANSACTION:\n                    if (!context.config || typeof context.result !== 'string') return\n                    const [hash] = context.request.params as [string, Transaction]\n                    await Transaction?.replaceTransaction?.(\n                        context.chainId,\n                        context.account,\n                        hash,\n                        context.result,\n                        context.config,\n                    )\n                    break\n            }\n        } catch {\n            // to record tx in the database, allow to fail silently\n        }\n    }\n}\n","import type { RecognizableError } from '@masknet/web3-shared-base'\nimport { EthereumMethodType, type Middleware } from '@masknet/web3-shared-evm'\nimport { Web3StateRef } from '../apis/Web3StateAPI.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\n\nexport class TransactionWatcher implements Middleware<ConnectionContext> {\n    async fn(context: ConnectionContext, next: () => Promise<void>) {\n        await next()\n\n        const failedToSendTransaction =\n            context.error &&\n            [\n                EthereumMethodType.MASK_DEPLOY,\n                EthereumMethodType.MASK_FUND,\n                EthereumMethodType.ETH_SEND_TRANSACTION,\n                EthereumMethodType.ETH_SEND_USER_OPERATION,\n            ].includes(context.method)\n        const failedToEstimateTransaction =\n            (context.error as RecognizableError | null)?.isRecognized &&\n            context.method === EthereumMethodType.ETH_ESTIMATE_GAS\n\n        if (failedToSendTransaction || failedToEstimateTransaction) {\n            await Web3StateRef.value.TransactionWatcher?.notifyError(context.error!, context.request)\n        }\n    }\n}\n","import { Composer } from '@masknet/web3-shared-evm'\nimport { Nonce } from '../middleware/Nonce.js'\nimport { Translator } from '../middleware/Translator.js'\nimport { Interceptor } from '../middleware/Interceptor.js'\nimport { RecentTransaction } from '../middleware/RecentTransaction.js'\nimport { TransactionWatcher } from '../middleware/TransactionWatcher.js'\nimport type { ConnectionContext } from '../libs/ConnectionContext.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class ComposerAPI {\n    private instance: Composer<ConnectionContext> | undefined\n\n    compose(signWithPersona: WalletAPI.IOContext['signWithPersona']) {\n        if (this.instance) return this.instance\n\n        const instance = Composer.from<ConnectionContext>(\n            new Nonce(),\n            new Translator(),\n            new Interceptor(signWithPersona),\n            new RecentTransaction(),\n            new TransactionWatcher(),\n        )\n\n        this.instance = instance\n        return instance\n    }\n}\n","import { omit, omitBy, isUndefined } from 'lodash-es'\nimport type { ECKeyIdentifier } from '@masknet/shared-base'\nimport {\n    ChainId,\n    ErrorEditor,\n    EthereumMethodType,\n    PayloadEditor,\n    ProviderType,\n    createJsonRpcPayload,\n    createJsonRpcResponse,\n    parseChainId,\n    type Transaction,\n    type RequestArguments,\n} from '@masknet/web3-shared-evm'\nimport type { ConnectionOptions } from '../types/index.js'\n\nlet pid = 0\n\nexport class ConnectionContext {\n    private id = 0\n    private _writeable = true\n    private _error: Error | null = null\n    private _result: unknown\n    private _account = ''\n    private _chainId = ChainId.Mainnet\n    private _providerType = ProviderType.MaskWallet\n\n    constructor(\n        private _requestArguments: RequestArguments,\n        private _options?: ConnectionOptions,\n        private _init?: {\n            getDefaultAccount?: (providerType: ProviderType) => string | undefined\n            getDefaultChainId?: (providerType: ProviderType) => ChainId | undefined\n            getDefaultProviderType: () => ProviderType | undefined\n            getDefaultOwner?: (providerType: ProviderType) => string | undefined\n            getDefaultIdentifier?: (providerType: ProviderType) => ECKeyIdentifier | undefined\n        },\n    ) {\n        // increase pid\n        pid += 1\n        this.id = pid\n\n        this._account = this._init?.getDefaultAccount?.(this.providerType) ?? ''\n        this._chainId = this._init?.getDefaultChainId?.(this.providerType) ?? ChainId.Mainnet\n        this._providerType = this._init?.getDefaultProviderType() ?? ProviderType.MaskWallet\n    }\n\n    private get errorEditor() {\n        return ErrorEditor.from(this._error, this.response, 'Failed to send request.')\n    }\n\n    private get payloadEditor() {\n        return PayloadEditor.fromPayload(this.request, this._options)\n    }\n\n    get writeable() {\n        return this._writeable\n    }\n\n    get account() {\n        return this.payloadEditor.from ?? this._options?.overrides?.from ?? this._options?.account ?? this._account\n    }\n\n    get chainId(): ChainId {\n        return (\n            this.payloadEditor.chainId ?? this._options?.overrides?.chainId ?? this._options?.chainId ?? this._chainId\n        )\n    }\n\n    get chainDescriptor() {\n        return this.payloadEditor.chainDescriptor\n    }\n\n    get providerType() {\n        return this.requestOptions?.providerType ?? this._options?.providerType ?? this._providerType\n    }\n\n    get providerURL() {\n        return this.requestOptions.providerURL ?? this._options?.providerURL\n    }\n\n    get method() {\n        return this.request.method as EthereumMethodType\n    }\n\n    get risky() {\n        return this.payloadEditor.risky\n    }\n\n    get message() {\n        return this.payloadEditor.signableMessage\n    }\n\n    get config() {\n        return omitBy<Transaction>(\n            {\n                ...this.payloadEditor.config,\n                ...this._options?.overrides,\n                from: this._options?.overrides?.from || this.payloadEditor.config?.from,\n                chainId: parseChainId(this._options?.overrides?.chainId) ?? this.payloadEditor.config.chainId,\n            },\n            isUndefined,\n        )\n    }\n\n    set config(config: Transaction | undefined) {\n        if (!this.config || !config) return\n        const method = this._requestArguments.method\n\n        switch (method) {\n            case EthereumMethodType.MASK_REPLACE_TRANSACTION:\n                this._requestArguments = {\n                    method: this.method,\n                    params: [this._requestArguments.params[0], config],\n                }\n                break\n            case EthereumMethodType.ETH_SEND_TRANSACTION:\n                const params = this.providerType !== ProviderType.Clover ? config : omit(config, 'chainId')\n                this._requestArguments = {\n                    method: this.method,\n                    params: [params, 'latest'],\n                }\n                break\n            default:\n                break\n        }\n    }\n\n    get wallet() {\n        return this.payloadEditor.wallet\n    }\n\n    get userOperation() {\n        return this.payloadEditor.userOperation\n    }\n\n    get proof() {\n        return this.payloadEditor.proof\n    }\n\n    get requestId() {\n        return this.id\n    }\n\n    /**\n     * Abstract account owner address\n     */\n    get owner() {\n        return this.payloadEditor.owner || this._options?.owner || this._init?.getDefaultOwner?.(this.providerType)\n    }\n\n    /**\n     * Abstract account owner persona public key\n     */\n    get identifier() {\n        return (\n            this.payloadEditor.identifier ||\n            this._options?.identifier ||\n            this._init?.getDefaultIdentifier?.(this.providerType)\n        )\n    }\n\n    get paymentToken() {\n        return this._options?.paymentToken\n    }\n\n    get gasOptionType() {\n        return this._options?.gasOptionType\n    }\n\n    get silent() {\n        return this._options?.silent\n    }\n\n    get requestOptions() {\n        return {\n            ...this._options,\n        }\n    }\n\n    get requestArguments() {\n        return this._requestArguments\n    }\n\n    set requestArguments(requestArguments: RequestArguments) {\n        this._requestArguments = requestArguments\n    }\n\n    /**\n     * JSON RPC request payload\n     */\n    get request() {\n        return createJsonRpcPayload(this.id, this.requestArguments)\n    }\n\n    /**\n     * JSON RPC response object\n     */\n    get response() {\n        if (this._writeable) return\n        return createJsonRpcResponse(this.id, this._result)\n    }\n\n    get error() {\n        if (this._writeable) return null\n        if (this.errorEditor.presence) return this.errorEditor.error\n        return null\n    }\n\n    set error(error: Error | null) {\n        this._error = error\n    }\n\n    get result() {\n        return this._result\n    }\n\n    set result(result: unknown) {\n        this._result = result\n    }\n\n    /**\n     * Resolve a request and write down the result into the context. Alias of end(null, result)\n     */\n    write(result?: unknown) {\n        this.end(null, result)\n    }\n\n    /**\n     * Reject a request and throw an error. Alias of end(error)\n     */\n    abort(error: unknown, fallback = 'Failed to send request.') {\n        this.end((error as Error) || new Error(fallback))\n    }\n\n    /**\n     * Seal a request by resolving or rejecting it.\n     */\n    end(error: Error | null = null, result?: unknown) {\n        if (!this._writeable) return\n        this._writeable = false\n        this.error = error\n        this.result = result\n    }\n\n    toJSON() {\n        return {}\n    }\n}\n","import { ProviderType, ChainId, type RequestArguments } from '@masknet/web3-shared-evm'\nimport { Providers } from '../providers/index.js'\nimport type { BaseContractWalletProvider } from '../providers/BaseContractWallet.js'\nimport { Web3StateRef } from '../apis/Web3StateAPI.js'\nimport { ConnectionContext } from '../libs/ConnectionContext.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nconst initializer = {\n    getDefaultAccount(providerType: ProviderType) {\n        return providerType === ProviderType.MaskWallet ? '' : Web3StateRef.value.Provider?.account?.getCurrentValue()\n    },\n    getDefaultChainId(providerType: ProviderType) {\n        return providerType === ProviderType.MaskWallet\n            ? ChainId.Mainnet\n            : Web3StateRef.value.Provider?.chainId?.getCurrentValue()\n    },\n    getDefaultProviderType() {\n        return Web3StateRef.value.Provider?.providerType?.getCurrentValue()\n    },\n    getDefaultOwner(providerType: ProviderType) {\n        const provider = Providers[providerType] as BaseContractWalletProvider | undefined\n        return provider?.ownerAccount\n    },\n    getDefaultIdentifier(providerType: ProviderType) {\n        const provider = Providers[providerType] as BaseContractWalletProvider | undefined\n        return provider?.ownerIdentifier\n    },\n}\n\nexport function createContext(requestArguments: RequestArguments, options?: ConnectionOptions) {\n    return new ConnectionContext(requestArguments, options, initializer)\n}\n","import { EthereumMethodType, PayloadEditor, type RequestArguments } from '@masknet/web3-shared-evm'\nimport { ComposerAPI } from './ComposerAPI.js'\nimport { Web3StateRef } from './Web3StateAPI.js'\nimport { ConnectionOptionsAPI } from './ConnectionOptionsAPI.js'\nimport { RequestReadonlyAPI } from './RequestReadonlyAPI.js'\nimport { createContext } from '../helpers/createContext.js'\nimport { Providers } from '../providers/index.js'\nimport type { ConnectionOptions } from '../types/index.js'\nimport { createWeb3FromProvider } from '../../../helpers/createWeb3FromProvider.js'\nimport { createWeb3ProviderFromRequest } from '../../../helpers/createWeb3ProviderFromRequest.js'\n\nexport class RequestAPI extends RequestReadonlyAPI {\n    private Composer = new ComposerAPI()\n    private Request = new RequestReadonlyAPI(this.options)\n    protected override ConnectionOptions = new ConnectionOptionsAPI(this.options)\n\n    private get Provider() {\n        if (!Web3StateRef.value.Provider) throw new Error('The web3 state does not load yet.')\n        return Web3StateRef.value.Provider\n    }\n\n    // Hijack RPC requests and process them with koa like middleware\n    override get request() {\n        return <T>(requestArguments: RequestArguments, initial?: ConnectionOptions) => {\n            return new Promise<T>(async (resolve, reject) => {\n                const options = this.ConnectionOptions.fill(initial)\n                const context = createContext(requestArguments, options)\n\n                try {\n                    await this.Composer.compose(this.Provider.signWithPersona).dispatch(context, async () => {\n                        if (!context.writeable) return\n                        try {\n                            switch (context.method) {\n                                case EthereumMethodType.MASK_LOGIN:\n                                    context.write(\n                                        await this.Provider?.connect(\n                                            options.providerType,\n                                            options.chainId,\n                                            options.account,\n                                            options.owner\n                                                ? {\n                                                      account: options.owner,\n                                                      identifier: options.identifier,\n                                                  }\n                                                : undefined,\n                                            options.silent,\n                                        ),\n                                    )\n                                    break\n                                case EthereumMethodType.MASK_LOGOUT:\n                                    context.write(await this.Provider?.disconnect(options.providerType))\n                                    break\n                                default: {\n                                    if (!PayloadEditor.fromPayload(context.request).readonly) {\n                                        const web3Provider = Providers[options.providerType].createWeb3Provider({\n                                            account: options.account,\n                                            chainId: options.chainId,\n                                        })\n\n                                        // send request and set result in the context\n                                        context.write((await web3Provider.request(context.requestArguments)) as T)\n                                    } else {\n                                        context.write(\n                                            await this.Request.request(context.requestArguments, {\n                                                account: options.account,\n                                                chainId: options.chainId,\n                                            }),\n                                        )\n                                    }\n\n                                    break\n                                }\n                            }\n                        } catch (error) {\n                            context.abort(error)\n                        }\n                    })\n                } catch (error) {\n                    context.abort(error)\n                } finally {\n                    if (context.error) reject(context.error)\n                    else resolve(context.result as T)\n                }\n            })\n        }\n    }\n\n    override getWeb3(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        if (options.readonly) return this.Request.getWeb3(options)\n        return createWeb3FromProvider(\n            createWeb3ProviderFromRequest((requestArguments) => this.request(requestArguments, options)),\n        )\n    }\n\n    override getWeb3Provider(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        if (options.readonly) return this.Request.getWeb3Provider(options)\n        return createWeb3ProviderFromRequest((requestArguments) => this.request(requestArguments, options))\n    }\n}\n","import {\n    type ChainId,\n    ProviderURL,\n    type SchemaType,\n    type RequestArguments,\n    type ProviderType,\n    type NetworkType,\n    type MessageRequest,\n    type MessageResponse,\n    type Transaction,\n    type TransactionParameter,\n} from '@masknet/web3-shared-evm'\nimport { ConnectionOptionsReadonlyAPI } from './ConnectionOptionsReadonlyAPI.js'\nimport type { ConnectionOptions } from '../types/index.js'\nimport { createWeb3FromURL } from '../../../helpers/createWeb3FromURL.js'\nimport { createWeb3ProviderFromURL } from '../../../helpers/createWeb3ProviderFromURL.js'\nimport type { ConnectionOptionsAPI_Base } from '../../Base/apis/ConnectionOptionsAPI.js'\n\nexport class RequestReadonlyAPI {\n    constructor(protected options?: ConnectionOptions) {\n        this.ConnectionOptions = new ConnectionOptionsReadonlyAPI(options)\n    }\n    protected ConnectionOptions: ConnectionOptionsAPI_Base<\n        ChainId,\n        SchemaType,\n        ProviderType,\n        NetworkType,\n        MessageRequest,\n        MessageResponse,\n        Transaction,\n        TransactionParameter\n    >\n\n    get request() {\n        return async <T>(requestArguments: RequestArguments, initial?: ConnectionOptions) => {\n            return (await this.getWeb3Provider(initial).request(requestArguments)) as T\n        }\n    }\n\n    getWeb3(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return createWeb3FromURL(options.providerURL ?? ProviderURL.from(options.chainId))\n    }\n\n    getWeb3Provider(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return createWeb3ProviderFromURL(options.providerURL ?? ProviderURL.from(options.chainId))\n    }\n}\n","import {\n    PROVIDER_DESCRIPTORS,\n    NETWORK_DESCRIPTORS,\n    CHAIN_DESCRIPTORS,\n    type ChainId,\n    type SchemaType,\n    type NetworkType,\n    type ProviderType,\n} from '@masknet/web3-shared-evm'\nimport * as State from /* webpackDefer: true */ './Web3StateAPI.js'\nimport { ChainResolverAPI_Base } from '../../Base/apis/ChainResolverAPI.js'\nimport { ExplorerResolverAPI_Base } from '../../Base/apis/ExplorerResolverAPI.js'\nimport { ProviderResolverAPI_Base } from '../../Base/apis/ProviderResolverAPI.js'\nimport { NetworkResolverAPI_Base } from '../../Base/apis/NetworkExplorerAPI.js'\n\nclass ChainResolverAPI extends ChainResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected get descriptors() {\n        if (!State.Web3StateRef.value?.Network?.networks) return CHAIN_DESCRIPTORS\n        return CHAIN_DESCRIPTORS.concat(State.Web3StateRef.value.Network.networks.getCurrentValue())\n    }\n}\n\nclass ExplorerResolverAPI extends ExplorerResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected get descriptors() {\n        if (!State.Web3StateRef.value?.Network?.networks) return CHAIN_DESCRIPTORS\n        return CHAIN_DESCRIPTORS.concat(State.Web3StateRef.value.Network.networks.getCurrentValue())\n    }\n    protected readonly initial = undefined\n}\n\nclass ProviderResolverAPI extends ProviderResolverAPI_Base<ChainId, ProviderType> {\n    protected readonly descriptors = PROVIDER_DESCRIPTORS\n}\n\nclass NetworkResolverAPI extends NetworkResolverAPI_Base<ChainId, NetworkType> {\n    protected readonly descriptors = NETWORK_DESCRIPTORS\n}\n\nexport const ChainResolver = new ChainResolverAPI()\nexport const ExplorerResolver = new ExplorerResolverAPI()\nexport const ProviderResolver = new ProviderResolverAPI()\nexport const NetworkResolver = new NetworkResolverAPI()\n","import { first } from 'lodash-es'\nimport { toHex } from 'web3-utils'\nimport { Emitter } from '@servie/events'\nimport { delay } from '@masknet/kit'\nimport {\n    ChainId,\n    ProviderURL,\n    EthereumMethodType,\n    type ProviderType,\n    type Web3Provider,\n    type RequestArguments,\n    type Web3,\n    isValidChainId,\n} from '@masknet/web3-shared-evm'\nimport { type Account, type Wallet, EMPTY_LIST, createConstantSubscription } from '@masknet/shared-base'\nimport { ChainResolver } from '../apis/ResolverAPI.js'\nimport { createWeb3FromProvider } from '../../../helpers/createWeb3FromProvider.js'\nimport { createWeb3ProviderFromRequest } from '../../../helpers/createWeb3ProviderFromRequest.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class BaseProvider implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {\n    protected context: WalletAPI.IOContext | undefined\n\n    constructor(protected providerType: ProviderType) {}\n\n    public emitter = new Emitter<WalletAPI.ProviderEvents<ChainId, ProviderType>>()\n\n    get subscription() {\n        return {\n            account: createConstantSubscription(''),\n            chainId: createConstantSubscription(ChainId.Mainnet),\n            wallets: createConstantSubscription<Wallet[]>(EMPTY_LIST),\n        }\n    }\n\n    get connected() {\n        return false\n    }\n\n    /**\n     * This field indicates the provider is ready to be set up.\n     * Please make sure that the provider SDK or global environment is ready.\n     * No need to wait by default\n     */\n    get ready() {\n        return true\n    }\n\n    /**\n     * This field indicates the provider is ready to be set up.\n     * Please make sure that the provider SDK or global environment is ready.\n     * No need to wait by default\n     */\n    get readyPromise() {\n        return Promise.resolve()\n    }\n\n    async setup(context?: WalletAPI.IOContext): Promise<void> {\n        if (context) {\n            this.context = context\n            return\n        }\n        throw new Error('Method not implemented.')\n    }\n\n    addWallet(wallet: Wallet): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    updateWallet(address: string, wallet: Wallet): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    renameWallet(address: string, name: string): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    removeWallet(address: string, password?: string | undefined): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    updateWallets(wallets: Wallet[]): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    removeWallets(wallets: Wallet[]): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    resetAllWallets(): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async switchAccount(account?: string | undefined): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    // Switch chain with RPC calls by default\n    async switchChain(chainId: ChainId): Promise<void> {\n        if (!isValidChainId(chainId)) throw new Error('Invalid chain id.')\n\n        try {\n            await this.request({\n                method: EthereumMethodType.WALLET_SWITCH_ETHEREUM_CHAIN,\n                params: [\n                    {\n                        chainId: toHex(chainId),\n                    },\n                ],\n            })\n        } catch (error) {\n            const errorMessage = (error as { message?: string } | undefined)?.message\n\n            // error message if the chain doesn't exist from metamask\n            // Unrecognized chain ID \"xxx\". Try adding the chain using wallet_addEthereumChain first.\n            if (\n                typeof errorMessage === 'string' &&\n                (errorMessage?.includes(EthereumMethodType.WALLET_ADD_ETHEREUM_CHAIN) ||\n                    errorMessage?.includes('addEthereumChain'))\n            ) {\n                await this.request<void>({\n                    method: EthereumMethodType.WALLET_ADD_ETHEREUM_CHAIN,\n                    params: [\n                        {\n                            chainId: toHex(chainId),\n                            chainName: ChainResolver.chainFullName(chainId) ?? ChainResolver.chainName(chainId),\n                            nativeCurrency: ChainResolver.nativeCurrency(chainId),\n                            rpcUrls: [ProviderURL.fromOfficial(chainId)],\n                            blockExplorerUrls: [ChainResolver.explorerUrl(chainId)?.url],\n                        },\n                    ],\n                })\n            } else {\n                throw error\n            }\n        }\n\n        // Delay to make sure the provider will return the newest chain id.\n        await delay(1000)\n\n        const actualChainId = await this.request<string>({\n            method: EthereumMethodType.ETH_CHAIN_ID,\n            params: [],\n        })\n\n        if (Number.parseInt(actualChainId, 16) !== chainId)\n            throw new Error(`Failed to switch to ${ChainResolver.chainFullName(chainId)}.`)\n    }\n\n    // A provider should at least implement a RPC request method.\n    // Then it can be used to create an external provider for web3js.\n    async request<T>(requestArguments: RequestArguments, options?: WalletAPI.ProviderOptions<ChainId>): Promise<T> {\n        throw new Error('Method not implemented.')\n    }\n\n    // Create a web3 instance from the external provider by default.\n    createWeb3(options?: WalletAPI.ProviderOptions<ChainId>) {\n        return createWeb3FromProvider(\n            createWeb3ProviderFromRequest((requestArguments: RequestArguments) =>\n                this.request(requestArguments, options),\n            ),\n        )\n    }\n\n    // Create an external provider from the basic request method.\n    createWeb3Provider(options?: WalletAPI.ProviderOptions<ChainId>) {\n        return createWeb3ProviderFromRequest((requestArguments: RequestArguments) =>\n            this.request(requestArguments, options),\n        )\n    }\n\n    async connect(expectedChainId: ChainId, address?: string): Promise<Account<ChainId>> {\n        const accounts = await this.request<string[]>({\n            method: EthereumMethodType.ETH_REQUEST_ACCOUNTS,\n            params: [],\n        })\n        const chainId = await this.request<string>({\n            method: EthereumMethodType.ETH_CHAIN_ID,\n            params: [],\n        })\n\n        const actualChainId = Number.parseInt(chainId, 16)\n        if (expectedChainId !== actualChainId) throw new Error(`Failed to connect to ${this.providerType}`)\n\n        return {\n            chainId: actualChainId,\n            account: first(accounts) ?? '',\n        }\n    }\n\n    async disconnect(): Promise<void> {\n        // do nothing by default\n    }\n}\n","import {\n    type ChainId,\n    ProviderType,\n    type RequestArguments,\n    type Web3Provider,\n    type Web3,\n} from '@masknet/web3-shared-evm'\nimport { BaseProvider } from './Base.js'\nimport { RequestReadonlyAPI } from '../apis/RequestReadonlyAPI.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class NoneProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    private Request = new RequestReadonlyAPI()\n\n    constructor() {\n        super(ProviderType.None)\n    }\n\n    override async request<T>(\n        requestArguments: RequestArguments,\n        initial?: WalletAPI.ProviderOptions<ChainId>,\n    ): Promise<T> {\n        return this.Request.request(requestArguments, initial)\n    }\n}\n","import { first } from 'lodash-es'\nimport { isInPageEthereumInjected } from '@masknet/shared-base'\nimport { type BaseProvider as BaseBridge } from '@masknet/injected-script'\nimport {\n    type ChainId,\n    EthereumMethodType,\n    type ProviderType,\n    type Web3Provider,\n    type Web3,\n    type RequestArguments,\n} from '@masknet/web3-shared-evm'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class BaseInjectedProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor(\n        protected override providerType: ProviderType,\n        protected bridge: BaseBridge,\n    ) {\n        super(providerType)\n    }\n\n    override get ready() {\n        return this.bridge.isReady\n    }\n\n    override get readyPromise() {\n        if (isInPageEthereumInjected()) return this.bridge.untilAvailable()\n        return Promise.reject(new Error('Not available on extension site.'))\n    }\n\n    override async setup(context?: WalletAPI.IOContext | undefined) {\n        this.bridge.on('accountsChanged', this.onAccountsChanged.bind(this))\n        this.bridge.on('chainChanged', this.onChainChanged.bind(this))\n        this.bridge.on('disconnect', this.onDisconnect.bind(this))\n    }\n\n    protected onAccountsChanged(accounts: string[]) {\n        this.emitter.emit('accounts', accounts)\n    }\n\n    protected onChainChanged(chainId: string) {\n        this.emitter.emit('chainId', chainId)\n    }\n\n    protected onDisconnect() {\n        this.emitter.emit('disconnect', this.providerType)\n    }\n\n    override createWeb3Provider(options?: WalletAPI.ProviderOptions<ChainId>) {\n        if (!this.bridge) throw new Error('Failed to detect in-page provider.')\n        return this.bridge as unknown as Web3Provider\n    }\n\n    override async request<T>(\n        requestArguments: RequestArguments,\n        options?: WalletAPI.ProviderOptions<ChainId>,\n    ): Promise<T> {\n        const provider = this.createWeb3Provider(options)\n        return provider.request(requestArguments)\n    }\n\n    override async connect() {\n        await this.readyPromise\n\n        const provider = this.createWeb3Provider()\n        const accounts = await provider.request<string[]>({\n            method: EthereumMethodType.ETH_REQUEST_ACCOUNTS,\n            params: [],\n        })\n        const chainId = await provider.request<string>({\n            method: EthereumMethodType.ETH_CHAIN_ID,\n            params: [],\n        })\n        return {\n            chainId: Number.parseInt(chainId, 16),\n            account: first(accounts) ?? '',\n        }\n    }\n\n    override async disconnect() {\n        try {\n            await this.readyPromise\n            await this.bridge.disconnect()\n        } catch {\n            return\n        }\n    }\n}\n","import { injectedBrowserProvider } from '@masknet/injected-script'\nimport { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class BrowserProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Browser, injectedBrowserProvider)\n    }\n\n    protected override onAccountsChanged(accounts: string[]): void {\n        if (accounts.length) this.emitter.emit('accounts', accounts)\n        // disconnection will trigger an empty accounts list\n        else this.emitter.emit('disconnect', ProviderType.Browser)\n    }\n\n    override async disconnect(): Promise<void> {\n        // do nothing\n    }\n\n    override onDisconnect() {\n        // do nothing\n    }\n}\n","import { MetaMaskInpageProvider } from '@metamask/inpage-provider'\nimport PortStream from 'extension-port-stream'\nimport { detect } from 'detect-browser'\n\nconst CHROME_ID = 'nkbihfbeogaeaoehlefnkodbefgpgknn'\nconst FIREFOX_ID = 'webextension@metamask.io'\nconst browser = detect()\nfunction getMetaMaskId () {\n  switch (browser && browser.name) {\n    case 'chrome':\n      return CHROME_ID\n    case 'firefox':\n      return FIREFOX_ID\n    default:\n      return CHROME_ID\n  }\n}\n\nfunction createMetaMaskProvider() {\n  const currentMetaMaskId = getMetaMaskId()\n  const metamaskPort = chrome.runtime.connect(currentMetaMaskId)\n  const pluginStream = new PortStream(metamaskPort)\n  return new MetaMaskInpageProvider(pluginStream)\n}\n\nexport default createMetaMaskProvider\n","import { isInPageEthereumInjected, isEthereumInjected } from '@masknet/shared-base'\nimport { injectedMetaMaskProvider } from '@masknet/injected-script'\nimport createMetaMaskProvider, { type MetaMaskInpageProvider } from '@dimensiondev/metamask-extension-provider'\nimport { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nfunction getInjectedProvider() {\n    if (isEthereumInjected()) return Reflect.get(window, 'ethereum')\n    if (isInPageEthereumInjected()) return injectedMetaMaskProvider\n    return createMetaMaskProvider()\n}\n\nexport class MetaMaskProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.MetaMask, getInjectedProvider())\n    }\n\n    protected override onAccountsChanged(accounts: string[]): void {\n        if (accounts.length) this.emitter.emit('accounts', accounts)\n        // disconnection will trigger an empty accounts list\n        else this.emitter.emit('disconnect', ProviderType.MetaMask)\n    }\n\n    override get ready() {\n        if (isEthereumInjected()) return true\n        if (isInPageEthereumInjected()) return super.ready\n        const isConnected = (this.bridge as unknown as MetaMaskInpageProvider).isConnected()\n        return isConnected\n    }\n\n    override get readyPromise() {\n        if (isEthereumInjected()) return Promise.resolve()\n        if (isInPageEthereumInjected()) return super.readyPromise\n        return Promise.resolve()\n    }\n\n    override async disconnect(): Promise<void> {\n        // do nothing\n    }\n\n    override onDisconnect() {\n        // MetaMask will emit disconnect after switching chain id\n        // since then, override to stop listening to the disconnect event with MetaMask\n    }\n}\n","import type { Account } from '@masknet/shared-base'\nimport { type ChainId, formatEthereumAddress, EthereumMethodType, isValidAddress, isValidChainId } from '../index.js'\n\nexport class EIP155Editor {\n    constructor(\n        private chainId: ChainId,\n        private address: string,\n    ) {}\n\n    get account(): Account<ChainId> {\n        return {\n            chainId: this.chainId,\n            account: formatEthereumAddress(this.address),\n        }\n    }\n\n    get proposalNamespace() {\n        return {\n            accounts: [],\n            methods: [\n                EthereumMethodType.ETH_SIGN,\n                EthereumMethodType.ETH_SEND_TRANSACTION,\n                EthereumMethodType.PERSONAL_SIGN,\n            ],\n            chains: [this.eip155ChainId],\n            events: ['chainChanged', 'accountsChanged', 'disconnect', 'connect'],\n        }\n    }\n\n    get eip155ChainId() {\n        return ['eip155', this.chainId.toFixed()].join(':')\n    }\n\n    get eip155Address() {\n        return ['eip155', this.chainId.toFixed(), formatEthereumAddress(this.address)].join(':')\n    }\n\n    static from(text: string) {\n        const [, chainId, address] = text.split(':')\n        const chainId_ = Number.parseInt(chainId, 10)\n        if (!isValidChainId(chainId_) || !isValidAddress(address)) return\n        return new EIP155Editor(chainId_, address)\n    }\n\n    static fromChainId(chainId: ChainId) {\n        if (!isValidChainId(chainId)) return\n        return new EIP155Editor(chainId, '')\n    }\n\n    static fromAccount({ chainId, account }: Account<ChainId>) {\n        if (!isValidChainId(chainId) || !isValidAddress(account)) return\n        return new EIP155Editor(chainId, account)\n    }\n}\n","import { first } from 'lodash-es'\nimport { toHex } from 'web3-utils'\nimport type { Emitter } from '@servie/events'\nimport { getSdkError } from '@walletconnect/utils'\nimport { SignClient } from '@walletconnect/sign-client'\nimport { Flags } from '@masknet/flags'\nimport type { UnboxPromise } from '@masknet/shared-base'\nimport {\n    ProviderType,\n    ChainId,\n    EIP155Editor,\n    isValidAddress,\n    isValidChainId,\n    type RequestArguments,\n    type Web3,\n    type Web3Provider,\n} from '@masknet/web3-shared-evm'\nimport { BaseProvider } from './Base.js'\nimport { ChainResolver } from '../apis/ResolverAPI.js'\nimport { Web3StateRef } from '../apis/Web3StateAPI.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nclass Client {\n    constructor(private emitter: Emitter<WalletAPI.ProviderEvents<ChainId, ProviderType>>) {}\n\n    public client: UnboxPromise<ReturnType<typeof SignClient.init>> | undefined\n\n    get session() {\n        const key = this.client?.session.keys.at(-1)\n        return key ? this.client?.session.get(key) : undefined\n    }\n\n    get account() {\n        const account = EIP155Editor.from(first(this.session?.namespaces.eip155.accounts) ?? '')?.account\n        if (isValidChainId(account?.chainId) && isValidAddress(account?.account)) return account\n        return\n    }\n\n    async setup() {\n        this.client = await SignClient.init({\n            projectId: Flags.wc_project_id,\n            logger: Flags.wc_mode,\n            relayUrl: Flags.wc_relay_url,\n            metadata: {\n                name: 'Mask Network',\n                description: 'Your Portal To The New, Open Internet.',\n                url: 'https://mask.io',\n                icons: ['https://dimensiondev.github.io/Mask-VI/assets/Logo/MB--Logo--Geo--ForceCircle--Blue.svg'],\n            },\n        })\n\n        this.client.on('session_update', () => {\n            if (!this.account) return\n            this.emitter.emit('chainId', toHex(this.account.chainId))\n            this.emitter.emit('accounts', [this.account.account])\n        })\n\n        this.client.on('session_delete', () => {\n            this.emitter.emit('disconnect', ProviderType.WalletConnect)\n        })\n    }\n\n    async destroy() {\n        if (!this.client) return\n        this.client.removeAllListeners('session_update')\n        this.client.removeAllListeners('session_delete')\n    }\n}\n\nexport class WalletConnectProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    private client: Client = null!\n\n    constructor() {\n        super(ProviderType.WalletConnect)\n        this.client = new Client(this.emitter)\n        this.resume()\n    }\n\n    private get currentChainId() {\n        return Web3StateRef.value.Provider?.chainId?.getCurrentValue() ?? ChainId.Mainnet\n    }\n\n    override get connected() {\n        return !!this.client.session\n    }\n\n    private async resume() {\n        if (!this.client.client) await this.client.setup()\n        if (this.client.account) await this.login(this.client.account.chainId)\n    }\n\n    private async login(chainId: ChainId) {\n        const editor = EIP155Editor.fromChainId(chainId)\n        if (!editor) throw new Error('Invalid chain id.')\n\n        if (this.client.account) return this.client.account\n\n        const connected = await this.client.client?.connect({\n            requiredNamespaces: {\n                eip155: editor.proposalNamespace,\n            },\n        })\n        if (!connected) throw new Error('Failed to create connection.')\n\n        const { uri, approval } = connected\n        if (uri) this.context?.openWalletConnectDialog(uri)\n\n        await approval()\n\n        if (uri) this.context?.closeWalletConnectDialog()\n\n        return this.client.account\n    }\n\n    private async logout() {\n        if (!this.client.session?.topic) return\n        await this.client.client?.disconnect({\n            topic: this.client.session.topic,\n            reason: getSdkError('USER_DISCONNECTED'),\n        })\n    }\n\n    override async switchChain(chainId: ChainId): Promise<void> {\n        if (!isValidChainId(chainId)) throw new Error('Invalid chain id.')\n\n        let clean: () => boolean | undefined\n        return new Promise<void>((resolve, reject) => {\n            super.switchChain(chainId).catch((error) => {\n                reject(error)\n            })\n            clean = this.emitter.on('chainId', () => {\n                resolve()\n            })\n        }).finally(() => {\n            clean?.()\n        })\n    }\n    override async connect(chainId: ChainId) {\n        await this.client.destroy()\n        await this.client.setup()\n\n        const account = await this.login(chainId)\n        if (!account) throw new Error(`Failed to connect to ${ChainResolver.chainFullName(chainId)}.`)\n\n        return account\n    }\n\n    override async disconnect() {\n        await this.logout()\n    }\n\n    override async request<T>(requestArguments: RequestArguments): Promise<T> {\n        const editor = EIP155Editor.fromChainId(this.currentChainId)\n        if (!editor) throw new Error('Invalid chain id.')\n\n        if (!this.client.client) await this.client.setup()\n        if (!this.client.session) await this.login(this.currentChainId)\n        if (!this.client.client || !this.client.session) throw new Error('The client is not initialized')\n\n        return this.client.client.request<T>({\n            topic: this.client.session.topic,\n            chainId: editor.eip155ChainId,\n            request: {\n                method: requestArguments.method,\n                params: requestArguments.params,\n            },\n        })\n    }\n}\n","import { injectedCoin98EVMProvider } from '@masknet/injected-script'\nimport { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class EVM_Coin98Provider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Coin98, injectedCoin98EVMProvider)\n    }\n}\n","import { injectedCoinbaseProvider } from '@masknet/injected-script'\nimport { isEthereumInjected, isInPageEthereumInjected } from '@masknet/shared-base'\nimport { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nfunction getInjectedProvider() {\n    if (isEthereumInjected('coinbaseWalletExtension')) return Reflect.get(window, 'coinbaseWalletExtension')\n    if (isInPageEthereumInjected()) return injectedCoinbaseProvider\n    // Not available on extension site.\n    return injectedCoinbaseProvider\n}\n\nexport class CoinbaseProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Coinbase, getInjectedProvider())\n    }\n\n    override get ready() {\n        if (isEthereumInjected('coinbaseWalletExtension')) return true\n        if (isInPageEthereumInjected()) return super.ready\n        return false\n    }\n\n    override get readyPromise() {\n        if (isEthereumInjected('coinbaseWalletExtension')) return Promise.resolve()\n        if (isInPageEthereumInjected()) return super.readyPromise\n        return Promise.resolve()\n    }\n}\n","import { injectedOKXProvider } from '@masknet/injected-script'\nimport { isEthereumInjected, isInPageEthereumInjected } from '@masknet/shared-base'\nimport { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nfunction getInjectedProvider() {\n    if (isEthereumInjected('okxwallet')) return Reflect.get(window, 'okxwallet')\n    if (isInPageEthereumInjected()) return injectedOKXProvider\n    // Not available on extension site.\n    return injectedOKXProvider\n}\n\nexport class OKXProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Coinbase, getInjectedProvider())\n    }\n\n    override get ready() {\n        if (isEthereumInjected('okxwallet')) return true\n        if (isInPageEthereumInjected()) return super.ready\n        return false\n    }\n\n    override get readyPromise() {\n        if (isEthereumInjected('okxwallet')) return Promise.resolve()\n        if (isInPageEthereumInjected()) return super.readyPromise\n        return Promise.resolve()\n    }\n}\n","import { injectedCloverProvider } from '@masknet/injected-script'\nimport { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class CloverProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Clover, injectedCloverProvider)\n    }\n}\n","import { first } from 'lodash-es'\nimport Fortmatic from 'fortmatic'\nimport { toHex } from 'web3-utils'\nimport { timeout } from '@masknet/kit'\nimport type { FmProvider } from 'fortmatic/dist/cjs/src/core/fm-provider.js'\nimport {\n    ChainId,\n    ProviderURL,\n    ProviderType,\n    type RequestArguments,\n    type Web3Provider,\n    type Web3,\n} from '@masknet/web3-shared-evm'\nimport { createLookupTableResolver } from '@masknet/shared-base'\nimport { ChainResolver } from '../apis/ResolverAPI.js'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\n// #region create in-page fortmatic provider\n\n/* spell-checker: disable-next-line */\nconst TEST_KEY = 'pk_test_D9EAF9A8ACEC9627'\n\n/* spell-checker: disable-next-line */\nconst LIVE_KEY = 'pk_live_331BE8AA24445030'\n\nconst resolveAPI_Key = createLookupTableResolver<ChainIdFortmatic, string>(\n    {\n        [ChainId.Mainnet]: LIVE_KEY,\n        [ChainId.BSC]: LIVE_KEY,\n        [ChainId.Matic]: LIVE_KEY,\n        [ChainId.Rinkeby]: TEST_KEY,\n        [ChainId.Ropsten]: TEST_KEY,\n        [ChainId.Kovan]: TEST_KEY,\n    },\n    '',\n)\n\nconst isFortmaticSupported = (chainId: ChainId): chainId is ChainIdFortmatic => {\n    return [ChainId.Mainnet, ChainId.BSC].includes(chainId)\n}\n\ntype ChainIdFortmatic =\n    | ChainId.Mainnet\n    | ChainId.BSC\n    | ChainId.Matic\n    | ChainId.Rinkeby\n    | ChainId.Ropsten\n    | ChainId.Kovan\n\nexport class FortmaticProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    /**\n     * If the internal chain id exists, it means the connection was created.\n     * Otherwise, no connection was created before.\n     */\n    private chainId_: ChainIdFortmatic | null = null\n    private providerPool = new Map<ChainId, FmProvider>()\n\n    private get chainId(): ChainIdFortmatic {\n        const chainId = this.chainId_\n        if (!chainId) throw new Error('No fortmatic connection.')\n        if (!isFortmaticSupported(chainId)) throw new Error(`The chain id ${chainId} is not supported.`)\n        return chainId\n    }\n\n    private set chainId(newChainId: ChainId) {\n        const chainId = newChainId\n        if (!isFortmaticSupported(chainId)) throw new Error(`The chain id ${chainId} is not supported.`)\n        this.chainId_ = chainId\n    }\n\n    constructor() {\n        super(ProviderType.Fortmatic)\n    }\n\n    protected onAccountsChanged(accounts: string[]) {\n        this.emitter.emit('accounts', accounts)\n    }\n\n    protected onChainChanged(chainId: string) {\n        this.emitter.emit('chainId', chainId)\n    }\n\n    protected onConnect(connected: { account: string; chainId: ChainId }) {\n        this.emitter.emit('connect', connected)\n    }\n\n    private createFortmatic(chainId: ChainIdFortmatic) {\n        return new Fortmatic(resolveAPI_Key(chainId), {\n            chainId,\n            rpcUrl: ProviderURL.from(chainId),\n        })\n    }\n\n    private createProvider() {\n        if (this.providerPool.has(this.chainId)) return this.providerPool.get(this.chainId)!\n\n        const fm = this.createFortmatic(this.chainId)\n        const provider = fm.getProvider()\n        this.providerPool.set(this.chainId, provider)\n        return provider\n    }\n\n    private login() {\n        const fm = this.createFortmatic(this.chainId)\n        return fm.user.login()\n    }\n\n    private async logout() {\n        const fm = this.createFortmatic(this.chainId)\n        return fm.user.logout()\n    }\n\n    override async switchChain(chainId: ChainId): Promise<void> {\n        if (!isFortmaticSupported(chainId)) throw new Error('Invalid chain id.')\n        await this.connect(chainId)\n    }\n\n    override async connect(chainId: ChainId) {\n        try {\n            this.chainId = chainId\n            const accounts = await this.login()\n            if (!accounts.length) throw new Error(`Failed to connect to ${ChainResolver.chainFullName(this.chainId)}.`)\n\n            const connected = {\n                account: first(accounts)!,\n                chainId,\n            }\n\n            this.onAccountsChanged(accounts)\n            this.onChainChanged(toHex(chainId))\n            this.onConnect(connected)\n            return connected\n        } catch (error) {\n            this.chainId_ = null\n            throw error\n        }\n    }\n\n    override async disconnect() {\n        try {\n            await timeout(this.logout(), 3000, 'Timeout to logout fortmatic account.')\n        } catch {\n            // do nothing\n        } finally {\n            this.chainId_ = null\n        }\n    }\n\n    override request<T>(requestArguments: RequestArguments) {\n        return this.createProvider().send<T>(requestArguments.method, requestArguments.params)\n    }\n}\n","import { toHex } from 'web3-utils'\nimport { Sniffings } from '@masknet/shared-base'\nimport { injectedOperaProvider } from '@masknet/injected-script'\nimport {\n    type ChainId,\n    EthereumMethodType,\n    ProviderType,\n    type Web3Provider,\n    type Web3,\n    isValidChainId,\n} from '@masknet/web3-shared-evm'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class OperaProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Opera, injectedOperaProvider)\n    }\n\n    override get ready() {\n        if (Sniffings.is_opera) return true\n        return super.ready\n    }\n\n    override get readyPromise() {\n        if (Sniffings.is_opera) return Promise.resolve()\n        return super.readyPromise\n    }\n\n    override async switchChain(chainId: ChainId): Promise<void> {\n        if (!isValidChainId(chainId)) throw new Error('Invalid chain id.')\n\n        await this.request({\n            method: EthereumMethodType.WALLET_SWITCH_ETHEREUM_CHAIN,\n            params: [\n                {\n                    chainId: toHex(chainId),\n                },\n            ],\n        })\n    }\n}\n","import { uniqWith } from 'lodash-es'\nimport { toHex } from 'web3-utils'\nimport { delay } from '@masknet/kit'\nimport {\n    EMPTY_LIST,\n    PersistentStorages,\n    NetworkPluginID,\n    type StorageObject,\n    type UpdatableWallet,\n    type Wallet,\n    CrossIsolationMessages,\n} from '@masknet/shared-base'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport {\n    getDefaultChainId,\n    isValidAddress,\n    formatEthereumAddress,\n    type ChainId,\n    type ProviderType,\n    type Web3Provider,\n    type Web3,\n} from '@masknet/web3-shared-evm'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport abstract class BaseHostedProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    protected abstract io_renameWallet(address: string, name: string): Promise<void>\n    protected walletStorage:\n        | StorageObject<{\n              account: string\n              chainId: ChainId\n              wallets: Wallet[]\n          }>\n        | undefined\n\n    constructor(\n        protected override providerType: ProviderType,\n        protected initial?: {\n            formatAddress?: () => string\n            isSupportedAccount?: (account: string) => Promise<boolean>\n            isSupportedChainId?: (chainId: ChainId) => Promise<boolean>\n            getDefaultAccount?: () => string\n            getDefaultChainId?: () => ChainId\n        },\n    ) {\n        super(providerType)\n    }\n\n    override async setup(context?: WalletAPI.IOContext) {\n        await super.setup(context)\n\n        this.walletStorage = PersistentStorages.Web3.createSubScope(\n            `${NetworkPluginID.PLUGIN_EVM}_${this.providerType}_hosted`,\n            {\n                account: this.options.getDefaultAccount(),\n                chainId: this.options.getDefaultChainId(),\n                wallets: [] as Wallet[],\n            },\n        ).storage\n\n        await Promise.all([\n            this.walletStorage?.account.initializedPromise,\n            this.walletStorage?.chainId.initializedPromise,\n            this.walletStorage?.wallets.initializedPromise,\n        ])\n        this.onAccountChanged()\n        this.onChainChanged()\n\n        this.walletStorage?.account.subscription.subscribe(this.onAccountChanged.bind(this))\n        this.walletStorage?.chainId.subscription.subscribe(this.onChainChanged.bind(this))\n    }\n\n    protected get options() {\n        return {\n            isSupportedAccount: () => true,\n            isSupportedChainId: (chainId: number) => chainId > 0 && Number.isInteger(chainId),\n            getDefaultAccount: () => '',\n            getDefaultChainId,\n            formatAddress: formatEthereumAddress,\n            ...this.initial,\n        }\n    }\n\n    override get subscription() {\n        if (!this.walletStorage) return super.subscription\n        return {\n            account: this.walletStorage?.account.subscription,\n            chainId: this.walletStorage?.chainId.subscription,\n            wallets: this.walletStorage?.wallets.subscription,\n        }\n    }\n\n    get wallets() {\n        return this.walletStorage?.wallets.value ?? EMPTY_LIST\n    }\n\n    get hostedAccount() {\n        return this.walletStorage?.account.value ?? this.options.getDefaultAccount()\n    }\n\n    get hostedChainId() {\n        return this.walletStorage?.chainId.value ?? this.options.getDefaultChainId()\n    }\n\n    override async addWallet(wallet: Wallet): Promise<void> {\n        const now = new Date()\n        const address = this.options.formatAddress(wallet.address)\n\n        // already added\n        if (this.walletStorage?.wallets.value.some((x) => isSameAddress(x.address, address))) return\n\n        await this.walletStorage?.wallets.setValue([\n            ...(this.walletStorage?.wallets.value ?? []),\n            {\n                ...wallet,\n                id: address,\n                address,\n                name: wallet.name.trim() || `Account ${this.walletStorage?.wallets.value.length + 1}`,\n                createdAt: now,\n                updatedAt: now,\n            },\n        ])\n    }\n\n    override async updateWallet(address: string, updates: Partial<UpdatableWallet>) {\n        const wallet = this.walletStorage?.wallets.value.find((x) => isSameAddress(x.address, address))\n        if (!wallet) throw new Error('Failed to find wallet.')\n\n        const now = new Date()\n        await this.walletStorage?.wallets.setValue(\n            this.walletStorage?.wallets.value.map((x) =>\n                isSameAddress(x.address, address)\n                    ? {\n                          ...x,\n                          name: updates.name ?? x.name,\n                          owner: updates.owner ?? x.owner,\n                          identifier: updates.identifier ?? x.identifier,\n                          createdAt: x.createdAt ?? now,\n                          updatedAt: now,\n                      }\n                    : x,\n            ),\n        )\n        CrossIsolationMessages.events.walletsUpdated.sendToAll(undefined)\n    }\n\n    override async renameWallet(address: string, name: string) {\n        const isNameExists = this.walletStorage?.wallets.value\n            .filter((x) => !isSameAddress(x.address, address))\n            .some((x) => x.name === name)\n\n        if (isNameExists) throw new Error('The wallet name already exists.')\n\n        if (!this.walletStorage?.wallets.value.find((x) => isSameAddress(x.address, address))?.owner)\n            await this.io_renameWallet(address, name)\n        await this.updateWallet(address, {\n            name,\n        })\n    }\n\n    override async removeWallet(address: string, password?: string | undefined) {\n        await this.walletStorage?.wallets.setValue(\n            this.walletStorage?.wallets.value?.filter((x) => !isSameAddress(x.address, address)),\n        )\n    }\n\n    override async updateWallets(wallets: Wallet[]): Promise<void> {\n        if (!wallets.length) return\n        const result = wallets.filter(\n            (x) =>\n                !this.walletStorage?.wallets.value.find(\n                    (y) => isSameAddress(x.address, y.address) && isSameAddress(x.owner, y.owner),\n                ),\n        )\n        await this.walletStorage?.wallets.setValue(\n            uniqWith([...(this.walletStorage?.wallets.value ?? []), ...result], (a, b) =>\n                isSameAddress(a.address, b.address),\n            ),\n        )\n    }\n\n    override async removeWallets(wallets: Wallet[]): Promise<void> {\n        if (!wallets.length) return\n        await this.walletStorage?.wallets.setValue(\n            this.walletStorage?.wallets.value?.filter((x) => !wallets.find((y) => isSameAddress(x.address, y.address))),\n        )\n    }\n\n    private async onAccountChanged() {\n        await this.walletStorage?.account.initializedPromise\n\n        if (!this.hostedAccount) return\n\n        this.emitter.emit('accounts', [this.hostedAccount])\n        await delay(100)\n        this.emitter.emit('chainId', toHex(this.hostedChainId))\n    }\n\n    private async onChainChanged() {\n        await this.walletStorage?.chainId.initializedPromise\n        if (this.hostedChainId) this.emitter.emit('chainId', toHex(this.hostedChainId))\n    }\n\n    override async switchAccount(account?: string) {\n        if (!isValidAddress(account)) throw new Error(`Invalid address: ${account}`)\n        const supported = await this.options.isSupportedAccount(account)\n        if (!supported) throw new Error(`Not supported account: ${account}`)\n        await this.walletStorage?.account.setValue(account)\n    }\n\n    override async switchChain(chainId: ChainId) {\n        const supported = await this.options.isSupportedChainId(chainId)\n        if (!supported) throw new Error(`Not supported chain id: ${chainId}`)\n        await this.walletStorage?.chainId.setValue(chainId)\n    }\n}\n","import { delay } from '@masknet/kit'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { ECKeyIdentifier, InMemoryStorages, NetworkPluginID, type StorageItem } from '@masknet/shared-base'\nimport { type ProviderType, isValidAddress, type ChainId, type Web3Provider, type Web3 } from '@masknet/web3-shared-evm'\nimport { BaseHostedProvider } from './BaseHosted.js'\nimport { SmartPayBundler } from '../../../SmartPay/index.js'\nimport type { BundlerAPI, WalletAPI } from '../../../entry-types.js'\n\n/**\n * EIP-4337 compatible smart contract based wallet.\n */\nexport abstract class BaseContractWalletProvider\n    extends BaseHostedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    protected Bundler: BundlerAPI.Provider = SmartPayBundler\n\n    private ownerStorage:\n        | StorageItem<{\n              account: string\n              identifier: string\n          }>\n        | undefined\n\n    constructor(protected override providerType: ProviderType) {\n        super(providerType)\n    }\n\n    override async setup(context?: WalletAPI.IOContext) {\n        await super.setup(context)\n\n        this.ownerStorage = InMemoryStorages.Web3.createSubScope(\n            `${NetworkPluginID.PLUGIN_EVM}_${this.providerType}_owner`,\n            {\n                value: {\n                    account: this.options.getDefaultAccount(),\n                    // empty string means EOA signer\n                    identifier: '',\n                },\n            },\n        )?.storage.value\n\n        await this.ownerStorage?.initializedPromise\n\n        this.subscription.wallets?.subscribe(async () => {\n            if (!this.hostedAccount) return\n            const target = this.wallets?.find((x) => isSameAddress(x.address, this.hostedAccount))\n            const smartPayChainId = await this.Bundler.getSupportedChainId()\n            if (target?.owner) {\n                await this.ownerStorage?.setValue({\n                    account: target.owner,\n                    identifier: target.identifier ?? '',\n                })\n                if (this.hostedChainId !== smartPayChainId) {\n                    await this.switchChain(smartPayChainId)\n                }\n            }\n        })\n    }\n\n    get ownerAccount() {\n        return this.ownerStorage?.value.account ?? this.options.getDefaultAccount()\n    }\n\n    get ownerIdentifier() {\n        const identifier = ECKeyIdentifier.from(this.ownerStorage?.value.identifier).unwrapOr(undefined)\n        return identifier?.rawPublicKey === 'EMPTY' ? undefined : identifier\n    }\n\n    override async switchAccount(account?: string, owner?: { account: string; identifier?: ECKeyIdentifier }) {\n        await super.switchAccount(account)\n\n        if (!owner || !isValidAddress(owner.account)) {\n            await this.ownerStorage?.setValue({\n                account: this.options.getDefaultAccount(),\n                identifier: owner?.identifier?.toText() ?? '',\n            })\n        } else {\n            // delay for syncing storage\n            await delay(300)\n\n            // ensure account switching is successful\n            if (!isSameAddress(this.hostedAccount, account)) return\n\n            await this.ownerStorage?.setValue({\n                account: owner.account,\n                identifier: owner.identifier?.toText() ?? '',\n            })\n        }\n    }\n}\n","import { compact, debounce, first, isEqual, sortBy, uniqWith } from 'lodash-es'\nimport {\n    createSubscriptionFromValueRef,\n    CrossIsolationMessages,\n    type Wallet,\n    type ECKeyIdentifier,\n    EMPTY_LIST,\n    ExtensionSite,\n    ValueRef,\n    ImportSource,\n    getExtensionSiteType,\n} from '@masknet/shared-base'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport {\n    ChainId,\n    isValidAddress,\n    PayloadEditor,\n    ProviderType,\n    type Web3,\n    type Web3Provider,\n    type RequestArguments,\n} from '@masknet/web3-shared-evm'\nimport { ChainResolver } from '../apis/ResolverAPI.js'\nimport { BaseContractWalletProvider } from './BaseContractWallet.js'\nimport { RequestReadonlyAPI } from '../apis/RequestReadonlyAPI.js'\nimport { SmartPayOwnerAPI } from '../../../SmartPay/apis/OwnerAPI.js'\nimport type { WalletAPI } from '../../../entry-types.js'\nimport { Web3StateRef } from '../apis/Web3StateAPI.js'\n\nexport class MaskWalletProvider\n    extends BaseContractWalletProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    private Request = new RequestReadonlyAPI()\n\n    private ref = new ValueRef<Wallet[]>(EMPTY_LIST)\n    protected override async io_renameWallet(address: string, name: string): Promise<void> {\n        await this.context?.MaskWalletContext?.renameWallet(address, name)\n    }\n    constructor() {\n        super(ProviderType.MaskWallet)\n    }\n\n    async updateImmediately() {\n        const wallets = this.context?.wallets.getCurrentValue() ?? EMPTY_LIST\n\n        // update local wallets immediately\n        this.ref.value = sortBy(\n            uniqWith([...super.wallets, ...wallets], (a, b) => isSameAddress(a.address, b.address)),\n            (x) => !!x.owner,\n        )\n    }\n\n    async update() {\n        // Fetching info of SmartPay wallets is slow, update provider wallets eagerly here.\n        await this.updateImmediately()\n\n        const allPersonas = this.context?.MaskWalletContext?.allPersonas.getCurrentValue() ?? EMPTY_LIST\n        const wallets = this.context?.wallets.getCurrentValue() ?? EMPTY_LIST\n\n        const chainId = await this.Bundler.getSupportedChainId()\n        const accounts = await new SmartPayOwnerAPI().getAccountsByOwners(chainId, [\n            ...wallets.map((x) => x.address),\n            ...compact(allPersonas.map((x) => x.address)),\n        ])\n\n        const now = new Date()\n        const smartPayWallets = accounts\n            .filter((x) => x.deployed)\n            .map((x) => ({\n                id: x.address,\n                name: super.wallets.find((item) => isSameAddress(item.address, x.address))?.name ?? 'Smart Pay',\n                source: ImportSource.WalletRPC,\n                address: x.address,\n                hasDerivationPath: false,\n                hasStoredKeyInfo: false,\n                configurable: true,\n                createdAt: now,\n                updatedAt: now,\n                owner: x.owner,\n                deployed: x.deployed,\n                identifier: allPersonas.find((persona) => isSameAddress(x.owner, persona.address))?.identifier.toText(),\n            }))\n\n        const result = uniqWith([...smartPayWallets, ...super.wallets, ...wallets], (a, b) =>\n            isSameAddress(a.address, b.address),\n        )\n\n        if (!isEqual(result, super.wallets)) {\n            await this.updateWallets(result)\n        }\n        this.ref.value = sortBy(result, (x) => !!x.owner)\n    }\n\n    override get subscription() {\n        return {\n            ...super.subscription,\n            wallets: createSubscriptionFromValueRef(this.ref),\n        }\n    }\n\n    override get wallets() {\n        return this.subscription.wallets.getCurrentValue()\n    }\n\n    override async setup(context?: WalletAPI.IOContext) {\n        await super.setup(context)\n\n        this.subscription?.wallets?.subscribe(async () => {\n            const primaryWallet = first(this.wallets)\n            const smartPayChainId = await this.Bundler.getSupportedChainId()\n            if (!this.hostedAccount && primaryWallet) {\n                await this.switchAccount(primaryWallet.address)\n                await this.switchChain(primaryWallet.owner ? smartPayChainId : ChainId.Mainnet)\n                if (primaryWallet.owner) {\n                    const networks = Web3StateRef.value.Network?.networks?.getCurrentValue()\n                    const target = networks?.find((x) => x.chainId === smartPayChainId)\n                    if (target) Web3StateRef.value.Network?.switchNetwork(target.ID)\n                }\n            }\n        })\n\n        await this.updateImmediately()\n\n        const debounceUpdate = debounce(this.update.bind(this), 1000)\n\n        this.context?.wallets.subscribe(debounceUpdate)\n        this.context?.MaskWalletContext?.allPersonas.subscribe(debounceUpdate)\n        CrossIsolationMessages.events.renameWallet.on(debounceUpdate)\n    }\n\n    override async addWallet(wallet: Wallet): Promise<void> {\n        if (!this.hostedAccount && !this.wallets.length) await this.walletStorage?.account.setValue(wallet.address)\n        await this.context?.addWallet(ImportSource.WalletRPC, wallet.address, wallet)\n    }\n\n    override async removeWallet(address: string, password?: string | undefined): Promise<void> {\n        const scWallets = this.wallets.filter((x) => isSameAddress(x.owner, address))\n        if (scWallets.length) await super.removeWallets(scWallets)\n        if (isSameAddress(this.hostedAccount, address)) await this.walletStorage?.account.setValue('')\n        await super.removeWallet(address, password)\n        await this.context?.MaskWalletContext?.removeWallet(address, password)\n    }\n\n    override async removeWallets(wallets: Wallet[]): Promise<void> {\n        await super.removeWallets(wallets)\n        for (const wallet of wallets) {\n            if (isSameAddress(this.hostedAccount, wallet.address)) await this.walletStorage?.account.setValue('')\n            if (!wallet.owner) await this.context?.MaskWalletContext?.removeWallet(wallet.address)\n        }\n    }\n\n    override async resetAllWallets(): Promise<void> {\n        await super.removeWallets(this.wallets)\n        await this.walletStorage?.account.setValue('')\n        await this.context?.MaskWalletContext?.resetAllWallets()\n    }\n\n    override async renameWallet(address: string, name: string) {\n        await super.renameWallet(address, name)\n        CrossIsolationMessages.events.renameWallet.sendToAll({})\n    }\n\n    override async connect(\n        chainId: ChainId,\n        address?: string,\n        owner?: {\n            account: string\n            identifier?: ECKeyIdentifier\n        },\n        silent?: boolean,\n        externalRequestID?: string | null,\n    ) {\n        if (getExtensionSiteType() === ExtensionSite.Popup || silent) {\n            if (isValidAddress(address)) {\n                await this.switchAccount(address, owner)\n                await this.switchChain(chainId)\n\n                if (externalRequestID) {\n                    await this.context?.grantEIP2255Permission(externalRequestID, [address])\n                }\n\n                return {\n                    account: address,\n                    chainId,\n                }\n            }\n\n            return {\n                account: this.hostedAccount,\n                chainId: this.hostedChainId,\n            }\n        }\n\n        if (externalRequestID)\n            throw new TypeError(\n                'externalRequestID is not expected in MaskWalletProvider.connect() when the page is not popup page.',\n            )\n\n        const account = first(await this.context?.selectMaskWalletAccount(chainId, address, location.origin))\n        if (!account) throw new Error(`Failed to connect to ${ChainResolver.chainFullName(chainId)}`)\n\n        // switch account\n        if (!isSameAddress(this.hostedAccount, account?.address)) {\n            await this.switchAccount(\n                account.address,\n                account.owner\n                    ? {\n                          account: account.owner,\n                          identifier: account.identifier,\n                      }\n                    : undefined,\n            )\n        }\n\n        // switch chain\n        if (chainId !== this.hostedChainId) await this.switchChain(chainId)\n        return {\n            chainId,\n            account: account.address,\n        }\n    }\n\n    override async disconnect() {\n        await this.context?.disconnectAllWalletsFromOrigin(location.origin)\n    }\n\n    override async request<T>(\n        requestArguments: RequestArguments,\n        initial?: WalletAPI.ProviderOptions<ChainId>,\n    ): Promise<T> {\n        return this.Request.request<T>(\n            PayloadEditor.fromMethod(requestArguments.method, requestArguments.params).fill() as RequestArguments,\n            initial,\n        )\n    }\n}\n","import { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class CustomNetworkProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.CustomNetwork)\n    }\n}\n","import { Flags } from '@masknet/flags'\nimport { type ChainId, ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { NoneProvider } from './None.js'\nimport { BrowserProvider } from './Browser.js'\nimport { MetaMaskProvider } from './MetaMask.js'\nimport { WalletConnectProvider } from './WalletConnect.js'\nimport { EVM_Coin98Provider } from './Coin98.js'\nimport { CoinbaseProvider } from './Coinbase.js'\nimport { OKXProvider } from './OKX.js'\nimport { CloverProvider } from './Clover.js'\nimport { FortmaticProvider } from './Fortmatic.js'\nimport { OperaProvider } from './Opera.js'\nimport { MaskWalletProvider } from './MaskWallet.js'\nimport { CustomNetworkProvider } from './CustomNetwork.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\ninterface EVM_Provider extends WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {}\n\nexport const Providers = {\n    [ProviderType.None]: new NoneProvider(),\n    [ProviderType.MaskWallet]: new MaskWalletProvider(),\n    [ProviderType.Browser]: new BrowserProvider(),\n    [ProviderType.MetaMask]: new MetaMaskProvider(),\n    [ProviderType.WalletConnect]: Flags.wc_enabled ? new WalletConnectProvider() : new NoneProvider(),\n    [ProviderType.Coin98]: new EVM_Coin98Provider(),\n    [ProviderType.Coinbase]: new CoinbaseProvider(),\n    [ProviderType.OKX]: new OKXProvider(),\n    [ProviderType.Clover]: new CloverProvider(),\n    [ProviderType.Fortmatic]: new FortmaticProvider(),\n    [ProviderType.Opera]: new OperaProvider(),\n    [ProviderType.CustomNetwork]: new CustomNetworkProvider(),\n} satisfies Record<ProviderType, EVM_Provider>\n","import { memoize } from 'lodash-es'\nimport { type ChainId, type Web3Provider, createClient } from '@masknet/web3-shared-flow'\nimport { FlowConnectionOptionsAPI } from './ConnectionOptionsAPI.js'\nimport { FlowProviders } from '../providers/index.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nconst createWeb3SDK = memoize(\n    (chainId: ChainId) => createClient(chainId),\n    (chainId) => chainId,\n)\n\nexport class FlowWeb3API {\n    constructor(private options?: ConnectionOptions) {\n        this.ConnectionOptions = new FlowConnectionOptionsAPI(this.options)\n    }\n    private ConnectionOptions\n\n    getWeb3(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return createWeb3SDK(options.chainId)\n    }\n\n    getWeb3Provider(initial?: ConnectionOptions): Web3Provider {\n        throw new Error('Method not implemented.')\n    }\n\n    getProviderInstance(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return FlowProviders[options.providerType]\n    }\n}\n","import { first } from 'lodash-es'\nimport { getUnixTime } from 'date-fns'\nimport { unreachable } from '@masknet/kit'\nimport {\n    AddressType,\n    type Operation,\n    type SchemaType,\n    ChainId,\n    type Web3,\n    type Web3Provider,\n    type Transaction,\n    type TransactionDetailed,\n    type TransactionReceipt,\n    type Block,\n    isNativeTokenAddress,\n    type TransactionQuery,\n    type TransactionSignature,\n    TransactionStatusCode,\n    type BlockHeader,\n    type ProviderType,\n    type Signature,\n} from '@masknet/web3-shared-flow'\nimport {\n    type FungibleToken,\n    type NonFungibleToken,\n    type NonFungibleTokenMetadata,\n    type NonFungibleTokenContract,\n    type NonFungibleCollection,\n    TransactionStatusType,\n} from '@masknet/web3-shared-base'\nimport { toHex, type Account } from '@masknet/shared-base'\nimport type { ConnectionAPI_Base } from '../../Base/apis/ConnectionAPI.js'\nimport { FlowConnectionOptionsAPI } from './ConnectionOptionsAPI.js'\nimport { FlowChainResolver } from './ResolverAPI.js'\nimport { FlowWeb3API } from './Web3API.js'\nimport { FlowWeb3StateRef } from './Web3StateAPI.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nexport class FlowConnectionAPI\n    implements\n        ConnectionAPI_Base<\n            ChainId,\n            AddressType,\n            SchemaType,\n            ProviderType,\n            Signature,\n            Operation,\n            Transaction,\n            TransactionReceipt,\n            TransactionDetailed,\n            TransactionSignature,\n            Block,\n            Web3,\n            Web3Provider\n        >\n{\n    constructor(options?: ConnectionOptions) {\n        this.ConnectionOptions = new FlowConnectionOptionsAPI(options)\n        this.Web3 = new FlowWeb3API(options)\n    }\n    private Web3\n    private ConnectionOptions\n\n    getWeb3(initial?: ConnectionOptions) {\n        return this.Web3.getWeb3(initial)\n    }\n\n    getWeb3Provider(initial?: ConnectionOptions) {\n        return this.Web3.getWeb3Provider(initial)\n    }\n\n    async getBalance(address: string, initial?: ConnectionOptions): Promise<string> {\n        const web3 = this.getWeb3(initial)\n        const account = await web3.send([web3.getAccount(address)]).then(web3.decode)\n        return account.balance.toFixed()\n    }\n\n    getNativeTokenBalance(initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getFungibleTokenBalance(address: string, schema?: SchemaType, initial?: ConnectionOptions): Promise<string> {\n        if (!address || isNativeTokenAddress(address)) return this.getNativeTokenBalance(initial)\n\n        // TODO\n        return Promise.resolve('0')\n    }\n\n    getNonFungibleTokenBalance(\n        address: string,\n        tokenId?: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getFungibleTokensBalance(listOfAddress: string[], initial?: ConnectionOptions): Promise<Record<string, string>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokensBalance(listOfAddress: string[], initial?: ConnectionOptions): Promise<Record<string, string>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getGasPrice(initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getCode(address: string, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getAddressType() {\n        return Promise.resolve(AddressType.Default)\n    }\n\n    getSchemaType(address: string, initial?: ConnectionOptions): Promise<SchemaType> {\n        throw new Error('Method not implemented.')\n    }\n\n    async getAccount(initial?: ConnectionOptions): Promise<string> {\n        const web3 = this.getWeb3(initial)\n        return web3.currentUser().addr ?? ''\n    }\n\n    async getChainId(initial?: ConnectionOptions): Promise<ChainId> {\n        const options = this.ConnectionOptions.fill(initial)\n        return options.chainId\n    }\n\n    getBlock(no: number, initial?: ConnectionOptions): Promise<Block | null> {\n        const web3 = this.getWeb3(initial)\n        return web3.send([web3.getBlock(), web3.atBlockHeight(no as number)]).then(web3.decode)\n    }\n\n    async getBlockNumber(initial?: ConnectionOptions): Promise<number> {\n        const web3 = this.getWeb3(initial)\n        const blockHeader = await web3.send([web3.getBlockHeader()]).then(web3.decode)\n        return blockHeader.height\n    }\n\n    async getBlockTimestamp(initial?: ConnectionOptions): Promise<number> {\n        const web3 = this.getWeb3(initial)\n        const blockHeader: BlockHeader = await web3.send([web3.getBlockHeader()]).then(web3.decode)\n        return getUnixTime(new Date(blockHeader.timestamp as unknown as string))\n    }\n\n    async getTransaction(id: string, initial?: ConnectionOptions | undefined): Promise<TransactionDetailed | null> {\n        const web3 = this.getWeb3(initial)\n        return web3.getTransaction(id)\n    }\n\n    async getTransactionReceipt(id: string, initial?: ConnectionOptions): Promise<TransactionReceipt | null> {\n        return null\n    }\n\n    async getTransactionStatus(id: string, initial?: ConnectionOptions): Promise<TransactionStatusType> {\n        const web3 = this.getWeb3(initial)\n        const { status } = web3.getTransactionStatus(id)\n        const status_ = status as TransactionStatusCode\n        switch (status_) {\n            case TransactionStatusCode.UNKNOWN:\n                return TransactionStatusType.NOT_DEPEND\n            case TransactionStatusCode.PENDING:\n            case TransactionStatusCode.FINALIZED:\n            case TransactionStatusCode.EXECUTED:\n                return TransactionStatusType.NOT_DEPEND\n            case TransactionStatusCode.SEALED:\n                return TransactionStatusType.NOT_DEPEND\n            case TransactionStatusCode.EXPIRED:\n                return TransactionStatusType.FAILED\n            default:\n                unreachable(status_)\n        }\n    }\n\n    async getTransactionNonce(address: string, initial?: ConnectionOptions): Promise<number> {\n        const web3 = this.getWeb3(initial)\n        const account = web3.getAccount(address)\n        const key = first(account.keys)\n        return key?.sequenceNumber ?? 0\n    }\n\n    getNativeToken(initial?: ConnectionOptions): Promise<FungibleToken<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        const token = FlowChainResolver.nativeCurrency(options.chainId)\n        return Promise.resolve(token)\n    }\n\n    getFungibleToken(address: string, initial?: ConnectionOptions): Promise<FungibleToken<ChainId, SchemaType>> {\n        if (!address || isNativeTokenAddress(address)) return this.getNativeToken(initial)\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleToken(\n        address: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleToken<ChainId, SchemaType>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenOwner(\n        address: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenOwnership(\n        address: string,\n        tokenId: string,\n        owner: string,\n        schema?: SchemaType | undefined,\n        initial?: ConnectionOptions,\n    ): Promise<boolean> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenMetadata(\n        address: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleTokenMetadata<ChainId>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenContract(\n        address: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenCollection(\n        address: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleCollection<ChainId, SchemaType>> {\n        throw new Error('Method not implemented.')\n    }\n\n    approveFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n    approveNonFungibleToken(\n        address: string,\n        recipient: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n    approveAllNonFungibleTokens(\n        address: string,\n        recipient: string,\n        approved: boolean,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n    transferFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        memo?: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n    transferNonFungibleToken(\n        address: string,\n        tokenId: string,\n        recipient: string,\n        amount: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async connect(initial?: ConnectionOptions): Promise<Account<ChainId>> {\n        const options = this.ConnectionOptions.fill(initial)\n        return {\n            account: '',\n            chainId: ChainId.Mainnet,\n            ...(await FlowWeb3StateRef.value.Provider?.connect(options.providerType, options.chainId)),\n        }\n    }\n\n    async disconnect(initial?: ConnectionOptions): Promise<void> {\n        const options = this.ConnectionOptions.fill(initial)\n        await FlowWeb3StateRef.value.Provider?.disconnect(options.providerType)\n    }\n\n    async signMessage(type: string, message: string, initial?: ConnectionOptions) {\n        const web3 = this.getWeb3(initial)\n        const data = new TextEncoder().encode(message)\n        const signed = first(await web3.currentUser.signUserMessage(toHex(data)))\n        if (!signed) throw new Error('Failed to sign message.')\n        return signed.signature\n    }\n\n    async verifyMessage(\n        type: string,\n        message: string,\n        signature: string,\n        initial?: ConnectionOptions,\n    ): Promise<boolean> {\n        const options = this.ConnectionOptions.fill(initial)\n        const web3 = this.getWeb3(options)\n        if (!options.account) throw new Error('No account found.')\n        return web3.verifyUserSignatures(message, [\n            {\n                addr: options.account,\n                keyId: 1,\n                signature,\n            },\n        ])\n    }\n\n    createAccount(initial?: ConnectionOptions): Account<ChainId> {\n        throw new Error('Method not implemented.')\n    }\n\n    async switchChain(chainId: ChainId, initial?: ConnectionOptions): Promise<void> {\n        await this.Web3.getProviderInstance(initial).switchChain(chainId)\n    }\n\n    async callTransaction(query: TransactionQuery, initial?: ConnectionOptions): Promise<string> {\n        const web3 = this.getWeb3(initial)\n        return web3.query(query)\n    }\n\n    async sendTransaction(mutation: Transaction, initial?: ConnectionOptions): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        const web3 = this.getWeb3(options)\n        const id = await this.getWeb3(options).mutate(mutation)\n        await web3.tx(id).onceSealed()\n        return id\n    }\n\n    confirmTransaction(hash: string, initial?: ConnectionOptions): Promise<TransactionReceipt> {\n        throw new Error('Method not implemented.')\n    }\n\n    estimateTransaction(\n        transaction: Transaction,\n        fallback?: number | undefined,\n        initial?: ConnectionOptions | undefined,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    signTransaction(mutation: Transaction, initial?: ConnectionOptions): Promise<never> {\n        throw new Error('Method not implemented.')\n    }\n\n    signTransactions(mutations: Transaction[], initial?: ConnectionOptions): Promise<never> {\n        throw new Error('Method not implemented.')\n    }\n\n    sendSignedTransaction(signature: never, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    replaceTransaction(hash: string, config: Transaction, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    cancelTransaction(hash: string, config: Transaction, initial?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n}\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-flow'\nimport { ConnectionOptionsAPI_Base } from '../../Base/apis/ConnectionOptionsAPI.js'\nimport { FlowWeb3StateRef } from './Web3StateAPI.js'\nimport { FlowOthersAPI } from './OthersAPI.js'\n\nexport class FlowConnectionOptionsAPI extends ConnectionOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    override get Web3StateRef() {\n        return FlowWeb3StateRef\n    }\n\n    override get Web3Others() {\n        return new FlowOthersAPI()\n    }\n}\n","import { createFungibleToken, createNonFungibleToken } from '@masknet/web3-shared-base'\nimport {\n    isValidDomain,\n    isValidAddress,\n    isZeroAddress,\n    isNativeTokenAddress,\n    isNativeTokenSchemaType,\n    isFungibleTokenSchemaType,\n    isNonFungibleTokenSchemaType,\n    type ChainId,\n    formatAddress,\n    formatDomainName,\n    type ProviderType,\n    type NetworkType,\n    type Transaction,\n    type SchemaType,\n    getDefaultChainId,\n    getInvalidChainId,\n    getDefaultNetworkType,\n    getDefaultProviderType,\n    getZeroAddress,\n    getMaskTokenAddress,\n    getNativeTokenAddress,\n    formatSchemaType,\n    formatTokenId,\n    isValidChainId,\n    getNetworkPluginID,\n} from '@masknet/web3-shared-flow'\nimport { OthersAPI_Base } from '../../Base/apis/OthersAPI.js'\nimport { FlowChainResolver, FlowExplorerResolver, FlowProviderResolver, FlowNetworkResolver } from './ResolverAPI.js'\n\nexport class FlowOthersAPI extends OthersAPI_Base<ChainId, SchemaType, ProviderType, NetworkType, Transaction> {\n    override chainResolver: typeof FlowChainResolver = FlowChainResolver\n    override explorerResolver: typeof FlowExplorerResolver = FlowExplorerResolver\n    override providerResolver: typeof FlowProviderResolver = FlowProviderResolver\n    override networkResolver: typeof FlowNetworkResolver = FlowNetworkResolver\n\n    override isValidDomain = isValidDomain\n    override isValidChainId = isValidChainId\n    override isValidAddress = isValidAddress\n    override isZeroAddress = isZeroAddress\n    override isNativeTokenAddress = isNativeTokenAddress\n    override isNativeTokenSchemaType = isNativeTokenSchemaType\n    override isFungibleTokenSchemaType = isFungibleTokenSchemaType\n    override isNonFungibleTokenSchemaType = isNonFungibleTokenSchemaType\n\n    override getNetworkPluginID = getNetworkPluginID\n    override getDefaultChainId = getDefaultChainId\n    override getInvalidChainId = getInvalidChainId\n    override getDefaultNetworkType = getDefaultNetworkType\n    override getDefaultProviderType = getDefaultProviderType\n    override getZeroAddress = getZeroAddress\n    override getNativeTokenAddress = getNativeTokenAddress\n    override getMaskTokenAddress = getMaskTokenAddress\n\n    override formatAddress = formatAddress\n    override formatDomainName = formatDomainName\n    override formatTokenId = formatTokenId\n    override formatSchemaType = formatSchemaType\n    override createNativeToken = (chainId: ChainId) => this.chainResolver.nativeCurrency(chainId)\n    override createFungibleToken = createFungibleToken\n    override createNonFungibleToken = createNonFungibleToken\n}\n","import {\n    PROVIDER_DESCRIPTORS,\n    NETWORK_DESCRIPTORS,\n    CHAIN_DESCRIPTORS,\n    type ChainId,\n    type SchemaType,\n    type NetworkType,\n    type ProviderType,\n} from '@masknet/web3-shared-flow'\nimport { ChainResolverAPI_Base } from '../../Base/apis/ChainResolverAPI.js'\nimport { ExplorerResolverAPI_Base } from '../../Base/apis/ExplorerResolverAPI.js'\nimport { ProviderResolverAPI_Base } from '../../Base/apis/ProviderResolverAPI.js'\nimport { NetworkResolverAPI_Base } from '../../Base/apis/NetworkExplorerAPI.js'\n\nclass FlowChainResolverAPI extends ChainResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected readonly descriptors = CHAIN_DESCRIPTORS\n}\n\nclass FlowExplorerResolverAPI extends ExplorerResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected readonly descriptors = CHAIN_DESCRIPTORS\n    protected readonly initial = {\n        addressPathname: '/account/:address',\n        transactionPathname: '/transaction/:id',\n        fungibleTokenPathname: '/contract/:address',\n        nonFungibleTokenPathname: '/contract/:address',\n    }\n}\n\nclass FlowProviderResolverAPI extends ProviderResolverAPI_Base<ChainId, ProviderType> {\n    protected readonly descriptors = PROVIDER_DESCRIPTORS\n}\n\nclass FlowNetworkResolverAPI extends NetworkResolverAPI_Base<ChainId, NetworkType> {\n    protected readonly descriptors = NETWORK_DESCRIPTORS\n}\n\nexport const FlowChainResolver = new FlowChainResolverAPI()\nexport const FlowExplorerResolver = new FlowExplorerResolverAPI()\nexport const FlowProviderResolver = new FlowProviderResolverAPI()\nexport const FlowNetworkResolver = new FlowNetworkResolverAPI()\n","import { Emitter } from '@servie/events'\nimport { EMPTY_LIST, createConstantSubscription, type Account, type Wallet } from '@masknet/shared-base'\nimport { ChainId, type ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-flow'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class BaseProvider implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {\n    emitter = new Emitter<WalletAPI.ProviderEvents<ChainId, ProviderType>>()\n\n    get subscription() {\n        return {\n            account: createConstantSubscription(''),\n            chainId: createConstantSubscription(ChainId.Mainnet),\n            wallets: createConstantSubscription<Wallet[]>(EMPTY_LIST),\n        }\n    }\n\n    get connected() {\n        return false\n    }\n\n    // No need to wait by default\n    get ready() {\n        return true\n    }\n\n    // No need to wait by default\n    get readyPromise() {\n        return Promise.resolve()\n    }\n\n    setup(): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    addWallet(wallet: Wallet): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    updateWallet(address: string, wallet: Wallet): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    renameWallet(address: string, name: string): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    removeWallet(address: string, password?: string | undefined): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    updateWallets(wallets: Wallet[]): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    removeWallets(wallets: Wallet[]): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    resetAllWallets(): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    switchAccount(account?: string): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    switchChain(chainId?: ChainId): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    createWeb3(options?: WalletAPI.ProviderOptions<ChainId>): Web3 {\n        throw new Error('Method not implemented.')\n    }\n    createWeb3Provider(options?: WalletAPI.ProviderOptions<ChainId>): Web3Provider {\n        throw new Error('Method not implemented.')\n    }\n    connect(chainId?: ChainId): Promise<Account<ChainId>> {\n        throw new Error('Method not implemented.')\n    }\n    disconnect(): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n}\n","import { ChainId, type ProviderType, createClient, type Web3Provider, type Web3 } from '@masknet/web3-shared-flow'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class BloctoProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    override createWeb3(options?: WalletAPI.ProviderOptions<ChainId>) {\n        return createClient(options?.chainId ?? ChainId.Mainnet)\n    }\n\n    override async connect(chainId = ChainId.Mainnet) {\n        const fcl = this.createWeb3({\n            chainId,\n        })\n        const user = await fcl.logIn()\n\n        return {\n            chainId,\n            account: user.addr,\n        }\n    }\n\n    override async disconnect() {\n        // do nothing\n    }\n}\n","import type { ChainId, ProviderType, Web3Provider, Web3 } from '@masknet/web3-shared-flow'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class DapperProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {}\n","import type { ChainId, ProviderType, Web3Provider, Web3 } from '@masknet/web3-shared-flow'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class LedgerProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {}\n","import { ProviderType, type ChainId, type Web3, type Web3Provider } from '@masknet/web3-shared-flow'\nimport { BaseProvider as FlowBaseProvider } from './Base.js'\nimport { BloctoProvider } from './Blocto.js'\nimport { DapperProvider } from './Dapper.js'\nimport { LedgerProvider } from './Ledger.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport interface FlowProvider extends WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {}\n\nexport const FlowProviders: Record<ProviderType, FlowProvider> = {\n    [ProviderType.None]: new FlowBaseProvider(),\n    [ProviderType.Blocto]: new BloctoProvider(),\n    [ProviderType.Dapper]: new DapperProvider(),\n    [ProviderType.Ledger]: new LedgerProvider(),\n}\n","import { memoize } from 'lodash-es'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { OthersAPI_Base } from './OthersAPI.js'\nimport type { ConnectionAPI_Base } from './ConnectionAPI.js'\nimport type { ConnectionOptions_Base, ConnectionOptionsAPI_Base } from './ConnectionOptionsAPI.js'\n\nconst resolver = <ChainId, ProviderType, Transaction>(\n    initial?: ConnectionOptions_Base<ChainId, ProviderType, Transaction>,\n) => {\n    return [initial?.chainId, initial?.account, initial?.providerType].join(',')\n}\n\nexport class ConnectionCreatorAPI_Base<T extends NetworkPluginID> {\n    constructor(\n        protected creator: (\n            initial?: ConnectionOptions_Base<\n                Web3Helper.Definition[T]['ChainId'],\n                Web3Helper.Definition[T]['ProviderType'],\n                Web3Helper.Definition[T]['Transaction']\n            >,\n        ) => ConnectionAPI_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['AddressType'],\n            Web3Helper.Definition[T]['SchemaType'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['Signature'],\n            Web3Helper.Definition[T]['Operation'],\n            Web3Helper.Definition[T]['Transaction'],\n            Web3Helper.Definition[T]['TransactionReceipt'],\n            Web3Helper.Definition[T]['TransactionDetailed'],\n            Web3Helper.Definition[T]['TransactionSignature'],\n            Web3Helper.Definition[T]['Block'],\n            Web3Helper.Definition[T]['Web3'],\n            Web3Helper.Definition[T]['Web3Provider']\n        >,\n        protected Others: OthersAPI_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['SchemaType'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['NetworkType'],\n            Web3Helper.Definition[T]['Transaction']\n        >,\n        protected ConnectionOptions: ConnectionOptionsAPI_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['SchemaType'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['NetworkType'],\n            Web3Helper.Definition[T]['MessageRequest'],\n            Web3Helper.Definition[T]['MessageResponse'],\n            Web3Helper.Definition[T]['Transaction'],\n            Web3Helper.Definition[T]['TransactionParameter']\n        >,\n    ) {\n        this.createCached = memoize(\n            creator,\n            resolver<\n                Web3Helper.Definition[T]['ChainId'],\n                Web3Helper.Definition[T]['ProviderType'],\n                Web3Helper.Definition[T]['Transaction']\n            >,\n        )\n    }\n    private createCached\n\n    create(\n        initial?: ConnectionOptions_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['Transaction']\n        >,\n    ) {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!this.Others.isValidChainId(options.chainId)) return\n        return this.createCached(initial)\n    }\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { OthersAPI } from '../../EVM/apis/OthersAPI.js'\nimport { ConnectionAPI } from '../../EVM/apis/ConnectionAPI.js'\nimport { ConnectionCreatorAPI_Base } from '../../Base/apis/ConnectionCreatorAPI.js'\nimport { ConnectionOptionsAPI } from '../../EVM/apis/ConnectionOptionsAPI.js'\nimport { FlowOthersAPI } from '../../Flow/apis/OthersAPI.js'\nimport { FlowConnectionAPI } from '../../Flow/apis/ConnectionAPI.js'\nimport { FlowConnectionOptionsAPI } from '../../Flow/apis/ConnectionOptionsAPI.js'\nimport { SolanaOthersAPI } from '../../Solana/apis/OthersAPI.js'\nimport { SolanaConnectionAPI } from '../../Solana/apis/ConnectionAPI.js'\nimport { SolanaConnectionOptionsAPI } from '../../Solana/apis/ConnectionOptionsAPI.js'\nimport type { ConnectionOptions_Base } from '../../Base/apis/ConnectionOptionsAPI.js'\n\nconst createCreator = <T extends NetworkPluginID>(networkPluginID: T) => {\n    switch (networkPluginID) {\n        case NetworkPluginID.PLUGIN_EVM:\n            return new ConnectionCreatorAPI_Base<NetworkPluginID.PLUGIN_EVM>(\n                (initial) => new ConnectionAPI(initial),\n                new OthersAPI(),\n                new ConnectionOptionsAPI(),\n            )\n        case NetworkPluginID.PLUGIN_FLOW:\n            return new ConnectionCreatorAPI_Base<NetworkPluginID.PLUGIN_FLOW>(\n                (initial) => new FlowConnectionAPI(initial),\n                new FlowOthersAPI(),\n                new FlowConnectionOptionsAPI(),\n            )\n        case NetworkPluginID.PLUGIN_SOLANA:\n            return new ConnectionCreatorAPI_Base<NetworkPluginID.PLUGIN_SOLANA>(\n                (initial) => new SolanaConnectionAPI(initial),\n                new SolanaOthersAPI(),\n                new SolanaConnectionOptionsAPI(),\n            )\n        default:\n            throw new Error('Not supported.')\n    }\n}\n\nexport class AllConnectionAPI {\n    private creators = {\n        [NetworkPluginID.PLUGIN_EVM]: createCreator(NetworkPluginID.PLUGIN_EVM),\n        [NetworkPluginID.PLUGIN_FLOW]: createCreator(NetworkPluginID.PLUGIN_FLOW),\n        [NetworkPluginID.PLUGIN_SOLANA]: createCreator(NetworkPluginID.PLUGIN_SOLANA),\n    }\n\n    use<T extends NetworkPluginID>(\n        pluginID: T,\n        initial?: ConnectionOptions_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['Transaction']\n        >,\n    ) {\n        return (this.creators[pluginID] as unknown as ConnectionCreatorAPI_Base<T>).create(initial)\n    }\n}\n","import { memoize } from 'lodash-es'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions_Base, HubOptionsAPI_Base } from './HubOptionsAPI.js'\nimport type { OthersAPI_Base } from './OthersAPI.js'\nimport type { HubAPI_Base } from './HubAPI.js'\n\nconst resolver = <ChainId>(initial?: HubOptions_Base<ChainId>) => {\n    return [initial?.chainId, initial?.account, initial?.currencyType, initial?.sourceType].join(',')\n}\n\nexport class HubCreatorAPI_Base<T extends NetworkPluginID> {\n    constructor(\n        protected creator: (\n            initial?: HubOptions_Base<Web3Helper.Definition[T]['ChainId']>,\n        ) => HubAPI_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['SchemaType'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['NetworkType'],\n            Web3Helper.Definition[T]['MessageRequest'],\n            Web3Helper.Definition[T]['MessageResponse'],\n            Web3Helper.Definition[T]['Transaction'],\n            Web3Helper.Definition[T]['TransactionParameter'],\n            Web3Helper.Definition[T]['GasOption']\n        >,\n        protected Web3Others: OthersAPI_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['SchemaType'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['NetworkType'],\n            Web3Helper.Definition[T]['Transaction']\n        >,\n        protected Web3HubOptions: HubOptionsAPI_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['SchemaType'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['NetworkType'],\n            Web3Helper.Definition[T]['MessageRequest'],\n            Web3Helper.Definition[T]['MessageResponse'],\n            Web3Helper.Definition[T]['Transaction'],\n            Web3Helper.Definition[T]['TransactionParameter']\n        >,\n    ) {\n        this.createCached = memoize(creator, resolver<Web3Helper.Definition[T]['ChainId']>)\n    }\n    private createCached\n\n    create(initial?: HubOptions_Base<Web3Helper.Definition[T]['ChainId']>) {\n        return this.createCached(initial)\n    }\n}\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-flow'\nimport { HubOptionsAPI_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport { FlowWeb3StateRef } from './Web3StateAPI.js'\nimport { FlowOthersAPI } from './OthersAPI.js'\n\nexport class FlowHubOptionsAPI extends HubOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    override get Web3StateRef() {\n        return FlowWeb3StateRef\n    }\n\n    override get Web3Others() {\n        return new FlowOthersAPI()\n    }\n}\n","import type {\n    ChainId,\n    GasOption,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-flow'\nimport { FlowHubOptionsAPI } from './HubOptionsAPI.js'\nimport { HubBaseAPI_Base } from '../../Base/apis/HubBaseAPI.js'\n\nexport class FlowHubBaseAPI extends HubBaseAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n    GasOption\n> {\n    override getGasOptions = undefined\n    override getTransactions = undefined\n    protected override HubOptions = new FlowHubOptionsAPI(this.options)\n}\n","import { type Pageable, createPageable, type PageIndicator, createIndicator } from '@masknet/shared-base'\nimport { ChainId as ChainId_EVM } from '@masknet/web3-shared-evm'\nimport {\n    ChainId,\n    createClient,\n    createFungibleAsset,\n    createFungibleToken,\n    getTokenConstants,\n    type SchemaType,\n    isValidChainId,\n} from '@masknet/web3-shared-flow'\nimport { type FungibleAsset, CurrencyType, rightShift } from '@masknet/web3-shared-base'\nimport { CoinGeckoPriceEVM } from '../../../CoinGecko/index.js'\nimport type { HubOptions_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport type { FungibleTokenAPI, TokenListAPI } from '../../../entry-types.js'\n\nasync function getTokenBalance(\n    chainId: ChainId,\n    account: string,\n    decimals: number,\n    {\n        fungibleTokenAddress,\n        tokenAddress,\n        exportKey,\n        storageKey,\n    }: {\n        fungibleTokenAddress: string\n        tokenAddress: string\n        exportKey: string\n        storageKey: string\n    },\n) {\n    const sdk = createClient(chainId)\n    try {\n        const balance = await sdk.query({\n            cadence: `\n            import FungibleToken from ${fungibleTokenAddress}\n            import ${exportKey} from ${tokenAddress}\n\n            pub fun main(address: Address): UFix64 {\n                let account = getAccount(address)\n                let vaultRef = account\n                    .getCapability(/public/${storageKey})\n                    .borrow<&${exportKey}.Vault{FungibleToken.Balance}>()\n                    ?? panic(\"Could not borrow Balance capability\")\n\n                return vaultRef.balance\n            }\n        `,\n            args: (arg, t) => [arg(account, t.Address)],\n        })\n        return rightShift(balance, decimals).integerValue().toFixed()\n    } catch {\n        return '0'\n    }\n}\n\nasync function getAssetFUSD(chainId: ChainId, account: string) {\n    const { FUSD_ADDRESS = '', FUNGIBLE_TOKEN_ADDRESS = '' } = getTokenConstants(chainId)\n    const price = await CoinGeckoPriceEVM.getFungibleTokenPrice(ChainId_EVM.Mainnet, 'usd-coin', {\n        currencyType: CurrencyType.USD,\n    })\n    const balance = await getTokenBalance(chainId, account, 8, {\n        fungibleTokenAddress: FUNGIBLE_TOKEN_ADDRESS,\n        tokenAddress: FUSD_ADDRESS,\n        exportKey: 'FUSD',\n        storageKey: 'fusdBalance',\n    })\n    return createFungibleAsset(\n        createFungibleToken(\n            chainId,\n            FUSD_ADDRESS,\n            'Flow USD',\n            'FUSD',\n            8,\n            new URL('../assets/FUSD.png', import.meta.url).toString(),\n        ),\n        balance,\n        {\n            [CurrencyType.USD]: price?.toString(),\n        },\n    )\n}\n\nasync function getAssetFLOW(chainId: ChainId, account: string) {\n    const { FLOW_ADDRESS = '', FUNGIBLE_TOKEN_ADDRESS = '' } = getTokenConstants(chainId)\n    const price = await CoinGeckoPriceEVM.getFungibleTokenPrice(ChainId_EVM.Mainnet, 'flow', {\n        currencyType: CurrencyType.USD,\n    })\n    const balance = await getTokenBalance(chainId, account, 8, {\n        fungibleTokenAddress: FUNGIBLE_TOKEN_ADDRESS,\n        tokenAddress: FLOW_ADDRESS,\n        exportKey: 'FlowToken',\n        storageKey: 'flowTokenBalance',\n    })\n\n    return createFungibleAsset(\n        createFungibleToken(\n            chainId,\n            FLOW_ADDRESS,\n            'Flow',\n            'FLOW',\n            8,\n            new URL('../assets/flow.png', import.meta.url).toString(),\n        ),\n        balance,\n        {\n            [CurrencyType.USD]: price?.toString(),\n        },\n    )\n}\n\nasync function getAssetTether(chainId: ChainId, account: string) {\n    const { TETHER_ADDRESS = '', FUNGIBLE_TOKEN_ADDRESS = '' } = getTokenConstants(chainId)\n    const price = await CoinGeckoPriceEVM.getFungibleTokenPrice(ChainId_EVM.Mainnet, 'tether', {\n        currencyType: CurrencyType.USD,\n    })\n    const balance = await getTokenBalance(chainId, account, 8, {\n        fungibleTokenAddress: FUNGIBLE_TOKEN_ADDRESS,\n        tokenAddress: TETHER_ADDRESS,\n        exportKey: 'TeleportedTetherToken',\n        storageKey: 'teleportedTetherTokenBalance',\n    })\n\n    return createFungibleAsset(\n        createFungibleToken(\n            chainId,\n            TETHER_ADDRESS,\n            'Tether USD',\n            'tUSD',\n            8,\n            new URL('../assets/tUSD.png', import.meta.url).toString(),\n        ),\n        balance,\n        {\n            [CurrencyType.USD]: price?.toString(),\n        },\n    )\n}\n\nclass FlowFungibleAPI\n    implements FungibleTokenAPI.Provider<ChainId, SchemaType>, TokenListAPI.Provider<ChainId, SchemaType>\n{\n    async getAssets(\n        account: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<FungibleAsset<ChainId, SchemaType>, PageIndicator>> {\n        if (!isValidChainId(chainId)) return createPageable([], createIndicator(indicator))\n        const allSettled = await Promise.allSettled([\n            getAssetFLOW(chainId, account),\n            getAssetFUSD(chainId, account),\n            getAssetTether(chainId, account),\n        ])\n\n        const items = allSettled.map((x) => (x.status === 'fulfilled' ? x.value : null)).filter(Boolean) as Array<\n            FungibleAsset<ChainId, SchemaType>\n        >\n        return createPageable(items, createIndicator(indicator))\n    }\n\n    async getFungibleTokenList(chainId: ChainId) {\n        const { FLOW_ADDRESS = '', FUSD_ADDRESS = '', TETHER_ADDRESS = '' } = getTokenConstants(chainId)\n        return [\n            createFungibleToken(\n                chainId,\n                FLOW_ADDRESS,\n                'Flow',\n                'FLOW',\n                8,\n                new URL('../assets/flow.png', import.meta.url).toString(),\n            ),\n            createFungibleToken(\n                chainId,\n                FUSD_ADDRESS,\n                'Flow USD',\n                'FUSD',\n                8,\n                new URL('../assets/FUSD.png', import.meta.url).toString(),\n            ),\n            createFungibleToken(\n                chainId,\n                TETHER_ADDRESS,\n                'Tether USD',\n                'tUSD',\n                8,\n                new URL('../assets/tUSD.png', import.meta.url).toString(),\n            ),\n        ]\n    }\n}\nexport const FlowFungible = new FlowFungibleAPI()\n","import { SourceType } from '@masknet/web3-shared-base'\nimport type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-flow'\nimport { FlowFungible } from './FungibleTokenAPI.js'\nimport { FlowConnectionAPI } from './ConnectionAPI.js'\nimport { FlowHubOptionsAPI } from './HubOptionsAPI.js'\nimport { HubFungibleAPI_Base } from '../../Base/apis/HubFungibleAPI.js'\nimport type { HubOptions_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport type { FungibleTokenAPI } from '../../../entry-types.js'\n\nexport class FlowHubFungibleAPI extends HubFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    private FlowWeb3 = new FlowConnectionAPI()\n\n    protected override HubOptions = new FlowHubOptionsAPI(this.options)\n\n    protected override getProviders(initial?: HubOptions_Base<ChainId>) {\n        return this.getPredicateProviders<FungibleTokenAPI.Provider<ChainId, SchemaType>>(\n            {\n                [SourceType.Flow]: FlowFungible,\n            },\n            [FlowFungible],\n            initial,\n        )\n    }\n\n    public override getFungibleToken(address: string, initial?: HubOptions_Base<ChainId>) {\n        return this.FlowWeb3.getFungibleToken(address, initial)\n    }\n}\n","import urlcat from 'urlcat'\nimport { createIndicator, createPageable } from '@masknet/shared-base'\nimport { resolveArweaveURL, type NonFungibleAsset, TokenType, SourceType } from '@masknet/web3-shared-base'\nimport { ChainId, getContractAddress, SchemaType, isValidChainId } from '@masknet/web3-shared-flow'\nimport { Alchemy_FLOW_NetworkMap, FILTER_WORDS } from '../constants.js'\nimport type { AlchemyNFT_Flow, AlchemyResponse_Flow, AlchemyResponse_Flow_Metadata } from '../types.js'\nimport { formatAlchemyTokenId, formatAlchemyTokenAddress } from '../helpers.js'\nimport { fetchJSON } from '../../helpers/fetchJSON.js'\nimport { getAssetFullName } from '../../helpers/getAssetFullName.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../../entry-types.js'\n\nfunction createNonFungibleTokenImageURL(asset: AlchemyNFT_Flow | AlchemyResponse_Flow_Metadata) {\n    return (\n        asset?.metadata?.metadata?.find((data) => data?.name === 'img')?.value ||\n        asset?.metadata?.metadata?.find((data) => data?.name === 'eventImage')?.value ||\n        asset?.metadata?.metadata?.find((data) => data?.name === 'ipfsLink')?.value ||\n        asset?.media?.find((data) => data?.mimeType === 'image/png | image')?.uri ||\n        resolveArweaveURL(asset?.metadata?.metadata?.find((data) => data?.name === 'arLink')?.value || '')\n    )\n}\n\nfunction createNonFungibleToken(chainId: ChainId, asset: AlchemyNFT_Flow): NonFungibleAsset<ChainId, SchemaType> {\n    const tokenId = formatAlchemyTokenId(asset.id.tokenId)\n    const address = formatAlchemyTokenAddress(asset.contract.address, asset.contract.name)\n    return {\n        id: `${asset.contract.address}_${tokenId}`,\n        chainId,\n        type: TokenType.NonFungible,\n        schema: SchemaType.NonFungible,\n        tokenId,\n        address,\n        metadata: {\n            chainId,\n            name: getAssetFullName(address, asset?.contract?.name ?? '', asset?.contract?.name, tokenId),\n            symbol: '',\n            description: asset.description,\n            imageURL: createNonFungibleTokenImageURL(asset),\n            mediaURL: asset?.media?.find((data) => data?.mimeType === 'image/png | image')?.uri,\n        },\n        contract: {\n            chainId,\n            schema: SchemaType.NonFungible,\n            address,\n            name: asset?.contract?.name ?? '',\n            symbol: '',\n        },\n        source: SourceType.Alchemy_FLOW,\n    }\n}\n\nfunction createNonFungibleAsset(\n    chainId: ChainId,\n    ownerAddress: string,\n    metadata: AlchemyResponse_Flow_Metadata,\n): NonFungibleAsset<ChainId, SchemaType> {\n    const tokenId = formatAlchemyTokenId(metadata.id.tokenId)\n    const address = formatAlchemyTokenAddress(metadata.contract.address, metadata.contract.name)\n    return {\n        id: `${metadata.contract.address}_${tokenId}`,\n        chainId,\n        type: TokenType.NonFungible,\n        schema: SchemaType.NonFungible,\n        tokenId,\n        address,\n        metadata: {\n            chainId,\n            name: getAssetFullName(address, metadata.contract?.name ?? '', metadata.contract?.name, tokenId),\n            symbol: '',\n            description: metadata.description,\n            imageURL: createNonFungibleTokenImageURL(metadata),\n            mediaURL: metadata.media?.find((data) => data?.mimeType === 'image/png | image')?.uri,\n        },\n        contract: {\n            chainId,\n            schema: SchemaType.NonFungible,\n            address,\n            name: metadata.contract?.name,\n            symbol: '',\n        },\n        collection: {\n            chainId,\n            name: '',\n            slug: '',\n            description: metadata.description,\n        },\n        link: '',\n        owner: {\n            address: ownerAddress,\n        },\n        traits: metadata.metadata?.metadata\n            .map((x) => ({\n                type: x.name,\n                value: x.value,\n            }))\n            ?.filter((trait) => FILTER_WORDS?.findIndex((name) => name === trait.type) === -1),\n        source: SourceType.Alchemy_FLOW,\n    }\n}\n\nclass AlchemyFlowAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getAsset(\n        address: string,\n        tokenId: string,\n        { account, chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ) {\n        const { address: contractAddress, identifier: contractName } = getContractAddress(address) ?? {}\n        if (!account || !contractAddress || !contractName || !isValidChainId(chainId)) return\n        const chainInfo = Alchemy_FLOW_NetworkMap?.chains?.find((chain) => chain.chainId === chainId)\n        const metadata = await fetchJSON<AlchemyResponse_Flow_Metadata>(\n            urlcat(`${chainInfo?.baseURL}/getNFTMetadata/`, {\n                owner: account,\n                contractAddress,\n                contractName,\n                tokenId,\n            }),\n        )\n\n        if (!metadata) return\n        return createNonFungibleAsset(chainId, account, metadata)\n    }\n\n    async getAssets(from: string, { chainId, indicator }: HubOptions_Base<ChainId> = {}) {\n        if (!from || !isValidChainId(chainId)) return createPageable([], createIndicator(indicator))\n        const chainInfo = Alchemy_FLOW_NetworkMap?.chains?.find((chain) => chain.chainId === chainId)\n        const res = await fetchJSON<AlchemyResponse_Flow>(\n            urlcat(`${chainInfo?.baseURL}/getNFTs/`, {\n                owner: from,\n                pageKey: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n            }),\n        )\n        const assets = res?.nfts?.map((nft) => createNonFungibleToken(chainId ?? ChainId.Mainnet, nft))\n        return createPageable(assets, createIndicator(indicator))\n    }\n}\n\nexport const AlchemyFlow = new AlchemyFlowAPI()\n","import { SourceType } from '@masknet/web3-shared-base'\nimport type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-flow'\nimport { FlowHubOptionsAPI } from './HubOptionsAPI.js'\nimport { HubNonFungibleAPI_Base } from '../../Base/apis/HubNonFungibleAPI.js'\nimport type { HubOptions_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport { AlchemyFlow } from '../../../Alchemy/index.js'\nimport type { NonFungibleTokenAPI } from '../../../entry-types.js'\n\nexport class FlowHubNonFungibleAPI extends HubNonFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    protected override HubOptions = new FlowHubOptionsAPI(this.options)\n\n    protected override getProviders(initial?: HubOptions_Base<ChainId>) {\n        return this.getPredicateProviders<NonFungibleTokenAPI.Provider<ChainId, SchemaType>>(\n            {\n                [SourceType.Alchemy_FLOW]: AlchemyFlow,\n            },\n            [AlchemyFlow],\n            initial,\n        )\n    }\n}\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-solana'\nimport { HubOptionsAPI_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport { SolanaOthersAPI } from './OthersAPI.js'\nimport { SolanaWeb3StateRef } from './Web3StateAPI.js'\n\nexport class SolanaHubOptionsAPI extends HubOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    override get Web3StateRef() {\n        return SolanaWeb3StateRef\n    }\n\n    override get Web3Others() {\n        return new SolanaOthersAPI()\n    }\n}\n","import type {\n    ChainId,\n    GasOption,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-solana'\nimport { SolanaHubOptionsAPI } from './HubOptionsAPI.js'\nimport { HubBaseAPI_Base } from '../../Base/apis/HubBaseAPI.js'\n\nexport class SolanaHubBaseAPI extends HubBaseAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n    GasOption\n> {\n    override getGasOptions = undefined\n    override getTransactions = undefined\n    protected override HubOptions = new SolanaHubOptionsAPI(this.options)\n}\n","import { attemptUntil, SourceType } from '@masknet/web3-shared-base'\nimport {\n    ChainId,\n    type SchemaType,\n    type ProviderType,\n    type NetworkType,\n    type MessageRequest,\n    type MessageResponse,\n    type Transaction,\n    type TransactionParameter,\n} from '@masknet/web3-shared-solana'\nimport { HubFungibleAPI_Base } from '../../Base/apis/HubFungibleAPI.js'\nimport { SolanaHubOptionsAPI } from './HubOptionsAPI.js'\nimport { SolanaConnectionAPI } from './ConnectionAPI.js'\nimport { SolanaWeb3StateRef } from './Web3StateAPI.js'\nimport type { HubOptions } from '../types/index.js'\nimport { CoinGeckoPriceSolana } from '../../../CoinGecko/index.js'\nimport { SolanaFungible } from './FungibleTokenAPI.js'\nimport type { FungibleTokenAPI, PriceAPI } from '../../../entry-types.js'\n\nexport class SolanaHubFungibleAPI extends HubFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    private Web3 = new SolanaConnectionAPI()\n\n    protected override HubOptions = new SolanaHubOptionsAPI(this.options)\n\n    protected override getProviders(initial?: HubOptions) {\n        const options = this.HubOptions.fill(initial)\n\n        // only the first page is available\n        if ((options.indicator?.index ?? 0) > 0) return []\n\n        return this.getPredicateProviders<FungibleTokenAPI.Provider<ChainId, SchemaType> | PriceAPI.Provider<ChainId>>(\n            {\n                [SourceType.Solana]: SolanaFungible,\n                [SourceType.CoinGecko]: CoinGeckoPriceSolana,\n            },\n            [SolanaFungible, CoinGeckoPriceSolana],\n            initial,\n        )\n    }\n\n    override getFungibleToken(address: string, initial?: HubOptions | undefined) {\n        return attemptUntil(\n            [\n                () =>\n                    SolanaWeb3StateRef.value.Token?.createFungibleToken?.(initial?.chainId ?? ChainId.Mainnet, address),\n                () => this.Web3.getFungibleToken(address, initial),\n            ],\n            undefined,\n        )\n    }\n}\n","import { Connection } from '@metaplex/js'\nimport { Metadata } from '@metaplex-foundation/mpl-token-metadata'\nimport { EMPTY_LIST, createIndicator, createPageable, type Pageable } from '@masknet/shared-base'\nimport { type NonFungibleAsset, TokenType } from '@masknet/web3-shared-base'\nimport { ChainId, SchemaType } from '@masknet/web3-shared-solana'\nimport type { GetProgramAccountsResponse, HubOptions } from '../types/index.js'\nimport { requestRPC } from '../helpers/index.js'\nimport { fetchJSON } from '../../../helpers/fetchJSON.js'\nimport { getAssetFullName } from '../../../helpers/getAssetFullName.js'\nimport type { NonFungibleTokenAPI } from '../../../entry-types.js'\n\ninterface ExternalMetadata {\n    name: string\n    symbol: string\n    description: string\n    image?: string\n    animation?: string\n    properties: {\n        files: Array<{\n            uri: string\n            type: LiteralUnion<'image/jpeg', 'image/png'>\n        }>\n        category: string\n        creators: Array<{\n            address: string\n            share: 100\n        }>\n    }\n}\n\nasync function getNonFungibleAssets(\n    chainId: ChainId,\n    account: string,\n): Promise<Array<NonFungibleAsset<ChainId, SchemaType>>> {\n    const data = await requestRPC<GetProgramAccountsResponse>(chainId, {\n        method: 'getProgramAccounts',\n        params: [\n            'https://api.raydium.io/v2/sdk/token/raydium.mainnet.json',\n            {\n                encoding: 'jsonParsed',\n                filters: [\n                    {\n                        dataSize: 165,\n                    },\n                    {\n                        memcmp: {\n                            offset: 32,\n                            bytes: account,\n                        },\n                    },\n                ],\n            },\n        ],\n    })\n    if (!data.result?.length) return EMPTY_LIST\n    const connection = new Connection('mainnet-beta')\n    const nftTokens = data.result.filter((x) => x.account.data.parsed.info.tokenAmount.decimals === 0)\n    const promises = nftTokens.map(async (x): Promise<NonFungibleAsset<ChainId, SchemaType> | null> => {\n        const pda = await Metadata.getPDA(x.account.data.parsed.info.mint)\n        const metadata = await Metadata.load(connection, pda)\n        if (!metadata) return null\n        const externalMeta = await fetchJSON<ExternalMetadata>(metadata.data.data.uri).catch(() => null)\n        const pubkey = pda.toBase58()\n        return {\n            id: pubkey,\n            tokenId: pubkey,\n            chainId,\n            type: TokenType.NonFungible,\n            schema: SchemaType.NonFungible,\n            address: '',\n            contract: {\n                chainId,\n                name: metadata.data.data.name,\n                symbol: metadata.data.data.symbol,\n                address: pubkey,\n                schema: SchemaType.NonFungible,\n            },\n            metadata: {\n                chainId,\n                name: getAssetFullName(pubkey, metadata.data.data.name, metadata.data.data.name),\n                symbol: metadata.data.data.symbol,\n                description: externalMeta?.description,\n                mediaURL: externalMeta?.animation ?? externalMeta?.image ?? '',\n                mediaType: externalMeta?.properties?.category || 'Unknown',\n            },\n        }\n    })\n\n    const allSettled = await Promise.allSettled(promises)\n    return allSettled.flatMap((x) => (x.status === 'fulfilled' ? x.value ?? [] : []))\n}\n\nclass SolanaNonFungibleTokenAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getAssets(address: string, options?: HubOptions): Promise<Pageable<NonFungibleAsset<ChainId, SchemaType>>> {\n        const tokens = await getNonFungibleAssets(options?.chainId ?? ChainId.Mainnet, address)\n\n        return createPageable(tokens, createIndicator(options?.indicator))\n    }\n}\nexport const SolanaNonFungible = new SolanaNonFungibleTokenAPI()\n","import urlcat from 'urlcat'\nimport { createIndicator, createNextIndicator, createPageable, type Pageable, EMPTY_LIST } from '@masknet/shared-base'\nimport {\n    type NonFungibleCollection,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenEvent,\n} from '@masknet/web3-shared-base'\nimport { ChainId, type SchemaType, isValidChainId } from '@masknet/web3-shared-solana'\nimport {\n    createNonFungibleAsset,\n    createNonFungibleCollection,\n    createNonFungibleTokenContract,\n    createNonFungibleTokenEvent,\n    fetchFromNFTScanV2,\n} from '../helpers/Solana.js'\nimport type { PageableResponse, Response, Solana } from '../types/index.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../../entry-types.js'\n\nclass NFTScanNonFungibleTokenAPI_Solana implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getAsset(address: string, _?: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return\n        const path = urlcat('/api/sol/assets/:address', {\n            address,\n            show_attribute: true,\n        })\n        const response = await fetchFromNFTScanV2<Response<Solana.Asset>>(chainId, path)\n        if (!response?.data) return\n        const asset = createNonFungibleAsset(chainId, response.data)\n        return asset\n    }\n\n    async getAssets(\n        account: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const path = urlcat('/api/sol/account/own/:from', {\n            from: account,\n            account_address: account,\n            cursor: indicator?.id,\n            limit: size,\n            show_attribute: true,\n        })\n        const response = await fetchFromNFTScanV2<PageableResponse<Solana.Asset>>(chainId, path)\n        const assets = response?.data.content.map((x) => createNonFungibleAsset(chainId, x)) ?? EMPTY_LIST\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response?.data.next ? createNextIndicator(indicator, response?.data.next) : undefined,\n        )\n    }\n\n    async getAssetsByCollection(\n        name: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId) || !name) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const path = urlcat('/api/sol/assets/collection/:name', {\n            name,\n            collection: name,\n            cursor: indicator?.id,\n            limit: size,\n        })\n        const response = await fetchFromNFTScanV2<PageableResponse<Solana.Asset>>(chainId, path)\n        const assets = response?.data?.content.map((x) => createNonFungibleAsset(chainId, x)) ?? EMPTY_LIST\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response?.data.next ? createNextIndicator(indicator, response?.data.next) : undefined,\n        )\n    }\n\n    async getCollection(\n        name: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleCollection<ChainId, SchemaType> | undefined> {\n        const path = urlcat('/api/sol/collections/:name', {\n            collection: name,\n        })\n        const response = await fetchFromNFTScanV2<Response<Solana.Collection>>(chainId, path)\n        if (!response?.data) return\n        return createNonFungibleCollection(chainId, response.data)\n    }\n\n    async getContract(\n        address: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType> | undefined> {\n        const path = urlcat('/api/v2/collections/:address', {\n            address,\n        })\n        const response = await fetchFromNFTScanV2<Response<Solana.Collection>>(chainId, path)\n        if (!response?.data) return\n        return createNonFungibleTokenContract(chainId, response.data)\n    }\n\n    async getEvents(\n        address: string,\n        _: string,\n        { chainId = ChainId.Mainnet, indicator, size = 20 }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<NonFungibleTokenEvent<ChainId, SchemaType>>> {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const path = urlcat('/api/sol/transactions/:address', {\n            address,\n            token_address: address,\n            limit: size,\n            cursor: indicator?.id,\n        })\n        const response = await fetchFromNFTScanV2<PageableResponse<Solana.Transaction>>(chainId, path)\n        const events = response?.data.content.map((x) => createNonFungibleTokenEvent(chainId, x)) ?? EMPTY_LIST\n        return createPageable(\n            events,\n            createIndicator(indicator),\n            response?.data.next ? createNextIndicator(indicator, response?.data.next) : undefined,\n        )\n    }\n}\nexport const NFTScanNonFungibleTokenSolana = new NFTScanNonFungibleTokenAPI_Solana()\n","import { SourceType, TokenType, type NonFungibleAsset, type NonFungibleCollection } from '@masknet/web3-shared-base'\nimport { isValidDomain, ChainId, SchemaType, isValidChainId } from '@masknet/web3-shared-solana'\nimport { isEmpty } from 'lodash-es'\nimport { createPermalink as SolanaCreatePermalink } from '../NFTScan/helpers/Solana.js'\nimport { getAssetFullName } from '../helpers/getAssetFullName.js'\nimport { type SimpleHash } from '../types/SimpleHash.js'\nimport { SPAM_SCORE } from './constants.js'\n\nexport function createSolanaNonFungibleAsset(\n    asset: SimpleHash.Asset,\n): NonFungibleAsset<ChainId, SchemaType> | undefined {\n    if (isEmpty(asset)) return\n    const chainId = resolveSolanaChainId(asset.chain)\n    const address = asset.contract_address\n    const schema = SchemaType.NonFungible\n\n    const spam_score = asset.collection.spam_score\n    if (!chainId || !isValidChainId(chainId) || !address || (spam_score !== null && spam_score >= SPAM_SCORE)) return\n    // On Solana the contract is synonymous with the mint address - the field name on collection is recommended instead\n    const name = isValidDomain(asset.name)\n        ? asset.name\n        : getAssetFullName(asset.contract_address, asset.collection.name, asset.name, asset.token_id)\n\n    return {\n        id: address,\n        chainId,\n        link: SolanaCreatePermalink(chainId, address),\n        tokenId: asset.token_id,\n        type: TokenType.NonFungible,\n        address,\n        schema,\n        creator: {\n            address: asset.contract.deployed_by,\n        },\n        owner: {\n            address: asset.owners?.[0].owner_address,\n        },\n        // TODO\n        priceInToken: undefined,\n        metadata: {\n            chainId,\n            name,\n            tokenId: asset.token_id,\n            symbol: asset.contract.symbol,\n            description: asset.description,\n            imageURL: asset.image_url || asset.previews.image_large_url,\n            previewImageURL: asset.previews.image_small_url,\n            blurhash: asset.previews.blurhash,\n            mediaURL: asset.image_url || asset.previews.image_large_url,\n        },\n        contract: {\n            chainId,\n            schema,\n            address: asset.contract_address,\n            // On Solana the contract is synonymous with the mint address - the field name on collection is recommended instead\n            name: asset.collection.name,\n            symbol: asset.contract.symbol,\n        },\n        collection: {\n            chainId,\n            name: asset.collection.name || '',\n            slug: asset.contract.name,\n            description: asset.collection.description,\n            address: asset.contract_address,\n            iconURL: asset.collection.image_url,\n            verified: Boolean(asset.collection.marketplace_pages?.some((x) => x.verified)),\n            createdAt: new Date(asset.created_date).getTime(),\n        },\n        source: SourceType.SimpleHash,\n    }\n}\n\nexport function createSolanaNonFungibleCollection(\n    collection: SimpleHash.Collection,\n): NonFungibleCollection<ChainId, SchemaType> {\n    const chainId = resolveSolanaChainId(collection.chain)!\n\n    const verifiedMarketplaces = collection.marketplace_pages?.filter((x) => x.verified) || []\n    return {\n        id: collection.id,\n        chainId,\n        name: collection.name || '',\n        slug: collection.name,\n        schema: SchemaType.NonFungible,\n        balance: collection.distinct_nfts_owned,\n        iconURL: collection.image_url,\n        ownersTotal: collection.total_quantity,\n        source: SourceType.SimpleHash,\n        address: collection.top_contracts?.[0]?.split('.')?.[1] ?? '',\n        verified: verifiedMarketplaces.length > 0,\n        verifiedBy: verifiedMarketplaces.map((x) => x.marketplace_name),\n    }\n}\n\nexport function resolveSolanaChainId(chain: string): ChainId | undefined {\n    // Some of the `chainResolver.chainId()` results do not match.\n    switch (chain) {\n        case 'solana':\n            return ChainId.Mainnet\n        default:\n            return undefined\n    }\n}\n","import urlcat from 'urlcat'\nimport {\n    EMPTY_LIST,\n    NetworkPluginID,\n    createIndicator,\n    createNextIndicator,\n    createPageable,\n    type PageIndicator,\n    type Pageable,\n} from '@masknet/shared-base'\nimport { type NonFungibleAsset, type NonFungibleCollection } from '@masknet/web3-shared-base'\nimport { ChainId, isValidChainId, type SchemaType } from '@masknet/web3-shared-solana'\nimport { fetchFromSimpleHash, resolveChain } from '../helpers.js'\nimport type { HubOptions_Base, NonFungibleTokenAPI } from '../../entry-types.js'\nimport {\n    createSolanaNonFungibleAsset,\n    createSolanaNonFungibleCollection,\n    resolveSolanaChainId,\n} from '../solana-helpers.js'\nimport { SPAM_SCORE } from '../constants.js'\nimport type { SimpleHash } from '../../types/SimpleHash.js'\n\nclass SimpleHashAPI_Solana implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    async getAsset(address: string, tokenId: string, { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {}) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_SOLANA, chainId)\n        if (!chain || !address || !tokenId || !isValidChainId(chainId)) return\n        const path = urlcat('/api/v0/nfts/:chain/:address/:tokenId', {\n            chain,\n            address,\n            tokenId,\n        })\n        const response = await fetchFromSimpleHash<SimpleHash.Asset>(path)\n        return createSolanaNonFungibleAsset(response)\n    }\n\n    async getAssets(account: string, { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {}) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_SOLANA, chainId)\n        if (!account || !isValidChainId(chainId) || !chain) {\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n        }\n        const path = urlcat('/api/v0/nfts/owners', {\n            chains: chain,\n            wallet_addresses: account,\n            contract_addresses: '',\n            cursor: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n        })\n\n        const response = await fetchFromSimpleHash<{ next_cursor: string; nfts: SimpleHash.Asset[] }>(path)\n        const assets = response.nfts.map((x) => createSolanaNonFungibleAsset(x)).filter(Boolean) as Array<\n            NonFungibleAsset<ChainId, SchemaType>\n        >\n\n        return createPageable(\n            assets,\n            indicator,\n            response.next_cursor ? createNextIndicator(indicator, response.next_cursor) : undefined,\n        )\n    }\n\n    async getAssetsByCollection(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions_Base<ChainId> = {},\n    ) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_SOLANA, chainId)\n        if (!chain || !address || !isValidChainId(chainId)) {\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n        }\n\n        const path = urlcat(`/api/v0/nfts/${chain}/:address`, {\n            address,\n            cursor: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n        })\n\n        const response = await fetchFromSimpleHash<{ next_cursor: string; nfts: SimpleHash.Asset[] }>(path)\n\n        const assets = response.nfts.map((x) => createSolanaNonFungibleAsset(x)).filter(Boolean) as Array<\n            NonFungibleAsset<ChainId, SchemaType>\n        >\n\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response.next_cursor ? createNextIndicator(indicator, response.next_cursor) : undefined,\n        )\n    }\n\n    async getCollectionsByOwner(\n        account: string,\n        { chainId, indicator }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<NonFungibleCollection<ChainId, SchemaType>, PageIndicator>> {\n        if (!account || !isValidChainId(chainId)) {\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n        }\n\n        const path = urlcat('/api/v0/nfts/collections_by_wallets', {\n            chains: 'solana',\n            wallet_addresses: account,\n        })\n\n        const response = await fetchFromSimpleHash<{ collections: SimpleHash.Collection[] }>(path)\n\n        const collections = response.collections\n            // Might got bad data responded including id field and other fields empty\n            .filter((x) => {\n                return (\n                    x.id &&\n                    isValidChainId(resolveSolanaChainId(x.chain)) &&\n                    (x.spam_score === null || x.spam_score <= SPAM_SCORE)\n                )\n            })\n            .map((x) => createSolanaNonFungibleCollection(x))\n\n        return createPageable(collections, createIndicator(indicator))\n    }\n\n    async getAssetsByCollectionAndOwner(\n        collectionId: string,\n        owner: string,\n        { chainId = ChainId.Mainnet, indicator, size = 50 }: HubOptions_Base<ChainId> = {},\n    ) {\n        const chain = resolveChain(NetworkPluginID.PLUGIN_SOLANA, chainId)\n        if (!chain || !isValidChainId(chainId) || !collectionId || !owner)\n            return createPageable(EMPTY_LIST, createIndicator(indicator))\n\n        const path = urlcat('/api/v0/nfts/owners', {\n            chains: chain,\n            wallet_addresses: owner,\n            collection_ids: collectionId,\n            cursor: typeof indicator?.index !== 'undefined' && indicator.index !== 0 ? indicator.id : undefined,\n            limit: size,\n        })\n\n        const response = await fetchFromSimpleHash<{ nfts: SimpleHash.Asset[]; next_cursor: string }>(path)\n\n        const assets = response.nfts.map((x) => createSolanaNonFungibleAsset(x)).filter(Boolean) as Array<\n            NonFungibleAsset<ChainId, SchemaType>\n        >\n\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            response.next_cursor ? createNextIndicator(indicator, response.next_cursor) : undefined,\n        )\n    }\n\n    async getCollectionVerifiedBy(id: string) {\n        const path = urlcat('/api/v0/nfts/collections/ids', {\n            collection_ids: id,\n        })\n        const response = await fetchFromSimpleHash<{ collections: SimpleHash.Collection[] }>(path)\n        if (!response.collections.length) return []\n        const marketplaces = response.collections[0].marketplace_pages?.filter((x) => x.verified) || []\n        return marketplaces.map((x) => x.marketplace_name)\n    }\n}\nexport const SimpleHashSolana = new SimpleHashAPI_Solana()\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-solana'\nimport { SourceType } from '@masknet/web3-shared-base'\nimport { HubNonFungibleAPI_Base } from '../../Base/apis/HubNonFungibleAPI.js'\nimport type { HubOptions_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport { SolanaHubOptionsAPI } from './HubOptionsAPI.js'\nimport { MagicEden } from '../../../MagicEden/index.js'\nimport { SolanaNonFungible } from './NonFungibleTokenAPI.js'\nimport { NFTScanNonFungibleTokenSolana } from '../../../NFTScan/index.js'\nimport { SimpleHashSolana } from '../../../SimpleHash/index.js'\nimport type { NonFungibleTokenAPI } from '../../../entry-types.js'\n\nexport class SolanaHubNonFungibleAPI extends HubNonFungibleAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    protected override HubOptions = new SolanaHubOptionsAPI(this.options)\n\n    protected override getProviders(initial?: HubOptions_Base<ChainId>) {\n        return this.getPredicateProviders<NonFungibleTokenAPI.Provider<ChainId, SchemaType>>(\n            {\n                [SourceType.MagicEden]: MagicEden,\n                [SourceType.Solana]: SolanaNonFungible,\n                [SourceType.NFTScan]: NFTScanNonFungibleTokenSolana,\n                [SourceType.SimpleHash]: SimpleHashSolana,\n            },\n            [SimpleHashSolana, NFTScanNonFungibleTokenSolana, MagicEden, SolanaNonFungible],\n            initial,\n        )\n    }\n}\n","import { NetworkPluginID, mixin } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions_Base } from '../../Base/apis/HubOptionsAPI.js'\nimport { HubCreatorAPI_Base } from '../../Base/apis/HubCreatorAPI.js'\nimport { FlowHubBaseAPI } from '../../Flow/apis/HubBaseAPI.js'\nimport { FlowHubFungibleAPI } from '../../Flow/apis/HubFungibleAPI.js'\nimport { FlowHubNonFungibleAPI } from '../../Flow/apis/HubNonFungibleAPI.js'\nimport { FlowHubOptionsAPI } from '../../Flow/apis/HubOptionsAPI.js'\nimport { FlowOthersAPI } from '../../Flow/apis/OthersAPI.js'\nimport { SolanaHubBaseAPI } from '../../Solana/apis/HubBaseAPI.js'\nimport { SolanaHubFungibleAPI } from '../../Solana/apis/HubFungibleAPI.js'\nimport { SolanaHubNonFungibleAPI } from '../../Solana/apis/HubNonFungibleAPI.js'\nimport { SolanaHubOptionsAPI } from '../../Solana/apis/HubOptionsAPI.js'\nimport { SolanaOthersAPI } from '../../Solana/apis/OthersAPI.js'\nimport { HubBaseAPI } from '../../EVM/apis/HubBaseAPI.js'\nimport { HubFungibleAPI } from '../../EVM/apis/HubFungibleAPI.js'\nimport { HubNonFungibleAPI } from '../../EVM/apis/HubNonFungibleAPI.js'\nimport { HubOptionsAPI } from '../../EVM/apis/HubOptionsAPI.js'\nimport { OthersAPI } from '../../EVM/apis/OthersAPI.js'\n\nexport class AllHubAPI {\n    private creators = {\n        [NetworkPluginID.PLUGIN_EVM]: new HubCreatorAPI_Base<NetworkPluginID.PLUGIN_EVM>(\n            (initial) => {\n                return mixin(new HubBaseAPI(initial), new HubFungibleAPI(initial), new HubNonFungibleAPI(initial))\n            },\n            new OthersAPI(),\n            new HubOptionsAPI(),\n        ),\n        [NetworkPluginID.PLUGIN_FLOW]: new HubCreatorAPI_Base<NetworkPluginID.PLUGIN_FLOW>(\n            (initial) => {\n                return mixin(\n                    new FlowHubBaseAPI(initial),\n                    new FlowHubFungibleAPI(initial),\n                    new FlowHubNonFungibleAPI(initial),\n                )\n            },\n            new FlowOthersAPI(),\n            new FlowHubOptionsAPI(),\n        ),\n        [NetworkPluginID.PLUGIN_SOLANA]: new HubCreatorAPI_Base<NetworkPluginID.PLUGIN_SOLANA>(\n            (initial) => {\n                return mixin(\n                    new SolanaHubBaseAPI(initial),\n                    new SolanaHubFungibleAPI(initial),\n                    new SolanaHubNonFungibleAPI(initial),\n                )\n            },\n            new SolanaOthersAPI(),\n            new SolanaHubOptionsAPI(),\n        ),\n    }\n\n    use<T extends NetworkPluginID>(pluginID: T, initial?: HubOptions_Base<Web3Helper.Definition[T]['ChainId']>) {\n        return (this.creators[pluginID] as unknown as HubCreatorAPI_Base<T>).create(initial)\n    }\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { OthersAPI } from '../../EVM/apis/OthersAPI.js'\nimport { FlowOthersAPI } from '../../Flow/apis/OthersAPI.js'\nimport { SolanaOthersAPI } from '../../Solana/apis/OthersAPI.js'\nimport type { OthersAPI_Base } from '../../Base/apis/OthersAPI.js'\n\nexport class AllOthersAPI {\n    private creators = {\n        [NetworkPluginID.PLUGIN_EVM]: new OthersAPI(),\n        [NetworkPluginID.PLUGIN_FLOW]: new FlowOthersAPI(),\n        [NetworkPluginID.PLUGIN_SOLANA]: new SolanaOthersAPI(),\n    }\n\n    use<T extends NetworkPluginID>(pluginID: T) {\n        return this.creators[pluginID] as OthersAPI_Base<\n            Web3Helper.Definition[T]['ChainId'],\n            Web3Helper.Definition[T]['SchemaType'],\n            Web3Helper.Definition[T]['ProviderType'],\n            Web3Helper.Definition[T]['NetworkType'],\n            Web3Helper.Definition[T]['Transaction']\n        >\n    }\n}\n","import { memoize } from 'lodash-es'\nimport type { Connection } from '@solana/web3.js'\nimport { type ChainId, createClient } from '@masknet/web3-shared-solana'\nimport { SolanaConnectionOptionsAPI } from './ConnectionOptionsAPI.js'\nimport { SolanaProviders } from '../providers/index.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nconst createWeb3SDK = memoize(\n    (chainId: ChainId) => createClient(chainId),\n    (chainId) => chainId,\n)\n\nexport class SolanaWeb3API {\n    constructor(private options?: ConnectionOptions) {\n        this.ConnectionOptions = new SolanaConnectionOptionsAPI(this.options)\n    }\n    private ConnectionOptions\n    getProviderInstance(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return SolanaProviders[options.providerType]\n    }\n\n    getWeb3(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return this.getProviderInstance(options).createWeb3(options)\n    }\n\n    getWeb3Provider(initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        return this.getProviderInstance(options).createWeb3Provider(options)\n    }\n\n    getWeb3Connection(initial?: ConnectionOptions): Connection {\n        const options = this.ConnectionOptions.fill(initial)\n        return createWeb3SDK(options.chainId)\n    }\n}\n","import { TOKEN_PROGRAM_ID, ASSOCIATED_TOKEN_PROGRAM_ID } from '@solana/spl-token'\nimport { type PublicKey, TransactionInstruction, SystemProgram, SYSVAR_RENT_PUBKEY } from '@solana/web3.js'\n\nexport function createAssociatedTokenAccountInstruction(\n    payer: PublicKey,\n    associatedToken: PublicKey,\n    owner: PublicKey,\n    mint: PublicKey,\n    programId = TOKEN_PROGRAM_ID,\n    associatedTokenProgramId = ASSOCIATED_TOKEN_PROGRAM_ID,\n): TransactionInstruction {\n    const keys = [\n        { pubkey: payer, isSigner: true, isWritable: true },\n        { pubkey: associatedToken, isSigner: false, isWritable: true },\n        { pubkey: owner, isSigner: false, isWritable: false },\n        { pubkey: mint, isSigner: false, isWritable: false },\n        { pubkey: SystemProgram.programId, isSigner: false, isWritable: false },\n        { pubkey: programId, isSigner: false, isWritable: false },\n        { pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false },\n    ]\n\n    return new TransactionInstruction({\n        keys,\n        programId: associatedTokenProgramId,\n        data: Buffer.alloc(0),\n    })\n}\n","import { TOKEN_PROGRAM_ID, AccountLayout } from '@solana/spl-token'\nimport type { Connection, PublicKey, Commitment } from '@solana/web3.js'\n\nenum AccountState {\n    Uninitialized = 0,\n    Initialized = 1,\n    Frozen = 2,\n}\n\nexport async function getAccountInfo(\n    connection: Connection,\n    address: PublicKey,\n    commitment?: Commitment,\n    programId = TOKEN_PROGRAM_ID,\n) {\n    const info = await connection.getAccountInfo(address, commitment)\n    if (!info) throw new Error('TokenAccountNotFoundError')\n    if (!info.owner.equals(programId)) throw new Error('TokenInvalidAccountOwnerError')\n    if (info.data.length !== AccountLayout.span) throw new Error('TokenInvalidAccountSizeError')\n\n    const rawAccount = AccountLayout.decode(Buffer.from(info.data))\n\n    return {\n        address,\n        mint: rawAccount.mint,\n        owner: rawAccount.owner,\n        amount: rawAccount.amount,\n        delegate: rawAccount.delegateOption ? rawAccount.delegate : null,\n        delegatedAmount: rawAccount.delegatedAmount,\n        isInitialized: rawAccount.state !== AccountState.Uninitialized,\n        isFrozen: rawAccount.state === AccountState.Frozen,\n        isNative: !!rawAccount.isNativeOption,\n        rentExemptReserve: rawAccount.isNativeOption ? rawAccount.isNative : null,\n        closeAuthority: rawAccount.closeAuthorityOption ? rawAccount.closeAuthority : null,\n    }\n}\n","import { TOKEN_PROGRAM_ID, ASSOCIATED_TOKEN_PROGRAM_ID } from '@solana/spl-token'\nimport { PublicKey } from '@solana/web3.js'\n\nexport async function getAssociatedTokenAddress(\n    mint: PublicKey,\n    owner: PublicKey,\n    allowOwnerOffCurve = false,\n    programId = TOKEN_PROGRAM_ID,\n    associatedTokenProgramId = ASSOCIATED_TOKEN_PROGRAM_ID,\n): Promise<PublicKey> {\n    if (!allowOwnerOffCurve && !PublicKey.isOnCurve(owner.toBuffer())) throw new Error('TokenOwnerOffCurveError')\n\n    const [address] = await PublicKey.findProgramAddress(\n        [owner.toBuffer(), programId.toBuffer(), mint.toBuffer()],\n        associatedTokenProgramId,\n    )\n\n    return address\n}\n","import { TOKEN_PROGRAM_ID, ASSOCIATED_TOKEN_PROGRAM_ID } from '@solana/spl-token'\nimport { type Connection, type PublicKey, type Commitment, Transaction } from '@solana/web3.js'\nimport { createAssociatedTokenAccountInstruction } from './createAssociatedTokenAccountInstruction.js'\nimport { getAccountInfo } from './getAccountInfo.js'\nimport { getAssociatedTokenAddress } from './getAssociatedTokenAddress.js'\n\nexport async function getOrCreateAssociatedTokenAccount(\n    connection: Connection,\n    payer: PublicKey,\n    mint: PublicKey,\n    owner: PublicKey,\n    signTransaction: (tx: Transaction) => Promise<Transaction>,\n    allowOwnerOffCurve = false,\n    commitment: Commitment = 'single',\n    programId = TOKEN_PROGRAM_ID,\n    associatedTokenProgramId = ASSOCIATED_TOKEN_PROGRAM_ID,\n) {\n    const associatedToken = await getAssociatedTokenAddress(\n        mint,\n        owner,\n        allowOwnerOffCurve,\n        programId,\n        associatedTokenProgramId,\n    )\n\n    // This is the optimal logic, considering TX fee, client-side computation, RPC roundtrips and guaranteed idempotent.\n    // Sadly we can't do this atomically.\n    let account\n    try {\n        account = await getAccountInfo(connection, associatedToken, commitment, programId)\n    } catch (error: any) {\n        // TokenAccountNotFoundError can be possible if the associated address has already received some lamports,\n        // becoming a system account. Assuming program derived addressing is safe, this is the only case for the\n        // TokenInvalidAccountOwnerError in this code path.\n        if (error.message === 'TokenAccountNotFoundError' || error.message === 'TokenInvalidAccountOwnerError') {\n            // As this isn't atomic, it's possible others can create associated accounts meanwhile.\n            try {\n                const transaction = new Transaction().add(\n                    createAssociatedTokenAccountInstruction(\n                        payer,\n                        associatedToken,\n                        owner,\n                        mint,\n                        programId,\n                        associatedTokenProgramId,\n                    ),\n                )\n\n                const blockHash = await connection.getLatestBlockhash()\n                transaction.feePayer = payer\n                transaction.recentBlockhash = blockHash.blockhash\n                const signed = await signTransaction(transaction)\n\n                const signature = await connection.sendRawTransaction(signed.serialize())\n\n                await connection.confirmTransaction({\n                    signature,\n                    blockhash: blockHash.blockhash,\n                    lastValidBlockHeight: blockHash.lastValidBlockHeight,\n                })\n            } catch (error: unknown) {\n                // Ignore all errors; for now there is no API-compatible way to selectively ignore the expected\n                // instruction error if the associated account exists already.\n            }\n\n            // Now this should always succeed\n            account = await getAccountInfo(connection, associatedToken, commitment, programId)\n        } else {\n            throw error\n        }\n    }\n\n    if (!account.mint.equals(mint.toBuffer())) throw new Error('TokenInvalidMintError')\n    if (!account.owner.equals(owner.toBuffer())) throw new Error('TokenInvalidOwnerError')\n\n    return account\n}\n","import BN from 'bn.js'\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token'\nimport { type AccountMeta, type PublicKey, type Signer, TransactionInstruction } from '@solana/web3.js'\nimport * as BufferLayout from '@solana/buffer-layout'\n\nenum TokenInstruction {\n    InitializeMint = 0,\n    InitializeAccount = 1,\n    InitializeMultisig = 2,\n    Transfer = 3,\n    Approve = 4,\n    Revoke = 5,\n    SetAuthority = 6,\n    MintTo = 7,\n    Burn = 8,\n    CloseAccount = 9,\n    FreezeAccount = 10,\n    ThawAccount = 11,\n    TransferChecked = 12,\n    ApproveChecked = 13,\n    MintToChecked = 14,\n    BurnChecked = 15,\n    InitializeAccount2 = 16,\n    SyncNative = 17,\n    InitializeAccount3 = 18,\n    InitializeMultisig2 = 19,\n    InitializeMint2 = 20,\n}\n\n/**\n * Construct a Transfer instruction\n *\n * @param source       Source account\n * @param destination  Destination account\n * @param owner        Owner of the source account\n * @param amount       Number of tokens to transfer\n * @param multiSigners Signing accounts if `owner` is a multisig\n * @param programId    SPL Token program account\n *\n * @return Instruction to add to a transaction\n */\nexport function createTransferInstruction(\n    source: PublicKey,\n    destination: PublicKey,\n    owner: PublicKey,\n    amount: number,\n    multiSigners: Signer[] = [],\n    programId = TOKEN_PROGRAM_ID,\n): TransactionInstruction {\n    const dataLayout = BufferLayout.struct<{ instruction: number; amount: Uint8Array }>([\n        BufferLayout.u8('instruction'),\n        BufferLayout.blob(8, 'amount'),\n    ])\n\n    const keys = addSigners(\n        [\n            { pubkey: source, isSigner: false, isWritable: true },\n            { pubkey: destination, isSigner: false, isWritable: true },\n        ],\n        owner,\n        multiSigners,\n    )\n\n    const data = Buffer.alloc(dataLayout.span)\n    dataLayout.encode(\n        {\n            instruction: TokenInstruction.Transfer,\n            amount: new TokenAmount(amount).toBuffer(),\n        },\n        data,\n    )\n\n    return new TransactionInstruction({ keys, programId, data })\n}\n\nfunction addSigners(keys: AccountMeta[], ownerOrAuthority: PublicKey, multiSigners: Signer[]): AccountMeta[] {\n    if (multiSigners.length) {\n        keys.push({ pubkey: ownerOrAuthority, isSigner: false, isWritable: false })\n        for (const signer of multiSigners) {\n            keys.push({ pubkey: signer.publicKey, isSigner: true, isWritable: false })\n        }\n    } else {\n        keys.push({ pubkey: ownerOrAuthority, isSigner: true, isWritable: false })\n    }\n    return keys\n}\n\nclass TokenAmount extends BN {\n    /**\n     * Convert to Buffer representation\n     */\n    override toBuffer(): Buffer {\n        const a = super.toArray().reverse()\n        const b = Buffer.from(a)\n        if (b.length === 8) {\n            return b\n        }\n\n        if (b.length >= 8) {\n            throw new Error('TokenAmount too large')\n        }\n\n        const zeroPad = Buffer.alloc(8)\n        b.copy(zeroPad)\n        return zeroPad\n    }\n\n    /**\n     * Construct a TokenAmount from Buffer representation\n     */\n    static fromBuffer(buffer: Buffer): TokenAmount {\n        if (buffer.length !== 8) {\n            throw new Error(`Invalid buffer length: ${buffer.length}`)\n        }\n\n        return new BN(\n            [...buffer]\n                .reverse()\n                .map((i) => `00${i.toString(16)}`.slice(-2))\n                .join(''),\n            16,\n        )\n    }\n}\n","import { PublicKey, SystemProgram, Transaction, sendAndConfirmRawTransaction } from '@solana/web3.js'\nimport { getOrCreateAssociatedTokenAccount } from './spl-token/getOrCreateAssociatedTokenAccount.js'\nimport { createTransferInstruction } from './spl-token/createTransferInstructions.js'\nimport { SolanaWeb3API } from './Web3API.js'\nimport { SolanaConnectionOptionsAPI } from './ConnectionOptionsAPI.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nexport class SolanaTransferAPI {\n    constructor(private options?: ConnectionOptions) {\n        this.Web3 = new SolanaWeb3API(this.options)\n        this.ConnectionOptions = new SolanaConnectionOptionsAPI(this.options)\n    }\n    private Web3\n    private ConnectionOptions\n    private async attachRecentBlockHash(transaction: Transaction, initial?: ConnectionOptions) {\n        const connection = this.Web3.getWeb3Connection(initial)\n        const blockHash = await connection.getRecentBlockhash()\n        transaction.recentBlockhash = blockHash.blockhash\n        return transaction\n    }\n\n    private async signTransaction(transaction: Transaction, initial?: ConnectionOptions) {\n        return this.Web3.getProviderInstance(initial).signTransaction(transaction)\n    }\n\n    private async sendTransaction(transaction: Transaction, initial?: ConnectionOptions) {\n        const signedTransaction = await this.signTransaction(transaction)\n        return sendAndConfirmRawTransaction(this.Web3.getWeb3Connection(initial), signedTransaction.serialize())\n    }\n\n    async transferSol(recipient: string, amount: string, initial?: ConnectionOptions) {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!options.account) throw new Error('No payer provides.')\n        const payerPubkey = new PublicKey(options.account)\n        const recipientPubkey = new PublicKey(recipient)\n        const transaction = new Transaction().add(\n            SystemProgram.transfer({\n                fromPubkey: payerPubkey,\n                toPubkey: recipientPubkey,\n                lamports: Number.parseInt(amount, 10),\n            }),\n        )\n        transaction.feePayer = payerPubkey\n        await this.attachRecentBlockHash(transaction)\n        return this.sendTransaction(transaction)\n    }\n\n    async transferSplToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!options.account) throw new Error('No payer provides.')\n\n        const payerPubkey = new PublicKey(options.account)\n        const recipientPubkey = new PublicKey(recipient)\n        const mintPubkey = new PublicKey(address)\n        const signTransaction = this.signTransaction.bind(this)\n        const connection = this.Web3.getWeb3Connection(options)\n        const formatTokenAccount = await getOrCreateAssociatedTokenAccount(\n            connection,\n            payerPubkey,\n            mintPubkey,\n            payerPubkey,\n            signTransaction,\n        )\n        const toTokenAccount = await getOrCreateAssociatedTokenAccount(\n            connection,\n            payerPubkey,\n            mintPubkey,\n            recipientPubkey,\n            signTransaction,\n        )\n        const transaction = new Transaction().add(\n            createTransferInstruction(\n                formatTokenAccount.address,\n                toTokenAccount.address,\n                payerPubkey,\n                Number.parseInt(amount, 10),\n            ),\n        )\n        const blockHash = await connection.getLatestBlockhash()\n        transaction.feePayer = payerPubkey\n        transaction.recentBlockhash = blockHash.blockhash\n        return this.sendTransaction(transaction)\n    }\n}\n","import {\n    AddressType,\n    ChainId,\n    SchemaType,\n    type Signature,\n    type Transaction,\n    type TransactionDetailed,\n    type TransactionReceipt,\n    type Block,\n    type Web3Provider,\n    type Web3,\n    isNativeTokenAddress,\n    getNativeTokenAddress,\n    decodeAddress,\n    type TransactionSignature,\n    type ProviderType,\n    type Operation,\n} from '@masknet/web3-shared-solana'\nimport {\n    TransactionStatusType,\n    type FungibleToken,\n    type NonFungibleToken,\n    type NonFungibleTokenMetadata,\n    type NonFungibleTokenContract,\n    type NonFungibleCollection,\n    isSameAddress,\n    createNonFungibleToken,\n} from '@masknet/web3-shared-base'\nimport { EMPTY_OBJECT, type Account } from '@masknet/shared-base'\nimport { PublicKey, sendAndConfirmRawTransaction, type BlockResponse } from '@solana/web3.js'\nimport type { ConnectionAPI_Base } from '../../Base/apis/ConnectionAPI.js'\nimport { MagicEden } from '../../../MagicEden/index.js'\nimport { SolanaWeb3API } from './Web3API.js'\nimport { SolanaTransferAPI } from './TransferAPI.js'\nimport { SolanaConnectionOptionsAPI } from './ConnectionOptionsAPI.js'\nimport { SolanaChainResolver } from './ResolverAPI.js'\nimport { SolanaWeb3StateRef } from './Web3StateAPI.js'\nimport { SolanaFungible } from './FungibleTokenAPI.js'\nimport type { ConnectionOptions } from '../types/index.js'\n\nexport class SolanaConnectionAPI\n    implements\n        ConnectionAPI_Base<\n            ChainId,\n            AddressType,\n            SchemaType,\n            ProviderType,\n            Signature,\n            Operation,\n            Transaction,\n            TransactionReceipt,\n            TransactionDetailed,\n            TransactionSignature,\n            Block,\n            Web3,\n            Web3Provider\n        >\n{\n    constructor(options?: ConnectionOptions) {\n        this.Web3 = new SolanaWeb3API(options)\n        this.Transfer = new SolanaTransferAPI(options)\n        this.ConnectionOptions = new SolanaConnectionOptionsAPI(options)\n    }\n    private Web3\n    private Transfer\n    private ConnectionOptions\n    getAccount(initial?: ConnectionOptions | undefined): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        return Promise.resolve(options.account)\n    }\n\n    getChainId(initial?: ConnectionOptions | undefined): Promise<ChainId> {\n        const options = this.ConnectionOptions.fill(initial)\n        return Promise.resolve(options.chainId)\n    }\n\n    createAccount(initial?: ConnectionOptions): Account<ChainId> {\n        throw new Error('Method not implemented.')\n    }\n\n    async switchChain(chainId: ChainId, initial?: ConnectionOptions) {\n        await this.Web3.getProviderInstance(initial).switchChain(chainId)\n    }\n\n    approveFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        initial?: ConnectionOptions | undefined,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    approveNonFungibleToken(\n        address: string,\n        recipient: string,\n        tokenId: string,\n        schema?: SchemaType | undefined,\n        initial?: ConnectionOptions | undefined,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    approveAllNonFungibleTokens(\n        address: string,\n        recipient: string,\n        approved: boolean,\n        schema?: SchemaType | undefined,\n        initial?: ConnectionOptions | undefined,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async transferFungibleToken(\n        address: string,\n        recipient: string,\n        amount: string,\n        memo?: string,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        return isNativeTokenAddress(address)\n            ? this.Transfer.transferSol(recipient, amount, initial)\n            : this.Transfer.transferSplToken(address, recipient, amount, initial)\n    }\n\n    transferNonFungibleToken(\n        address: string,\n        tokenId: string,\n        recipient: string,\n        amount: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        return this.Transfer.transferSplToken(address, recipient, amount, initial)\n    }\n\n    async connect(initial?: ConnectionOptions): Promise<Account<ChainId>> {\n        const options = this.ConnectionOptions.fill(initial)\n        return {\n            account: '',\n            chainId: ChainId.Mainnet,\n            ...(await SolanaWeb3StateRef.value.Provider?.connect(options.providerType, options.chainId)),\n        }\n    }\n\n    async disconnect(initial?: ConnectionOptions): Promise<void> {\n        const options = this.ConnectionOptions.fill(initial)\n        await SolanaWeb3StateRef.value.Provider?.disconnect(options.providerType)\n    }\n\n    getWeb3(initial?: ConnectionOptions) {\n        return this.Web3.getWeb3(initial)\n    }\n\n    getWeb3Provider(initial?: ConnectionOptions) {\n        return this.Web3.getWeb3Provider(initial)\n    }\n\n    async getBalance(account: string, initial?: ConnectionOptions) {\n        const balance = await this.Web3.getWeb3Connection(initial).getBalance(decodeAddress(account))\n        return balance.toFixed()\n    }\n\n    async getNativeTokenBalance(initial?: ConnectionOptions): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!options.account) return '0'\n        const balance = await this.Web3.getWeb3Connection(options).getBalance(new PublicKey(options.account))\n        return balance.toString()\n    }\n\n    async getFungibleTokenBalance(address: string, schema?: SchemaType, initial?: ConnectionOptions): Promise<string> {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!options.account) return '0'\n        if (isNativeTokenAddress(address)) return this.getNativeTokenBalance(options)\n        const { data: assets } = await SolanaFungible.getAssets(options.account, options)\n        const asset = assets.find((x) => isSameAddress(x.address, address))\n        return asset?.balance ?? '0'\n    }\n\n    getNonFungibleTokenBalance(\n        address: string,\n        tokenId?: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async getFungibleTokensBalance(\n        listOfAddress: string[],\n        initial?: ConnectionOptions,\n    ): Promise<Record<string, string>> {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!options.account) return EMPTY_OBJECT\n        const { data: assets } = await SolanaFungible.getAssets(options.account, {\n            chainId: options.chainId,\n        })\n        const records = assets.reduce<Record<string, string>>(\n            (map, asset) => ({ ...map, [asset.address]: asset.balance }),\n            {},\n        )\n        const nativeTokenAddress = getNativeTokenAddress(options.chainId)\n        if (listOfAddress.includes(nativeTokenAddress)) {\n            records[nativeTokenAddress] = await this.getNativeTokenBalance(options)\n        }\n        // In the token picker UI, if balance of a token is undefined, then it\n        // will keep loading. We set it 0 to walk around that, since fetching is done.\n        listOfAddress.forEach((address) => {\n            records[address] = records[address] ?? '0'\n        })\n        return records\n    }\n\n    getNonFungibleTokensBalance(listOfAddress: string[], initial?: ConnectionOptions): Promise<Record<string, string>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getGasPrice(initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getCode(address: string, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getAddressType(address: string, initial?: ConnectionOptions): Promise<AddressType | undefined> {\n        return Promise.resolve(AddressType.Default)\n    }\n\n    getSchemaType(address: string, initial?: ConnectionOptions): Promise<SchemaType> {\n        throw new Error('Method not implemented.')\n    }\n\n    async getBlock(no: number, initial?: ConnectionOptions): Promise<BlockResponse | null> {\n        return this.Web3.getWeb3Connection(initial).getBlock(no as number)\n    }\n\n    async getBlockNumber(initial?: ConnectionOptions) {\n        return this.Web3.getWeb3Connection(initial).getSlot()\n    }\n\n    async getBlockTimestamp(initial?: ConnectionOptions): Promise<number> {\n        const slot = await this.getBlockNumber(initial)\n        const response = await this.Web3.getWeb3Connection(initial).getBlockTime(slot)\n        return response ?? 0\n    }\n\n    getTransaction(id: string, initial?: ConnectionOptions): Promise<TransactionDetailed | null> {\n        return this.Web3.getWeb3Connection(initial).getTransaction(id)\n    }\n\n    async getTransactionReceipt(id: string, initial?: ConnectionOptions): Promise<TransactionReceipt | null> {\n        return null\n    }\n\n    async getTransactionStatus(id: string, initial?: ConnectionOptions): Promise<TransactionStatusType> {\n        const response = await this.Web3.getWeb3Connection(initial).getSignatureStatus(id)\n        if (response.value?.err) return TransactionStatusType.FAILED\n        if (response.value?.confirmations && response.value.confirmations > 0) return TransactionStatusType.SUCCEED\n        return TransactionStatusType.NOT_DEPEND\n    }\n\n    async getTransactionNonce(account: string, initial?: ConnectionOptions): Promise<number> {\n        const response = await this.Web3.getWeb3Connection(initial).getNonce(decodeAddress(account))\n        return response?.nonce ? Number.parseInt(response.nonce, 10) : 0\n    }\n\n    async getNativeToken(initial?: ConnectionOptions): Promise<FungibleToken<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        return SolanaChainResolver.nativeCurrency(options.chainId)\n    }\n\n    async getFungibleToken(address: string, initial?: ConnectionOptions): Promise<FungibleToken<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        if (!address || isNativeTokenAddress(address)) return this.getNativeToken(options)\n        const tokens = await SolanaFungible.getFungibleTokenList(options.chainId, [])\n        const token = tokens.find((x) => isSameAddress(x.address, address))\n        return (\n            token ??\n            ({\n                address,\n                chainId: options.chainId,\n            } as FungibleToken<ChainId, SchemaType>)\n        )\n    }\n\n    async getNonFungibleToken(\n        address: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleToken<ChainId, SchemaType>> {\n        const options = this.ConnectionOptions.fill(initial)\n        const asset = await MagicEden.getAsset(address, tokenId, {\n            chainId: options.chainId,\n        })\n        return createNonFungibleToken(\n            options.chainId,\n            address,\n            SchemaType.NonFungible,\n            tokenId,\n            asset?.ownerId,\n            asset?.metadata,\n            asset?.contract,\n            asset?.collection,\n        )\n    }\n\n    getNonFungibleTokenOwner(\n        address: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenOwnership(\n        address: string,\n        tokenId: string,\n        owner: string,\n        schema?: SchemaType | undefined,\n        initial?: ConnectionOptions,\n    ): Promise<boolean> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenMetadata(\n        address: string,\n        tokenId: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleTokenMetadata<ChainId>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenContract(\n        address: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleTokenContract<ChainId, SchemaType>> {\n        throw new Error('Method not implemented.')\n    }\n\n    getNonFungibleTokenCollection(\n        address: string,\n        schema?: SchemaType,\n        initial?: ConnectionOptions,\n    ): Promise<NonFungibleCollection<ChainId, SchemaType>> {\n        throw new Error('Method not implemented.')\n    }\n\n    callTransaction(transaction: Transaction, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    confirmTransaction(id: string, initial?: ConnectionOptions): Promise<TransactionReceipt> {\n        throw new Error('Method not implemented.')\n    }\n\n    estimateTransaction(transaction: Transaction, fallback?: number, initial?: ConnectionOptions): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n\n    async sendTransaction(transaction: Transaction, initial?: ConnectionOptions) {\n        const signedTransaction = await this.signTransaction(transaction)\n        return sendAndConfirmRawTransaction(this.Web3.getWeb3Connection(initial), signedTransaction.serialize())\n    }\n\n    sendSignedTransaction(signature: TransactionSignature, initial?: ConnectionOptions): Promise<string> {\n        return sendAndConfirmRawTransaction(this.Web3.getWeb3Connection(initial), signature.serialize())\n    }\n\n    replaceTransaction(hash: string, config: Transaction, options?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    cancelTransaction(hash: string, config: Transaction, options?: ConnectionOptions): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n\n    async signMessage(type: string, message: string, initial?: ConnectionOptions) {\n        return this.Web3.getProviderInstance(initial).signMessage(message)\n    }\n\n    async verifyMessage(\n        type: string,\n        message: string,\n        signature: string,\n        initial?: ConnectionOptions,\n    ): Promise<boolean> {\n        return this.Web3.getProviderInstance(initial).verifyMessage(message, signature)\n    }\n\n    async signTransaction(transaction: Transaction, initial?: ConnectionOptions) {\n        return this.Web3.getProviderInstance(initial).signTransaction(transaction)\n    }\n\n    signTransactions(transactions: Transaction[], initial?: ConnectionOptions) {\n        return Promise.all(transactions.map((x) => this.signTransaction(x, initial)))\n    }\n}\n","import type {\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter,\n} from '@masknet/web3-shared-solana'\nimport { ConnectionOptionsAPI_Base } from '../../Base/apis/ConnectionOptionsAPI.js'\nimport { SolanaOthersAPI } from './OthersAPI.js'\nimport { SolanaWeb3StateRef } from './Web3StateAPI.js'\n\nexport class SolanaConnectionOptionsAPI extends ConnectionOptionsAPI_Base<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n> {\n    override get Web3StateRef() {\n        return SolanaWeb3StateRef\n    }\n\n    override get Web3Others() {\n        return new SolanaOthersAPI()\n    }\n}\n","import { TOKEN_PROGRAM_ID } from '@solana/spl-token'\n\nexport const RAYDIUM_TOKEN_LIST = 'https://api.raydium.io/v2/sdk/token/raydium.mainnet.json'\nexport const SPL_TOKEN_PROGRAM_ID = TOKEN_PROGRAM_ID.toBase58()\n","import { memoize, uniqBy } from 'lodash-es'\nimport { memoizePromise } from '@masknet/kit'\nimport { type PageIndicator, type Pageable, createPageable, createIndicator, EMPTY_LIST } from '@masknet/shared-base'\nimport {\n    type FungibleAsset,\n    TokenType,\n    type FungibleToken,\n    isSameAddress,\n    CurrencyType,\n    type NonFungibleToken,\n} from '@masknet/web3-shared-base'\nimport {\n    ChainId,\n    SchemaType,\n    isValidChainId,\n    getTokenListConstants,\n    getNativeTokenAddress,\n    getTokenConstant,\n} from '@masknet/web3-shared-solana'\nimport { SolanaChainResolver } from './ResolverAPI.js'\nimport { CoinGeckoPriceSolana } from '../../../CoinGecko/index.js'\nimport { RAYDIUM_TOKEN_LIST, SPL_TOKEN_PROGRAM_ID } from '../constants/index.js'\nimport { createFungibleAsset, createFungibleToken, requestRPC } from '../helpers/index.js'\nimport type {\n    GetBalanceResponse,\n    GetProgramAccountsResponse,\n    RaydiumTokenList,\n    MaskToken,\n    HubOptions,\n} from '../types/index.js'\nimport { fetchJSON } from '../../../helpers/fetchJSON.js'\nimport type { FungibleTokenAPI, TokenListAPI } from '../../../entry-types.js'\n\nconst fetchRayDiumTokenList = memoizePromise(\n    memoize,\n    async (url: string): Promise<Array<FungibleToken<ChainId, SchemaType>>> => {\n        const tokenList = await fetchJSON<RaydiumTokenList>(url, { cache: 'force-cache' })\n        const tokens: Array<FungibleToken<ChainId, SchemaType>> = [...tokenList.official, ...tokenList.unOfficial].map(\n            (token) => {\n                if (isSameAddress(token.mint, '11111111111111111111111111111111'))\n                    return SolanaChainResolver.nativeCurrency(ChainId.Mainnet)\n                return {\n                    id: token.mint,\n                    chainId: ChainId.Mainnet,\n                    type: TokenType.Fungible,\n                    schema: SchemaType.Fungible,\n                    address: token.mint,\n                    name: token.name,\n                    symbol: token.symbol,\n                    decimals: token.decimals,\n                    logoURL: token.icon,\n                }\n            },\n        )\n        return tokens\n    },\n    (url) => url,\n)\n\nconst fetchMaskTokenList = memoizePromise(\n    memoize,\n    async (url: string): Promise<Array<FungibleToken<ChainId, SchemaType>>> => {\n        const res = await fetchJSON<{ tokens: MaskToken[] }>(url, { cache: 'force-cache' })\n        const nativeAddress = getTokenConstant(ChainId.Mainnet, 'SOL_ADDRESS', '')\n        const tokens: Array<FungibleToken<ChainId, SchemaType>> = res.tokens.map((token) => {\n            if (isSameAddress(token.address, nativeAddress)) return SolanaChainResolver.nativeCurrency(ChainId.Mainnet)\n\n            return {\n                id: token.address,\n                chainId: ChainId.Mainnet,\n                type: TokenType.Fungible,\n                schema: SchemaType.Fungible,\n                address: token.address,\n                name: token.name,\n                symbol: token.symbol,\n                decimals: token.decimals,\n                logoURL: token.originLogoURI || token.logoURI,\n            }\n        })\n        return tokens\n    },\n    (url) => url,\n)\n\nclass SolanaFungibleTokenAPI\n    implements TokenListAPI.Provider<ChainId, SchemaType>, FungibleTokenAPI.Provider<ChainId, SchemaType>\n{\n    private async getSplTokenList(chainId: ChainId, account: string) {\n        if (!isValidChainId(chainId)) return []\n        const data = await requestRPC<GetProgramAccountsResponse>(chainId, {\n            method: 'getProgramAccounts',\n            params: [\n                SPL_TOKEN_PROGRAM_ID,\n                {\n                    encoding: 'jsonParsed',\n                    filters: [\n                        {\n                            dataSize: 165,\n                        },\n                        {\n                            memcmp: {\n                                offset: 32,\n                                bytes: account,\n                            },\n                        },\n                    ],\n                },\n            ],\n        })\n        if (!data.result?.length) return []\n        const tokenList = await this.getFungibleTokenList(chainId, [])\n        const splTokens: Array<FungibleAsset<ChainId, SchemaType>> = []\n        data.result.forEach((x) => {\n            const info = x.account.data.parsed.info\n            const token = tokenList.find((y) => y.address === info.mint)\n            const isSafe = info.tokenAmount.decimals !== 0 && token !== undefined\n            if (!isSafe) return\n            const name = token.name || 'Unknown Token'\n            const symbol = token.symbol || 'Unknown Token'\n            const splToken = createFungibleAsset(\n                createFungibleToken(chainId, info.mint, name, symbol, info.tokenAmount.decimals, token.logoURL),\n                info.tokenAmount.amount,\n            )\n            splTokens.push(splToken)\n        })\n        return splTokens\n    }\n\n    async getAsset(account: string, { chainId = ChainId.Mainnet }: HubOptions = {}) {\n        const price = await CoinGeckoPriceSolana.getFungibleTokenPrice(chainId, getNativeTokenAddress(), {\n            currencyType: CurrencyType.USD,\n        })\n\n        const data = await requestRPC<GetBalanceResponse>(chainId, {\n            method: 'getBalance',\n            params: [account],\n        })\n        const balance = data.result?.value.toString() ?? '0'\n        return createFungibleAsset(SolanaChainResolver.nativeCurrency(chainId), balance, {\n            [CurrencyType.USD]: price?.toString(),\n        })\n    }\n\n    async getAssets(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator }: HubOptions = {},\n    ): Promise<Pageable<FungibleAsset<ChainId, SchemaType>, PageIndicator>> {\n        if (!isValidChainId(chainId)) {\n            return createPageable([], createIndicator(indicator))\n        }\n        const allSettled = await Promise.allSettled([\n            this.getAsset(address, { chainId }).then((x) => [x]),\n            this.getSplTokenList(chainId, address),\n        ])\n        const assets = allSettled\n            .map((x) => (x.status === 'fulfilled' ? x.value : null))\n            .flat()\n            .filter(Boolean)\n\n        return createPageable(assets as Array<FungibleAsset<ChainId, SchemaType>>, createIndicator(indicator))\n    }\n\n    async getFungibleTokenList(chainId: ChainId, urls?: string[]): Promise<Array<FungibleToken<ChainId, SchemaType>>> {\n        if (chainId !== ChainId.Mainnet) return EMPTY_LIST\n        const { FUNGIBLE_TOKEN_LISTS = EMPTY_LIST } = getTokenListConstants(chainId)\n        const maskTokenList = await fetchMaskTokenList(FUNGIBLE_TOKEN_LISTS[0])\n        const rayDiumTokenList = await fetchRayDiumTokenList(RAYDIUM_TOKEN_LIST)\n\n        return uniqBy([...maskTokenList, ...rayDiumTokenList], (x) => x.address).filter((x) => x.name && x.symbol)\n    }\n\n    async getNonFungibleTokenList(\n        chainId: ChainId,\n        urls?: string[],\n    ): Promise<Array<NonFungibleToken<ChainId, SchemaType>>> {\n        return EMPTY_LIST\n    }\n}\nexport const SolanaFungible = new SolanaFungibleTokenAPI()\n","import { SchemaType } from '../types.js'\n\nexport function isNativeTokenSchemaType(schemaType?: SchemaType) {\n    // there is no native token schema on solana network\n    return false\n}\n\nexport function isFungibleTokenSchemaType(schemaType?: SchemaType) {\n    return schemaType === SchemaType.Fungible\n}\n\nexport function isNonFungibleTokenSchemaType(schemaType?: SchemaType) {\n    return schemaType === SchemaType.NonFungible\n}\n","import { formatDomainName } from '@masknet/web3-shared-evm'\nimport {\n    isValidDomain,\n    isValidAddress,\n    isZeroAddress,\n    isNativeTokenAddress,\n    isNativeTokenSchemaType,\n    isFungibleTokenSchemaType,\n    isNonFungibleTokenSchemaType,\n    type ChainId,\n    type ProviderType,\n    type NetworkType,\n    type Transaction,\n    type SchemaType,\n    formatAddress,\n    formatTokenId,\n    getNetworkPluginID,\n    getDefaultChainId,\n    getInvalidChainId,\n    getDefaultNetworkType,\n    getDefaultProviderType,\n    getZeroAddress,\n    getMaskTokenAddress,\n    getNativeTokenAddress,\n    formatSchemaType,\n    isValidChainId,\n} from '@masknet/web3-shared-solana'\nimport { createFungibleToken, createNonFungibleToken } from '@masknet/web3-shared-base'\nimport { OthersAPI_Base } from '../../Base/apis/OthersAPI.js'\nimport {\n    SolanaChainResolver,\n    SolanaExplorerResolver,\n    SolanaProviderResolver,\n    SolanaNetworkResolver,\n} from './ResolverAPI.js'\n\nexport class SolanaOthersAPI extends OthersAPI_Base<ChainId, SchemaType, ProviderType, NetworkType, Transaction> {\n    override chainResolver: typeof SolanaChainResolver = SolanaChainResolver\n    override explorerResolver: typeof SolanaExplorerResolver = SolanaExplorerResolver\n    override providerResolver: typeof SolanaProviderResolver = SolanaProviderResolver\n    override networkResolver: typeof SolanaNetworkResolver = SolanaNetworkResolver\n\n    override isValidDomain = isValidDomain\n    override isValidChainId = isValidChainId\n    override isValidAddress = isValidAddress\n    override isZeroAddress = isZeroAddress\n    override isNativeTokenAddress = isNativeTokenAddress\n\n    override isNativeTokenSchemaType = isNativeTokenSchemaType\n    override isFungibleTokenSchemaType = isFungibleTokenSchemaType\n    override isNonFungibleTokenSchemaType = isNonFungibleTokenSchemaType\n\n    override getNetworkPluginID = getNetworkPluginID\n    override getDefaultChainId = getDefaultChainId\n    override getInvalidChainId = getInvalidChainId\n    override getDefaultNetworkType = getDefaultNetworkType\n    override getDefaultProviderType = getDefaultProviderType\n    override getZeroAddress = getZeroAddress\n    override getMaskTokenAddress = getMaskTokenAddress\n    override getNativeTokenAddress = getNativeTokenAddress\n\n    override formatAddress = formatAddress\n    override formatDomainName = formatDomainName\n    override formatTokenId = formatTokenId\n    override formatSchemaType = formatSchemaType\n    override createNativeToken = (chainId: ChainId) => this.chainResolver.nativeCurrency(chainId)\n    override createFungibleToken = createFungibleToken\n    override createNonFungibleToken = createNonFungibleToken\n}\n","import {\n    PROVIDER_DESCRIPTORS,\n    NETWORK_DESCRIPTORS,\n    CHAIN_DESCRIPTORS,\n    type ChainId,\n    type SchemaType,\n    type NetworkType,\n    type ProviderType,\n} from '@masknet/web3-shared-solana'\nimport { ChainResolverAPI_Base } from '../../Base/apis/ChainResolverAPI.js'\nimport { ExplorerResolverAPI_Base } from '../../Base/apis/ExplorerResolverAPI.js'\nimport { ProviderResolverAPI_Base } from '../../Base/apis/ProviderResolverAPI.js'\nimport { NetworkResolverAPI_Base } from '../../Base/apis/NetworkExplorerAPI.js'\n\nclass SolanaChainResolverAPI extends ChainResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected readonly descriptors = CHAIN_DESCRIPTORS\n}\n\nclass SolanaExplorerResolverAPI extends ExplorerResolverAPI_Base<ChainId, SchemaType, NetworkType> {\n    protected readonly descriptors = CHAIN_DESCRIPTORS\n    protected readonly initial = undefined\n}\n\nclass SolanaProviderResolverAPI extends ProviderResolverAPI_Base<ChainId, ProviderType> {\n    protected readonly descriptors = PROVIDER_DESCRIPTORS\n}\n\nclass SolanaNetworkResolverAPI extends NetworkResolverAPI_Base<ChainId, NetworkType> {\n    protected readonly descriptors = NETWORK_DESCRIPTORS\n}\nexport const SolanaChainResolver = new SolanaChainResolverAPI()\nexport const SolanaExplorerResolver = new SolanaExplorerResolverAPI()\nexport const SolanaProviderResolver = new SolanaProviderResolverAPI()\nexport const SolanaNetworkResolver = new SolanaNetworkResolverAPI()\n","import {\n    CurrencyType,\n    type FungibleAsset,\n    type FungibleToken,\n    leftShift,\n    multipliedBy,\n    TokenType,\n} from '@masknet/web3-shared-base'\nimport { ChainId, createClientEndpoint, SchemaType } from '@masknet/web3-shared-solana'\nimport type { RpcOptions } from '../types/index.js'\n\nexport async function requestRPC<T = unknown>(chainId: ChainId, options: RpcOptions): Promise<T> {\n    const response = await globalThis.fetch(createClientEndpoint(ChainId.Mainnet), {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        body: JSON.stringify({\n            ...options,\n            jsonrpc: '2.0',\n            id: 0,\n        }),\n    })\n    const json = await response.json()\n    if (json.error) throw new Error(json.message || 'Fails in requesting RPC')\n    return json\n}\n\nexport function createFungibleToken(\n    chainId: ChainId,\n    address: string,\n    name: string,\n    symbol: string,\n    decimals: number,\n    logoURL?: string,\n): FungibleToken<ChainId, SchemaType> {\n    return {\n        id: address,\n        chainId,\n        type: TokenType.Fungible,\n        schema: SchemaType.Fungible,\n        address,\n        name,\n        symbol,\n        decimals,\n        logoURL,\n    }\n}\n\nexport function createFungibleAsset(\n    token: FungibleToken<ChainId, SchemaType>,\n    balance: string,\n    price?: {\n        [key in CurrencyType]?: string\n    },\n): FungibleAsset<ChainId, SchemaType> {\n    return {\n        ...token,\n        balance,\n        price,\n        value: {\n            [CurrencyType.USD]: multipliedBy(price?.usd ?? 0, leftShift(balance, token.decimals)).toFixed(),\n        },\n    }\n}\n","import type { Transaction } from '@solana/web3.js'\nimport { Emitter } from '@servie/events'\nimport { type Account, type Wallet, EMPTY_LIST, createConstantSubscription } from '@masknet/shared-base'\nimport { ChainId, type ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-solana'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class BaseProvider implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {\n    web3: Web3 | null = null\n\n    provider: Web3Provider | null = null\n\n    emitter = new Emitter<WalletAPI.ProviderEvents<ChainId, ProviderType>>()\n\n    get subscription() {\n        return {\n            account: createConstantSubscription(''),\n            chainId: createConstantSubscription(ChainId.Mainnet),\n            wallets: createConstantSubscription<Wallet[]>(EMPTY_LIST),\n        }\n    }\n\n    get connected() {\n        return false\n    }\n\n    // No need to wait by default\n    get ready() {\n        return true\n    }\n\n    // No need to wait by default\n    get readyPromise() {\n        return Promise.resolve()\n    }\n\n    setup(): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    addWallet(wallet: Wallet): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    updateWallet(address: string, wallet: Wallet): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    renameWallet(address: string, name: string): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    removeWallet(address: string, password?: string | undefined): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    updateWallets(wallets: Wallet[]): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    removeWallets(wallets: Wallet[]): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    resetAllWallets(): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    switchAccount(account?: string): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    switchChain(chainId?: ChainId): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n    signMessage(message: string): Promise<string> {\n        throw new Error('Method not implemented.')\n    }\n    verifyMessage(message: string, signature: string): Promise<boolean> {\n        throw new Error('Method not implemented.')\n    }\n    signTransaction(transaction: Transaction): Promise<Transaction> {\n        throw new Error('Method not implemented.')\n    }\n    signTransactions(transactions: Transaction[]): Promise<Transaction[]> {\n        return Promise.all(transactions.map((x) => this.signTransaction(x)))\n    }\n    createWeb3(options?: WalletAPI.ProviderOptions<ChainId>): Web3 {\n        throw new Error('Method not implemented.')\n    }\n    createWeb3Provider(options?: WalletAPI.ProviderOptions<ChainId>): Web3Provider {\n        throw new Error('Method not implemented.')\n    }\n    connect(chainId: ChainId): Promise<Account<ChainId>> {\n        throw new Error('Method not implemented.')\n    }\n    disconnect(): Promise<void> {\n        throw new Error('Method not implemented.')\n    }\n}\n","import { isExtensionSiteType, type Account } from '@masknet/shared-base'\nimport type { BaseProvider as BaseBridge } from '@masknet/injected-script'\nimport { ChainId, type ProviderType, type Web3, type Web3Provider } from '@masknet/web3-shared-solana'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class BaseInjectedProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor(\n        protected providerType: ProviderType,\n        protected bridge: BaseBridge,\n    ) {\n        super()\n    }\n\n    override get ready() {\n        return this.bridge.isReady\n    }\n\n    override get readyPromise() {\n        if (!isExtensionSiteType()) return this.bridge.untilAvailable()\n        return Promise.reject(new Error('Not available on extension site.'))\n    }\n\n    override async setup(): Promise<void> {\n        this.bridge.on('accountChanged', this.onAccountChanged.bind(this))\n        this.bridge.on('chainChanged', this.onChainChanged.bind(this))\n        this.bridge.on('connect', this.onConnect.bind(this))\n        this.bridge.on('disconnect', this.onDisconnect.bind(this))\n    }\n\n    protected onAccountChanged(account: string) {\n        this.emitter.emit('accounts', [account])\n    }\n\n    protected onChainChanged(chainId: string) {\n        this.emitter.emit('chainId', chainId)\n    }\n\n    protected onConnect(account: string) {\n        this.emitter.emit('connect', {\n            account,\n            chainId: ChainId.Mainnet,\n        })\n    }\n\n    protected onDisconnect() {\n        this.emitter.emit('disconnect', this.providerType)\n    }\n\n    override createWeb3Provider(options?: WalletAPI.ProviderOptions<ChainId>) {\n        if (!this.bridge) throw new Error('Failed to detect in-page provider.')\n        return this.bridge as unknown as Web3Provider\n    }\n\n    override async connect(chainId: ChainId): Promise<Account<ChainId>> {\n        await this.readyPromise\n\n        const provider = this.createWeb3Provider()\n        const { publicKey } = await provider.connect()\n\n        return {\n            chainId,\n            account: publicKey,\n        }\n    }\n\n    override async disconnect(): Promise<void> {\n        await this.readyPromise\n\n        const provider = this.createWeb3Provider()\n        await provider.disconnect()\n    }\n}\n","import bs58 from 'bs58'\nimport { PublicKey, type Transaction } from '@solana/web3.js'\nimport { injectedPhantomProvider } from '@masknet/injected-script'\nimport {\n    type ChainId,\n    PhantomMethodType,\n    ProviderType,\n    type Web3,\n    type Web3Provider,\n} from '@masknet/web3-shared-solana'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class PhantomProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Phantom, injectedPhantomProvider)\n    }\n\n    private async validateSession() {\n        if (this.bridge.isConnected) return\n        await (this.bridge as unknown as Web3Provider).connect()\n    }\n\n    override async setup(): Promise<void> {\n        if (!injectedPhantomProvider.isReady) return\n        await injectedPhantomProvider.untilAvailable()\n        await super.setup()\n    }\n\n    override async signMessage(message: string) {\n        await this.validateSession()\n        const { signature } = await this.bridge.request<{\n            publicKey: string\n            signature: string\n        }>({\n            method: PhantomMethodType.SIGN_MESSAGE,\n            params: {\n                message: new TextEncoder().encode(message),\n                display: 'hex',\n            },\n        })\n        return signature\n    }\n\n    override async signTransaction(transaction: Transaction) {\n        await this.validateSession()\n        const { publicKey, signature } = await this.bridge.request<{\n            publicKey: string\n            signature: string\n        }>({\n            method: PhantomMethodType.SIGN_TRANSACTION,\n            params: {\n                message: bs58.encode(transaction.serializeMessage()),\n            },\n        })\n\n        transaction.addSignature(new PublicKey(publicKey), Buffer.from(bs58.decode(signature)))\n        return transaction\n    }\n\n    override async signTransactions(transactions: Transaction[]) {\n        await this.validateSession()\n        return this.bridge.request<Transaction[]>({\n            method: 'signAllTransactions',\n            params: {\n                message: transactions.map((transaction) => {\n                    return bs58.encode(transaction.serializeMessage())\n                }),\n            },\n        })\n    }\n}\n","import type { Transaction } from '@solana/web3.js'\nimport { injectedSolflareProvider } from '@masknet/injected-script'\nimport {\n    type ChainId,\n    PhantomMethodType,\n    ProviderType,\n    type Web3,\n    type Web3Provider,\n} from '@masknet/web3-shared-solana'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class SolflareProvider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Solflare, injectedSolflareProvider)\n    }\n\n    override async signMessage(message: string): Promise<string> {\n        const { signature } = (await this.bridge.request({\n            method: PhantomMethodType.SIGN_MESSAGE,\n            params: [new TextEncoder().encode(message)],\n        })) as any\n        return signature\n    }\n\n    override async signTransaction(transaction: Transaction): Promise<Transaction> {\n        const { signature, publicKey } = (await this.bridge.request({\n            method: PhantomMethodType.SIGN_TRANSACTION,\n            params: [transaction],\n        })) as any\n        transaction.addSignature(publicKey, signature)\n        return transaction\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport EventEmitter from 'eventemitter3';\nimport { PublicKey } from '@solana/web3.js';\nimport bs58 from 'bs58';\nexport default class Wallet extends EventEmitter {\n    constructor(provider, _network) {\n        super();\n        this._network = _network;\n        this._publicKey = null;\n        this._popup = null;\n        this._handlerAdded = false;\n        this._nextRequestId = 1;\n        this._autoApprove = false;\n        this._responsePromises = new Map();\n        this.handleMessage = (e) => {\n            var _a;\n            if ((this._injectedProvider && e.source === window) ||\n                (e.origin === ((_a = this._providerUrl) === null || _a === void 0 ? void 0 : _a.origin) && e.source === this._popup)) {\n                if (e.data.method === 'connected') {\n                    const newPublicKey = new PublicKey(e.data.params.publicKey);\n                    if (!this._publicKey || !this._publicKey.equals(newPublicKey)) {\n                        if (this._publicKey && !this._publicKey.equals(newPublicKey)) {\n                            this.handleDisconnect();\n                        }\n                        this._publicKey = newPublicKey;\n                        this._autoApprove = !!e.data.params.autoApprove;\n                        this.emit('connect', this._publicKey);\n                    }\n                }\n                else if (e.data.method === 'disconnected') {\n                    this.handleDisconnect();\n                }\n                else if (e.data.result || e.data.error) {\n                    const promises = this._responsePromises.get(e.data.id);\n                    if (promises) {\n                        const [resolve, reject] = promises;\n                        if (e.data.result) {\n                            resolve(e.data.result);\n                        }\n                        else {\n                            reject(new Error(e.data.error));\n                        }\n                    }\n                }\n            }\n        };\n        this._beforeUnload = () => {\n            void this.disconnect();\n        };\n        if (isInjectedProvider(provider)) {\n            this._injectedProvider = provider;\n        }\n        else if (isString(provider)) {\n            this._providerUrl = new URL(provider);\n            this._providerUrl.hash = new URLSearchParams({\n                origin: window.location.origin,\n                network: this._network,\n            }).toString();\n        }\n        else {\n            throw new Error('provider parameter must be an injected provider or a URL string.');\n        }\n    }\n    handleConnect() {\n        var _a;\n        if (!this._handlerAdded) {\n            this._handlerAdded = true;\n            window.addEventListener('message', this.handleMessage);\n            window.addEventListener('beforeunload', this._beforeUnload);\n        }\n        if (this._injectedProvider) {\n            return new Promise((resolve) => {\n                void this.sendRequest('connect', {});\n                resolve();\n            });\n        }\n        else {\n            window.name = 'parent';\n            this._popup = window.open((_a = this._providerUrl) === null || _a === void 0 ? void 0 : _a.toString(), '_blank', 'location,resizable,width=460,height=675');\n            return new Promise((resolve) => {\n                this.once('connect', resolve);\n            });\n        }\n    }\n    handleDisconnect() {\n        if (this._handlerAdded) {\n            this._handlerAdded = false;\n            window.removeEventListener('message', this.handleMessage);\n            window.removeEventListener('beforeunload', this._beforeUnload);\n        }\n        if (this._publicKey) {\n            this._publicKey = null;\n            this.emit('disconnect');\n        }\n        this._responsePromises.forEach(([, reject], id) => {\n            this._responsePromises.delete(id);\n            reject(new Error('Wallet disconnected'));\n        });\n    }\n    sendRequest(method, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (method !== 'connect' && !this.connected) {\n                throw new Error('Wallet not connected');\n            }\n            const requestId = this._nextRequestId;\n            ++this._nextRequestId;\n            return new Promise((resolve, reject) => {\n                var _a, _b, _c, _d;\n                this._responsePromises.set(requestId, [resolve, reject]);\n                if (this._injectedProvider) {\n                    this._injectedProvider.postMessage({\n                        jsonrpc: '2.0',\n                        id: requestId,\n                        method,\n                        params: Object.assign({ network: this._network }, params),\n                    });\n                }\n                else {\n                    (_a = this._popup) === null || _a === void 0 ? void 0 : _a.postMessage({\n                        jsonrpc: '2.0',\n                        id: requestId,\n                        method,\n                        params,\n                    }, (_c = (_b = this._providerUrl) === null || _b === void 0 ? void 0 : _b.origin) !== null && _c !== void 0 ? _c : '');\n                    if (!this.autoApprove) {\n                        (_d = this._popup) === null || _d === void 0 ? void 0 : _d.focus();\n                    }\n                }\n            });\n        });\n    }\n    get publicKey() {\n        return this._publicKey;\n    }\n    get connected() {\n        return this._publicKey !== null;\n    }\n    get autoApprove() {\n        return this._autoApprove;\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._popup) {\n                this._popup.close();\n            }\n            yield this.handleConnect();\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._injectedProvider) {\n                yield this.sendRequest('disconnect', {});\n            }\n            if (this._popup) {\n                this._popup.close();\n            }\n            this.handleDisconnect();\n        });\n    }\n    sign(data, display) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!(data instanceof Uint8Array)) {\n                throw new Error('Data must be an instance of Uint8Array');\n            }\n            const response = (yield this.sendRequest('sign', {\n                data,\n                display,\n            }));\n            const signature = bs58.decode(response.signature);\n            const publicKey = new PublicKey(response.publicKey);\n            return {\n                signature,\n                publicKey,\n            };\n        });\n    }\n    signTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = (yield this.sendRequest('signTransaction', {\n                message: bs58.encode(transaction.serializeMessage()),\n            }));\n            const signature = bs58.decode(response.signature);\n            const publicKey = new PublicKey(response.publicKey);\n            transaction.addSignature(publicKey, signature);\n            return transaction;\n        });\n    }\n    signAllTransactions(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = (yield this.sendRequest('signAllTransactions', {\n                messages: transactions.map((tx) => bs58.encode(tx.serializeMessage())),\n            }));\n            const signatures = response.signatures.map((s) => bs58.decode(s));\n            const publicKey = new PublicKey(response.publicKey);\n            transactions = transactions.map((tx, idx) => {\n                tx.addSignature(publicKey, signatures[idx]);\n                return tx;\n            });\n            return transactions;\n        });\n    }\n    diffieHellman(publicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!(publicKey instanceof Uint8Array)) {\n                throw new Error('Data must be an instance of Uint8Array');\n            }\n            const response = (yield this.sendRequest('diffieHellman', {\n                publicKey,\n            }));\n            return response;\n        });\n    }\n}\nfunction isString(a) {\n    return typeof a === 'string';\n}\nfunction isInjectedProvider(a) {\n    return (isObject(a) && 'postMessage' in a && typeof a.postMessage === 'function');\n}\nfunction isObject(a) {\n    return typeof a === 'object' && a !== null;\n}\n","import base58 from 'bs58'\nimport type { Transaction } from '@solana/web3.js'\nimport Wallet from '@project-serum/sol-wallet-adapter'\nimport { type ChainId, ProviderType, type Web3Provider, type Web3 } from '@masknet/web3-shared-solana'\nimport { BaseProvider } from './Base.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class SolletProvider\n    extends BaseProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    private wallet: Wallet | null = null\n\n    private get solanaProvider() {\n        if (!this.wallet) throw new Error('No sollet connection.')\n        return this.wallet\n    }\n\n    private set solanaProvider(newWallet: Wallet) {\n        this.wallet = newWallet\n    }\n\n    constructor(private providerURL = 'https://www.sollet.io') {\n        super()\n    }\n\n    override async signMessage(message: string) {\n        const data = new TextEncoder().encode(message)\n        const { signature } = await this.solanaProvider.sign(data, 'uft8')\n        return base58.encode(signature)\n    }\n\n    override signTransaction(transaction: Transaction) {\n        return this.solanaProvider.signTransaction(transaction)\n    }\n\n    override signTransactions(transactions: Transaction[]) {\n        return this.solanaProvider.signAllTransactions(transactions)\n    }\n\n    override async connect(chainId: ChainId) {\n        this.solanaProvider = new Wallet(this.providerURL, '')\n        await this.solanaProvider.connect()\n        return {\n            chainId,\n            account: this.solanaProvider.publicKey?.toBase58() ?? '',\n        }\n    }\n\n    override async disconnect() {\n        this.solanaProvider = new Wallet(this.providerURL, '')\n        await this.solanaProvider.disconnect()\n        this.emitter.emit('disconnect', ProviderType.Sollet)\n\n        // clean the internal wallet\n        this.wallet = null\n    }\n}\n","import { first } from 'lodash-es'\nimport type { Transaction } from '@solana/web3.js'\nimport { injectedCoin98SolanaProvider } from '@masknet/injected-script'\nimport type { Account } from '@masknet/shared-base'\nimport { type ChainId, Coin98MethodType, ProviderType, type Web3Provider, type Web3 } from '@masknet/web3-shared-solana'\nimport { BaseInjectedProvider } from './BaseInjected.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport class SolanaCoin98Provider\n    extends BaseInjectedProvider\n    implements WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3>\n{\n    constructor() {\n        super(ProviderType.Coin98, injectedCoin98SolanaProvider)\n    }\n\n    override async signMessage(message: string): Promise<string> {\n        const { signature } = (await this.bridge.request({\n            method: Coin98MethodType.SOL_SIGN,\n            params: [new TextEncoder().encode(message)],\n        })) as any\n        return signature\n    }\n\n    override async signTransaction(transaction: Transaction): Promise<Transaction> {\n        const { signature, publicKey } = (await this.bridge.request({\n            method: Coin98MethodType.SOL_SIGN,\n            params: [transaction],\n        })) as any\n        transaction.addSignature(publicKey, signature)\n        return transaction\n    }\n\n    override async connect(chainId: ChainId): Promise<Account<ChainId>> {\n        await this.readyPromise\n\n        const accounts = (await this.bridge.request({\n            method: Coin98MethodType.SOL_ACCOUNTS,\n            params: [],\n        })) as any\n\n        return {\n            chainId,\n            account: first(accounts) ?? '',\n        }\n    }\n\n    override async disconnect() {\n        // do nothing\n    }\n}\n","import { ProviderType, type ChainId, type Web3, type Web3Provider, type Transaction } from '@masknet/web3-shared-solana'\nimport { BaseProvider as SolanaBaseProvider } from './Base.js'\nimport { PhantomProvider } from './Phantom.js'\nimport { SolflareProvider } from './SolflareProvider.js'\nimport { SolletProvider } from './Sollet.js'\nimport { SolanaCoin98Provider } from './Coin98.js'\nimport type { WalletAPI } from '../../../entry-types.js'\n\nexport interface SolanaProvider extends WalletAPI.Provider<ChainId, ProviderType, Web3Provider, Web3> {\n    /** Sign message */\n    signMessage(message: string): Promise<string>\n    /** Verify signature */\n    verifyMessage(message: string, signature: string): Promise<boolean>\n    /** Sign a transaction */\n    signTransaction(transaction: Transaction): Promise<Transaction>\n    /** Sign multiple transactions */\n    signTransactions(transactions: Transaction[]): Promise<Transaction[]>\n}\n\nexport const SolanaProviders: Record<ProviderType, SolanaProvider> = {\n    [ProviderType.None]: new SolanaBaseProvider(),\n    [ProviderType.Phantom]: new PhantomProvider(),\n    [ProviderType.Solflare]: new SolflareProvider(),\n    [ProviderType.Sollet]: new SolletProvider(),\n    [ProviderType.Coin98]: new SolanaCoin98Provider(),\n}\n","import type { Socket } from 'socket.io-client'\nexport enum SocketRequestNameSpace {\n    Address = 'address',\n    Assets = 'assets',\n    Gas = 'gas',\n}\n\nexport type SocketNameSpace = {\n    namespace: SocketRequestNameSpace\n    socket: typeof Socket\n}\n\nexport enum SocketRequestType {\n    SUBSCRIBE = 'subscribe',\n    GET = 'get',\n}\n\nexport type SocketRequestAssetScope = 'assets' | 'bsc-assets' | 'polygon-assets'\n\nexport type SocketRequestBody = {\n    scope: string[]\n    payload: Record<string, any>\n}\n\nexport interface SocketResponseBody {\n    meta: { status: string }\n    payload: Record<string, any>\n}\n\nexport enum ZerionRBDTransactionType {\n    SEND = 'send',\n    RECEIVE = 'receive',\n    TRADE = 'trade',\n    AUTHORIZE = 'authorize',\n    EXECUTION = 'execution',\n    DEPLOYMENT = 'deployment',\n    CANCEL = 'cancel',\n    DEPOSIT = 'deposit',\n    WITHDRAW = 'withdraw',\n    BORROW = 'borrow',\n    REPAY = 'repay',\n    STAKE = 'stake',\n    UNSTAKE = 'unstake',\n    CLAIM = 'claim',\n}\n\nexport enum ZerionTransactionStatus {\n    CONFIRMED = 'confirmed',\n    FAILED = 'failed',\n    PENDING = 'pending',\n}\n\nexport enum ZerionTransactionDirection {\n    IN = 'in',\n    OUT = 'out',\n    SELF = 'self',\n}\n\nexport interface ZerionPrice {\n    value: number\n    changed_at: number\n    relative_change_24h?: number\n}\n\nexport interface ZerionAsset {\n    id: string\n    asset_code: string\n    name: string\n    symbol: string\n    decimals: number\n    implementations: Record<string, { address: string; decimals: number }>\n    type: string\n    is_displayable: boolean\n    is_verified: boolean\n    icon_url?: string\n    price?: ZerionPrice\n}\n\nexport interface ZerionCovalentAsset {\n    asset_code: string\n    name: string\n    symbol: string\n    decimals: number\n    icon_url?: string\n    value: number\n}\n\nexport interface ZerionAddressPosition {\n    type: string\n    asset: ZerionAsset\n    chain: string\n    quantity: string\n}\n\nexport interface ZerionTransactionChange {\n    asset: ZerionAsset\n    value: number\n    direction: ZerionTransactionDirection\n    address_from: string\n    address_to: string\n    price?: number\n}\n\nexport interface ZerionTransactionFee {\n    value: number\n    price: number\n}\n\nexport interface ZerionTransactionItem {\n    id: string\n    type: ZerionRBDTransactionType\n    protocol: string\n    mined_at: number\n    block_number: number\n    status: ZerionTransactionStatus\n    hash: string\n    direction?: ZerionTransactionDirection\n    address_from?: string\n    address_to?: string\n    contract?: string\n    nonce?: number\n    changes?: ZerionTransactionChange[]\n    fee?: ZerionTransactionFee\n    meta?: string\n}\n\nexport interface ZerionNonFungibleAsset {\n    asset_code: string\n    symbol: string\n    contract_address: string\n    token_id: string\n    interface: string\n    preview: {\n        url: string\n        meta: {\n            type: string\n        }\n    }\n    detail: {\n        url: string\n        meta: {\n            type: string\n        }\n    }\n    name: string\n    type: string\n    tags?: string[]\n    last_price?: number\n    buy_now_price?: number\n    floor_price: number\n    total_last_price?: number\n    total_floor_price?: number\n    is_displayable: boolean\n    is_verified: boolean\n    collection: {\n        name: string\n        description: string\n        icon_url: string\n    }\n    collection_info: {\n        slug: string\n        name: string\n        description: string\n        icon_url: string\n    }\n    changed_at: number\n}\n\nexport interface ZerionNonFungibleTokenItem {\n    id: string\n    section: string\n    section_tokens_count: number\n    standard: LiteralUnion<'ERC1155' | 'ERC721'>\n    value?: string\n    displayed_on_chart: boolean\n    amount: string\n    asset: ZerionNonFungibleAsset\n}\n\nexport interface ZerionTransactionResponseBody extends SocketResponseBody {\n    meta: {\n        status: string\n        address: string\n        addresses: string[]\n        currency: string\n        transactions_limit: number\n        transactions_offset: number\n        transactions_search_query: string\n    }\n    payload: {\n        transactions: ZerionTransactionItem[]\n    }\n}\n\nexport interface ZerionNonFungibleTokenResponseBody extends SocketResponseBody {\n    meta: {\n        status: string\n        addresses: string[]\n        collection_slugs: string[]\n        contract_addresses: string[]\n        currency: string\n        mode: string\n        next_nft_offset: number\n        nft_limit: number\n        nft_offset: number\n        sorted_by: string\n    }\n    payload: {\n        nft: ZerionNonFungibleTokenItem[]\n    }\n}\n\nexport interface RelevantUrl {\n    name: string\n    url: string\n}\n\nexport interface ZerionNonFungibleTokenInfoBody extends SocketResponseBody {\n    payload: {\n        'nft-info': {\n            asset: ZerionNonFungibleAsset\n            attributes: Array<{ key: string; value: string }>\n            collection: {\n                name: string\n                description: string\n                icon_url: string\n            }\n            collection_info: {\n                slug: string\n                name: string\n                description: string\n                icon_url: string\n            }\n            description: string\n            relevant_urls: RelevantUrl[]\n        }\n    }\n}\nexport interface ZerionNonFungibleCollection {\n    collection_id: string\n    name: string\n    icon_url: string\n    description: string\n    floor_price: number\n    nfts_count: number\n    num_owners: number\n    one_day_volume: number\n    seven_day_volume: number\n    thirty_day_volume: number\n    one_day_change: number\n    total_volume: number\n    market_cap: number\n    banner_image_url: string\n    relevant_urls: RelevantUrl[]\n    created_date?: string\n}\nexport interface ZerionNonFungibleCollectionBody extends SocketResponseBody {\n    payload: {\n        'nft-collection-info': ZerionNonFungibleCollection\n    }\n}\n\ntype ZerionAssetResponseBodyPayload = {\n    positions: {\n        aggregation_in_progress: boolean\n        positions: ZerionAddressPosition[]\n    }\n}\n\nexport interface ZerionAssetResponseBody extends SocketResponseBody {\n    meta: {\n        address: string\n        addresses: string[]\n        asset_codes: string[]\n        currency: string\n        status: string\n    }\n    payload: Partial<ZerionAssetResponseBodyPayload>\n}\n\nexport interface ZerionCoinAsset {\n    id: string\n    asset_code: string\n    name: string\n    symbol: string\n    decimals: number\n    implementations: Record<string, { address: string; decimals: number }>\n    type: any\n    icon_url: string\n    price: {\n        changed_at: number\n        relative_change_24h: number\n        value: number\n    }\n    is_displayable: boolean\n    is_verified: boolean\n}\nexport interface ZerionCoin {\n    asset: ZerionCoinAsset\n    title: string\n    subtitle: string\n    tagline: any\n    market_cap: number\n    total_supply: number\n    circulating_supply: number\n    relative_changes: Record<string, number | null>\n    tags: string[]\n}\n\nexport interface ZerionCoinResponseBody extends SocketResponseBody {\n    payload: {\n        info: ZerionCoin[]\n    }\n}\n\nexport interface ZerionGasOption {\n    info: {\n        classic: {\n            fast: number\n            rapid: number\n            slow: number\n            standard: number\n        }\n    }\n}\n\nexport interface ZerionGasResponseBody extends SocketResponseBody {\n    payload: {\n        ['chain-prices']: Record<string, ZerionGasOption>\n    }\n}\n","import { BigNumber } from 'bignumber.js'\nimport {\n    type FungibleAsset,\n    leftShift,\n    multipliedBy,\n    TokenType,\n    type Transaction,\n    TransactionStatusType,\n} from '@masknet/web3-shared-base'\nimport { ChainId, getTokenConstant, SchemaType, formatEthereumAddress, isValidAddress } from '@masknet/web3-shared-evm'\nimport {\n    type ZerionAddressPosition,\n    ZerionRBDTransactionType,\n    type ZerionTransactionItem,\n    ZerionTransactionStatus,\n} from './types.js'\n\nexport function isValidAsset(data: ZerionAddressPosition) {\n    const { asset, chain } = data\n    const { address } = asset.implementations[chain]\n    return isValidAddress(address)\n}\n\nfunction isNativeToken(symbol: string) {\n    return ['ETH', 'BNB', 'MATIC', 'ARETH', 'AETH', 'ONE', 'ASTR', 'XDAI'].includes(symbol)\n}\nexport function formatAsset(chainId: ChainId, data: ZerionAddressPosition): FungibleAsset<ChainId, SchemaType> {\n    const { asset, chain, quantity } = data\n    const { address: address_, decimals } = asset.implementations[chain]\n    const balance = leftShift(quantity, decimals).toNumber()\n    const price = asset.price?.value ?? 0\n    const address = isNativeToken(asset.symbol) ? getTokenConstant(chainId, 'NATIVE_TOKEN_ADDRESS', '') : address_\n\n    return {\n        id: address,\n        chainId,\n        type: TokenType.Fungible,\n        schema: SchemaType.ERC20,\n        name: asset.name ?? 'Unknown Token',\n        symbol: asset.symbol,\n        decimals,\n        address: formatEthereumAddress(address),\n        logoURL: asset.icon_url,\n        balance: quantity,\n        price: {\n            usd: new BigNumber(price).toString(),\n        },\n        value: {\n            usd: multipliedBy(balance, price).toString(),\n        },\n    }\n}\n\nfunction normalizeTxStatus(status: ZerionTransactionStatus): TransactionStatusType {\n    const map: Record<ZerionTransactionStatus, TransactionStatusType> = {\n        [ZerionTransactionStatus.FAILED]: TransactionStatusType.FAILED,\n        [ZerionTransactionStatus.CONFIRMED]: TransactionStatusType.SUCCEED,\n        [ZerionTransactionStatus.PENDING]: TransactionStatusType.NOT_DEPEND,\n    }\n    return map[status]\n}\n\nexport function formatTransactions(\n    chainId: ChainId,\n    data: ZerionTransactionItem[],\n): Array<Transaction<ChainId, SchemaType>> {\n    return data\n        .filter(({ type }) => type !== ZerionRBDTransactionType.AUTHORIZE)\n        .map((transaction) => {\n            const ethGasFee = leftShift(transaction.fee?.value ?? 0, 18).toString()\n            const usdGasFee = multipliedBy(ethGasFee, transaction.fee?.price ?? 0).toString()\n\n            return {\n                id: transaction.hash,\n                chainId: ChainId.Mainnet,\n                type: transaction.type,\n                cateType: transaction.type,\n                from: transaction.address_from ?? '',\n                to: transaction.address_to ?? '',\n                timestamp: transaction.mined_at,\n                status: normalizeTxStatus(transaction.status),\n                assets:\n                    transaction.changes?.map(({ asset, direction, value }) => {\n                        return {\n                            id: asset.asset_code,\n                            // TODO: distinguish NFT\n                            type: TokenType.Fungible,\n                            schema: SchemaType.ERC20,\n                            chainId,\n                            name: asset.name,\n                            symbol: asset.symbol,\n                            address: asset.asset_code,\n                            direction,\n                            amount: leftShift(value, asset.decimals).toString(),\n                            logoURI: asset.icon_url,\n                        }\n                    }) ?? [],\n                fee: {\n                    eth: ethGasFee,\n                    usd: usdGasFee,\n                },\n            }\n        })\n}\n","import { createLookupTableResolver } from '@masknet/shared-base'\nimport { ChainId } from '@masknet/web3-shared-evm'\nimport { mapKeys } from 'lodash-es'\nimport io from 'socket.io-client'\nimport {\n    SocketRequestNameSpace,\n    type SocketRequestBody,\n    type SocketNameSpace,\n    SocketRequestType,\n    type SocketResponseBody,\n    type ZerionAssetResponseBody,\n    type ZerionCoinResponseBody,\n    type ZerionTransactionResponseBody,\n    type ZerionNonFungibleTokenResponseBody,\n    type ZerionNonFungibleTokenInfoBody,\n    type ZerionGasResponseBody,\n} from './types.js'\nimport { delay } from '@masknet/kit'\n\nconst ZERION_API = 'wss://api-v4.zerion.io'\n// cspell:disable-next-line\nconst ZERION_TOKEN = 'Mask.yEUEfDnoxgLBwNEcYPVussxxjdrGwapj'\n\nlet socket: SocketIOClient.Socket | null = null\n\nexport const zerionChainIdResolver = createLookupTableResolver<string, ChainId | undefined>(\n    {\n        ethereum: ChainId.Mainnet,\n        optimism: ChainId.Optimism,\n        fantom: ChainId.Fantom,\n        avalanche: ChainId.Avalanche,\n        arbitrum: ChainId.Arbitrum,\n        aurora: ChainId.Aurora,\n        'binance-smart-chain': ChainId.BSC,\n        xdai: ChainId.xDai,\n        polygon: ChainId.Matic,\n    },\n    () => undefined,\n)\n\nfunction createSocket(namespace: SocketRequestNameSpace = SocketRequestNameSpace.Address) {\n    if (socket?.connected) return socket\n    if (socket) socket.removeAllListeners()\n    return (socket = io(`${ZERION_API}/${namespace}`, {\n        transports: ['websocket'],\n        query: {\n            api_token: ZERION_TOKEN,\n        },\n        // disable the auto reconnection\n        reconnection: false,\n    }))\n}\n\nfunction verify(request: SocketRequestBody, response: any) {\n    // each value in request payload must be found in response meta\n    return Object.keys(request.payload).every((key) => {\n        const requestValue = request.payload[key]\n        const responseMetaValue = response.meta[key]\n        if (typeof requestValue === 'object') {\n            return JSON.stringify(requestValue) === JSON.stringify(responseMetaValue)\n        }\n        if (typeof requestValue === 'string') {\n            return responseMetaValue?.toLowerCase() === requestValue?.toLowerCase()\n        }\n        return responseMetaValue === requestValue\n    })\n}\n\nfunction subscribeFromZerion(\n    socketNamespace: SocketNameSpace,\n    requestBody: SocketRequestBody,\n    type = SocketRequestType.SUBSCRIBE,\n) {\n    return new Promise<SocketResponseBody>((resolve) => {\n        const { socket, namespace } = socketNamespace\n        const model = requestBody.scope[0]\n        socket.emit(type, requestBody)\n        socket.on(`received ${namespace} ${model}`, (data: SocketResponseBody) => {\n            if (verify(requestBody, data)) {\n                resolve(data)\n            }\n        })\n    })\n}\n\nexport async function getAssetsList(address: string, scope: string) {\n    return (await subscribeFromZerion(\n        {\n            namespace: SocketRequestNameSpace.Address,\n            socket: createSocket(),\n        },\n        {\n            scope: [scope],\n            payload: {\n                address,\n                currency: 'usd',\n            },\n        },\n    )) as ZerionAssetResponseBody\n}\n\nexport async function getCoinsByKeyword(keyword: string) {\n    return (await subscribeFromZerion(\n        {\n            namespace: SocketRequestNameSpace.Assets,\n            socket: createSocket(SocketRequestNameSpace.Assets),\n        },\n        {\n            scope: ['info'],\n            payload: {\n                search_query: keyword,\n                offset: 0,\n                limit: 100,\n            },\n        },\n    )) as ZerionCoinResponseBody\n}\n\nexport async function getTransactionList(address: string, scope: string, page?: number, size = 30) {\n    return (await subscribeFromZerion(\n        {\n            namespace: SocketRequestNameSpace.Address,\n            socket: createSocket(),\n        },\n        {\n            scope: [scope],\n            payload: {\n                address,\n                currency: 'usd',\n                transactions_limit: size,\n                transactions_offset: (page ?? 0) * size,\n                transactions_search_query: '',\n            },\n        },\n    )) as ZerionTransactionResponseBody\n}\n\nexport async function getNonFungibleAsset(account: string, address: string, tokenId: string) {\n    return Promise.race([\n        subscribeFromZerion(\n            {\n                namespace: SocketRequestNameSpace.Address,\n                socket: createSocket(),\n            },\n            {\n                scope: ['nft'],\n                payload: {\n                    address: account,\n                    nft_asset_code: `${address}:${tokenId}`,\n                },\n            },\n        ) as Promise<ZerionNonFungibleTokenResponseBody>,\n        delay(5_000),\n    ])\n}\n\nexport async function getNonFungibleAssets(address: string, page?: number, size = 20, contract_address?: string) {\n    return Promise.race([\n        subscribeFromZerion(\n            { namespace: SocketRequestNameSpace.Address, socket: createSocket() },\n            {\n                scope: ['nft'],\n                payload: {\n                    address,\n                    contract_addresses: contract_address ? [contract_address] : [],\n                    mode: 'nft',\n                    nft_limit: size,\n                    nft_offset: (page ?? 0) * size,\n                },\n            },\n            SocketRequestType.GET,\n        ) as Promise<ZerionNonFungibleTokenResponseBody>,\n        delay(5_000),\n    ])\n}\n\nexport async function getNonFungibleInfo(address: string, tokenId: string) {\n    return (await subscribeFromZerion(\n        { namespace: SocketRequestNameSpace.Assets, socket: createSocket(SocketRequestNameSpace.Assets) },\n        {\n            scope: ['nft-info'],\n            payload: {\n                asset_code: `${address}:${tokenId}`,\n                currency: 'eth',\n            },\n        },\n    )) as ZerionNonFungibleTokenInfoBody\n}\n\nexport async function getGasOptions(chainId: ChainId) {\n    const response = (await subscribeFromZerion(\n        {\n            namespace: SocketRequestNameSpace.Gas,\n            socket: createSocket(SocketRequestNameSpace.Gas),\n        },\n        {\n            scope: ['chain-prices'],\n            payload: {},\n        },\n        SocketRequestType.GET,\n    )) as ZerionGasResponseBody\n\n    if (!response.payload['chain-prices']) return\n\n    const gasOptionsCollection = mapKeys(response.payload['chain-prices'], (_, key) => zerionChainIdResolver(key))\n\n    return gasOptionsCollection[chainId]?.info.classic\n}\n","import { first, unionWith } from 'lodash-es'\nimport { createPageable, createIndicator, createNextIndicator, type Pageable, EMPTY_LIST } from '@masknet/shared-base'\nimport {\n    type Transaction,\n    isSameAddress,\n    TokenType,\n    SourceType,\n    scale10,\n    GasOptionType,\n    toFixed,\n} from '@masknet/web3-shared-base'\nimport {\n    ChainId,\n    type GasOption,\n    SchemaType,\n    isValidChainId,\n    resolveImageURL,\n    ChainIdList,\n} from '@masknet/web3-shared-evm'\nimport { ChainResolver } from '../Web3/EVM/apis/ResolverAPI.js'\nimport type { ZerionNonFungibleTokenItem, ZerionNonFungibleCollection, ZerionCoin } from './types.js'\nimport { formatAsset, formatTransactions, isValidAsset } from './helpers.js'\nimport {\n    getAssetsList,\n    getCoinsByKeyword,\n    getGasOptions,\n    getNonFungibleAsset,\n    getNonFungibleAssets,\n    getNonFungibleInfo,\n    getTransactionList,\n    zerionChainIdResolver,\n} from './base-api.js'\nimport { getAssetFullName } from '../helpers/getAssetFullName.js'\nimport { getNativeAssets } from '../helpers/getNativeAssets.js'\nimport type {\n    FungibleTokenAPI,\n    GasOptionAPI_Base,\n    HistoryAPI,\n    HubOptions_Base,\n    NonFungibleTokenAPI,\n    TrendingAPI,\n} from '../entry-types.js'\n\nconst ZERION_NFT_DETAIL_URL = 'https://app.zerion.io/nfts/'\nconst filterAssetType = ['compound', 'trash', 'uniswap', 'uniswap-v2', 'nft']\n\nclass ZerionAPI implements FungibleTokenAPI.Provider<ChainId, SchemaType>, HistoryAPI.Provider<ChainId, SchemaType> {\n    async getAssets(address: string, options?: HubOptions_Base<ChainId>) {\n        const { meta, payload } = await getAssetsList(address, 'positions')\n        if (meta.status !== 'ok') return createPageable(EMPTY_LIST, createIndicator(options?.indicator))\n\n        const assets =\n            payload.positions?.positions\n                .filter(\n                    (x) =>\n                        x.type === 'asset' &&\n                        x.asset.icon_url &&\n                        x.asset.is_displayable &&\n                        !filterAssetType.includes(x.asset.type) &&\n                        isValidAsset(x) &&\n                        zerionChainIdResolver(x.chain),\n                )\n                ?.map((x) => {\n                    return formatAsset(zerionChainIdResolver(x.chain)!, x)\n                }) ?? EMPTY_LIST\n\n        return createPageable(\n            unionWith(\n                assets,\n                getNativeAssets(),\n                (a, z) => isSameAddress(a.address, z.address) && a.chainId === z.chainId,\n            ),\n            createIndicator(options?.indicator),\n        )\n    }\n\n    async getTransactions(\n        address: string,\n        { indicator, chainId }: HubOptions_Base<ChainId> = {},\n    ): Promise<Pageable<Transaction<ChainId, SchemaType>>> {\n        const pairs = ChainIdList.filter((x) => x === chainId).map((x) => [x, 'transactions'] as const)\n        const allSettled = await Promise.allSettled(\n            pairs.map(async ([chainId, scope]) => {\n                if (!scope) return EMPTY_LIST\n                const { meta, payload } = await getTransactionList(address, scope)\n                if (meta.status !== 'ok') return EMPTY_LIST\n                return formatTransactions(chainId, payload.transactions)\n            }),\n        )\n        const transactions = allSettled.flatMap((x) => (x.status === 'fulfilled' ? x.value : []))\n\n        return createPageable(transactions, createIndicator(indicator))\n    }\n}\n\nclass ZerionNonFungibleTokenAPI implements NonFungibleTokenAPI.Provider<ChainId, SchemaType> {\n    createNonFungibleCollectionFromCollectionData(chainId: ChainId, collection: ZerionNonFungibleCollection) {\n        return {\n            chainId,\n            scheme: SchemaType.ERC721,\n            name: collection.name,\n            slug: collection.collection_id,\n            description: collection.description,\n            iconURL: collection.icon_url,\n            source: SourceType.Zerion,\n        }\n    }\n    createNonFungibleTokenPermalink(address?: string, tokenId?: string) {\n        if (!address || !tokenId) return\n        return ZERION_NFT_DETAIL_URL + `${address}:${tokenId}`\n    }\n\n    createNonFungibleTokenAssetFromNFT(chainId: ChainId, nft: ZerionNonFungibleTokenItem) {\n        const name = getAssetFullName(\n            nft.asset.contract_address,\n            nft.asset.collection.name,\n            nft.asset.name,\n            nft.asset.token_id,\n        )\n        return {\n            chainId,\n            id: `${chainId}_${nft.asset.contract_address}_${nft.asset.token_id}`,\n            type: TokenType.NonFungible,\n            schema: nft.standard === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n            address: nft.asset.contract_address,\n            tokenId: nft.asset.token_id,\n            contract: {\n                chainId,\n                schema: nft.standard === 'ERC1155' ? SchemaType.ERC1155 : SchemaType.ERC721,\n                address: nft.asset.contract_address,\n                name: nft.asset.collection.name,\n                symbol: nft.asset.symbol,\n            },\n            metadata: {\n                chainId,\n                name,\n                symbol: nft.asset.symbol,\n                imageURL: resolveImageURL(nft.asset.preview.url, name, nft.asset.contract_address),\n                mediaURL: nft.asset.detail.url,\n                mediaType: nft.asset.detail.meta.type,\n                source: SourceType.Zerion,\n            },\n            collection: {\n                chainId,\n                name: nft.asset.collection_info.name,\n                slug: nft.asset.collection_info.slug,\n                description: nft.asset.collection_info.description,\n                address: nft.asset.contract_address,\n                iconURL: nft.asset.collection_info.icon_url ?? nft.asset.collection.icon_url,\n                verified: nft.asset.is_verified,\n            },\n            source: SourceType.Zerion,\n            link: this.createNonFungibleTokenPermalink(nft.asset.contract_address, nft.asset.token_id),\n        }\n    }\n\n    async getAsset(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet, account }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!account || !isValidChainId(chainId)) return\n        const response = await getNonFungibleAsset(account, address, tokenId)\n        if (!response?.payload.nft.length) return\n        const payload = first(response.payload.nft)\n        if (!payload) return\n        return this.createNonFungibleTokenAssetFromNFT(chainId, payload)\n    }\n    async getAssets(account: string, { chainId = ChainId.Mainnet, indicator, size }: HubOptions_Base<ChainId> = {}) {\n        if (!isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const response = await getNonFungibleAssets(account, indicator?.index, size)\n        if (!response?.payload.nft.length) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const assets = response.payload.nft.map((x) => this.createNonFungibleTokenAssetFromNFT(chainId, x))\n\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            assets.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getAssetsByCollection(\n        address: string,\n        { chainId = ChainId.Mainnet, indicator, size, account }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!account || !isValidChainId(chainId)) return createPageable(EMPTY_LIST, createIndicator(indicator))\n        const response = await getNonFungibleAssets(account, indicator?.index, size, address)\n        if (!response) return\n        const assets = response.payload.nft.map((x) => this.createNonFungibleTokenAssetFromNFT(chainId, x))\n\n        return createPageable(\n            assets,\n            createIndicator(indicator),\n            assets.length ? createNextIndicator(indicator) : undefined,\n        )\n    }\n\n    async getFloorPrice(\n        address: string,\n        tokenId: string,\n        { chainId = ChainId.Mainnet }: HubOptions_Base<ChainId> = {},\n    ) {\n        if (!isValidChainId(chainId)) return\n\n        const response = await getNonFungibleInfo(address, tokenId)\n        if (!response.payload['nft-info'].asset.floor_price) return\n\n        const nativeToken = ChainResolver.nativeCurrency(chainId)\n        return {\n            amount: scale10(response.payload['nft-info'].asset.floor_price, nativeToken.decimals).toFixed(0),\n            token: nativeToken,\n        }\n    }\n}\n\nclass ZerionTrendingAPI implements TrendingAPI.Provider<ChainId> {\n    private createCoinFromData(data: ZerionCoin) {\n        return {\n            id: data.asset.id,\n            name: data.asset.name,\n            symbol: data.asset.symbol,\n            type: TokenType.Fungible,\n            decimals: data.asset.decimals,\n        }\n    }\n    async getAllCoins(keyword?: string): Promise<TrendingAPI.Coin[]> {\n        if (!keyword) return EMPTY_LIST\n        const response = await getCoinsByKeyword(keyword)\n\n        if (!response?.payload?.info?.length) return EMPTY_LIST\n\n        return response.payload.info.filter((x) => !x.asset.type).map(this.createCoinFromData)\n    }\n\n    getCoinsByKeyword(): Promise<TrendingAPI.Coin[]> {\n        throw new Error('Method not implemented.')\n    }\n    getCoinInfoByAddress(): Promise<TrendingAPI.CoinInfo | undefined> {\n        throw new Error('To be implemented.')\n    }\n    getCoinTrending(): Promise<TrendingAPI.Trending> {\n        throw new Error('Method not implemented.')\n    }\n    getCoinPriceStats(): Promise<TrendingAPI.Stat[]> {\n        throw new Error('Method not implemented.')\n    }\n    getCoinMarketInfo(): Promise<TrendingAPI.MarketInfo> {\n        throw new Error('Method not implemented.')\n    }\n}\n\nclass ZerionGasAPI implements GasOptionAPI_Base.Provider<ChainId, GasOption> {\n    async getGasOptions(chainId: ChainId): Promise<Record<GasOptionType, GasOption> | undefined> {\n        if (!isValidChainId(chainId)) return\n        const result = await getGasOptions(chainId)\n        return {\n            [GasOptionType.FAST]: {\n                estimatedSeconds: 15,\n                suggestedMaxFeePerGas: toFixed(result?.fast),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.NORMAL]: {\n                estimatedSeconds: 30,\n                suggestedMaxFeePerGas: toFixed(result?.standard),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.SLOW]: {\n                estimatedSeconds: 60,\n                suggestedMaxFeePerGas: toFixed(result?.slow),\n                suggestedMaxPriorityFeePerGas: '0',\n            },\n            [GasOptionType.CUSTOM]: {\n                estimatedSeconds: 0,\n                suggestedMaxFeePerGas: '',\n                suggestedMaxPriorityFeePerGas: '',\n            },\n        }\n    }\n}\nexport const Zerion = new ZerionAPI()\nexport const ZerionNonFungibleToken = new ZerionNonFungibleTokenAPI()\nexport const ZerionTrending = new ZerionTrendingAPI()\nexport const ZerionGas = new ZerionGasAPI()\n","import type { provider as Provider } from 'web3-core'\nimport { Web3 } from '@masknet/web3-shared-evm'\n\nexport function createWeb3FromProvider(provider: Provider) {\n    const web3 = new Web3(provider)\n    web3.eth.transactionBlockTimeout = 10 * 1000\n    web3.eth.transactionPollingTimeout = 10 * 1000\n    // @ts-expect-error private or untyped API?\n    // disable the default polling strategy\n    web3.eth.transactionPollingInterval = Number.MAX_SAFE_INTEGER\n    return web3\n}\n","import { memoize } from 'lodash-es'\nimport type { Web3 } from '@masknet/web3-shared-evm'\nimport { createWeb3FromProvider } from './createWeb3FromProvider.js'\nimport { createWeb3ProviderFromURL } from './createWeb3ProviderFromURL.js'\n\nfunction __create__(url: string) {\n    return createWeb3FromProvider(createWeb3ProviderFromURL(url))\n}\n\nexport const createWeb3FromURL: (url: string) => Web3 = memoize(__create__, (url) => url.toLowerCase())\n","import type { JsonRpcPayload, JsonRpcResponse } from 'web3-core-helpers'\nimport {\n    createJsonRpcResponse,\n    type EthereumMethodType,\n    type RequestArguments,\n    type Web3Provider,\n} from '@masknet/web3-shared-evm'\n\nexport function createWeb3ProviderFromRequest(\n    request: <T>(requestArguments: RequestArguments) => Promise<T>,\n): Web3Provider {\n    const provider: Web3Provider = {\n        on() {\n            return provider\n        },\n        removeListener() {\n            return provider\n        },\n\n        request,\n\n        send(payload, callback: (error: Error | null, response?: JsonRpcResponse) => void) {\n            return this.sendAsync(payload, callback)\n        },\n        // some pkg (eth-rpc) needs this method\n        sendAsync: async (\n            payload: JsonRpcPayload,\n            callback: (error: Error | null, response?: JsonRpcResponse) => void,\n        ) => {\n            try {\n                const result = await request({\n                    method: payload.method as EthereumMethodType,\n                    params: payload.params ?? [],\n                })\n                callback(null, createJsonRpcResponse(payload.id as number, result))\n                return createJsonRpcResponse(payload.id as number, result)\n            } catch (error) {\n                if (error instanceof Error) callback(error)\n                return createJsonRpcResponse(payload.id as number, undefined, error as Error)\n            }\n        },\n    }\n    return provider\n}\n","import { memoize } from 'lodash-es'\nimport { createJsonRpcPayload, ErrorEditor, type Web3Provider } from '@masknet/web3-shared-evm'\nimport { createWeb3ProviderFromRequest } from './createWeb3ProviderFromRequest.js'\nimport { fetchJsonRpcResponse } from './fetchJsonRpcResponse.js'\n\nfunction __create__(url: string) {\n    return createWeb3ProviderFromRequest(async (requestArguments) => {\n        const response = await fetchJsonRpcResponse(url, createJsonRpcPayload(0, requestArguments))\n        const editor = ErrorEditor.from(null, response)\n        if (editor.presence) throw editor.error\n        return response.result\n    })\n}\n\nexport const createWeb3ProviderFromURL: (url: string) => Web3Provider = memoize(__create__, (url) => url.toLowerCase())\n","import { Flags } from '@masknet/flags'\n\nfunction isIgnoredRequest(request: Request) {\n    return [\n        // Twitter Identity API\n        'mr8asf7i4h',\n        // NextID\n        'https://proof-service.next.id/v1/proof',\n        // Twitter Assets\n        'https://t.co',\n        'https://pbs.twimg.com',\n        'https://abs.twimg.com',\n        'https://twitter.com',\n        // source code\n        'https://maskbook.pages.dev',\n        // KV\n        'https://kv.r2d2.to/api/com.maskbook.pets',\n        'https://kv.r2d2.to/api/com.maskbook.user',\n        // ScamDB\n        'https://scam.mask.r2d2.to',\n        // CDN\n        /* cspell:disable-next-line */\n        'cdninstagram.com',\n        /* cspell:disable-next-line */\n        'fbcdn.net',\n        'imgix.net',\n    ].some((x) => request.url.includes(x))\n}\n\nfunction getHeaders(requestOrResponse?: Request | Response) {\n    try {\n        if (!requestOrResponse) return 'N/A'\n        return JSON.stringify(Object.fromEntries(requestOrResponse.headers.entries()))\n    } catch {\n        return 'N/A'\n    }\n}\n\nasync function getBody(requestOrResponse?: Request | Response) {\n    try {\n        const text = await requestOrResponse?.text()\n        return text ?? 'N/A'\n    } catch {\n        return 'N/A'\n    }\n}\n\nexport async function captureFetchTransaction(\n    request: Request,\n    response?: Response,\n    options?: { status?: 'succeed' | 'failed'; startAt?: number; endAt?: number },\n) {\n    if (process.env.NODE_ENV === 'development') return\n    if (!Flags.sentry_enabled) return\n    if (!Flags.sentry_fetch_transaction_enabled) return\n    if (isIgnoredRequest(request)) return\n\n    const requestHeaders = getHeaders(request.clone())\n    const responseHeaders = getHeaders(response?.clone())\n    const requestBody = await getBody(request.clone())\n    const responseBody = await getBody(response?.clone())\n\n    const transaction = Sentry.startTransaction({\n        name: request.url,\n    })\n    const span = transaction.startChild({\n        op: 'task',\n        tags: {\n            source: new URL(request.url).host,\n            method: request.method.toUpperCase(),\n            url: request.url,\n            response_type: response?.type,\n            response_redirected: response?.redirected,\n            status_code: response?.status,\n            status_text: response?.statusText,\n        },\n        data: {\n            request_headers: requestHeaders,\n            request_body: requestBody,\n            response_headers: responseHeaders,\n            response_body: responseBody,\n            response_type: response?.type,\n            response_code: response?.status,\n            response_status: response?.statusText,\n            response_redirected: response?.redirected,\n        },\n        status: options?.status,\n        startTimestamp: options?.startAt,\n        endTimestamp: options?.endAt,\n        description: [\n            `Failed to fetch: ${request.url}`,\n            `  with Request Headers: ${requestHeaders}`,\n            `  with Request Body: ${requestBody}`,\n            `  with Response Headers: ${responseHeaders}`,\n            `  with Response Body: ${responseBody}`,\n        ].join('\\n'),\n    })\n\n    span.finish()\n    transaction.finish()\n}\n","import { captureFetchTransaction } from '@masknet/web3-telemetry/helpers'\n\nconst { fetch: originalFetch } = globalThis\n\nexport type Fetcher<T = Response> = (input: RequestInfo | URL, init?: RequestInit, next?: Fetcher) => Promise<T>\n\nexport async function fetch(input: RequestInfo | URL, init?: RequestInit, fetchers: Fetcher[] = []): Promise<Response> {\n    const fetcher = fetchers.reduceRight<Fetcher>(\n        (ff, f) => (r, i) => f(r, i, ff),\n        (input: RequestInfo | URL, init?: RequestInit | undefined) => {\n            return originalFetch(input, {\n                signal: AbortSignal.timeout(3 * 60 * 1000 /* 3 mins */),\n                ...init,\n            })\n        },\n    )\n\n    // capture exception if bad response or any error occurs\n    let hasError = false\n    let response: Response | undefined\n\n    // log span if request error\n    const startAt = Date.now()\n\n    try {\n        response = await fetcher(input, init)\n        if (!response.ok) hasError = true\n        return response\n    } catch (error) {\n        hasError = true\n        throw error\n    } finally {\n        if (hasError) {\n            await captureFetchTransaction(new Request(input, init), response, {\n                status: 'failed',\n                startAt,\n                endAt: Date.now(),\n            })\n        }\n    }\n}\n","import type { Fetcher } from './fetch.js'\n\nconst { fetch: originalFetch } = globalThis\n\nexport enum Duration {\n    ONE_SECOND = 1000,\n    TEN_SECONDS = 10000,\n    ONE_MINUTE = 60000,\n    THIRTY_MINUTES = 1800000,\n    TWELVE_HOURS = 43200000,\n    ONE_DAY = 86400000,\n}\n\nfunction __open__(url: string) {\n    if ('caches' in globalThis) {\n        try {\n            return caches.open(new URL(url).host)\n        } catch {\n            return\n        }\n    }\n    return\n}\n\nasync function __fetch__(duration: number, request: Request, init?: RequestInit, next = originalFetch) {\n    // hit a cached request\n    const cache = await __open__(request.url)\n    const hit = await cache?.match(request)\n    const date = hit?.headers.get('x-cache-date')\n\n    if (hit && date) {\n        const expired = new Date(date).getTime() + duration < Date.now()\n        if (!expired) return hit\n    }\n\n    // send the request & cache the response\n    const response = await next(request.clone(), init)\n    const { ok, status, statusText, body, headers } = response.clone()\n\n    if (ok && status === 200 && body) {\n        await cache?.put(\n            request.clone(),\n            new Response(body, {\n                status,\n                statusText,\n                headers: {\n                    ...Object.fromEntries(headers.entries()),\n                    // store the cached date as a UTC string\n                    'x-cache-date': new Date().toUTCString(),\n                },\n            }),\n        )\n    }\n    return response\n}\n\nexport async function fetchCached(\n    input: RequestInfo | URL,\n    init?: RequestInit,\n    next = originalFetch,\n    duration = Duration.ONE_MINUTE,\n): Promise<Response> {\n    // why: the caches doesn't define in test env\n    if (process.env.NODE_ENV === 'test') return next(input, init)\n\n    // skip all side effect requests\n    const request = new Request(input, init)\n    if (request.method !== 'GET') return next(request, init)\n\n    // skip all non-http requests\n    const url = request.url\n    if (!url.startsWith('http')) return next(request, init)\n\n    return __fetch__(duration, request, init, next)\n}\n\nexport async function staleCached(info: RequestInfo | URL, init?: RequestInit): Promise<Response | void> {\n    const request = new Request(info, init)\n    if (request.method !== 'GET') return\n\n    const url = request.url\n    if (!url.startsWith('http')) return\n\n    const cache = await __open__(url)\n    const hit = await cache?.match(request)\n    if (!hit) return\n\n    await cache?.delete(request)\n    return hit\n}\n\nexport function createFetchCached({\n    next = originalFetch,\n    duration = Duration.ONE_MINUTE,\n}: {\n    next?: Fetcher\n    duration?: number\n} = {}) {\n    return async function createFetchCached(\n        input: RequestInfo | URL,\n        init?: RequestInit,\n        _next = next,\n    ): Promise<Response> {\n        // why: the caches doesn't define in test env\n        if (process.env.NODE_ENV === 'test') return _next(input, init)\n\n        // skip all side effect requests\n        const request = new Request(input, init)\n        if (request.method !== 'GET') return _next(request, init)\n\n        // skip all non-http requests\n        const url = request.url\n        if (!url.startsWith('http')) return _next(request, init)\n\n        return __fetch__(duration, request, init, _next)\n    }\n}\n","import { fetch } from './fetch.js'\nimport { getNextFetchers, type NextFetchersOptions } from './getNextFetchers.js'\n\nexport async function fetchGlobal(\n    input: RequestInfo | URL,\n    init?: RequestInit,\n    options?: NextFetchersOptions,\n): Promise<Response> {\n    return fetch(input, init, getNextFetchers(options))\n}\n","import { fetch } from './fetch.js'\nimport { Duration } from './fetchCached.js'\nimport { Expiration } from './fetchSquashed.js'\nimport { getNextFetchers, type NextFetchersOptions } from './getNextFetchers.js'\n\nexport async function fetchJSON<T = unknown>(\n    input: RequestInfo | URL,\n    init?: RequestInit,\n    options?: NextFetchersOptions,\n): Promise<T> {\n    const response = await fetch(input, init, getNextFetchers(options))\n    if (!response.ok) throw new Error('Failed to fetch as JSON.')\n    return response.json()\n}\n\nexport async function fetchSquashedJSON<T = unknown>(\n    input: RequestInfo | URL,\n    init?: RequestInit,\n    options?: NextFetchersOptions,\n): Promise<T> {\n    return fetchJSON<T>(input, init, {\n        squashExpiration: Expiration.ONE_SECOND,\n        ...options,\n    })\n}\n\nexport async function fetchCachedJSON<T = unknown>(\n    input: RequestInfo | URL,\n    init?: RequestInit,\n    options?: NextFetchersOptions,\n): Promise<T> {\n    return fetchJSON<T>(input, init, {\n        squashExpiration: Expiration.ONE_SECOND,\n        cacheDuration: Duration.ONE_MINUTE,\n        ...options,\n    })\n}\n","import { sha3 } from 'web3-utils'\nimport type { TransactionConfig } from 'web3-core'\nimport type { JsonRpcPayload } from 'web3-core-helpers'\nimport { EthereumMethodType, type RequestArguments } from '../types/index.js'\n\nexport class RequestID {\n    /**\n     * @deprecated Don't new RequestID()\n     * Use RequestID.from(requestArguments) stead.\n     */\n    constructor(\n        private url: string,\n        private requestArguments: RequestArguments,\n    ) {}\n\n    get ID() {\n        const { method, params } = this.requestArguments\n        switch (method) {\n            case EthereumMethodType.ETH_GET_CODE: {\n                const [address, tag = 'latest'] = params as [string, string]\n                return sha3([this.url, method, address, tag].join(','))\n            }\n            case EthereumMethodType.ETH_BLOCK_NUMBER: {\n                return sha3([this.url, method].join(','))\n            }\n            case EthereumMethodType.ETH_GET_BLOCK_BY_NUMBER: {\n                const [number, full] = params as [string, boolean]\n                return sha3([this.url, method, number, full].join(','))\n            }\n            case EthereumMethodType.ETH_GET_BLOCK_BY_HASH: {\n                const [hash] = params as [string]\n                return sha3([this.url, method, hash].join(','))\n            }\n            case EthereumMethodType.ETH_GAS_PRICE: {\n                return sha3([this.url, method].join(','))\n            }\n            case EthereumMethodType.ETH_GET_BALANCE: {\n                const [account, tag = 'latest'] = params as [string, string]\n                return sha3([this.url, method, account, tag].join(','))\n            }\n            case EthereumMethodType.ETH_GET_TRANSACTION_COUNT: {\n                const [account, tag = 'latest'] = params as [string, string]\n                return sha3([this.url, method, account, tag].join(','))\n            }\n            case EthereumMethodType.ETH_CALL: {\n                const [config, tag = 'latest'] = params as [TransactionConfig, string]\n                return sha3([this.url, method, JSON.stringify(config), tag].join(','))\n            }\n            case EthereumMethodType.ETH_ESTIMATE_GAS: {\n                const [config, tag = 'latest'] = params as [TransactionConfig, string]\n                return sha3([this.url, method, JSON.stringify(config), tag].join(','))\n            }\n            case EthereumMethodType.ETH_GET_TRANSACTION_RECEIPT: {\n                const [hash] = params as [string]\n                return sha3([this.url, method, hash].join(','))\n            }\n            case EthereumMethodType.ETH_GET_TRANSACTION_BY_HASH:\n                const [hash] = params as [string]\n                return sha3([this.url, method, hash].join(','))\n            default:\n                return\n        }\n    }\n\n    static from(url: string, requestArguments: RequestArguments) {\n        return new RequestID(url, requestArguments)\n    }\n\n    static fromPayload(url: string, payload: JsonRpcPayload) {\n        return new RequestID(url, {\n            method: payload.method as EthereumMethodType,\n            params: payload.params ?? [],\n        })\n    }\n}\n","import type { JsonRpcPayload, JsonRpcResponse } from 'web3-core-helpers'\nimport { RequestID } from '@masknet/web3-shared-evm'\nimport { fetchSquashedJSON } from './fetchJSON.js'\n\nasync function resolveRequestKey(request: Request) {\n    try {\n        const body: JsonRpcPayload = await request.json()\n        return RequestID.fromPayload(request.url, body).ID ?? ''\n    } catch {\n        return ''\n    }\n}\n\nexport async function fetchJsonRpcResponse(url: string, payload: JsonRpcPayload, init?: RequestInit) {\n    return fetchSquashedJSON<JsonRpcResponse>(\n        url,\n        {\n            ...init,\n            method: 'POST',\n            headers: init?.headers ?? {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(payload),\n        },\n        {\n            resolver: resolveRequestKey,\n        },\n    )\n}\n","const { fetch: originalFetch } = globalThis\n\nexport enum Expiration {\n    ONE_SECOND = 1000,\n    ONE_MINUTE = 60000,\n    THIRTY_MINUTES = 1800000,\n    ONE_HOUR = 3600000,\n}\n\nconst CACHE = new Map<\n    string,\n    {\n        timestamp: number\n        response: Promise<Response>\n    }\n>()\n\nfunction __fetch__(key: string, expiration: number, request: Request, init?: RequestInit, next = originalFetch) {\n    const hit = CACHE.get(key)\n    try {\n        if (hit && hit.timestamp + expiration > Date.now()) return hit.response.then((x) => x.clone())\n    } catch {\n        CACHE.delete(key)\n    }\n\n    const responsePromise = next(request, init)\n\n    // setup cache for merging subsequent requests\n    if (key) {\n        CACHE.set(key, {\n            timestamp: Date.now(),\n            response: responsePromise,\n        })\n    }\n\n    return responsePromise.then((x) => x.clone())\n}\n\nasync function defaultResolver(request: Request) {\n    return `${request.method} ${request.url} ${request.method === 'POST' ? await request.text() : 'NULL'}`\n}\n\nexport async function stableSquashedCached(\n    info: RequestInfo | URL,\n    init?: RequestInit,\n    resolver = defaultResolver,\n): Promise<Response | void> {\n    const request = new Request(info, init)\n\n    // skip not cacheable requests\n    if (request.method !== 'GET' && request.method !== 'POST') return\n\n    // skip all non-http requests\n    const url = request.url\n    if (!url.startsWith('http')) return\n\n    const key = await resolver(request)\n    if (!key) return\n    CACHE.delete(key)\n}\n\nexport async function fetchSquashed(\n    input: RequestInfo | URL,\n    init?: RequestInit,\n    next = originalFetch,\n    resolver = defaultResolver,\n    expiration = Expiration.ONE_SECOND,\n): Promise<Response> {\n    // why: the caches doesn't define in test env\n    if (process.env.NODE_ENV === 'test') return next(input, init)\n\n    const request = new Request(input, init)\n\n    // skip not cacheable requests\n    if (request.method !== 'GET' && request.method !== 'POST') return next(request, init)\n\n    // skip all non-http requests\n    const url = request.url\n    if (!url.startsWith('http')) return next(request, init)\n\n    const key = await resolver(request)\n    return __fetch__(key, expiration, request, init, next)\n}\n","import {\n    type ChainId,\n    getMaskBoxConstant,\n    getRedPacketConstant,\n    getNftRedPacketConstant,\n} from '@masknet/web3-shared-evm'\nimport { Icons } from '@masknet/icons'\n\nexport function getAllMaskDappContractInfo(chainId: ChainId, type: 'token' | 'nft') {\n    const HAPPY_RED_PACKET_ADDRESS_V1 = getRedPacketConstant(chainId, 'HAPPY_RED_PACKET_ADDRESS_V1')\n    const HAPPY_RED_PACKET_ADDRESS_V2 = getRedPacketConstant(chainId, 'HAPPY_RED_PACKET_ADDRESS_V2')\n    const HAPPY_RED_PACKET_ADDRESS_V3 = getRedPacketConstant(chainId, 'HAPPY_RED_PACKET_ADDRESS_V3')\n    const HAPPY_RED_PACKET_ADDRESS_V4 = getRedPacketConstant(chainId, 'HAPPY_RED_PACKET_ADDRESS_V4')\n    const MASK_BOX_CONTRACT_ADDRESS = getMaskBoxConstant(chainId, 'MASK_BOX_CONTRACT_ADDRESS')\n    const RED_PACKET_NFT_ADDRESS = getNftRedPacketConstant(chainId, 'RED_PACKET_NFT_ADDRESS')\n    return type === 'token'\n        ? [\n              {\n                  address: HAPPY_RED_PACKET_ADDRESS_V1,\n                  name: 'Lucky Drop V1',\n                  logo: <Icons.RedPacket />,\n              },\n              {\n                  address: HAPPY_RED_PACKET_ADDRESS_V2,\n                  name: 'Lucky Drop V2',\n                  logo: <Icons.RedPacket />,\n              },\n              {\n                  address: HAPPY_RED_PACKET_ADDRESS_V3,\n                  name: 'Lucky Drop V3',\n                  logo: <Icons.RedPacket />,\n              },\n              {\n                  address: HAPPY_RED_PACKET_ADDRESS_V4,\n                  name: 'Lucky Drop V4',\n                  logo: <Icons.RedPacket />,\n              },\n          ]\n        : [\n              {\n                  address: MASK_BOX_CONTRACT_ADDRESS,\n                  name: 'Mask Box',\n                  logo: <Icons.MaskBox />,\n              },\n              {\n                  address: RED_PACKET_NFT_ADDRESS,\n                  name: 'NFT Lucky Drop',\n                  logo: <Icons.RedPacket />,\n              },\n          ]\n}\n","import { isENSContractAddress, isLens } from '@masknet/web3-shared-evm'\n\nexport function getAssetFullName(contract_address: string, contractName: string, name?: string, tokenId?: string) {\n    if (!name)\n        return tokenId && contractName\n            ? `${contractName} #${tokenId}`\n            : !contractName && tokenId\n            ? `#${tokenId}`\n            : contractName\n    if (isENSContractAddress(contract_address)) return `ENS #${name}`\n    if (isLens(name)) return name\n\n    const [first, next] = name.split('#').map((x) => x.trim())\n    if (first && next) return `${first} #${next}`\n    if (!first && next) return contractName ? `${contractName} #${next}` : `#${next}`\n\n    if (contractName && tokenId)\n        return contractName.toLowerCase() === first.toLowerCase()\n            ? `${contractName} #${tokenId}`\n            : `${contractName} #${first}`\n    if (!contractName && !tokenId) return first\n    if (!contractName && tokenId) return `${first} #${tokenId}`\n\n    return `${contractName} #${first}`\n}\n","import { type ChainId } from '@masknet/web3-shared-evm'\nimport { ContractReadonlyAPI } from '../Web3/EVM/apis/ContractReadonlyAPI.js'\n\nexport async function getContractSymbol(chainId: ChainId, address: string) {\n    try {\n        const symbol = await new ContractReadonlyAPI()\n            .getERC721Contract(address, { chainId })\n            ?.methods.symbol()\n            .call({})\n        return symbol ?? ''\n    } catch {\n        return ''\n    }\n}\n","import type { FungibleAsset } from '@masknet/web3-shared-base'\nimport { type ChainId, CHAIN_DESCRIPTORS, type SchemaType, getNativeTokenAddress } from '@masknet/web3-shared-evm'\nimport { Web3StateRef } from '../Web3/EVM/apis/Web3StateAPI.js'\n\nexport function getNativeAssets(): Array<FungibleAsset<ChainId, SchemaType>> {\n    const networks = Web3StateRef.value.Network?.networks?.getCurrentValue()\n    if (networks)\n        return networks.map((x) => ({ ...x.nativeCurrency, address: getNativeTokenAddress(x.chainId), balance: '0' }))\n\n    return CHAIN_DESCRIPTORS.filter((x) => x.network === 'mainnet').map((x) => ({\n        ...x.nativeCurrency,\n        balance: '0',\n    }))\n}\n","import type { Fetcher } from './fetch.js'\nimport { fetchSquashed } from './fetchSquashed.js'\nimport { fetchCached } from './fetchCached.js'\n\nexport interface NextFetchersOptions {\n    /** Assigns 0 to disable squash. */\n    squashExpiration?: number\n    /** Assigns 0 to disable cache */\n    cacheDuration?: number\n    /** Generates an unequal request key. Requests that share the same key will be squashed into a single one. */\n    resolver?: (request: Request) => Promise<string>\n}\n\nexport function getNextFetchers({ squashExpiration = 0, cacheDuration = 0, resolver }: NextFetchersOptions = {}) {\n    const fetchers: Fetcher[] = []\n    if (squashExpiration > 0) fetchers.push((...args) => fetchSquashed(...args, resolver, squashExpiration))\n    if (cacheDuration > 0) fetchers.push((...args) => fetchCached(...args, cacheDuration))\n    return fetchers\n}\n","import {\n    type ChainId,\n    APE,\n    BUSD,\n    DAI,\n    HUSD,\n    RARI,\n    TATR,\n    USDC,\n    USDT,\n    WBTC,\n    WNATIVE,\n    CHAIN_DESCRIPTORS,\n} from '@masknet/web3-shared-evm'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { isSameAddress } from '@masknet/web3-shared-base'\n\n/* cspell:disable-next-line */\nconst tokens = [APE, USDC, USDT, DAI, HUSD, BUSD, WBTC, WNATIVE, TATR, RARI]\n\nexport function getPaymentToken(\n    chainId: Web3Helper.ChainIdAll,\n    token?: { name?: string; symbol?: string; address?: string },\n) {\n    if (!token) return\n    return [\n        CHAIN_DESCRIPTORS.find((x) => x.chainId === (chainId as ChainId))?.nativeCurrency,\n        ...tokens.map((x) => x[chainId]),\n    ].find(\n        (x) =>\n            x?.name.toLowerCase() === token.name?.toLowerCase() ||\n            x?.symbol.toLowerCase() === token.symbol?.toLowerCase() ||\n            isSameAddress(x?.address, token.address),\n    )\n}\n","export function parseJSON<T>(json: string | undefined | null) {\n    if (!json) return\n    try {\n        return JSON.parse(json) as T\n    } catch {\n        return\n    }\n}\n","import { ActivityType } from '@masknet/web3-shared-base'\n\nexport function resolveActivityType(type?: string) {\n    if (!type) return ActivityType.Transfer\n    const type_ = type.toLowerCase()\n    if (['created', 'mint'].includes(type_)) return ActivityType.Mint\n    if (['successful'].includes(type_)) return ActivityType.Sale\n    if (['offer', 'offer_entered', 'bid_withdrawn', 'bid_entered'].includes(type_)) return ActivityType.Offer\n    if (['cancel_offer'].includes(type_)) return ActivityType.CancelOffer\n    if (['list'].includes(type_)) return ActivityType.List\n    if (['sale'].includes(type_)) return ActivityType.Sale\n    return ActivityType.Transfer\n}\n","import type { MimeType } from '@masknet/shared-base'\n\n/**\n * Conform to the RFC3339 Datetime format.\n * @example \"2022-08-23T07:15:00Z\"\n */\ntype RFC3339Datetime = string\n/** URL */\ntype URLString = string\n/**\n * 2023-01-31 03:32:59 +0000 GMT\n */\ntype ISO8601Datetime = string\n\nexport namespace RSS3BaseAPI {\n    export interface GeneralAsset {\n        platform: string\n        identity: string\n        id: string // contractAddress-id or admin_address\n        type: string\n        info: {\n            collection?: string\n            collection_icon?: string\n            image_preview_url?: string | null\n            animation_url?: string | null\n            animation_original_url?: string | null\n            title?: string\n            total_contribs?: number\n            token_contribs?: Array<{\n                token: string\n                amount: string\n            }>\n            start_date?: string\n            end_date?: string\n            country?: string\n            city?: string\n        }\n    }\n\n    export interface GeneralAssetResponse {\n        status: boolean\n        assets: GeneralAsset[]\n    }\n\n    export interface ProfileInfo {\n        avatar: string[]\n        bio: string\n        name: string\n    }\n\n    export interface Token {\n        name?: string\n        image?: string\n        value?: string\n        symbol?: string\n        decimals?: number\n        standard?: string\n    }\n    export interface Attribute {\n        value: string | number | Array<{ type: MimeType; uri: string }>\n        trait_type: string\n    }\n    // TODO remove\n    export interface Metadata {\n        id?: string\n        logo?: string\n        title?: string\n        token?: Token\n        platform?: Platform\n        description?: string\n        image?: string\n        attributes?: Attribute[]\n        standard?: string\n        name?: string\n    }\n\n    export interface TransactionMetadata {\n        /** Only exists for collectible tag */\n        id?: string\n        /** URL */\n        image: string\n        name: Network\n        decimals: number\n        /** Numberish string */\n        value: string\n        symbol: string\n        /**\n         * UI value\n         * value_display is the value formatted with the correct number of decimals\n         * */\n        value_display: string\n        collection?: string\n        description?: string\n        contract_address: string\n        standard: LiteralUnion<'ERC-20' | 'ERC-721' | 'ERC-1155' | 'Native'>\n    }\n    interface SwapMetadata {\n        /**\n         * @example \"Uniswap V2\"\n         */\n        protocol: string\n        to: TransactionMetadata\n        from: TransactionMetadata\n    }\n    // Uniswap like actions: add, collect, remove\n    // Aave like actions: supply, withdraw, borrow, repay\n    type LiquidityIn = 'supply' | 'add' | 'repay'\n    type LiquidityOut = 'withdraw' | 'collect' | 'remove' | 'collect'\n    interface LiquidityMetadata {\n        /**\n         * @example \"Uniswap V2\"\n         */\n        protocol: string\n        action: LiquidityIn | LiquidityOut\n        tokens: [TransactionMetadata, TransactionMetadata]\n    }\n\n    /**\n     * `bridge` indicates an action of bridging assets from blockchain A to blockchain B.\n     * action `deposit` refers to depositing tokens into blockchain A's bridge\n     * action `withdraw` refers to withdrawing tokens from blockchain B's bridge\n     */\n    interface BridgeMetadata {\n        token: TransactionMetadata\n        action: 'deposit' | 'withdraw'\n        target_network: {\n            name: string\n            symbol: string\n            chain_id: number\n        }\n    }\n\n    interface StakingMetadata {\n        token: TransactionMetadata\n        action: 'stake' | 'unstake' | 'claim'\n        period: {\n            start: ISO8601Datetime\n            end: ISO8601Datetime\n        }\n    }\n\n    interface CollectibleMetadata {\n        id: string\n        value: string\n        value_display: string\n        contract_address: string\n        standard: LiteralUnion<'ERC-721'>\n        name: string\n        symbol: string\n        /** URL */\n        image: string\n        attributes?: Attribute[]\n        description: string\n        animation_url: string\n        external_link: string\n        decimals: number\n    }\n    interface TradeMetadata extends CollectibleMetadata {\n        cost?: TransactionMetadata\n    }\n    export interface MintMetadata extends TradeMetadata {}\n    interface PoapMetadata {\n        id: string\n        name: string\n        /** URL */\n        image: string\n        symbol: string\n        standard: LiteralUnion<'ERC-721'>\n        attributes: Attribute[]\n        description: string\n        contract_address: string\n    }\n    interface CollectiveEditMetadata {\n        action: 'renew'\n        cost: TransactionMetadata\n    }\n    interface ApprovalBaseMetadata {\n        name: string\n        action: 'approve' | 'revoke'\n        /** NFT or Token symbol */\n        symbol: string\n        collection: string\n        contract_address: string\n    }\n    interface TokenApprovalMetadata extends ApprovalBaseMetadata {\n        /** approve amount */\n        value: string\n        value_display: string\n        decimals: number\n        standard: 'ERC-20'\n        /** TODO */\n        image: string\n    }\n    interface CollectibleApprovalMetadata extends ApprovalBaseMetadata {\n        standard: 'ERC-721' | 'ERC-1155'\n        contract_address: string\n        collection: string\n    }\n    export interface PostMetadata {\n        title?: string\n        body?: string\n        /** Not all platforms provide summary */\n        summary?: string\n        author: string[]\n        created_at?: string\n        target_url?: string\n        media: Array<{\n            /** URL or IPFS */\n            address: string\n            mime_type: LiteralUnion<'image/png'>\n        }>\n        type_on_platform: Type[]\n        profile_id?: number\n        publication_id?: number\n    }\n    interface CommentMetadata extends PostMetadata {\n        target: PostMetadata\n    }\n    interface ShareMetadata {\n        type_on_platform: Type[]\n        target: PostMetadata\n        comment?: CommentMetadata\n    }\n    interface ReviseMetadata extends PostMetadata {}\n    interface ProfileMetadata {\n        address: string\n        network: Network\n        platform: LiteralUnion<'ENS' | 'Lens'>\n        source: LiteralUnion<'ENS' | 'Lens'>\n        /** @example 'vitalik.eth' */\n        name: string\n        /** @example 'vitalik.eth' */\n        handle: string\n        bio: string\n        expire_at: RFC3339Datetime\n        /** unknown type, it could possibly be profile avatar url */\n        profile_uri: string[]\n        action: 'create' | 'update'\n    }\n    // TODO No official documentation\n    interface ProxyMetadata extends Omit<ProfileMetadata, 'action'> {\n        action: 'appoint'\n    }\n    export interface FollowMetadata extends Partial<Omit<ProfileMetadata, 'expire_at'>> {}\n    interface LaunchMetadata {\n        logo: URLString\n        title: string\n        platform: Platform\n        description: string\n    }\n    export interface DonateMetadata extends LaunchMetadata {\n        // here we have the donation value in detail\n        token: TransactionMetadata\n    }\n    export interface ProposeMetadata {\n        type_on_platform: string[]\n        id: string\n        title: string\n        body: string\n        options: string[]\n        startAt: RFC3339Datetime\n        endAt: RFC3339Datetime\n        organization: {\n            type_on_platform: string[]\n            id: string\n            name: string\n            about: string\n        }\n    }\n    export interface VoteMetadata {\n        type_on_platform: Type[]\n        /** option index, start from 1, could be multiple in format like `[1, 2, 3]` */\n        choice: string\n        proposal: ProposeMetadata\n    }\n    export type UnifiedMetadata =\n        | TransactionMetadata\n        | SwapMetadata\n        | LiquidityMetadata\n        | CollectibleMetadata\n        | TradeMetadata\n        | PoapMetadata\n        | PostMetadata\n        | ReviseMetadata\n        | ProfileMetadata\n        | LaunchMetadata\n        | DonateMetadata\n        | ProposeMetadata\n        | VoteMetadata\n\n    export type MetadataMap = {\n        [Tag.Transaction]: {\n            [Type.Transfer]: TransactionMetadata\n            [Type.Mint]: MintMetadata\n            [Type.Burn]: TransactionMetadata\n            [Type.Approval]: TokenApprovalMetadata\n            [Type.Bridge]: BridgeMetadata\n            [Type.Staking]: StakingMetadata\n        }\n        [Tag.Exchange]: {\n            [Type.Deposit]: TransactionMetadata\n            [Type.Withdraw]: TransactionMetadata\n            [Type.Swap]: SwapMetadata\n            [Type.Liquidity]: LiquidityMetadata\n            [Type.Staking]: StakingMetadata\n        }\n        [Tag.Collectible]: {\n            [Type.Approval]: CollectibleApprovalMetadata\n            [Type.Transfer]: TransactionMetadata\n            [Type.Trade]: TradeMetadata\n            [Type.Mint]: MintMetadata\n            [Type.Burn]: TransactionMetadata\n            [Type.Poap]: PoapMetadata\n            [Type.Edit]: CollectiveEditMetadata\n        }\n        [Tag.Social]: {\n            [Type.Mint]: PostMetadata\n            [Type.Post]: PostMetadata\n            [Type.Revise]: PostMetadata\n            [Type.Comment]: CommentMetadata\n            [Type.Share]: ShareMetadata\n            [Type.Profile]: ProfileMetadata\n            [Type.Follow]: FollowMetadata\n            [Type.Unfollow]: FollowMetadata\n            [Type.Proxy]: ProxyMetadata\n        }\n        [Tag.Donation]: {\n            [Type.Launch]: LaunchMetadata\n            [Type.Donate]: DonateMetadata\n        }\n        [Tag.Governance]: {\n            [Type.Propose]: ProposeMetadata\n            [Type.Vote]: VoteMetadata\n        }\n    }\n\n    export interface ActionGeneric<T extends Tag, P extends keyof MetadataMap[T] = keyof MetadataMap[T]> {\n        tag: T\n        type: P\n        index: number\n        /** It's different from transaction.address_from, the token payer */\n        address_from?: string\n        /** It's different from transaction.address_from, the token receiver */\n        address_to?: string\n        metadata?: MetadataMap[T][P]\n        platform?: Platform\n        related_urls?: string[]\n    }\n\n    export type TokenTransferAction = ActionGeneric<Tag.Transaction, Type.Transfer>\n    export type CollectibleTransferAction = ActionGeneric<Tag.Collectible, Type.Transfer>\n    export type CollectibleTradeAction = ActionGeneric<Tag.Collectible, Type.Trade>\n    export type DonationDonateAction = ActionGeneric<Tag.Donation, Type.Donate>\n\n    export interface AddressStatus {\n        update_at: RFC3339Datetime\n        address: string\n    }\n\n    export type Network =\n        | 'ethereum'\n        // Discard\n        // | 'ethereum_classic'\n        | 'binance_smart_chain'\n        | 'polygon'\n        | 'zksync'\n        | 'xdai'\n        // Ignore this, since it's now supported runtime network\n        // | 'arweave'\n        | 'arbitrum'\n        | 'optimism'\n        | 'fantom'\n        | 'avalanche'\n        | 'crossbell'\n        | 'EIP-1577'\n\n    export type Platform =\n        | 'arweave'\n        | 'binance'\n        | 'ENS Registrar'\n        | '0x'\n        | 'CrossSync'\n        | 'Crossbell'\n        | 'Gitcoin'\n        | 'Lens'\n        | 'MetaMask'\n        | 'Mirror'\n        | 'OpenSea'\n        | 'Snapshot'\n        | 'SushiSwap'\n        | 'Uniswap'\n        | 'crossbell.io'\n        | 'xLog'\n        | 'Farcaster'\n        | 'Planet'\n        | 'PancakeSwap'\n        | 'Aave'\n        | 'AAVE'\n\n    export enum Tag {\n        Collectible = 'collectible',\n        Donation = 'donation',\n        Exchange = 'exchange',\n        Governance = 'governance',\n        Social = 'social',\n        Transaction = 'transaction',\n    }\n\n    export enum Type {\n        Approval = 'approval',\n        Transfer = 'transfer',\n        Mint = 'mint',\n        Burn = 'burn',\n        Withdraw = 'withdraw',\n        Deposit = 'deposit',\n        Swap = 'swap',\n        Liquidity = 'liquidity',\n        Bridge = 'bridge',\n        Trade = 'trade',\n        Poap = 'poap',\n        Post = 'post',\n        Revise = 'revise',\n        Comment = 'comment',\n        Share = 'share',\n        Proxy = 'proxy',\n        Profile = 'profile',\n        Follow = 'follow',\n        Unfollow = 'unfollow',\n        Like = 'like',\n        Propose = 'propose',\n        Vote = 'vote',\n        Launch = 'launch',\n        Donate = 'donate',\n        Staking = 'staking',\n        Edit = 'edit',\n    }\n\n    export enum AssetType {\n        GitcoinDonation = 'Gitcoin-Donation',\n        POAP = 'POAP',\n        NFT = 'NFT',\n    }\n\n    export type LegacyTag = 'NFT' | 'Token' | 'POAP' | 'Gitcoin' | 'Mirror Entry' | 'ETH'\n\n    export interface NameInfo {\n        ens: string\n        crossbell: string\n        lens: string\n        spaceid: string\n        unstoppable_domains: string\n        bit: string\n        avvy: string\n        address: string\n    }\n\n    export interface Metadata {\n        collection_address?: string\n        collection_name?: string\n        contract_type?: string\n        from?: string\n        log_index?: string\n        network?: Network\n        proof?: string\n        to?: string\n        token_id?: string\n        token_standard?: string\n        token_symbol?: string\n        token_address?: string\n    }\n\n    export interface Attachment {\n        address?: string\n        mime_type?: string\n        size_in_bytes?: string\n        type?: string\n    }\n    export interface Web3FeedGeneric<T extends Tag, P extends keyof MetadataMap[T] = keyof MetadataMap[T]> {\n        timestamp: RFC3339Datetime\n        /**\n         * The identifier of the transaction. A unique identifier will be returned when a transaction hash is not available\n         */\n        hash: string\n        /**\n         * The on-chain log index.\n         */\n        index?: number\n        /**\n         * The transaction initiator.\n         */\n        address_from: string\n        /**\n         * The transaction recipient.\n         */\n        address_to: string\n        /**\n         * The owner of this note in a bidirectional feed.\n         */\n        owner: string\n        /**\n         * The fees paid for the transaction.\n         */\n        fee?: number\n        network: Network\n        /**\n         * There are many platforms supported by PreGod, see the full list. When platform is unknown, the transaction's network is used.\n         * TODO declare a platform map\n         */\n        platform?: Platform\n        /**\n         *An array of actions generated by the transaction.\n         */\n        tag: T\n        type: P\n        actions: Array<ActionGeneric<T, P>>\n        address_status: AddressStatus[]\n    }\n\n    export type Web3Feed =\n        | Web3FeedGeneric<Tag.Collectible>\n        | Web3FeedGeneric<Tag.Donation>\n        | Web3FeedGeneric<Tag.Exchange>\n        | Web3FeedGeneric<Tag.Governance>\n        | Web3FeedGeneric<Tag.Social>\n        | Web3FeedGeneric<Tag.Transaction>\n\n    export type Footprint = Web3FeedGeneric<Tag.Collectible, Type.Poap>\n    export type Donation = Web3FeedGeneric<Tag.Donation, Type.Donate>\n    export type Activity =\n        | Web3FeedGeneric<Tag.Donation>\n        | Web3FeedGeneric<Tag.Collectible>\n        | Web3FeedGeneric<Tag.Transaction>\n\n    /** For feed cards */\n    export type TokenOperationFeed =\n        | Web3FeedGeneric<Tag.Transaction, Type.Transfer | Type.Burn | Type.Mint>\n        | Web3FeedGeneric<Tag.Exchange, Type.Deposit | Type.Withdraw>\n    export type TokenBridgeFeed = Web3FeedGeneric<Tag.Transaction, Type.Bridge>\n    export type TokenSwapFeed = Web3FeedGeneric<Tag.Exchange, Type.Swap>\n    export type LiquidityFeed = Web3FeedGeneric<Tag.Exchange, Type.Liquidity>\n    export type StakingFeed = Web3FeedGeneric<Tag.Exchange, Type.Staking>\n    export type CollectibleFeed = Web3FeedGeneric<\n        Tag.Collectible,\n        Type.Transfer | Type.Trade | Type.Mint | Type.Burn | Type.Poap\n    >\n    export type CollectibleApprovalFeed = Web3FeedGeneric<Tag.Collectible, Type.Approval>\n    export type CollectibleMintFeed = Web3FeedGeneric<Tag.Collectible, Type.Mint>\n    export type CollectibleTradeFeed = Web3FeedGeneric<Tag.Collectible, Type.Trade>\n    export type CollectibleTransferFeed = Web3FeedGeneric<Tag.Collectible, Type.Transfer>\n    export type CollectibleBurnFeed = Web3FeedGeneric<Tag.Collectible, Type.Burn>\n    export type DonationFeed = Web3FeedGeneric<Tag.Donation, Type.Donate>\n    export type NoteFeed = Web3FeedGeneric<Tag.Social, Type.Post | Type.Revise | Type.Mint | Type.Share>\n    export type CommentFeed = Web3FeedGeneric<Tag.Social, Type.Comment>\n    export type ProfileFeed = Web3FeedGeneric<Tag.Social, Type.Profile>\n    export type ProfileLinkFeed = Web3FeedGeneric<Tag.Social, Type.Follow | Type.Unfollow>\n    export type ProfileProxyFeed = Web3FeedGeneric<Tag.Social, Type.Proxy>\n    export type GovernanceFeed = Web3FeedGeneric<Tag.Governance, Type.Propose | Type.Vote>\n    export type VoteFeed = Web3FeedGeneric<Tag.Governance, Type.Vote>\n    export type ProposeFeed = Web3FeedGeneric<Tag.Governance, Type.Propose>\n    export type TokenApprovalFeed = Web3FeedGeneric<Tag.Transaction, Type.Approval>\n\n    export interface Web3FeedResponse {\n        total: number\n        cursor?: string\n        list: Web3Feed[]\n    }\n}\n","import { type BigNumber } from 'bignumber.js'\n\nexport namespace SimpleHash {\n    interface FloorPrice {\n        marketplace_id: LiteralUnion<'blur' | 'looksrare' | 'opensea' | 'x2y2'>\n        marketplace_name: LiteralUnion<'Blur' | 'LooksRare' | 'OpenSea' | 'X2Y2'>\n        value: number\n        payment_token: PaymentToken\n    }\n\n    // TODO: Contract address will be added in SimpleHash v1 release.\n    // TODO: Asking SimpleHash to add schema in SimpleHash v1 release.\n    export interface Collection {\n        // TODO: the collection id key name may change in SimpleHash v1 release.\n        id: string\n        chain: string\n        banner_image_url: string\n        collection_id: string\n        description: string\n        external_url: string\n        /**\n         * The score is a numeric value from 0 to 100, with 0 being deemed not spam, and 100 being deemed likely spam.\n         * null means undetermined\n         */\n        spam_score: number | null\n        discord_url: string\n        floor_prices: Array<{\n            marketplace_id: LiteralUnion<'blur' | 'looksrare' | 'opensea' | 'x2y2'>\n            marketplace_name: LiteralUnion<'Blur' | 'LooksRare' | 'OpenSea' | 'X2Y2'>\n            value: number\n            payment_token: PaymentToken\n        }>\n        image_url: string\n        marketplace_pages?: Array<{\n            collection_url: string\n            nft_url: string\n            marketplace_collection_id: string\n            marketplace_id: string\n            marketplace_name: string\n            verified: boolean\n        }>\n        distinct_nfts_owned: number\n        total_copies_owned: number\n        distinct_owner_count: number\n        distinct_nft_count: number\n        name: string\n        /** e.g [\"ethereum.0x18487d2cac946c7fe800855c4039aac210f68baa\"] */\n        top_contracts: string[]\n        nft_ids?: string[]\n        total_quantity: number\n        /** twitter handler */\n        twitter_username: string | null\n        instagram_username: string | null\n        medium_username: string | null\n        telegram_url: string | null\n    }\n    export interface Asset {\n        chain: string // ethereum\n        collection: Collection\n        contract: {\n            deployed_by: string // EOA\n            deployed_via_contract: string | null\n            name: string\n            symbol: string\n            type: string // ERC721\n        }\n        contract_address: string\n        description: string\n        image_url: string\n        name: string\n        created_date: string // \"2022-04-04T20:15:02\"\n        token_id: string\n        token_count: number\n        nft_id: string // ethereum.0x18487d2cac946c7fe800855c4039aac210f68baa.1597\n        last_sale?: {\n            from_address: string\n            to_address: string\n            marketplace_id: string\n            total_price?: BigNumber.Value\n            unit_price: BigNumber.Value\n            transaction: string // tx hash\n            marketplace_name: string\n            payment_token?: PaymentToken\n            timestamp: string // \"2022-04-04T20:15:02\"\n        }\n        floor_prices: FloorPrice[]\n        owners: Array<{\n            owner_address: string\n        }>\n        previews: {\n            blurhash: string\n            image_large_url: string\n            image_medium_url: string\n            image_opengraph_url: string\n            image_small_url: string\n            predominant_color: string\n        }\n        extra_metadata?: {\n            attributes: Array<{\n                trait_type: string\n                value: string\n                display_type: string | null\n            }>\n        }\n    }\n\n    export interface PaymentToken {\n        address: string | null\n        decimals: number\n        name: string\n        payment_token_id: string // e.g. ethereum.native\n        symbol: string\n        value: BigNumber.Value\n    }\n\n    export interface PriceStat {\n        timestamp: string\n        floor_price: number\n    }\n\n    export interface CollectionOverview {\n        collection_id: string\n        name: string\n        all_time_volume: number\n        market_cap: number\n        payment_token: PaymentToken\n        '1_day_volume': number\n        '1_day_prior_volume': number\n        '1_day_volume_change_percent': number\n        '7_day_volume': number\n        '30_day_volume': number\n        '90_day_volume': number\n    }\n\n    export enum ActivityType {\n        Transfer = 'transfer',\n        Mint = 'mint',\n        Sale = 'sale',\n        Burn = 'burn',\n    }\n\n    export interface Activity {\n        nft_id: string\n        chain: string\n        contract_address: string\n        token_id: string\n        event_type: ActivityType\n        from_address: string\n        to_address: string\n        quantity: number\n        timestamp: string\n        transaction: string\n        transaction_initiator: string\n        sale_details: {\n            marketplace_id: string\n            marketplace_name: string\n            payment_token: PaymentToken\n            unit_price: number\n            total_price: number\n        }\n    }\n\n    export interface Ownership {\n        wallet_address: string\n        contracts: Array<{ contract_address: string; token_ids: string[] }>\n    }\n}\n","/* cspell:disable */\nexport namespace TwitterBaseAPI {\n    export interface NFT {\n        address: string\n        token_id: string\n    }\n\n    export interface NFTContainer {\n        has_nft_avatar: boolean\n        nft_avatar_metadata: AvatarMetadata\n    }\n\n    export interface UserNFTAvatar {\n        has_nft_avatar: boolean\n        id: string\n        is_blue_verified: boolean\n        legacy: Pick<\n            IdentifyResponse,\n            'id' | 'id_str' | 'name' | 'screen_name' | 'verified' | 'profile_image_url_https'\n        > & {\n            profile_image_extensions: {\n                mediaColor: {\n                    r: {\n                        ok: {\n                            palette: Array<{\n                                /** @example 42 */\n                                percentage: number\n                                rgb: { red: number; blue: number; green: number }\n                            }>\n                        }\n                    }\n                }\n            }\n        }\n        nft_avatar_metadata: AvatarMetadata\n    }\n\n    export interface AvatarMetadata {\n        token_id: string\n        smart_contract: {\n            __isSmartContract: 'ERC721'\n            network: 'Ethereum'\n            address: string\n        }\n        metadata: {\n            creator_username: string\n            creator_address: string\n            name: string\n            description?: string\n            collection: {\n                name: string\n                metadata: {\n                    image_url: string\n                    verified: boolean\n                    description: string\n                    name: string\n                }\n            }\n            traits: Array<{\n                trait_type: string\n                value: string\n            }>\n        }\n    }\n\n    export interface UserUrl {\n        display_url: string\n        expanded_url: string\n        /** t.co url */\n        url: string\n        indices: [number, number]\n    }\n\n    export interface IdentifyResponse {\n        id: number\n        id_str: string\n        name: string\n        screen_name: string\n        location: string\n        profile_location: null\n        /** bio */\n        description: string\n        url: string\n        entities: {\n            description: {\n                urls: any[]\n            }\n            url: {\n                urls: UserUrl[]\n            }\n        }\n        protected: boolean\n        followers_count: number\n        friends_count: number\n        listed_count: number\n        /** @example Mon May 15 06:29:53 +0000 2017 */\n        created_at: string\n        favourites_count: number\n        utc_offset: null\n        time_zone: null\n        geo_enabled: boolean\n        verified: boolean\n        statuses_count: number\n        media_count: number\n        lang: null\n        status: {\n            /** @example Mon May 15 06:29:53 +0000 2017 */\n            created_at: string\n            id: number\n            id_str: string\n            text: string\n            truncated: boolean\n            entities: {\n                hashtags: []\n                symbols: []\n                user_mentions: []\n                urls: Array<{\n                    url: string\n                    expanded_url: string\n                    display_url: string\n                    indices: number[]\n                }>\n            }\n            source: string\n            in_reply_to_status_id: number\n            in_reply_to_status_id_str: string\n            in_reply_to_user_id: number\n            in_reply_to_user_id_str: string\n            in_reply_to_screen_name: string\n            geo: null\n            coordinates: null\n            place: null\n            contributors: null\n            is_quote_status: boolean\n            retweet_count: number\n            favorite_count: number\n            /* cspell:disable-next-line */\n            favorited: boolean\n            retweeted: boolean\n            lang: 'en'\n            supplemental_language: null\n            self_thread: {\n                id: number\n                id_str: string\n            }\n        }\n        contributors_enabled: boolean\n        is_translator: boolean\n        is_translation_enabled: boolean\n        profile_background_color: string\n        profile_background_image_url: string\n        profile_background_image_url_https: string\n        profile_background_tile: boolean\n        profile_image_url: string\n        profile_image_url_https: string\n        profile_banner_url: string\n        profile_link_color: string\n        profile_sidebar_border_color: string\n        profile_sidebar_fill_color: string\n        profile_text_color: string\n        profile_use_background_image: boolean\n        has_extended_profile: boolean\n        default_profile: boolean\n        default_profile_image: boolean\n        has_custom_timelines: boolean\n        following: null\n        follow_request_sent: null\n        notifications: null\n        business_profile_state: string\n        translator_type: string\n        withheld_in_countries: []\n        require_some_consent: boolean\n    }\n\n    export interface ResponseError {\n        code: number\n        extensions: ResponseError\n        kind: 'Validation' | string\n        message: string\n        /** Error constructor */\n        name: string\n        source: 'Client' | string\n        tracking: {\n            trace_id: string\n        }\n    }\n\n    export interface FailedResponse {\n        errors: ResponseError[]\n    }\n\n    export interface AvatarInfo {\n        nickname: string\n        userId: string\n        imageUrl: string\n        mediaId: string\n    }\n\n    export enum Scale {\n        X_Small = 'xSmall',\n        Small = 'small',\n        Normal = 'normal',\n        Large = 'large',\n        X_Large = 'xLarge',\n    }\n\n    export enum ThemeMode {\n        Dark = 'darker',\n        Dim = 'dark',\n        Light = 'light',\n    }\n\n    export enum ThemeColor {\n        Blue = 'blue500',\n        Yellow = 'yellow500',\n        Purple = 'purple500',\n        Magenta = 'magenta500',\n        Orange = 'orange500',\n        Green = 'green500',\n    }\n\n    export interface Settings {\n        screen_name: string\n    }\n\n    export interface UserSettings {\n        altTextNudgeType?: string\n        autoPollNewTweets?: boolean\n        autoShowNewTweets?: boolean\n        highContrastEnabled?: boolean\n        loginPromptLastShown?: number\n        /* cspell:disable-next-line */\n        nextPushCheckin?: number\n        preciseLocationEnabled?: boolean\n        pushNotificationsPermission?: 'granted'\n        reducedMotionEnabled?: boolean\n        replyVotingSurveyClicked?: number\n        scale?: Scale\n        shouldAutoPlayGif?: boolean\n        shouldAutoTagLocation?: boolean\n        showTweetMediaDetailDrawer?: boolean\n        themeBackground?: ThemeMode\n        themeColor?: ThemeColor\n    }\n\n    export interface UserResponse {\n        data: {\n            user: {\n                result: {\n                    id: string\n                    rest_id: string\n                    affiliates_highlighted_label: {}\n                    /** Only web API provides */\n                    has_nft_avatar?: boolean\n                    legacy?: {\n                        blocked_by?: boolean\n                        blocking?: boolean\n                        can_dm?: boolean\n                        can_media_tag?: boolean\n                        /** ISODateTime */\n                        created_at: string\n                        default_profile: boolean\n                        default_profile_image: boolean\n                        description: string\n                        entities: {\n                            description: {\n                                urls: any[]\n                            }\n                            url: {\n                                urls: UserUrl[]\n                            }\n                        }\n                        fast_followers_count?: number\n                        favourites_count: number\n                        follow_request_sent: boolean | null\n                        followed_by?: boolean\n                        followers_count: number\n                        following: boolean | null\n                        friends_count: number\n                        has_custom_timelines: boolean\n                        is_translator: boolean\n                        listed_count: number\n                        location: string\n                        media_count: number\n                        muting?: boolean\n                        name: string\n                        normal_followers_count?: number\n                        notifications: boolean | null\n                        pinned_tweet_ids_str?: []\n                        possibly_sensitive?: boolean\n                        /** unused data, declare details when you need */\n                        profile_banner_extensions?: any\n                        profile_banner_url: string\n                        /** unused data, declare details when you need */\n                        profile_image_extensions?: any\n                        profile_image_url_https: string\n                        profile_interstitial_type?: string\n                        protected: boolean\n                        screen_name: string\n                        statuses_count: number\n                        translator_type: string\n                        /** t.co url */\n                        url: string\n                        verified: boolean\n                        want_retweets?: boolean\n                        withheld_in_countries: []\n                    }\n                    smart_blocked_by?: boolean\n                    smart_blocking?: boolean\n                    super_follow_eligible?: boolean\n                    super_followed_by?: boolean\n                    super_following?: boolean\n                    legacy_extended_profile?: {}\n                    is_profile_translatable?: boolean\n                }\n            }\n        }\n    }\n\n    export interface UserNFTAvatarResponse {\n        data: {\n            // If user doesn't exist, instead of 404 response, user field will miss\n            user?: {\n                result: UserNFTAvatar\n            }\n        }\n    }\n\n    export interface MediaResponse {\n        media_id: number\n        media_id_string: string\n        size: number\n        image: {\n            image_type: string\n            w: number\n            h: number\n        }\n    }\n\n    export interface CreateTweetResponse {\n        data: {\n            [key in 'create_tweet' | 'notetweet_create' | 'posttweet_created']: {\n                tweet_results: {\n                    result: {\n                        /** post id */\n                        rest_id: string\n                        core: {\n                            user_results: {\n                                result: {\n                                    __typename: 'User'\n                                    id: string\n                                    rest_id: string\n                                    affiliates_highlighted_label: {}\n                                    has_graduated_access: boolean\n                                    is_blue_verified: boolean\n                                    profile_image_shape: 'Circle'\n                                    legacy: {\n                                        can_dm: boolean\n                                        can_media_tag: boolean\n                                        // e.g., Thu Aug 04 06:28:33 +0000 2011\n                                        created_at: string\n                                        default_profile: boolean\n                                        default_profile_image: boolean\n                                        description: string\n                                        entities: {\n                                            description: {\n                                                urls: []\n                                            }\n                                            url: {\n                                                urls: {\n                                                    display_url: string\n                                                    expanded_url: string\n                                                    url: string\n                                                    indices: number[]\n                                                }\n                                            }\n                                        }\n                                        fast_followers_count: number\n                                        favourites_count: number\n                                        followers_count: number\n                                        friends_count: number\n                                        has_custom_timelines: boolean\n                                        is_translator: boolean\n                                        listed_count: number\n                                        location: string\n                                        media_count: number\n                                        name: string\n                                        needs_phone_verification: boolean\n\n                                        normal_followers_count: number\n                                        pinned_tweet_ids_str: string[]\n                                        possibly_sensitive: boolean\n\n                                        profile_banner_url: string\n                                        profile_image_url_https: string\n                                        profile_interstitial_type: string\n                                        screen_name: string\n                                        statuses_count: number\n                                        translator_type: string\n                                        url: string\n                                        verified: boolean\n                                        want_retweets: boolean\n                                        withheld_in_countries: string[]\n                                    }\n                                }\n                            }\n                        }\n                        edit_control: {\n                            edit_tweet_ids: string[]\n                            editable_until_msecs: string\n                            is_edit_eligible: boolean\n                            edits_remaining: string\n                        }\n                        is_translatable: boolean\n                        views: {\n                            state: 'Enabled' | 'Disabled'\n                        }\n                        source: string\n                        legacy: {\n                            bookmark_count: number\n                            bookmarked: boolean\n                            // e.g., 'Tue Sep 19 08:19:39 +0000 2023'\n                            created_at: string\n                            conversation_id_str: string\n                            display_text_range: number[]\n                            entities: {\n                                user_mentions: string[]\n                                urls: string[]\n                                hashtags: string[]\n                                symbols: string[]\n                            }\n                            favorite_count: number\n                            favorited: boolean\n                            full_text: string\n                            is_quote_status: boolean\n                            lang: string\n                            quote_count: number\n                            reply_count: number\n                            retweet_count: number\n                            retweeted: boolean\n                            user_id_str: string\n                            id_str: string\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    export interface UserShowResponse {\n        id: number\n        id_str: string\n        name: string\n        screen_name: string\n        location: string\n        profile_location: string\n        description: string\n        url: string\n        entities: {\n            url: {\n                urls: Array<{\n                    url: string\n                    expanded_url: string\n                    display_url: string\n                    indices: number[]\n                }>\n            }\n            description: {\n                urls: string[]\n            }\n        }\n        protected: boolean\n        followers_count: number\n        fast_followers_count: number\n        normal_followers_count: number\n        friends_count: number\n        listed_count: number\n        created_at: string\n        favourites_count: number\n        utc_offset: string\n        time_zone: string\n        geo_enabled: boolean\n        verified: boolean\n        statuses_count: number\n        media_count: number\n        lang: string\n        contributors_enabled: boolean\n        is_translator: boolean\n        is_translation_enabled: boolean\n        profile_background_color: string\n        profile_background_image_url: string\n        profile_background_image_url_https: string\n        profile_background_tile: boolean\n        profile_image_url: string\n        profile_image_url_https: string\n        profile_banner_url: string\n        profile_link_color: string\n        profile_sidebar_border_color: string\n        profile_sidebar_fill_color: string\n        profile_text_color: string\n        profile_use_background_image: boolean\n        has_extended_profile: boolean\n        default_profile: boolean\n        default_profile_image: boolean\n        pinned_tweet_ids: string[]\n        pinned_tweet_ids_str: string[]\n        has_custom_timelines: boolean\n        can_media_tag: boolean\n        followed_by: boolean\n        following: boolean\n        follow_request_sent: boolean\n        notifications: boolean\n        advertiser_account_type: string\n        advertiser_account_service_levels: string[]\n        business_profile_state: string\n        translator_type: string\n        withheld_in_countries: string[]\n        require_some_consent: false\n    }\n\n    export interface Event<T> {\n        target: {\n            result?: T\n        }\n    }\n\n    export interface Card {\n        'twitter:card': `poll${number}choice_text_only`\n        'twitter:api:api:endpoint': '1'\n        'twitter:long:duration_minutes': number\n        'twitter:string:choice1_label': string\n        'twitter:string:choice2_label': string\n    }\n\n    export interface Tweet {\n        tweet_text: string\n        media?: {\n            media_entities: Array<{\n                media_id: string\n                togged_users?: []\n            }>\n            possibly_sensitive?: boolean\n        }\n        reply?: {\n            in_reply_to_tweet_id: string\n            exclude_reply_user_ids?: string[]\n        }\n        execute_at?: string\n        card_uri?: string\n        attachment_url?: string\n        trusted_friends_list_id?: string\n        conversation_control?: {\n            mode: 'Community' | 'ByInvitation'\n        }\n    }\n\n    export interface User {\n        verified: boolean\n        has_nft_avatar: boolean\n        userId: string\n        nickname: string\n        screenName: string // handle\n        avatarURL?: string\n        location?: string\n        bio?: string\n        homepage?: string\n    }\n}\n","import { isUndefined } from 'lodash-es'\n\nexport function createPredicate<T, P extends T>(candidates: T[]) {\n    return (candidate?: unknown): candidate is P => !!candidate && candidates.includes(candidate as T)\n}\n\nexport async function attemptUntil<T>(\n    funcs: Array<() => Promise<T> | undefined>,\n    fallback: T,\n    predicator: (result: Awaited<T> | undefined) => boolean = isUndefined,\n) {\n    const errors: Error[] = []\n\n    for (const func of funcs) {\n        try {\n            const result = await func()\n            if (predicator?.(result)) {\n                continue\n            }\n            return result ?? fallback\n        } catch (error) {\n            errors.push(error as Error)\n            continue\n        }\n    }\n\n    if (errors.length) throw new AggregateError(errors, 'At least one of the attempts fails.')\n    return fallback\n}\n","import { useMemo } from 'react'\nimport type { ChainIdEnum, Constants, Primitive } from './types.js'\n\nfunction replaceAll(input: string, values: Record<string, string>) {\n    if (!input.includes('${')) return input\n    return input.replaceAll(/\\${([^}]+)}/g, (match, p1) => values[p1] ?? match)\n}\n\nexport function transformAll<ChainId extends number, T extends Constants>(\n    chainIdEnum: ChainIdEnum<ChainId>,\n    constants: T,\n    environment: Record<string, string> = {},\n) {\n    type Entries = Readonly<{\n        [key in keyof T]?: T[key]['Mainnet']\n    }>\n    return (chainId: ChainId = 1 as ChainId) => {\n        const chainName = chainIdEnum[chainId] as 'Mainnet'\n        // unknown chain id\n        if (!chainName) return {} as Entries\n        const entries = Object.keys(constants).map((name: keyof T) => {\n            let value = constants[name][chainName]\n            if (Array.isArray(value)) {\n                value = value.map((item) => {\n                    if (typeof item === 'string') {\n                        return replaceAll(item, environment)\n                    }\n                    return item\n                })\n            } else if (typeof value === 'string') {\n                value = replaceAll(value, environment)\n            }\n            return [name, value] as [string, Primitive | Primitive[]]\n        })\n        return Object.fromEntries(entries) as Entries\n    }\n}\n\nexport function transform<ChainId extends number, T extends Constants>(\n    chainIdEnum: ChainIdEnum<ChainId>,\n    constants: T,\n    environment: Record<string, string> = {},\n) {\n    type Entries = {\n        [key in keyof T]?: T[key]['Mainnet']\n    }\n    const getAllConstants = transformAll(chainIdEnum, constants, environment)\n    return <K extends keyof Entries, F extends Entries[K], R = F extends undefined ? Entries[K] : Required<Entries>[K]>(\n        chainId: ChainId,\n        key: K,\n        fallback?: F,\n    ) => (getAllConstants(chainId)[key] ?? fallback) as R\n}\n\nexport function transformAllFromJSON<ChainId extends number, T extends Constants>(\n    chainIdEnum: ChainIdEnum<ChainId>,\n    json: string,\n    fallbackConstants: T,\n    environment: Record<string, string> = {},\n) {\n    if (!json) return transformAll(chainIdEnum, fallbackConstants, environment)\n    try {\n        const constants = JSON.parse(json) as T\n        return transformAll(chainIdEnum, constants, environment)\n    } catch {\n        return transformAll(chainIdEnum, fallbackConstants, environment)\n    }\n}\n\nexport function transformFromJSON<ChainId extends number, T extends Constants>(\n    chainIdEnum: ChainIdEnum<ChainId>,\n    json: string,\n    fallbackConstants: T,\n    environment: Record<string, string> = {},\n) {\n    if (!json) return transform(chainIdEnum, fallbackConstants, environment)\n    try {\n        const constants = JSON.parse(json) as T\n        return transform(chainIdEnum, constants, environment)\n    } catch {\n        return transform(chainIdEnum, fallbackConstants, environment)\n    }\n}\n\nexport function transformAllHook<ChainId extends number, T>(getConstants: (chainId: ChainId) => Partial<T>) {\n    return function useConstants(chainId: ChainId = 1 as ChainId) {\n        return useMemo(() => getConstants(chainId), [chainId])\n    }\n}\n\nexport function transformHook<ChainId extends number, T, K extends keyof T>(\n    getConstant: (chainId: ChainId) => Partial<T>,\n) {\n    return function useConstant(chainId: ChainId = 1 as ChainId, key?: K, fallback?: T[K]) {\n        return useMemo(() => {\n            if (!key) return fallback\n            return getConstant(chainId)[key] ?? fallback\n        }, [chainId])\n    }\n}\n","import { BigNumber } from 'bignumber.js'\nimport { addThousandSeparators, isLessThan, leftShift, pow10, scale10, trimZero } from './number.js'\n\nexport function formatBalance(\n    rawValue: BigNumber.Value = '0',\n    decimals = 0,\n    significant = decimals,\n    isPrecise = false,\n    isFixed = false,\n    fixedDecimals = 4,\n    hasSeparators = true,\n) {\n    let balance = new BigNumber(rawValue)\n    if (!balance.isInteger()) {\n        const message = `Expected an integer but got ${balance.toFixed()}`\n        if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'test') {\n            throw new Error(message)\n        } else {\n            console.error(message)\n        }\n    }\n    balance = balance.integerValue()\n\n    if (isFixed) {\n        const value = leftShift(balance, decimals)\n        const minimum = scale10(1, -fixedDecimals)\n        if (value.eq(0)) return '0'\n        if (isLessThan(value, minimum)) return '<' + minimum.toFixed()\n        const result = trimZero(value.toFixed(fixedDecimals))\n        return hasSeparators ? addThousandSeparators(result) : result\n    }\n\n    const base = pow10(decimals) // 10n ** decimals\n    if (balance.div(base).lt(pow10(-8)) && balance.isGreaterThan(0) && !isPrecise) return '<0.000001'\n\n    const negative = balance.isNegative() // balance < 0n\n    if (negative) balance = balance.absoluteValue() // balance * -1n\n\n    let fraction = balance.modulo(base).toString(10) // (balance % base).toString(10)\n\n    // add leading zeros\n    fraction = fraction.padStart(decimals, '0')\n    // keep up to 6 decimal places\n    fraction = fraction.slice(0, balance.div(base).gt(pow10(-6)) ? 6 : 8)\n\n    // match significant digits\n    const matchSignificantDigits = new RegExp(`^0*[1-9]\\\\d{0,${significant > 0 ? significant - 1 : 0}}`)\n    fraction = fraction.match(matchSignificantDigits)?.[0] ?? ''\n\n    // trim tailing zeros\n    fraction = fraction.replaceAll(/0+$/g, '')\n    const whole = balance.dividedToIntegerBy(base).toString(10) // (balance / base).toString(10)\n    const value = `${whole}${fraction === '' ? '' : `.${fraction}`}`\n\n    const raw = negative ? `-${value}` : value\n    const result = raw.includes('.') ? raw.replace(/0+$/, '').replace(/\\.$/, '') : raw\n    return hasSeparators ? addThousandSeparators(result) : result\n}\n","import type { BigNumber } from 'bignumber.js'\nimport { multipliedBy } from './number.js'\n\nexport function formatPercentage(value: BigNumber.Value) {\n    const percentage = multipliedBy(value, 100)\n        .toFixed(2)\n        .replace(/\\.?0+$/, '')\n    return `${percentage}%`\n}\n","import { compact, castArray, uniq } from 'lodash-es'\n\nexport function isSameAddress(address?: string | undefined, otherAddress?: string | undefined): boolean {\n    if (!address || !otherAddress) return false\n    return address.toLowerCase() === otherAddress.toLowerCase()\n}\n\nexport function currySameAddress(addresses: string | string[] = []) {\n    addresses = compact(uniq(castArray(addresses))).map((address) => address.toLowerCase())\n    return (target?: string | { address: string }) => {\n        if (addresses.length === 0 || !target) return false\n        if (typeof target === 'string') {\n            return addresses.includes(target.toLowerCase())\n        } else if (typeof target === 'object' && typeof target.address === 'string') {\n            return addresses.includes(target.address.toLowerCase())\n        }\n        throw new Error('Unsupported `target` address format')\n    }\n}\n","export function isSameURL(a: string | URL | undefined, b: string | URL | undefined): boolean {\n    if (!a || !b) return false\n\n    // If either URL is invalid, return false\n    if (typeof a === 'string' && !URL.canParse(a)) return false\n    if (typeof b === 'string' && !URL.canParse(b)) return false\n\n    // Parse the input URLs if they are strings\n    const urlA = typeof a === 'string' ? new URL(a) : a\n    const urlB = typeof b === 'string' ? new URL(b) : b\n\n    // Compare the important parts of the URLs\n    if (urlA.protocol !== urlB.protocol || urlA.hostname !== urlB.hostname || urlA.pathname !== urlB.pathname) {\n        return false\n    }\n\n    // Compare the search parameters in a case-insensitive way\n    const paramsA = new URLSearchParams(urlA.search)\n    const paramsB = new URLSearchParams(urlB.search)\n\n    // Compare the search parameters, allowing different sequence but same values\n    for (const [paramA, valueA] of paramsA.entries()) {\n        const valueB = paramsB.get(paramA)\n        if (valueA !== valueB) {\n            return false\n        }\n    }\n\n    // Check if all the parameters in B are also in A\n    for (const [paramB] of paramsB.entries()) {\n        if (!paramsA.has(paramB)) {\n            return false\n        }\n    }\n\n    return true\n}\n","import { keyBy, mapValues } from 'lodash-es'\nimport {\n    type FungibleToken,\n    type NonFungibleToken,\n    type NonFungibleCollection,\n    type NonFungibleTokenContract,\n    type NonFungibleTokenMetadata,\n    TokenType,\n} from '../specs/index.js'\nimport type { Constants } from './types.js'\n\nexport function createFungibleToken<ChainId, SchemaType>(\n    chainId: ChainId,\n    schema: SchemaType,\n    address: string,\n    name: string,\n    symbol: string,\n    decimals: number,\n    logoURL?: string,\n): FungibleToken<ChainId, SchemaType> {\n    return {\n        chainId,\n        type: TokenType.Fungible,\n        schema,\n        id: address,\n        address,\n        name,\n        symbol,\n        decimals,\n        logoURL,\n    }\n}\nexport function createNonFungibleTokenMetadata<ChainId>(\n    chainId: ChainId,\n    name: string,\n    tokenId: string,\n    symbol: string,\n    description?: string,\n    mediaType?: string,\n    mediaURL?: string,\n    imageURL?: string,\n): NonFungibleTokenMetadata<ChainId> {\n    return {\n        chainId,\n        name,\n        tokenId,\n        symbol,\n        description,\n        mediaURL,\n        mediaType,\n        imageURL,\n    }\n}\nexport function createNonFungibleTokenContract<ChainId, SchemaType>(\n    chainId: ChainId,\n    schema: SchemaType,\n    address: string,\n    name: string,\n    symbol: string,\n): NonFungibleTokenContract<ChainId, SchemaType> {\n    return {\n        chainId,\n        schema,\n        name,\n        symbol,\n        address,\n    }\n}\nexport function createNonFungibleTokenCollection<ChainId, SchemaType>(\n    chainId: ChainId,\n    address: string,\n    name: string,\n    slug: string,\n    description?: string,\n    iconURL?: string,\n    verified?: boolean,\n    createdAt?: number,\n): NonFungibleCollection<ChainId, SchemaType> {\n    return {\n        id: address,\n        chainId,\n        name,\n        slug,\n        description,\n        iconURL,\n        verified,\n        createdAt,\n    }\n}\nexport function createNonFungibleToken<ChainId, SchemaType>(\n    chainId: ChainId,\n    address: string,\n    schema: SchemaType,\n    tokenId: string,\n    ownerId?: string,\n    metadata?: NonFungibleToken<ChainId, SchemaType>['metadata'],\n    contract?: NonFungibleToken<ChainId, SchemaType>['contract'],\n    collection?: NonFungibleToken<ChainId, SchemaType>['collection'],\n): NonFungibleToken<ChainId, SchemaType> {\n    return {\n        chainId,\n        id: address,\n        type: TokenType.NonFungible,\n        schema,\n        address,\n        tokenId,\n        ownerId,\n        metadata,\n        contract,\n        collection,\n    }\n}\n\nexport function createFungibleTokensFromConstants<T extends Constants<string>, ChainId extends number, SchemaType>(\n    chainIds: Array<{\n        key: string\n        value: ChainId\n    }>,\n    schema: SchemaType,\n    constants: T,\n) {\n    return (\n        key: keyof T,\n        name: string | ((chainId: ChainId) => string),\n        symbol: string | ((chainId: ChainId) => string),\n        decimals: number | ((chainId: ChainId) => number),\n    ) => {\n        const chainIdGroup = keyBy(chainIds, 'value')\n        return mapValues(chainIdGroup, ({ key: chainName, value: chainId }) => {\n            function evaluator<R extends string | number>(f: ((chainId: ChainId) => R) | R): R {\n                return typeof f === 'function' ? f(chainId) : f\n            }\n\n            return createFungibleToken<ChainId, SchemaType>(\n                chainId,\n                schema,\n                constants[key][chainName as 'Mainnet'] ?? '',\n                evaluator(name),\n                evaluator(symbol),\n                evaluator(decimals),\n            )\n        })\n    }\n}\n","import { difference } from 'lodash-es'\nimport { Flags } from '@masknet/flags'\nimport {\n    type ChainDescriptor,\n    type NetworkDescriptor,\n    type ProviderDescriptor,\n    TokenType,\n} from '@masknet/web3-shared-base'\nimport {\n    EnhanceableSite,\n    EnhanceableSiteList,\n    ExtensionSiteList,\n    NetworkPluginID,\n    Sniffings,\n} from '@masknet/shared-base'\nimport CHAINS from './chains.json'\nimport { ChainId, NetworkType, ProviderType, SchemaType } from '../types/index.js'\nimport { ChainIdList, getTokenConstant } from './constants.js'\nimport { ZERO_ADDRESS } from './primitives.js'\n\nconst PLUGIN_ID = NetworkPluginID.PLUGIN_EVM\n\nexport const NETWORK_DESCRIPTORS: ReadonlyArray<NetworkDescriptor<ChainId, NetworkType>> = [\n    {\n        ID: `${PLUGIN_ID}_ethereum`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Mainnet,\n        type: NetworkType.Ethereum,\n        name: 'Ethereum',\n        shortName: 'ETH',\n        icon: new URL('../assets/ethereum.png', import.meta.url).href,\n        iconColor: 'rgb(28, 104, 243)',\n        averageBlockDelay: 10,\n        backgroundGradient:\n            'linear-gradient(180deg, rgba(98, 126, 234, 0.15) 0%, rgba(98, 126, 234, 0.05) 100%), rgba(255, 255, 255, 0.2)',\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_ropsten`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Ropsten,\n        type: NetworkType.Ethereum,\n        name: 'Ropsten',\n        icon: new URL('../assets/ethereum.png', import.meta.url).href,\n        iconColor: 'rgb(255, 65, 130)',\n        averageBlockDelay: 10,\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_kovan`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Kovan,\n        type: NetworkType.Ethereum,\n        name: 'Kovan',\n        icon: new URL('../assets/ethereum.png', import.meta.url).href,\n        iconColor: 'rgb(133, 89, 255)',\n        averageBlockDelay: 10,\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_rinkeby`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Rinkeby,\n        type: NetworkType.Ethereum,\n        name: 'Rinkeby',\n        icon: new URL('../assets/ethereum.png', import.meta.url).href,\n        iconColor: 'rgb(133, 89, 255)',\n        averageBlockDelay: 10,\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_gorli`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Gorli,\n        type: NetworkType.Ethereum,\n        name: 'G\\u00F6rli',\n        icon: new URL('../assets/ethereum.png', import.meta.url).href,\n        iconColor: 'rgb(48, 153, 242)',\n        averageBlockDelay: 10,\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_bsc`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.BSC,\n        type: NetworkType.Binance,\n        name: 'BNB Chain',\n        icon: new URL('../assets/binance.png', import.meta.url).href,\n        iconColor: 'rgb(240, 185, 10)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(243, 186, 47, 0.15) 0%, rgba(243, 186, 47, 0.05) 100%)',\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_bsct`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.BSCT,\n        type: NetworkType.Binance,\n        name: 'BSCT',\n        icon: new URL('../assets/binance.png', import.meta.url).href,\n        iconColor: 'rgb(240, 185, 10)',\n        averageBlockDelay: 10,\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_base`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Base,\n        type: NetworkType.Base,\n        name: 'Base',\n        icon: new URL('../assets/base.png', import.meta.url).href,\n        iconColor: 'rgb(0, 82, 255)',\n        averageBlockDelay: 10,\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_base_gorli`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Base_Goerli,\n        type: NetworkType.Base,\n        name: 'Base Gorli',\n        icon: new URL('../assets/base.png', import.meta.url).href,\n        iconColor: 'rgb(0, 82, 255)',\n        averageBlockDelay: 10,\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_polygon`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Matic,\n        type: NetworkType.Polygon,\n        name: 'Polygon',\n        icon: new URL('../assets/polygon.png', import.meta.url).href,\n        iconColor: 'rgb(119, 62, 225)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(130, 71, 229, 0.15) 0%, rgba(130, 71, 229, 0.05) 100%)',\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_mumbai`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Mumbai,\n        type: NetworkType.Polygon,\n        name: 'Mumbai',\n        icon: new URL('../assets/polygon.png', import.meta.url).href,\n        iconColor: 'rgb(119, 62, 225)',\n        averageBlockDelay: 10,\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_arbitrum`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Arbitrum,\n        type: NetworkType.Arbitrum,\n        name: 'Arbitrum One',\n        shortName: 'Arbitrum',\n        icon: new URL('../assets/arbitrum.png', import.meta.url).href,\n        iconColor: 'rgb(36, 150, 238)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(40, 160, 240, 0.15) 0%, rgba(40, 160, 240, 0.05) 100%)',\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_arbitrum_rinkeby`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Arbitrum_Rinkeby,\n        type: NetworkType.Arbitrum,\n        name: 'Arbitrum Rinkeby',\n        icon: new URL('../assets/arbitrum.png', import.meta.url).href,\n        iconColor: 'rgb(36, 150, 238)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(40, 160, 240, 0.15) 0%, rgba(40, 160, 240, 0.05) 100%)',\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_xdai`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.xDai,\n        type: NetworkType.xDai,\n        name: 'Gnosis',\n        icon: new URL('../assets/xdai.png', import.meta.url).href,\n        iconColor: 'rgb(73, 169, 166)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(72, 168, 166, 0.15) 0%, rgba(72, 168, 166, 0.05) 100%)',\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_celo`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Celo,\n        type: NetworkType.Celo,\n        name: 'Celo',\n        icon: new URL('../assets/celo.png', import.meta.url).href,\n        iconColor: 'rgb(53, 208, 127)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(251, 204, 92, 0.15) 0%, rgba(251, 204, 92, 0.05) 100%)',\n        isMainnet: false,\n    },\n    {\n        ID: `${PLUGIN_ID}_scroll`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Scroll,\n        type: NetworkType.Scroll,\n        name: 'Scroll',\n        icon: new URL('../assets/scroll.svg', import.meta.url).href,\n        backgroundGradient:\n            'linear-gradient(180deg, rgba(98, 126, 234, 0.15) 0%, rgba(98, 126, 234, 0.05) 100%), rgba(255, 255, 255, 0.2)',\n        iconColor: 'rgb(255, 248, 243)',\n        averageBlockDelay: 9,\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_avalanche`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Avalanche,\n        type: NetworkType.Avalanche,\n        name: 'Avalanche',\n        shortName: 'AVAX',\n        icon: new URL('../assets/avalanche.png', import.meta.url).href,\n        backgroundGradient: 'linear-gradient(180deg, rgba(232, 65, 66, 0.15) 0%, rgba(232, 65, 66, 0.05) 100%)',\n        iconColor: 'rgb(232, 65, 66)',\n        averageBlockDelay: 10,\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_aurora`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Aurora,\n        type: NetworkType.Aurora,\n        name: 'Aurora',\n        icon: new URL('../assets/aurora.png', import.meta.url).href,\n        iconColor: 'rgb(112, 212, 74)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(112, 212, 75, 0.15) 0%, rgba(112, 212, 75, 0.05) 100%)',\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_conflux`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Conflux,\n        type: NetworkType.Conflux,\n        name: 'Conflux',\n        icon: new URL('../assets/conflux.png', import.meta.url).href,\n        iconColor: 'rgb(112, 212, 74)',\n        averageBlockDelay: 10,\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_astar`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Astar,\n        type: NetworkType.Astar,\n        name: 'Astar',\n        icon: new URL('../assets/astar.png', import.meta.url).href,\n        iconColor: 'rgb(36, 150, 238)',\n        averageBlockDelay: 10,\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_fantom`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Fantom,\n        type: NetworkType.Fantom,\n        name: 'Fantom',\n        icon: new URL('../assets/fantom.png', import.meta.url).href,\n        iconColor: 'rgb(73, 169, 166)',\n        averageBlockDelay: 10,\n        backgroundGradient: 'linear-gradient(180deg, rgba(24, 94, 255, 0.15) 0%, rgba(24, 94, 255, 0.05) 100%)',\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_optimism`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Optimism,\n        type: NetworkType.Optimism,\n        name: 'Optimism',\n        icon: new URL('../assets/optimism.png', import.meta.url).href,\n        iconColor: 'rgb(232, 65, 66)',\n        backgroundGradient: 'linear-gradient(180deg, rgba(232, 65, 66, 0.15) 0%, rgba(232, 65, 66, 0.05) 100%)',\n        isMainnet: true,\n        averageBlockDelay: 10,\n    },\n    {\n        ID: `${PLUGIN_ID}_moonbeam`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Moonbeam,\n        type: NetworkType.Moonbeam,\n        icon: new URL('../assets/moonbeam.png', import.meta.url).href,\n        iconColor: 'rgb(36, 150, 238)',\n        name: 'Moonbeam',\n        isMainnet: false,\n        averageBlockDelay: 10,\n    },\n]\n\nexport const CHAIN_DESCRIPTORS: ReadonlyArray<ChainDescriptor<ChainId, SchemaType, NetworkType>> = CHAINS.map((x) => {\n    const network = NETWORK_DESCRIPTORS.find((y) => y.chainId === x.chainId)\n    return {\n        ...x,\n        ID: `${x.chainId}_${x.name}`,\n        coinMarketCapChainId: '',\n        coinGeckoChainId: '',\n        coinGeckoPlatformId: '',\n        type: (x.type as NetworkType | undefined) || NetworkType.Ethereum,\n        color: network?.iconColor || x.color || 'rgb(138, 138, 138)',\n        nativeCurrency: {\n            id: getTokenConstant(x.chainId, 'NATIVE_TOKEN_ADDRESS', ZERO_ADDRESS)!,\n            address: getTokenConstant(x.chainId, 'NATIVE_TOKEN_ADDRESS', ZERO_ADDRESS)!,\n            type: TokenType.Fungible,\n            schema: SchemaType.Native,\n            ...x.nativeCurrency,\n        },\n        // not accessible\n        rpcUrl: '',\n        iconUrl: network?.icon || x.nativeCurrency.logoURL,\n        explorerUrl: {\n            url: x.explorers?.[0]?.url || x.infoURL,\n        },\n        isCustomized: false,\n    }\n})\n\nexport const PROVIDER_DESCRIPTORS: ReadonlyArray<ProviderDescriptor<ChainId, ProviderType>> = [\n    {\n        ID: `${PLUGIN_ID}_maskwallet`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.MaskWallet,\n        name: 'Mask Network',\n        icon: new URL('../assets/maskwallet.png', import.meta.url).href,\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: difference(EnhanceableSiteList, [\n                EnhanceableSite.Localhost,\n                EnhanceableSite.App,\n            ]),\n            supportedExtensionSites: ExtensionSiteList,\n        },\n        homeLink: 'https://mask.io',\n        shortenLink: 'mask.io',\n        downloadLink: 'https://mask.io/download-links',\n        iconFilterColor: 'rgba(28, 104, 243, 0.2)',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(98, 152, 234, 0.2) 1.03%, rgba(98, 152, 234, 0.2) 1.04%, rgba(98, 126, 234, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n    },\n    {\n        ID: `${PLUGIN_ID}_browser`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Browser,\n        name: 'Browser Wallet',\n        icon: new URL('../assets/metamask.png', import.meta.url).href,\n        enableRequirements:\n            process.env.NODE_ENV === 'development'\n                ? {\n                      supportedChainIds: ChainIdList,\n                      supportedEnhanceableSites: EnhanceableSiteList,\n                      supportedExtensionSites: ExtensionSiteList,\n                  }\n                : undefined,\n        homeLink: '',\n        shortenLink: '',\n        downloadLink: '',\n        iconFilterColor: 'rgba(216, 124, 48, 0.3)',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(248, 156, 53, 0.2) 0%, rgba(98, 126, 234, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n    },\n    {\n        ID: `${PLUGIN_ID}_metamask`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.MetaMask,\n        name: 'MetaMask',\n        icon: new URL('../assets/metamask.png', import.meta.url).href,\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: EnhanceableSiteList,\n            supportedExtensionSites: ExtensionSiteList,\n        },\n        homeLink: 'https://metamask.io',\n        shortenLink: 'metamask.io',\n        downloadLink: 'https://metamask.io/download/',\n        iconFilterColor: 'rgba(216, 124, 48, 0.3)',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(248, 156, 53, 0.2) 0%, rgba(98, 126, 234, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n    },\n    {\n        ID: `${PLUGIN_ID}_walletconnect`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.WalletConnect,\n        name: 'WalletConnect',\n        icon: new URL('../assets/walletconnect.png', import.meta.url).href,\n        enableRequirements: Flags.wc_enabled\n            ? {\n                  supportedChainIds: ChainIdList,\n                  supportedEnhanceableSites: difference(EnhanceableSiteList, [\n                      EnhanceableSite.Localhost,\n                      EnhanceableSite.App,\n                  ]),\n                  supportedExtensionSites: Flags.wc_enabled ? ExtensionSiteList : [],\n              }\n            : undefined,\n        homeLink: 'https://walletconnect.com',\n        shortenLink: 'walletconnect.com',\n        downloadLink: 'https://walletconnect.com',\n        iconFilterColor: 'rgba(59, 153, 252, 0.2)',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(59, 153, 252, 0.2) 0%, rgba(98, 126, 234, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n    },\n    {\n        ID: `${PLUGIN_ID}_coin98`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Coin98,\n        name: 'Coin98',\n        icon: new URL('../assets/coin98.png', import.meta.url).href,\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: [],\n        },\n        homeLink: 'https://coin98.com',\n        shortenLink: 'coin98.com',\n        downloadLink: 'https://coin98insights.com/introduction-to-coin98-wallet-extension',\n    },\n    {\n        ID: `${PLUGIN_ID}_coinbase`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Coinbase,\n        name: 'Coinbase',\n        icon: new URL('../assets/coinbase.png', import.meta.url).href,\n        enableRequirements: {\n            supportedChainIds: [ChainId.Mainnet, ChainId.Arbitrum, ChainId.Avalanche, ChainId.Optimism, ChainId.Matic],\n            supportedEnhanceableSites: [],\n            supportedExtensionSites: [],\n        },\n        homeLink: 'https://www.coinbase.com/wallet',\n        shortenLink: 'coinbase.com',\n        downloadLink: 'https://www.coinbase.com/wallet/downloads',\n    },\n    {\n        ID: `${PLUGIN_ID}_okx`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.OKX,\n        name: 'OKX Wallet',\n        icon: new URL('../assets/okx.png', import.meta.url).href,\n        enableRequirements: {\n            supportedChainIds: [ChainId.Mainnet, ChainId.Arbitrum, ChainId.Avalanche, ChainId.Optimism, ChainId.Matic],\n            supportedEnhanceableSites: [],\n            supportedExtensionSites: [],\n        },\n        homeLink: 'https://www.okx.com/web3',\n        shortenLink: 'okx.com',\n        downloadLink: 'https://www.okx.com/web3',\n    },\n    {\n        ID: `${PLUGIN_ID}_opera`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Opera,\n        name: 'Opera',\n        icon: new URL('../assets/opera.png', import.meta.url).href,\n        enableRequirements: {\n            supportedChainIds: [ChainId.Mainnet, ChainId.BSC, ChainId.Matic],\n            supportedEnhanceableSites: Sniffings.is_opera ? EnhanceableSiteList : [],\n            supportedExtensionSites: [],\n        },\n        homeLink: 'https://www.opera.com/crypto/next',\n        shortenLink: 'opera.com',\n        downloadLink: 'https://www.opera.com/crypto/next',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(98, 152, 234, 0.2) 1.03%, rgba(98, 152, 234, 0.2) 1.04%, rgba(98, 126, 234, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n    },\n    {\n        ID: `${PLUGIN_ID}_clover`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Clover,\n        name: 'Clover',\n        icon: new URL('../assets/clover.png', import.meta.url).href,\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(52, 133, 196, 0.2) 0%, rgba(0, 239, 139, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n        enableRequirements: {\n            supportedChainIds: Sniffings.is_firefox ? [] : ChainIdList,\n            supportedEnhanceableSites: Sniffings.is_firefox ? [] : EnhanceableSiteList,\n            supportedExtensionSites: [],\n        },\n        homeLink: 'https://clv.org',\n        shortenLink: 'clv.org',\n        downloadLink: 'https://clv.org/?type=wallet',\n    },\n    {\n        ID: `${PLUGIN_ID}_fortmatic`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Fortmatic,\n        name: 'Fortmatic',\n        icon: new URL('../assets/fortmatic.png', import.meta.url).href,\n        enableRequirements: {\n            supportedChainIds: Sniffings.is_firefox ? [] : [ChainId.Mainnet, ChainId.BSC],\n            supportedEnhanceableSites: Sniffings.is_firefox ? [] : EnhanceableSiteList,\n            supportedExtensionSites: Sniffings.is_firefox ? [] : ExtensionSiteList,\n        },\n        homeLink: 'https://fortmatic.com',\n        shortenLink: 'fortmatic.com',\n        downloadLink: 'https://fortmatic.com',\n        iconFilterColor: 'rgba(104, 81, 255, 0.2)',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(104, 81, 255, 0.2) 0%, rgba(98, 126, 234, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n    },\n]\n","export const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\n\n// for estimate gas\nexport const FAKE_SIGN_PASSWORD = '0x75466cc969717b172b14253aaeebdc958f2b5037a852c1337650ed4978242dd9'\n","import * as ABICoder from 'web3-eth-abi'\n\nexport const abiCoder = ABICoder as unknown as ABICoder.AbiCoder\n","import { memoize } from 'lodash-es'\nimport { isAddress, toChecksumAddress } from 'web3-utils'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport {\n    ChainIdList,\n    getArbConstants,\n    getCryptoPunksConstants,\n    getENSConstants,\n    getLensProfileConstants,\n    getRedPacketConstants,\n    getSpaceIdConstants,\n    getTokenConstant,\n    ZERO_ADDRESS,\n} from '../constants/index.js'\nimport { ChainId } from '../types/index.js'\n\nexport function checksumAddress(address: string) {\n    return toChecksumAddress(address)\n}\n\nexport function isEmptyHex(hex?: string): hex is undefined {\n    return !hex || ['0x', '0x0'].includes(hex)\n}\n\nexport function isZeroString(str?: string): str is undefined {\n    return !str || str === '0'\n}\n\nexport const isValidAddress: (address?: string) => address is string = memoize(function isValidAddress(\n    address?: string,\n): address is string {\n    if (!address) return false\n    return isAddress(address)\n})\n\nexport function isZeroAddress(address?: string): address is '0x0000000000000000000000000000000000000000' {\n    return isSameAddress(address, ZERO_ADDRESS)\n}\n\nconst nativeTokenSet = new Set(ChainIdList.map((chainId) => getTokenConstant(chainId, 'NATIVE_TOKEN_ADDRESS')))\n\nexport function isNativeTokenAddress(address?: string): address is string {\n    return !!(address && nativeTokenSet.has(address))\n}\n\nconst {\n    HAPPY_RED_PACKET_ADDRESS_V1,\n    HAPPY_RED_PACKET_ADDRESS_V2,\n    HAPPY_RED_PACKET_ADDRESS_V3,\n    HAPPY_RED_PACKET_ADDRESS_V4,\n} = getRedPacketConstants()\n\nexport function isRedPacketAddress(address: string, version?: 1 | 2 | 3 | 4) {\n    switch (version) {\n        case 1:\n            return isSameAddress(HAPPY_RED_PACKET_ADDRESS_V1, address)\n        case 2:\n            return isSameAddress(HAPPY_RED_PACKET_ADDRESS_V2, address)\n        case 3:\n            return isSameAddress(HAPPY_RED_PACKET_ADDRESS_V3, address)\n        case 4:\n            return isSameAddress(HAPPY_RED_PACKET_ADDRESS_V4, address)\n        default:\n            return (\n                isSameAddress(HAPPY_RED_PACKET_ADDRESS_V1, address) ||\n                isSameAddress(HAPPY_RED_PACKET_ADDRESS_V2, address) ||\n                isSameAddress(HAPPY_RED_PACKET_ADDRESS_V3, address) ||\n                isSameAddress(HAPPY_RED_PACKET_ADDRESS_V4, address)\n            )\n    }\n}\n\nexport function getZeroAddress() {\n    return ZERO_ADDRESS\n}\n\nexport const getNativeTokenAddress: (chainId: ChainId) => string = memoize((chainId = ChainId.Mainnet) => {\n    return getTokenConstant(chainId, 'NATIVE_TOKEN_ADDRESS') ?? ZERO_ADDRESS\n})\n\nexport const getMaskTokenAddress: (chainId: ChainId) => string = memoize((chainId = ChainId.Mainnet) => {\n    return getTokenConstant(chainId, 'MASK_ADDRESS') ?? ''\n})\n\nconst { ENS_CONTRACT_ADDRESS } = getENSConstants()\nexport function isENSContractAddress(contract_address: string) {\n    return isSameAddress(contract_address, ENS_CONTRACT_ADDRESS)\n}\n\nconst { ENS_NAME_WRAPPER_CONTRACT_ADDRESS } = getENSConstants()\nexport function isENSNameWrapperContractAddress(contract_address: string) {\n    return isSameAddress(contract_address, ENS_NAME_WRAPPER_CONTRACT_ADDRESS)\n}\n\nexport function isLensProfileAddress(address: string) {\n    const { LENS_PROFILE_CONTRACT_ADDRESS } = getLensProfileConstants(ChainId.Matic)\n    return isSameAddress(address, LENS_PROFILE_CONTRACT_ADDRESS)\n}\n\nconst { ARB_CONTRACT_ADDRESS } = getArbConstants(ChainId.Arbitrum)\nexport function isArbContractAddress(contract_address: string) {\n    return isSameAddress(contract_address, ARB_CONTRACT_ADDRESS)\n}\n\nconst { SID_CONTRACT_ADDRESS } = getSpaceIdConstants(ChainId.BSC)\nexport function isSpaceIdContractAddress(contract_address: string) {\n    return isSameAddress(contract_address, SID_CONTRACT_ADDRESS)\n}\n\nexport function isXnsContractAddress(address: string) {\n    return isENSContractAddress(address) || isArbContractAddress(address) || isSpaceIdContractAddress(address)\n}\n\nexport function isCryptoPunksContractAddress(contract_address: string) {\n    const { CRYPTOPUNKS_CONTRACT_ADDRESS } = getCryptoPunksConstants()\n    return isSameAddress(contract_address, CRYPTOPUNKS_CONTRACT_ADDRESS)\n}\n","import type { AbiItem } from 'web3-utils'\nimport type { ContractOptions } from 'web3-eth-contract'\nimport type { BaseContract } from '@masknet/web3-contracts/types/types.js'\nimport { isValidAddress } from './address.js'\nimport type { Web3 } from '../libs/index.js'\n\nexport function createContract<T extends BaseContract>(\n    web3: Web3 | null,\n    address: string | undefined,\n    ABI: AbiItem[],\n    options?: ContractOptions,\n) {\n    if (!address || !isValidAddress(address) || !web3) return null\n    return new web3.eth.Contract(ABI, address, options) as unknown as T\n}\n","import type { JsonRpcPayload } from 'web3-core-helpers'\nimport type { RequestArguments } from '../types/index.js'\n\nexport function createJsonRpcPayload(id: number, requestArguments: RequestArguments): JsonRpcPayload {\n    return {\n        jsonrpc: '2.0',\n        id,\n        method: requestArguments.method,\n        params: requestArguments.params,\n    }\n}\n","import type { JsonRpcResponse } from 'web3-core-helpers'\n\nexport function createJsonRpcResponse<T>(id: number, result?: T, error?: Error): JsonRpcResponse {\n    return {\n        jsonrpc: '2.0',\n        id,\n        result,\n        error,\n    }\n}\n","import type { AbiItem } from 'web3-utils'\nimport { abiCoder } from './abiCoder.js'\n\nexport function decodeFunctionData(abis: AbiItem[], input: string, methodName: string) {\n    const item = abis.find((x) => x.type === 'function' && x.name === methodName)\n    if (!item) throw new Error(`Failed to locate abi with name: ${methodName}.`)\n    if (!item.inputs) throw new Error('Invalid ABI type.')\n\n    // Decode the input using web3.eth.abi.decodeParameters\n    return abiCoder.decodeParameters(item.inputs, `0x${input.slice(10)}`)\n}\n","import { NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport { ChainId, NetworkType, ProviderType } from '../types/index.js'\n\nexport function getNetworkPluginID() {\n    return NetworkPluginID.PLUGIN_EVM\n}\n\nexport function getDefaultChainId() {\n    return ChainId.Mainnet\n}\n\nexport function getInvalidChainId() {\n    return ChainId.Invalid\n}\n\nexport function getDefaultNetworkType() {\n    return NetworkType.Ethereum\n}\n\nexport function getDefaultProviderType() {\n    return Sniffings.is_popup_page ? ProviderType.MaskWallet : ProviderType.None\n}\n","import { NETWORK_DESCRIPTORS } from '../constants/index.js'\nimport type { ChainId } from '../types/index.js'\n\nexport function getAverageBlockDelay(chainId: ChainId, scale = 1) {\n    const delay = NETWORK_DESCRIPTORS.find((x) => x.chainId === chainId)?.averageBlockDelay ?? 10\n    return delay * scale * 1000\n}\n","import { TransactionStatusType } from '@masknet/web3-shared-base'\nimport type { TransactionReceipt } from '../types/index.js'\n\nexport function getTransactionStatusType(receipt: TransactionReceipt | null) {\n    if (!receipt) return TransactionStatusType.NOT_DEPEND\n    const status = receipt.status as unknown as string\n    if (receipt.status === false || ['0', '0x', '0x0'].includes(status)) return TransactionStatusType.FAILED\n    if (receipt.status === true || ['1', '0x1'].includes(status)) return TransactionStatusType.SUCCEED\n    return TransactionStatusType.NOT_DEPEND\n}\n","export function isLens(name?: string) {\n    if (!name) return false\n    name = name.toLowerCase()\n    return name.endsWith('.lens') || name === 'lensprotocol' || name === '@lensprotocol'\n}\n","const NORMAL_COLLECT_RE = /\\.lens-Collect-\\d+$/\nconst ADMIN_COLLECT_RE = /^lensprotocol-Collect-\\d+$/\n\nexport function isLensCollect(name: string) {\n    return NORMAL_COLLECT_RE.test(name) || ADMIN_COLLECT_RE.test(name)\n}\n","const NORMAL_COMMENT_RE = /^Comment by @.*\\.lens$/\nconst ADMIN_COMMENT_RE = /^Comment by @lensprotocol$/\n// May be not `quoted` comment but something else\nconst QUOTED_COMMENT_RE = /^Comment by @\\w+$/\n\nexport function isLensComment(name: string) {\n    return NORMAL_COMMENT_RE.test(name) || ADMIN_COMMENT_RE.test(name) || QUOTED_COMMENT_RE.test(name)\n}\n","export function isLensFollower(name: string) {\n    // vitalik.lens-Follower, lensprotocol-Follower V2\n    return name.includes('.lens-Follower') || name.includes('lensprotocol-Follower') || name.endsWith(\"'s follower NFT\")\n}\n","const NORMAL_POST_RE = /^Post by @.*\\.lens$/\nconst ADMIN_POST_RE = /^Post by @lensprotocol$/\nconst GENESIS_POST_RE = /Genesis post - \\w+.lens/\n// May be not `quoted` post but something else\nconst QUOTED_POST_RE = /^Post by @\\w+$/\n\nexport function isLensPost(name: string) {\n    return (\n        NORMAL_POST_RE.test(name) || ADMIN_POST_RE.test(name) || GENESIS_POST_RE.test(name) || QUOTED_POST_RE.test(name)\n    )\n}\n","import { type ChainId } from '../types/index.js'\nimport { ChainIdList } from '../constants/constants.js'\n\nexport function isValidChainId(chainId?: ChainId): chainId is ChainId {\n    // TODO custom networks\n    return ChainIdList.some((x) => x === chainId)\n}\n","import punycode from 'punycode'\n\nconst NAME_SERVICE_RE = /\\.(eth|bnb|arb|lens)$/\nconst DOMAIN_RE = /^(?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\\.)+[a-z0-9][-a-z0-9]*[a-z0-9]$/u\nconst ENS_SUBDOMAIN_RE = /\\[.{64}?\\]\\.(?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\\.)+[a-z0-9][-a-z0-9]*[a-z0-9]$/u\n\nexport function isValidDomain(domain?: string) {\n    if (!domain) return false\n    domain = domain.toLowerCase()\n    if (!NAME_SERVICE_RE.test(domain)) return false\n    const ascii = punycode.toASCII(domain)\n    const result = DOMAIN_RE.test(ascii)\n    if (!result) return isEnsSubdomain(domain)\n    return result\n}\n\nexport function isEnsSubdomain(domain: string) {\n    if (!domain) return false\n    domain = domain.toLowerCase()\n    if (!domain.endsWith('.eth')) return false\n    const ascii = punycode.toASCII(domain)\n    const result = ENS_SUBDOMAIN_RE.test(ascii)\n    return result\n}\n","import { isValidChainId } from './isValidChainId.js'\nimport type { ChainId } from '../types/index.js'\n\nexport function parseChainId(chainId: number | string | undefined): ChainId | undefined {\n    if (typeof chainId === 'string') return parseChainId(Number.parseInt(chainId, 16))\n    if (typeof chainId === 'number' && isValidChainId(chainId)) return chainId as ChainId\n    return\n}\n","import { isLens } from './isLens.js'\nimport { isLensFollower } from './isLensFollower.js'\nimport { isLensPost } from './isLensPost.js'\nimport { isLensComment } from './isLensComment.js'\nimport { isLensCollect } from './isLensCollect.js'\nimport { isENSContractAddress, isENSNameWrapperContractAddress } from './address.js'\n\nconst LENS_FOLLOWER_IMAGE = new URL('../assets/lens-follower.svg', import.meta.url).href\nconst LENS_COMMENT_IMAGE = new URL('../assets/lens-comment.svg', import.meta.url).href\nconst LENS_POST_IMAGE = new URL('../assets/lens-post.svg', import.meta.url).href\nconst LENS_COLLECT_IMAGE = new URL('../assets/lens-collect.svg', import.meta.url).href\nconst LENS_IMAGE = new URL('../assets/lens.svg', import.meta.url).href\nconst ENS_IMAGE = new URL('../assets/ens.svg', import.meta.url).href\n\nexport function resolveImageURL(image?: string, name?: string, collectionName?: string, address?: string) {\n    if (image) return image\n    if (name) {\n        if (isLensFollower(name)) return LENS_FOLLOWER_IMAGE\n        if (isLensComment(name)) return LENS_COMMENT_IMAGE\n        if (isLensPost(name)) return LENS_POST_IMAGE\n        // Check collect after comment and post\n        if (isLensCollect(name)) return LENS_COLLECT_IMAGE\n        if (isLens(name)) return LENS_IMAGE\n    }\n    if (collectionName && isLensCollect(collectionName)) {\n        return LENS_COLLECT_IMAGE\n    }\n    if (address && (isENSContractAddress(address) || isENSNameWrapperContractAddress(address))) return ENS_IMAGE\n    return\n}\n","import { getEnumAsArray } from '@masknet/kit'\nimport { createFungibleToken, createFungibleTokensFromConstants } from '@masknet/web3-shared-base'\nimport Token from '@masknet/web3-constants/evm/token.json'\nimport { CHAIN_DESCRIPTORS } from '../constants/index.js'\nimport { ChainId, SchemaType } from '../types/index.js'\n\nexport function isNativeTokenSymbol(symbol: string) {\n    return CHAIN_DESCRIPTORS.filter((x) => x.network === 'mainnet' && x.nativeCurrency)\n        .map((x) => x.nativeCurrency.symbol.toLowerCase())\n        .includes(symbol.toLowerCase())\n}\n\nexport function createERC20Token(\n    chainId: ChainId,\n    address: string,\n    name = 'Unknown Token',\n    symbol = '',\n    decimals = 0,\n    logoURI?: string,\n) {\n    return createFungibleToken<ChainId, SchemaType.ERC20>(\n        chainId,\n        SchemaType.ERC20,\n        address,\n        name,\n        symbol,\n        decimals,\n        logoURI,\n    )\n}\n\nexport const createERC20Tokens = createFungibleTokensFromConstants<typeof Token, ChainId, SchemaType.ERC20>(\n    getEnumAsArray(ChainId),\n    SchemaType.ERC20,\n    Token,\n)\n\nexport function isNativeTokenSchemaType(schemaType?: SchemaType) {\n    return schemaType === SchemaType.Native\n}\n\nexport function isFungibleTokenSchemaType(schemaType?: SchemaType) {\n    return schemaType === SchemaType.Native || schemaType === SchemaType.ERC20\n}\n\nexport function isNonFungibleTokenSchemaType(schemaType?: SchemaType) {\n    return schemaType === SchemaType.ERC721 || schemaType === SchemaType.ERC1155\n}\n","import { BigNumber } from 'bignumber.js'\nimport { identity, pickBy, memoize } from 'lodash-es'\nimport { toHex } from 'web3-utils'\nimport { ZERO_ADDRESS } from '../constants/index.js'\nimport { isEmptyHex } from '../helpers/address.js'\nimport { ChainId, type Transaction } from '../types/index.js'\n\nconst normalizeHex = memoize((value: string | number) => {\n    // fix an abnormal hex value like: 0x02c68af0bb140000\n    if (typeof value === 'string' && value.length > 3 && value.startsWith('0x0'))\n        return toHex(new BigNumber(value).toFixed())\n    return toHex(value)\n})\n\nexport class AccountTransaction {\n    constructor(private transaction?: Transaction) {}\n\n    get from() {\n        return this.transaction?.from ?? ''\n    }\n\n    get to() {\n        const to = this.transaction?.to\n        if (!to) return ZERO_ADDRESS\n        if (isEmptyHex(to)) return ZERO_ADDRESS\n        return to\n    }\n\n    get value() {\n        return this.transaction?.value ?? '0x0'\n    }\n\n    get data() {\n        const data = this.transaction?.data\n        if (isEmptyHex(data)) return\n        if (!data.startsWith('0x')) return `0x${data}`\n        return data\n    }\n\n    get functionSignature() {\n        return this.data?.slice(0, 10)\n    }\n\n    get functionParameters() {\n        return this.data?.slice(10)\n    }\n\n    fill(overrides?: Transaction): Transaction {\n        const { chainId, from, to, value, gas, gasPrice, maxPriorityFeePerGas, maxFeePerGas, data, nonce } = {\n            ...this.transaction,\n            ...pickBy(overrides, identity),\n        }\n        return pickBy(\n            {\n                from,\n                to,\n                data,\n                value: value ? normalizeHex(value) : undefined,\n                chainId: chainId && chainId !== ChainId.Astar ? normalizeHex(chainId) : undefined,\n                gas: gas ? normalizeHex(gas) : undefined,\n                gasPrice: gasPrice ? normalizeHex(gasPrice) : undefined,\n                maxPriorityFeePerGas: maxPriorityFeePerGas ? normalizeHex(maxPriorityFeePerGas) : undefined,\n                maxFeePerGas: maxFeePerGas ? normalizeHex(maxFeePerGas) : undefined,\n                nonce,\n            },\n            identity,\n        )\n    }\n}\n","import { identity, pickBy } from 'lodash-es'\nimport { toHex } from 'web3-utils'\nimport { type Unresolved, resolve } from '@masknet/shared-base'\nimport type {\n    BaseContract,\n    PayableTx,\n    NonPayableTransactionObject,\n    PayableTransactionObject,\n} from '@masknet/web3-contracts/types/types.js'\nimport type { Transaction } from '../types/index.js'\n\ntype TransactionResolver<T extends BaseContract | null> = Unresolved<\n    PayableTransactionObject<unknown> | NonPayableTransactionObject<unknown> | undefined,\n    T\n>\n\nexport class ContractTransaction<T extends BaseContract | null> {\n    constructor(private contract: T) {}\n\n    /**\n     * Fill the transaction without gas (for calling a readonly transaction)\n     * @param transactionResolver\n     * @param overrides\n     * @returns\n     */\n    fill(transactionResolver: TransactionResolver<T>, overrides?: Partial<Transaction>): Transaction {\n        const transaction = resolve(transactionResolver, this.contract)\n\n        return pickBy(\n            {\n                from: overrides?.from ?? this.contract?.defaultAccount ?? this.contract?.options.from ?? '',\n                to: this.contract?.options.address,\n                data: transaction?.encodeABI(),\n                value: overrides?.value ? toHex(overrides.value) : undefined,\n                gas: overrides?.gas ? toHex(overrides.gas) : undefined,\n                gasPrice: overrides?.gasPrice ? toHex(overrides.gasPrice) : undefined,\n                maxPriorityFeePerGas: overrides?.maxPriorityFeePerGas\n                    ? toHex(overrides.maxPriorityFeePerGas)\n                    : undefined,\n                maxFeePerGas: overrides?.maxFeePerGas ? toHex(overrides.maxFeePerGas) : undefined,\n                nonce: overrides?.nonce ? toHex(overrides.nonce) : undefined,\n                chainId: overrides?.chainId ? toHex(overrides.chainId) : undefined,\n            },\n            identity,\n        )\n    }\n\n    /**\n     * Fill the transaction include gas (for sending a payable transaction)\n     * @param transactionResolver\n     * @param overrides\n     * @returns\n     */\n    async fillAll(transactionResolver: TransactionResolver<T>, overrides?: Partial<Transaction>) {\n        const transaction = resolve(transactionResolver, this.contract)\n        const transactionEncoded = this.fill(transactionResolver, overrides)\n\n        // estimate gas\n        if (!transactionEncoded.gas) {\n            const gas = await transaction?.estimateGas({\n                from: transactionEncoded.from,\n                to: transactionEncoded.to,\n                data: transactionEncoded.data,\n                value: transactionEncoded.value,\n            })\n\n            if (!gas) throw new Error('Estimate gas failed')\n\n            transactionEncoded.gas = toHex(gas)\n        }\n\n        return transactionEncoded\n    }\n\n    async send(transactionResolver: TransactionResolver<T>, overrides?: Partial<Transaction>) {\n        const transaction = resolve(transactionResolver, this.contract)\n        const transactionEncoded = await this.fillAll(transactionResolver, overrides)\n        const receipt = await transaction?.send(transactionEncoded as PayableTx)\n        return receipt?.transactionHash ?? ''\n    }\n}\n","import { isNil } from 'lodash-es'\nimport type { JsonRpcResponse } from 'web3-core-helpers'\nimport type { RecognizableError } from '@masknet/web3-shared-base'\n\n// https://www.jsonrpc.org/specification#error_object\nexport enum JSON_RPC_ERROR_CODE {\n    INVALID_REQUEST = -32600,\n    METHOD_NOT_FOUND = 32601,\n    INVALID_PARAMS = -32602,\n    INTERNAL_ERROR = -32603,\n    SERVER_ERROR_RANGE_START = -32000,\n    SERVER_ERROR_RANGE_END = -32099,\n}\n\n/**\n * JSON RPC Error Editor\n */\nexport class ErrorEditor {\n    constructor(\n        private unknownError: unknown,\n        private response?: JsonRpcResponse | null,\n        private fallback?: string,\n    ) {}\n\n    private get internalError(): Error {\n        {\n            const rpcError = this.unknownError\n            if (rpcError instanceof Error && rpcError.message) return rpcError\n            if (rpcError && typeof (rpcError as Error).message === 'string')\n                return new Error((rpcError as Error).message)\n            if (rpcError && typeof rpcError === 'string') return new Error(rpcError)\n        }\n\n        {\n            const responseError = this.response?.error as unknown\n            if (responseError instanceof Error) return responseError\n            if (responseError && typeof (responseError as Error).message === 'string')\n                return new Error((responseError as Error).message)\n            if (responseError && typeof responseError === 'string') return new Error(responseError)\n        }\n\n        if (this.fallback) return new Error(this.fallback)\n        return new Error('Unknown Error.')\n    }\n\n    /**\n     * At least an error exists.\n     */\n    get presence() {\n        return !isNil(this.unknownError) || !isNil(this.response?.error)\n    }\n\n    /**\n     * Preprocess and normalize the error.\n     */\n    get error() {\n        const RecognizableErrorMessage = (() => {\n            const { code, message } = this.internalError as unknown as {\n                code?: number\n                message: string\n            }\n\n            if (message.includes(`\"code\":${JSON_RPC_ERROR_CODE.INTERNAL_ERROR}`))\n                return 'Transaction was failed due to an internal JSON-RPC server error.'\n            if (message.includes('User denied message signature.')) return 'Signature canceled.'\n            if (message.includes('User denied transaction signature.')) return 'Transaction was rejected!'\n            if (message.includes('transaction underpriced')) return 'Transaction underpriced.'\n            if (\n                message.includes('The NFT is bounded to your soul, you cannot transfer it!') ||\n                message.match(/Please go to .* for mint/)\n            ) {\n                return 'This NFT can not be transferred.'\n            }\n            if (\n                typeof code === 'number' &&\n                (code === JSON_RPC_ERROR_CODE.INTERNAL_ERROR ||\n                    (code <= JSON_RPC_ERROR_CODE.SERVER_ERROR_RANGE_START &&\n                        code >= JSON_RPC_ERROR_CODE.SERVER_ERROR_RANGE_END))\n            ) {\n                return 'Transaction was failed due to an internal JSON-RPC server error.'\n            }\n            return undefined\n        })()\n\n        if (RecognizableErrorMessage) {\n            const error = new Error(RecognizableErrorMessage) as RecognizableError\n            error.isRecognized = true\n            return error\n        }\n        return new Error(this.internalError.message)\n    }\n\n    static fromError(error: unknown, fallback?: string) {\n        return new ErrorEditor(error, null, fallback)\n    }\n\n    static from(error: unknown, response?: JsonRpcResponse | null, fallback?: string) {\n        return new ErrorEditor(error, response, fallback)\n    }\n}\n","import type { ChainId } from '../types/index.js'\nimport { getEtherscanConstants } from '../constants/index.js'\n\nexport class EtherscanURL {\n    static from(chainId: ChainId) {\n        const { ETHERSCAN_URL = '' } = getEtherscanConstants(chainId)\n        return ETHERSCAN_URL\n    }\n}\n","import { EthereumMethodType } from '../types/index.js'\n\nexport function isRiskyMethodType(type: EthereumMethodType) {\n    return [\n        EthereumMethodType.ETH_SIGN,\n        EthereumMethodType.PERSONAL_SIGN,\n        EthereumMethodType.ETH_SIGN_TYPED_DATA,\n        EthereumMethodType.ETH_DECRYPT,\n        EthereumMethodType.ETH_GET_ENCRYPTION_PUBLIC_KEY,\n        EthereumMethodType.ETH_SEND_TRANSACTION,\n        EthereumMethodType.ETH_SIGN_TRANSACTION,\n        EthereumMethodType.MASK_REPLACE_TRANSACTION,\n    ].includes(type as EthereumMethodType)\n}\n","import { first, isUndefined, omitBy } from 'lodash-es'\nimport { type AbiItem, hexToNumber, hexToNumberString, toHex } from 'web3-utils'\nimport type { JsonRpcPayload } from 'web3-core-helpers'\nimport type { Wallet, ECKeyIdentifier, Proof, ProofPayload } from '@masknet/shared-base'\nimport CREATE2_FACTORY_ABI from '@masknet/web3-contracts/abis/Create2Factory.json'\nimport { isValidChainId } from '../helpers/isValidChainId.js'\nimport { formatEthereumAddress } from '../helpers/formatter.js'\nimport { parseChainId } from '../helpers/parseChainId.js'\nimport { createJsonRpcPayload } from '../helpers/createJsonRpcPayload.js'\nimport { ZERO_ADDRESS, getSmartPayConstant } from '../constants/index.js'\nimport {\n    type Transaction,\n    type TransactionOptions,\n    type UserOperation,\n    type EIP3085Descriptor,\n    EthereumMethodType,\n} from '../types/index.js'\nimport { abiCoder } from '../helpers/abiCoder.js'\nimport { isReadonlyMethodType } from '../helpers/isReadonlyMethodType.js'\nimport { isRiskyMethodType } from '../helpers/isRiskyMethodType.js'\n\ntype Options = Pick<TransactionOptions, 'account' | 'chainId'>\n\nexport class PayloadEditor {\n    constructor(\n        private payload: JsonRpcPayload,\n        private options?: Options,\n    ) {}\n\n    get pid() {\n        const { id } = this.payload\n        return typeof id === 'string' ? Number.parseInt(id, 10) : id\n    }\n\n    get method() {\n        return this.payload.method\n    }\n\n    get params() {\n        return this.payload.params ?? []\n    }\n\n    get from(): string | undefined {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.ETH_SIGN:\n                return first(params)\n            case EthereumMethodType.PERSONAL_SIGN:\n                return params?.[1]\n            case EthereumMethodType.ETH_SIGN_TYPED_DATA:\n                return first(params)\n            default:\n                const config = this.config\n                return config?.from\n        }\n    }\n\n    get owner() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.MASK_FUND:\n                const [proof] = params as [Proof]\n                const { ownerAddress } = JSON.parse(proof.payload) as ProofPayload\n                return ownerAddress\n            case EthereumMethodType.MASK_DEPLOY:\n                const [owner] = params as [string, ECKeyIdentifier]\n                return owner\n            default:\n                return\n        }\n    }\n\n    get identifier() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.MASK_DEPLOY:\n                const [_, identifier] = params as [string, ECKeyIdentifier]\n                return identifier\n            default:\n                return\n        }\n    }\n\n    get chainId() {\n        return this.config.chainId ?? this.options?.chainId\n    }\n\n    get chainDescriptor() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.WALLET_ADD_ETHEREUM_CHAIN:\n                const [descriptor] = params as [EIP3085Descriptor]\n                return descriptor\n            default:\n                return null\n        }\n    }\n\n    private getRawConfig() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.ETH_CALL:\n            case EthereumMethodType.ETH_ESTIMATE_GAS:\n            case EthereumMethodType.ETH_SIGN_TRANSACTION:\n            case EthereumMethodType.ETH_SEND_TRANSACTION:\n                return (params as [Transaction])[0]\n            case EthereumMethodType.MASK_REPLACE_TRANSACTION:\n                return (params as [string, Transaction])[1]\n            case EthereumMethodType.MASK_DEPLOY: {\n                const chainId = this.options?.chainId\n                if (!isValidChainId(chainId)) throw new Error('Unknown chain id.')\n\n                const [owner] = params as [string]\n\n                // compose a fake transaction to be accepted by Transaction Watcher\n\n                return {\n                    from: owner,\n                    to: getSmartPayConstant(chainId, 'CREATE2_FACTORY_CONTRACT_ADDRESS'),\n                    chainId,\n                    data: abiCoder.encodeFunctionCall(\n                        CREATE2_FACTORY_ABI.find((x) => x.name === 'deploy')! as AbiItem,\n                        ['0x', toHex(0)],\n                    ),\n                }\n            }\n            case EthereumMethodType.MASK_FUND: {\n                const chainId = this.options?.chainId\n                if (!isValidChainId(chainId)) throw new Error('Unknown chain id.')\n\n                const [proof] = params as [Proof]\n                const { ownerAddress, nonce = 0 } = JSON.parse(proof.payload) as ProofPayload\n\n                // compose a fake transaction to be accepted by Transaction Watcher\n                return {\n                    from: ownerAddress,\n                    // it's a not-exist address, use the zero address as a placeholder\n                    to: ZERO_ADDRESS,\n                    chainId,\n                    data: abiCoder.encodeFunctionCall(CREATE2_FACTORY_ABI.find((x) => x.name === 'fund')! as AbiItem, [\n                        ownerAddress,\n                        toHex(nonce),\n                    ]),\n                }\n            }\n            default:\n                return\n        }\n    }\n\n    get config() {\n        const raw = this.getRawConfig()\n\n        return omitBy<Transaction>(\n            {\n                ...raw,\n                nonce: parseHexNumber(raw?.nonce),\n                from: raw?.from ?? this.options?.account,\n                chainId: parseChainId(raw?.chainId) ?? this.options?.chainId,\n            },\n            isUndefined,\n        )\n    }\n\n    get wallet() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.MASK_ADD_WALLET:\n                const [wallet] = params as [Wallet]\n                return wallet\n            default:\n                return\n        }\n    }\n\n    get userOperation() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.ETH_CALL_USER_OPERATION:\n            case EthereumMethodType.ETH_SEND_USER_OPERATION:\n                const [_, userOperation] = params as [string, UserOperation]\n                return userOperation\n            default:\n                return\n        }\n    }\n\n    get proof() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.MASK_FUND:\n                return (params as [Proof])[0]\n            default:\n                return\n        }\n    }\n\n    get signableMessage() {\n        const { method, params } = this.payload\n        switch (method) {\n            case EthereumMethodType.ETH_SIGN:\n                return (params as [string, string])[1]\n            case EthereumMethodType.PERSONAL_SIGN:\n                return (params as [string, string])[0]\n            case EthereumMethodType.ETH_SIGN_TYPED_DATA:\n                return (params as [string, string])[1]\n            default:\n                return\n        }\n    }\n\n    get signableConfig() {\n        if (!this.config) return\n\n        return omitBy(\n            {\n                ...this.config,\n                from: this.config.from ? formatEthereumAddress(this.config.from) : '',\n                value: parseHexNumberString(this.config.value),\n                gas: parseHexNumberString(this.config.gas),\n                gasPrice: parseHexNumberString(this.config.gasPrice),\n                maxFeePerGas: parseHexNumberString(this.config.maxFeePerGas),\n                maxPriorityFeePerGas: parseHexNumberString(this.config.maxPriorityFeePerGas),\n                // TODO: revert to parseHexNumberString after updating MaskCore\n                chainId: parseHexNumber(this.config.chainId),\n                nonce: parseHexNumberString(this.config.nonce),\n            },\n            isUndefined,\n        ) as Transaction\n    }\n\n    get risky() {\n        return isRiskyMethodType(this.payload.method as EthereumMethodType)\n    }\n\n    get readonly() {\n        return isReadonlyMethodType(this.payload.method as EthereumMethodType)\n    }\n\n    fill() {\n        return this.payload\n    }\n\n    static from<T>(id: number, method: EthereumMethodType, params: T[] = [], options?: Options) {\n        return new PayloadEditor(\n            createJsonRpcPayload(id, {\n                method,\n                params,\n            }),\n            options,\n        )\n    }\n\n    static fromMethod<T>(method: EthereumMethodType, params: T[] = [], options?: Options) {\n        return PayloadEditor.from(0, method, params, options)\n    }\n\n    static fromPayload(payload: JsonRpcPayload, options?: Options) {\n        return new PayloadEditor(payload, options)\n    }\n}\n\nfunction parseHexNumberString(hex: string | number | undefined) {\n    return typeof hex !== 'undefined' ? hexToNumberString(hex ?? '0x0') : undefined\n}\n\nfunction parseHexNumber(hex: string | number | undefined) {\n    return typeof hex !== 'undefined' ? (hexToNumber(hex) as number) : undefined\n}\n","import { getABTestSeed } from '@masknet/web3-telemetry/helpers'\nimport { getRPCConstants } from '../constants/constants.js'\nimport type { ChainId } from '../types/index.js'\n\nexport class ProviderURL {\n    static from(chainId: ChainId) {\n        const { RPC_URLS, RPC_WEIGHTS } = getRPCConstants(chainId)\n\n        if (!RPC_URLS || !RPC_WEIGHTS) throw new Error(`No RPC presets at chainId: ${chainId}.`)\n        return RPC_URLS[RPC_WEIGHTS[getABTestSeed() % RPC_URLS.length]]\n    }\n\n    static fromOfficial(chainId: ChainId) {\n        const { RPC_URLS_OFFICIAL } = getRPCConstants(chainId)\n        if (!RPC_URLS_OFFICIAL?.length) throw new Error(`No RPC presets at chainId: ${chainId}.`)\n        return RPC_URLS_OFFICIAL[0]\n    }\n}\n","import { SignType } from '@masknet/shared-base'\nimport type { Transaction } from '@masknet/web3-shared-evm'\n\nexport class Signer<T> {\n    constructor(\n        private identifier: T,\n        private sign: (type: SignType, message: string | Transaction, identifier: T) => Promise<string>,\n    ) {}\n\n    signMessage(message: string): Promise<string> {\n        return this.sign(SignType.Message, message, this.identifier)\n    }\n\n    signTypedData(data: string): Promise<string> {\n        return this.sign(SignType.TypedData, data, this.identifier)\n    }\n\n    signTransaction(transaction: Transaction): Promise<string> {\n        return this.sign(SignType.Transaction, transaction, this.identifier)\n    }\n}\n","import Web3Eth, { type Eth } from 'web3-eth'\nimport type { provider as Provider } from 'web3-core'\n\n/**\n * A Web3 class that is much simpler than the original web3js one.\n */\nexport class Web3 {\n    public eth: Eth = null!\n\n    constructor(provider?: Provider) {\n        const Eth_ = Web3Eth as unknown as typeof Eth\n        this.eth = provider ? new Eth_(provider) : new Eth_()\n    }\n\n    public setProvider(provider: Provider) {\n        this.eth.setProvider(provider)\n    }\n}\n","import { getEnumAsArray } from '@masknet/kit'\nimport Auth from '@masknet/web3-constants/flow/auth.json'\nimport Chain from '@masknet/web3-constants/flow/chain.json'\nimport Token from '@masknet/web3-constants/flow/token.json'\nimport { transform, transformAll, transformAllHook, transformHook } from '@masknet/web3-shared-base'\nimport { ChainId } from '../types.js'\n\nexport const ChainIdList = getEnumAsArray(ChainId).map((x) => x.value)\n\nexport const getAuthConstants = transformAll(ChainId, Auth)\nexport const getAuthConstant = transform(ChainId, Auth)\nexport const useAuthConstants = transformAllHook(getAuthConstants)\nexport const useAuthConstant = transformHook(getAuthConstants)\n\nexport const getChainConstants = transformAll(ChainId, Chain)\nexport const getChainConstant = transform(ChainId, Chain)\nexport const useChainConstants = transformAllHook(getChainConstants)\nexport const useChainConstant = transformHook(getChainConstants)\n\nexport const getTokenConstants = transformAll(ChainId, Token)\nexport const getTokenConstant = transform(ChainId, Token)\nexport const useTokenConstants = transformAllHook(getTokenConstants)\nexport const useTokenConstant = transformHook(getTokenConstants)\n","import { EnhanceableSiteList, ExtensionSiteList, NetworkPluginID } from '@masknet/shared-base'\nimport {\n    type ChainDescriptor,\n    createFungibleToken,\n    type NetworkDescriptor,\n    type ProviderDescriptor,\n} from '@masknet/web3-shared-base'\nimport { ChainId, NetworkType, ProviderType, SchemaType } from '../types.js'\nimport { ChainIdList } from './constants.js'\n\nconst PLUGIN_ID = NetworkPluginID.PLUGIN_FLOW\n\nexport const CHAIN_DESCRIPTORS: ReadonlyArray<ChainDescriptor<ChainId, SchemaType, NetworkType>> = [\n    {\n        ID: `${ChainId.Mainnet}_Flow`,\n        type: NetworkType.Flow,\n        chainId: ChainId.Mainnet,\n        coinMarketCapChainId: '',\n        coinGeckoChainId: '',\n        coinGeckoPlatformId: '',\n        name: 'Flow',\n        color: '#16ff99',\n        fullName: 'Flow',\n        shortName: 'Flow',\n        network: 'mainnet',\n        nativeCurrency: createFungibleToken(\n            ChainId.Mainnet,\n            SchemaType.Fungible,\n            '0x1654653399040a61',\n            'Flow',\n            'FLOW',\n            8,\n            'https://static.flowscan.org/mainnet/icons/A.1654653399040a61.FlowToken.png',\n        ),\n        explorerUrl: {\n            url: 'https://flowscan.org/',\n        },\n        rpcUrl: '',\n        isCustomized: false,\n    },\n    {\n        ID: `${ChainId.Testnet}_Flow`,\n        type: NetworkType.Flow,\n        chainId: ChainId.Testnet,\n        coinMarketCapChainId: '',\n        coinGeckoChainId: '',\n        coinGeckoPlatformId: '',\n        name: 'Flow',\n        color: '#16ff99',\n        fullName: 'Flow',\n        shortName: 'Flow',\n        network: 'testnet',\n        nativeCurrency: createFungibleToken(\n            ChainId.Mainnet,\n            SchemaType.Fungible,\n            '0x7e60df042a9c0868',\n            'Flow',\n            'FLOW',\n            8,\n            'https://static.flowscan.org/mainnet/icons/A.1654653399040a61.FlowToken.png',\n        ),\n        explorerUrl: {\n            url: 'https://testnet.flowscan.org/',\n        },\n        rpcUrl: '',\n        isCustomized: false,\n    },\n]\n\nexport const NETWORK_DESCRIPTORS: ReadonlyArray<NetworkDescriptor<ChainId, NetworkType>> = [\n    {\n        ID: `${PLUGIN_ID}_flow`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Mainnet,\n        type: NetworkType.Flow,\n        name: 'Flow',\n        icon: new URL('../assets/flow.png', import.meta.url).href,\n        iconColor: 'rgb(54, 173, 104)',\n        averageBlockDelay: 15,\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_flow_testnet`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Testnet,\n        type: NetworkType.Flow,\n        name: 'Flow Testnet',\n        icon: new URL('../assets/flow.png', import.meta.url).href,\n        iconColor: 'rgb(54, 173, 104)',\n        averageBlockDelay: 15,\n        isMainnet: false,\n    },\n]\nexport const PROVIDER_DESCRIPTORS: ReadonlyArray<ProviderDescriptor<ChainId, ProviderType>> = [\n    {\n        ID: `${PLUGIN_ID}_blocto`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Blocto,\n        name: 'Blocto',\n        icon: new URL('../assets/blocto.png', import.meta.url).href,\n        iconFilterColor: 'rgba(52, 133, 196, 0.2)',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(52, 133, 196, 0.2) 0%, rgba(0, 239, 139, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n        homeLink: 'https://portto.com/',\n        shortenLink: 'portto.com',\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: EnhanceableSiteList,\n            supportedExtensionSites: ExtensionSiteList,\n        },\n    },\n]\n","export const ZERO_ADDRESS = '0x0000000000000000'\n","import { getEnumAsArray } from '@masknet/kit'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { getTokenConstant } from '../constants/constants.js'\nimport { ZERO_ADDRESS } from '../constants/primitives.js'\nimport { ChainId, NetworkType, ProviderType } from '../types.js'\n\nexport function formatAddress(address: string, size = 0) {\n    const format = (partial: string) => {\n        if (size === 0 || size >= 8) return partial\n        return `${partial.slice(0, Math.max(0, 2 + size))}...${partial.slice(-size)}`\n    }\n    if (isValidAccountAddress(address)) return format(address)\n    if (isValidContractAddress(address)) return format(`0x${address.split(/\\./g)[1]}`)\n    return address\n}\n\nexport function formatTokenId(id: string) {\n    return `#${id}`\n}\n\nexport function isValidAccountAddress(address: string) {\n    return /0x\\w{16}/.test(address)\n}\n\nexport function isValidContractAddress(address: string) {\n    return /A\\.\\w{16}\\.\\w+/.test(address)\n}\n\nexport function isValidAddress(address?: string): address is string {\n    if (!address) return false\n    return isValidAccountAddress(address) || isValidContractAddress(address)\n}\n\nexport function isValidChainId(chainId?: ChainId) {\n    return getEnumAsArray(ChainId).some((x) => x.value === chainId)\n}\n\nexport function getNetworkPluginID() {\n    return NetworkPluginID.PLUGIN_FLOW\n}\n\nexport function getDefaultChainId() {\n    return ChainId.Mainnet\n}\n\nexport function getInvalidChainId() {\n    return ChainId.Invalid\n}\n\nexport function getDefaultNetworkType() {\n    return NetworkType.Flow\n}\n\nexport function getDefaultProviderType() {\n    return ProviderType.None\n}\n\nexport function getZeroAddress() {\n    return ZERO_ADDRESS\n}\n\nexport function getContractAddress(address: string) {\n    if (isValidContractAddress(address)) {\n        const [_, contractAddress, ...identifierFragments] = address.split(/\\./g)\n        return {\n            address: `0x${contractAddress}`,\n            identifier: identifierFragments.join('.'),\n        }\n    }\n    return\n}\n\nexport function getNativeTokenAddress(chainId = ChainId.Mainnet) {\n    return getTokenConstant(chainId, 'FLOW_ADDRESS')\n}\n\nexport function getMaskTokenAddress(chainId = ChainId.Mainnet) {\n    return ''\n}\n\nexport function isZeroAddress(address?: string) {\n    return isSameAddress(address, ZERO_ADDRESS)\n}\n\nexport function isNativeTokenAddress(address?: string) {\n    const set = new Set(getEnumAsArray(ChainId).map((x) => getTokenConstant(x.value, 'FLOW_ADDRESS')))\n    return !!(address && set.has(address))\n}\n","import { createLookupTableResolver } from '@masknet/shared-base'\nimport { SchemaType } from '../types.js'\n\nexport function formatDomainName(domain?: string, size?: number) {\n    return domain ?? ''\n}\n\nexport const formatSchemaType = createLookupTableResolver<SchemaType, string>(\n    {\n        [SchemaType.Fungible]: 'Fungible',\n        [SchemaType.NonFungible]: 'NonFungible',\n    },\n    '',\n)\n\nexport function isValidDomain(domain?: string) {\n    return false\n}\n","import {\n    createFungibleToken as createFungibleTokenShared,\n    CurrencyType,\n    type FungibleAsset,\n    type FungibleToken,\n    leftShift,\n    multipliedBy,\n} from '@masknet/web3-shared-base'\nimport { type ChainId, SchemaType } from '../types.js'\n\nexport function createFungibleToken(\n    chainId: ChainId,\n    address: string,\n    name: string,\n    symbol: string,\n    decimals: number,\n    logoURL?: string,\n): FungibleToken<ChainId, SchemaType> {\n    return createFungibleTokenShared<ChainId, SchemaType.Fungible>(\n        chainId,\n        SchemaType.Fungible,\n        address,\n        name,\n        symbol,\n        decimals,\n        logoURL,\n    )\n}\n\nexport function createFungibleAsset(\n    token: FungibleToken<ChainId, SchemaType>,\n    balance: string,\n    price?: {\n        [key in CurrencyType]?: string\n    },\n): FungibleAsset<ChainId, SchemaType> {\n    return {\n        ...token,\n        balance: leftShift(balance, 8).toFixed(),\n        price,\n        value: {\n            [CurrencyType.USD]: multipliedBy(price?.usd ?? 0, leftShift(balance, 8)).toFixed(),\n        },\n    }\n}\n\nexport function isNativeTokenSchemaType(schemaType?: SchemaType) {\n    // there is no native token schema on flow network\n    return false\n}\n\nexport function isFungibleTokenSchemaType(schemaType?: SchemaType) {\n    return schemaType === SchemaType.Fungible\n}\n\nexport function isNonFungibleTokenSchemaType(schemaType?: SchemaType) {\n    return schemaType === SchemaType.NonFungible\n}\n","import * as fcl from /* webpackDefer: true */ '@blocto/fcl'\nimport type { ChainId } from '../types.js'\nimport { getAuthConstants } from '../constants/constants.js'\n\nexport function createClient(chainId: ChainId) {\n    const authConstants = getAuthConstants(chainId)\n\n    fcl.config({\n        'flow.network': 'mainnet',\n        'accessNode.api': authConstants.ACCESS_NODE_API!,\n        'discovery.wallet': authConstants.DISCOVERY_WALLET!,\n        'app.detail.title': authConstants.MASK_APP_TITLE,\n        'app.detail.icon': authConstants.MASK_APP_ICON,\n    })\n    return fcl\n}\n","/// <reference path=\"./blocto-fcl.d.ts\" />\n/// <reference types=\"@masknet/global-types/webpack\" />\n\nimport type { MutateOptions, BlockObject, TransactionObject, QueryOptions, BlockHeaderObject } from '@blocto/fcl'\nimport type { Web3State as Web3StateShared } from '@masknet/web3-shared-base'\n\nexport enum ChainId {\n    // For any chains not supported yet.\n    Invalid = 0,\n    Mainnet = 1,\n    Testnet = 2,\n}\n\nexport enum AddressType {\n    Default = 1,\n}\n\nexport enum SchemaType {\n    Fungible = 1,\n    NonFungible = 2,\n}\n\nexport enum NetworkType {\n    Flow = 'Flow',\n}\n\nexport enum ProviderType {\n    None = 'None',\n    Blocto = 'Blocto',\n    Dapper = 'Dapper',\n    Ledger = 'Ledger',\n}\n\nexport enum AssetProviderType {\n    Default = 'Default',\n}\n\nexport enum TransactionStatusCode {\n    UNKNOWN = 0,\n    /** Transaction Pending - Awaiting Finalization */\n    PENDING = 1,\n    /** Transaction Finalized - Awaiting Execution */\n    FINALIZED = 2,\n    /** Transaction Executed - Awaiting Sealing */\n    EXECUTED = 3,\n    /** Transaction Sealed - Transaction Complete. At this point the transaction * result has been committed to the blockchain. */\n    SEALED = 4,\n    /** Transaction Expired */\n    EXPIRED = 5,\n}\n\nexport type Web3 = typeof import('@blocto/fcl')\nexport type Web3Provider = {}\nexport type Signature = string\nexport type GasOption = never\nexport type Block = BlockObject\nexport type BlockHeader = BlockHeaderObject\nexport type MessageRequest = never\nexport type MessageResponse = never\nexport type Operation = never\nexport type Transaction = MutateOptions\nexport type TransactionQuery = QueryOptions\nexport type TransactionReceipt = never\nexport type TransactionDetailed = TransactionObject\nexport type TransactionSignature = never\nexport type TransactionParameter = string\n\nexport type Web3State = Web3StateShared<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n>\n\nexport type Web3Definition = {\n    ChainId: ChainId\n    AddressType: AddressType\n    SchemaType: SchemaType\n    ProviderType: ProviderType\n    NetworkType: NetworkType\n    Signature: Signature\n    GasOption: GasOption\n    Block: Block\n    MessageRequest: MessageRequest\n    MessageResponse: MessageResponse\n    Operation: Operation\n    Transaction: Transaction\n    TransactionReceipt: TransactionReceipt\n    TransactionDetailed: TransactionDetailed\n    TransactionSignature: TransactionSignature\n    TransactionParameter: TransactionParameter\n    UserOperation: Operation\n    Web3: Web3\n    Web3Provider: Web3Provider\n    Web3State: Web3State\n}\n","import { getEnumAsArray } from '@masknet/kit'\nimport Chain from '@masknet/web3-constants/solana/chain.json'\nimport CoinGecko from '@masknet/web3-constants/solana/coingecko.json'\nimport TokenList from '@masknet/web3-constants/solana/token-list.json'\nimport Token from '@masknet/web3-constants/solana/token.json'\nimport { transform, transformAll, transformAllHook, transformHook } from '@masknet/web3-shared-base'\nimport { ChainId } from '../types.js'\n\nexport const ChainIdList = getEnumAsArray(ChainId).map((x) => x.value)\n\nexport const getTokenConstant = transform(ChainId, Token)\nexport const getTokenConstants = transformAll(ChainId, Token)\nexport const useTokenConstants = transformAllHook(getTokenConstants)\nexport const useTokenConstant = transformHook(getTokenConstants)\n\nexport const getTokenListConstant = transform(ChainId, TokenList)\nexport const getTokenListConstants = transformAll(ChainId, TokenList)\n\nexport const getChainConstant = transform(ChainId, Chain)\nexport const getChainConstants = transformAll(ChainId, Chain)\nexport const useChainConstants = transformAllHook(getChainConstants)\nexport const useChainConstant = transformHook(getChainConstants)\n\nexport const getCoinGeckoConstant = transform(ChainId, CoinGecko)\nexport const getCoinGeckoConstants = transformAll(ChainId, CoinGecko)\nexport const useCoinGeckoConstants = transformAllHook(getCoinGeckoConstants)\nexport const useCoinGeckoConstant = transformHook(getCoinGeckoConstants)\n","import { EnhanceableSiteList, ExtensionSiteList, NetworkPluginID } from '@masknet/shared-base'\nimport {\n    type ChainDescriptor,\n    createFungibleToken,\n    type NetworkDescriptor,\n    type ProviderDescriptor,\n} from '@masknet/web3-shared-base'\nimport { ChainId, NetworkType, ProviderType, SchemaType } from '../types.js'\nimport { ChainIdList, getTokenConstant } from './constants.js'\n\nconst PLUGIN_ID = NetworkPluginID.PLUGIN_SOLANA\n\nexport const CHAIN_DESCRIPTORS: ReadonlyArray<ChainDescriptor<ChainId, SchemaType, NetworkType>> = [\n    {\n        ID: `${ChainId.Mainnet}_Solana`,\n        type: NetworkType.Solana,\n        chainId: ChainId.Mainnet,\n        coinMarketCapChainId: '',\n        coinGeckoChainId: '',\n        coinGeckoPlatformId: '',\n        name: 'Solana',\n        color: '#17ac7c',\n        fullName: 'Solana',\n        shortName: 'Solana',\n        network: 'mainnet',\n        nativeCurrency: createFungibleToken(\n            ChainId.Mainnet,\n            SchemaType.Fungible,\n            getTokenConstant(ChainId.Mainnet, 'SOL_ADDRESS', ''),\n            'Solana',\n            'SOL',\n            9,\n            'https://assets.coingecko.com/coins/images/4128/small/solana.png',\n        ),\n        explorerUrl: {\n            url: 'https://explorer.solana.com/',\n        },\n        rpcUrl: '',\n        iconUrl: new URL('../assets/solana.png', import.meta.url).href,\n        isCustomized: false,\n    },\n    {\n        ID: `${ChainId.Devnet}_Solana`,\n        type: NetworkType.Solana,\n        chainId: ChainId.Devnet,\n        coinMarketCapChainId: '',\n        coinGeckoChainId: '',\n        coinGeckoPlatformId: '',\n        name: 'Solana',\n        color: '#17ac7c',\n        fullName: 'Solana',\n        shortName: 'Solana',\n        network: 'devnet',\n        nativeCurrency: createFungibleToken(\n            ChainId.Devnet,\n            SchemaType.Fungible,\n            getTokenConstant(ChainId.Devnet, 'SOL_ADDRESS', ''),\n            'Solana',\n            'SOL',\n            9,\n            'https://assets.coingecko.com/coins/images/4128/small/solana.png',\n        ),\n        explorerUrl: {\n            url: 'https://explorer.solana.com/',\n            parameters: {\n                cluster: 'devnet',\n            },\n        },\n        rpcUrl: '',\n        iconUrl: new URL('../assets/solana.png', import.meta.url).href,\n        isCustomized: false,\n    },\n    {\n        ID: `${ChainId.Testnet}_Solana`,\n        type: NetworkType.Solana,\n        chainId: ChainId.Testnet,\n        coinMarketCapChainId: '',\n        coinGeckoChainId: '',\n        coinGeckoPlatformId: '',\n        name: 'Solana',\n        color: '#17ac7c',\n        fullName: 'Solana',\n        shortName: 'Solana',\n        network: 'testnet',\n        nativeCurrency: createFungibleToken(\n            ChainId.Testnet,\n            SchemaType.Fungible,\n            getTokenConstant(ChainId.Testnet, 'SOL_ADDRESS', ''),\n            'Solana',\n            'SOL',\n            9,\n            'https://assets.coingecko.com/coins/images/4128/small/solana.png',\n        ),\n        explorerUrl: {\n            url: 'https://explorer.solana.com/',\n            parameters: {\n                cluster: 'testnet',\n            },\n        },\n        rpcUrl: '',\n        iconUrl: new URL('../assets/solana.png', import.meta.url).href,\n        isCustomized: false,\n    },\n]\n\nexport const NETWORK_DESCRIPTORS: ReadonlyArray<NetworkDescriptor<ChainId, NetworkType>> = [\n    {\n        ID: `${PLUGIN_ID}_solana`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Mainnet,\n        type: NetworkType.Solana,\n        name: 'Solana',\n        icon: new URL('../assets/solana.png', import.meta.url).href,\n        iconColor: '#5d6fc0',\n        averageBlockDelay: 15,\n        isMainnet: true,\n    },\n    {\n        ID: `${PLUGIN_ID}_solana_testnet`,\n        networkSupporterPluginID: PLUGIN_ID,\n        chainId: ChainId.Testnet,\n        type: NetworkType.Solana,\n        name: 'Solana Testnet',\n        icon: new URL('../assets/solana.png', import.meta.url).href,\n        iconColor: '#5d6fc0',\n        averageBlockDelay: 15,\n        isMainnet: false,\n    },\n]\nexport const PROVIDER_DESCRIPTORS: ReadonlyArray<ProviderDescriptor<ChainId, ProviderType>> = [\n    {\n        ID: `${PLUGIN_ID}_phantom`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Phantom,\n        name: 'Phantom',\n        icon: new URL('../assets/phantom.png', import.meta.url).href,\n        homeLink: 'https://phantom.app/',\n        shortenLink: 'phantom.app',\n        downloadLink: 'https://phantom.app/download',\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: EnhanceableSiteList,\n            supportedExtensionSites: [],\n        },\n        iconFilterColor: 'rgba(85, 27, 249, 0.2)',\n        backgroundGradient:\n            'linear-gradient(90deg, rgba(84, 63, 196, 0.2) 0%, rgba(98, 126, 234, 0.2) 100%), linear-gradient(0deg, #FFFFFF, #FFFFFF)',\n    },\n    {\n        ID: `${PLUGIN_ID}_solflare`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Solflare,\n        name: 'Solflare',\n        icon: new URL('../assets/solflare.png', import.meta.url).href,\n        homeLink: 'https://solflare.com/',\n        shortenLink: 'solflare.com',\n        downloadLink: 'https://solflare.com/download',\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: [],\n            supportedExtensionSites: [],\n        },\n    },\n    {\n        ID: `${PLUGIN_ID}_coin98`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Coin98,\n        name: 'Coin98',\n        icon: new URL('../assets/coin98.png', import.meta.url).href,\n        homeLink: 'https://coin98.com/',\n        shortenLink: 'solflare.com',\n        downloadLink: 'https://coin98.com/wallet',\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: [],\n            supportedExtensionSites: [],\n        },\n    },\n    {\n        ID: `${PLUGIN_ID}_sollet`,\n        providerAdaptorPluginID: PLUGIN_ID,\n        type: ProviderType.Sollet,\n        name: 'Sollet',\n        icon: new URL('../assets/sollet.png', import.meta.url).href,\n        homeLink: 'https://www.sollet.io/',\n        shortenLink: 'sollet.io',\n        downloadLink: 'https://www.sollet.io/',\n        enableRequirements: {\n            supportedChainIds: ChainIdList,\n            supportedEnhanceableSites: [],\n            supportedExtensionSites: ExtensionSiteList,\n        },\n    },\n]\n","export const ZERO_ADDRESS = ''\n","export function isTronAddress(address: string): boolean {\n    return /^T[1-9A-HJ-NP-Za-km-z]{32,42}$|^T9[1-9A-HJ-NP-Za-km-z]{32,41}$/.test(address)\n}\n","import bs58 from 'bs58'\nimport { memoize } from 'lodash-es'\nimport * as Web3 from '@solana/web3.js'\nimport { getEnumAsArray } from '@masknet/kit'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { NetworkPluginID, createLookupTableResolver } from '@masknet/shared-base'\nimport { ChainId, NetworkType, ProviderType, SchemaType } from '../types.js'\nimport { getTokenConstant } from '../constants/constants.js'\nimport { ZERO_ADDRESS } from '../constants/primitives.js'\nimport { isTronAddress } from './isTronAddress.js'\n\nexport function encodePublicKey(key: Web3.PublicKey) {\n    return key.toBase58()\n}\n\nexport function decodeAddress(initData: string | Buffer | Uint8Array) {\n    const data = typeof initData === 'string' ? bs58.decode(initData) : initData\n    if (!Web3.PublicKey.isOnCurve(data)) throw new Error(`Failed to create public key from ${bs58.encode(data)}.`)\n    return new Web3.PublicKey(data)\n}\n\nexport function formatAddress(address: string, size = 0) {\n    if (!isValidAddress(address, false)) return address\n    if (size === 0 || size >= 22) return address\n    return `${address.slice(0, Math.max(0, size))}...${address.slice(-size)}`\n}\n\nexport const formatSchemaType = createLookupTableResolver<SchemaType, string>(\n    {\n        [SchemaType.Native]: 'Native',\n        [SchemaType.Fungible]: 'Fungible',\n        [SchemaType.NonFungible]: 'NonFungible',\n    },\n    '',\n)\n\nexport function formatTokenId(tokenId = '', size_ = 4) {\n    const size = Math.max(2, size_)\n    if (tokenId.length < size * 2) return `#${tokenId}`\n    const head = tokenId.slice(0, size)\n    const tail = tokenId.slice(-size)\n    return `#${head}...${tail}`\n}\n\nexport function isValidAddress(address?: string, strict?: boolean): address is string {\n    const length = address?.length\n    if (!length || length < 32 || length > 44) return false\n    try {\n        const buffer = bs58.decode(address)\n        return strict === false ? true : Web3.PublicKey.isOnCurve(buffer) && !isTronAddress(address)\n    } catch {\n        return false\n    }\n}\n\nexport const isValidChainId: (chainId?: ChainId) => boolean = memoize((chainId?: ChainId): chainId is ChainId => {\n    return getEnumAsArray(ChainId).some((x) => x.value === chainId)\n})\n\nexport function isZeroAddress(address?: string) {\n    return isSameAddress(address, ZERO_ADDRESS)\n}\n\nconst nativeTokenSet = new Set(getEnumAsArray(ChainId).map((x) => getTokenConstant(x.value, 'SOL_ADDRESS')))\n\nexport function isNativeTokenAddress(address?: string) {\n    return !!(address && nativeTokenSet.has(address))\n}\n\nexport function getNetworkPluginID() {\n    return NetworkPluginID.PLUGIN_SOLANA\n}\n\nexport function getDefaultChainId() {\n    return ChainId.Mainnet\n}\n\nexport function getInvalidChainId() {\n    return ChainId.Invalid\n}\n\nexport function getDefaultNetworkType() {\n    return NetworkType.Solana\n}\n\nexport function getDefaultProviderType() {\n    return ProviderType.None\n}\n\nexport function getZeroAddress() {\n    return ZERO_ADDRESS\n}\n\nexport function getMaskTokenAddress(chainId = ChainId.Mainnet) {\n    return ''\n}\n\nexport function getNativeTokenAddress(chainId = ChainId.Mainnet) {\n    return getTokenConstant(chainId, 'SOL_ADDRESS') ?? ''\n}\n","export function isValidDomain(domain?: string) {\n    return /.+\\.sol/i.test(domain ?? '')\n}\n","import { Connection } from '@solana/web3.js'\nimport { ChainId } from '../types.js'\n\nconst Endpoints: Record<ChainId, string> = {\n    [ChainId.Mainnet]: 'https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ',\n    [ChainId.Testnet]: 'https://api.testnet.solana.com',\n    [ChainId.Devnet]: 'https://api.devnet.solana.com',\n    [ChainId.Invalid]: '',\n}\n\nexport function createClientEndpoint(chainId = ChainId.Mainnet) {\n    return Endpoints[chainId]\n}\n\nexport function createClient(chainId = ChainId.Mainnet) {\n    return new Connection(createClientEndpoint(chainId))\n}\n","import type { PublicKey, BlockResponse, Transaction as SolanaTransaction, TransactionResponse } from '@solana/web3.js'\nimport type { Web3State as Web3StateShared } from '@masknet/web3-shared-base'\n\nexport enum ChainId {\n    Mainnet = 101,\n    Testnet = 102,\n    Devnet = 103,\n    // For any chains not supported yet.\n    Invalid = 0,\n}\n\nexport enum AddressType {\n    Default = 1,\n    Program = 2,\n}\n\nexport enum SchemaType {\n    Native = 1,\n    Fungible = 2,\n    NonFungible = 3,\n}\n\nexport enum NetworkType {\n    Solana = 'Solana',\n}\n\nexport enum ProviderType {\n    None = 'None',\n    Phantom = 'Phantom',\n    Solflare = 'Solflare',\n    Sollet = 'Sollet',\n    Coin98 = 'Coin98',\n}\n\n// Learn more at https://docs.phantom.app/integrating/extension-and-mobile-browser/detecting-the-provider\nexport enum PhantomMethodType {\n    CONNECT = 'connect',\n    SIGN_MESSAGE = 'signMessage',\n    SIGN_TRANSACTION = 'signTransaction',\n    SIGN_TRANSACTIONS = 'signAllTransactions',\n    SIGN_AND_SEND_TRANSACTION = 'signAndSendTransaction',\n}\n\n// Learn more at https://docs.coin98.com/developer-guide/solana-dapps-integration\nexport enum Coin98MethodType {\n    SOL_ACCOUNTS = 'sol_accounts',\n    SOL_REQUEST_ACCOUNTS = 'sol_requestAccounts',\n    HAS_WALLET = 'has_wallet',\n    SOL_SIGN = 'sol_sign',\n    SOL_VERIFY = 'sol_verify',\n}\n\nexport interface Payload {\n    method: string\n    params?: unknown\n}\n\nexport type Web3 = typeof import('@solana/web3.js')\nexport type Web3Provider = {\n    publicKey: PublicKey\n    on(name: string, callback: () => void): void\n    request(payload: Payload): Promise<unknown>\n    connect(): Promise<{\n        publicKey: string\n    }>\n    disconnect(): Promise<void>\n}\nexport type Signature = string\nexport type GasOption = never\nexport type Block = BlockResponse\nexport type MessageRequest = never\nexport type MessageResponse = never\nexport type Operation = never\nexport type Transaction = SolanaTransaction\nexport type TransactionReceipt = never\nexport type TransactionDetailed = TransactionResponse\nexport type TransactionSignature = SolanaTransaction\nexport type TransactionParameter = string\n\nexport type Web3State = Web3StateShared<\n    ChainId,\n    SchemaType,\n    ProviderType,\n    NetworkType,\n    MessageRequest,\n    MessageResponse,\n    Transaction,\n    TransactionParameter\n>\n\nexport type Web3Definition = {\n    ChainId: ChainId\n    AddressType: AddressType\n    SchemaType: SchemaType\n    ProviderType: ProviderType\n    NetworkType: NetworkType\n    Signature: Signature\n    GasOption: GasOption\n    Block: Block\n    MessageRequest: MessageRequest\n    MessageResponse: MessageResponse\n    Operation: Operation\n    Transaction: Transaction\n    TransactionReceipt: TransactionReceipt\n    TransactionDetailed: TransactionDetailed\n    TransactionSignature: TransactionSignature\n    TransactionParameter: TransactionParameter\n    UserOperation: Operation\n    Web3: Web3\n    Web3Provider: Web3Provider\n    Web3State: Web3State\n}\n","import { TelemetryID } from '@masknet/shared-base'\n\n/**\n * Return a seed (0~maximum) based on the TelemetryID.\n * @param maximum The maximum seed expected (default 2 ** 32, which is 0~4294967296)\n */\n\nexport function getABTestSeed(maximum = 2 ** 32): number {\n    const number = Number.parseInt(TelemetryID.value.slice(0, 16), 16)\n    if (Number.isNaN(number)) return 0\n    return number % maximum\n}\n","import { getABTestSeed } from './getABTestSeed.js'\n\n/**\n * Returns true if the install joins the a/b test.\n * @param percent 0 - 100\n */\n\nexport function joinsABTest(percent = 50): boolean {\n    if (percent === 0) return false\n    if (percent === 100) return true\n    if (percent < 0 || percent > 100) throw new RangeError()\n    return getABTestSeed(100) <= percent\n}\n","import { addExtensionMethods as addExtensionMethods$1, BrowserTracing as BrowserTracing$1, getActiveTransaction as getActiveTransaction$1, extractTraceparentData as extractTraceparentData$1, spanStatusfromHttpCode as spanStatusfromHttpCode$1, Transaction as Transaction$1, Span as Span$1, BROWSER_TRACING_INTEGRATION_ID as BROWSER_TRACING_INTEGRATION_ID$1, defaultRequestInstrumentationOptions as defaultRequestInstrumentationOptions$1, hasTracingEnabled as hasTracingEnabled$1, stripUrlQueryAndFragment as stripUrlQueryAndFragment$1, TRACEPARENT_REGEXP as TRACEPARENT_REGEXP$1, IdleTransaction as IdleTransaction$1, instrumentOutgoingRequests as instrumentOutgoingRequests$1, startIdleTransaction as startIdleTransaction$1, SpanStatus as SpanStatus$1, Apollo, Express, GraphQL, Mongo, Mysql, Postgres, Prisma } from '@sentry-internal/tracing';\n\n// BrowserTracing is already exported as part of `Integrations` below (and for the moment will remain so for\n// backwards compatibility), but that interferes with treeshaking, so we also export it separately\n// here.\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n * `BrowserTracing` can be imported from `@sentry/browser` or your framework SDK\n *\n * import { BrowserTracing } from '@sentry/browser';\n * new BrowserTracing()\n */\nconst BrowserTracing = BrowserTracing$1;\n\n// BrowserTracing is already exported as part of `Integrations` below (and for the moment will remain so for\n// backwards compatibility), but that interferes with treeshaking, so we also export it separately\n// here.\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n * `BrowserTracing` can be imported from `@sentry/browser` or your framework SDK\n *\n * import { BrowserTracing } from '@sentry/browser';\n * new BrowserTracing()\n */\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\nconst addExtensionMethods = addExtensionMethods$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `getActiveTransaction` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\nconst getActiveTransaction = getActiveTransaction$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `extractTraceparentData` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\nconst extractTraceparentData = extractTraceparentData$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `spanStatusfromHttpCode` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\nconst spanStatusfromHttpCode = spanStatusfromHttpCode$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `SpanStatusType` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `Transaction` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\nconst Transaction = Transaction$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `Transaction` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `Span` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\nconst Span = Span$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `Span` can be imported from `@sentry/node`, `@sentry/browser`, or your framework SDK\n */\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\nconst BROWSER_TRACING_INTEGRATION_ID = BROWSER_TRACING_INTEGRATION_ID$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `defaultRequestInstrumentationOptions` can be imported from `@sentry/browser`, or your framework SDK\n */\nconst defaultRequestInstrumentationOptions = defaultRequestInstrumentationOptions$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `hasTracingEnabled` can be imported from `@sentry/utils`\n */\nconst hasTracingEnabled = hasTracingEnabled$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `stripUrlQueryAndFragment` can be imported from `@sentry/utils`\n */\nconst stripUrlQueryAndFragment = stripUrlQueryAndFragment$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n *\n * `TRACEPARENT_REGEXP` can be imported from `@sentry/utils`\n */\nconst TRACEPARENT_REGEXP = TRACEPARENT_REGEXP$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\nconst IdleTransaction = IdleTransaction$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\nconst instrumentOutgoingRequests = instrumentOutgoingRequests$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\nconst startIdleTransaction = startIdleTransaction$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\n// eslint-disable-next-line deprecation/deprecation\nconst SpanStatus = SpanStatus$1;\n\n/**\n * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n */\n// eslint-disable-next-line deprecation/deprecation\n\nconst Integrations = {\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `BrowserTracing` can be imported from `@sentry/browser` or your framework SDK\n   *\n   * import { BrowserTracing } from '@sentry/browser';\n   * new BrowserTracing()\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  BrowserTracing: BrowserTracing,\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `Apollo` can be imported from `@sentry/node`\n   *\n   * import { Integrations } from '@sentry/node';\n   * new Integrations.Apollo({ ... })\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  Apollo: Apollo,\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `Express` can be imported from `@sentry/node`\n   *\n   * import { Integrations } from '@sentry/node';\n   * new Integrations.Express({ ... })\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  Express: Express,\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `GraphQL` can be imported from `@sentry/node`\n   *\n   * import { Integrations } from '@sentry/node';\n   * new Integrations.GraphQL({ ... })\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  GraphQL: GraphQL,\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `Mongo` can be imported from `@sentry/node`\n   *\n   * import { Integrations } from '@sentry/node';\n   * new Integrations.Mongo({ ... })\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  Mongo: Mongo,\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `Mysql` can be imported from `@sentry/node`\n   *\n   * import { Integrations } from '@sentry/node';\n   * new Integrations.Mysql({ ... })\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  Mysql: Mysql,\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `Postgres` can be imported from `@sentry/node`\n   *\n   * import { Integrations } from '@sentry/node';\n   * new Integrations.Postgres({ ... })\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  Postgres: Postgres,\n  /**\n   * @deprecated `@sentry/tracing` has been deprecated and will be moved to to `@sentry/node`, `@sentry/browser`, or your framework SDK in the next major version.\n   * `Prisma` can be imported from `@sentry/node`\n   *\n   * import { Integrations } from '@sentry/node';\n   * new Integrations.Prisma({ ... })\n   */\n  // eslint-disable-next-line deprecation/deprecation\n  Prisma: Prisma,\n};\n\n// Treeshakable guard to remove all code related to tracing\n\n// Guard for tree\nif (typeof __SENTRY_TRACING__ === 'undefined' || __SENTRY_TRACING__) {\n  // We are patching the global object with our hub extension methods\n  addExtensionMethods$1();\n}\n\nexport { BROWSER_TRACING_INTEGRATION_ID, BrowserTracing, IdleTransaction, Integrations, Span, SpanStatus, TRACEPARENT_REGEXP, Transaction, addExtensionMethods, defaultRequestInstrumentationOptions, extractTraceparentData, getActiveTransaction, hasTracingEnabled, instrumentOutgoingRequests, spanStatusfromHttpCode, startIdleTransaction, stripUrlQueryAndFragment };\n","/// <reference types=\"@masknet/global-types/env\" />\nimport '@sentry/tracing'\nimport {\n    type Provider,\n    type UserOptions,\n    type DeviceOptions,\n    type NetworkOptions,\n    type CommonOptions,\n    type EventOptions,\n    type ExceptionOptions,\n} from '../types/index.js'\nimport { telemetrySettings } from '../settings/index.js'\n\nexport class BaseAPI<Event, Exception> implements Provider {\n    constructor(protected sampleRate = 1) {\n        // register listener\n        telemetrySettings.addListener((x) => (x ? this.enable() : this.disable()))\n    }\n\n    // The sentry needs to be opened at the runtime.\n    protected status = 'off'\n    private userOptions?: UserOptions\n    private deviceOptions?: DeviceOptions\n    private networkOptions?: NetworkOptions\n\n    get user() {\n        return {\n            ...this.userOptions,\n        }\n    }\n\n    set user(options: UserOptions) {\n        this.userOptions = {\n            ...this.userOptions,\n            ...options,\n        }\n    }\n\n    get device() {\n        return {\n            ...this.deviceOptions,\n        }\n    }\n\n    set device(options: DeviceOptions) {\n        this.deviceOptions = {\n            ...this.deviceOptions,\n            ...options,\n        }\n    }\n\n    get network() {\n        return {\n            ...this.networkOptions,\n        }\n    }\n\n    set network(options: NetworkOptions) {\n        this.networkOptions = {\n            ...this.networkOptions,\n            ...options,\n        }\n    }\n\n    protected getOptions(initials?: CommonOptions): CommonOptions {\n        return {\n            user: {\n                ...this.userOptions,\n                ...initials?.user,\n            },\n            device: {\n                ...this.deviceOptions,\n                ...initials?.device,\n            },\n            network: {\n                ...this.networkOptions,\n                ...initials?.network,\n            },\n        }\n    }\n\n    shouldRecord() {\n        if (this.status === 'off') return false\n\n        const rate = this.sampleRate % 1\n        if (rate >= 1 || rate < 0) return true\n        return crypto.getRandomValues(new Uint8Array(1))[0] > 255 - Math.floor(255 * this.sampleRate)\n    }\n\n    enable() {\n        this.status = 'on'\n    }\n\n    disable() {\n        this.status = 'off'\n    }\n\n    captureEvent(options: EventOptions) {\n        throw new Error('Method not implemented')\n    }\n\n    captureException(options: ExceptionOptions) {\n        throw new Error('Method not implemented')\n    }\n}\n","import urlcat from 'urlcat'\nimport { isUndefined, omitBy } from 'lodash-es'\nimport type { BuildInfoFile } from '@masknet/flags'\nimport {\n    TelemetryID,\n    type EnhanceableSite,\n    type ExtensionSite,\n    type NetworkPluginID,\n    type PluginID,\n    getAgentType,\n    getSiteType,\n    getExtensionId,\n} from '@masknet/shared-base'\nimport type { EventID } from '../types/index.js'\nimport { getABTestSeed, joinsABTest } from '../entry-helpers.js'\n\nexport interface Event {\n    event: EventID\n\n    properties: {\n        type: string\n\n        // the previous event name\n        previous_event?: EventID\n        // the previous event ID\n        previous_event_id?: string\n\n        // ip address\n        ip?: string\n        // timestamp like Date.now()\n        time: number\n        // a unique id to make distinguish of users\n        distinct_id: string\n        // a unique id to make distinguish of events (uuid)\n        $insert_id: string\n\n        // screen height\n        $screen_height?: number\n        // screen width\n        $screen_width?: number\n        // a unique user id\n        $user_id?: string\n        // os name\n        $os?: string\n        // browser name\n        $browser?: string\n        // browser version\n        $browser_version?: string\n        // name of device\n        $device?: string\n        // a unique device id\n        $device_id?: string\n\n        // the city of the event sender parsed from the IP property or the Latitude and Longitude properties.\n        $city?: string\n        // the region (state or province) of the event sender parsed from the IP property or the Latitude and Longitude properties.\n        $region?: string\n        // timezone of the event sender, parsed from IP.\n        $timezone?: string\n\n        // network metadata\n        chain_id?: number\n        plugin_id?: PluginID\n        network_id?: NetworkPluginID\n        network?: string\n        provider?: string\n\n        // browser env\n        agent?: string\n        site?: EnhanceableSite | ExtensionSite\n        ua?: string\n        extension_id?: string\n\n        // build env\n        channel?: string\n        version?: string\n        branch_name?: string\n\n        // ab-testing\n        device_ab?: boolean\n        device_seed?: number\n        device_id?: string\n    }\n}\n\nexport class MixpanelEventAPI {\n    private lastEvent?: Event\n\n    constructor(\n        private token: string,\n        private env: BuildInfoFile,\n    ) {}\n\n    private attachEvent(event: Event): Event {\n        return (this.lastEvent = {\n            event: event.event,\n            properties: omitBy<Event['properties']>(\n                {\n                    previous_event: this.lastEvent?.event,\n                    previous_event_id: this.lastEvent?.properties.$insert_id,\n\n                    $user_id: TelemetryID.value,\n                    $device_id: TelemetryID.value,\n\n                    $screen_height: screen.height,\n                    $screen_width: screen.width,\n                    $browser: navigator.appName,\n                    $browser_version: navigator.appVersion,\n\n                    agent: getAgentType(),\n                    site: getSiteType(),\n                    ua: navigator.userAgent,\n                    extension_id: getExtensionId(),\n\n                    channel: this.env.channel,\n                    version: this.env.VERSION,\n                    branch_name: this.env.BRANCH_NAME,\n\n                    device_ab: joinsABTest(),\n                    device_seed: getABTestSeed(),\n                    device_id: TelemetryID.value,\n\n                    ...event.properties,\n                },\n                isUndefined,\n            ) as Event['properties'],\n        })\n    }\n\n    // for collecting data on the server-slide\n    // learn more at: https://developer.mixpanel.com/reference/import-events\n    async importEvent(_: Event) {\n        const event = this.attachEvent(_)\n\n        const response = await fetch(\n            urlcat('https://mixpanel.r2d2.to/import', {\n                strict: 1,\n                project_id: this.token,\n            }),\n            {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify([event]),\n            },\n        )\n        const json: {\n            code: number\n            error?: string\n            num_records_imported?: number\n            status: string\n        } = await response.json()\n\n        if (json.error) throw new Error(json.error)\n    }\n\n    // for collecting data on the client-slide\n    // Learn more at: https://developer.mixpanel.com/reference/track-event\n    async trackEvent(_: Event) {\n        const event = this.attachEvent(_)\n\n        const response = await fetch(\n            urlcat('https://mixpanel.r2d2.to/track', {\n                // in the debug mode the API returns more information\n                verbose: process.env.NODE_ENV === 'development' ? 1 : 0,\n            }),\n            {\n                method: 'POST',\n                headers: {\n                    // Accept: 'application/json',\n                    Accept: 'text/plain',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify([\n                    {\n                        event: event.event,\n                        properties: {\n                            ...event.properties,\n                            token: this.token,\n                        },\n                    },\n                ]),\n            },\n        )\n\n        const json:\n            | {\n                  error?: string\n                  status: string\n              }\n            | 0 = await response.json()\n\n        if (json === 0) throw new Error('No data objects in the body are invalid.')\n        if (typeof json === 'object' && json.error) throw new Error(json.error)\n        return\n    }\n}\n","import { isUndefined, omitBy } from 'lodash-es'\nimport { v4 as uuid } from 'uuid'\nimport { Flags, type BuildInfoFile } from '@masknet/flags'\nimport { TelemetryID } from '@masknet/shared-base'\nimport { BaseAPI } from './Base.js'\nimport type { EventOptions, ExceptionOptions, Provider } from '../types/index.js'\nimport { MixpanelEventAPI, type Event } from '../apis/Mixpanel.js'\n\nexport class MixpanelAPI extends BaseAPI<Event, never> implements Provider {\n    constructor(env: BuildInfoFile) {\n        super(Flags.mixpanel_sample_rate)\n        this.eventAPI = new MixpanelEventAPI(Flags.mixpanel_project_token, env)\n    }\n    private eventAPI\n\n    private createEvent(options: EventOptions): Event {\n        return omitBy<Event>(\n            {\n                event: options.eventID,\n                properties: {\n                    type: options.eventType,\n\n                    time: Date.now(),\n                    distinct_id: TelemetryID.value,\n                    $insert_id: uuid(),\n\n                    chain_id: options.network?.chainId,\n                    plugin_id: options.network?.pluginID,\n                    network_id: options.network?.networkID,\n                    network: options.network?.networkType,\n                    provider: options.network?.providerType,\n                },\n            },\n            isUndefined,\n        ) as Event\n    }\n\n    override captureEvent(options: EventOptions) {\n        if (this.status === 'off') return\n        if (!Flags.sentry_enabled) return\n        if (!Flags.sentry_event_enabled) return\n        if (!this.shouldRecord()) return\n\n        if (process.env.NODE_ENV === 'development') {\n            console.log(`[LOG EVENT]: ${JSON.stringify(options, null, 2)}`)\n        } else {\n            const event = this.createEvent(options)\n            this.eventAPI.trackEvent(event)\n        }\n    }\n\n    override captureException(options: ExceptionOptions) {\n        // mixpanel is for events only\n        return\n    }\n}\n","export function parseVersion(version: string) {\n    return version.split('.').map((n) => Number.parseInt(n, 10) || 0)\n}\n","import { parseVersion } from './parseVersion.js'\n\nexport function isNewerThan(version: string, otherVersion: string) {\n    const versionParsed = parseVersion(version)\n    const otherVersionParsed = parseVersion(otherVersion)\n\n    return versionParsed.reduce((newer, n, i) => {\n        if (newer) return newer\n        return n > otherVersionParsed[i]\n    }, false)\n}\n","import { parseVersion } from './parseVersion.js'\n\nexport function isSameVersion(version: string, otherVersion: string) {\n    const versionParsed = parseVersion(version)\n    const otherVersionParsed = parseVersion(otherVersion)\n\n    return (\n        versionParsed.length === otherVersionParsed.length && versionParsed.every((n, i) => n === otherVersionParsed[i])\n    )\n}\n","export function removeSensitiveTelemetryInfo(text?: string) {\n    if (!text) return text\n    return text\n        .replaceAll(/\\b0x[\\da-f]{40}\\b/gi, '[ethereum address]')\n        .replaceAll(/\\b0x[\\da-f]{16}\\b/gi, '[flow address]')\n        .replaceAll(/\\b0x[\\da-f]{32,}\\b/gi, '[key]')\n        .replaceAll(/\\b[\\da-f]{32,}\\b/gi, '[key]')\n        .replaceAll(/\\b[1-9A-HJ-NP-Za-km-z]{32,44}\\b/g, '[solana address]')\n}\n","/// <reference types=\"@masknet/global-types/env\" />\nimport '@sentry/tracing'\nimport { Breadcrumbs, type Event, GlobalHandlers } from '@sentry/browser'\nimport { Flags } from '@masknet/flags'\nimport { getSiteType, getAgentType, getExtensionId, TelemetryID } from '@masknet/shared-base'\nimport type { BuildInfoFile } from '@masknet/flags'\nimport { joinsABTest } from '../helpers/joinsABTest.js'\nimport { getABTestSeed } from '../helpers/getABTestSeed.js'\nimport { isNewerThan } from '../helpers/isNewerThan.js'\nimport { isSameVersion } from '../helpers/isSameVersion.js'\nimport { removeSensitiveTelemetryInfo } from '../helpers/removeSensitiveTelemetryInfo.js'\nimport {\n    type Provider,\n    type EventOptions,\n    type ExceptionOptions,\n    GroupID,\n    type ExceptionType,\n    type EventID,\n    type EventType,\n    type ExceptionID,\n    type CommonOptions,\n} from '../types/index.js'\nimport { telemetrySettings } from '../settings/index.js'\nimport { BaseAPI } from './Base.js'\n\nconst IGNORE_ERRORS = [\n    // FIXME\n    'timeout in mutex storage.',\n\n    // ignore\n    \"Cannot perform 'getPrototypeOf' on a proxy that has been revoked\",\n    'UnknownError: The databases() promise was rejected.',\n    'DataError: Failed to read large IndexedDB value',\n    'Unexpected internal error',\n    'UnknownError: Internal error',\n    'TimeoutError: Transaction timed out due to inactivity.',\n    'execution reverted',\n    'Failed to fetch',\n    'At least one of the attempts fails.',\n    'Extension context invalidated.',\n    '[object Promise]',\n    'ResizeObserver',\n    'User rejected the request.',\n    'Non-Error promise rejection captured with keys: message',\n    'Object captured as promise rejection with keys: message',\n    'An attempt was made to break through the security policy of the user agent.',\n]\n\nexport class SentryAPI extends BaseAPI<never, Event> implements Provider {\n    constructor(env: BuildInfoFile) {\n        super(Flags.sentry_sample_rate)\n\n        const release =\n            env.channel === 'stable' && process.env.NODE_ENV === 'production'\n                ? env.COMMIT_HASH\n                    ? `mask-${env.COMMIT_HASH}`\n                    : `mask-${env.VERSION}-reproducible`\n                : undefined\n        if (typeof Sentry === 'undefined') {\n            return\n        }\n\n        Sentry.init({\n            dsn: process.env.MASK_SENTRY_DSN,\n            release,\n            defaultIntegrations: false,\n            integrations: [\n                // global error and unhandledrejection event\n                new GlobalHandlers(),\n                // global fetch error\n                new Breadcrumbs({\n                    console: false,\n                    dom: false,\n                    xhr: false,\n                    fetch: true,\n                    history: false,\n                }),\n            ],\n            environment: process.env.NODE_ENV,\n            beforeSend: (event) => {\n                // version control\n                if (\n                    env.VERSION &&\n                    Flags.sentry_earliest_version &&\n                    !isSameVersion(env.VERSION, Flags.sentry_earliest_version) &&\n                    !isNewerThan(env.VERSION, Flags.sentry_earliest_version)\n                )\n                    return null\n\n                // ignored errors\n                if (event.exception?.values?.some((x) => IGNORE_ERRORS.some((y) => x.value?.includes(y)))) return null\n                if (event.message && IGNORE_ERRORS.some((x) => event.message?.includes(x))) return null\n\n                // send automatically by sentry tracker\n                if (!event.tags?.group_id) {\n                    // ignored in the development mode\n                    if (process.env.NODE_ENV === 'development') {\n                        console.log(`[LOG EXCEPTION]: ${JSON.stringify(event, null, 2)}`)\n                        return null\n                    }\n\n                    // throttle\n                    if (!this.shouldRecord()) return null\n                }\n\n                event.exception?.values?.forEach((error) => {\n                    error.value = removeSensitiveTelemetryInfo(error.value)\n                })\n\n                if (event.message) {\n                    event.message = removeSensitiveTelemetryInfo(event.message)\n                }\n                return event\n            },\n        })\n\n        // set global tags\n        Sentry.setTag('agent', getAgentType())\n        Sentry.setTag('site', getSiteType())\n        Sentry.setTag('extension_id', getExtensionId())\n        Sentry.setTag('channel', env.channel)\n        Sentry.setTag('version', env.VERSION)\n        Sentry.setTag('ua', navigator.userAgent)\n        Sentry.setTag('device_ab', joinsABTest())\n        Sentry.setTag('device_seed', getABTestSeed())\n        Sentry.setTag('device_id', TelemetryID.value)\n        Sentry.setTag('branch_name', env.BRANCH_NAME)\n        TelemetryID.addListener((trackID) => {\n            Sentry.setTag('device_ab', joinsABTest())\n            Sentry.setTag('device_seed', getABTestSeed())\n            Sentry.setTag('track_id', trackID)\n        })\n\n        // register listener\n        telemetrySettings.addListener((x) => (x ? this.enable() : this.disable()))\n    }\n\n    private createCommonEvent(\n        groupID: GroupID,\n        type: EventType | ExceptionType,\n        ID: EventID | ExceptionID,\n        initials: CommonOptions,\n    ): Event {\n        const options = this.getOptions(initials)\n        return {\n            level: groupID === GroupID.Event ? 'info' : 'error',\n            message: ID,\n            tags: {\n                group_id: GroupID.Event,\n                track_id: ID,\n                track_type: type,\n                chain_id: options.network?.chainId,\n                plugin_id: options.network?.pluginID,\n                network_id: options.network?.networkID,\n                network: options.network?.networkType,\n                provider: options.network?.providerType,\n            },\n            exception: {},\n            breadcrumbs: [],\n        }\n    }\n\n    private createException(options: ExceptionOptions): Event {\n        return this.createCommonEvent(GroupID.Exception, options.exceptionType, options.exceptionID, options)\n    }\n\n    override captureEvent(options: EventOptions) {\n        // we don't trace event by sentry after mixpanel introduced\n        return\n    }\n\n    override captureException(options: ExceptionOptions) {\n        if (this.status === 'off') return\n        if (!Flags.sentry_enabled) return\n        if (!Flags.sentry_exception_enabled) return\n        if (!this.shouldRecord()) return\n        if (process.env.NODE_ENV === 'development') {\n            console.log(`[LOG EXCEPTION]: ${JSON.stringify(this.createException(options))}`)\n        } else {\n            Sentry.captureException(options.error, this.createException(options))\n        }\n    }\n}\n","import { env } from '@masknet/flags'\nimport { MixpanelAPI } from './Mixpanel.js'\nimport { SentryAPI } from './Sentry.js'\nimport type { CommonOptions, EventID, EventType, ExceptionID, ExceptionType } from '../entry-types.js'\n\n/**\n * A proxy class for all telemetry providers.\n */\nexport class TelemetryAPI {\n    private Sentry = new SentryAPI(env)\n    private Mixpanel = new MixpanelAPI(env)\n\n    captureEvent(eventType: EventType, eventID: EventID, options?: CommonOptions) {\n        this.Mixpanel.captureEvent({\n            eventType,\n            eventID,\n            ...options,\n        })\n    }\n\n    captureException(\n        exceptionType: ExceptionType,\n        exceptionID: ExceptionID,\n        error: Error,\n        options?: CommonOptions,\n    ): void {\n        this.Sentry.captureException({\n            exceptionType,\n            exceptionID,\n            error,\n            ...options,\n        })\n    }\n}\n","import { TelemetryAPI } from './Telemetry.js'\n\nexport const Telemetry = new TelemetryAPI()\n","import { createGlobalSettings } from '@masknet/shared-base'\n\nexport const telemetrySettings = createGlobalSettings<boolean>('log', false)\n","import type { NetworkPluginID, PluginID } from '@masknet/shared-base'\n\nexport enum GroupID {\n    Event = 'event',\n    Exception = 'exception',\n}\n\nexport enum EventType {\n    Debug = 'debug',\n    Access = 'access',\n    Exit = 'exit',\n    Interact = 'interact',\n}\n\nexport enum ExceptionType {\n    Error = 'Error',\n}\n\nexport enum EventID {\n    EntryAppLuckOpen = 'entry_app_luck_open',\n    EntryAppLuckCreate = 'entry_app_luck_create',\n    EntryAppLuckSend = 'entry_app_luck_send',\n    EntryAppNFT_PFP_Open = 'entry_app_nft_pfp_open',\n    EntryAppNFT_PFP_Setting = 'entry_app_nft_pfp_setting',\n    EntryAppSwapOpen = 'entry_app_swap_open',\n    EntryAppApprovalOpen = 'entry_app_approval_open',\n    EntryAppCheckOpen = 'entry_app_check_open',\n    EntryAppFileOpen = 'entry_app_file_open',\n    EntryTimelineDsearchToken = 'entry_timeline_dsearch_token',\n    EntryTimelineDsearchNft = 'entry_timeline_dsearch_nft',\n    EntryTimelineDsearchAddress = 'entry_timeline_dsearch_address',\n    EntryTimelineDsearchEns = 'entry_timeline_dsearch_ens',\n    EntryTimelineDsearchName = 'entry_timeline_dsearch_name',\n    EntryTimelineTipsOpen = 'entry_timeline_tips_open',\n    EntryTimelineTipsSend = 'entry_timeline_tips_send',\n    EntryTimelineHoverTokenDuration = 'entry_timeline_hover_token_duration',\n    EntryTimelineHoverNftDuration = 'entry_timeline_hover_nft_duration',\n    EntryTimelineHoverUserNftClickNft = 'entry_timeline_hover_user_nft_click_nft',\n    EntryTimelineHoverUserNftSwitchChain = 'entry_timeline_hover_user_nft_switch_chain',\n    EntryTimelineHoverUserActivitiesSwitchTo = 'entry_timeline_hover_user_activities_switch_to',\n    EntryTimelineHoverUserDonationsSwitchTo = 'entry_timeline_hover_user_donations_switch_to',\n    EntryTimelineHoverUserSocialSwitchTo = 'entry_timeline_hover_user_social_switch_to',\n    EntryPopupSocialAccountConnectTwitter = 'entry_popup_social_account_connect_twitter',\n    EntryPopupSocialAccountConnectFb = 'entry_popup_social_account_connect_fb',\n    EntryPopupSocialAccountConnectMinds = 'entry_popup_social_account_connect_minds',\n    EntryPopupSocialAccountConnectIns = 'entry_popup_social_account_connect_ins',\n    EntryPopupSocialAccountVerifyTwitter = 'entry_popup_social_account_verify_twitter',\n    EntryPopupSocialAccountDisconnectTwitter = 'entry_popup_social_account_disconnect_twitter',\n    EntryPopupSocialAccountDisconnectFb = 'entry_popup_social_account_disconnect_fb',\n    EntryPopupSocialAccountDisconnectMinds = 'entry_popup_social_account_disconnect_minds',\n    EntryPopupSocialAccountDisconnectIns = 'entry_popup_social_account_disconnect_ins',\n    EntryPopupWalletCreate = 'entry_popup_wallet_create',\n    EntryPopupWalletImport = 'entry_popup_wallet_import',\n    EntryProfileTokenSwitchTrend = 'entry_profile_token_switch_trend',\n    EntryProfileTokenSwitchMarket = 'entry_profile_token_switch_market',\n    EntryProfileNFT_ItemsSwitchTo = 'entry_profile_nft_items_switch_to',\n    EntryProfileNFT_TrendSwitchTo = 'entry_profile_nft_trend_switch_to',\n    EntryProfileNFT_ActivitiesSwitchTo = 'entry_profile_nft_activities_switch_to',\n    EntrySwitchLogoSave = 'entry_switch_logo_save',\n    EntryMaskComposeOpen = 'entry_mask_compose_open',\n    EntryMaskComposeVisibleAll = 'entry_mask_compose_visible_all',\n    EntryMaskComposeVisiblePrivate = 'entry_mask_compose_visible_private',\n    EntryMaskComposeVisibleSelected = 'entry_mask_compose_visible_selected',\n    EntryMaskComposeEncrypt = 'entry_mask_compose_encrypt',\n    EntryProfileUserNftsClickNft = 'entry_profile_user_nfts_click_nft',\n    EntryProfileUserNftsSwitchChain = 'entry_profile_user_nfts_switch_chain',\n    EntryProfileUserActivitiesSwitchTo = 'entry_profile_user_activities_switch_to',\n    EntryProfileUserDonationsSwitchTo = 'entry_profile_user_donations_switch_to',\n    EntryProfileUserSocialSwitchTo = 'entry_profile_user_social_switch_to',\n    EntryProfileConnectTwitter = 'entry_profile_connect_twitter',\n    EntryProfileConnectVerify = 'entry_profile_connect_verify',\n    EntryMaskComposeConnectTwitter = 'entry_mask_compose_connect_twitter',\n    EntryMaskComposeVerifyTwitter = 'entry_mask_compose_verify_twitter',\n    // For debug only\n    Debug = 'Debug',\n}\n\nexport enum ExceptionID {\n    FetchError = 'FetchError',\n    Debug = 'DebugError',\n}\n\nexport interface NetworkOptions {\n    chainId?: number\n    pluginID?: PluginID\n    networkID?: NetworkPluginID\n    networkType?: string\n    providerType?: string\n}\n\nexport interface UserOptions {\n    userID?: string\n    account?: string\n}\n\nexport interface DeviceOptions {}\n\nexport interface CommonOptions {\n    user?: UserOptions\n    device?: DeviceOptions\n    network?: NetworkOptions\n    // default to 1 (100%)\n    sampleRate?: number\n}\n\nexport interface EventOptions extends CommonOptions {\n    eventType: EventType\n    eventID: EventID\n    message?: string\n}\n\nexport interface ExceptionOptions extends CommonOptions {\n    exceptionType: ExceptionType\n    exceptionID: ExceptionID\n    error: Error\n}\n\nexport interface Provider {\n    user?: UserOptions\n    device?: DeviceOptions\n    network?: NetworkOptions\n\n    enable(): void\n    disable(): void\n\n    captureEvent(options: EventOptions): void\n    captureException(options: ExceptionOptions): void\n}\n","/*\n\nBased off glamor's StyleSheet, thanks Sunil \n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n// $FlowFixMe\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    // $FlowFixMe\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      // $FlowFixMe\n      return document.styleSheets[i];\n    }\n  }\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  tag.setAttribute('data-s', '');\n  return tag;\n}\n\nvar StyleSheet = /*#__PURE__*/function () {\n  // Using Node instead of HTMLElement since container may be a ShadowRoot\n  function StyleSheet(options) {\n    var _this = this;\n\n    this._insertTag = function (tag) {\n      var before;\n\n      if (_this.tags.length === 0) {\n        if (_this.insertionPoint) {\n          before = _this.insertionPoint.nextSibling;\n        } else if (_this.prepend) {\n          before = _this.container.firstChild;\n        } else {\n          before = _this.before;\n        }\n      } else {\n        before = _this.tags[_this.tags.length - 1].nextSibling;\n      }\n\n      _this.container.insertBefore(tag, before);\n\n      _this.tags.push(tag);\n    };\n\n    this.isSpeedy = options.speedy === undefined ? process.env.NODE_ENV === 'production' : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.prepend = options.prepend;\n    this.insertionPoint = options.insertionPoint;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.hydrate = function hydrate(nodes) {\n    nodes.forEach(this._insertTag);\n  };\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      this._insertTag(createStyleElement(this));\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (process.env.NODE_ENV !== 'production') {\n      var isImportRule = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105;\n\n      if (isImportRule && this._alreadyInsertedOrderInsensitiveRule) {\n        // this would only cause problem in speedy mode\n        // but we don't want enabling speedy to affect the observable behavior\n        // so we report this error at all times\n        console.error(\"You're attempting to insert the following rule:\\n\" + rule + '\\n\\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.');\n      }\n      this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule;\n    }\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n        sheet.insertRule(rule, sheet.cssRules.length);\n      } catch (e) {\n        if (process.env.NODE_ENV !== 'production' && !/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(rule)) {\n          console.error(\"There was a problem inserting the following rule: \\\"\" + rule + \"\\\"\", e);\n        }\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    // $FlowFixMe\n    this.tags.forEach(function (tag) {\n      return tag.parentNode && tag.parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      this._alreadyInsertedOrderInsensitiveRule = false;\n    }\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","/**\n * @param {number}\n * @return {number}\n */\nexport var abs = Math.abs\n\n/**\n * @param {number}\n * @return {string}\n */\nexport var from = String.fromCharCode\n\n/**\n * @param {object}\n * @return {object}\n */\nexport var assign = Object.assign\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nexport function hash (value, length) {\n\treturn charat(value, 0) ^ 45 ? (((((((length << 2) ^ charat(value, 0)) << 2) ^ charat(value, 1)) << 2) ^ charat(value, 2)) << 2) ^ charat(value, 3) : 0\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nexport function trim (value) {\n\treturn value.trim()\n}\n\n/**\n * @param {string} value\n * @param {RegExp} pattern\n * @return {string?}\n */\nexport function match (value, pattern) {\n\treturn (value = pattern.exec(value)) ? value[0] : value\n}\n\n/**\n * @param {string} value\n * @param {(string|RegExp)} pattern\n * @param {string} replacement\n * @return {string}\n */\nexport function replace (value, pattern, replacement) {\n\treturn value.replace(pattern, replacement)\n}\n\n/**\n * @param {string} value\n * @param {string} search\n * @return {number}\n */\nexport function indexof (value, search) {\n\treturn value.indexOf(search)\n}\n\n/**\n * @param {string} value\n * @param {number} index\n * @return {number}\n */\nexport function charat (value, index) {\n\treturn value.charCodeAt(index) | 0\n}\n\n/**\n * @param {string} value\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function substr (value, begin, end) {\n\treturn value.slice(begin, end)\n}\n\n/**\n * @param {string} value\n * @return {number}\n */\nexport function strlen (value) {\n\treturn value.length\n}\n\n/**\n * @param {any[]} value\n * @return {number}\n */\nexport function sizeof (value) {\n\treturn value.length\n}\n\n/**\n * @param {any} value\n * @param {any[]} array\n * @return {any}\n */\nexport function append (value, array) {\n\treturn array.push(value), value\n}\n\n/**\n * @param {string[]} array\n * @param {function} callback\n * @return {string}\n */\nexport function combine (array, callback) {\n\treturn array.map(callback).join('')\n}\n","import {from, trim, charat, strlen, substr, append, assign} from './Utility.js'\n\nexport var line = 1\nexport var column = 1\nexport var length = 0\nexport var position = 0\nexport var character = 0\nexport var characters = ''\n\n/**\n * @param {string} value\n * @param {object | null} root\n * @param {object | null} parent\n * @param {string} type\n * @param {string[] | string} props\n * @param {object[] | string} children\n * @param {number} length\n */\nexport function node (value, root, parent, type, props, children, length) {\n\treturn {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: ''}\n}\n\n/**\n * @param {object} root\n * @param {object} props\n * @return {object}\n */\nexport function copy (root, props) {\n\treturn assign(node('', null, null, '', null, null, 0), root, {length: -root.length}, props)\n}\n\n/**\n * @return {number}\n */\nexport function char () {\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function prev () {\n\tcharacter = position > 0 ? charat(characters, --position) : 0\n\n\tif (column--, character === 10)\n\t\tcolumn = 1, line--\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function next () {\n\tcharacter = position < length ? charat(characters, position++) : 0\n\n\tif (column++, character === 10)\n\t\tcolumn = 1, line++\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function peek () {\n\treturn charat(characters, position)\n}\n\n/**\n * @return {number}\n */\nexport function caret () {\n\treturn position\n}\n\n/**\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function slice (begin, end) {\n\treturn substr(characters, begin, end)\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function token (type) {\n\tswitch (type) {\n\t\t// \\0 \\t \\n \\r \\s whitespace token\n\t\tcase 0: case 9: case 10: case 13: case 32:\n\t\t\treturn 5\n\t\t// ! + , / > @ ~ isolate token\n\t\tcase 33: case 43: case 44: case 47: case 62: case 64: case 126:\n\t\t// ; { } breakpoint token\n\t\tcase 59: case 123: case 125:\n\t\t\treturn 4\n\t\t// : accompanied token\n\t\tcase 58:\n\t\t\treturn 3\n\t\t// \" ' ( [ opening delimit token\n\t\tcase 34: case 39: case 40: case 91:\n\t\t\treturn 2\n\t\t// ) ] closing delimit token\n\t\tcase 41: case 93:\n\t\t\treturn 1\n\t}\n\n\treturn 0\n}\n\n/**\n * @param {string} value\n * @return {any[]}\n */\nexport function alloc (value) {\n\treturn line = column = 1, length = strlen(characters = value), position = 0, []\n}\n\n/**\n * @param {any} value\n * @return {any}\n */\nexport function dealloc (value) {\n\treturn characters = '', value\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function delimit (type) {\n\treturn trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))\n}\n\n/**\n * @param {string} value\n * @return {string[]}\n */\nexport function tokenize (value) {\n\treturn dealloc(tokenizer(alloc(value)))\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function whitespace (type) {\n\twhile (character = peek())\n\t\tif (character < 33)\n\t\t\tnext()\n\t\telse\n\t\t\tbreak\n\n\treturn token(type) > 2 || token(character) > 3 ? '' : ' '\n}\n\n/**\n * @param {string[]} children\n * @return {string[]}\n */\nexport function tokenizer (children) {\n\twhile (next())\n\t\tswitch (token(character)) {\n\t\t\tcase 0: append(identifier(position - 1), children)\n\t\t\t\tbreak\n\t\t\tcase 2: append(delimit(character), children)\n\t\t\t\tbreak\n\t\t\tdefault: append(from(character), children)\n\t\t}\n\n\treturn children\n}\n\n/**\n * @param {number} index\n * @param {number} count\n * @return {string}\n */\nexport function escaping (index, count) {\n\twhile (--count && next())\n\t\t// not 0-9 A-F a-f\n\t\tif (character < 48 || character > 102 || (character > 57 && character < 65) || (character > 70 && character < 97))\n\t\t\tbreak\n\n\treturn slice(index, caret() + (count < 6 && peek() == 32 && next() == 32))\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function delimiter (type) {\n\twhile (next())\n\t\tswitch (character) {\n\t\t\t// ] ) \" '\n\t\t\tcase type:\n\t\t\t\treturn position\n\t\t\t// \" '\n\t\t\tcase 34: case 39:\n\t\t\t\tif (type !== 34 && type !== 39)\n\t\t\t\t\tdelimiter(character)\n\t\t\t\tbreak\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (type === 41)\n\t\t\t\t\tdelimiter(type)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tnext()\n\t\t\t\tbreak\n\t\t}\n\n\treturn position\n}\n\n/**\n * @param {number} type\n * @param {number} index\n * @return {number}\n */\nexport function commenter (type, index) {\n\twhile (next())\n\t\t// //\n\t\tif (type + character === 47 + 10)\n\t\t\tbreak\n\t\t// /*\n\t\telse if (type + character === 42 + 42 && peek() === 47)\n\t\t\tbreak\n\n\treturn '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())\n}\n\n/**\n * @param {number} index\n * @return {string}\n */\nexport function identifier (index) {\n\twhile (!token(peek()))\n\t\tnext()\n\n\treturn slice(index, position)\n}\n","export var MS = '-ms-'\nexport var MOZ = '-moz-'\nexport var WEBKIT = '-webkit-'\n\nexport var COMMENT = 'comm'\nexport var RULESET = 'rule'\nexport var DECLARATION = 'decl'\n\nexport var PAGE = '@page'\nexport var MEDIA = '@media'\nexport var IMPORT = '@import'\nexport var CHARSET = '@charset'\nexport var VIEWPORT = '@viewport'\nexport var SUPPORTS = '@supports'\nexport var DOCUMENT = '@document'\nexport var NAMESPACE = '@namespace'\nexport var KEYFRAMES = '@keyframes'\nexport var FONT_FACE = '@font-face'\nexport var COUNTER_STYLE = '@counter-style'\nexport var FONT_FEATURE_VALUES = '@font-feature-values'\nexport var LAYER = '@layer'\n","import {IMPORT, LAYER, COMMENT, RULESET, DECLARATION, KEYFRAMES} from './Enum.js'\nimport {strlen, sizeof} from './Utility.js'\n\n/**\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function serialize (children, callback) {\n\tvar output = ''\n\tvar length = sizeof(children)\n\n\tfor (var i = 0; i < length; i++)\n\t\toutput += callback(children[i], i, children, callback) || ''\n\n\treturn output\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function stringify (element, index, children, callback) {\n\tswitch (element.type) {\n\t\tcase LAYER: if (element.children.length) break\n\t\tcase IMPORT: case DECLARATION: return element.return = element.return || element.value\n\t\tcase COMMENT: return ''\n\t\tcase KEYFRAMES: return element.return = element.value + '{' + serialize(element.children, callback) + '}'\n\t\tcase RULESET: element.value = element.props.join(',')\n\t}\n\n\treturn strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''\n}\n","import {MS, MOZ, WEBKIT, RULESET, KEYFRAMES, DECLARATION} from './Enum.js'\nimport {match, charat, substr, strlen, sizeof, replace, combine} from './Utility.js'\nimport {copy, tokenize} from './Tokenizer.js'\nimport {serialize} from './Serializer.js'\nimport {prefix} from './Prefixer.js'\n\n/**\n * @param {function[]} collection\n * @return {function}\n */\nexport function middleware (collection) {\n\tvar length = sizeof(collection)\n\n\treturn function (element, index, children, callback) {\n\t\tvar output = ''\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\toutput += collection[i](element, index, children, callback) || ''\n\n\t\treturn output\n\t}\n}\n\n/**\n * @param {function} callback\n * @return {function}\n */\nexport function rulesheet (callback) {\n\treturn function (element) {\n\t\tif (!element.root)\n\t\t\tif (element = element.return)\n\t\t\t\tcallback(element)\n\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */\nexport function prefixer (element, index, children, callback) {\n\tif (element.length > -1)\n\t\tif (!element.return)\n\t\t\tswitch (element.type) {\n\t\t\t\tcase DECLARATION: element.return = prefix(element.value, element.length, children)\n\t\t\t\t\treturn\n\t\t\t\tcase KEYFRAMES:\n\t\t\t\t\treturn serialize([copy(element, {value: replace(element.value, '@', '@' + WEBKIT)})], callback)\n\t\t\t\tcase RULESET:\n\t\t\t\t\tif (element.length)\n\t\t\t\t\t\treturn combine(element.props, function (value) {\n\t\t\t\t\t\t\tswitch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n\t\t\t\t\t\t\t\t// :read-(only|write)\n\t\t\t\t\t\t\t\tcase ':read-only': case ':read-write':\n\t\t\t\t\t\t\t\t\treturn serialize([copy(element, {props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]})], callback)\n\t\t\t\t\t\t\t\t// :placeholder\n\t\t\t\t\t\t\t\tcase '::placeholder':\n\t\t\t\t\t\t\t\t\treturn serialize([\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]})\n\t\t\t\t\t\t\t\t\t], callback)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t})\n\t\t\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */\nexport function namespace (element) {\n\tswitch (element.type) {\n\t\tcase RULESET:\n\t\t\telement.props = element.props.map(function (value) {\n\t\t\t\treturn combine(tokenize(value), function (value, index, children) {\n\t\t\t\t\tswitch (charat(value, 0)) {\n\t\t\t\t\t\t// \\f\n\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\treturn substr(value, 1, strlen(value))\n\t\t\t\t\t\t// \\0 ( + > ~\n\t\t\t\t\t\tcase 0: case 40: case 43: case 62: case 126:\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t// :\n\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\tif (children[++index] === 'global')\n\t\t\t\t\t\t\t\tchildren[index] = '', children[++index] = '\\f' + substr(children[index], index = 1, -1)\n\t\t\t\t\t\t// \\s\n\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\treturn index === 1 ? '' : value\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tswitch (index) {\n\t\t\t\t\t\t\t\tcase 0: element = value\n\t\t\t\t\t\t\t\t\treturn sizeof(children) > 1 ? '' : value\n\t\t\t\t\t\t\t\tcase index = sizeof(children) - 1: case 2:\n\t\t\t\t\t\t\t\t\treturn index === 2 ? value + element + element : value + element\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n}\n","import {COMMENT, RULESET, DECLARATION} from './Enum.js'\nimport {abs, charat, trim, from, sizeof, strlen, substr, append, replace, indexof} from './Utility.js'\nimport {node, char, prev, next, peek, caret, alloc, dealloc, delimit, whitespace, escaping, identifier, commenter} from './Tokenizer.js'\n\n/**\n * @param {string} value\n * @return {object[]}\n */\nexport function compile (value) {\n\treturn dealloc(parse('', null, null, null, [''], value = alloc(value), 0, [0], value))\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {string[]} rule\n * @param {string[]} rules\n * @param {string[]} rulesets\n * @param {number[]} pseudo\n * @param {number[]} points\n * @param {string[]} declarations\n * @return {object}\n */\nexport function parse (value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {\n\tvar index = 0\n\tvar offset = 0\n\tvar length = pseudo\n\tvar atrule = 0\n\tvar property = 0\n\tvar previous = 0\n\tvar variable = 1\n\tvar scanning = 1\n\tvar ampersand = 1\n\tvar character = 0\n\tvar type = ''\n\tvar props = rules\n\tvar children = rulesets\n\tvar reference = rule\n\tvar characters = type\n\n\twhile (scanning)\n\t\tswitch (previous = character, character = next()) {\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (previous != 108 && charat(characters, length - 1) == 58) {\n\t\t\t\t\tif (indexof(characters += replace(delimit(character), '&', '&\\f'), '&\\f') != -1)\n\t\t\t\t\t\tampersand = -1\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t// \" ' [\n\t\t\tcase 34: case 39: case 91:\n\t\t\t\tcharacters += delimit(character)\n\t\t\t\tbreak\n\t\t\t// \\t \\n \\r \\s\n\t\t\tcase 9: case 10: case 13: case 32:\n\t\t\t\tcharacters += whitespace(previous)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tcharacters += escaping(caret() - 1, 7)\n\t\t\t\tcontinue\n\t\t\t// /\n\t\t\tcase 47:\n\t\t\t\tswitch (peek()) {\n\t\t\t\t\tcase 42: case 47:\n\t\t\t\t\t\tappend(comment(commenter(next(), caret()), root, parent), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcharacters += '/'\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// {\n\t\t\tcase 123 * variable:\n\t\t\t\tpoints[index++] = strlen(characters) * ampersand\n\t\t\t// } ; \\0\n\t\t\tcase 125 * variable: case 59: case 0:\n\t\t\t\tswitch (character) {\n\t\t\t\t\t// \\0 }\n\t\t\t\t\tcase 0: case 125: scanning = 0\n\t\t\t\t\t// ;\n\t\t\t\t\tcase 59 + offset: if (ampersand == -1) characters = replace(characters, /\\f/g, '')\n\t\t\t\t\t\tif (property > 0 && (strlen(characters) - length))\n\t\t\t\t\t\t\tappend(property > 32 ? declaration(characters + ';', rule, parent, length - 1) : declaration(replace(characters, ' ', '') + ';', rule, parent, length - 2), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @ ;\n\t\t\t\t\tcase 59: characters += ';'\n\t\t\t\t\t// { rule/at-rule\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tappend(reference = ruleset(characters, root, parent, index, offset, rules, points, type, props = [], children = [], length), rulesets)\n\n\t\t\t\t\t\tif (character === 123)\n\t\t\t\t\t\t\tif (offset === 0)\n\t\t\t\t\t\t\t\tparse(characters, root, reference, reference, props, rulesets, length, points, children)\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tswitch (atrule === 99 && charat(characters, 3) === 110 ? 100 : atrule) {\n\t\t\t\t\t\t\t\t\t// d l m s\n\t\t\t\t\t\t\t\t\tcase 100: case 108: case 109: case 115:\n\t\t\t\t\t\t\t\t\t\tparse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length), children), rules, children, length, points, rule ? props : children)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tparse(characters, reference, reference, reference, [''], children, 0, points, children)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tindex = offset = property = 0, variable = ampersand = 1, type = characters = '', length = pseudo\n\t\t\t\tbreak\n\t\t\t// :\n\t\t\tcase 58:\n\t\t\t\tlength = 1 + strlen(characters), property = previous\n\t\t\tdefault:\n\t\t\t\tif (variable < 1)\n\t\t\t\t\tif (character == 123)\n\t\t\t\t\t\t--variable\n\t\t\t\t\telse if (character == 125 && variable++ == 0 && prev() == 125)\n\t\t\t\t\t\tcontinue\n\n\t\t\t\tswitch (characters += from(character), character * variable) {\n\t\t\t\t\t// &\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tampersand = offset > 0 ? 1 : (characters += '\\f', -1)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// ,\n\t\t\t\t\tcase 44:\n\t\t\t\t\t\tpoints[index++] = (strlen(characters) - 1) * ampersand, ampersand = 1\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @\n\t\t\t\t\tcase 64:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (peek() === 45)\n\t\t\t\t\t\t\tcharacters += delimit(next())\n\n\t\t\t\t\t\tatrule = peek(), offset = length = strlen(type = characters += identifier(caret())), character++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// -\n\t\t\t\t\tcase 45:\n\t\t\t\t\t\tif (previous === 45 && strlen(characters) == 2)\n\t\t\t\t\t\t\tvariable = 0\n\t\t\t\t}\n\t\t}\n\n\treturn rulesets\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} index\n * @param {number} offset\n * @param {string[]} rules\n * @param {number[]} points\n * @param {string} type\n * @param {string[]} props\n * @param {string[]} children\n * @param {number} length\n * @return {object}\n */\nexport function ruleset (value, root, parent, index, offset, rules, points, type, props, children, length) {\n\tvar post = offset - 1\n\tvar rule = offset === 0 ? rules : ['']\n\tvar size = sizeof(rule)\n\n\tfor (var i = 0, j = 0, k = 0; i < index; ++i)\n\t\tfor (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x < size; ++x)\n\t\t\tif (z = trim(j > 0 ? rule[x] + ' ' + y : replace(y, /&\\f/g, rule[x])))\n\t\t\t\tprops[k++] = z\n\n\treturn node(value, root, parent, offset === 0 ? RULESET : type, props, children, length)\n}\n\n/**\n * @param {number} value\n * @param {object} root\n * @param {object?} parent\n * @return {object}\n */\nexport function comment (value, root, parent) {\n\treturn node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0)\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} length\n * @return {object}\n */\nexport function declaration (value, root, parent, length) {\n\treturn node(value, root, parent, DECLARATION, substr(value, 0, length), substr(value, length + 1, -1), length)\n}\n","import { StyleSheet } from '@emotion/sheet';\nimport { dealloc, alloc, next, token, from, peek, delimit, slice, position, RULESET, combine, match, serialize, copy, replace, WEBKIT, MOZ, MS, KEYFRAMES, DECLARATION, hash, charat, strlen, indexof, stringify, COMMENT, rulesheet, middleware, compile } from 'stylis';\nimport '@emotion/weak-memoize';\nimport '@emotion/memoize';\n\nvar identifierWithPointTracking = function identifierWithPointTracking(begin, points, index) {\n  var previous = 0;\n  var character = 0;\n\n  while (true) {\n    previous = character;\n    character = peek(); // &\\f\n\n    if (previous === 38 && character === 12) {\n      points[index] = 1;\n    }\n\n    if (token(character)) {\n      break;\n    }\n\n    next();\n  }\n\n  return slice(begin, position);\n};\n\nvar toRules = function toRules(parsed, points) {\n  // pretend we've started with a comma\n  var index = -1;\n  var character = 44;\n\n  do {\n    switch (token(character)) {\n      case 0:\n        // &\\f\n        if (character === 38 && peek() === 12) {\n          // this is not 100% correct, we don't account for literal sequences here - like for example quoted strings\n          // stylis inserts \\f after & to know when & where it should replace this sequence with the context selector\n          // and when it should just concatenate the outer and inner selectors\n          // it's very unlikely for this sequence to actually appear in a different context, so we just leverage this fact here\n          points[index] = 1;\n        }\n\n        parsed[index] += identifierWithPointTracking(position - 1, points, index);\n        break;\n\n      case 2:\n        parsed[index] += delimit(character);\n        break;\n\n      case 4:\n        // comma\n        if (character === 44) {\n          // colon\n          parsed[++index] = peek() === 58 ? '&\\f' : '';\n          points[index] = parsed[index].length;\n          break;\n        }\n\n      // fallthrough\n\n      default:\n        parsed[index] += from(character);\n    }\n  } while (character = next());\n\n  return parsed;\n};\n\nvar getRules = function getRules(value, points) {\n  return dealloc(toRules(alloc(value), points));\n}; // WeakSet would be more appropriate, but only WeakMap is supported in IE11\n\n\nvar fixedElements = /* #__PURE__ */new WeakMap();\nvar compat = function compat(element) {\n  if (element.type !== 'rule' || !element.parent || // positive .length indicates that this rule contains pseudo\n  // negative .length indicates that this rule has been already prefixed\n  element.length < 1) {\n    return;\n  }\n\n  var value = element.value,\n      parent = element.parent;\n  var isImplicitRule = element.column === parent.column && element.line === parent.line;\n\n  while (parent.type !== 'rule') {\n    parent = parent.parent;\n    if (!parent) return;\n  } // short-circuit for the simplest case\n\n\n  if (element.props.length === 1 && value.charCodeAt(0) !== 58\n  /* colon */\n  && !fixedElements.get(parent)) {\n    return;\n  } // if this is an implicitly inserted rule (the one eagerly inserted at the each new nested level)\n  // then the props has already been manipulated beforehand as they that array is shared between it and its \"rule parent\"\n\n\n  if (isImplicitRule) {\n    return;\n  }\n\n  fixedElements.set(element, true);\n  var points = [];\n  var rules = getRules(value, points);\n  var parentRules = parent.props;\n\n  for (var i = 0, k = 0; i < rules.length; i++) {\n    for (var j = 0; j < parentRules.length; j++, k++) {\n      element.props[k] = points[i] ? rules[i].replace(/&\\f/g, parentRules[j]) : parentRules[j] + \" \" + rules[i];\n    }\n  }\n};\nvar removeLabel = function removeLabel(element) {\n  if (element.type === 'decl') {\n    var value = element.value;\n\n    if ( // charcode for l\n    value.charCodeAt(0) === 108 && // charcode for b\n    value.charCodeAt(2) === 98) {\n      // this ignores label\n      element[\"return\"] = '';\n      element.value = '';\n    }\n  }\n};\nvar ignoreFlag = 'emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason';\n\nvar isIgnoringComment = function isIgnoringComment(element) {\n  return element.type === 'comm' && element.children.indexOf(ignoreFlag) > -1;\n};\n\nvar createUnsafeSelectorsAlarm = function createUnsafeSelectorsAlarm(cache) {\n  return function (element, index, children) {\n    if (element.type !== 'rule' || cache.compat) return;\n    var unsafePseudoClasses = element.value.match(/(:first|:nth|:nth-last)-child/g);\n\n    if (unsafePseudoClasses) {\n      var isNested = !!element.parent; // in nested rules comments become children of the \"auto-inserted\" rule and that's always the `element.parent`\n      //\n      // considering this input:\n      // .a {\n      //   .b /* comm */ {}\n      //   color: hotpink;\n      // }\n      // we get output corresponding to this:\n      // .a {\n      //   & {\n      //     /* comm */\n      //     color: hotpink;\n      //   }\n      //   .b {}\n      // }\n\n      var commentContainer = isNested ? element.parent.children : // global rule at the root level\n      children;\n\n      for (var i = commentContainer.length - 1; i >= 0; i--) {\n        var node = commentContainer[i];\n\n        if (node.line < element.line) {\n          break;\n        } // it is quite weird but comments are *usually* put at `column: element.column - 1`\n        // so we seek *from the end* for the node that is earlier than the rule's `element` and check that\n        // this will also match inputs like this:\n        // .a {\n        //   /* comm */\n        //   .b {}\n        // }\n        //\n        // but that is fine\n        //\n        // it would be the easiest to change the placement of the comment to be the first child of the rule:\n        // .a {\n        //   .b { /* comm */ }\n        // }\n        // with such inputs we wouldn't have to search for the comment at all\n        // TODO: consider changing this comment placement in the next major version\n\n\n        if (node.column < element.column) {\n          if (isIgnoringComment(node)) {\n            return;\n          }\n\n          break;\n        }\n      }\n\n      unsafePseudoClasses.forEach(function (unsafePseudoClass) {\n        console.error(\"The pseudo class \\\"\" + unsafePseudoClass + \"\\\" is potentially unsafe when doing server-side rendering. Try changing it to \\\"\" + unsafePseudoClass.split('-child')[0] + \"-of-type\\\".\");\n      });\n    }\n  };\n};\n\nvar isImportRule = function isImportRule(element) {\n  return element.type.charCodeAt(1) === 105 && element.type.charCodeAt(0) === 64;\n};\n\nvar isPrependedWithRegularRules = function isPrependedWithRegularRules(index, children) {\n  for (var i = index - 1; i >= 0; i--) {\n    if (!isImportRule(children[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}; // use this to remove incorrect elements from further processing\n// so they don't get handed to the `sheet` (or anything else)\n// as that could potentially lead to additional logs which in turn could be overhelming to the user\n\n\nvar nullifyElement = function nullifyElement(element) {\n  element.type = '';\n  element.value = '';\n  element[\"return\"] = '';\n  element.children = '';\n  element.props = '';\n};\n\nvar incorrectImportAlarm = function incorrectImportAlarm(element, index, children) {\n  if (!isImportRule(element)) {\n    return;\n  }\n\n  if (element.parent) {\n    console.error(\"`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles.\");\n    nullifyElement(element);\n  } else if (isPrependedWithRegularRules(index, children)) {\n    console.error(\"`@import` rules can't be after other rules. Please put your `@import` rules before your other rules.\");\n    nullifyElement(element);\n  }\n};\n\n/* eslint-disable no-fallthrough */\n\nfunction prefix(value, length) {\n  switch (hash(value, length)) {\n    // color-adjust\n    case 5103:\n      return WEBKIT + 'print-' + value + value;\n    // animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)\n\n    case 5737:\n    case 4201:\n    case 3177:\n    case 3433:\n    case 1641:\n    case 4457:\n    case 2921: // text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break\n\n    case 5572:\n    case 6356:\n    case 5844:\n    case 3191:\n    case 6645:\n    case 3005: // mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,\n\n    case 6391:\n    case 5879:\n    case 5623:\n    case 6135:\n    case 4599:\n    case 4855: // background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)\n\n    case 4215:\n    case 6389:\n    case 5109:\n    case 5365:\n    case 5621:\n    case 3829:\n      return WEBKIT + value + value;\n    // appearance, user-select, transform, hyphens, text-size-adjust\n\n    case 5349:\n    case 4246:\n    case 4810:\n    case 6968:\n    case 2756:\n      return WEBKIT + value + MOZ + value + MS + value + value;\n    // flex, flex-direction\n\n    case 6828:\n    case 4268:\n      return WEBKIT + value + MS + value + value;\n    // order\n\n    case 6165:\n      return WEBKIT + value + MS + 'flex-' + value + value;\n    // align-items\n\n    case 5187:\n      return WEBKIT + value + replace(value, /(\\w+).+(:[^]+)/, WEBKIT + 'box-$1$2' + MS + 'flex-$1$2') + value;\n    // align-self\n\n    case 5443:\n      return WEBKIT + value + MS + 'flex-item-' + replace(value, /flex-|-self/, '') + value;\n    // align-content\n\n    case 4675:\n      return WEBKIT + value + MS + 'flex-line-pack' + replace(value, /align-content|flex-|-self/, '') + value;\n    // flex-shrink\n\n    case 5548:\n      return WEBKIT + value + MS + replace(value, 'shrink', 'negative') + value;\n    // flex-basis\n\n    case 5292:\n      return WEBKIT + value + MS + replace(value, 'basis', 'preferred-size') + value;\n    // flex-grow\n\n    case 6060:\n      return WEBKIT + 'box-' + replace(value, '-grow', '') + WEBKIT + value + MS + replace(value, 'grow', 'positive') + value;\n    // transition\n\n    case 4554:\n      return WEBKIT + replace(value, /([^-])(transform)/g, '$1' + WEBKIT + '$2') + value;\n    // cursor\n\n    case 6187:\n      return replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + '$1'), /(image-set)/, WEBKIT + '$1'), value, '') + value;\n    // background, background-image\n\n    case 5495:\n    case 3959:\n      return replace(value, /(image-set\\([^]*)/, WEBKIT + '$1' + '$`$1');\n    // justify-content\n\n    case 4968:\n      return replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + 'box-pack:$3' + MS + 'flex-pack:$3'), /s.+-b[^;]+/, 'justify') + WEBKIT + value + value;\n    // (margin|padding)-inline-(start|end)\n\n    case 4095:\n    case 3583:\n    case 4068:\n    case 2532:\n      return replace(value, /(.+)-inline(.+)/, WEBKIT + '$1$2') + value;\n    // (min|max)?(width|height|inline-size|block-size)\n\n    case 8116:\n    case 7059:\n    case 5753:\n    case 5535:\n    case 5445:\n    case 5701:\n    case 4933:\n    case 4677:\n    case 5533:\n    case 5789:\n    case 5021:\n    case 4765:\n      // stretch, max-content, min-content, fill-available\n      if (strlen(value) - 1 - length > 6) switch (charat(value, length + 1)) {\n        // (m)ax-content, (m)in-content\n        case 109:\n          // -\n          if (charat(value, length + 4) !== 45) break;\n        // (f)ill-available, (f)it-content\n\n        case 102:\n          return replace(value, /(.+:)(.+)-([^]+)/, '$1' + WEBKIT + '$2-$3' + '$1' + MOZ + (charat(value, length + 3) == 108 ? '$3' : '$2-$3')) + value;\n        // (s)tretch\n\n        case 115:\n          return ~indexof(value, 'stretch') ? prefix(replace(value, 'stretch', 'fill-available'), length) + value : value;\n      }\n      break;\n    // position: sticky\n\n    case 4949:\n      // (s)ticky?\n      if (charat(value, length + 1) !== 115) break;\n    // display: (flex|inline-flex)\n\n    case 6444:\n      switch (charat(value, strlen(value) - 3 - (~indexof(value, '!important') && 10))) {\n        // stic(k)y\n        case 107:\n          return replace(value, ':', ':' + WEBKIT) + value;\n        // (inline-)?fl(e)x\n\n        case 101:\n          return replace(value, /(.+:)([^;!]+)(;|!.+)?/, '$1' + WEBKIT + (charat(value, 14) === 45 ? 'inline-' : '') + 'box$3' + '$1' + WEBKIT + '$2$3' + '$1' + MS + '$2box$3') + value;\n      }\n\n      break;\n    // writing-mode\n\n    case 5936:\n      switch (charat(value, length + 11)) {\n        // vertical-l(r)\n        case 114:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb') + value;\n        // vertical-r(l)\n\n        case 108:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb-rl') + value;\n        // horizontal(-)tb\n\n        case 45:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'lr') + value;\n      }\n\n      return WEBKIT + value + MS + value + value;\n  }\n\n  return value;\n}\n\nvar prefixer = function prefixer(element, index, children, callback) {\n  if (element.length > -1) if (!element[\"return\"]) switch (element.type) {\n    case DECLARATION:\n      element[\"return\"] = prefix(element.value, element.length);\n      break;\n\n    case KEYFRAMES:\n      return serialize([copy(element, {\n        value: replace(element.value, '@', '@' + WEBKIT)\n      })], callback);\n\n    case RULESET:\n      if (element.length) return combine(element.props, function (value) {\n        switch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n          // :read-(only|write)\n          case ':read-only':\n          case ':read-write':\n            return serialize([copy(element, {\n              props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]\n            })], callback);\n          // :placeholder\n\n          case '::placeholder':\n            return serialize([copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]\n            })], callback);\n        }\n\n        return '';\n      });\n  }\n};\n\nvar defaultStylisPlugins = [prefixer];\n\nvar createCache = function createCache(options) {\n  var key = options.key;\n\n  if (process.env.NODE_ENV !== 'production' && !key) {\n    throw new Error(\"You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\\n\" + \"If multiple caches share the same key they might \\\"fight\\\" for each other's style elements.\");\n  }\n\n  if (key === 'css') {\n    var ssrStyles = document.querySelectorAll(\"style[data-emotion]:not([data-s])\"); // get SSRed styles out of the way of React's hydration\n    // document.head is a safe place to move them to(though note document.head is not necessarily the last place they will be)\n    // note this very very intentionally targets all style elements regardless of the key to ensure\n    // that creating a cache works inside of render of a React component\n\n    Array.prototype.forEach.call(ssrStyles, function (node) {\n      // we want to only move elements which have a space in the data-emotion attribute value\n      // because that indicates that it is an Emotion 11 server-side rendered style elements\n      // while we will already ignore Emotion 11 client-side inserted styles because of the :not([data-s]) part in the selector\n      // Emotion 10 client-side inserted styles did not have data-s (but importantly did not have a space in their data-emotion attributes)\n      // so checking for the space ensures that loading Emotion 11 after Emotion 10 has inserted some styles\n      // will not result in the Emotion 10 styles being destroyed\n      var dataEmotionAttribute = node.getAttribute('data-emotion');\n\n      if (dataEmotionAttribute.indexOf(' ') === -1) {\n        return;\n      }\n      document.head.appendChild(node);\n      node.setAttribute('data-s', '');\n    });\n  }\n\n  var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe\n    if (/[^a-z-]/.test(key)) {\n      throw new Error(\"Emotion key must only contain lower case alphabetical characters and - but \\\"\" + key + \"\\\" was passed\");\n    }\n  }\n\n  var inserted = {};\n  var container;\n  var nodesToHydrate = [];\n\n  {\n    container = options.container || document.head;\n    Array.prototype.forEach.call( // this means we will ignore elements which don't have a space in them which\n    // means that the style elements we're looking at are only Emotion 11 server-rendered style elements\n    document.querySelectorAll(\"style[data-emotion^=\\\"\" + key + \" \\\"]\"), function (node) {\n      var attrib = node.getAttribute(\"data-emotion\").split(' '); // $FlowFixMe\n\n      for (var i = 1; i < attrib.length; i++) {\n        inserted[attrib[i]] = true;\n      }\n\n      nodesToHydrate.push(node);\n    });\n  }\n\n  var _insert;\n\n  var omnipresentPlugins = [compat, removeLabel];\n\n  if (process.env.NODE_ENV !== 'production') {\n    omnipresentPlugins.push(createUnsafeSelectorsAlarm({\n      get compat() {\n        return cache.compat;\n      }\n\n    }), incorrectImportAlarm);\n  }\n\n  {\n    var currentSheet;\n    var finalizingPlugins = [stringify, process.env.NODE_ENV !== 'production' ? function (element) {\n      if (!element.root) {\n        if (element[\"return\"]) {\n          currentSheet.insert(element[\"return\"]);\n        } else if (element.value && element.type !== COMMENT) {\n          // insert empty rule in non-production environments\n          // so @emotion/jest can grab `key` from the (JS)DOM for caches without any rules inserted yet\n          currentSheet.insert(element.value + \"{}\");\n        }\n      }\n    } : rulesheet(function (rule) {\n      currentSheet.insert(rule);\n    })];\n    var serializer = middleware(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));\n\n    var stylis = function stylis(styles) {\n      return serialize(compile(styles), serializer);\n    };\n\n    _insert = function insert(selector, serialized, sheet, shouldCache) {\n      currentSheet = sheet;\n\n      if (process.env.NODE_ENV !== 'production' && serialized.map !== undefined) {\n        currentSheet = {\n          insert: function insert(rule) {\n            sheet.insert(rule + serialized.map);\n          }\n        };\n      }\n\n      stylis(selector ? selector + \"{\" + serialized.styles + \"}\" : serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[serialized.name] = true;\n      }\n    };\n  }\n\n  var cache = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy,\n      prepend: options.prepend,\n      insertionPoint: options.insertionPoint\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  cache.sheet.hydrate(nodesToHydrate);\n  return cache;\n};\n\nexport { createCache as default };\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport { murmur2 as default };\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport { memoize as default };\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  aspectRatio: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport { unitlessKeys as default };\n","import * as React from 'react';\n\nvar syncFallback = function syncFallback(create) {\n  return create();\n};\n\nvar useInsertionEffect = React['useInsertion' + 'Effect'] ? React['useInsertion' + 'Effect'] : false;\nvar useInsertionEffectAlwaysWithSyncFallback = useInsertionEffect || syncFallback;\nvar useInsertionEffectWithLayoutFallback = useInsertionEffect || React.useLayoutEffect;\n\nexport { useInsertionEffectAlwaysWithSyncFallback, useInsertionEffectWithLayoutFallback };\n","var isBrowser = \"object\" !== 'undefined';\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className] + \";\");\n    } else {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar registerStyles = function registerStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false ) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n};\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  registerStyles(cache, serialized, isStringTag);\n  var className = cache.key + \"-\" + serialized.name;\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var current = serialized;\n\n    do {\n      cache.insert(serialized === current ? \".\" + className : '', current, cache.sheet, true);\n\n      current = current.next;\n    } while (current !== undefined);\n  }\n};\n\nexport { getRegisteredStyles, insertStyles, registerStyles };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RLP = exports.utils = exports.decode = exports.encode = void 0;\n/**\n * RLP Encoding based on https://ethereum.org/en/developers/docs/data-structures-and-encoding/rlp/\n * This function takes in data, converts it to Uint8Array if not,\n * and adds a length for recursion.\n * @param input Will be converted to Uint8Array\n * @returns Uint8Array of encoded data\n **/\nfunction encode(input) {\n    if (Array.isArray(input)) {\n        const output = [];\n        let outputLength = 0;\n        for (let i = 0; i < input.length; i++) {\n            const encoded = encode(input[i]);\n            output.push(encoded);\n            outputLength += encoded.length;\n        }\n        return concatBytes(encodeLength(outputLength, 192), ...output);\n    }\n    const inputBuf = toBytes(input);\n    if (inputBuf.length === 1 && inputBuf[0] < 128) {\n        return inputBuf;\n    }\n    return concatBytes(encodeLength(inputBuf.length, 128), inputBuf);\n}\nexports.encode = encode;\n/**\n * Slices a Uint8Array, throws if the slice goes out-of-bounds of the Uint8Array.\n * E.g. `safeSlice(hexToBytes('aa'), 1, 2)` will throw.\n * @param input\n * @param start\n * @param end\n */\nfunction safeSlice(input, start, end) {\n    if (end > input.length) {\n        throw new Error('invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds');\n    }\n    return input.slice(start, end);\n}\n/**\n * Parse integers. Check if there is no leading zeros\n * @param v The value to parse\n */\nfunction decodeLength(v) {\n    if (v[0] === 0) {\n        throw new Error('invalid RLP: extra zeros');\n    }\n    return parseHexByte(bytesToHex(v));\n}\nfunction encodeLength(len, offset) {\n    if (len < 56) {\n        return Uint8Array.from([len + offset]);\n    }\n    const hexLength = numberToHex(len);\n    const lLength = hexLength.length / 2;\n    const firstByte = numberToHex(offset + 55 + lLength);\n    return Uint8Array.from(hexToBytes(firstByte + hexLength));\n}\nfunction decode(input, stream = false) {\n    if (typeof input === 'undefined' || input === null || input.length === 0) {\n        return Uint8Array.from([]);\n    }\n    const inputBytes = toBytes(input);\n    const decoded = _decode(inputBytes);\n    if (stream) {\n        return decoded;\n    }\n    if (decoded.remainder.length !== 0) {\n        throw new Error('invalid RLP: remainder must be zero');\n    }\n    return decoded.data;\n}\nexports.decode = decode;\n/** Decode an input with RLP */\nfunction _decode(input) {\n    let length, llength, data, innerRemainder, d;\n    const decoded = [];\n    const firstByte = input[0];\n    if (firstByte <= 0x7f) {\n        // a single byte whose value is in the [0x00, 0x7f] range, that byte is its own RLP encoding.\n        return {\n            data: input.slice(0, 1),\n            remainder: input.slice(1),\n        };\n    }\n    else if (firstByte <= 0xb7) {\n        // string is 0-55 bytes long. A single byte with value 0x80 plus the length of the string followed by the string\n        // The range of the first byte is [0x80, 0xb7]\n        length = firstByte - 0x7f;\n        // set 0x80 null to 0\n        if (firstByte === 0x80) {\n            data = Uint8Array.from([]);\n        }\n        else {\n            data = safeSlice(input, 1, length);\n        }\n        if (length === 2 && data[0] < 0x80) {\n            throw new Error('invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed');\n        }\n        return {\n            data,\n            remainder: input.slice(length),\n        };\n    }\n    else if (firstByte <= 0xbf) {\n        // string is greater than 55 bytes long. A single byte with the value (0xb7 plus the length of the length),\n        // followed by the length, followed by the string\n        llength = firstByte - 0xb6;\n        if (input.length - 1 < llength) {\n            throw new Error('invalid RLP: not enough bytes for string length');\n        }\n        length = decodeLength(safeSlice(input, 1, llength));\n        if (length <= 55) {\n            throw new Error('invalid RLP: expected string length to be greater than 55');\n        }\n        data = safeSlice(input, llength, length + llength);\n        return {\n            data,\n            remainder: input.slice(length + llength),\n        };\n    }\n    else if (firstByte <= 0xf7) {\n        // a list between 0-55 bytes long\n        length = firstByte - 0xbf;\n        innerRemainder = safeSlice(input, 1, length);\n        while (innerRemainder.length) {\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(length),\n        };\n    }\n    else {\n        // a list over 55 bytes long\n        llength = firstByte - 0xf6;\n        length = decodeLength(safeSlice(input, 1, llength));\n        if (length < 56) {\n            throw new Error('invalid RLP: encoded list too short');\n        }\n        const totalLength = llength + length;\n        if (totalLength > input.length) {\n            throw new Error('invalid RLP: total length is larger than the data');\n        }\n        innerRemainder = safeSlice(input, llength, totalLength);\n        while (innerRemainder.length) {\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(totalLength),\n        };\n    }\n}\nconst cachedHexes = Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    // Pre-caching chars with `cachedHexes` speeds this up 6x\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += cachedHexes[uint8a[i]];\n    }\n    return hex;\n}\nfunction parseHexByte(hexByte) {\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte))\n        throw new Error('Invalid byte sequence');\n    return byte;\n}\n// Caching slows it down 2-3x\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex');\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        array[i] = parseHexByte(hex.slice(j, j + 2));\n    }\n    return array;\n}\n/** Concatenates two Uint8Arrays into one. */\nfunction concatBytes(...arrays) {\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nfunction utf8ToBytes(utf) {\n    return new TextEncoder().encode(utf);\n}\n/** Transform an integer into its hexadecimal value */\nfunction numberToHex(integer) {\n    if (integer < 0) {\n        throw new Error('Invalid integer as argument, must be unsigned!');\n    }\n    const hex = integer.toString(16);\n    return hex.length % 2 ? `0${hex}` : hex;\n}\n/** Pad a string to be even */\nfunction padToEven(a) {\n    return a.length % 2 ? `0${a}` : a;\n}\n/** Check if a string is prefixed by 0x */\nfunction isHexPrefixed(str) {\n    return str.length >= 2 && str[0] === '0' && str[1] === 'x';\n}\n/** Removes 0x from a given String */\nfunction stripHexPrefix(str) {\n    if (typeof str !== 'string') {\n        return str;\n    }\n    return isHexPrefixed(str) ? str.slice(2) : str;\n}\n/** Transform anything into a Uint8Array */\nfunction toBytes(v) {\n    if (v instanceof Uint8Array) {\n        return v;\n    }\n    if (typeof v === 'string') {\n        if (isHexPrefixed(v)) {\n            return hexToBytes(padToEven(stripHexPrefix(v)));\n        }\n        return utf8ToBytes(v);\n    }\n    if (typeof v === 'number' || typeof v === 'bigint') {\n        if (!v) {\n            return Uint8Array.from([]);\n        }\n        return hexToBytes(numberToHex(v));\n    }\n    if (v === null || v === undefined) {\n        return Uint8Array.from([]);\n    }\n    throw new Error('toBytes: received unsupported type ' + typeof v);\n}\nexports.utils = {\n    bytesToHex,\n    concatBytes,\n    hexToBytes,\n    utf8ToBytes,\n};\nexports.RLP = { encode, decode };\n","export const version = \"address/5.7.0\";\n","export const version = \"bignumber/5.7.0\";\n","\"use strict\";\n/**\n *  BigNumber\n *\n *  A wrapper around the BN.js object. We use the BN.js library\n *  because it is used by elliptic, so it is required regardless.\n *\n */\nimport _BN from \"bn.js\";\nvar BN = _BN.BN;\nimport { hexlify, isBytes, isHexString } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nconst _constructorGuard = {};\nconst MAX_SAFE = 0x1fffffffffffff;\nexport function isBigNumberish(value) {\n    return (value != null) && (BigNumber.isBigNumber(value) ||\n        (typeof (value) === \"number\" && (value % 1) === 0) ||\n        (typeof (value) === \"string\" && !!value.match(/^-?[0-9]+$/)) ||\n        isHexString(value) ||\n        (typeof (value) === \"bigint\") ||\n        isBytes(value));\n}\n// Only warn about passing 10 into radix once\nlet _warnedToStringRadix = false;\nexport class BigNumber {\n    constructor(constructorGuard, hex) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"cannot call constructor directly; use BigNumber.from\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new (BigNumber)\"\n            });\n        }\n        this._hex = hex;\n        this._isBigNumber = true;\n        Object.freeze(this);\n    }\n    fromTwos(value) {\n        return toBigNumber(toBN(this).fromTwos(value));\n    }\n    toTwos(value) {\n        return toBigNumber(toBN(this).toTwos(value));\n    }\n    abs() {\n        if (this._hex[0] === \"-\") {\n            return BigNumber.from(this._hex.substring(1));\n        }\n        return this;\n    }\n    add(other) {\n        return toBigNumber(toBN(this).add(toBN(other)));\n    }\n    sub(other) {\n        return toBigNumber(toBN(this).sub(toBN(other)));\n    }\n    div(other) {\n        const o = BigNumber.from(other);\n        if (o.isZero()) {\n            throwFault(\"division-by-zero\", \"div\");\n        }\n        return toBigNumber(toBN(this).div(toBN(other)));\n    }\n    mul(other) {\n        return toBigNumber(toBN(this).mul(toBN(other)));\n    }\n    mod(other) {\n        const value = toBN(other);\n        if (value.isNeg()) {\n            throwFault(\"division-by-zero\", \"mod\");\n        }\n        return toBigNumber(toBN(this).umod(value));\n    }\n    pow(other) {\n        const value = toBN(other);\n        if (value.isNeg()) {\n            throwFault(\"negative-power\", \"pow\");\n        }\n        return toBigNumber(toBN(this).pow(value));\n    }\n    and(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"and\");\n        }\n        return toBigNumber(toBN(this).and(value));\n    }\n    or(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"or\");\n        }\n        return toBigNumber(toBN(this).or(value));\n    }\n    xor(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"xor\");\n        }\n        return toBigNumber(toBN(this).xor(value));\n    }\n    mask(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"mask\");\n        }\n        return toBigNumber(toBN(this).maskn(value));\n    }\n    shl(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"shl\");\n        }\n        return toBigNumber(toBN(this).shln(value));\n    }\n    shr(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"shr\");\n        }\n        return toBigNumber(toBN(this).shrn(value));\n    }\n    eq(other) {\n        return toBN(this).eq(toBN(other));\n    }\n    lt(other) {\n        return toBN(this).lt(toBN(other));\n    }\n    lte(other) {\n        return toBN(this).lte(toBN(other));\n    }\n    gt(other) {\n        return toBN(this).gt(toBN(other));\n    }\n    gte(other) {\n        return toBN(this).gte(toBN(other));\n    }\n    isNegative() {\n        return (this._hex[0] === \"-\");\n    }\n    isZero() {\n        return toBN(this).isZero();\n    }\n    toNumber() {\n        try {\n            return toBN(this).toNumber();\n        }\n        catch (error) {\n            throwFault(\"overflow\", \"toNumber\", this.toString());\n        }\n        return null;\n    }\n    toBigInt() {\n        try {\n            return BigInt(this.toString());\n        }\n        catch (e) { }\n        return logger.throwError(\"this platform does not support BigInt\", Logger.errors.UNSUPPORTED_OPERATION, {\n            value: this.toString()\n        });\n    }\n    toString() {\n        // Lots of people expect this, which we do not support, so check (See: #889)\n        if (arguments.length > 0) {\n            if (arguments[0] === 10) {\n                if (!_warnedToStringRadix) {\n                    _warnedToStringRadix = true;\n                    logger.warn(\"BigNumber.toString does not accept any parameters; base-10 is assumed\");\n                }\n            }\n            else if (arguments[0] === 16) {\n                logger.throwError(\"BigNumber.toString does not accept any parameters; use bigNumber.toHexString()\", Logger.errors.UNEXPECTED_ARGUMENT, {});\n            }\n            else {\n                logger.throwError(\"BigNumber.toString does not accept parameters\", Logger.errors.UNEXPECTED_ARGUMENT, {});\n            }\n        }\n        return toBN(this).toString(10);\n    }\n    toHexString() {\n        return this._hex;\n    }\n    toJSON(key) {\n        return { type: \"BigNumber\", hex: this.toHexString() };\n    }\n    static from(value) {\n        if (value instanceof BigNumber) {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            if (value.match(/^-?0x[0-9a-f]+$/i)) {\n                return new BigNumber(_constructorGuard, toHex(value));\n            }\n            if (value.match(/^-?[0-9]+$/)) {\n                return new BigNumber(_constructorGuard, toHex(new BN(value)));\n            }\n            return logger.throwArgumentError(\"invalid BigNumber string\", \"value\", value);\n        }\n        if (typeof (value) === \"number\") {\n            if (value % 1) {\n                throwFault(\"underflow\", \"BigNumber.from\", value);\n            }\n            if (value >= MAX_SAFE || value <= -MAX_SAFE) {\n                throwFault(\"overflow\", \"BigNumber.from\", value);\n            }\n            return BigNumber.from(String(value));\n        }\n        const anyValue = value;\n        if (typeof (anyValue) === \"bigint\") {\n            return BigNumber.from(anyValue.toString());\n        }\n        if (isBytes(anyValue)) {\n            return BigNumber.from(hexlify(anyValue));\n        }\n        if (anyValue) {\n            // Hexable interface (takes priority)\n            if (anyValue.toHexString) {\n                const hex = anyValue.toHexString();\n                if (typeof (hex) === \"string\") {\n                    return BigNumber.from(hex);\n                }\n            }\n            else {\n                // For now, handle legacy JSON-ified values (goes away in v6)\n                let hex = anyValue._hex;\n                // New-form JSON\n                if (hex == null && anyValue.type === \"BigNumber\") {\n                    hex = anyValue.hex;\n                }\n                if (typeof (hex) === \"string\") {\n                    if (isHexString(hex) || (hex[0] === \"-\" && isHexString(hex.substring(1)))) {\n                        return BigNumber.from(hex);\n                    }\n                }\n            }\n        }\n        return logger.throwArgumentError(\"invalid BigNumber value\", \"value\", value);\n    }\n    static isBigNumber(value) {\n        return !!(value && value._isBigNumber);\n    }\n}\n// Normalize the hex string\nfunction toHex(value) {\n    // For BN, call on the hex string\n    if (typeof (value) !== \"string\") {\n        return toHex(value.toString(16));\n    }\n    // If negative, prepend the negative sign to the normalized positive value\n    if (value[0] === \"-\") {\n        // Strip off the negative sign\n        value = value.substring(1);\n        // Cannot have multiple negative signs (e.g. \"--0x04\")\n        if (value[0] === \"-\") {\n            logger.throwArgumentError(\"invalid hex\", \"value\", value);\n        }\n        // Call toHex on the positive component\n        value = toHex(value);\n        // Do not allow \"-0x00\"\n        if (value === \"0x00\") {\n            return value;\n        }\n        // Negate the value\n        return \"-\" + value;\n    }\n    // Add a \"0x\" prefix if missing\n    if (value.substring(0, 2) !== \"0x\") {\n        value = \"0x\" + value;\n    }\n    // Normalize zero\n    if (value === \"0x\") {\n        return \"0x00\";\n    }\n    // Make the string even length\n    if (value.length % 2) {\n        value = \"0x0\" + value.substring(2);\n    }\n    // Trim to smallest even-length string\n    while (value.length > 4 && value.substring(0, 4) === \"0x00\") {\n        value = \"0x\" + value.substring(4);\n    }\n    return value;\n}\nfunction toBigNumber(value) {\n    return BigNumber.from(toHex(value));\n}\nfunction toBN(value) {\n    const hex = BigNumber.from(value).toHexString();\n    if (hex[0] === \"-\") {\n        return (new BN(\"-\" + hex.substring(3), 16));\n    }\n    return new BN(hex.substring(2), 16);\n}\nfunction throwFault(fault, operation, value) {\n    const params = { fault: fault, operation: operation };\n    if (value != null) {\n        params.value = value;\n    }\n    return logger.throwError(fault, Logger.errors.NUMERIC_FAULT, params);\n}\n// value should have no prefix\nexport function _base36To16(value) {\n    return (new BN(value, 36)).toString(16);\n}\n// value should have no prefix\nexport function _base16To36(value) {\n    return (new BN(value, 16)).toString(36);\n}\n","export const version = \"bytes/5.7.0\";\n","import { BigNumber } from \"@ethersproject/bignumber\";\nconst NegativeOne = ( /*#__PURE__*/BigNumber.from(-1));\nconst Zero = ( /*#__PURE__*/BigNumber.from(0));\nconst One = ( /*#__PURE__*/BigNumber.from(1));\nconst Two = ( /*#__PURE__*/BigNumber.from(2));\nconst WeiPerEther = ( /*#__PURE__*/BigNumber.from(\"1000000000000000000\"));\nconst MaxUint256 = ( /*#__PURE__*/BigNumber.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\nconst MinInt256 = ( /*#__PURE__*/BigNumber.from(\"-0x8000000000000000000000000000000000000000000000000000000000000000\"));\nconst MaxInt256 = ( /*#__PURE__*/BigNumber.from(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\nexport { NegativeOne, Zero, One, Two, WeiPerEther, MaxUint256, MinInt256, MaxInt256, };\n","\"use strict\";\nimport sha3 from \"js-sha3\";\nimport { arrayify } from \"@ethersproject/bytes\";\nexport function keccak256(data) {\n    return '0x' + sha3.keccak_256(arrayify(data));\n}\n","export const version = \"logger/5.7.0\";\n","\"use strict\";\nlet _permanentCensorErrors = false;\nlet _censorErrors = false;\nconst LogLevels = { debug: 1, \"default\": 2, info: 2, warning: 3, error: 4, off: 5 };\nlet _logLevel = LogLevels[\"default\"];\nimport { version } from \"./_version\";\nlet _globalLogger = null;\nfunction _checkNormalize() {\n    try {\n        const missing = [];\n        // Make sure all forms of normalization are supported\n        [\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].forEach((form) => {\n            try {\n                if (\"test\".normalize(form) !== \"test\") {\n                    throw new Error(\"bad normalize\");\n                }\n                ;\n            }\n            catch (error) {\n                missing.push(form);\n            }\n        });\n        if (missing.length) {\n            throw new Error(\"missing \" + missing.join(\", \"));\n        }\n        if (String.fromCharCode(0xe9).normalize(\"NFD\") !== String.fromCharCode(0x65, 0x0301)) {\n            throw new Error(\"broken implementation\");\n        }\n    }\n    catch (error) {\n        return error.message;\n    }\n    return null;\n}\nconst _normalizeError = _checkNormalize();\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[\"DEBUG\"] = \"DEBUG\";\n    LogLevel[\"INFO\"] = \"INFO\";\n    LogLevel[\"WARNING\"] = \"WARNING\";\n    LogLevel[\"ERROR\"] = \"ERROR\";\n    LogLevel[\"OFF\"] = \"OFF\";\n})(LogLevel || (LogLevel = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ///////////////////\n    // Generic Errors\n    // Unknown Error\n    ErrorCode[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n    // Not Implemented\n    ErrorCode[\"NOT_IMPLEMENTED\"] = \"NOT_IMPLEMENTED\";\n    // Unsupported Operation\n    //   - operation\n    ErrorCode[\"UNSUPPORTED_OPERATION\"] = \"UNSUPPORTED_OPERATION\";\n    // Network Error (i.e. Ethereum Network, such as an invalid chain ID)\n    //   - event (\"noNetwork\" is not re-thrown in provider.ready; otherwise thrown)\n    ErrorCode[\"NETWORK_ERROR\"] = \"NETWORK_ERROR\";\n    // Some sort of bad response from the server\n    ErrorCode[\"SERVER_ERROR\"] = \"SERVER_ERROR\";\n    // Timeout\n    ErrorCode[\"TIMEOUT\"] = \"TIMEOUT\";\n    ///////////////////\n    // Operational  Errors\n    // Buffer Overrun\n    ErrorCode[\"BUFFER_OVERRUN\"] = \"BUFFER_OVERRUN\";\n    // Numeric Fault\n    //   - operation: the operation being executed\n    //   - fault: the reason this faulted\n    ErrorCode[\"NUMERIC_FAULT\"] = \"NUMERIC_FAULT\";\n    ///////////////////\n    // Argument Errors\n    // Missing new operator to an object\n    //  - name: The name of the class\n    ErrorCode[\"MISSING_NEW\"] = \"MISSING_NEW\";\n    // Invalid argument (e.g. value is incompatible with type) to a function:\n    //   - argument: The argument name that was invalid\n    //   - value: The value of the argument\n    ErrorCode[\"INVALID_ARGUMENT\"] = \"INVALID_ARGUMENT\";\n    // Missing argument to a function:\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"MISSING_ARGUMENT\"] = \"MISSING_ARGUMENT\";\n    // Too many arguments\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"UNEXPECTED_ARGUMENT\"] = \"UNEXPECTED_ARGUMENT\";\n    ///////////////////\n    // Blockchain Errors\n    // Call exception\n    //  - transaction: the transaction\n    //  - address?: the contract address\n    //  - args?: The arguments passed into the function\n    //  - method?: The Solidity method signature\n    //  - errorSignature?: The EIP848 error signature\n    //  - errorArgs?: The EIP848 error parameters\n    //  - reason: The reason (only for EIP848 \"Error(string)\")\n    ErrorCode[\"CALL_EXCEPTION\"] = \"CALL_EXCEPTION\";\n    // Insufficient funds (< value + gasLimit * gasPrice)\n    //   - transaction: the transaction attempted\n    ErrorCode[\"INSUFFICIENT_FUNDS\"] = \"INSUFFICIENT_FUNDS\";\n    // Nonce has already been used\n    //   - transaction: the transaction attempted\n    ErrorCode[\"NONCE_EXPIRED\"] = \"NONCE_EXPIRED\";\n    // The replacement fee for the transaction is too low\n    //   - transaction: the transaction attempted\n    ErrorCode[\"REPLACEMENT_UNDERPRICED\"] = \"REPLACEMENT_UNDERPRICED\";\n    // The gas limit could not be estimated\n    //   - transaction: the transaction passed to estimateGas\n    ErrorCode[\"UNPREDICTABLE_GAS_LIMIT\"] = \"UNPREDICTABLE_GAS_LIMIT\";\n    // The transaction was replaced by one with a higher gas price\n    //   - reason: \"cancelled\", \"replaced\" or \"repriced\"\n    //   - cancelled: true if reason == \"cancelled\" or reason == \"replaced\")\n    //   - hash: original transaction hash\n    //   - replacement: the full TransactionsResponse for the replacement\n    //   - receipt: the receipt of the replacement\n    ErrorCode[\"TRANSACTION_REPLACED\"] = \"TRANSACTION_REPLACED\";\n    ///////////////////\n    // Interaction Errors\n    // The user rejected the action, such as signing a message or sending\n    // a transaction\n    ErrorCode[\"ACTION_REJECTED\"] = \"ACTION_REJECTED\";\n})(ErrorCode || (ErrorCode = {}));\n;\nconst HEX = \"0123456789abcdef\";\nexport class Logger {\n    constructor(version) {\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            value: version,\n            writable: false\n        });\n    }\n    _log(logLevel, args) {\n        const level = logLevel.toLowerCase();\n        if (LogLevels[level] == null) {\n            this.throwArgumentError(\"invalid log level name\", \"logLevel\", logLevel);\n        }\n        if (_logLevel > LogLevels[level]) {\n            return;\n        }\n        console.log.apply(console, args);\n    }\n    debug(...args) {\n        this._log(Logger.levels.DEBUG, args);\n    }\n    info(...args) {\n        this._log(Logger.levels.INFO, args);\n    }\n    warn(...args) {\n        this._log(Logger.levels.WARNING, args);\n    }\n    makeError(message, code, params) {\n        // Errors are being censored\n        if (_censorErrors) {\n            return this.makeError(\"censored error\", code, {});\n        }\n        if (!code) {\n            code = Logger.errors.UNKNOWN_ERROR;\n        }\n        if (!params) {\n            params = {};\n        }\n        const messageDetails = [];\n        Object.keys(params).forEach((key) => {\n            const value = params[key];\n            try {\n                if (value instanceof Uint8Array) {\n                    let hex = \"\";\n                    for (let i = 0; i < value.length; i++) {\n                        hex += HEX[value[i] >> 4];\n                        hex += HEX[value[i] & 0x0f];\n                    }\n                    messageDetails.push(key + \"=Uint8Array(0x\" + hex + \")\");\n                }\n                else {\n                    messageDetails.push(key + \"=\" + JSON.stringify(value));\n                }\n            }\n            catch (error) {\n                messageDetails.push(key + \"=\" + JSON.stringify(params[key].toString()));\n            }\n        });\n        messageDetails.push(`code=${code}`);\n        messageDetails.push(`version=${this.version}`);\n        const reason = message;\n        let url = \"\";\n        switch (code) {\n            case ErrorCode.NUMERIC_FAULT: {\n                url = \"NUMERIC_FAULT\";\n                const fault = message;\n                switch (fault) {\n                    case \"overflow\":\n                    case \"underflow\":\n                    case \"division-by-zero\":\n                        url += \"-\" + fault;\n                        break;\n                    case \"negative-power\":\n                    case \"negative-width\":\n                        url += \"-unsupported\";\n                        break;\n                    case \"unbound-bitwise-result\":\n                        url += \"-unbound-result\";\n                        break;\n                }\n                break;\n            }\n            case ErrorCode.CALL_EXCEPTION:\n            case ErrorCode.INSUFFICIENT_FUNDS:\n            case ErrorCode.MISSING_NEW:\n            case ErrorCode.NONCE_EXPIRED:\n            case ErrorCode.REPLACEMENT_UNDERPRICED:\n            case ErrorCode.TRANSACTION_REPLACED:\n            case ErrorCode.UNPREDICTABLE_GAS_LIMIT:\n                url = code;\n                break;\n        }\n        if (url) {\n            message += \" [ See: https:/\\/links.ethers.org/v5-errors-\" + url + \" ]\";\n        }\n        if (messageDetails.length) {\n            message += \" (\" + messageDetails.join(\", \") + \")\";\n        }\n        // @TODO: Any??\n        const error = new Error(message);\n        error.reason = reason;\n        error.code = code;\n        Object.keys(params).forEach(function (key) {\n            error[key] = params[key];\n        });\n        return error;\n    }\n    throwError(message, code, params) {\n        throw this.makeError(message, code, params);\n    }\n    throwArgumentError(message, name, value) {\n        return this.throwError(message, Logger.errors.INVALID_ARGUMENT, {\n            argument: name,\n            value: value\n        });\n    }\n    assert(condition, message, code, params) {\n        if (!!condition) {\n            return;\n        }\n        this.throwError(message, code, params);\n    }\n    assertArgument(condition, message, name, value) {\n        if (!!condition) {\n            return;\n        }\n        this.throwArgumentError(message, name, value);\n    }\n    checkNormalize(message) {\n        if (message == null) {\n            message = \"platform missing String.prototype.normalize\";\n        }\n        if (_normalizeError) {\n            this.throwError(\"platform missing String.prototype.normalize\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"String.prototype.normalize\", form: _normalizeError\n            });\n        }\n    }\n    checkSafeUint53(value, message) {\n        if (typeof (value) !== \"number\") {\n            return;\n        }\n        if (message == null) {\n            message = \"value not safe\";\n        }\n        if (value < 0 || value >= 0x1fffffffffffff) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"out-of-safe-range\",\n                value: value\n            });\n        }\n        if (value % 1) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"non-integer\",\n                value: value\n            });\n        }\n    }\n    checkArgumentCount(count, expectedCount, message) {\n        if (message) {\n            message = \": \" + message;\n        }\n        else {\n            message = \"\";\n        }\n        if (count < expectedCount) {\n            this.throwError(\"missing argument\" + message, Logger.errors.MISSING_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n        if (count > expectedCount) {\n            this.throwError(\"too many arguments\" + message, Logger.errors.UNEXPECTED_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n    }\n    checkNew(target, kind) {\n        if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    checkAbstract(target, kind) {\n        if (target === kind) {\n            this.throwError(\"cannot instantiate abstract class \" + JSON.stringify(kind.name) + \" directly; use a sub-class\", Logger.errors.UNSUPPORTED_OPERATION, { name: target.name, operation: \"new\" });\n        }\n        else if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    static globalLogger() {\n        if (!_globalLogger) {\n            _globalLogger = new Logger(version);\n        }\n        return _globalLogger;\n    }\n    static setCensorship(censorship, permanent) {\n        if (!censorship && permanent) {\n            this.globalLogger().throwError(\"cannot permanently disable censorship\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        if (_permanentCensorErrors) {\n            if (!censorship) {\n                return;\n            }\n            this.globalLogger().throwError(\"error censorship permanent\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        _censorErrors = !!censorship;\n        _permanentCensorErrors = !!permanent;\n    }\n    static setLogLevel(logLevel) {\n        const level = LogLevels[logLevel.toLowerCase()];\n        if (level == null) {\n            Logger.globalLogger().warn(\"invalid log level - \" + logLevel);\n            return;\n        }\n        _logLevel = level;\n    }\n    static from(version) {\n        return new Logger(version);\n    }\n}\nLogger.errors = ErrorCode;\nLogger.levels = LogLevel;\n","export const version = \"properties/5.7.0\";\n","export const version = \"strings/5.7.0\";\n","\"use strict\";\nimport { arrayify } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n///////////////////////////////\nexport var UnicodeNormalizationForm;\n(function (UnicodeNormalizationForm) {\n    UnicodeNormalizationForm[\"current\"] = \"\";\n    UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\n    UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\n    UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\n    UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\n})(UnicodeNormalizationForm || (UnicodeNormalizationForm = {}));\n;\nexport var Utf8ErrorReason;\n(function (Utf8ErrorReason) {\n    // A continuation byte was present where there was nothing to continue\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"UNEXPECTED_CONTINUE\"] = \"unexpected continuation byte\";\n    // An invalid (non-continuation) byte to start a UTF-8 codepoint was found\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"BAD_PREFIX\"] = \"bad codepoint prefix\";\n    // The string is too short to process the expected codepoint\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"OVERRUN\"] = \"string overrun\";\n    // A missing continuation byte was expected but not found\n    // - offset = the index the continuation byte was expected at\n    Utf8ErrorReason[\"MISSING_CONTINUE\"] = \"missing continuation byte\";\n    // The computed code point is outside the range for UTF-8\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; outside the UTF-8 range\n    Utf8ErrorReason[\"OUT_OF_RANGE\"] = \"out of UTF-8 range\";\n    // UTF-8 strings may not contain UTF-16 surrogate pairs\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; inside the UTF-16 surrogate range\n    Utf8ErrorReason[\"UTF16_SURROGATE\"] = \"UTF-16 surrogate\";\n    // The string is an overlong representation\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; already bounds checked\n    Utf8ErrorReason[\"OVERLONG\"] = \"overlong representation\";\n})(Utf8ErrorReason || (Utf8ErrorReason = {}));\n;\nfunction errorFunc(reason, offset, bytes, output, badCodepoint) {\n    return logger.throwArgumentError(`invalid codepoint at offset ${offset}; ${reason}`, \"bytes\", bytes);\n}\nfunction ignoreFunc(reason, offset, bytes, output, badCodepoint) {\n    // If there is an invalid prefix (including stray continuation), skip any additional continuation bytes\n    if (reason === Utf8ErrorReason.BAD_PREFIX || reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\n        let i = 0;\n        for (let o = offset + 1; o < bytes.length; o++) {\n            if (bytes[o] >> 6 !== 0x02) {\n                break;\n            }\n            i++;\n        }\n        return i;\n    }\n    // This byte runs us past the end of the string, so just jump to the end\n    // (but the first byte was read already read and therefore skipped)\n    if (reason === Utf8ErrorReason.OVERRUN) {\n        return bytes.length - offset - 1;\n    }\n    // Nothing to skip\n    return 0;\n}\nfunction replaceFunc(reason, offset, bytes, output, badCodepoint) {\n    // Overlong representations are otherwise \"valid\" code points; just non-deistingtished\n    if (reason === Utf8ErrorReason.OVERLONG) {\n        output.push(badCodepoint);\n        return 0;\n    }\n    // Put the replacement character into the output\n    output.push(0xfffd);\n    // Otherwise, process as if ignoring errors\n    return ignoreFunc(reason, offset, bytes, output, badCodepoint);\n}\n// Common error handing strategies\nexport const Utf8ErrorFuncs = Object.freeze({\n    error: errorFunc,\n    ignore: ignoreFunc,\n    replace: replaceFunc\n});\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\nfunction getUtf8CodePoints(bytes, onError) {\n    if (onError == null) {\n        onError = Utf8ErrorFuncs.error;\n    }\n    bytes = arrayify(bytes);\n    const result = [];\n    let i = 0;\n    // Invalid bytes are ignored\n    while (i < bytes.length) {\n        const c = bytes[i++];\n        // 0xxx xxxx\n        if (c >> 7 === 0) {\n            result.push(c);\n            continue;\n        }\n        // Multibyte; how many bytes left for this character?\n        let extraLength = null;\n        let overlongMask = null;\n        // 110x xxxx 10xx xxxx\n        if ((c & 0xe0) === 0xc0) {\n            extraLength = 1;\n            overlongMask = 0x7f;\n            // 1110 xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf0) === 0xe0) {\n            extraLength = 2;\n            overlongMask = 0x7ff;\n            // 1111 0xxx 10xx xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf8) === 0xf0) {\n            extraLength = 3;\n            overlongMask = 0xffff;\n        }\n        else {\n            if ((c & 0xc0) === 0x80) {\n                i += onError(Utf8ErrorReason.UNEXPECTED_CONTINUE, i - 1, bytes, result);\n            }\n            else {\n                i += onError(Utf8ErrorReason.BAD_PREFIX, i - 1, bytes, result);\n            }\n            continue;\n        }\n        // Do we have enough bytes in our data?\n        if (i - 1 + extraLength >= bytes.length) {\n            i += onError(Utf8ErrorReason.OVERRUN, i - 1, bytes, result);\n            continue;\n        }\n        // Remove the length prefix from the char\n        let res = c & ((1 << (8 - extraLength - 1)) - 1);\n        for (let j = 0; j < extraLength; j++) {\n            let nextChar = bytes[i];\n            // Invalid continuation byte\n            if ((nextChar & 0xc0) != 0x80) {\n                i += onError(Utf8ErrorReason.MISSING_CONTINUE, i, bytes, result);\n                res = null;\n                break;\n            }\n            ;\n            res = (res << 6) | (nextChar & 0x3f);\n            i++;\n        }\n        // See above loop for invalid continuation byte\n        if (res === null) {\n            continue;\n        }\n        // Maximum code point\n        if (res > 0x10ffff) {\n            i += onError(Utf8ErrorReason.OUT_OF_RANGE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Reserved for UTF-16 surrogate halves\n        if (res >= 0xd800 && res <= 0xdfff) {\n            i += onError(Utf8ErrorReason.UTF16_SURROGATE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Check for overlong sequences (more bytes than needed)\n        if (res <= overlongMask) {\n            i += onError(Utf8ErrorReason.OVERLONG, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        result.push(res);\n    }\n    return result;\n}\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\nexport function toUtf8Bytes(str, form = UnicodeNormalizationForm.current) {\n    if (form != UnicodeNormalizationForm.current) {\n        logger.checkNormalize();\n        str = str.normalize(form);\n    }\n    let result = [];\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charCodeAt(i);\n        if (c < 0x80) {\n            result.push(c);\n        }\n        else if (c < 0x800) {\n            result.push((c >> 6) | 0xc0);\n            result.push((c & 0x3f) | 0x80);\n        }\n        else if ((c & 0xfc00) == 0xd800) {\n            i++;\n            const c2 = str.charCodeAt(i);\n            if (i >= str.length || (c2 & 0xfc00) !== 0xdc00) {\n                throw new Error(\"invalid utf-8 string\");\n            }\n            // Surrogate Pair\n            const pair = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n            result.push((pair >> 18) | 0xf0);\n            result.push(((pair >> 12) & 0x3f) | 0x80);\n            result.push(((pair >> 6) & 0x3f) | 0x80);\n            result.push((pair & 0x3f) | 0x80);\n        }\n        else {\n            result.push((c >> 12) | 0xe0);\n            result.push(((c >> 6) & 0x3f) | 0x80);\n            result.push((c & 0x3f) | 0x80);\n        }\n    }\n    return arrayify(result);\n}\n;\nfunction escapeChar(value) {\n    const hex = (\"0000\" + value.toString(16));\n    return \"\\\\u\" + hex.substring(hex.length - 4);\n}\nexport function _toEscapedUtf8String(bytes, onError) {\n    return '\"' + getUtf8CodePoints(bytes, onError).map((codePoint) => {\n        if (codePoint < 256) {\n            switch (codePoint) {\n                case 8: return \"\\\\b\";\n                case 9: return \"\\\\t\";\n                case 10: return \"\\\\n\";\n                case 13: return \"\\\\r\";\n                case 34: return \"\\\\\\\"\";\n                case 92: return \"\\\\\\\\\";\n            }\n            if (codePoint >= 32 && codePoint < 127) {\n                return String.fromCharCode(codePoint);\n            }\n        }\n        if (codePoint <= 0xffff) {\n            return escapeChar(codePoint);\n        }\n        codePoint -= 0x10000;\n        return escapeChar(((codePoint >> 10) & 0x3ff) + 0xd800) + escapeChar((codePoint & 0x3ff) + 0xdc00);\n    }).join(\"\") + '\"';\n}\nexport function _toUtf8String(codePoints) {\n    return codePoints.map((codePoint) => {\n        if (codePoint <= 0xffff) {\n            return String.fromCharCode(codePoint);\n        }\n        codePoint -= 0x10000;\n        return String.fromCharCode((((codePoint >> 10) & 0x3ff) + 0xd800), ((codePoint & 0x3ff) + 0xdc00));\n    }).join(\"\");\n}\nexport function toUtf8String(bytes, onError) {\n    return _toUtf8String(getUtf8CodePoints(bytes, onError));\n}\nexport function toUtf8CodePoints(str, form = UnicodeNormalizationForm.current) {\n    return getUtf8CodePoints(toUtf8Bytes(str, form));\n}\n","export const version = \"rlp/5.7.0\";\n","\"use strict\";\n//See: https://github.com/ethereum/wiki/wiki/RLP\nimport { arrayify, hexlify, isBytesLike } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nfunction arrayifyInteger(value) {\n    const result = [];\n    while (value) {\n        result.unshift(value & 0xff);\n        value >>= 8;\n    }\n    return result;\n}\nfunction unarrayifyInteger(data, offset, length) {\n    let result = 0;\n    for (let i = 0; i < length; i++) {\n        result = (result * 256) + data[offset + i];\n    }\n    return result;\n}\nfunction _encode(object) {\n    if (Array.isArray(object)) {\n        let payload = [];\n        object.forEach(function (child) {\n            payload = payload.concat(_encode(child));\n        });\n        if (payload.length <= 55) {\n            payload.unshift(0xc0 + payload.length);\n            return payload;\n        }\n        const length = arrayifyInteger(payload.length);\n        length.unshift(0xf7 + length.length);\n        return length.concat(payload);\n    }\n    if (!isBytesLike(object)) {\n        logger.throwArgumentError(\"RLP object must be BytesLike\", \"object\", object);\n    }\n    const data = Array.prototype.slice.call(arrayify(object));\n    if (data.length === 1 && data[0] <= 0x7f) {\n        return data;\n    }\n    else if (data.length <= 55) {\n        data.unshift(0x80 + data.length);\n        return data;\n    }\n    const length = arrayifyInteger(data.length);\n    length.unshift(0xb7 + length.length);\n    return length.concat(data);\n}\nexport function encode(object) {\n    return hexlify(_encode(object));\n}\nfunction _decodeChildren(data, offset, childOffset, length) {\n    const result = [];\n    while (childOffset < offset + 1 + length) {\n        const decoded = _decode(data, childOffset);\n        result.push(decoded.result);\n        childOffset += decoded.consumed;\n        if (childOffset > offset + 1 + length) {\n            logger.throwError(\"child data too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n    }\n    return { consumed: (1 + length), result: result };\n}\n// returns { consumed: number, result: Object }\nfunction _decode(data, offset) {\n    if (data.length === 0) {\n        logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, {});\n    }\n    // Array with extra length prefix\n    if (data[offset] >= 0xf8) {\n        const lengthLength = data[offset] - 0xf7;\n        if (offset + 1 + lengthLength > data.length) {\n            logger.throwError(\"data short segment too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\n        if (offset + 1 + lengthLength + length > data.length) {\n            logger.throwError(\"data long segment too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        return _decodeChildren(data, offset, offset + 1 + lengthLength, lengthLength + length);\n    }\n    else if (data[offset] >= 0xc0) {\n        const length = data[offset] - 0xc0;\n        if (offset + 1 + length > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        return _decodeChildren(data, offset, offset + 1, length);\n    }\n    else if (data[offset] >= 0xb8) {\n        const lengthLength = data[offset] - 0xb7;\n        if (offset + 1 + lengthLength > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\n        if (offset + 1 + lengthLength + length > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const result = hexlify(data.slice(offset + 1 + lengthLength, offset + 1 + lengthLength + length));\n        return { consumed: (1 + lengthLength + length), result: result };\n    }\n    else if (data[offset] >= 0x80) {\n        const length = data[offset] - 0x80;\n        if (offset + 1 + length > data.length) {\n            logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const result = hexlify(data.slice(offset + 1, offset + 1 + length));\n        return { consumed: (1 + length), result: result };\n    }\n    return { consumed: 1, result: hexlify(data[offset]) };\n}\nexport function decode(data) {\n    const bytes = arrayify(data);\n    const decoded = _decode(bytes, 0);\n    if (decoded.consumed !== bytes.length) {\n        logger.throwArgumentError(\"invalid rlp data\", \"data\", data);\n    }\n    return decoded.result;\n}\n","export const version = \"transactions/5.7.0\";\n","\"use strict\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, hexConcat, hexDataLength, hexDataSlice, hexlify, hexZeroPad, isBytesLike, splitSignature, stripZeros, } from \"@ethersproject/bytes\";\nimport { Zero } from \"@ethersproject/constants\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { checkProperties } from \"@ethersproject/properties\";\nimport * as RLP from \"@ethersproject/rlp\";\nimport { computePublicKey, recoverPublicKey } from \"@ethersproject/signing-key\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport var TransactionTypes;\n(function (TransactionTypes) {\n    TransactionTypes[TransactionTypes[\"legacy\"] = 0] = \"legacy\";\n    TransactionTypes[TransactionTypes[\"eip2930\"] = 1] = \"eip2930\";\n    TransactionTypes[TransactionTypes[\"eip1559\"] = 2] = \"eip1559\";\n})(TransactionTypes || (TransactionTypes = {}));\n;\n///////////////////////////////\nfunction handleAddress(value) {\n    if (value === \"0x\") {\n        return null;\n    }\n    return getAddress(value);\n}\nfunction handleNumber(value) {\n    if (value === \"0x\") {\n        return Zero;\n    }\n    return BigNumber.from(value);\n}\n// Legacy Transaction Fields\nconst transactionFields = [\n    { name: \"nonce\", maxLength: 32, numeric: true },\n    { name: \"gasPrice\", maxLength: 32, numeric: true },\n    { name: \"gasLimit\", maxLength: 32, numeric: true },\n    { name: \"to\", length: 20 },\n    { name: \"value\", maxLength: 32, numeric: true },\n    { name: \"data\" },\n];\nconst allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, type: true, value: true\n};\nexport function computeAddress(key) {\n    const publicKey = computePublicKey(key);\n    return getAddress(hexDataSlice(keccak256(hexDataSlice(publicKey, 1)), 12));\n}\nexport function recoverAddress(digest, signature) {\n    return computeAddress(recoverPublicKey(arrayify(digest), signature));\n}\nfunction formatNumber(value, name) {\n    const result = stripZeros(BigNumber.from(value).toHexString());\n    if (result.length > 32) {\n        logger.throwArgumentError(\"invalid length for \" + name, (\"transaction:\" + name), value);\n    }\n    return result;\n}\nfunction accessSetify(addr, storageKeys) {\n    return {\n        address: getAddress(addr),\n        storageKeys: (storageKeys || []).map((storageKey, index) => {\n            if (hexDataLength(storageKey) !== 32) {\n                logger.throwArgumentError(\"invalid access list storageKey\", `accessList[${addr}:${index}]`, storageKey);\n            }\n            return storageKey.toLowerCase();\n        })\n    };\n}\nexport function accessListify(value) {\n    if (Array.isArray(value)) {\n        return value.map((set, index) => {\n            if (Array.isArray(set)) {\n                if (set.length > 2) {\n                    logger.throwArgumentError(\"access list expected to be [ address, storageKeys[] ]\", `value[${index}]`, set);\n                }\n                return accessSetify(set[0], set[1]);\n            }\n            return accessSetify(set.address, set.storageKeys);\n        });\n    }\n    const result = Object.keys(value).map((addr) => {\n        const storageKeys = value[addr].reduce((accum, storageKey) => {\n            accum[storageKey] = true;\n            return accum;\n        }, {});\n        return accessSetify(addr, Object.keys(storageKeys).sort());\n    });\n    result.sort((a, b) => (a.address.localeCompare(b.address)));\n    return result;\n}\nfunction formatAccessList(value) {\n    return accessListify(value).map((set) => [set.address, set.storageKeys]);\n}\nfunction _serializeEip1559(transaction, signature) {\n    // If there is an explicit gasPrice, make sure it matches the\n    // EIP-1559 fees; otherwise they may not understand what they\n    // think they are setting in terms of fee.\n    if (transaction.gasPrice != null) {\n        const gasPrice = BigNumber.from(transaction.gasPrice);\n        const maxFeePerGas = BigNumber.from(transaction.maxFeePerGas || 0);\n        if (!gasPrice.eq(maxFeePerGas)) {\n            logger.throwArgumentError(\"mismatch EIP-1559 gasPrice != maxFeePerGas\", \"tx\", {\n                gasPrice, maxFeePerGas\n            });\n        }\n    }\n    const fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.maxPriorityFeePerGas || 0, \"maxPriorityFeePerGas\"),\n        formatNumber(transaction.maxFeePerGas || 0, \"maxFeePerGas\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? getAddress(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        const sig = splitSignature(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push(stripZeros(sig.r));\n        fields.push(stripZeros(sig.s));\n    }\n    return hexConcat([\"0x02\", RLP.encode(fields)]);\n}\nfunction _serializeEip2930(transaction, signature) {\n    const fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.gasPrice || 0, \"gasPrice\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? getAddress(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        const sig = splitSignature(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push(stripZeros(sig.r));\n        fields.push(stripZeros(sig.s));\n    }\n    return hexConcat([\"0x01\", RLP.encode(fields)]);\n}\n// Legacy Transactions and EIP-155\nfunction _serialize(transaction, signature) {\n    checkProperties(transaction, allowedTransactionKeys);\n    const raw = [];\n    transactionFields.forEach(function (fieldInfo) {\n        let value = transaction[fieldInfo.name] || ([]);\n        const options = {};\n        if (fieldInfo.numeric) {\n            options.hexPad = \"left\";\n        }\n        value = arrayify(hexlify(value, options));\n        // Fixed-width field\n        if (fieldInfo.length && value.length !== fieldInfo.length && value.length > 0) {\n            logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n        }\n        // Variable-width (with a maximum)\n        if (fieldInfo.maxLength) {\n            value = stripZeros(value);\n            if (value.length > fieldInfo.maxLength) {\n                logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n            }\n        }\n        raw.push(hexlify(value));\n    });\n    let chainId = 0;\n    if (transaction.chainId != null) {\n        // A chainId was provided; if non-zero we'll use EIP-155\n        chainId = transaction.chainId;\n        if (typeof (chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid transaction.chainId\", \"transaction\", transaction);\n        }\n    }\n    else if (signature && !isBytesLike(signature) && signature.v > 28) {\n        // No chainId provided, but the signature is signing with EIP-155; derive chainId\n        chainId = Math.floor((signature.v - 35) / 2);\n    }\n    // We have an EIP-155 transaction (chainId was specified and non-zero)\n    if (chainId !== 0) {\n        raw.push(hexlify(chainId)); // @TODO: hexValue?\n        raw.push(\"0x\");\n        raw.push(\"0x\");\n    }\n    // Requesting an unsigned transaction\n    if (!signature) {\n        return RLP.encode(raw);\n    }\n    // The splitSignature will ensure the transaction has a recoveryParam in the\n    // case that the signTransaction function only adds a v.\n    const sig = splitSignature(signature);\n    // We pushed a chainId and null r, s on for hashing only; remove those\n    let v = 27 + sig.recoveryParam;\n    if (chainId !== 0) {\n        raw.pop();\n        raw.pop();\n        raw.pop();\n        v += chainId * 2 + 8;\n        // If an EIP-155 v (directly or indirectly; maybe _vs) was provided, check it!\n        if (sig.v > 28 && sig.v !== v) {\n            logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n        }\n    }\n    else if (sig.v !== v) {\n        logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n    }\n    raw.push(hexlify(v));\n    raw.push(stripZeros(arrayify(sig.r)));\n    raw.push(stripZeros(arrayify(sig.s)));\n    return RLP.encode(raw);\n}\nexport function serialize(transaction, signature) {\n    // Legacy and EIP-155 Transactions\n    if (transaction.type == null || transaction.type === 0) {\n        if (transaction.accessList != null) {\n            logger.throwArgumentError(\"untyped transactions do not support accessList; include type: 1\", \"transaction\", transaction);\n        }\n        return _serialize(transaction, signature);\n    }\n    // Typed Transactions (EIP-2718)\n    switch (transaction.type) {\n        case 1:\n            return _serializeEip2930(transaction, signature);\n        case 2:\n            return _serializeEip1559(transaction, signature);\n        default:\n            break;\n    }\n    return logger.throwError(`unsupported transaction type: ${transaction.type}`, Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"serializeTransaction\",\n        transactionType: transaction.type\n    });\n}\nfunction _parseEipSignature(tx, fields, serialize) {\n    try {\n        const recid = handleNumber(fields[0]).toNumber();\n        if (recid !== 0 && recid !== 1) {\n            throw new Error(\"bad recid\");\n        }\n        tx.v = recid;\n    }\n    catch (error) {\n        logger.throwArgumentError(\"invalid v for transaction type: 1\", \"v\", fields[0]);\n    }\n    tx.r = hexZeroPad(fields[1], 32);\n    tx.s = hexZeroPad(fields[2], 32);\n    try {\n        const digest = keccak256(serialize(tx));\n        tx.from = recoverAddress(digest, { r: tx.r, s: tx.s, recoveryParam: tx.v });\n    }\n    catch (error) { }\n}\nfunction _parseEip1559(payload) {\n    const transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 9 && transaction.length !== 12) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 2\", \"payload\", hexlify(payload));\n    }\n    const maxPriorityFeePerGas = handleNumber(transaction[2]);\n    const maxFeePerGas = handleNumber(transaction[3]);\n    const tx = {\n        type: 2,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        maxPriorityFeePerGas: maxPriorityFeePerGas,\n        maxFeePerGas: maxFeePerGas,\n        gasPrice: null,\n        gasLimit: handleNumber(transaction[4]),\n        to: handleAddress(transaction[5]),\n        value: handleNumber(transaction[6]),\n        data: transaction[7],\n        accessList: accessListify(transaction[8]),\n    };\n    // Unsigned EIP-1559 Transaction\n    if (transaction.length === 9) {\n        return tx;\n    }\n    tx.hash = keccak256(payload);\n    _parseEipSignature(tx, transaction.slice(9), _serializeEip1559);\n    return tx;\n}\nfunction _parseEip2930(payload) {\n    const transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 8 && transaction.length !== 11) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 1\", \"payload\", hexlify(payload));\n    }\n    const tx = {\n        type: 1,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        gasPrice: handleNumber(transaction[2]),\n        gasLimit: handleNumber(transaction[3]),\n        to: handleAddress(transaction[4]),\n        value: handleNumber(transaction[5]),\n        data: transaction[6],\n        accessList: accessListify(transaction[7])\n    };\n    // Unsigned EIP-2930 Transaction\n    if (transaction.length === 8) {\n        return tx;\n    }\n    tx.hash = keccak256(payload);\n    _parseEipSignature(tx, transaction.slice(8), _serializeEip2930);\n    return tx;\n}\n// Legacy Transactions and EIP-155\nfunction _parse(rawTransaction) {\n    const transaction = RLP.decode(rawTransaction);\n    if (transaction.length !== 9 && transaction.length !== 6) {\n        logger.throwArgumentError(\"invalid raw transaction\", \"rawTransaction\", rawTransaction);\n    }\n    const tx = {\n        nonce: handleNumber(transaction[0]).toNumber(),\n        gasPrice: handleNumber(transaction[1]),\n        gasLimit: handleNumber(transaction[2]),\n        to: handleAddress(transaction[3]),\n        value: handleNumber(transaction[4]),\n        data: transaction[5],\n        chainId: 0\n    };\n    // Legacy unsigned transaction\n    if (transaction.length === 6) {\n        return tx;\n    }\n    try {\n        tx.v = BigNumber.from(transaction[6]).toNumber();\n    }\n    catch (error) {\n        // @TODO: What makes snese to do? The v is too big\n        return tx;\n    }\n    tx.r = hexZeroPad(transaction[7], 32);\n    tx.s = hexZeroPad(transaction[8], 32);\n    if (BigNumber.from(tx.r).isZero() && BigNumber.from(tx.s).isZero()) {\n        // EIP-155 unsigned transaction\n        tx.chainId = tx.v;\n        tx.v = 0;\n    }\n    else {\n        // Signed Transaction\n        tx.chainId = Math.floor((tx.v - 35) / 2);\n        if (tx.chainId < 0) {\n            tx.chainId = 0;\n        }\n        let recoveryParam = tx.v - 27;\n        const raw = transaction.slice(0, 6);\n        if (tx.chainId !== 0) {\n            raw.push(hexlify(tx.chainId));\n            raw.push(\"0x\");\n            raw.push(\"0x\");\n            recoveryParam -= tx.chainId * 2 + 8;\n        }\n        const digest = keccak256(RLP.encode(raw));\n        try {\n            tx.from = recoverAddress(digest, { r: hexlify(tx.r), s: hexlify(tx.s), recoveryParam: recoveryParam });\n        }\n        catch (error) { }\n        tx.hash = keccak256(rawTransaction);\n    }\n    tx.type = null;\n    return tx;\n}\nexport function parse(rawTransaction) {\n    const payload = arrayify(rawTransaction);\n    // Legacy and EIP-155 Transactions\n    if (payload[0] > 0x7f) {\n        return _parse(payload);\n    }\n    // Typed Transaction (EIP-2718)\n    switch (payload[0]) {\n        case 1:\n            return _parseEip2930(payload);\n        case 2:\n            return _parseEip1559(payload);\n        default:\n            break;\n    }\n    return logger.throwError(`unsupported transaction type: ${payload[0]}`, Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"parseTransaction\",\n        transactionType: payload[0]\n    });\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ObjectMultiplex = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\nconst end_of_stream_1 = __importDefault(require(\"end-of-stream\"));\nconst once_1 = __importDefault(require(\"once\"));\nconst Substream_1 = require(\"./Substream\");\nconst IGNORE_SUBSTREAM = Symbol('IGNORE_SUBSTREAM');\nclass ObjectMultiplex extends readable_stream_1.Duplex {\n    constructor(opts = {}) {\n        super(Object.assign(Object.assign({}, opts), { objectMode: true }));\n        this._substreams = {};\n    }\n    createStream(name) {\n        // guard stream against destroyed already\n        if (this.destroyed) {\n            throw new Error(`ObjectMultiplex - parent stream for name \"${name}\" already destroyed`);\n        }\n        // guard stream against ended already\n        if (this._readableState.ended || this._writableState.ended) {\n            throw new Error(`ObjectMultiplex - parent stream for name \"${name}\" already ended`);\n        }\n        // validate name\n        if (!name) {\n            throw new Error('ObjectMultiplex - name must not be empty');\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // create substream\n        const substream = new Substream_1.Substream({ parent: this, name });\n        this._substreams[name] = substream;\n        // listen for parent stream to end\n        anyStreamEnd(this, (_error) => {\n            return substream.destroy(_error || undefined);\n        });\n        return substream;\n    }\n    // ignore streams (dont display orphaned data warning)\n    ignoreStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error('ObjectMultiplex - name must not be empty');\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // set\n        this._substreams[name] = IGNORE_SUBSTREAM;\n    }\n    _read() {\n        return undefined;\n    }\n    _write(chunk, _encoding, callback) {\n        const { name, data } = chunk;\n        if (!name) {\n            console.warn(`ObjectMultiplex - malformed chunk without name \"${chunk}\"`);\n            return callback();\n        }\n        // get corresponding substream\n        const substream = this._substreams[name];\n        if (!substream) {\n            console.warn(`ObjectMultiplex - orphaned data for stream \"${name}\"`);\n            return callback();\n        }\n        // push data into substream\n        if (substream !== IGNORE_SUBSTREAM) {\n            substream.push(data);\n        }\n        return callback();\n    }\n}\nexports.ObjectMultiplex = ObjectMultiplex;\n// util\nfunction anyStreamEnd(stream, _cb) {\n    const cb = once_1.default(_cb);\n    end_of_stream_1.default(stream, { readable: false }, cb);\n    end_of_stream_1.default(stream, { writable: false }, cb);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Substream = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\nclass Substream extends readable_stream_1.Duplex {\n    constructor({ parent, name }) {\n        super({ objectMode: true });\n        this._parent = parent;\n        this._name = name;\n    }\n    /**\n     * Explicitly sets read operations to a no-op.\n     */\n    _read() {\n        return undefined;\n    }\n    /**\n     * Called when data should be written to this writable stream.\n     *\n     * @param chunk - Arbitrary object to write\n     * @param encoding - Encoding to use when writing payload\n     * @param callback - Called when writing is complete or an error occurs\n     */\n    _write(chunk, _encoding, callback) {\n        this._parent.push({\n            name: this._name,\n            data: chunk,\n        });\n        callback();\n    }\n}\nexports.Substream = Substream;\n","\"use strict\";\nconst ObjectMultiplex_1 = require(\"./ObjectMultiplex\");\nmodule.exports = ObjectMultiplex_1.ObjectMultiplex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nfunction safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    }\n    catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(() => {\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for (let i = 0; i < n; i += 1) {\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events_1.EventEmitter {\n    emit(type, ...args) {\n        let doError = type === 'error';\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        }\n        else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ''}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === 'function') {\n            safeApply(handler, this, args);\n        }\n        else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for (let i = 0; i < len; i += 1) {\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nexports.default = SafeEventEmitter;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Program = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst accounts_1 = require(\"./accounts\");\nconst buffer_1 = require(\"buffer\");\nclass Program {\n    static findProgramAddress(seeds) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield web3_js_1.PublicKey.findProgramAddress(seeds, this.PUBKEY))[0];\n        });\n    }\n    static getProgramAccounts(connection, configOrCommitment) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const extra = {};\n            let commitment;\n            if (configOrCommitment) {\n                if (typeof configOrCommitment === 'string') {\n                    commitment = configOrCommitment;\n                }\n                else {\n                    commitment = configOrCommitment.commitment;\n                    if (configOrCommitment.dataSlice) {\n                        extra.dataSlice = configOrCommitment.dataSlice;\n                    }\n                    if (configOrCommitment.filters) {\n                        extra.filters = configOrCommitment.filters;\n                    }\n                }\n            }\n            const args = connection._buildArgs([this.PUBKEY.toBase58()], commitment, 'base64', extra);\n            const unsafeRes = yield connection._rpcRequest('getProgramAccounts', args);\n            return unsafeRes.result\n                .map(({ account: { data, executable, lamports, owner }, pubkey }) => ({\n                account: {\n                    data: buffer_1.Buffer.from(data[0], 'base64'),\n                    executable,\n                    lamports,\n                    owner: new web3_js_1.PublicKey(owner),\n                },\n                pubkey: new web3_js_1.PublicKey(pubkey),\n            }))\n                .map(({ pubkey, account }) => new accounts_1.Account(pubkey, account));\n        });\n    }\n}\nexports.Program = Program;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transaction = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nclass Transaction extends web3_js_1.Transaction {\n    constructor(options) {\n        super(options);\n    }\n    static fromCombined(transactions, options = {}) {\n        const combinedTransaction = new Transaction(options);\n        transactions.forEach((transaction) => transaction.instructions.forEach((instruction) => {\n            combinedTransaction.add(instruction);\n        }));\n        return combinedTransaction;\n    }\n}\nexports.Transaction = Transaction;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst buffer_1 = require(\"buffer\");\nconst errors_1 = require(\"../errors\");\nclass Account {\n    constructor(pubkey, info) {\n        this.pubkey = new web3_js_1.PublicKey(pubkey);\n        this.info = info;\n    }\n    static from(account) {\n        return new this(account.pubkey, account.info);\n    }\n    static load(connection, pubkey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const info = yield Account.getInfo(connection, pubkey);\n            return new this(pubkey, info);\n        });\n    }\n    static isCompatible(_data) {\n        throw new Error(`method 'isCompatible' is not implemented`);\n    }\n    static getInfo(connection, pubkey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const info = yield connection.getAccountInfo(new web3_js_1.PublicKey(pubkey));\n            if (!info) {\n                throw (0, errors_1.ERROR_ACCOUNT_NOT_FOUND)(pubkey);\n            }\n            return Object.assign(Object.assign({}, info), { data: buffer_1.Buffer.from(info === null || info === void 0 ? void 0 : info.data) });\n        });\n    }\n    static getInfos(connection, pubkeys, commitment = 'recent') {\n        return __awaiter(this, void 0, void 0, function* () {\n            const BATCH_SIZE = 99;\n            const promises = [];\n            for (let i = 0; i < pubkeys.length; i += BATCH_SIZE) {\n                promises.push(Account.getMultipleAccounts(connection, pubkeys.slice(i, Math.min(pubkeys.length, i + BATCH_SIZE)), commitment));\n            }\n            const results = new Map();\n            (yield Promise.all(promises)).forEach((result) => { var _a; return [...((_a = result === null || result === void 0 ? void 0 : result.entries()) !== null && _a !== void 0 ? _a : [])].forEach(([k, v]) => results.set(k, v)); });\n            return results;\n        });\n    }\n    static getMultipleAccounts(connection, pubkeys, commitment) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const args = connection._buildArgs([pubkeys.map((k) => k.toString())], commitment, 'base64');\n            const unsafeRes = yield connection._rpcRequest('getMultipleAccounts', args);\n            if (unsafeRes.error) {\n                throw new Error('failed to get info about accounts ' + unsafeRes.error.message);\n            }\n            if (!unsafeRes.result.value)\n                return;\n            const infos = unsafeRes.result.value\n                .filter(Boolean)\n                .map((info) => (Object.assign(Object.assign({}, info), { data: buffer_1.Buffer.from(info.data[0], 'base64') })));\n            return infos.reduce((acc, info, index) => {\n                acc.set(pubkeys[index], info);\n                return acc;\n            }, new Map());\n        });\n    }\n    assertOwner(pubkey) {\n        var _a;\n        return (_a = this.info) === null || _a === void 0 ? void 0 : _a.owner.equals(new web3_js_1.PublicKey(pubkey));\n    }\n    toJSON() {\n        var _a, _b, _c, _d, _e;\n        return {\n            pubkey: this.pubkey.toString(),\n            info: {\n                executable: !!((_a = this.info) === null || _a === void 0 ? void 0 : _a.executable),\n                owner: ((_b = this.info) === null || _b === void 0 ? void 0 : _b.owner) ? new web3_js_1.PublicKey((_c = this.info) === null || _c === void 0 ? void 0 : _c.owner) : null,\n                lamports: (_d = this.info) === null || _d === void 0 ? void 0 : _d.lamports,\n                data: (_e = this.info) === null || _e === void 0 ? void 0 : _e.data.toJSON(),\n            },\n            data: this.data,\n        };\n    }\n    toString() {\n        return JSON.stringify(this.toJSON());\n    }\n}\nexports.Account = Account;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deserialize = exports.TokenAccount = void 0;\nconst errors_1 = require(\"../errors\");\nconst Account_1 = require(\"./Account\");\nconst spl_token_1 = require(\"@solana/spl-token\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nclass TokenAccount extends Account_1.Account {\n    constructor(pubkey, info) {\n        super(pubkey, info);\n        if (!this.assertOwner(spl_token_1.TOKEN_PROGRAM_ID)) {\n            throw (0, errors_1.ERROR_INVALID_OWNER)();\n        }\n        if (!TokenAccount.isCompatible(this.info.data)) {\n            throw (0, errors_1.ERROR_INVALID_ACCOUNT_DATA)();\n        }\n        this.data = (0, exports.deserialize)(this.info.data);\n    }\n    static isCompatible(data) {\n        return data.length === spl_token_1.AccountLayout.span;\n    }\n    static getTokenAccountsByOwner(connection, owner) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield connection.getTokenAccountsByOwner(new web3_js_1.PublicKey(owner), {\n                programId: spl_token_1.TOKEN_PROGRAM_ID,\n            })).value.map(({ pubkey, account }) => new TokenAccount(pubkey, account));\n        });\n    }\n}\nexports.TokenAccount = TokenAccount;\nconst deserialize = (data) => {\n    const accountInfo = spl_token_1.AccountLayout.decode(data);\n    accountInfo.mint = new web3_js_1.PublicKey(accountInfo.mint);\n    accountInfo.owner = new web3_js_1.PublicKey(accountInfo.owner);\n    accountInfo.amount = spl_token_1.u64.fromBuffer(accountInfo.amount);\n    if (accountInfo.delegateOption === 0) {\n        accountInfo.delegate = null;\n        accountInfo.delegatedAmount = new spl_token_1.u64(0);\n    }\n    else {\n        accountInfo.delegate = new web3_js_1.PublicKey(accountInfo.delegate);\n        accountInfo.delegatedAmount = spl_token_1.u64.fromBuffer(accountInfo.delegatedAmount);\n    }\n    accountInfo.isInitialized = accountInfo.state !== 0;\n    accountInfo.isFrozen = accountInfo.state === 2;\n    if (accountInfo.isNativeOption === 1) {\n        accountInfo.rentExemptReserve = spl_token_1.u64.fromBuffer(accountInfo.isNative);\n        accountInfo.isNative = true;\n    }\n    else {\n        accountInfo.rentExemptReserve = null;\n        accountInfo.isNative = false;\n    }\n    if (accountInfo.closeAuthorityOption === 0) {\n        accountInfo.closeAuthority = null;\n    }\n    else {\n        accountInfo.closeAuthority = new web3_js_1.PublicKey(accountInfo.closeAuthority);\n    }\n    return accountInfo;\n};\nexports.deserialize = deserialize;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Account\"), exports);\n__exportStar(require(\"./TokenAccount\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = void 0;\nexports.config = {\n    arweaveWallet: 'HvwC9QSAzvGXhhVrgPmauVwFWcYZhne3hVot9EbHuFTm',\n    programs: {\n        auction: 'auctxRXPeJoc4817jDhf4HbjnhEcr1cCXenosMhK5R8',\n        metadata: 'metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s',\n        metaplex: 'p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98',\n        vault: 'vau1zxA2LbssAUEF7Gpw91zMM1LvXrvpzJtmZ58rPsn',\n        packs: 'BNRmGgciUJuyznkYHnmitA9an1BcDDiU9JmjEQwvBYVR',\n        memo: 'MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr',\n        token: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n    },\n    maxCreatorLimit: 5,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERROR_ACCOUNT_NOT_FOUND = exports.ERROR_DEPRECATED_ACCOUNT_DATA = exports.ERROR_INVALID_ACCOUNT_DATA = exports.ERROR_INVALID_OWNER = exports.MetaplexError = exports.ErrorCode = void 0;\nvar ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"ERROR_INVALID_OWNER\"] = 0] = \"ERROR_INVALID_OWNER\";\n    ErrorCode[ErrorCode[\"ERROR_INVALID_ACCOUNT_DATA\"] = 1] = \"ERROR_INVALID_ACCOUNT_DATA\";\n    ErrorCode[ErrorCode[\"ERROR_DEPRECATED_ACCOUNT_DATA\"] = 2] = \"ERROR_DEPRECATED_ACCOUNT_DATA\";\n    ErrorCode[ErrorCode[\"ERROR_ACCOUNT_NOT_FOUND\"] = 3] = \"ERROR_ACCOUNT_NOT_FOUND\";\n})(ErrorCode = exports.ErrorCode || (exports.ErrorCode = {}));\nclass MetaplexError extends Error {\n    constructor(errorCode, message) {\n        super(message);\n        this.errorCode = errorCode;\n    }\n}\nexports.MetaplexError = MetaplexError;\nconst ERROR_INVALID_OWNER = () => {\n    return new MetaplexError(ErrorCode.ERROR_INVALID_OWNER, 'Invalid owner');\n};\nexports.ERROR_INVALID_OWNER = ERROR_INVALID_OWNER;\nconst ERROR_INVALID_ACCOUNT_DATA = () => {\n    return new MetaplexError(ErrorCode.ERROR_INVALID_ACCOUNT_DATA, 'Invalid data');\n};\nexports.ERROR_INVALID_ACCOUNT_DATA = ERROR_INVALID_ACCOUNT_DATA;\nconst ERROR_DEPRECATED_ACCOUNT_DATA = () => {\n    return new MetaplexError(ErrorCode.ERROR_DEPRECATED_ACCOUNT_DATA, 'Account data is deprecated');\n};\nexports.ERROR_DEPRECATED_ACCOUNT_DATA = ERROR_DEPRECATED_ACCOUNT_DATA;\nconst ERROR_ACCOUNT_NOT_FOUND = (pubkey) => {\n    return new MetaplexError(ErrorCode.ERROR_ACCOUNT_NOT_FOUND, `Unable to find account: ${pubkey}`);\n};\nexports.ERROR_ACCOUNT_NOT_FOUND = ERROR_ACCOUNT_NOT_FOUND;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./accounts\"), exports);\n__exportStar(require(\"./config\"), exports);\n__exportStar(require(\"./errors\"), exports);\n__exportStar(require(\"./Program\"), exports);\n__exportStar(require(\"./Transaction\"), exports);\n__exportStar(require(\"./types\"), exports);\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serialize = exports.deserializeUnchecked = exports.deserialize = exports.struct = exports.Data = exports.extendBorsh = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst borsh_1 = require(\"borsh\");\nObject.defineProperty(exports, \"deserializeUnchecked\", { enumerable: true, get: function () { return borsh_1.deserializeUnchecked; } });\nObject.defineProperty(exports, \"serialize\", { enumerable: true, get: function () { return borsh_1.serialize; } });\nObject.defineProperty(exports, \"deserialize\", { enumerable: true, get: function () { return borsh_1.deserialize; } });\nconst bs58_1 = __importDefault(require(\"bs58\"));\nconst extendBorsh = () => {\n    borsh_1.BinaryReader.prototype.readPubkey = function () {\n        const array = this.readFixedArray(32);\n        return new web3_js_1.PublicKey(array);\n    };\n    borsh_1.BinaryWriter.prototype.writePubkey = function (value) {\n        this.writeFixedArray(value.toBuffer());\n    };\n    borsh_1.BinaryReader.prototype.readPubkeyAsString = function () {\n        const array = this.readFixedArray(32);\n        return bs58_1.default.encode(array);\n    };\n    borsh_1.BinaryWriter.prototype.writePubkeyAsString = function (value) {\n        this.writeFixedArray(bs58_1.default.decode(value));\n    };\n};\nexports.extendBorsh = extendBorsh;\n(0, exports.extendBorsh)();\nclass Data {\n    constructor(args = {}) {\n        Object.assign(this, args);\n    }\n    static struct(fields) {\n        return (0, exports.struct)(this, fields);\n    }\n    static serialize(args = {}) {\n        return Buffer.from((0, borsh_1.serialize)(this.SCHEMA, new this(args)));\n    }\n    static deserialize(data) {\n        return (0, borsh_1.deserializeUnchecked)(this.SCHEMA, this, data);\n    }\n}\nexports.Data = Data;\nconst struct = (type, fields) => {\n    return new Map([[type, { kind: 'struct', fields }]]);\n};\nexports.struct = struct;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Borsh = void 0;\nexports.Borsh = __importStar(require(\"./borsh\"));\n__exportStar(require(\"./tupleNumeric\"), exports);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBNFromData = exports.TupleNumericType = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nvar TupleNumericType;\n(function (TupleNumericType) {\n    TupleNumericType[TupleNumericType[\"U8\"] = 1] = \"U8\";\n    TupleNumericType[TupleNumericType[\"U16\"] = 2] = \"U16\";\n    TupleNumericType[TupleNumericType[\"U32\"] = 4] = \"U32\";\n    TupleNumericType[TupleNumericType[\"U64\"] = 8] = \"U64\";\n})(TupleNumericType = exports.TupleNumericType || (exports.TupleNumericType = {}));\nconst getBNFromData = (data, offset, dataType) => {\n    switch (dataType) {\n        case TupleNumericType.U8:\n            return new bn_js_1.default(data[offset], 'le');\n        case TupleNumericType.U16:\n            return new bn_js_1.default(data.slice(offset, offset + 2), 'le');\n        case TupleNumericType.U32:\n            return new bn_js_1.default(data.slice(offset, offset + 4), 'le');\n        case TupleNumericType.U64:\n            return new bn_js_1.default(data.slice(offset, offset + 8), 'le');\n    }\n};\nexports.getBNFromData = getBNFromData;\n","import * as React from 'react';\nconst ThemeContext = /*#__PURE__*/React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'ThemeContext';\n}\n\nexport default ThemeContext;","import * as React from 'react';\nimport ThemeContext from './ThemeContext';\nexport default function useTheme() {\n  const theme = React.useContext(ThemeContext);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n\n  return theme;\n}","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport { isPropValid as default };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\nimport { withEmotionCache, ThemeContext } from '@emotion/react';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\nvar testOmitPropsOnStringTag = isPropValid;\n\nvar testOmitPropsOnComponent = function testOmitPropsOnComponent(key) {\n  return key !== 'theme';\n};\n\nvar getDefaultShouldForwardProp = function getDefaultShouldForwardProp(tag) {\n  return typeof tag === 'string' && // 96 is one less than the char code\n  // for \"a\" so this is checking that\n  // it's a lowercase character\n  tag.charCodeAt(0) > 96 ? testOmitPropsOnStringTag : testOmitPropsOnComponent;\n};\nvar composeShouldForwardProps = function composeShouldForwardProps(tag, options, isReal) {\n  var shouldForwardProp;\n\n  if (options) {\n    var optionsShouldForwardProp = options.shouldForwardProp;\n    shouldForwardProp = tag.__emotion_forwardProp && optionsShouldForwardProp ? function (propName) {\n      return tag.__emotion_forwardProp(propName) && optionsShouldForwardProp(propName);\n    } : optionsShouldForwardProp;\n  }\n\n  if (typeof shouldForwardProp !== 'function' && isReal) {\n    shouldForwardProp = tag.__emotion_forwardProp;\n  }\n\n  return shouldForwardProp;\n};\n\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar createStyled = function createStyled(tag, options) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (tag === undefined) {\n      throw new Error('You are trying to create a styled element with an undefined component.\\nYou may have forgotten to import it.');\n    }\n  }\n\n  var isReal = tag.__emotion_real === tag;\n  var baseTag = isReal && tag.__emotion_base || tag;\n  var identifierName;\n  var targetClassName;\n\n  if (options !== undefined) {\n    identifierName = options.label;\n    targetClassName = options.target;\n  }\n\n  var shouldForwardProp = composeShouldForwardProps(tag, options, isReal);\n  var defaultShouldForwardProp = shouldForwardProp || getDefaultShouldForwardProp(baseTag);\n  var shouldUseAs = !defaultShouldForwardProp('as');\n  return function () {\n    var args = arguments;\n    var styles = isReal && tag.__emotion_styles !== undefined ? tag.__emotion_styles.slice(0) : [];\n\n    if (identifierName !== undefined) {\n      styles.push(\"label:\" + identifierName + \";\");\n    }\n\n    if (args[0] == null || args[0].raw === undefined) {\n      styles.push.apply(styles, args);\n    } else {\n      if (process.env.NODE_ENV !== 'production' && args[0][0] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles.push(args[0][0]);\n      var len = args.length;\n      var i = 1;\n\n      for (; i < len; i++) {\n        if (process.env.NODE_ENV !== 'production' && args[0][i] === undefined) {\n          console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n        }\n\n        styles.push(args[i], args[0][i]);\n      }\n    } // $FlowFixMe: we need to cast StatelessFunctionalComponent to our PrivateStyledComponent class\n\n\n    var Styled = withEmotionCache(function (props, cache, ref) {\n      var FinalTag = shouldUseAs && props.as || baseTag;\n      var className = '';\n      var classInterpolations = [];\n      var mergedProps = props;\n\n      if (props.theme == null) {\n        mergedProps = {};\n\n        for (var key in props) {\n          mergedProps[key] = props[key];\n        }\n\n        mergedProps.theme = React.useContext(ThemeContext);\n      }\n\n      if (typeof props.className === 'string') {\n        className = getRegisteredStyles(cache.registered, classInterpolations, props.className);\n      } else if (props.className != null) {\n        className = props.className + \" \";\n      }\n\n      var serialized = serializeStyles(styles.concat(classInterpolations), cache.registered, mergedProps);\n      className += cache.key + \"-\" + serialized.name;\n\n      if (targetClassName !== undefined) {\n        className += \" \" + targetClassName;\n      }\n\n      var finalShouldForwardProp = shouldUseAs && shouldForwardProp === undefined ? getDefaultShouldForwardProp(FinalTag) : defaultShouldForwardProp;\n      var newProps = {};\n\n      for (var _key in props) {\n        if (shouldUseAs && _key === 'as') continue;\n\n        if ( // $FlowFixMe\n        finalShouldForwardProp(_key)) {\n          newProps[_key] = props[_key];\n        }\n      }\n\n      newProps.className = className;\n      newProps.ref = ref;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n        cache: cache,\n        serialized: serialized,\n        isStringTag: typeof FinalTag === 'string'\n      }), /*#__PURE__*/React.createElement(FinalTag, newProps));\n    });\n    Styled.displayName = identifierName !== undefined ? identifierName : \"Styled(\" + (typeof baseTag === 'string' ? baseTag : baseTag.displayName || baseTag.name || 'Component') + \")\";\n    Styled.defaultProps = tag.defaultProps;\n    Styled.__emotion_real = Styled;\n    Styled.__emotion_base = baseTag;\n    Styled.__emotion_styles = styles;\n    Styled.__emotion_forwardProp = shouldForwardProp;\n    Object.defineProperty(Styled, 'toString', {\n      value: function value() {\n        if (targetClassName === undefined && process.env.NODE_ENV !== 'production') {\n          return 'NO_COMPONENT_SELECTOR';\n        } // $FlowFixMe: coerce undefined to string\n\n\n        return \".\" + targetClassName;\n      }\n    });\n\n    Styled.withComponent = function (nextTag, nextOptions) {\n      return createStyled(nextTag, _extends({}, options, nextOptions, {\n        shouldForwardProp: composeShouldForwardProps(Styled, nextOptions, true)\n      })).apply(void 0, styles);\n    };\n\n    return Styled;\n  };\n};\n\nexport { createStyled as default };\n","import createStyled from '../base/dist/emotion-styled-base.browser.esm.js';\nimport '@babel/runtime/helpers/extends';\nimport 'react';\nimport '@emotion/is-prop-valid';\nimport '@emotion/react';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\n\nvar tags = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\nvar newStyled = createStyled.bind();\ntags.forEach(function (tagName) {\n  // $FlowFixMe: we can ignore this because its exposed type is defined by the CreateStyled type\n  newStyled[tagName] = newStyled(tagName);\n});\n\nexport { newStyled as default };\n","/** @license MUI v5.10.8\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/* eslint-disable no-underscore-dangle */\nimport emStyled from '@emotion/styled';\nexport default function styled(tag, options) {\n  const stylesFactory = emStyled(tag, options);\n\n  if (process.env.NODE_ENV !== 'production') {\n    return (...styles) => {\n      const component = typeof tag === 'string' ? `\"${tag}\"` : 'component';\n\n      if (styles.length === 0) {\n        console.error([`MUI: Seems like you called \\`styled(${component})()\\` without a \\`style\\` argument.`, 'You must provide a `styles` argument: `styled(\"div\")(styleYouForgotToPass)`.'].join('\\n'));\n      } else if (styles.some(style => style === undefined)) {\n        console.error(`MUI: the styled(${component})(...args) API requires all its args to be defined.`);\n      }\n\n      return stylesFactory(...styles);\n    };\n  }\n\n  return stylesFactory;\n} // eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport const internal_processStyles = (tag, processor) => {\n  // Emotion attaches all the styles as `__emotion_styles`.\n  // Ref: https://github.com/emotion-js/emotion/blob/16d971d0da229596d6bcc39d282ba9753c9ee7cf/packages/styled/src/base.js#L186\n  if (Array.isArray(tag.__emotion_styles)) {\n    tag.__emotion_styles = processor(tag.__emotion_styles);\n  }\n};\nexport { ThemeContext, keyframes, css } from '@emotion/react';\nexport { default as StyledEngineProvider } from './StyledEngineProvider';\nexport { default as GlobalStyles } from './GlobalStyles';","import { Buffer } from 'buffer';\nexport { Buffer } from 'buffer';\n\n/**\n * Built on top of rlp library, removing the BN dependency for the flow.\n * Package : https://github.com/ethereumjs/rlp\n * RLP License : https://github.com/ethereumjs/rlp/blob/master/LICENSE\n *\n * ethereumjs/rlp is licensed under the\n * Mozilla Public License 2.0\n * Permissions of this weak copyleft license are conditioned on making available source code of licensed files and modifications of those files under the same license (or in certain cases, one of the GNU licenses). Copyright and license notices must be preserved. Contributors provide an express grant of patent rights. However, a larger work using the licensed work may be distributed under different terms and without source code for files added in the larger work.\n **/\n\n/**\n * @param input - will be converted to buffer\n * @returns returns buffer of encoded data\n **/\nfunction encode(input) {\n  if (Array.isArray(input)) {\n    var output = [];\n    for (var i = 0; i < input.length; i++) {\n      output.push(encode(input[i]));\n    }\n    var buf = Buffer.concat(output);\n    return Buffer.concat([encodeLength(buf.length, 192), buf]);\n  } else {\n    var inputBuf = toBuffer(input);\n    return inputBuf.length === 1 && inputBuf[0] < 128 ? inputBuf : Buffer.concat([encodeLength(inputBuf.length, 128), inputBuf]);\n  }\n}\n\n/**\n * Parse integers. Check if there is no leading zeros\n * @param v The value to parse\n * @param base The base to parse the integer into\n */\nfunction safeParseInt(v, base) {\n  if (v.slice(0, 2) === \"00\") {\n    throw new Error(\"invalid RLP: extra zeros\");\n  }\n  return parseInt(v, base);\n}\nfunction encodeLength(len, offset) {\n  if (len < 56) {\n    return Buffer.from([len + offset]);\n  } else {\n    var hexLength = intToHex(len);\n    var lLength = hexLength.length / 2;\n    var firstByte = intToHex(offset + 55 + lLength);\n    return Buffer.from(firstByte + hexLength, \"hex\");\n  }\n}\n\n/**\n * Built on top of rlp library, removing the BN dependency for the flow.\n * Package : https://github.com/ethereumjs/rlp\n * RLP License : https://github.com/ethereumjs/rlp/blob/master/LICENSE\n *\n * ethereumjs/rlp is licensed under the\n * Mozilla Public License 2.0\n * Permissions of this weak copyleft license are conditioned on making available source code of licensed files and modifications of those files under the same license (or in certain cases, one of the GNU licenses). Copyright and license notices must be preserved. Contributors provide an express grant of patent rights. However, a larger work using the licensed work may be distributed under different terms and without source code for files added in the larger work.\n **/\n\n/**\n * @param input - will be converted to buffer\n * @param stream Is the input a stream (false by default)\n * @returns returns buffer of encoded data\n **/\nfunction decode(input, stream) {\n  if (stream === void 0) {\n    stream = false;\n  }\n  if (!input || input.length === 0) {\n    return Buffer.from([]);\n  }\n  var inputBuffer = toBuffer(input);\n  var decoded = _decode(inputBuffer);\n  if (stream) {\n    return decoded;\n  }\n  if (decoded.remainder.length !== 0) {\n    throw new Error(\"invalid remainder\");\n  }\n  return decoded.data;\n}\n\n/**\n * Get the length of the RLP input\n * @param input\n * @returns The length of the input or an empty Buffer if no input\n */\nfunction getLength(input) {\n  if (!input || input.length === 0) {\n    return Buffer.from([]);\n  }\n  var inputBuffer = toBuffer(input);\n  var firstByte = inputBuffer[0];\n  if (firstByte <= 0x7f) {\n    return inputBuffer.length;\n  } else if (firstByte <= 0xb7) {\n    return firstByte - 0x7f;\n  } else if (firstByte <= 0xbf) {\n    return firstByte - 0xb6;\n  } else if (firstByte <= 0xf7) {\n    // a list between  0-55 bytes long\n    return firstByte - 0xbf;\n  } else {\n    // a list  over 55 bytes long\n    var llength = firstByte - 0xf6;\n    var length = safeParseInt(inputBuffer.slice(1, llength).toString(\"hex\"), 16);\n    return llength + length;\n  }\n}\n\n/** Decode an input with RLP */\nfunction _decode(input) {\n  var length, llength, data, innerRemainder, d;\n  var decoded = [];\n  var firstByte = input[0];\n  if (firstByte <= 0x7f) {\n    // a single byte whose value is in the [0x00, 0x7f] range, that byte is its own RLP encoding.\n    return {\n      data: input.slice(0, 1),\n      remainder: input.slice(1)\n    };\n  } else if (firstByte <= 0xb7) {\n    // string is 0-55 bytes long. A single byte with value 0x80 plus the length of the string followed by the string\n    // The range of the first byte is [0x80, 0xb7]\n    length = firstByte - 0x7f;\n    // set 0x80 null to 0\n    if (firstByte === 0x80) {\n      data = Buffer.from([]);\n    } else {\n      data = input.slice(1, length);\n    }\n    if (length === 2 && data[0] < 0x80) {\n      throw new Error(\"invalid rlp encoding: byte must be less 0x80\");\n    }\n    return {\n      data: data,\n      remainder: input.slice(length)\n    };\n  } else if (firstByte <= 0xbf) {\n    llength = firstByte - 0xb6;\n    length = safeParseInt(input.slice(1, llength).toString(\"hex\"), 16);\n    data = input.slice(llength, length + llength);\n    if (data.length < length) {\n      throw new Error(\"invalid RLP\");\n    }\n    return {\n      data: data,\n      remainder: input.slice(length + llength)\n    };\n  } else if (firstByte <= 0xf7) {\n    // a list between  0-55 bytes long\n    length = firstByte - 0xbf;\n    innerRemainder = input.slice(1, length);\n    while (innerRemainder.length) {\n      d = _decode(innerRemainder);\n      decoded.push(d.data);\n      innerRemainder = d.remainder;\n    }\n    return {\n      data: decoded,\n      remainder: input.slice(length)\n    };\n  } else {\n    // a list  over 55 bytes long\n    llength = firstByte - 0xf6;\n    length = safeParseInt(input.slice(1, llength).toString(\"hex\"), 16);\n    var totalLength = llength + length;\n    if (totalLength > input.length) {\n      throw new Error(\"invalid rlp: total length is larger than the data\");\n    }\n    innerRemainder = input.slice(llength, totalLength);\n    if (innerRemainder.length === 0) {\n      throw new Error(\"invalid rlp, List has a invalid length\");\n    }\n    while (innerRemainder.length) {\n      d = _decode(innerRemainder);\n      decoded.push(d.data);\n      innerRemainder = d.remainder;\n    }\n    return {\n      data: decoded,\n      remainder: input.slice(totalLength)\n    };\n  }\n}\n/** Check if a string is prefixed by 0x */\nfunction isHexPrefixed(str) {\n  return str.slice(0, 2) === \"0x\";\n}\n/** Removes 0x from a given String */\nfunction stripHexPrefix(str) {\n  if (typeof str !== \"string\") {\n    return str;\n  }\n  return isHexPrefixed(str) ? str.slice(2) : str;\n}\n/** Transform an integer into its hexadecimal value */\nfunction intToHex(integer) {\n  if (integer < 0) {\n    throw new Error(\"Invalid integer as argument, must be unsigned!\");\n  }\n  var hex = integer.toString(16);\n  return hex.length % 2 ? \"0\" + hex : hex;\n}\n/** Pad a string to be even */\nfunction padToEven(a) {\n  return a.length % 2 ? \"0\" + a : a;\n}\n/** Transform an integer into a Buffer */\nfunction intToBuffer(integer) {\n  var hex = intToHex(integer);\n  return Buffer.from(hex, \"hex\");\n}\n\n/** Transform anything into a Buffer */\nfunction toBuffer(v) {\n  if (!Buffer.isBuffer(v)) {\n    if (typeof v === \"string\") {\n      if (isHexPrefixed(v)) {\n        return Buffer.from(padToEven(stripHexPrefix(v)), \"hex\");\n      } else {\n        return Buffer.from(v);\n      }\n    } else if (typeof v === \"number\") {\n      if (!v) {\n        return Buffer.from([]);\n      } else {\n        return intToBuffer(v);\n      }\n    } else if (v === null || v === undefined) {\n      return Buffer.from([]);\n    } else if (v instanceof Uint8Array) {\n      return Buffer.from(v);\n    } else {\n      throw new Error(\"invalid type\");\n    }\n  }\n  return v;\n}\n\nexport { decode, encode, getLength, toBuffer };\n","import queueMicrotask from 'queue-microtask';\n\nconst mailbox = () => {\n  const queue = [];\n  var next;\n  return {\n    async deliver(msg) {\n      queue.push(msg);\n      if (next) {\n        next(queue.shift());\n        next = undefined;\n      }\n    },\n    receive() {\n      return new Promise(function innerReceive(resolve) {\n        const msg = queue.shift();\n        if (msg) return resolve(msg);\n        next = resolve;\n      });\n    }\n  };\n};\n\nconst INIT = \"INIT\";\nconst SUBSCRIBE = \"SUBSCRIBE\";\nconst UNSUBSCRIBE = \"UNSUBSCRIBE\";\nconst UPDATED = \"UPDATED\";\nconst SNAPSHOT = \"SNAPSHOT\";\nconst EXIT = \"EXIT\";\nconst TERMINATE = \"TERMINATE\";\nconst root = typeof self === \"object\" && self.self === self && self || typeof global === \"object\" && global.global === global && global || typeof window === \"object\" && window.window === window && window;\nroot.FCL_REGISTRY = root.FCL_REGISTRY == null ? {} : root.FCL_REGISTRY;\nvar pid = 0b0;\nconst DEFAULT_TIMEOUT = 5000;\nconst send = function (addr, tag, data) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  return new Promise((reply, reject) => {\n    const expectReply = opts.expectReply || false;\n    const timeout = opts.timeout != null ? opts.timeout : DEFAULT_TIMEOUT;\n    if (expectReply && timeout) {\n      setTimeout(() => reject(new Error(`Timeout: ${timeout}ms passed without a response.`)), timeout);\n    }\n    const payload = {\n      to: addr,\n      from: opts.from,\n      tag,\n      data,\n      timeout,\n      reply,\n      reject\n    };\n    try {\n      root.FCL_REGISTRY[addr] && root.FCL_REGISTRY[addr].mailbox.deliver(payload);\n      if (!expectReply) reply(true);\n    } catch (error) {\n      console.error(\"FCL.Actor -- Could Not Deliver Message\", payload, root.FCL_REGISTRY[addr], error);\n    }\n  });\n};\nconst kill = addr => {\n  delete root.FCL_REGISTRY[addr];\n};\nconst fromHandlers = function () {\n  let handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return async ctx => {\n    if (typeof handlers[INIT] === \"function\") await handlers[INIT](ctx);\n    __loop: while (1) {\n      const letter = await ctx.receive();\n      try {\n        if (letter.tag === EXIT) {\n          if (typeof handlers[TERMINATE] === \"function\") {\n            await handlers[TERMINATE](ctx, letter, letter.data || {});\n          }\n          break __loop;\n        }\n        await handlers[letter.tag](ctx, letter, letter.data || {});\n      } catch (error) {\n        console.error(`${ctx.self()} Error`, letter, error);\n      } finally {\n        continue __loop;\n      }\n    }\n  };\n};\nconst spawn = function (fn) {\n  let addr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (addr == null) addr = ++pid;\n  if (root.FCL_REGISTRY[addr] != null) return addr;\n  root.FCL_REGISTRY[addr] = {\n    addr,\n    mailbox: mailbox(),\n    subs: new Set(),\n    kvs: {},\n    error: null\n  };\n  const ctx = {\n    self: () => addr,\n    receive: () => root.FCL_REGISTRY[addr].mailbox.receive(),\n    send: function (to, tag, data) {\n      let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      opts.from = addr;\n      return send(to, tag, data, opts);\n    },\n    sendSelf: (tag, data, opts) => {\n      if (root.FCL_REGISTRY[addr]) send(addr, tag, data, opts);\n    },\n    broadcast: function (tag, data) {\n      let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      opts.from = addr;\n      for (let to of root.FCL_REGISTRY[addr].subs) send(to, tag, data, opts);\n    },\n    subscribe: sub => sub != null && root.FCL_REGISTRY[addr].subs.add(sub),\n    unsubscribe: sub => sub != null && root.FCL_REGISTRY[addr].subs.delete(sub),\n    subscriberCount: () => root.FCL_REGISTRY[addr].subs.size,\n    hasSubs: () => !!root.FCL_REGISTRY[addr].subs.size,\n    put: (key, value) => {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = value;\n    },\n    get: (key, fallback) => {\n      const value = root.FCL_REGISTRY[addr].kvs[key];\n      return value == null ? fallback : value;\n    },\n    delete: key => {\n      delete root.FCL_REGISTRY[addr].kvs[key];\n    },\n    update: (key, fn) => {\n      if (key != null) root.FCL_REGISTRY[addr].kvs[key] = fn(root.FCL_REGISTRY[addr].kvs[key]);\n    },\n    keys: () => {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs);\n    },\n    all: () => {\n      return root.FCL_REGISTRY[addr].kvs;\n    },\n    where: pattern => {\n      return Object.keys(root.FCL_REGISTRY[addr].kvs).reduce((acc, key) => {\n        return pattern.test(key) ? {\n          ...acc,\n          [key]: root.FCL_REGISTRY[addr].kvs[key]\n        } : acc;\n      }, {});\n    },\n    merge: function () {\n      let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.keys(data).forEach(key => root.FCL_REGISTRY[addr].kvs[key] = data[key]);\n    },\n    fatalError: error => {\n      root.FCL_REGISTRY[addr].error = error;\n      for (let to of root.FCL_REGISTRY[addr].subs) send(to, UPDATED);\n    }\n  };\n  if (typeof fn === \"object\") fn = fromHandlers(fn);\n  queueMicrotask(async () => {\n    await fn(ctx);\n    kill(addr);\n  });\n  return addr;\n};\n\n// Returns an unsubscribe function\n// A SUBSCRIBE handler will need to be created to handle the subscription event\n//\n//  [SUBSCRIBE]: (ctx, letter) => {\n//    ctx.subscribe(letter.from)\n//    ctx.send(letter.from, UPDATED, ctx.all())\n//  }\n//\nfunction subscriber(address, spawnFn, callback) {\n  spawnFn(address);\n  const EXIT = \"@EXIT\";\n  const self = spawn(async ctx => {\n    ctx.send(address, SUBSCRIBE);\n    while (1) {\n      const letter = await ctx.receive();\n      const error = root.FCL_REGISTRY[address].error;\n      if (letter.tag === EXIT) {\n        ctx.send(address, UNSUBSCRIBE);\n        return;\n      }\n      if (error) {\n        callback(null, error);\n        ctx.send(address, UNSUBSCRIBE);\n        return;\n      }\n      callback(letter.data, null);\n    }\n  });\n  return () => send(self, EXIT);\n}\n\n// Returns a promise that returns a result\n// A SNAPSHOT handler will need to be created to handle the snapshot event\n//\n//  [SNAPSHOT]: (ctx, letter) => {\n//    letter.reply(ctx.all())\n//  }\n//\nfunction snapshoter(address, spawnFn) {\n  spawnFn(address);\n  return send(address, SNAPSHOT, null, {\n    expectReply: true,\n    timeout: 0\n  });\n}\n\nexport { EXIT, INIT, SNAPSHOT, SUBSCRIBE, TERMINATE, UNSUBSCRIBE, UPDATED, kill, send, snapshoter, spawn, subscriber };\n","/**\n * @description Removes 0x from address if present\n * @param {string} address - Flow address\n * @returns {string} - Flow address without 0x prefix\n */\nfunction sansPrefix(address) {\n  if (address == null) return null;\n  return address.replace(/^0x/, \"\").replace(/^Fx/, \"\");\n}\n\n/**\n * @description Adds 0x to address if not already present\n * @param {string} address - Flow address\n * @returns {string} - Flow address with 0x prefix\n */\nfunction withPrefix(address) {\n  if (address == null) return null;\n  return \"0x\" + sansPrefix(address);\n}\n\n/**\n * @description Adds 0x to address if not already present\n * @param {string} address - Flow address\n * @returns {string} - Flow address with 0x prefix\n */\nfunction display(address) {\n  return withPrefix(address);\n}\n\nexport { display, sansPrefix, withPrefix };\n","/**\n * Asserts fact is true, otherwise throw an error with invariant message\n * @param {boolean} fact\n * @param {string} msg\n * @param {Array} rest\n * @returns {void}\n */\nfunction invariant(fact, msg) {\n  if (!fact) {\n    const error = new Error(`INVARIANT ${msg}`);\n    error.stack = error.stack.split(\"\\n\").filter(d => !/at invariant/.test(d)).join(\"\\n\");\n    for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      rest[_key - 2] = arguments[_key];\n    }\n    console.error(\"\\n\\n---\\n\\n\", error, \"\\n\\n\", ...rest, \"\\n\\n---\\n\\n\");\n    throw error;\n  }\n}\n\nexport { invariant };\n","import { config } from '@onflow/config';\n\n/**\n * The levels of the logger\n * \n * @typedef {Object} LEVELS\n * @property {number} debug - The debug level\n * @property {number} info - The info level\n * @property {number} log - The log level\n * @property {number} warn - The warn level\n * @property {number} error - The error level\n * \n */\nconst LEVELS = Object.freeze({\n  debug: 5,\n  info: 4,\n  log: 3,\n  warn: 2,\n  error: 1\n});\n\n/**\n * Builds a message formatted for the logger\n * \n * @param {Object} options - The options for the log\n * @param {string} options.title - The title of the log\n * @param {string} options.message - The message of the log\n * @returns {Array<string>} - The message formatted for the logger\n * \n * @example\n * buildLoggerMessageArgs({ title: \"My Title\", message: \"My Message\" })\n */\nconst buildLoggerMessageArgs = _ref => {\n  let {\n    title,\n    message\n  } = _ref;\n  return [`\n    %c${title}\n    ============================\n\n    ${message}\n\n    ============================\n    `.replace(/\\n[^\\S\\r\\n]+/g, \"\\n\").trim(),, \"font-weight:bold;font-family:monospace;\"];\n};\n\n/**\n * Logs messages based on the level of the message and the level set in the config\n * \n * @param {Object} options - The options for the log\n * @param {string} options.title - The title of the log\n * @param {string} options.message - The message of the log\n * @param {number} options.level - The level of the log\n * @param {boolean} options.always - Whether to always show the log\n * @returns {Promise<void>}\n * \n * @example\n * log({ title: \"My Title\", message: \"My Message\", level: LEVELS.warn, always: false })\n * \n */\nconst log = async _ref2 => {\n  let {\n    title,\n    message,\n    level,\n    always = false\n  } = _ref2;\n  const configLoggerLevel = await config.get(\"logger.level\", LEVELS.warn);\n\n  // If config level is below message level then don't show it\n  if (!always && configLoggerLevel < level) return;\n  const loggerMessageArgs = buildLoggerMessageArgs({\n    title,\n    message\n  });\n  switch (level) {\n    case LEVELS.debug:\n      console.debug(...loggerMessageArgs);\n      break;\n    case LEVELS.info:\n      console.info(...loggerMessageArgs);\n      break;\n    case LEVELS.warn:\n      console.warn(...loggerMessageArgs);\n      break;\n    case LEVELS.error:\n      console.error(...loggerMessageArgs);\n      break;\n    default:\n      console.log(...loggerMessageArgs);\n  }\n};\n\n/**\n * Logs a deprecation notice\n * \n * @param {Object} options - The options for the log\n * @param {string} options.pkg - The package that is being deprecated\n * @param {string} options.subject - The subject of the deprecation\n * @param {string} options.transition - The transition path for the deprecation\n * @param {number} options.level - The level of the log\n * @param {string} options.message - The message of the log\n * @param {Function} options.callback - A callback to run after the log\n * @returns {Promise<void>}\n * \n * @example\n * log.deprecate({ pkg: \"@onflow/fcl\", subject: \"Some item\", transition: \"https://github.com/onflow/flow-js-sdk\", message: \"Descriptive message\", level: LEVELS.warn, callback: () => {} })\n * \n */\nlog.deprecate = _ref3 => {\n  let {\n    pkg,\n    subject,\n    transition,\n    level = LEVELS.warn,\n    message = \"\",\n    callback = null\n  } = _ref3;\n  const capitalizeFirstLetter = string => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n  const logMessage = () => log({\n    title: `${pkg ? pkg + \" \" : \"\"}Deprecation Notice`,\n    message: `\n      ${subject ? `${capitalizeFirstLetter(subject)} is deprecated and will cease to work in future releases${pkg ? \" of \" + pkg : \"\"}.` : \"\"}${message ? \"\\n\" + message : \"\"}${transition ? `\\nYou can learn more (including a guide on common transition paths) here: ${transition}` : \"\"}\n    `.trim(),\n    level\n  });\n  if (typeof callback === \"function\") {\n    return async function () {\n      await logMessage();\n      return await callback(...arguments);\n    };\n  }\n  return logMessage();\n};\n\nexport { LEVELS, log };\n","/**\n * Generates a unique identifier\n * @returns {string}\n */\nvar HEX = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\nvar T = HEX.length;\nfunction uid() {\n  var str = \"\",\n    num = 32;\n  while (num--) str += HEX[Math.random() * T | 0];\n  return str;\n}\n\nexport { uid };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.once = exports.Emitter = exports.ALL_EVENTS = void 0;\n/**\n * All events are emitted using this key.\n */\nexports.ALL_EVENTS = Symbol(\"ALL_EVENTS\");\n/**\n * Create an `off` function given an input.\n */\nfunction add(stack, value) {\n    stack.add(value);\n    return function off() {\n        return stack.delete(value);\n    };\n}\n/**\n * Emit an event.\n */\nfunction emit(stack, ...args) {\n    if (stack)\n        for (const { fn } of stack)\n            fn(...args);\n}\n/**\n * Type-safe event emitter.\n */\nclass Emitter {\n    constructor() {\n        this.$ = Object.create(null);\n    }\n    on(type, fn) {\n        const stack = (this.$[type] = this.$[type] || new Set());\n        return add(stack, { fn });\n    }\n    emit(type, ...args) {\n        emit(this.$[type], ...args);\n        emit(this.$[exports.ALL_EVENTS], { type, args });\n    }\n}\nexports.Emitter = Emitter;\n/**\n * Helper to listen to an event once only.\n */\nfunction once(events, type, callback) {\n    const off = events.on(type, function once(...args) {\n        off();\n        return callback(...args);\n    });\n    return off;\n}\nexports.once = once;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package binary provides functions for encoding and decoding numbers in byte arrays.\n */\nvar int_1 = require(\"@stablelib/int\");\n// TODO(dchest): add asserts for correct value ranges and array offsets.\n/**\n * Reads 2 bytes from array starting at offset as big-endian\n * signed 16-bit integer and returns it.\n */\nfunction readInt16BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (((array[offset + 0] << 8) | array[offset + 1]) << 16) >> 16;\n}\nexports.readInt16BE = readInt16BE;\n/**\n * Reads 2 bytes from array starting at offset as big-endian\n * unsigned 16-bit integer and returns it.\n */\nfunction readUint16BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset + 0] << 8) | array[offset + 1]) >>> 0;\n}\nexports.readUint16BE = readUint16BE;\n/**\n * Reads 2 bytes from array starting at offset as little-endian\n * signed 16-bit integer and returns it.\n */\nfunction readInt16LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (((array[offset + 1] << 8) | array[offset]) << 16) >> 16;\n}\nexports.readInt16LE = readInt16LE;\n/**\n * Reads 2 bytes from array starting at offset as little-endian\n * unsigned 16-bit integer and returns it.\n */\nfunction readUint16LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset + 1] << 8) | array[offset]) >>> 0;\n}\nexports.readUint16LE = readUint16LE;\n/**\n * Writes 2-byte big-endian representation of 16-bit unsigned\n * value to byte array starting at offset.\n *\n * If byte array is not given, creates a new 2-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint16BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(2); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 8;\n    out[offset + 1] = value >>> 0;\n    return out;\n}\nexports.writeUint16BE = writeUint16BE;\nexports.writeInt16BE = writeUint16BE;\n/**\n * Writes 2-byte little-endian representation of 16-bit unsigned\n * value to array starting at offset.\n *\n * If byte array is not given, creates a new 2-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint16LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(2); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 0;\n    out[offset + 1] = value >>> 8;\n    return out;\n}\nexports.writeUint16LE = writeUint16LE;\nexports.writeInt16LE = writeUint16LE;\n/**\n * Reads 4 bytes from array starting at offset as big-endian\n * signed 32-bit integer and returns it.\n */\nfunction readInt32BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (array[offset] << 24) |\n        (array[offset + 1] << 16) |\n        (array[offset + 2] << 8) |\n        array[offset + 3];\n}\nexports.readInt32BE = readInt32BE;\n/**\n * Reads 4 bytes from array starting at offset as big-endian\n * unsigned 32-bit integer and returns it.\n */\nfunction readUint32BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset] << 24) |\n        (array[offset + 1] << 16) |\n        (array[offset + 2] << 8) |\n        array[offset + 3]) >>> 0;\n}\nexports.readUint32BE = readUint32BE;\n/**\n * Reads 4 bytes from array starting at offset as little-endian\n * signed 32-bit integer and returns it.\n */\nfunction readInt32LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (array[offset + 3] << 24) |\n        (array[offset + 2] << 16) |\n        (array[offset + 1] << 8) |\n        array[offset];\n}\nexports.readInt32LE = readInt32LE;\n/**\n * Reads 4 bytes from array starting at offset as little-endian\n * unsigned 32-bit integer and returns it.\n */\nfunction readUint32LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset + 3] << 24) |\n        (array[offset + 2] << 16) |\n        (array[offset + 1] << 8) |\n        array[offset]) >>> 0;\n}\nexports.readUint32LE = readUint32LE;\n/**\n * Writes 4-byte big-endian representation of 32-bit unsigned\n * value to byte array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint32BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 24;\n    out[offset + 1] = value >>> 16;\n    out[offset + 2] = value >>> 8;\n    out[offset + 3] = value >>> 0;\n    return out;\n}\nexports.writeUint32BE = writeUint32BE;\nexports.writeInt32BE = writeUint32BE;\n/**\n * Writes 4-byte little-endian representation of 32-bit unsigned\n * value to array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint32LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 0;\n    out[offset + 1] = value >>> 8;\n    out[offset + 2] = value >>> 16;\n    out[offset + 3] = value >>> 24;\n    return out;\n}\nexports.writeUint32LE = writeUint32LE;\nexports.writeInt32LE = writeUint32LE;\n/**\n * Reads 8 bytes from array starting at offset as big-endian\n * signed 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports exact\n * numbers in range -9007199254740991 to 9007199254740991.\n * If the number stored in the byte array is outside this range,\n * the result is not exact.\n */\nfunction readInt64BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var hi = readInt32BE(array, offset);\n    var lo = readInt32BE(array, offset + 4);\n    return hi * 0x100000000 + lo - ((lo >> 31) * 0x100000000);\n}\nexports.readInt64BE = readInt64BE;\n/**\n * Reads 8 bytes from array starting at offset as big-endian\n * unsigned 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports values up to 2^53-1.\n */\nfunction readUint64BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var hi = readUint32BE(array, offset);\n    var lo = readUint32BE(array, offset + 4);\n    return hi * 0x100000000 + lo;\n}\nexports.readUint64BE = readUint64BE;\n/**\n * Reads 8 bytes from array starting at offset as little-endian\n * signed 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports exact\n * numbers in range -9007199254740991 to 9007199254740991.\n * If the number stored in the byte array is outside this range,\n * the result is not exact.\n */\nfunction readInt64LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var lo = readInt32LE(array, offset);\n    var hi = readInt32LE(array, offset + 4);\n    return hi * 0x100000000 + lo - ((lo >> 31) * 0x100000000);\n}\nexports.readInt64LE = readInt64LE;\n/**\n * Reads 8 bytes from array starting at offset as little-endian\n * unsigned 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports values up to 2^53-1.\n */\nfunction readUint64LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var lo = readUint32LE(array, offset);\n    var hi = readUint32LE(array, offset + 4);\n    return hi * 0x100000000 + lo;\n}\nexports.readUint64LE = readUint64LE;\n/**\n * Writes 8-byte big-endian representation of 64-bit unsigned\n * value to byte array starting at offset.\n *\n * Due to JavaScript limitation, supports values up to 2^53-1.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint64BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    writeUint32BE(value / 0x100000000 >>> 0, out, offset);\n    writeUint32BE(value >>> 0, out, offset + 4);\n    return out;\n}\nexports.writeUint64BE = writeUint64BE;\nexports.writeInt64BE = writeUint64BE;\n/**\n * Writes 8-byte little-endian representation of 64-bit unsigned\n * value to byte array starting at offset.\n *\n * Due to JavaScript limitation, supports values up to 2^53-1.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint64LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    writeUint32LE(value >>> 0, out, offset);\n    writeUint32LE(value / 0x100000000 >>> 0, out, offset + 4);\n    return out;\n}\nexports.writeUint64LE = writeUint64LE;\nexports.writeInt64LE = writeUint64LE;\n/**\n * Reads bytes from array starting at offset as big-endian\n * unsigned bitLen-bit integer and returns it.\n *\n * Supports bit lengths divisible by 8, up to 48.\n */\nfunction readUintBE(bitLength, array, offset) {\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"readUintBE supports only bitLengths divisible by 8\");\n    }\n    if (bitLength / 8 > array.length - offset) {\n        throw new Error(\"readUintBE: array is too short for the given bitLength\");\n    }\n    var result = 0;\n    var mul = 1;\n    for (var i = bitLength / 8 + offset - 1; i >= offset; i--) {\n        result += array[i] * mul;\n        mul *= 256;\n    }\n    return result;\n}\nexports.readUintBE = readUintBE;\n/**\n * Reads bytes from array starting at offset as little-endian\n * unsigned bitLen-bit integer and returns it.\n *\n * Supports bit lengths divisible by 8, up to 48.\n */\nfunction readUintLE(bitLength, array, offset) {\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"readUintLE supports only bitLengths divisible by 8\");\n    }\n    if (bitLength / 8 > array.length - offset) {\n        throw new Error(\"readUintLE: array is too short for the given bitLength\");\n    }\n    var result = 0;\n    var mul = 1;\n    for (var i = offset; i < offset + bitLength / 8; i++) {\n        result += array[i] * mul;\n        mul *= 256;\n    }\n    return result;\n}\nexports.readUintLE = readUintLE;\n/**\n * Writes a big-endian representation of bitLen-bit unsigned\n * value to array starting at offset.\n *\n * Supports bit lengths divisible by 8, up to 48.\n *\n * If byte array is not given, creates a new one.\n *\n * Returns the output byte array.\n */\nfunction writeUintBE(bitLength, value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(bitLength / 8); }\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"writeUintBE supports only bitLengths divisible by 8\");\n    }\n    if (!int_1.isSafeInteger(value)) {\n        throw new Error(\"writeUintBE value must be an integer\");\n    }\n    var div = 1;\n    for (var i = bitLength / 8 + offset - 1; i >= offset; i--) {\n        out[i] = (value / div) & 0xff;\n        div *= 256;\n    }\n    return out;\n}\nexports.writeUintBE = writeUintBE;\n/**\n * Writes a little-endian representation of bitLen-bit unsigned\n * value to array starting at offset.\n *\n * Supports bit lengths divisible by 8, up to 48.\n *\n * If byte array is not given, creates a new one.\n *\n * Returns the output byte array.\n */\nfunction writeUintLE(bitLength, value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(bitLength / 8); }\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"writeUintLE supports only bitLengths divisible by 8\");\n    }\n    if (!int_1.isSafeInteger(value)) {\n        throw new Error(\"writeUintLE value must be an integer\");\n    }\n    var div = 1;\n    for (var i = offset; i < offset + bitLength / 8; i++) {\n        out[i] = (value / div) & 0xff;\n        div *= 256;\n    }\n    return out;\n}\nexports.writeUintLE = writeUintLE;\n/**\n * Reads 4 bytes from array starting at offset as big-endian\n * 32-bit floating-point number and returns it.\n */\nfunction readFloat32BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat32(offset);\n}\nexports.readFloat32BE = readFloat32BE;\n/**\n * Reads 4 bytes from array starting at offset as little-endian\n * 32-bit floating-point number and returns it.\n */\nfunction readFloat32LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat32(offset, true);\n}\nexports.readFloat32LE = readFloat32LE;\n/**\n * Reads 8 bytes from array starting at offset as big-endian\n * 64-bit floating-point number (\"double\") and returns it.\n */\nfunction readFloat64BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat64(offset);\n}\nexports.readFloat64BE = readFloat64BE;\n/**\n * Reads 8 bytes from array starting at offset as little-endian\n * 64-bit floating-point number (\"double\") and returns it.\n */\nfunction readFloat64LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat64(offset, true);\n}\nexports.readFloat64LE = readFloat64LE;\n/**\n * Writes 4-byte big-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat32BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat32(offset, value);\n    return out;\n}\nexports.writeFloat32BE = writeFloat32BE;\n/**\n * Writes 4-byte little-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat32LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat32(offset, value, true);\n    return out;\n}\nexports.writeFloat32LE = writeFloat32LE;\n/**\n * Writes 8-byte big-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat64BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat64(offset, value);\n    return out;\n}\nexports.writeFloat64BE = writeFloat64BE;\n/**\n * Writes 8-byte little-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat64LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat64(offset, value, true);\n    return out;\n}\nexports.writeFloat64LE = writeFloat64LE;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar chacha_1 = require(\"@stablelib/chacha\");\nvar poly1305_1 = require(\"@stablelib/poly1305\");\nvar wipe_1 = require(\"@stablelib/wipe\");\nvar binary_1 = require(\"@stablelib/binary\");\nvar constant_time_1 = require(\"@stablelib/constant-time\");\nexports.KEY_LENGTH = 32;\nexports.NONCE_LENGTH = 12;\nexports.TAG_LENGTH = 16;\nvar ZEROS = new Uint8Array(16);\n/**\n * ChaCha20-Poly1305 Authenticated Encryption with Associated Data.\n *\n * Defined in RFC7539.\n */\nvar ChaCha20Poly1305 = /** @class */ (function () {\n    /**\n     * Creates a new instance with the given 32-byte key.\n     */\n    function ChaCha20Poly1305(key) {\n        this.nonceLength = exports.NONCE_LENGTH;\n        this.tagLength = exports.TAG_LENGTH;\n        if (key.length !== exports.KEY_LENGTH) {\n            throw new Error(\"ChaCha20Poly1305 needs 32-byte key\");\n        }\n        // Copy key.\n        this._key = new Uint8Array(key);\n    }\n    /**\n     * Encrypts and authenticates plaintext, authenticates associated data,\n     * and returns sealed ciphertext, which includes authentication tag.\n     *\n     * RFC7539 specifies 12 bytes for nonce. It may be this 12-byte nonce\n     * (\"IV\"), or full 16-byte counter (called \"32-bit fixed-common part\")\n     * and nonce.\n     *\n     * If dst is given (it must be the size of plaintext + the size of tag\n     * length) the result will be put into it. Dst and plaintext must not\n     * overlap.\n     */\n    ChaCha20Poly1305.prototype.seal = function (nonce, plaintext, associatedData, dst) {\n        if (nonce.length > 16) {\n            throw new Error(\"ChaCha20Poly1305: incorrect nonce length\");\n        }\n        // Allocate space for counter, and set nonce as last bytes of it.\n        var counter = new Uint8Array(16);\n        counter.set(nonce, counter.length - nonce.length);\n        // Generate authentication key by taking first 32-bytes of stream.\n        // We pass full counter, which has 12-byte nonce and 4-byte block counter,\n        // and it will get incremented after generating the block, which is\n        // exactly what we need: we only use the first 32 bytes of 64-byte\n        // ChaCha block and discard the next 32 bytes.\n        var authKey = new Uint8Array(32);\n        chacha_1.stream(this._key, counter, authKey, 4);\n        // Allocate space for sealed ciphertext.\n        var resultLength = plaintext.length + this.tagLength;\n        var result;\n        if (dst) {\n            if (dst.length !== resultLength) {\n                throw new Error(\"ChaCha20Poly1305: incorrect destination length\");\n            }\n            result = dst;\n        }\n        else {\n            result = new Uint8Array(resultLength);\n        }\n        // Encrypt plaintext.\n        chacha_1.streamXOR(this._key, counter, plaintext, result, 4);\n        // Authenticate.\n        // XXX: can \"simplify\" here: pass full result (which is already padded\n        // due to zeroes prepared for tag), and ciphertext length instead of\n        // subarray of result.\n        this._authenticate(result.subarray(result.length - this.tagLength, result.length), authKey, result.subarray(0, result.length - this.tagLength), associatedData);\n        // Cleanup.\n        wipe_1.wipe(counter);\n        return result;\n    };\n    /**\n     * Authenticates sealed ciphertext (which includes authentication tag) and\n     * associated data, decrypts ciphertext and returns decrypted plaintext.\n     *\n     * RFC7539 specifies 12 bytes for nonce. It may be this 12-byte nonce\n     * (\"IV\"), or full 16-byte counter (called \"32-bit fixed-common part\")\n     * and nonce.\n     *\n     * If authentication fails, it returns null.\n     *\n     * If dst is given (it must be of ciphertext length minus tag length),\n     * the result will be put into it. Dst and plaintext must not overlap.\n     */\n    ChaCha20Poly1305.prototype.open = function (nonce, sealed, associatedData, dst) {\n        if (nonce.length > 16) {\n            throw new Error(\"ChaCha20Poly1305: incorrect nonce length\");\n        }\n        // Sealed ciphertext should at least contain tag.\n        if (sealed.length < this.tagLength) {\n            // TODO(dchest): should we throw here instead?\n            return null;\n        }\n        // Allocate space for counter, and set nonce as last bytes of it.\n        var counter = new Uint8Array(16);\n        counter.set(nonce, counter.length - nonce.length);\n        // Generate authentication key by taking first 32-bytes of stream.\n        var authKey = new Uint8Array(32);\n        chacha_1.stream(this._key, counter, authKey, 4);\n        // Authenticate.\n        // XXX: can simplify and avoid allocation: since authenticate()\n        // already allocates tag (from Poly1305.digest(), it can return)\n        // it instead of copying to calculatedTag. But then in seal()\n        // we'll need to copy it.\n        var calculatedTag = new Uint8Array(this.tagLength);\n        this._authenticate(calculatedTag, authKey, sealed.subarray(0, sealed.length - this.tagLength), associatedData);\n        // Constant-time compare tags and return null if they differ.\n        if (!constant_time_1.equal(calculatedTag, sealed.subarray(sealed.length - this.tagLength, sealed.length))) {\n            return null;\n        }\n        // Allocate space for decrypted plaintext.\n        var resultLength = sealed.length - this.tagLength;\n        var result;\n        if (dst) {\n            if (dst.length !== resultLength) {\n                throw new Error(\"ChaCha20Poly1305: incorrect destination length\");\n            }\n            result = dst;\n        }\n        else {\n            result = new Uint8Array(resultLength);\n        }\n        // Decrypt.\n        chacha_1.streamXOR(this._key, counter, sealed.subarray(0, sealed.length - this.tagLength), result, 4);\n        // Cleanup.\n        wipe_1.wipe(counter);\n        return result;\n    };\n    ChaCha20Poly1305.prototype.clean = function () {\n        wipe_1.wipe(this._key);\n        return this;\n    };\n    ChaCha20Poly1305.prototype._authenticate = function (tagOut, authKey, ciphertext, associatedData) {\n        // Initialize Poly1305 with authKey.\n        var h = new poly1305_1.Poly1305(authKey);\n        // Authenticate padded associated data.\n        if (associatedData) {\n            h.update(associatedData);\n            if (associatedData.length % 16 > 0) {\n                h.update(ZEROS.subarray(associatedData.length % 16));\n            }\n        }\n        // Authenticate padded ciphertext.\n        h.update(ciphertext);\n        if (ciphertext.length % 16 > 0) {\n            h.update(ZEROS.subarray(ciphertext.length % 16));\n        }\n        // Authenticate length of associated data.\n        // XXX: can avoid allocation here?\n        var length = new Uint8Array(8);\n        if (associatedData) {\n            binary_1.writeUint64LE(associatedData.length, length);\n        }\n        h.update(length);\n        // Authenticate length of ciphertext.\n        binary_1.writeUint64LE(ciphertext.length, length);\n        h.update(length);\n        // Get tag and copy it into tagOut.\n        var tag = h.digest();\n        for (var i = 0; i < tag.length; i++) {\n            tagOut[i] = tag[i];\n        }\n        // Cleanup.\n        h.clean();\n        wipe_1.wipe(tag);\n        wipe_1.wipe(length);\n    };\n    return ChaCha20Poly1305;\n}());\nexports.ChaCha20Poly1305 = ChaCha20Poly1305;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package chacha implements ChaCha stream cipher.\n */\nvar binary_1 = require(\"@stablelib/binary\");\nvar wipe_1 = require(\"@stablelib/wipe\");\n// Number of ChaCha rounds (ChaCha20).\nvar ROUNDS = 20;\n// Applies the ChaCha core function to 16-byte input,\n// 32-byte key key, and puts the result into 64-byte array out.\nfunction core(out, input, key) {\n    var j0 = 0x61707865; // \"expa\"  -- ChaCha's \"sigma\" constant\n    var j1 = 0x3320646E; // \"nd 3\"     for 32-byte keys\n    var j2 = 0x79622D32; // \"2-by\"\n    var j3 = 0x6B206574; // \"te k\"\n    var j4 = (key[3] << 24) | (key[2] << 16) | (key[1] << 8) | key[0];\n    var j5 = (key[7] << 24) | (key[6] << 16) | (key[5] << 8) | key[4];\n    var j6 = (key[11] << 24) | (key[10] << 16) | (key[9] << 8) | key[8];\n    var j7 = (key[15] << 24) | (key[14] << 16) | (key[13] << 8) | key[12];\n    var j8 = (key[19] << 24) | (key[18] << 16) | (key[17] << 8) | key[16];\n    var j9 = (key[23] << 24) | (key[22] << 16) | (key[21] << 8) | key[20];\n    var j10 = (key[27] << 24) | (key[26] << 16) | (key[25] << 8) | key[24];\n    var j11 = (key[31] << 24) | (key[30] << 16) | (key[29] << 8) | key[28];\n    var j12 = (input[3] << 24) | (input[2] << 16) | (input[1] << 8) | input[0];\n    var j13 = (input[7] << 24) | (input[6] << 16) | (input[5] << 8) | input[4];\n    var j14 = (input[11] << 24) | (input[10] << 16) | (input[9] << 8) | input[8];\n    var j15 = (input[15] << 24) | (input[14] << 16) | (input[13] << 8) | input[12];\n    var x0 = j0;\n    var x1 = j1;\n    var x2 = j2;\n    var x3 = j3;\n    var x4 = j4;\n    var x5 = j5;\n    var x6 = j6;\n    var x7 = j7;\n    var x8 = j8;\n    var x9 = j9;\n    var x10 = j10;\n    var x11 = j11;\n    var x12 = j12;\n    var x13 = j13;\n    var x14 = j14;\n    var x15 = j15;\n    for (var i = 0; i < ROUNDS; i += 2) {\n        x0 = x0 + x4 | 0;\n        x12 ^= x0;\n        x12 = x12 >>> (32 - 16) | x12 << 16;\n        x8 = x8 + x12 | 0;\n        x4 ^= x8;\n        x4 = x4 >>> (32 - 12) | x4 << 12;\n        x1 = x1 + x5 | 0;\n        x13 ^= x1;\n        x13 = x13 >>> (32 - 16) | x13 << 16;\n        x9 = x9 + x13 | 0;\n        x5 ^= x9;\n        x5 = x5 >>> (32 - 12) | x5 << 12;\n        x2 = x2 + x6 | 0;\n        x14 ^= x2;\n        x14 = x14 >>> (32 - 16) | x14 << 16;\n        x10 = x10 + x14 | 0;\n        x6 ^= x10;\n        x6 = x6 >>> (32 - 12) | x6 << 12;\n        x3 = x3 + x7 | 0;\n        x15 ^= x3;\n        x15 = x15 >>> (32 - 16) | x15 << 16;\n        x11 = x11 + x15 | 0;\n        x7 ^= x11;\n        x7 = x7 >>> (32 - 12) | x7 << 12;\n        x2 = x2 + x6 | 0;\n        x14 ^= x2;\n        x14 = x14 >>> (32 - 8) | x14 << 8;\n        x10 = x10 + x14 | 0;\n        x6 ^= x10;\n        x6 = x6 >>> (32 - 7) | x6 << 7;\n        x3 = x3 + x7 | 0;\n        x15 ^= x3;\n        x15 = x15 >>> (32 - 8) | x15 << 8;\n        x11 = x11 + x15 | 0;\n        x7 ^= x11;\n        x7 = x7 >>> (32 - 7) | x7 << 7;\n        x1 = x1 + x5 | 0;\n        x13 ^= x1;\n        x13 = x13 >>> (32 - 8) | x13 << 8;\n        x9 = x9 + x13 | 0;\n        x5 ^= x9;\n        x5 = x5 >>> (32 - 7) | x5 << 7;\n        x0 = x0 + x4 | 0;\n        x12 ^= x0;\n        x12 = x12 >>> (32 - 8) | x12 << 8;\n        x8 = x8 + x12 | 0;\n        x4 ^= x8;\n        x4 = x4 >>> (32 - 7) | x4 << 7;\n        x0 = x0 + x5 | 0;\n        x15 ^= x0;\n        x15 = x15 >>> (32 - 16) | x15 << 16;\n        x10 = x10 + x15 | 0;\n        x5 ^= x10;\n        x5 = x5 >>> (32 - 12) | x5 << 12;\n        x1 = x1 + x6 | 0;\n        x12 ^= x1;\n        x12 = x12 >>> (32 - 16) | x12 << 16;\n        x11 = x11 + x12 | 0;\n        x6 ^= x11;\n        x6 = x6 >>> (32 - 12) | x6 << 12;\n        x2 = x2 + x7 | 0;\n        x13 ^= x2;\n        x13 = x13 >>> (32 - 16) | x13 << 16;\n        x8 = x8 + x13 | 0;\n        x7 ^= x8;\n        x7 = x7 >>> (32 - 12) | x7 << 12;\n        x3 = x3 + x4 | 0;\n        x14 ^= x3;\n        x14 = x14 >>> (32 - 16) | x14 << 16;\n        x9 = x9 + x14 | 0;\n        x4 ^= x9;\n        x4 = x4 >>> (32 - 12) | x4 << 12;\n        x2 = x2 + x7 | 0;\n        x13 ^= x2;\n        x13 = x13 >>> (32 - 8) | x13 << 8;\n        x8 = x8 + x13 | 0;\n        x7 ^= x8;\n        x7 = x7 >>> (32 - 7) | x7 << 7;\n        x3 = x3 + x4 | 0;\n        x14 ^= x3;\n        x14 = x14 >>> (32 - 8) | x14 << 8;\n        x9 = x9 + x14 | 0;\n        x4 ^= x9;\n        x4 = x4 >>> (32 - 7) | x4 << 7;\n        x1 = x1 + x6 | 0;\n        x12 ^= x1;\n        x12 = x12 >>> (32 - 8) | x12 << 8;\n        x11 = x11 + x12 | 0;\n        x6 ^= x11;\n        x6 = x6 >>> (32 - 7) | x6 << 7;\n        x0 = x0 + x5 | 0;\n        x15 ^= x0;\n        x15 = x15 >>> (32 - 8) | x15 << 8;\n        x10 = x10 + x15 | 0;\n        x5 ^= x10;\n        x5 = x5 >>> (32 - 7) | x5 << 7;\n    }\n    binary_1.writeUint32LE(x0 + j0 | 0, out, 0);\n    binary_1.writeUint32LE(x1 + j1 | 0, out, 4);\n    binary_1.writeUint32LE(x2 + j2 | 0, out, 8);\n    binary_1.writeUint32LE(x3 + j3 | 0, out, 12);\n    binary_1.writeUint32LE(x4 + j4 | 0, out, 16);\n    binary_1.writeUint32LE(x5 + j5 | 0, out, 20);\n    binary_1.writeUint32LE(x6 + j6 | 0, out, 24);\n    binary_1.writeUint32LE(x7 + j7 | 0, out, 28);\n    binary_1.writeUint32LE(x8 + j8 | 0, out, 32);\n    binary_1.writeUint32LE(x9 + j9 | 0, out, 36);\n    binary_1.writeUint32LE(x10 + j10 | 0, out, 40);\n    binary_1.writeUint32LE(x11 + j11 | 0, out, 44);\n    binary_1.writeUint32LE(x12 + j12 | 0, out, 48);\n    binary_1.writeUint32LE(x13 + j13 | 0, out, 52);\n    binary_1.writeUint32LE(x14 + j14 | 0, out, 56);\n    binary_1.writeUint32LE(x15 + j15 | 0, out, 60);\n}\n/**\n * Encrypt src with ChaCha20 stream generated for the given 32-byte key and\n * 8-byte (as in original implementation) or 12-byte (as in RFC7539) nonce and\n * write the result into dst and return it.\n *\n * dst and src may be the same, but otherwise must not overlap.\n *\n * If nonce is 12 bytes, users should not encrypt more than 256 GiB with the\n * same key and nonce, otherwise the stream will repeat. The function will\n * throw error if counter overflows to prevent this.\n *\n * If nonce is 8 bytes, the output is practically unlimited (2^70 bytes, which\n * is more than a million petabytes). However, it is not recommended to\n * generate 8-byte nonces randomly, as the chance of collision is high.\n *\n * Never use the same key and nonce to encrypt more than one message.\n *\n * If nonceInplaceCounterLength is not 0, the nonce is assumed to be a 16-byte\n * array with stream counter in first nonceInplaceCounterLength bytes and nonce\n * in the last remaining bytes. The counter will be incremented inplace for\n * each ChaCha block. This is useful if you need to encrypt one stream of data\n * in chunks.\n */\nfunction streamXOR(key, nonce, src, dst, nonceInplaceCounterLength) {\n    if (nonceInplaceCounterLength === void 0) { nonceInplaceCounterLength = 0; }\n    // We only support 256-bit keys.\n    if (key.length !== 32) {\n        throw new Error(\"ChaCha: key size must be 32 bytes\");\n    }\n    if (dst.length < src.length) {\n        throw new Error(\"ChaCha: destination is shorter than source\");\n    }\n    var nc;\n    var counterLength;\n    if (nonceInplaceCounterLength === 0) {\n        if (nonce.length !== 8 && nonce.length !== 12) {\n            throw new Error(\"ChaCha nonce must be 8 or 12 bytes\");\n        }\n        nc = new Uint8Array(16);\n        // First counterLength bytes of nc are counter, starting with zero.\n        counterLength = nc.length - nonce.length;\n        // Last bytes of nc after counterLength are nonce, set them.\n        nc.set(nonce, counterLength);\n    }\n    else {\n        if (nonce.length !== 16) {\n            throw new Error(\"ChaCha nonce with counter must be 16 bytes\");\n        }\n        // This will update passed nonce with counter inplace.\n        nc = nonce;\n        counterLength = nonceInplaceCounterLength;\n    }\n    // Allocate temporary space for ChaCha block.\n    var block = new Uint8Array(64);\n    for (var i = 0; i < src.length; i += 64) {\n        // Generate a block.\n        core(block, nc, key);\n        // XOR block bytes with src into dst.\n        for (var j = i; j < i + 64 && j < src.length; j++) {\n            dst[j] = src[j] ^ block[j - i];\n        }\n        // Increment counter.\n        incrementCounter(nc, 0, counterLength);\n    }\n    // Cleanup temporary space.\n    wipe_1.wipe(block);\n    if (nonceInplaceCounterLength === 0) {\n        // Cleanup counter.\n        wipe_1.wipe(nc);\n    }\n    return dst;\n}\nexports.streamXOR = streamXOR;\n/**\n * Generate ChaCha20 stream for the given 32-byte key and 8-byte or 12-byte\n * nonce and write it into dst and return it.\n *\n * Never use the same key and nonce to generate more than one stream.\n *\n * If nonceInplaceCounterLength is not 0, it behaves the same with respect to\n * the nonce as described in the streamXOR documentation.\n *\n * stream is like streamXOR with all-zero src.\n */\nfunction stream(key, nonce, dst, nonceInplaceCounterLength) {\n    if (nonceInplaceCounterLength === void 0) { nonceInplaceCounterLength = 0; }\n    wipe_1.wipe(dst);\n    return streamXOR(key, nonce, dst, dst, nonceInplaceCounterLength);\n}\nexports.stream = stream;\nfunction incrementCounter(counter, pos, len) {\n    var carry = 1;\n    while (len--) {\n        carry = carry + (counter[pos] & 0xff) | 0;\n        counter[pos] = carry & 0xff;\n        carry >>>= 8;\n        pos++;\n    }\n    if (carry > 0) {\n        throw new Error(\"ChaCha: counter overflow\");\n    }\n}\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package constant-time provides functions for performing algorithmically constant-time operations.\n */\n/**\n * NOTE! Due to the inability to guarantee real constant time evaluation of\n * anything in JavaScript VM, this is module is the best effort.\n */\n/**\n * Returns resultIfOne if subject is 1, or resultIfZero if subject is 0.\n *\n * Supports only 32-bit integers, so resultIfOne or resultIfZero are not\n * integers, they'll be converted to them with bitwise operations.\n */\nfunction select(subject, resultIfOne, resultIfZero) {\n    return (~(subject - 1) & resultIfOne) | ((subject - 1) & resultIfZero);\n}\nexports.select = select;\n/**\n * Returns 1 if a <= b, or 0 if not.\n * Arguments must be positive 32-bit integers less than or equal to 2^31 - 1.\n */\nfunction lessOrEqual(a, b) {\n    return (((a | 0) - (b | 0) - 1) >>> 31) & 1;\n}\nexports.lessOrEqual = lessOrEqual;\n/**\n * Returns 1 if a and b are of equal length and their contents\n * are equal, or 0 otherwise.\n *\n * Note that unlike in equal(), zero-length inputs are considered\n * the same, so this function will return 1.\n */\nfunction compare(a, b) {\n    if (a.length !== b.length) {\n        return 0;\n    }\n    var result = 0;\n    for (var i = 0; i < a.length; i++) {\n        result |= a[i] ^ b[i];\n    }\n    return (1 & ((result - 1) >>> 8));\n}\nexports.compare = compare;\n/**\n * Returns true if a and b are of equal non-zero length,\n * and their contents are equal, or false otherwise.\n *\n * Note that unlike in compare() zero-length inputs are considered\n * _not_ equal, so this function will return false.\n */\nfunction equal(a, b) {\n    if (a.length === 0 || b.length === 0) {\n        return false;\n    }\n    return compare(a, b) !== 0;\n}\nexports.equal = equal;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isSerializableHash(h) {\n    return (typeof h.saveState !== \"undefined\" &&\n        typeof h.restoreState !== \"undefined\" &&\n        typeof h.cleanSavedState !== \"undefined\");\n}\nexports.isSerializableHash = isSerializableHash;\n// TODO(dchest): figure out the standardized interface for XOF such as\n// SHAKE and BLAKE2X.\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar hmac_1 = require(\"@stablelib/hmac\");\nvar wipe_1 = require(\"@stablelib/wipe\");\n/**\n * HMAC-based Extract-and-Expand Key Derivation Function.\n *\n * Implements HKDF from RFC5869.\n *\n * Expands the given master key with salt and info into\n * a limited stream of key material.\n */\nvar HKDF = /** @class */ (function () {\n    /**\n     * Create a new HKDF instance for the given hash function\n     * with the master key, optional salt, and info.\n     *\n     * - Master key is a high-entropy secret key (not a password).\n     * - Salt is a non-secret random value.\n     * - Info is application- and/or context-specific information.\n     */\n    function HKDF(hash, key, salt, info) {\n        if (salt === void 0) { salt = new Uint8Array(0); }\n        this._counter = new Uint8Array(1); // starts with zero\n        this._hash = hash;\n        this._info = info;\n        // HKDF-Extract uses salt as HMAC key, and key as data.\n        var okm = hmac_1.hmac(this._hash, salt, key);\n        // Initialize HMAC for expanding with extracted key.\n        this._hmac = new hmac_1.HMAC(hash, okm);\n        // Allocate buffer.\n        this._buffer = new Uint8Array(this._hmac.digestLength);\n        this._bufpos = this._buffer.length;\n    }\n    // Fill buffer with new block of HKDF-Extract output.\n    HKDF.prototype._fillBuffer = function () {\n        // Increment counter.\n        this._counter[0]++;\n        var ctr = this._counter[0];\n        // Check if counter overflowed.\n        if (ctr === 0) {\n            throw new Error(\"hkdf: cannot expand more\");\n        }\n        // Prepare HMAC instance for new data with old key.\n        this._hmac.reset();\n        // Hash in previous output if it was generated\n        // (i.e. counter is greater than 1).\n        if (ctr > 1) {\n            this._hmac.update(this._buffer);\n        }\n        // Hash in info if it exists.\n        if (this._info) {\n            this._hmac.update(this._info);\n        }\n        // Hash in the counter.\n        this._hmac.update(this._counter);\n        // Output result to buffer and clean HMAC instance.\n        this._hmac.finish(this._buffer);\n        // Reset buffer position.\n        this._bufpos = 0;\n    };\n    /**\n     * Expand returns next key material of the given length.\n     *\n     * It throws if expansion limit is reached (which is\n     * 254 digests of the underlying HMAC function).\n     */\n    HKDF.prototype.expand = function (length) {\n        var out = new Uint8Array(length);\n        for (var i = 0; i < out.length; i++) {\n            if (this._bufpos === this._buffer.length) {\n                this._fillBuffer();\n            }\n            out[i] = this._buffer[this._bufpos++];\n        }\n        return out;\n    };\n    HKDF.prototype.clean = function () {\n        this._hmac.clean();\n        wipe_1.wipe(this._buffer);\n        wipe_1.wipe(this._counter);\n        this._bufpos = 0;\n    };\n    return HKDF;\n}());\nexports.HKDF = HKDF;\n// TODO(dchest): maybe implement deriveKey?\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package hmac implements HMAC algorithm.\n */\nvar hash_1 = require(\"@stablelib/hash\");\nvar constant_time_1 = require(\"@stablelib/constant-time\");\nvar wipe_1 = require(\"@stablelib/wipe\");\n/**\n *  HMAC implements hash-based message authentication algorithm.\n */\nvar HMAC = /** @class */ (function () {\n    /**\n     * Constructs a new HMAC with the given Hash and secret key.\n     */\n    function HMAC(hash, key) {\n        this._finished = false; // true if HMAC was finalized\n        // Initialize inner and outer hashes.\n        this._inner = new hash();\n        this._outer = new hash();\n        // Set block and digest sizes for this HMAC\n        // instance to values from the hash.\n        this.blockSize = this._outer.blockSize;\n        this.digestLength = this._outer.digestLength;\n        // Pad temporary stores a key (or its hash) padded with zeroes.\n        var pad = new Uint8Array(this.blockSize);\n        if (key.length > this.blockSize) {\n            // If key is bigger than hash block size, it must be\n            // hashed and this hash is used as a key instead.\n            this._inner.update(key).finish(pad).clean();\n        }\n        else {\n            // Otherwise, copy the key into pad.\n            pad.set(key);\n        }\n        // Now two different keys are derived from padded key\n        // by xoring a different byte value to each.\n        // To make inner hash key, xor byte 0x36 into pad.\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36;\n        }\n        // Update inner hash with the result.\n        this._inner.update(pad);\n        // To make outer hash key, xor byte 0x5c into pad.\n        // But since we already xored 0x36 there, we must\n        // first undo this by xoring it again.\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36 ^ 0x5c;\n        }\n        // Update outer hash with the result.\n        this._outer.update(pad);\n        // Save states of both hashes, so that we can quickly restore\n        // them later in reset() without the need to remember the actual\n        // key and perform this initialization again.\n        if (hash_1.isSerializableHash(this._inner) && hash_1.isSerializableHash(this._outer)) {\n            this._innerKeyedState = this._inner.saveState();\n            this._outerKeyedState = this._outer.saveState();\n        }\n        // Clean pad.\n        wipe_1.wipe(pad);\n    }\n    /**\n     * Returns HMAC state to the state initialized with key\n     * to make it possible to run HMAC over the other data with the same\n     * key without creating a new instance.\n     */\n    HMAC.prototype.reset = function () {\n        if (!hash_1.isSerializableHash(this._inner) || !hash_1.isSerializableHash(this._outer)) {\n            throw new Error(\"hmac: can't reset() because hash doesn't implement restoreState()\");\n        }\n        // Restore keyed states of inner and outer hashes.\n        this._inner.restoreState(this._innerKeyedState);\n        this._outer.restoreState(this._outerKeyedState);\n        this._finished = false;\n        return this;\n    };\n    /**\n     * Cleans HMAC state.\n     */\n    HMAC.prototype.clean = function () {\n        if (hash_1.isSerializableHash(this._inner)) {\n            this._inner.cleanSavedState(this._innerKeyedState);\n        }\n        if (hash_1.isSerializableHash(this._outer)) {\n            this._outer.cleanSavedState(this._outerKeyedState);\n        }\n        this._inner.clean();\n        this._outer.clean();\n    };\n    /**\n     * Updates state with provided data.\n     */\n    HMAC.prototype.update = function (data) {\n        this._inner.update(data);\n        return this;\n    };\n    /**\n     * Finalizes HMAC and puts the result in out.\n     */\n    HMAC.prototype.finish = function (out) {\n        if (this._finished) {\n            // If HMAC was finalized, outer hash is also finalized,\n            // so it produces the same digest it produced when it\n            // was finalized.\n            this._outer.finish(out);\n            return this;\n        }\n        // Finalize inner hash and store the result temporarily.\n        this._inner.finish(out);\n        // Update outer hash with digest of inner hash and and finalize it.\n        this._outer.update(out.subarray(0, this.digestLength)).finish(out);\n        this._finished = true;\n        return this;\n    };\n    /**\n     * Returns the computed message authentication code.\n     */\n    HMAC.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    /**\n     * Saves HMAC state.\n     * This function is needed for PBKDF2 optimization.\n     */\n    HMAC.prototype.saveState = function () {\n        if (!hash_1.isSerializableHash(this._inner)) {\n            throw new Error(\"hmac: can't saveState() because hash doesn't implement it\");\n        }\n        return this._inner.saveState();\n    };\n    HMAC.prototype.restoreState = function (savedState) {\n        if (!hash_1.isSerializableHash(this._inner) || !hash_1.isSerializableHash(this._outer)) {\n            throw new Error(\"hmac: can't restoreState() because hash doesn't implement it\");\n        }\n        this._inner.restoreState(savedState);\n        this._outer.restoreState(this._outerKeyedState);\n        this._finished = false;\n        return this;\n    };\n    HMAC.prototype.cleanSavedState = function (savedState) {\n        if (!hash_1.isSerializableHash(this._inner)) {\n            throw new Error(\"hmac: can't cleanSavedState() because hash doesn't implement it\");\n        }\n        this._inner.cleanSavedState(savedState);\n    };\n    return HMAC;\n}());\nexports.HMAC = HMAC;\n/**\n * Returns HMAC using the given hash constructor for the key over data.\n */\nfunction hmac(hash, key, data) {\n    var h = new HMAC(hash, key);\n    h.update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hmac = hmac;\n/**\n * Returns true if two HMAC digests are equal.\n * Uses constant-time comparison to avoid leaking timing information.\n *\n * Example:\n *\n *    const receivedDigest = ...\n *    const realDigest = hmac(SHA256, key, data);\n *    if (!equal(receivedDigest, realDigest)) {\n *        throw new Error(\"Authentication error\");\n *    }\n */\nexports.equal = constant_time_1.equal;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package int provides helper functions for integerss.\n */\n// Shim using 16-bit pieces.\nfunction imulShim(a, b) {\n    var ah = (a >>> 16) & 0xffff, al = a & 0xffff;\n    var bh = (b >>> 16) & 0xffff, bl = b & 0xffff;\n    return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0);\n}\n/** 32-bit integer multiplication.  */\n// Use system Math.imul if available, otherwise use our shim.\nexports.mul = Math.imul || imulShim;\n/** 32-bit integer addition.  */\nfunction add(a, b) {\n    return (a + b) | 0;\n}\nexports.add = add;\n/**  32-bit integer subtraction.  */\nfunction sub(a, b) {\n    return (a - b) | 0;\n}\nexports.sub = sub;\n/** 32-bit integer left rotation */\nfunction rotl(x, n) {\n    return x << n | x >>> (32 - n);\n}\nexports.rotl = rotl;\n/** 32-bit integer left rotation */\nfunction rotr(x, n) {\n    return x << (32 - n) | x >>> n;\n}\nexports.rotr = rotr;\nfunction isIntegerShim(n) {\n    return typeof n === \"number\" && isFinite(n) && Math.floor(n) === n;\n}\n/**\n * Returns true if the argument is an integer number.\n *\n * In ES2015, Number.isInteger.\n */\nexports.isInteger = Number.isInteger || isIntegerShim;\n/**\n *  Math.pow(2, 53) - 1\n *\n *  In ES2015 Number.MAX_SAFE_INTEGER.\n */\nexports.MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * Returns true if the argument is a safe integer number\n * (-MIN_SAFE_INTEGER < number <= MAX_SAFE_INTEGER)\n *\n * In ES2015, Number.isSafeInteger.\n */\nexports.isSafeInteger = function (n) {\n    return exports.isInteger(n) && (n >= -exports.MAX_SAFE_INTEGER && n <= exports.MAX_SAFE_INTEGER);\n};\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package poly1305 implements Poly1305 one-time message authentication algorithm.\n */\nvar constant_time_1 = require(\"@stablelib/constant-time\");\nvar wipe_1 = require(\"@stablelib/wipe\");\nexports.DIGEST_LENGTH = 16;\n// Port of Andrew Moon's Poly1305-donna-16. Public domain.\n// https://github.com/floodyberry/poly1305-donna\n/**\n * Poly1305 computes 16-byte authenticator of message using\n * a one-time 32-byte key.\n *\n * Important: key should be used for only one message,\n * it should never repeat.\n */\nvar Poly1305 = /** @class */ (function () {\n    function Poly1305(key) {\n        this.digestLength = exports.DIGEST_LENGTH;\n        this._buffer = new Uint8Array(16);\n        this._r = new Uint16Array(10);\n        this._h = new Uint16Array(10);\n        this._pad = new Uint16Array(8);\n        this._leftover = 0;\n        this._fin = 0;\n        this._finished = false;\n        var t0 = key[0] | key[1] << 8;\n        this._r[0] = (t0) & 0x1fff;\n        var t1 = key[2] | key[3] << 8;\n        this._r[1] = ((t0 >>> 13) | (t1 << 3)) & 0x1fff;\n        var t2 = key[4] | key[5] << 8;\n        this._r[2] = ((t1 >>> 10) | (t2 << 6)) & 0x1f03;\n        var t3 = key[6] | key[7] << 8;\n        this._r[3] = ((t2 >>> 7) | (t3 << 9)) & 0x1fff;\n        var t4 = key[8] | key[9] << 8;\n        this._r[4] = ((t3 >>> 4) | (t4 << 12)) & 0x00ff;\n        this._r[5] = ((t4 >>> 1)) & 0x1ffe;\n        var t5 = key[10] | key[11] << 8;\n        this._r[6] = ((t4 >>> 14) | (t5 << 2)) & 0x1fff;\n        var t6 = key[12] | key[13] << 8;\n        this._r[7] = ((t5 >>> 11) | (t6 << 5)) & 0x1f81;\n        var t7 = key[14] | key[15] << 8;\n        this._r[8] = ((t6 >>> 8) | (t7 << 8)) & 0x1fff;\n        this._r[9] = ((t7 >>> 5)) & 0x007f;\n        this._pad[0] = key[16] | key[17] << 8;\n        this._pad[1] = key[18] | key[19] << 8;\n        this._pad[2] = key[20] | key[21] << 8;\n        this._pad[3] = key[22] | key[23] << 8;\n        this._pad[4] = key[24] | key[25] << 8;\n        this._pad[5] = key[26] | key[27] << 8;\n        this._pad[6] = key[28] | key[29] << 8;\n        this._pad[7] = key[30] | key[31] << 8;\n    }\n    Poly1305.prototype._blocks = function (m, mpos, bytes) {\n        var hibit = this._fin ? 0 : 1 << 11;\n        var h0 = this._h[0], h1 = this._h[1], h2 = this._h[2], h3 = this._h[3], h4 = this._h[4], h5 = this._h[5], h6 = this._h[6], h7 = this._h[7], h8 = this._h[8], h9 = this._h[9];\n        var r0 = this._r[0], r1 = this._r[1], r2 = this._r[2], r3 = this._r[3], r4 = this._r[4], r5 = this._r[5], r6 = this._r[6], r7 = this._r[7], r8 = this._r[8], r9 = this._r[9];\n        while (bytes >= 16) {\n            var t0 = m[mpos + 0] | m[mpos + 1] << 8;\n            h0 += (t0) & 0x1fff;\n            var t1 = m[mpos + 2] | m[mpos + 3] << 8;\n            h1 += ((t0 >>> 13) | (t1 << 3)) & 0x1fff;\n            var t2 = m[mpos + 4] | m[mpos + 5] << 8;\n            h2 += ((t1 >>> 10) | (t2 << 6)) & 0x1fff;\n            var t3 = m[mpos + 6] | m[mpos + 7] << 8;\n            h3 += ((t2 >>> 7) | (t3 << 9)) & 0x1fff;\n            var t4 = m[mpos + 8] | m[mpos + 9] << 8;\n            h4 += ((t3 >>> 4) | (t4 << 12)) & 0x1fff;\n            h5 += ((t4 >>> 1)) & 0x1fff;\n            var t5 = m[mpos + 10] | m[mpos + 11] << 8;\n            h6 += ((t4 >>> 14) | (t5 << 2)) & 0x1fff;\n            var t6 = m[mpos + 12] | m[mpos + 13] << 8;\n            h7 += ((t5 >>> 11) | (t6 << 5)) & 0x1fff;\n            var t7 = m[mpos + 14] | m[mpos + 15] << 8;\n            h8 += ((t6 >>> 8) | (t7 << 8)) & 0x1fff;\n            h9 += ((t7 >>> 5)) | hibit;\n            var c = 0;\n            var d0 = c;\n            d0 += h0 * r0;\n            d0 += h1 * (5 * r9);\n            d0 += h2 * (5 * r8);\n            d0 += h3 * (5 * r7);\n            d0 += h4 * (5 * r6);\n            c = (d0 >>> 13);\n            d0 &= 0x1fff;\n            d0 += h5 * (5 * r5);\n            d0 += h6 * (5 * r4);\n            d0 += h7 * (5 * r3);\n            d0 += h8 * (5 * r2);\n            d0 += h9 * (5 * r1);\n            c += (d0 >>> 13);\n            d0 &= 0x1fff;\n            var d1 = c;\n            d1 += h0 * r1;\n            d1 += h1 * r0;\n            d1 += h2 * (5 * r9);\n            d1 += h3 * (5 * r8);\n            d1 += h4 * (5 * r7);\n            c = (d1 >>> 13);\n            d1 &= 0x1fff;\n            d1 += h5 * (5 * r6);\n            d1 += h6 * (5 * r5);\n            d1 += h7 * (5 * r4);\n            d1 += h8 * (5 * r3);\n            d1 += h9 * (5 * r2);\n            c += (d1 >>> 13);\n            d1 &= 0x1fff;\n            var d2 = c;\n            d2 += h0 * r2;\n            d2 += h1 * r1;\n            d2 += h2 * r0;\n            d2 += h3 * (5 * r9);\n            d2 += h4 * (5 * r8);\n            c = (d2 >>> 13);\n            d2 &= 0x1fff;\n            d2 += h5 * (5 * r7);\n            d2 += h6 * (5 * r6);\n            d2 += h7 * (5 * r5);\n            d2 += h8 * (5 * r4);\n            d2 += h9 * (5 * r3);\n            c += (d2 >>> 13);\n            d2 &= 0x1fff;\n            var d3 = c;\n            d3 += h0 * r3;\n            d3 += h1 * r2;\n            d3 += h2 * r1;\n            d3 += h3 * r0;\n            d3 += h4 * (5 * r9);\n            c = (d3 >>> 13);\n            d3 &= 0x1fff;\n            d3 += h5 * (5 * r8);\n            d3 += h6 * (5 * r7);\n            d3 += h7 * (5 * r6);\n            d3 += h8 * (5 * r5);\n            d3 += h9 * (5 * r4);\n            c += (d3 >>> 13);\n            d3 &= 0x1fff;\n            var d4 = c;\n            d4 += h0 * r4;\n            d4 += h1 * r3;\n            d4 += h2 * r2;\n            d4 += h3 * r1;\n            d4 += h4 * r0;\n            c = (d4 >>> 13);\n            d4 &= 0x1fff;\n            d4 += h5 * (5 * r9);\n            d4 += h6 * (5 * r8);\n            d4 += h7 * (5 * r7);\n            d4 += h8 * (5 * r6);\n            d4 += h9 * (5 * r5);\n            c += (d4 >>> 13);\n            d4 &= 0x1fff;\n            var d5 = c;\n            d5 += h0 * r5;\n            d5 += h1 * r4;\n            d5 += h2 * r3;\n            d5 += h3 * r2;\n            d5 += h4 * r1;\n            c = (d5 >>> 13);\n            d5 &= 0x1fff;\n            d5 += h5 * r0;\n            d5 += h6 * (5 * r9);\n            d5 += h7 * (5 * r8);\n            d5 += h8 * (5 * r7);\n            d5 += h9 * (5 * r6);\n            c += (d5 >>> 13);\n            d5 &= 0x1fff;\n            var d6 = c;\n            d6 += h0 * r6;\n            d6 += h1 * r5;\n            d6 += h2 * r4;\n            d6 += h3 * r3;\n            d6 += h4 * r2;\n            c = (d6 >>> 13);\n            d6 &= 0x1fff;\n            d6 += h5 * r1;\n            d6 += h6 * r0;\n            d6 += h7 * (5 * r9);\n            d6 += h8 * (5 * r8);\n            d6 += h9 * (5 * r7);\n            c += (d6 >>> 13);\n            d6 &= 0x1fff;\n            var d7 = c;\n            d7 += h0 * r7;\n            d7 += h1 * r6;\n            d7 += h2 * r5;\n            d7 += h3 * r4;\n            d7 += h4 * r3;\n            c = (d7 >>> 13);\n            d7 &= 0x1fff;\n            d7 += h5 * r2;\n            d7 += h6 * r1;\n            d7 += h7 * r0;\n            d7 += h8 * (5 * r9);\n            d7 += h9 * (5 * r8);\n            c += (d7 >>> 13);\n            d7 &= 0x1fff;\n            var d8 = c;\n            d8 += h0 * r8;\n            d8 += h1 * r7;\n            d8 += h2 * r6;\n            d8 += h3 * r5;\n            d8 += h4 * r4;\n            c = (d8 >>> 13);\n            d8 &= 0x1fff;\n            d8 += h5 * r3;\n            d8 += h6 * r2;\n            d8 += h7 * r1;\n            d8 += h8 * r0;\n            d8 += h9 * (5 * r9);\n            c += (d8 >>> 13);\n            d8 &= 0x1fff;\n            var d9 = c;\n            d9 += h0 * r9;\n            d9 += h1 * r8;\n            d9 += h2 * r7;\n            d9 += h3 * r6;\n            d9 += h4 * r5;\n            c = (d9 >>> 13);\n            d9 &= 0x1fff;\n            d9 += h5 * r4;\n            d9 += h6 * r3;\n            d9 += h7 * r2;\n            d9 += h8 * r1;\n            d9 += h9 * r0;\n            c += (d9 >>> 13);\n            d9 &= 0x1fff;\n            c = (((c << 2) + c)) | 0;\n            c = (c + d0) | 0;\n            d0 = c & 0x1fff;\n            c = (c >>> 13);\n            d1 += c;\n            h0 = d0;\n            h1 = d1;\n            h2 = d2;\n            h3 = d3;\n            h4 = d4;\n            h5 = d5;\n            h6 = d6;\n            h7 = d7;\n            h8 = d8;\n            h9 = d9;\n            mpos += 16;\n            bytes -= 16;\n        }\n        this._h[0] = h0;\n        this._h[1] = h1;\n        this._h[2] = h2;\n        this._h[3] = h3;\n        this._h[4] = h4;\n        this._h[5] = h5;\n        this._h[6] = h6;\n        this._h[7] = h7;\n        this._h[8] = h8;\n        this._h[9] = h9;\n    };\n    Poly1305.prototype.finish = function (mac, macpos) {\n        if (macpos === void 0) { macpos = 0; }\n        var g = new Uint16Array(10);\n        var c;\n        var mask;\n        var f;\n        var i;\n        if (this._leftover) {\n            i = this._leftover;\n            this._buffer[i++] = 1;\n            for (; i < 16; i++) {\n                this._buffer[i] = 0;\n            }\n            this._fin = 1;\n            this._blocks(this._buffer, 0, 16);\n        }\n        c = this._h[1] >>> 13;\n        this._h[1] &= 0x1fff;\n        for (i = 2; i < 10; i++) {\n            this._h[i] += c;\n            c = this._h[i] >>> 13;\n            this._h[i] &= 0x1fff;\n        }\n        this._h[0] += (c * 5);\n        c = this._h[0] >>> 13;\n        this._h[0] &= 0x1fff;\n        this._h[1] += c;\n        c = this._h[1] >>> 13;\n        this._h[1] &= 0x1fff;\n        this._h[2] += c;\n        g[0] = this._h[0] + 5;\n        c = g[0] >>> 13;\n        g[0] &= 0x1fff;\n        for (i = 1; i < 10; i++) {\n            g[i] = this._h[i] + c;\n            c = g[i] >>> 13;\n            g[i] &= 0x1fff;\n        }\n        g[9] -= (1 << 13);\n        mask = (c ^ 1) - 1;\n        for (i = 0; i < 10; i++) {\n            g[i] &= mask;\n        }\n        mask = ~mask;\n        for (i = 0; i < 10; i++) {\n            this._h[i] = (this._h[i] & mask) | g[i];\n        }\n        this._h[0] = ((this._h[0]) | (this._h[1] << 13)) & 0xffff;\n        this._h[1] = ((this._h[1] >>> 3) | (this._h[2] << 10)) & 0xffff;\n        this._h[2] = ((this._h[2] >>> 6) | (this._h[3] << 7)) & 0xffff;\n        this._h[3] = ((this._h[3] >>> 9) | (this._h[4] << 4)) & 0xffff;\n        this._h[4] = ((this._h[4] >>> 12) | (this._h[5] << 1) | (this._h[6] << 14)) & 0xffff;\n        this._h[5] = ((this._h[6] >>> 2) | (this._h[7] << 11)) & 0xffff;\n        this._h[6] = ((this._h[7] >>> 5) | (this._h[8] << 8)) & 0xffff;\n        this._h[7] = ((this._h[8] >>> 8) | (this._h[9] << 5)) & 0xffff;\n        f = this._h[0] + this._pad[0];\n        this._h[0] = f & 0xffff;\n        for (i = 1; i < 8; i++) {\n            f = (((this._h[i] + this._pad[i]) | 0) + (f >>> 16)) | 0;\n            this._h[i] = f & 0xffff;\n        }\n        mac[macpos + 0] = this._h[0] >>> 0;\n        mac[macpos + 1] = this._h[0] >>> 8;\n        mac[macpos + 2] = this._h[1] >>> 0;\n        mac[macpos + 3] = this._h[1] >>> 8;\n        mac[macpos + 4] = this._h[2] >>> 0;\n        mac[macpos + 5] = this._h[2] >>> 8;\n        mac[macpos + 6] = this._h[3] >>> 0;\n        mac[macpos + 7] = this._h[3] >>> 8;\n        mac[macpos + 8] = this._h[4] >>> 0;\n        mac[macpos + 9] = this._h[4] >>> 8;\n        mac[macpos + 10] = this._h[5] >>> 0;\n        mac[macpos + 11] = this._h[5] >>> 8;\n        mac[macpos + 12] = this._h[6] >>> 0;\n        mac[macpos + 13] = this._h[6] >>> 8;\n        mac[macpos + 14] = this._h[7] >>> 0;\n        mac[macpos + 15] = this._h[7] >>> 8;\n        this._finished = true;\n        return this;\n    };\n    Poly1305.prototype.update = function (m) {\n        var mpos = 0;\n        var bytes = m.length;\n        var want;\n        if (this._leftover) {\n            want = (16 - this._leftover);\n            if (want > bytes) {\n                want = bytes;\n            }\n            for (var i = 0; i < want; i++) {\n                this._buffer[this._leftover + i] = m[mpos + i];\n            }\n            bytes -= want;\n            mpos += want;\n            this._leftover += want;\n            if (this._leftover < 16) {\n                return this;\n            }\n            this._blocks(this._buffer, 0, 16);\n            this._leftover = 0;\n        }\n        if (bytes >= 16) {\n            want = bytes - (bytes % 16);\n            this._blocks(m, mpos, want);\n            mpos += want;\n            bytes -= want;\n        }\n        if (bytes) {\n            for (var i = 0; i < bytes; i++) {\n                this._buffer[this._leftover + i] = m[mpos + i];\n            }\n            this._leftover += bytes;\n        }\n        return this;\n    };\n    Poly1305.prototype.digest = function () {\n        // TODO(dchest): it behaves differently than other hashes/HMAC,\n        // because it throws when finished  others just return saved result.\n        if (this._finished) {\n            throw new Error(\"Poly1305 was finished\");\n        }\n        var mac = new Uint8Array(16);\n        this.finish(mac);\n        return mac;\n    };\n    Poly1305.prototype.clean = function () {\n        wipe_1.wipe(this._buffer);\n        wipe_1.wipe(this._r);\n        wipe_1.wipe(this._h);\n        wipe_1.wipe(this._pad);\n        this._leftover = 0;\n        this._fin = 0;\n        this._finished = true; // mark as finished even if not\n        return this;\n    };\n    return Poly1305;\n}());\nexports.Poly1305 = Poly1305;\n/**\n * Returns 16-byte authenticator of data using a one-time 32-byte key.\n *\n * Important: key should be used for only one message, it should never repeat.\n */\nfunction oneTimeAuth(key, data) {\n    var h = new Poly1305(key);\n    h.update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.oneTimeAuth = oneTimeAuth;\n/**\n * Returns true if two authenticators are 16-byte long and equal.\n * Uses contant-time comparison to avoid leaking timing information.\n */\nfunction equal(a, b) {\n    if (a.length !== exports.DIGEST_LENGTH || b.length !== exports.DIGEST_LENGTH) {\n        return false;\n    }\n    return constant_time_1.equal(a, b);\n}\nexports.equal = equal;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomStringForEntropy = exports.randomString = exports.randomUint32 = exports.randomBytes = exports.defaultRandomSource = void 0;\nconst system_1 = require(\"./source/system\");\nconst binary_1 = require(\"@stablelib/binary\");\nconst wipe_1 = require(\"@stablelib/wipe\");\nexports.defaultRandomSource = new system_1.SystemRandomSource();\nfunction randomBytes(length, prng = exports.defaultRandomSource) {\n    return prng.randomBytes(length);\n}\nexports.randomBytes = randomBytes;\n/**\n * Returns a uniformly random unsigned 32-bit integer.\n */\nfunction randomUint32(prng = exports.defaultRandomSource) {\n    // Generate 4-byte random buffer.\n    const buf = randomBytes(4, prng);\n    // Convert bytes from buffer into a 32-bit integer.\n    // It's not important which byte order to use, since\n    // the result is random.\n    const result = (0, binary_1.readUint32LE)(buf);\n    // Clean the buffer.\n    (0, wipe_1.wipe)(buf);\n    return result;\n}\nexports.randomUint32 = randomUint32;\n/** 62 alphanumeric characters for default charset of randomString() */\nconst ALPHANUMERIC = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n/**\n * Returns a uniform random string of the given length\n * with characters from the given charset.\n *\n * Charset must not have more than 256 characters.\n *\n * Default charset generates case-sensitive alphanumeric\n * strings (0-9, A-Z, a-z).\n */\nfunction randomString(length, charset = ALPHANUMERIC, prng = exports.defaultRandomSource) {\n    if (charset.length < 2) {\n        throw new Error(\"randomString charset is too short\");\n    }\n    if (charset.length > 256) {\n        throw new Error(\"randomString charset is too long\");\n    }\n    let out = '';\n    const charsLen = charset.length;\n    const maxByte = 256 - (256 % charsLen);\n    while (length > 0) {\n        const buf = randomBytes(Math.ceil(length * 256 / maxByte), prng);\n        for (let i = 0; i < buf.length && length > 0; i++) {\n            const randomByte = buf[i];\n            if (randomByte < maxByte) {\n                out += charset.charAt(randomByte % charsLen);\n                length--;\n            }\n        }\n        (0, wipe_1.wipe)(buf);\n    }\n    return out;\n}\nexports.randomString = randomString;\n/**\n * Returns uniform random string containing at least the given\n * number of bits of entropy.\n *\n * For example, randomStringForEntropy(128) will return a 22-character\n * alphanumeric string, while randomStringForEntropy(128, \"0123456789\")\n * will return a 39-character numeric string, both will contain at\n * least 128 bits of entropy.\n *\n * Default charset generates case-sensitive alphanumeric\n * strings (0-9, A-Z, a-z).\n */\nfunction randomStringForEntropy(bits, charset = ALPHANUMERIC, prng = exports.defaultRandomSource) {\n    const length = Math.ceil(bits / (Math.log(charset.length) / Math.LN2));\n    return randomString(length, charset, prng);\n}\nexports.randomStringForEntropy = randomStringForEntropy;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserRandomSource = void 0;\nconst QUOTA = 65536;\nclass BrowserRandomSource {\n    constructor() {\n        this.isAvailable = false;\n        this.isInstantiated = false;\n        const browserCrypto = typeof self !== 'undefined'\n            ? (self.crypto || self.msCrypto) // IE11 has msCrypto\n            : null;\n        if (browserCrypto && browserCrypto.getRandomValues !== undefined) {\n            this._crypto = browserCrypto;\n            this.isAvailable = true;\n            this.isInstantiated = true;\n        }\n    }\n    randomBytes(length) {\n        if (!this.isAvailable || !this._crypto) {\n            throw new Error(\"Browser random byte generator is not available.\");\n        }\n        const out = new Uint8Array(length);\n        for (let i = 0; i < out.length; i += QUOTA) {\n            this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n        }\n        return out;\n    }\n}\nexports.BrowserRandomSource = BrowserRandomSource;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeRandomSource = void 0;\nconst wipe_1 = require(\"@stablelib/wipe\");\nclass NodeRandomSource {\n    constructor() {\n        this.isAvailable = false;\n        this.isInstantiated = false;\n        if (typeof require !== \"undefined\") {\n            const nodeCrypto = require(\"crypto\");\n            if (nodeCrypto && nodeCrypto.randomBytes) {\n                this._crypto = nodeCrypto;\n                this.isAvailable = true;\n                this.isInstantiated = true;\n            }\n        }\n    }\n    randomBytes(length) {\n        if (!this.isAvailable || !this._crypto) {\n            throw new Error(\"Node.js random byte generator is not available.\");\n        }\n        // Get random bytes (result is Buffer).\n        let buffer = this._crypto.randomBytes(length);\n        // Make sure we got the length that we requested.\n        if (buffer.length !== length) {\n            throw new Error(\"NodeRandomSource: got fewer bytes than requested\");\n        }\n        // Allocate output array.\n        const out = new Uint8Array(length);\n        // Copy bytes from buffer to output.\n        for (let i = 0; i < out.length; i++) {\n            out[i] = buffer[i];\n        }\n        // Cleanup.\n        (0, wipe_1.wipe)(buffer);\n        return out;\n    }\n}\nexports.NodeRandomSource = NodeRandomSource;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SystemRandomSource = void 0;\nconst browser_1 = require(\"./browser\");\nconst node_1 = require(\"./node\");\nclass SystemRandomSource {\n    constructor() {\n        this.isAvailable = false;\n        this.name = \"\";\n        // Try browser.\n        this._source = new browser_1.BrowserRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Browser\";\n            return;\n        }\n        // If no browser source, try Node.\n        this._source = new node_1.NodeRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Node\";\n            return;\n        }\n        // No sources, we're out of options.\n    }\n    randomBytes(length) {\n        if (!this.isAvailable) {\n            throw new Error(\"System random byte generator is not available.\");\n        }\n        return this._source.randomBytes(length);\n    }\n}\nexports.SystemRandomSource = SystemRandomSource;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binary_1 = require(\"@stablelib/binary\");\nvar wipe_1 = require(\"@stablelib/wipe\");\nexports.DIGEST_LENGTH = 32;\nexports.BLOCK_SIZE = 64;\n/**\n * SHA2-256 cryptographic hash algorithm.\n */\nvar SHA256 = /** @class */ (function () {\n    function SHA256() {\n        /** Length of hash output */\n        this.digestLength = exports.DIGEST_LENGTH;\n        /** Block size */\n        this.blockSize = exports.BLOCK_SIZE;\n        // Note: Int32Array is used instead of Uint32Array for performance reasons.\n        this._state = new Int32Array(8); // hash state\n        this._temp = new Int32Array(64); // temporary state\n        this._buffer = new Uint8Array(128); // buffer for data to hash\n        this._bufferLength = 0; // number of bytes in buffer\n        this._bytesHashed = 0; // number of total bytes hashed\n        this._finished = false; // indicates whether the hash was finalized\n        this.reset();\n    }\n    SHA256.prototype._initState = function () {\n        this._state[0] = 0x6a09e667;\n        this._state[1] = 0xbb67ae85;\n        this._state[2] = 0x3c6ef372;\n        this._state[3] = 0xa54ff53a;\n        this._state[4] = 0x510e527f;\n        this._state[5] = 0x9b05688c;\n        this._state[6] = 0x1f83d9ab;\n        this._state[7] = 0x5be0cd19;\n    };\n    /**\n     * Resets hash state making it possible\n     * to re-use this instance to hash other data.\n     */\n    SHA256.prototype.reset = function () {\n        this._initState();\n        this._bufferLength = 0;\n        this._bytesHashed = 0;\n        this._finished = false;\n        return this;\n    };\n    /**\n     * Cleans internal buffers and resets hash state.\n     */\n    SHA256.prototype.clean = function () {\n        wipe_1.wipe(this._buffer);\n        wipe_1.wipe(this._temp);\n        this.reset();\n    };\n    /**\n     * Updates hash state with the given data.\n     *\n     * Throws error when trying to update already finalized hash:\n     * instance must be reset to update it again.\n     */\n    SHA256.prototype.update = function (data, dataLength) {\n        if (dataLength === void 0) { dataLength = data.length; }\n        if (this._finished) {\n            throw new Error(\"SHA256: can't update because hash was finished.\");\n        }\n        var dataPos = 0;\n        this._bytesHashed += dataLength;\n        if (this._bufferLength > 0) {\n            while (this._bufferLength < this.blockSize && dataLength > 0) {\n                this._buffer[this._bufferLength++] = data[dataPos++];\n                dataLength--;\n            }\n            if (this._bufferLength === this.blockSize) {\n                hashBlocks(this._temp, this._state, this._buffer, 0, this.blockSize);\n                this._bufferLength = 0;\n            }\n        }\n        if (dataLength >= this.blockSize) {\n            dataPos = hashBlocks(this._temp, this._state, data, dataPos, dataLength);\n            dataLength %= this.blockSize;\n        }\n        while (dataLength > 0) {\n            this._buffer[this._bufferLength++] = data[dataPos++];\n            dataLength--;\n        }\n        return this;\n    };\n    /**\n     * Finalizes hash state and puts hash into out.\n     * If hash was already finalized, puts the same value.\n     */\n    SHA256.prototype.finish = function (out) {\n        if (!this._finished) {\n            var bytesHashed = this._bytesHashed;\n            var left = this._bufferLength;\n            var bitLenHi = (bytesHashed / 0x20000000) | 0;\n            var bitLenLo = bytesHashed << 3;\n            var padLength = (bytesHashed % 64 < 56) ? 64 : 128;\n            this._buffer[left] = 0x80;\n            for (var i = left + 1; i < padLength - 8; i++) {\n                this._buffer[i] = 0;\n            }\n            binary_1.writeUint32BE(bitLenHi, this._buffer, padLength - 8);\n            binary_1.writeUint32BE(bitLenLo, this._buffer, padLength - 4);\n            hashBlocks(this._temp, this._state, this._buffer, 0, padLength);\n            this._finished = true;\n        }\n        for (var i = 0; i < this.digestLength / 4; i++) {\n            binary_1.writeUint32BE(this._state[i], out, i * 4);\n        }\n        return this;\n    };\n    /**\n     * Returns the final hash digest.\n     */\n    SHA256.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    /**\n     * Function useful for HMAC/PBKDF2 optimization.\n     * Returns hash state to be used with restoreState().\n     * Only chain value is saved, not buffers or other\n     * state variables.\n     */\n    SHA256.prototype.saveState = function () {\n        if (this._finished) {\n            throw new Error(\"SHA256: cannot save finished state\");\n        }\n        return {\n            state: new Int32Array(this._state),\n            buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : undefined,\n            bufferLength: this._bufferLength,\n            bytesHashed: this._bytesHashed\n        };\n    };\n    /**\n     * Function useful for HMAC/PBKDF2 optimization.\n     * Restores state saved by saveState() and sets bytesHashed\n     * to the given value.\n     */\n    SHA256.prototype.restoreState = function (savedState) {\n        this._state.set(savedState.state);\n        this._bufferLength = savedState.bufferLength;\n        if (savedState.buffer) {\n            this._buffer.set(savedState.buffer);\n        }\n        this._bytesHashed = savedState.bytesHashed;\n        this._finished = false;\n        return this;\n    };\n    /**\n     * Cleans state returned by saveState().\n     */\n    SHA256.prototype.cleanSavedState = function (savedState) {\n        wipe_1.wipe(savedState.state);\n        if (savedState.buffer) {\n            wipe_1.wipe(savedState.buffer);\n        }\n        savedState.bufferLength = 0;\n        savedState.bytesHashed = 0;\n    };\n    return SHA256;\n}());\nexports.SHA256 = SHA256;\n// Constants\nvar K = new Int32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b,\n    0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01,\n    0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7,\n    0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n    0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152,\n    0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n    0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc,\n    0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819,\n    0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08,\n    0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,\n    0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n    0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\nfunction hashBlocks(w, v, p, pos, len) {\n    while (len >= 64) {\n        var a = v[0];\n        var b = v[1];\n        var c = v[2];\n        var d = v[3];\n        var e = v[4];\n        var f = v[5];\n        var g = v[6];\n        var h = v[7];\n        for (var i = 0; i < 16; i++) {\n            var j = pos + i * 4;\n            w[i] = binary_1.readUint32BE(p, j);\n        }\n        for (var i = 16; i < 64; i++) {\n            var u = w[i - 2];\n            var t1 = (u >>> 17 | u << (32 - 17)) ^ (u >>> 19 | u << (32 - 19)) ^ (u >>> 10);\n            u = w[i - 15];\n            var t2 = (u >>> 7 | u << (32 - 7)) ^ (u >>> 18 | u << (32 - 18)) ^ (u >>> 3);\n            w[i] = (t1 + w[i - 7] | 0) + (t2 + w[i - 16] | 0);\n        }\n        for (var i = 0; i < 64; i++) {\n            var t1 = (((((e >>> 6 | e << (32 - 6)) ^ (e >>> 11 | e << (32 - 11)) ^\n                (e >>> 25 | e << (32 - 25))) + ((e & f) ^ (~e & g))) | 0) +\n                ((h + ((K[i] + w[i]) | 0)) | 0)) | 0;\n            var t2 = (((a >>> 2 | a << (32 - 2)) ^ (a >>> 13 | a << (32 - 13)) ^\n                (a >>> 22 | a << (32 - 22))) + ((a & b) ^ (a & c) ^ (b & c))) | 0;\n            h = g;\n            g = f;\n            f = e;\n            e = (d + t1) | 0;\n            d = c;\n            c = b;\n            b = a;\n            a = (t1 + t2) | 0;\n        }\n        v[0] += a;\n        v[1] += b;\n        v[2] += c;\n        v[3] += d;\n        v[4] += e;\n        v[5] += f;\n        v[6] += g;\n        v[7] += h;\n        pos += 64;\n        len -= 64;\n    }\n    return pos;\n}\nfunction hash(data) {\n    var h = new SHA256();\n    h.update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hash = hash;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binary_1 = require(\"@stablelib/binary\");\nvar wipe_1 = require(\"@stablelib/wipe\");\nexports.DIGEST_LENGTH = 64;\nexports.BLOCK_SIZE = 128;\n/**\n * SHA-2-512 cryptographic hash algorithm.\n */\nvar SHA512 = /** @class */ (function () {\n    function SHA512() {\n        /** Length of hash output */\n        this.digestLength = exports.DIGEST_LENGTH;\n        /** Block size */\n        this.blockSize = exports.BLOCK_SIZE;\n        // Note: Int32Array is used instead of Uint32Array for performance reasons.\n        this._stateHi = new Int32Array(8); // hash state, high bytes\n        this._stateLo = new Int32Array(8); // hash state, low bytes\n        this._tempHi = new Int32Array(16); // temporary state, high bytes\n        this._tempLo = new Int32Array(16); // temporary state, low bytes\n        this._buffer = new Uint8Array(256); // buffer for data to hash\n        this._bufferLength = 0; // number of bytes in buffer\n        this._bytesHashed = 0; // number of total bytes hashed\n        this._finished = false; // indicates whether the hash was finalized\n        this.reset();\n    }\n    SHA512.prototype._initState = function () {\n        this._stateHi[0] = 0x6a09e667;\n        this._stateHi[1] = 0xbb67ae85;\n        this._stateHi[2] = 0x3c6ef372;\n        this._stateHi[3] = 0xa54ff53a;\n        this._stateHi[4] = 0x510e527f;\n        this._stateHi[5] = 0x9b05688c;\n        this._stateHi[6] = 0x1f83d9ab;\n        this._stateHi[7] = 0x5be0cd19;\n        this._stateLo[0] = 0xf3bcc908;\n        this._stateLo[1] = 0x84caa73b;\n        this._stateLo[2] = 0xfe94f82b;\n        this._stateLo[3] = 0x5f1d36f1;\n        this._stateLo[4] = 0xade682d1;\n        this._stateLo[5] = 0x2b3e6c1f;\n        this._stateLo[6] = 0xfb41bd6b;\n        this._stateLo[7] = 0x137e2179;\n    };\n    /**\n     * Resets hash state making it possible\n     * to re-use this instance to hash other data.\n     */\n    SHA512.prototype.reset = function () {\n        this._initState();\n        this._bufferLength = 0;\n        this._bytesHashed = 0;\n        this._finished = false;\n        return this;\n    };\n    /**\n     * Cleans internal buffers and resets hash state.\n     */\n    SHA512.prototype.clean = function () {\n        wipe_1.wipe(this._buffer);\n        wipe_1.wipe(this._tempHi);\n        wipe_1.wipe(this._tempLo);\n        this.reset();\n    };\n    /**\n     * Updates hash state with the given data.\n     *\n     * Throws error when trying to update already finalized hash:\n     * instance must be reset to update it again.\n     */\n    SHA512.prototype.update = function (data, dataLength) {\n        if (dataLength === void 0) { dataLength = data.length; }\n        if (this._finished) {\n            throw new Error(\"SHA512: can't update because hash was finished.\");\n        }\n        var dataPos = 0;\n        this._bytesHashed += dataLength;\n        if (this._bufferLength > 0) {\n            while (this._bufferLength < exports.BLOCK_SIZE && dataLength > 0) {\n                this._buffer[this._bufferLength++] = data[dataPos++];\n                dataLength--;\n            }\n            if (this._bufferLength === this.blockSize) {\n                hashBlocks(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, this.blockSize);\n                this._bufferLength = 0;\n            }\n        }\n        if (dataLength >= this.blockSize) {\n            dataPos = hashBlocks(this._tempHi, this._tempLo, this._stateHi, this._stateLo, data, dataPos, dataLength);\n            dataLength %= this.blockSize;\n        }\n        while (dataLength > 0) {\n            this._buffer[this._bufferLength++] = data[dataPos++];\n            dataLength--;\n        }\n        return this;\n    };\n    /**\n     * Finalizes hash state and puts hash into out.\n     * If hash was already finalized, puts the same value.\n     */\n    SHA512.prototype.finish = function (out) {\n        if (!this._finished) {\n            var bytesHashed = this._bytesHashed;\n            var left = this._bufferLength;\n            var bitLenHi = (bytesHashed / 0x20000000) | 0;\n            var bitLenLo = bytesHashed << 3;\n            var padLength = (bytesHashed % 128 < 112) ? 128 : 256;\n            this._buffer[left] = 0x80;\n            for (var i = left + 1; i < padLength - 8; i++) {\n                this._buffer[i] = 0;\n            }\n            binary_1.writeUint32BE(bitLenHi, this._buffer, padLength - 8);\n            binary_1.writeUint32BE(bitLenLo, this._buffer, padLength - 4);\n            hashBlocks(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, padLength);\n            this._finished = true;\n        }\n        for (var i = 0; i < this.digestLength / 8; i++) {\n            binary_1.writeUint32BE(this._stateHi[i], out, i * 8);\n            binary_1.writeUint32BE(this._stateLo[i], out, i * 8 + 4);\n        }\n        return this;\n    };\n    /**\n     * Returns the final hash digest.\n     */\n    SHA512.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    /**\n     * Function useful for HMAC/PBKDF2 optimization. Returns hash state to be\n     * used with restoreState(). Only chain value is saved, not buffers or\n     * other state variables.\n     */\n    SHA512.prototype.saveState = function () {\n        if (this._finished) {\n            throw new Error(\"SHA256: cannot save finished state\");\n        }\n        return {\n            stateHi: new Int32Array(this._stateHi),\n            stateLo: new Int32Array(this._stateLo),\n            buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : undefined,\n            bufferLength: this._bufferLength,\n            bytesHashed: this._bytesHashed\n        };\n    };\n    /**\n     * Function useful for HMAC/PBKDF2 optimization. Restores state saved by\n     * saveState() and sets bytesHashed to the given value.\n     */\n    SHA512.prototype.restoreState = function (savedState) {\n        this._stateHi.set(savedState.stateHi);\n        this._stateLo.set(savedState.stateLo);\n        this._bufferLength = savedState.bufferLength;\n        if (savedState.buffer) {\n            this._buffer.set(savedState.buffer);\n        }\n        this._bytesHashed = savedState.bytesHashed;\n        this._finished = false;\n        return this;\n    };\n    /**\n     * Cleans state returned by saveState().\n     */\n    SHA512.prototype.cleanSavedState = function (savedState) {\n        wipe_1.wipe(savedState.stateHi);\n        wipe_1.wipe(savedState.stateLo);\n        if (savedState.buffer) {\n            wipe_1.wipe(savedState.buffer);\n        }\n        savedState.bufferLength = 0;\n        savedState.bytesHashed = 0;\n    };\n    return SHA512;\n}());\nexports.SHA512 = SHA512;\n// Constants\nvar K = new Int32Array([\n    0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n    0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n    0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n    0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n    0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n    0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n    0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n    0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n    0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n    0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n    0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n    0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n    0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n    0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n    0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n    0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n    0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n    0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n    0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n    0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n    0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n    0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n    0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n    0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n    0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n    0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n    0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n    0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n    0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n    0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n    0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n    0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n    0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n    0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n    0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n    0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n    0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n    0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n    0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n    0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n]);\nfunction hashBlocks(wh, wl, hh, hl, m, pos, len) {\n    var ah0 = hh[0], ah1 = hh[1], ah2 = hh[2], ah3 = hh[3], ah4 = hh[4], ah5 = hh[5], ah6 = hh[6], ah7 = hh[7], al0 = hl[0], al1 = hl[1], al2 = hl[2], al3 = hl[3], al4 = hl[4], al5 = hl[5], al6 = hl[6], al7 = hl[7];\n    var h, l;\n    var th, tl;\n    var a, b, c, d;\n    while (len >= 128) {\n        for (var i = 0; i < 16; i++) {\n            var j = 8 * i + pos;\n            wh[i] = binary_1.readUint32BE(m, j);\n            wl[i] = binary_1.readUint32BE(m, j + 4);\n        }\n        for (var i = 0; i < 80; i++) {\n            var bh0 = ah0;\n            var bh1 = ah1;\n            var bh2 = ah2;\n            var bh3 = ah3;\n            var bh4 = ah4;\n            var bh5 = ah5;\n            var bh6 = ah6;\n            var bh7 = ah7;\n            var bl0 = al0;\n            var bl1 = al1;\n            var bl2 = al2;\n            var bl3 = al3;\n            var bl4 = al4;\n            var bl5 = al5;\n            var bl6 = al6;\n            var bl7 = al7;\n            // add\n            h = ah7;\n            l = al7;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            // Sigma1\n            h = ((ah4 >>> 14) | (al4 << (32 - 14))) ^ ((ah4 >>> 18) |\n                (al4 << (32 - 18))) ^ ((al4 >>> (41 - 32)) | (ah4 << (32 - (41 - 32))));\n            l = ((al4 >>> 14) | (ah4 << (32 - 14))) ^ ((al4 >>> 18) |\n                (ah4 << (32 - 18))) ^ ((ah4 >>> (41 - 32)) | (al4 << (32 - (41 - 32))));\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            // Ch\n            h = (ah4 & ah5) ^ (~ah4 & ah6);\n            l = (al4 & al5) ^ (~al4 & al6);\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            // K\n            h = K[i * 2];\n            l = K[i * 2 + 1];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            // w\n            h = wh[i % 16];\n            l = wl[i % 16];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            th = c & 0xffff | d << 16;\n            tl = a & 0xffff | b << 16;\n            // add\n            h = th;\n            l = tl;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            // Sigma0\n            h = ((ah0 >>> 28) | (al0 << (32 - 28))) ^ ((al0 >>> (34 - 32)) |\n                (ah0 << (32 - (34 - 32)))) ^ ((al0 >>> (39 - 32)) | (ah0 << (32 - (39 - 32))));\n            l = ((al0 >>> 28) | (ah0 << (32 - 28))) ^ ((ah0 >>> (34 - 32)) |\n                (al0 << (32 - (34 - 32)))) ^ ((ah0 >>> (39 - 32)) | (al0 << (32 - (39 - 32))));\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            // Maj\n            h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n            l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            bh7 = (c & 0xffff) | (d << 16);\n            bl7 = (a & 0xffff) | (b << 16);\n            // add\n            h = bh3;\n            l = bl3;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = th;\n            l = tl;\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            bh3 = (c & 0xffff) | (d << 16);\n            bl3 = (a & 0xffff) | (b << 16);\n            ah1 = bh0;\n            ah2 = bh1;\n            ah3 = bh2;\n            ah4 = bh3;\n            ah5 = bh4;\n            ah6 = bh5;\n            ah7 = bh6;\n            ah0 = bh7;\n            al1 = bl0;\n            al2 = bl1;\n            al3 = bl2;\n            al4 = bl3;\n            al5 = bl4;\n            al6 = bl5;\n            al7 = bl6;\n            al0 = bl7;\n            if (i % 16 === 15) {\n                for (var j = 0; j < 16; j++) {\n                    // add\n                    h = wh[j];\n                    l = wl[j];\n                    a = l & 0xffff;\n                    b = l >>> 16;\n                    c = h & 0xffff;\n                    d = h >>> 16;\n                    h = wh[(j + 9) % 16];\n                    l = wl[(j + 9) % 16];\n                    a += l & 0xffff;\n                    b += l >>> 16;\n                    c += h & 0xffff;\n                    d += h >>> 16;\n                    // sigma0\n                    th = wh[(j + 1) % 16];\n                    tl = wl[(j + 1) % 16];\n                    h = ((th >>> 1) | (tl << (32 - 1))) ^ ((th >>> 8) |\n                        (tl << (32 - 8))) ^ (th >>> 7);\n                    l = ((tl >>> 1) | (th << (32 - 1))) ^ ((tl >>> 8) |\n                        (th << (32 - 8))) ^ ((tl >>> 7) | (th << (32 - 7)));\n                    a += l & 0xffff;\n                    b += l >>> 16;\n                    c += h & 0xffff;\n                    d += h >>> 16;\n                    // sigma1\n                    th = wh[(j + 14) % 16];\n                    tl = wl[(j + 14) % 16];\n                    h = ((th >>> 19) | (tl << (32 - 19))) ^ ((tl >>> (61 - 32)) |\n                        (th << (32 - (61 - 32)))) ^ (th >>> 6);\n                    l = ((tl >>> 19) | (th << (32 - 19))) ^ ((th >>> (61 - 32)) |\n                        (tl << (32 - (61 - 32)))) ^ ((tl >>> 6) | (th << (32 - 6)));\n                    a += l & 0xffff;\n                    b += l >>> 16;\n                    c += h & 0xffff;\n                    d += h >>> 16;\n                    b += a >>> 16;\n                    c += b >>> 16;\n                    d += c >>> 16;\n                    wh[j] = (c & 0xffff) | (d << 16);\n                    wl[j] = (a & 0xffff) | (b << 16);\n                }\n            }\n        }\n        // add\n        h = ah0;\n        l = al0;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[0];\n        l = hl[0];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[0] = ah0 = (c & 0xffff) | (d << 16);\n        hl[0] = al0 = (a & 0xffff) | (b << 16);\n        h = ah1;\n        l = al1;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[1];\n        l = hl[1];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[1] = ah1 = (c & 0xffff) | (d << 16);\n        hl[1] = al1 = (a & 0xffff) | (b << 16);\n        h = ah2;\n        l = al2;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[2];\n        l = hl[2];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[2] = ah2 = (c & 0xffff) | (d << 16);\n        hl[2] = al2 = (a & 0xffff) | (b << 16);\n        h = ah3;\n        l = al3;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[3];\n        l = hl[3];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[3] = ah3 = (c & 0xffff) | (d << 16);\n        hl[3] = al3 = (a & 0xffff) | (b << 16);\n        h = ah4;\n        l = al4;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[4];\n        l = hl[4];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[4] = ah4 = (c & 0xffff) | (d << 16);\n        hl[4] = al4 = (a & 0xffff) | (b << 16);\n        h = ah5;\n        l = al5;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[5];\n        l = hl[5];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[5] = ah5 = (c & 0xffff) | (d << 16);\n        hl[5] = al5 = (a & 0xffff) | (b << 16);\n        h = ah6;\n        l = al6;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[6];\n        l = hl[6];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[6] = ah6 = (c & 0xffff) | (d << 16);\n        hl[6] = al6 = (a & 0xffff) | (b << 16);\n        h = ah7;\n        l = al7;\n        a = l & 0xffff;\n        b = l >>> 16;\n        c = h & 0xffff;\n        d = h >>> 16;\n        h = hh[7];\n        l = hl[7];\n        a += l & 0xffff;\n        b += l >>> 16;\n        c += h & 0xffff;\n        d += h >>> 16;\n        b += a >>> 16;\n        c += b >>> 16;\n        d += c >>> 16;\n        hh[7] = ah7 = (c & 0xffff) | (d << 16);\n        hl[7] = al7 = (a & 0xffff) | (b << 16);\n        pos += 128;\n        len -= 128;\n    }\n    return pos;\n}\nfunction hash(data) {\n    var h = new SHA512();\n    h.update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hash = hash;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sets all values in the given array to zero and returns it.\n *\n * The fact that it sets bytes to zero can be relied on.\n *\n * There is no guarantee that this function makes data disappear from memory,\n * as runtime implementation can, for example, have copying garbage collector\n * that will make copies of sensitive data before we wipe it. Or that an\n * operating system will write our data to swap or sleep image. Another thing\n * is that an optimizing compiler can remove calls to this function or make it\n * no-op. There's nothing we can do with it, so we just do our best and hope\n * that everything will be okay and good will triumph over evil.\n */\nfunction wipe(array) {\n    // Right now it's similar to array.fill(0). If it turns\n    // out that runtimes optimize this call away, maybe\n    // we can try something else.\n    for (var i = 0; i < array.length; i++) {\n        array[i] = 0;\n    }\n    return array;\n}\nexports.wipe = wipe;\n","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sharedKey = exports.generateKeyPair = exports.generateKeyPairFromSeed = exports.scalarMultBase = exports.scalarMult = exports.SHARED_KEY_LENGTH = exports.SECRET_KEY_LENGTH = exports.PUBLIC_KEY_LENGTH = void 0;\n/**\n * Package x25519 implements X25519 key agreement.\n */\nconst random_1 = require(\"@stablelib/random\");\nconst wipe_1 = require(\"@stablelib/wipe\");\nexports.PUBLIC_KEY_LENGTH = 32;\nexports.SECRET_KEY_LENGTH = 32;\nexports.SHARED_KEY_LENGTH = 32;\n// Returns new zero-filled 16-element GF (Float64Array).\n// If passed an array of numbers, prefills the returned\n// array with them.\n//\n// We use Float64Array, because we need 48-bit numbers\n// for this implementation.\nfunction gf(init) {\n    const r = new Float64Array(16);\n    if (init) {\n        for (let i = 0; i < init.length; i++) {\n            r[i] = init[i];\n        }\n    }\n    return r;\n}\n// Base point.\nconst _9 = new Uint8Array(32);\n_9[0] = 9;\nconst _121665 = gf([0xdb41, 1]);\nfunction car25519(o) {\n    let c = 1;\n    for (let i = 0; i < 16; i++) {\n        let v = o[i] + c + 65535;\n        c = Math.floor(v / 65536);\n        o[i] = v - c * 65536;\n    }\n    o[0] += c - 1 + 37 * (c - 1);\n}\nfunction sel25519(p, q, b) {\n    const c = ~(b - 1);\n    for (let i = 0; i < 16; i++) {\n        const t = c & (p[i] ^ q[i]);\n        p[i] ^= t;\n        q[i] ^= t;\n    }\n}\nfunction pack25519(o, n) {\n    const m = gf();\n    const t = gf();\n    for (let i = 0; i < 16; i++) {\n        t[i] = n[i];\n    }\n    car25519(t);\n    car25519(t);\n    car25519(t);\n    for (let j = 0; j < 2; j++) {\n        m[0] = t[0] - 0xffed;\n        for (let i = 1; i < 15; i++) {\n            m[i] = t[i] - 0xffff - ((m[i - 1] >> 16) & 1);\n            m[i - 1] &= 0xffff;\n        }\n        m[15] = t[15] - 0x7fff - ((m[14] >> 16) & 1);\n        const b = (m[15] >> 16) & 1;\n        m[14] &= 0xffff;\n        sel25519(t, m, 1 - b);\n    }\n    for (let i = 0; i < 16; i++) {\n        o[2 * i] = t[i] & 0xff;\n        o[2 * i + 1] = t[i] >> 8;\n    }\n}\nfunction unpack25519(o, n) {\n    for (let i = 0; i < 16; i++) {\n        o[i] = n[2 * i] + (n[2 * i + 1] << 8);\n    }\n    o[15] &= 0x7fff;\n}\nfunction add(o, a, b) {\n    for (let i = 0; i < 16; i++) {\n        o[i] = a[i] + b[i];\n    }\n}\nfunction sub(o, a, b) {\n    for (let i = 0; i < 16; i++) {\n        o[i] = a[i] - b[i];\n    }\n}\nfunction mul(o, a, b) {\n    let v, c, t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0, t7 = 0, t8 = 0, t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0, t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0, t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0, b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7], b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11], b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\n    v = a[0];\n    t0 += v * b0;\n    t1 += v * b1;\n    t2 += v * b2;\n    t3 += v * b3;\n    t4 += v * b4;\n    t5 += v * b5;\n    t6 += v * b6;\n    t7 += v * b7;\n    t8 += v * b8;\n    t9 += v * b9;\n    t10 += v * b10;\n    t11 += v * b11;\n    t12 += v * b12;\n    t13 += v * b13;\n    t14 += v * b14;\n    t15 += v * b15;\n    v = a[1];\n    t1 += v * b0;\n    t2 += v * b1;\n    t3 += v * b2;\n    t4 += v * b3;\n    t5 += v * b4;\n    t6 += v * b5;\n    t7 += v * b6;\n    t8 += v * b7;\n    t9 += v * b8;\n    t10 += v * b9;\n    t11 += v * b10;\n    t12 += v * b11;\n    t13 += v * b12;\n    t14 += v * b13;\n    t15 += v * b14;\n    t16 += v * b15;\n    v = a[2];\n    t2 += v * b0;\n    t3 += v * b1;\n    t4 += v * b2;\n    t5 += v * b3;\n    t6 += v * b4;\n    t7 += v * b5;\n    t8 += v * b6;\n    t9 += v * b7;\n    t10 += v * b8;\n    t11 += v * b9;\n    t12 += v * b10;\n    t13 += v * b11;\n    t14 += v * b12;\n    t15 += v * b13;\n    t16 += v * b14;\n    t17 += v * b15;\n    v = a[3];\n    t3 += v * b0;\n    t4 += v * b1;\n    t5 += v * b2;\n    t6 += v * b3;\n    t7 += v * b4;\n    t8 += v * b5;\n    t9 += v * b6;\n    t10 += v * b7;\n    t11 += v * b8;\n    t12 += v * b9;\n    t13 += v * b10;\n    t14 += v * b11;\n    t15 += v * b12;\n    t16 += v * b13;\n    t17 += v * b14;\n    t18 += v * b15;\n    v = a[4];\n    t4 += v * b0;\n    t5 += v * b1;\n    t6 += v * b2;\n    t7 += v * b3;\n    t8 += v * b4;\n    t9 += v * b5;\n    t10 += v * b6;\n    t11 += v * b7;\n    t12 += v * b8;\n    t13 += v * b9;\n    t14 += v * b10;\n    t15 += v * b11;\n    t16 += v * b12;\n    t17 += v * b13;\n    t18 += v * b14;\n    t19 += v * b15;\n    v = a[5];\n    t5 += v * b0;\n    t6 += v * b1;\n    t7 += v * b2;\n    t8 += v * b3;\n    t9 += v * b4;\n    t10 += v * b5;\n    t11 += v * b6;\n    t12 += v * b7;\n    t13 += v * b8;\n    t14 += v * b9;\n    t15 += v * b10;\n    t16 += v * b11;\n    t17 += v * b12;\n    t18 += v * b13;\n    t19 += v * b14;\n    t20 += v * b15;\n    v = a[6];\n    t6 += v * b0;\n    t7 += v * b1;\n    t8 += v * b2;\n    t9 += v * b3;\n    t10 += v * b4;\n    t11 += v * b5;\n    t12 += v * b6;\n    t13 += v * b7;\n    t14 += v * b8;\n    t15 += v * b9;\n    t16 += v * b10;\n    t17 += v * b11;\n    t18 += v * b12;\n    t19 += v * b13;\n    t20 += v * b14;\n    t21 += v * b15;\n    v = a[7];\n    t7 += v * b0;\n    t8 += v * b1;\n    t9 += v * b2;\n    t10 += v * b3;\n    t11 += v * b4;\n    t12 += v * b5;\n    t13 += v * b6;\n    t14 += v * b7;\n    t15 += v * b8;\n    t16 += v * b9;\n    t17 += v * b10;\n    t18 += v * b11;\n    t19 += v * b12;\n    t20 += v * b13;\n    t21 += v * b14;\n    t22 += v * b15;\n    v = a[8];\n    t8 += v * b0;\n    t9 += v * b1;\n    t10 += v * b2;\n    t11 += v * b3;\n    t12 += v * b4;\n    t13 += v * b5;\n    t14 += v * b6;\n    t15 += v * b7;\n    t16 += v * b8;\n    t17 += v * b9;\n    t18 += v * b10;\n    t19 += v * b11;\n    t20 += v * b12;\n    t21 += v * b13;\n    t22 += v * b14;\n    t23 += v * b15;\n    v = a[9];\n    t9 += v * b0;\n    t10 += v * b1;\n    t11 += v * b2;\n    t12 += v * b3;\n    t13 += v * b4;\n    t14 += v * b5;\n    t15 += v * b6;\n    t16 += v * b7;\n    t17 += v * b8;\n    t18 += v * b9;\n    t19 += v * b10;\n    t20 += v * b11;\n    t21 += v * b12;\n    t22 += v * b13;\n    t23 += v * b14;\n    t24 += v * b15;\n    v = a[10];\n    t10 += v * b0;\n    t11 += v * b1;\n    t12 += v * b2;\n    t13 += v * b3;\n    t14 += v * b4;\n    t15 += v * b5;\n    t16 += v * b6;\n    t17 += v * b7;\n    t18 += v * b8;\n    t19 += v * b9;\n    t20 += v * b10;\n    t21 += v * b11;\n    t22 += v * b12;\n    t23 += v * b13;\n    t24 += v * b14;\n    t25 += v * b15;\n    v = a[11];\n    t11 += v * b0;\n    t12 += v * b1;\n    t13 += v * b2;\n    t14 += v * b3;\n    t15 += v * b4;\n    t16 += v * b5;\n    t17 += v * b6;\n    t18 += v * b7;\n    t19 += v * b8;\n    t20 += v * b9;\n    t21 += v * b10;\n    t22 += v * b11;\n    t23 += v * b12;\n    t24 += v * b13;\n    t25 += v * b14;\n    t26 += v * b15;\n    v = a[12];\n    t12 += v * b0;\n    t13 += v * b1;\n    t14 += v * b2;\n    t15 += v * b3;\n    t16 += v * b4;\n    t17 += v * b5;\n    t18 += v * b6;\n    t19 += v * b7;\n    t20 += v * b8;\n    t21 += v * b9;\n    t22 += v * b10;\n    t23 += v * b11;\n    t24 += v * b12;\n    t25 += v * b13;\n    t26 += v * b14;\n    t27 += v * b15;\n    v = a[13];\n    t13 += v * b0;\n    t14 += v * b1;\n    t15 += v * b2;\n    t16 += v * b3;\n    t17 += v * b4;\n    t18 += v * b5;\n    t19 += v * b6;\n    t20 += v * b7;\n    t21 += v * b8;\n    t22 += v * b9;\n    t23 += v * b10;\n    t24 += v * b11;\n    t25 += v * b12;\n    t26 += v * b13;\n    t27 += v * b14;\n    t28 += v * b15;\n    v = a[14];\n    t14 += v * b0;\n    t15 += v * b1;\n    t16 += v * b2;\n    t17 += v * b3;\n    t18 += v * b4;\n    t19 += v * b5;\n    t20 += v * b6;\n    t21 += v * b7;\n    t22 += v * b8;\n    t23 += v * b9;\n    t24 += v * b10;\n    t25 += v * b11;\n    t26 += v * b12;\n    t27 += v * b13;\n    t28 += v * b14;\n    t29 += v * b15;\n    v = a[15];\n    t15 += v * b0;\n    t16 += v * b1;\n    t17 += v * b2;\n    t18 += v * b3;\n    t19 += v * b4;\n    t20 += v * b5;\n    t21 += v * b6;\n    t22 += v * b7;\n    t23 += v * b8;\n    t24 += v * b9;\n    t25 += v * b10;\n    t26 += v * b11;\n    t27 += v * b12;\n    t28 += v * b13;\n    t29 += v * b14;\n    t30 += v * b15;\n    t0 += 38 * t16;\n    t1 += 38 * t17;\n    t2 += 38 * t18;\n    t3 += 38 * t19;\n    t4 += 38 * t20;\n    t5 += 38 * t21;\n    t6 += 38 * t22;\n    t7 += 38 * t23;\n    t8 += 38 * t24;\n    t9 += 38 * t25;\n    t10 += 38 * t26;\n    t11 += 38 * t27;\n    t12 += 38 * t28;\n    t13 += 38 * t29;\n    t14 += 38 * t30;\n    // t15 left as is\n    // first car\n    c = 1;\n    v = t0 + c + 65535;\n    c = Math.floor(v / 65536);\n    t0 = v - c * 65536;\n    v = t1 + c + 65535;\n    c = Math.floor(v / 65536);\n    t1 = v - c * 65536;\n    v = t2 + c + 65535;\n    c = Math.floor(v / 65536);\n    t2 = v - c * 65536;\n    v = t3 + c + 65535;\n    c = Math.floor(v / 65536);\n    t3 = v - c * 65536;\n    v = t4 + c + 65535;\n    c = Math.floor(v / 65536);\n    t4 = v - c * 65536;\n    v = t5 + c + 65535;\n    c = Math.floor(v / 65536);\n    t5 = v - c * 65536;\n    v = t6 + c + 65535;\n    c = Math.floor(v / 65536);\n    t6 = v - c * 65536;\n    v = t7 + c + 65535;\n    c = Math.floor(v / 65536);\n    t7 = v - c * 65536;\n    v = t8 + c + 65535;\n    c = Math.floor(v / 65536);\n    t8 = v - c * 65536;\n    v = t9 + c + 65535;\n    c = Math.floor(v / 65536);\n    t9 = v - c * 65536;\n    v = t10 + c + 65535;\n    c = Math.floor(v / 65536);\n    t10 = v - c * 65536;\n    v = t11 + c + 65535;\n    c = Math.floor(v / 65536);\n    t11 = v - c * 65536;\n    v = t12 + c + 65535;\n    c = Math.floor(v / 65536);\n    t12 = v - c * 65536;\n    v = t13 + c + 65535;\n    c = Math.floor(v / 65536);\n    t13 = v - c * 65536;\n    v = t14 + c + 65535;\n    c = Math.floor(v / 65536);\n    t14 = v - c * 65536;\n    v = t15 + c + 65535;\n    c = Math.floor(v / 65536);\n    t15 = v - c * 65536;\n    t0 += c - 1 + 37 * (c - 1);\n    // second car\n    c = 1;\n    v = t0 + c + 65535;\n    c = Math.floor(v / 65536);\n    t0 = v - c * 65536;\n    v = t1 + c + 65535;\n    c = Math.floor(v / 65536);\n    t1 = v - c * 65536;\n    v = t2 + c + 65535;\n    c = Math.floor(v / 65536);\n    t2 = v - c * 65536;\n    v = t3 + c + 65535;\n    c = Math.floor(v / 65536);\n    t3 = v - c * 65536;\n    v = t4 + c + 65535;\n    c = Math.floor(v / 65536);\n    t4 = v - c * 65536;\n    v = t5 + c + 65535;\n    c = Math.floor(v / 65536);\n    t5 = v - c * 65536;\n    v = t6 + c + 65535;\n    c = Math.floor(v / 65536);\n    t6 = v - c * 65536;\n    v = t7 + c + 65535;\n    c = Math.floor(v / 65536);\n    t7 = v - c * 65536;\n    v = t8 + c + 65535;\n    c = Math.floor(v / 65536);\n    t8 = v - c * 65536;\n    v = t9 + c + 65535;\n    c = Math.floor(v / 65536);\n    t9 = v - c * 65536;\n    v = t10 + c + 65535;\n    c = Math.floor(v / 65536);\n    t10 = v - c * 65536;\n    v = t11 + c + 65535;\n    c = Math.floor(v / 65536);\n    t11 = v - c * 65536;\n    v = t12 + c + 65535;\n    c = Math.floor(v / 65536);\n    t12 = v - c * 65536;\n    v = t13 + c + 65535;\n    c = Math.floor(v / 65536);\n    t13 = v - c * 65536;\n    v = t14 + c + 65535;\n    c = Math.floor(v / 65536);\n    t14 = v - c * 65536;\n    v = t15 + c + 65535;\n    c = Math.floor(v / 65536);\n    t15 = v - c * 65536;\n    t0 += c - 1 + 37 * (c - 1);\n    o[0] = t0;\n    o[1] = t1;\n    o[2] = t2;\n    o[3] = t3;\n    o[4] = t4;\n    o[5] = t5;\n    o[6] = t6;\n    o[7] = t7;\n    o[8] = t8;\n    o[9] = t9;\n    o[10] = t10;\n    o[11] = t11;\n    o[12] = t12;\n    o[13] = t13;\n    o[14] = t14;\n    o[15] = t15;\n}\nfunction square(o, a) {\n    mul(o, a, a);\n}\nfunction inv25519(o, inp) {\n    const c = gf();\n    for (let i = 0; i < 16; i++) {\n        c[i] = inp[i];\n    }\n    for (let i = 253; i >= 0; i--) {\n        square(c, c);\n        if (i !== 2 && i !== 4) {\n            mul(c, c, inp);\n        }\n    }\n    for (let i = 0; i < 16; i++) {\n        o[i] = c[i];\n    }\n}\nfunction scalarMult(n, p) {\n    const z = new Uint8Array(32);\n    const x = new Float64Array(80);\n    const a = gf(), b = gf(), c = gf(), d = gf(), e = gf(), f = gf();\n    for (let i = 0; i < 31; i++) {\n        z[i] = n[i];\n    }\n    z[31] = (n[31] & 127) | 64;\n    z[0] &= 248;\n    unpack25519(x, p);\n    for (let i = 0; i < 16; i++) {\n        b[i] = x[i];\n    }\n    a[0] = d[0] = 1;\n    for (let i = 254; i >= 0; --i) {\n        const r = (z[i >>> 3] >>> (i & 7)) & 1;\n        sel25519(a, b, r);\n        sel25519(c, d, r);\n        add(e, a, c);\n        sub(a, a, c);\n        add(c, b, d);\n        sub(b, b, d);\n        square(d, e);\n        square(f, a);\n        mul(a, c, a);\n        mul(c, b, e);\n        add(e, a, c);\n        sub(a, a, c);\n        square(b, a);\n        sub(c, d, f);\n        mul(a, c, _121665);\n        add(a, a, d);\n        mul(c, c, a);\n        mul(a, d, f);\n        mul(d, b, x);\n        square(b, e);\n        sel25519(a, b, r);\n        sel25519(c, d, r);\n    }\n    for (let i = 0; i < 16; i++) {\n        x[i + 16] = a[i];\n        x[i + 32] = c[i];\n        x[i + 48] = b[i];\n        x[i + 64] = d[i];\n    }\n    const x32 = x.subarray(32);\n    const x16 = x.subarray(16);\n    inv25519(x32, x32);\n    mul(x16, x16, x32);\n    const q = new Uint8Array(32);\n    pack25519(q, x16);\n    return q;\n}\nexports.scalarMult = scalarMult;\nfunction scalarMultBase(n) {\n    return scalarMult(n, _9);\n}\nexports.scalarMultBase = scalarMultBase;\nfunction generateKeyPairFromSeed(seed) {\n    if (seed.length !== exports.SECRET_KEY_LENGTH) {\n        throw new Error(`x25519: seed must be ${exports.SECRET_KEY_LENGTH} bytes`);\n    }\n    const secretKey = new Uint8Array(seed);\n    const publicKey = scalarMultBase(secretKey);\n    return {\n        publicKey,\n        secretKey\n    };\n}\nexports.generateKeyPairFromSeed = generateKeyPairFromSeed;\nfunction generateKeyPair(prng) {\n    const seed = (0, random_1.randomBytes)(32, prng);\n    const result = generateKeyPairFromSeed(seed);\n    (0, wipe_1.wipe)(seed);\n    return result;\n}\nexports.generateKeyPair = generateKeyPair;\n/**\n * Returns a shared key between our secret key and a peer's public key.\n *\n * Throws an error if the given keys are of wrong length.\n *\n * If rejectZero is true throws if the calculated shared key is all-zero.\n * From RFC 7748:\n *\n * > Protocol designers using Diffie-Hellman over the curves defined in\n * > this document must not assume \"contributory behavior\".  Specially,\n * > contributory behavior means that both parties' private keys\n * > contribute to the resulting shared key.  Since curve25519 and\n * > curve448 have cofactors of 8 and 4 (respectively), an input point of\n * > small order will eliminate any contribution from the other party's\n * > private key.  This situation can be detected by checking for the all-\n * > zero output, which implementations MAY do, as specified in Section 6.\n * > However, a large number of existing implementations do not do this.\n *\n * IMPORTANT: the returned key is a raw result of scalar multiplication.\n * To use it as a key material, hash it with a cryptographic hash function.\n */\nfunction sharedKey(mySecretKey, theirPublicKey, rejectZero = false) {\n    if (mySecretKey.length !== exports.PUBLIC_KEY_LENGTH) {\n        throw new Error(\"X25519: incorrect secret key length\");\n    }\n    if (theirPublicKey.length !== exports.PUBLIC_KEY_LENGTH) {\n        throw new Error(\"X25519: incorrect public key length\");\n    }\n    const result = scalarMult(mySecretKey, theirPublicKey);\n    if (rejectZero) {\n        let zeros = 0;\n        for (let i = 0; i < result.length; i++) {\n            zeros |= result[i];\n        }\n        if (zeros === 0) {\n            throw new Error(\"X25519: invalid shared key\");\n        }\n    }\n    return result;\n}\nexports.sharedKey = sharedKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowserCryptoAvailable = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;\nfunction getBrowerCrypto() {\n    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};\n}\nexports.getBrowerCrypto = getBrowerCrypto;\nfunction getSubtleCrypto() {\n    const browserCrypto = getBrowerCrypto();\n    return browserCrypto.subtle || browserCrypto.webkitSubtle;\n}\nexports.getSubtleCrypto = getSubtleCrypto;\nfunction isBrowserCryptoAvailable() {\n    return !!getBrowerCrypto() && !!getSubtleCrypto();\n}\nexports.isBrowserCryptoAvailable = isBrowserCryptoAvailable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = exports.isNode = exports.isReactNative = void 0;\nfunction isReactNative() {\n    return (typeof document === \"undefined\" &&\n        typeof navigator !== \"undefined\" &&\n        navigator.product === \"ReactNative\");\n}\nexports.isReactNative = isReactNative;\nfunction isNode() {\n    return (typeof process !== \"undefined\" &&\n        typeof process.versions !== \"undefined\" &&\n        typeof process.versions.node !== \"undefined\");\n}\nexports.isNode = isNode;\nfunction isBrowser() {\n    return !isReactNative() && !isNode();\n}\nexports.isBrowser = isBrowser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./crypto\"), exports);\ntslib_1.__exportStar(require(\"./env\"), exports);\n","export class IEvents {\n}\n","export * from \"./events\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HEARTBEAT_EVENTS = exports.HEARTBEAT_INTERVAL = void 0;\nconst time_1 = require(\"@walletconnect/time\");\nexports.HEARTBEAT_INTERVAL = time_1.FIVE_SECONDS;\nexports.HEARTBEAT_EVENTS = {\n    pulse: \"heartbeat_pulse\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./heartbeat\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HeartBeat = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst time_1 = require(\"@walletconnect/time\");\nconst types_1 = require(\"./types\");\nconst constants_1 = require(\"./constants\");\nclass HeartBeat extends types_1.IHeartBeat {\n    constructor(opts) {\n        super(opts);\n        this.events = new events_1.EventEmitter();\n        this.interval = constants_1.HEARTBEAT_INTERVAL;\n        this.interval = (opts === null || opts === void 0 ? void 0 : opts.interval) || constants_1.HEARTBEAT_INTERVAL;\n    }\n    static init(opts) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const heartbeat = new HeartBeat(opts);\n            yield heartbeat.init();\n            return heartbeat;\n        });\n    }\n    init() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.initialize();\n        });\n    }\n    stop() {\n        clearInterval(this.intervalRef);\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    initialize() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.intervalRef = setInterval(() => this.pulse(), time_1.toMiliseconds(this.interval));\n        });\n    }\n    pulse() {\n        this.events.emit(constants_1.HEARTBEAT_EVENTS.pulse);\n    }\n}\nexports.HeartBeat = HeartBeat;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./heartbeat\"), exports);\ntslib_1.__exportStar(require(\"./types\"), exports);\ntslib_1.__exportStar(require(\"./constants\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IHeartBeat = void 0;\nconst events_1 = require(\"@walletconnect/events\");\nclass IHeartBeat extends events_1.IEvents {\n    constructor(opts) {\n        super();\n    }\n}\nexports.IHeartBeat = IHeartBeat;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./heartbeat\"), exports);\n","import { EventEmitter } from \"events\";\nimport { IJsonRpcProvider, isJsonRpcResponse, formatJsonRpcRequest, isJsonRpcError, getBigIntRpcId, } from \"@walletconnect/jsonrpc-utils\";\nexport class JsonRpcProvider extends IJsonRpcProvider {\n    constructor(connection) {\n        super(connection);\n        this.events = new EventEmitter();\n        this.hasRegisteredEventListeners = false;\n        this.connection = this.setConnection(connection);\n        if (this.connection.connected) {\n            this.registerEventListeners();\n        }\n    }\n    async connect(connection = this.connection) {\n        await this.open(connection);\n    }\n    async disconnect() {\n        await this.close();\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    async request(request, context) {\n        return this.requestStrict(formatJsonRpcRequest(request.method, request.params || [], request.id || getBigIntRpcId().toString()), context);\n    }\n    async requestStrict(request, context) {\n        return new Promise(async (resolve, reject) => {\n            if (!this.connection.connected) {\n                try {\n                    await this.open();\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }\n            this.events.on(`${request.id}`, response => {\n                if (isJsonRpcError(response)) {\n                    reject(response.error);\n                }\n                else {\n                    resolve(response.result);\n                }\n            });\n            try {\n                await this.connection.send(request, context);\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n    setConnection(connection = this.connection) {\n        return connection;\n    }\n    onPayload(payload) {\n        this.events.emit(\"payload\", payload);\n        if (isJsonRpcResponse(payload)) {\n            this.events.emit(`${payload.id}`, payload);\n        }\n        else {\n            this.events.emit(\"message\", {\n                type: payload.method,\n                data: payload.params,\n            });\n        }\n    }\n    onClose(event) {\n        if (event && event.code === 3000) {\n            this.events.emit(\"error\", new Error(`WebSocket connection closed abnormally with code: ${event.code} ${event.reason ? `(${event.reason})` : \"\"}`));\n        }\n        this.events.emit(\"disconnect\");\n    }\n    async open(connection = this.connection) {\n        if (this.connection === connection && this.connection.connected)\n            return;\n        if (this.connection.connected)\n            this.close();\n        if (typeof connection === \"string\") {\n            await this.connection.open(connection);\n            connection = this.connection;\n        }\n        this.connection = this.setConnection(connection);\n        await this.connection.open();\n        this.registerEventListeners();\n        this.events.emit(\"connect\");\n    }\n    async close() {\n        await this.connection.close();\n    }\n    registerEventListeners() {\n        if (this.hasRegisteredEventListeners)\n            return;\n        this.connection.on(\"payload\", (payload) => this.onPayload(payload));\n        this.connection.on(\"close\", (event) => this.onClose(event));\n        this.connection.on(\"error\", (error) => this.events.emit(\"error\", error));\n        this.connection.on(\"register_error\", (error) => this.onClose());\n        this.hasRegisteredEventListeners = true;\n    }\n}\nexport default JsonRpcProvider;\n","import Provider from \"./provider\";\nexport * from \"./provider\";\nexport default Provider;\n","export const PARSE_ERROR = \"PARSE_ERROR\";\nexport const INVALID_REQUEST = \"INVALID_REQUEST\";\nexport const METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nexport const INVALID_PARAMS = \"INVALID_PARAMS\";\nexport const INTERNAL_ERROR = \"INTERNAL_ERROR\";\nexport const SERVER_ERROR = \"SERVER_ERROR\";\nexport const RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nexport const SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nexport const STANDARD_ERROR_MAP = {\n    [PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\nexport const DEFAULT_ERROR = SERVER_ERROR;\n","import { isNode } from \"@walletconnect/environment\";\nexport const isNodeJs = isNode;\nexport * from \"@walletconnect/environment\";\n","import { SERVER_ERROR_CODE_RANGE, RESERVED_ERROR_CODES, STANDARD_ERROR_MAP, DEFAULT_ERROR, } from \"./constants\";\nexport function isServerErrorCode(code) {\n    return code <= SERVER_ERROR_CODE_RANGE[0] && code >= SERVER_ERROR_CODE_RANGE[1];\n}\nexport function isReservedErrorCode(code) {\n    return RESERVED_ERROR_CODES.includes(code);\n}\nexport function isValidErrorCode(code) {\n    return typeof code === \"number\";\n}\nexport function getError(type) {\n    if (!Object.keys(STANDARD_ERROR_MAP).includes(type)) {\n        return STANDARD_ERROR_MAP[DEFAULT_ERROR];\n    }\n    return STANDARD_ERROR_MAP[type];\n}\nexport function getErrorByCode(code) {\n    const match = Object.values(STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n        return STANDARD_ERROR_MAP[DEFAULT_ERROR];\n    }\n    return match;\n}\nexport function validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n        return { valid: false, error: \"Missing code for JSON-RPC error\" };\n    }\n    if (typeof response.error.message === \"undefined\") {\n        return { valid: false, error: \"Missing message for JSON-RPC error\" };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n        return {\n            valid: false,\n            error: `Invalid error code type for JSON-RPC: ${response.error.code}`,\n        };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n        const error = getErrorByCode(response.error.code);\n        if (error.message !== STANDARD_ERROR_MAP[DEFAULT_ERROR].message &&\n            response.error.message === error.message) {\n            return {\n                valid: false,\n                error: `Invalid error code message for JSON-RPC: ${response.error.code}`,\n            };\n        }\n    }\n    return { valid: true };\n}\nexport function parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\")\n        ? new Error(`Unavailable ${type} RPC url at ${url}`)\n        : e;\n}\n","import { getError, getErrorByCode, isReservedErrorCode } from \"./error\";\nimport { INTERNAL_ERROR, SERVER_ERROR } from \"./constants\";\nexport function payloadId(entropy = 3) {\n    const date = Date.now() * Math.pow(10, entropy);\n    const extra = Math.floor(Math.random() * Math.pow(10, entropy));\n    return date + extra;\n}\nexport function getBigIntRpcId(entropy = 6) {\n    return BigInt(payloadId(entropy));\n}\nexport function formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nexport function formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nexport function formatJsonRpcError(id, error, data) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error, data),\n    };\n}\nexport function formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n        return getError(INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, getError(SERVER_ERROR)), { message: error });\n    }\n    if (typeof data !== \"undefined\") {\n        error.data = data;\n    }\n    if (isReservedErrorCode(error.code)) {\n        error = getErrorByCode(error.code);\n    }\n    return error;\n}\n","export * from \"./constants\";\nexport * from \"./error\";\nexport * from \"./env\";\nexport * from \"./format\";\nexport * from \"./routing\";\nexport * from \"./types\";\nexport * from \"./url\";\nexport * from \"./validators\";\n","export class IEvents {\n}\n","import { IEvents } from \"./misc\";\nexport class IJsonRpcConnection extends IEvents {\n    constructor(opts) {\n        super();\n    }\n}\nexport class IBaseJsonRpcProvider extends IEvents {\n    constructor() {\n        super();\n    }\n}\nexport class IJsonRpcProvider extends IBaseJsonRpcProvider {\n    constructor(connection) {\n        super();\n    }\n}\n","export * from \"./jsonrpc\";\nexport * from \"./misc\";\nexport * from \"./provider\";\nexport * from \"./validator\";\n","export * from \"@walletconnect/jsonrpc-types\";\n","const HTTP_REGEX = \"^https?:\";\nconst WS_REGEX = \"^wss?:\";\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nexport function isHttpUrl(url) {\n    return matchRegexProtocol(url, HTTP_REGEX);\n}\nexport function isWsUrl(url) {\n    return matchRegexProtocol(url, WS_REGEX);\n}\nexport function isLocalhostUrl(url) {\n    return new RegExp(\"wss?://localhost(:d{2,5})?\").test(url);\n}\n","export function isJsonRpcPayload(payload) {\n    return (typeof payload === \"object\" &&\n        \"id\" in payload &&\n        \"jsonrpc\" in payload &&\n        payload.jsonrpc === \"2.0\");\n}\nexport function isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nexport function isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nexport function isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nexport function isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nexport function isJsonRpcValidationInvalid(validation) {\n    return \"error\" in validation && validation.valid === false;\n}\n","import { EventEmitter } from \"events\";\nimport { safeJsonParse, safeJsonStringify } from \"@walletconnect/safe-json\";\nimport { formatJsonRpcError, isReactNative, isWsUrl, isLocalhostUrl, parseConnectionError, } from \"@walletconnect/jsonrpc-utils\";\nconst EVENT_EMITTER_MAX_LISTENERS_DEFAULT = 10;\nconst resolveWebSocketImplementation = () => {\n    if (typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\") {\n        return global.WebSocket;\n    }\n    if (typeof window !== \"undefined\" && typeof window.WebSocket !== \"undefined\") {\n        return window.WebSocket;\n    }\n    return require(\"ws\");\n};\nconst isBrowser = () => typeof window !== \"undefined\";\nconst WS = resolveWebSocketImplementation();\nexport class WsConnection {\n    constructor(url) {\n        this.url = url;\n        this.events = new EventEmitter();\n        this.registering = false;\n        if (!isWsUrl(url)) {\n            throw new Error(`Provided URL is not compatible with WebSocket connection: ${url}`);\n        }\n        this.url = url;\n    }\n    get connected() {\n        return typeof this.socket !== \"undefined\";\n    }\n    get connecting() {\n        return this.registering;\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    async open(url = this.url) {\n        await this.register(url);\n    }\n    async close() {\n        return new Promise((resolve, reject) => {\n            if (typeof this.socket === \"undefined\") {\n                reject(new Error(\"Connection already closed\"));\n                return;\n            }\n            this.socket.onclose = event => {\n                this.onClose(event);\n                resolve();\n            };\n            this.socket.close();\n        });\n    }\n    async send(payload, context) {\n        if (typeof this.socket === \"undefined\") {\n            this.socket = await this.register();\n        }\n        try {\n            this.socket.send(safeJsonStringify(payload));\n        }\n        catch (e) {\n            this.onError(payload.id, e);\n        }\n    }\n    register(url = this.url) {\n        if (!isWsUrl(url)) {\n            throw new Error(`Provided URL is not compatible with WebSocket connection: ${url}`);\n        }\n        if (this.registering) {\n            const currentMaxListeners = this.events.getMaxListeners();\n            if (this.events.listenerCount(\"register_error\") >= currentMaxListeners ||\n                this.events.listenerCount(\"open\") >= currentMaxListeners) {\n                this.events.setMaxListeners(currentMaxListeners + 1);\n            }\n            return new Promise((resolve, reject) => {\n                this.events.once(\"register_error\", error => {\n                    this.resetMaxListeners();\n                    reject(error);\n                });\n                this.events.once(\"open\", () => {\n                    this.resetMaxListeners();\n                    if (typeof this.socket === \"undefined\") {\n                        return reject(new Error(\"WebSocket connection is missing or invalid\"));\n                    }\n                    resolve(this.socket);\n                });\n            });\n        }\n        this.url = url;\n        this.registering = true;\n        return new Promise((resolve, reject) => {\n            const opts = !isReactNative() ? { rejectUnauthorized: !isLocalhostUrl(url) } : undefined;\n            const socket = new WS(url, [], opts);\n            if (isBrowser()) {\n                socket.onerror = (event) => {\n                    const errorEvent = event;\n                    reject(this.emitError(errorEvent.error));\n                };\n            }\n            else {\n                socket.on(\"error\", (errorEvent) => {\n                    reject(this.emitError(errorEvent));\n                });\n            }\n            socket.onopen = () => {\n                this.onOpen(socket);\n                resolve(socket);\n            };\n        });\n    }\n    onOpen(socket) {\n        socket.onmessage = (event) => this.onPayload(event);\n        socket.onclose = event => this.onClose(event);\n        this.socket = socket;\n        this.registering = false;\n        this.events.emit(\"open\");\n    }\n    onClose(event) {\n        this.socket = undefined;\n        this.registering = false;\n        this.events.emit(\"close\", event);\n    }\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        const payload = typeof e.data === \"string\" ? safeJsonParse(e.data) : e.data;\n        this.events.emit(\"payload\", payload);\n    }\n    onError(id, e) {\n        const error = this.parseError(e);\n        const message = error.message || error.toString();\n        const payload = formatJsonRpcError(id, message);\n        this.events.emit(\"payload\", payload);\n    }\n    parseError(e, url = this.url) {\n        return parseConnectionError(e, url, \"WS\");\n    }\n    resetMaxListeners() {\n        if (this.events.getMaxListeners() > EVENT_EMITTER_MAX_LISTENERS_DEFAULT) {\n            this.events.setMaxListeners(EVENT_EMITTER_MAX_LISTENERS_DEFAULT);\n        }\n    }\n    emitError(errorEvent) {\n        const error = this.parseError(new Error((errorEvent === null || errorEvent === void 0 ? void 0 : errorEvent.message) || `WebSocket connection failed for URL: ${this.url}`));\n        this.events.emit(\"register_error\", error);\n        return error;\n    }\n}\nexport default WsConnection;\n","import WsConnection from \"./ws\";\nexport * from \"./ws\";\nexport default WsConnection;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyValueStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst localStorage_1 = tslib_1.__importDefault(require(\"./lib/localStorage\"));\nconst shared_1 = require(\"../shared\");\nclass KeyValueStorage {\n    constructor() {\n        this.localStorage = localStorage_1.default;\n    }\n    getKeys() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return Object.keys(this.localStorage);\n        });\n    }\n    getEntries() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return Object.entries(this.localStorage).map(shared_1.parseEntry);\n        });\n    }\n    getItem(key) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const item = this.localStorage.getItem(key);\n            if (item === null) {\n                return undefined;\n            }\n            return safe_json_utils_1.safeJsonParse(item);\n        });\n    }\n    setItem(key, value) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n        });\n    }\n    removeItem(key) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.localStorage.removeItem(key);\n        });\n    }\n}\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;\n","\"use strict\";\n(function () {\n    \"use strict\";\n    let db;\n    function LocalStorage() { }\n    db = LocalStorage;\n    db.prototype.getItem = function (key) {\n        if (this.hasOwnProperty(key)) {\n            return String(this[key]);\n        }\n        return null;\n    };\n    db.prototype.setItem = function (key, val) {\n        this[key] = String(val);\n    };\n    db.prototype.removeItem = function (key) {\n        delete this[key];\n    };\n    db.prototype.clear = function () {\n        const self = this;\n        Object.keys(self).forEach(function (key) {\n            self[key] = undefined;\n            delete self[key];\n        });\n    };\n    db.prototype.key = function (i) {\n        i = i || 0;\n        return Object.keys(this)[i];\n    };\n    db.prototype.__defineGetter__(\"length\", function () {\n        return Object.keys(this).length;\n    });\n    if (typeof global !== \"undefined\" && global.localStorage) {\n        module.exports = global.localStorage;\n    }\n    else if (typeof window !== \"undefined\" && window.localStorage) {\n        module.exports = window.localStorage;\n    }\n    else {\n        module.exports = new LocalStorage();\n    }\n})();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./types\"), exports);\ntslib_1.__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IKeyValueStorage = void 0;\nclass IKeyValueStorage {\n}\nexports.IKeyValueStorage = IKeyValueStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseEntry = void 0;\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nfunction parseEntry(entry) {\n    var _a;\n    return [entry[0], safe_json_utils_1.safeJsonParse((_a = entry[1]) !== null && _a !== void 0 ? _a : \"\")];\n}\nexports.parseEntry = parseEntry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PINO_CUSTOM_CONTEXT_KEY = exports.PINO_LOGGER_DEFAULTS = void 0;\nexports.PINO_LOGGER_DEFAULTS = {\n    level: \"info\",\n};\nexports.PINO_CUSTOM_CONTEXT_KEY = \"custom_context\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pino = void 0;\nconst tslib_1 = require(\"tslib\");\nconst pino_1 = tslib_1.__importDefault(require(\"pino\"));\nObject.defineProperty(exports, \"pino\", { enumerable: true, get: function () { return pino_1.default; } });\ntslib_1.__exportStar(require(\"./constants\"), exports);\ntslib_1.__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateChildLogger = exports.formatChildLoggerContext = exports.getLoggerContext = exports.setBrowserLoggerContext = exports.getBrowserLoggerContext = exports.getDefaultLoggerOptions = void 0;\nconst constants_1 = require(\"./constants\");\nfunction getDefaultLoggerOptions(opts) {\n    return Object.assign(Object.assign({}, opts), { level: (opts === null || opts === void 0 ? void 0 : opts.level) || constants_1.PINO_LOGGER_DEFAULTS.level });\n}\nexports.getDefaultLoggerOptions = getDefaultLoggerOptions;\nfunction getBrowserLoggerContext(logger, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    return logger[customContextKey] || \"\";\n}\nexports.getBrowserLoggerContext = getBrowserLoggerContext;\nfunction setBrowserLoggerContext(logger, context, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    logger[customContextKey] = context;\n    return logger;\n}\nexports.setBrowserLoggerContext = setBrowserLoggerContext;\nfunction getLoggerContext(logger, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    let context = \"\";\n    if (typeof logger.bindings === \"undefined\") {\n        context = getBrowserLoggerContext(logger, customContextKey);\n    }\n    else {\n        context = logger.bindings().context || \"\";\n    }\n    return context;\n}\nexports.getLoggerContext = getLoggerContext;\nfunction formatChildLoggerContext(logger, childContext, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    const parentContext = getLoggerContext(logger, customContextKey);\n    const context = parentContext.trim()\n        ? `${parentContext}/${childContext}`\n        : childContext;\n    return context;\n}\nexports.formatChildLoggerContext = formatChildLoggerContext;\nfunction generateChildLogger(logger, childContext, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    const context = formatChildLoggerContext(logger, childContext, customContextKey);\n    const child = logger.child({ context });\n    return setBrowserLoggerContext(child, context, customContextKey);\n}\nexports.generateChildLogger = generateChildLogger;\n","export const RELAY_JSONRPC = {\n    waku: {\n        publish: \"waku_publish\",\n        batchPublish: \"waku_batchPublish\",\n        subscribe: \"waku_subscribe\",\n        batchSubscribe: \"waku_batchSubscribe\",\n        subscription: \"waku_subscription\",\n        unsubscribe: \"waku_unsubscribe\",\n        batchUnsubscribe: \"waku_batchUnsubscribe\",\n    },\n    irn: {\n        publish: \"irn_publish\",\n        batchPublish: \"irn_batchPublish\",\n        subscribe: \"irn_subscribe\",\n        batchSubscribe: \"irn_batchSubscribe\",\n        subscription: \"irn_subscription\",\n        unsubscribe: \"irn_unsubscribe\",\n        batchUnsubscribe: \"irn_batchUnsubscribe\",\n    },\n    iridium: {\n        publish: \"iridium_publish\",\n        batchPublish: \"iridium_batchPublish\",\n        subscribe: \"iridium_subscribe\",\n        batchSubscribe: \"iridium_batchSubscribe\",\n        subscription: \"iridium_subscription\",\n        unsubscribe: \"iridium_unsubscribe\",\n        batchUnsubscribe: \"iridium_batchUnsubscribe\",\n    },\n};\n","export * from \"./types\";\nexport * from \"./parsers\";\nexport * from \"./jsonrpc\";\nexport * from \"./validators\";\n","","export const JWT_IRIDIUM_ALG = \"EdDSA\";\nexport const JWT_IRIDIUM_TYP = \"JWT\";\nexport const JWT_DELIMITER = \".\";\nexport const JWT_ENCODING = \"base64url\";\nexport const JSON_ENCODING = \"utf8\";\nexport const DATA_ENCODING = \"utf8\";\nexport const DID_DELIMITER = \":\";\nexport const DID_PREFIX = \"did\";\nexport const DID_METHOD = \"key\";\nexport const MULTICODEC_ED25519_ENCODING = \"base58btc\";\nexport const MULTICODEC_ED25519_BASE = \"z\";\nexport const MULTICODEC_ED25519_HEADER = \"K36\";\nexport const MULTICODEC_ED25519_LENGTH = 32;\nexport const KEY_PAIR_SEED_LENGTH = 32;\n","import { concat } from \"uint8arrays/concat\";\nimport { toString } from \"uint8arrays/to-string\";\nimport { fromString } from \"uint8arrays/from-string\";\nimport { safeJsonParse, safeJsonStringify } from \"@walletconnect/safe-json\";\nimport { DATA_ENCODING, DID_DELIMITER, DID_METHOD, DID_PREFIX, JSON_ENCODING, JWT_DELIMITER, JWT_ENCODING, MULTICODEC_ED25519_BASE, MULTICODEC_ED25519_ENCODING, MULTICODEC_ED25519_HEADER, MULTICODEC_ED25519_LENGTH, } from \"./constants\";\nexport function decodeJSON(str) {\n    return safeJsonParse(toString(fromString(str, JWT_ENCODING), JSON_ENCODING));\n}\nexport function encodeJSON(val) {\n    return toString(fromString(safeJsonStringify(val), JSON_ENCODING), JWT_ENCODING);\n}\nexport function encodeIss(publicKey) {\n    const header = fromString(MULTICODEC_ED25519_HEADER, MULTICODEC_ED25519_ENCODING);\n    const multicodec = MULTICODEC_ED25519_BASE +\n        toString(concat([header, publicKey]), MULTICODEC_ED25519_ENCODING);\n    return [DID_PREFIX, DID_METHOD, multicodec].join(DID_DELIMITER);\n}\nexport function decodeIss(issuer) {\n    const [prefix, method, multicodec] = issuer.split(DID_DELIMITER);\n    if (prefix !== DID_PREFIX || method !== DID_METHOD) {\n        throw new Error(`Issuer must be a DID with method \"key\"`);\n    }\n    const base = multicodec.slice(0, 1);\n    if (base !== MULTICODEC_ED25519_BASE) {\n        throw new Error(`Issuer must be a key in mulicodec format`);\n    }\n    const bytes = fromString(multicodec.slice(1), MULTICODEC_ED25519_ENCODING);\n    const type = toString(bytes.slice(0, 2), MULTICODEC_ED25519_ENCODING);\n    if (type !== MULTICODEC_ED25519_HEADER) {\n        throw new Error(`Issuer must be a public key with type \"Ed25519\"`);\n    }\n    const publicKey = bytes.slice(2);\n    if (publicKey.length !== MULTICODEC_ED25519_LENGTH) {\n        throw new Error(`Issuer must be a public key with length 32 bytes`);\n    }\n    return publicKey;\n}\nexport function encodeSig(bytes) {\n    return toString(bytes, JWT_ENCODING);\n}\nexport function decodeSig(encoded) {\n    return fromString(encoded, JWT_ENCODING);\n}\nexport function encodeData(params) {\n    return fromString([encodeJSON(params.header), encodeJSON(params.payload)].join(JWT_DELIMITER), DATA_ENCODING);\n}\nexport function decodeData(data) {\n    const params = toString(data, DATA_ENCODING).split(JWT_DELIMITER);\n    const header = decodeJSON(params[0]);\n    const payload = decodeJSON(params[1]);\n    return { header, payload };\n}\nexport function encodeJWT(params) {\n    return [\n        encodeJSON(params.header),\n        encodeJSON(params.payload),\n        encodeSig(params.signature),\n    ].join(JWT_DELIMITER);\n}\nexport function decodeJWT(jwt) {\n    const params = jwt.split(JWT_DELIMITER);\n    const header = decodeJSON(params[0]);\n    const payload = decodeJSON(params[1]);\n    const signature = decodeSig(params[2]);\n    const data = fromString(params.slice(0, 2).join(JWT_DELIMITER), DATA_ENCODING);\n    return { header, payload, signature, data };\n}\n","import * as ed25519 from \"@stablelib/ed25519\";\nimport { randomBytes } from \"@stablelib/random\";\nimport { fromMiliseconds } from \"@walletconnect/time\";\nimport { JWT_IRIDIUM_ALG, JWT_IRIDIUM_TYP, KEY_PAIR_SEED_LENGTH, } from \"./constants\";\nimport { decodeIss, decodeJWT, encodeData, encodeIss, encodeJWT, } from \"./utils\";\nexport function generateKeyPair(seed = randomBytes(KEY_PAIR_SEED_LENGTH)) {\n    return ed25519.generateKeyPairFromSeed(seed);\n}\nexport async function signJWT(sub, aud, ttl, keyPair, iat = fromMiliseconds(Date.now())) {\n    const header = { alg: JWT_IRIDIUM_ALG, typ: JWT_IRIDIUM_TYP };\n    const iss = encodeIss(keyPair.publicKey);\n    const exp = iat + ttl;\n    const payload = { iss, sub, aud, iat, exp };\n    const data = encodeData({ header, payload });\n    const signature = ed25519.sign(keyPair.secretKey, data);\n    return encodeJWT({ header, payload, signature });\n}\nexport async function verifyJWT(jwt) {\n    const { header, payload, data, signature } = decodeJWT(jwt);\n    if (header.alg !== JWT_IRIDIUM_ALG || header.typ !== JWT_IRIDIUM_TYP) {\n        throw new Error(\"JWT must use EdDSA algorithm\");\n    }\n    const publicKey = decodeIss(payload.iss);\n    return ed25519.verify(publicKey, data, signature);\n}\n","export * from \"./api\";\nexport * from \"./constants\";\nexport * from \"./types\";\nexport * from \"./utils\";\n","","const JSONStringify = data => JSON.stringify(data, (_, value) => typeof value === \"bigint\" ? value.toString() + \"n\" : value);\nconst JSONParse = json => {\n    const numbersBiggerThanMaxInt = /([\\[:])?(\\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\\}\\]])/g;\n    const serializedData = json.replace(numbersBiggerThanMaxInt, \"$1\\\"$2n\\\"$3\");\n    return JSON.parse(serializedData, (_, value) => {\n        const isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n        if (isCustomFormatBigInt)\n            return BigInt(value.substring(0, value.length - 1));\n        return value;\n    });\n};\nexport function safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSONParse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nexport function safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./misc\"), exports);\ntslib_1.__exportStar(require(\"./time\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ONE_THOUSAND = exports.ONE_HUNDRED = void 0;\nexports.ONE_HUNDRED = 100;\nexports.ONE_THOUSAND = 1000;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ONE_YEAR = exports.FOUR_WEEKS = exports.THREE_WEEKS = exports.TWO_WEEKS = exports.ONE_WEEK = exports.THIRTY_DAYS = exports.SEVEN_DAYS = exports.FIVE_DAYS = exports.THREE_DAYS = exports.ONE_DAY = exports.TWENTY_FOUR_HOURS = exports.TWELVE_HOURS = exports.SIX_HOURS = exports.THREE_HOURS = exports.ONE_HOUR = exports.SIXTY_MINUTES = exports.THIRTY_MINUTES = exports.TEN_MINUTES = exports.FIVE_MINUTES = exports.ONE_MINUTE = exports.SIXTY_SECONDS = exports.THIRTY_SECONDS = exports.TEN_SECONDS = exports.FIVE_SECONDS = exports.ONE_SECOND = void 0;\nexports.ONE_SECOND = 1;\nexports.FIVE_SECONDS = 5;\nexports.TEN_SECONDS = 10;\nexports.THIRTY_SECONDS = 30;\nexports.SIXTY_SECONDS = 60;\nexports.ONE_MINUTE = exports.SIXTY_SECONDS;\nexports.FIVE_MINUTES = exports.ONE_MINUTE * 5;\nexports.TEN_MINUTES = exports.ONE_MINUTE * 10;\nexports.THIRTY_MINUTES = exports.ONE_MINUTE * 30;\nexports.SIXTY_MINUTES = exports.ONE_MINUTE * 60;\nexports.ONE_HOUR = exports.SIXTY_MINUTES;\nexports.THREE_HOURS = exports.ONE_HOUR * 3;\nexports.SIX_HOURS = exports.ONE_HOUR * 6;\nexports.TWELVE_HOURS = exports.ONE_HOUR * 12;\nexports.TWENTY_FOUR_HOURS = exports.ONE_HOUR * 24;\nexports.ONE_DAY = exports.TWENTY_FOUR_HOURS;\nexports.THREE_DAYS = exports.ONE_DAY * 3;\nexports.FIVE_DAYS = exports.ONE_DAY * 5;\nexports.SEVEN_DAYS = exports.ONE_DAY * 7;\nexports.THIRTY_DAYS = exports.ONE_DAY * 30;\nexports.ONE_WEEK = exports.SEVEN_DAYS;\nexports.TWO_WEEKS = exports.ONE_WEEK * 2;\nexports.THREE_WEEKS = exports.ONE_WEEK * 3;\nexports.FOUR_WEEKS = exports.ONE_WEEK * 4;\nexports.ONE_YEAR = exports.ONE_DAY * 365;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./utils\"), exports);\ntslib_1.__exportStar(require(\"./watch\"), exports);\ntslib_1.__exportStar(require(\"./types\"), exports);\ntslib_1.__exportStar(require(\"./constants\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./watch\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IWatch = void 0;\nclass IWatch {\n}\nexports.IWatch = IWatch;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromMiliseconds = exports.toMiliseconds = void 0;\nconst constants_1 = require(\"../constants\");\nfunction toMiliseconds(seconds) {\n    return seconds * constants_1.ONE_THOUSAND;\n}\nexports.toMiliseconds = toMiliseconds;\nfunction fromMiliseconds(miliseconds) {\n    return Math.floor(miliseconds / constants_1.ONE_THOUSAND);\n}\nexports.fromMiliseconds = fromMiliseconds;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.delay = void 0;\nfunction delay(timeout) {\n    return new Promise(resolve => {\n        setTimeout(() => {\n            resolve(true);\n        }, timeout);\n    });\n}\nexports.delay = delay;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./delay\"), exports);\ntslib_1.__exportStar(require(\"./convert\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Watch = void 0;\nclass Watch {\n    constructor() {\n        this.timestamps = new Map();\n    }\n    start(label) {\n        if (this.timestamps.has(label)) {\n            throw new Error(`Watch already started for label: ${label}`);\n        }\n        this.timestamps.set(label, { started: Date.now() });\n    }\n    stop(label) {\n        const timestamp = this.get(label);\n        if (typeof timestamp.elapsed !== \"undefined\") {\n            throw new Error(`Watch already stopped for label: ${label}`);\n        }\n        const elapsed = Date.now() - timestamp.started;\n        this.timestamps.set(label, { started: timestamp.started, elapsed });\n    }\n    get(label) {\n        const timestamp = this.timestamps.get(label);\n        if (typeof timestamp === \"undefined\") {\n            throw new Error(`No timestamp found for label: ${label}`);\n        }\n        return timestamp;\n    }\n    elapsed(label) {\n        const timestamp = this.get(label);\n        const elapsed = timestamp.elapsed || Date.now() - timestamp.started;\n        return elapsed;\n    }\n}\nexports.Watch = Watch;\nexports.default = Watch;\n","import{IEvents as e}from\"@walletconnect/events\";import c,{EventEmitter as i}from\"events\";class n extends e{constructor(s){super(),this.opts=s,this.protocol=\"wc\",this.version=2}}class l{constructor(s,t,o){this.core=s,this.logger=t}}class h extends e{constructor(s,t){super(),this.core=s,this.logger=t,this.records=new Map}}class a{constructor(s,t){this.logger=s,this.core=t}}class u extends e{constructor(s,t){super(),this.relayer=s,this.logger=t}}class g extends e{constructor(s){super()}}class p{constructor(s,t,o,w){this.core=s,this.logger=t,this.name=o}}class I{constructor(){this.map=new Map}}class d extends e{constructor(s,t){super(),this.relayer=s,this.logger=t}}class x{constructor(s,t){this.core=s,this.logger=t}}class E extends e{constructor(s,t){super(),this.core=s,this.logger=t}}class m{constructor(s,t){this.logger=s,this.core=t}}class y{constructor(s,t){this.projectId=s,this.logger=t}}class v extends c{constructor(){super()}}class b{constructor(s){this.opts=s,this.protocol=\"wc\",this.version=2}}class C extends i{constructor(){super()}}class S{constructor(s){this.client=s}}export{n as ICore,l as ICrypto,S as IEngine,C as IEngineEvents,E as IExpirer,h as IJsonRpcHistory,x as IKeyChain,a as IMessageTracker,m as IPairing,u as IPublisher,g as IRelayer,b as ISignClient,v as ISignClientEvents,p as IStore,d as ISubscriber,I as ISubscriberTopicMap,y as IVerify};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLocalStorage = exports.getLocalStorageOrThrow = exports.getCrypto = exports.getCryptoOrThrow = exports.getLocation = exports.getLocationOrThrow = exports.getNavigator = exports.getNavigatorOrThrow = exports.getDocument = exports.getDocumentOrThrow = exports.getFromWindowOrThrow = exports.getFromWindow = void 0;\nfunction getFromWindow(name) {\n    let res = undefined;\n    if (typeof window !== \"undefined\" && typeof window[name] !== \"undefined\") {\n        res = window[name];\n    }\n    return res;\n}\nexports.getFromWindow = getFromWindow;\nfunction getFromWindowOrThrow(name) {\n    const res = getFromWindow(name);\n    if (!res) {\n        throw new Error(`${name} is not defined in Window`);\n    }\n    return res;\n}\nexports.getFromWindowOrThrow = getFromWindowOrThrow;\nfunction getDocumentOrThrow() {\n    return getFromWindowOrThrow(\"document\");\n}\nexports.getDocumentOrThrow = getDocumentOrThrow;\nfunction getDocument() {\n    return getFromWindow(\"document\");\n}\nexports.getDocument = getDocument;\nfunction getNavigatorOrThrow() {\n    return getFromWindowOrThrow(\"navigator\");\n}\nexports.getNavigatorOrThrow = getNavigatorOrThrow;\nfunction getNavigator() {\n    return getFromWindow(\"navigator\");\n}\nexports.getNavigator = getNavigator;\nfunction getLocationOrThrow() {\n    return getFromWindowOrThrow(\"location\");\n}\nexports.getLocationOrThrow = getLocationOrThrow;\nfunction getLocation() {\n    return getFromWindow(\"location\");\n}\nexports.getLocation = getLocation;\nfunction getCryptoOrThrow() {\n    return getFromWindowOrThrow(\"crypto\");\n}\nexports.getCryptoOrThrow = getCryptoOrThrow;\nfunction getCrypto() {\n    return getFromWindow(\"crypto\");\n}\nexports.getCrypto = getCrypto;\nfunction getLocalStorageOrThrow() {\n    return getFromWindowOrThrow(\"localStorage\");\n}\nexports.getLocalStorageOrThrow = getLocalStorageOrThrow;\nfunction getLocalStorage() {\n    return getFromWindow(\"localStorage\");\n}\nexports.getLocalStorage = getLocalStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWindowMetadata = void 0;\nconst window_getters_1 = require(\"@walletconnect/window-getters\");\nfunction getWindowMetadata() {\n    let doc;\n    let loc;\n    try {\n        doc = window_getters_1.getDocumentOrThrow();\n        loc = window_getters_1.getLocationOrThrow();\n    }\n    catch (e) {\n        return null;\n    }\n    function getIcons() {\n        const links = doc.getElementsByTagName(\"link\");\n        const icons = [];\n        for (let i = 0; i < links.length; i++) {\n            const link = links[i];\n            const rel = link.getAttribute(\"rel\");\n            if (rel) {\n                if (rel.toLowerCase().indexOf(\"icon\") > -1) {\n                    const href = link.getAttribute(\"href\");\n                    if (href) {\n                        if (href.toLowerCase().indexOf(\"https:\") === -1 &&\n                            href.toLowerCase().indexOf(\"http:\") === -1 &&\n                            href.indexOf(\"//\") !== 0) {\n                            let absoluteHref = loc.protocol + \"//\" + loc.host;\n                            if (href.indexOf(\"/\") === 0) {\n                                absoluteHref += href;\n                            }\n                            else {\n                                const path = loc.pathname.split(\"/\");\n                                path.pop();\n                                const finalPath = path.join(\"/\");\n                                absoluteHref += finalPath + \"/\" + href;\n                            }\n                            icons.push(absoluteHref);\n                        }\n                        else if (href.indexOf(\"//\") === 0) {\n                            const absoluteUrl = loc.protocol + href;\n                            icons.push(absoluteUrl);\n                        }\n                        else {\n                            icons.push(href);\n                        }\n                    }\n                }\n            }\n        }\n        return icons;\n    }\n    function getWindowMetadataOfAny(...args) {\n        const metaTags = doc.getElementsByTagName(\"meta\");\n        for (let i = 0; i < metaTags.length; i++) {\n            const tag = metaTags[i];\n            const attributes = [\"itemprop\", \"property\", \"name\"]\n                .map((target) => tag.getAttribute(target))\n                .filter((attr) => {\n                if (attr) {\n                    return args.includes(attr);\n                }\n                return false;\n            });\n            if (attributes.length && attributes) {\n                const content = tag.getAttribute(\"content\");\n                if (content) {\n                    return content;\n                }\n            }\n        }\n        return \"\";\n    }\n    function getName() {\n        let name = getWindowMetadataOfAny(\"name\", \"og:site_name\", \"og:title\", \"twitter:title\");\n        if (!name) {\n            name = doc.title;\n        }\n        return name;\n    }\n    function getDescription() {\n        const description = getWindowMetadataOfAny(\"description\", \"og:description\", \"twitter:description\", \"keywords\");\n        return description;\n    }\n    const name = getName();\n    const description = getDescription();\n    const url = loc.origin;\n    const icons = getIcons();\n    const meta = {\n        description,\n        url,\n        icons,\n        name,\n    };\n    return meta;\n}\nexports.getWindowMetadata = getWindowMetadata;\n","/*globals self, window */\n\"use strict\"\n\n/*eslint-disable @mysticatea/prettier */\nconst { AbortController, AbortSignal } =\n    typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    /* otherwise */ undefined\n/*eslint-enable @mysticatea/prettier */\n\nmodule.exports = AbortController\nmodule.exports.AbortSignal = AbortSignal\nmodule.exports.default = AbortController\n","(function (factory) {\n  typeof define === 'function' && define.amd ? define(factory) :\n  factory();\n})((function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    Object.defineProperty(subClass, \"prototype\", {\n      writable: false\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    } else if (call !== void 0) {\n      throw new TypeError(\"Derived constructors may only return object or undefined\");\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get() {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get.bind();\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(arguments.length < 3 ? target : receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get.apply(this, arguments);\n  }\n\n  var Emitter = /*#__PURE__*/function () {\n    function Emitter() {\n      _classCallCheck(this, Emitter);\n\n      Object.defineProperty(this, 'listeners', {\n        value: {},\n        writable: true,\n        configurable: true\n      });\n    }\n\n    _createClass(Emitter, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, callback, options) {\n        if (!(type in this.listeners)) {\n          this.listeners[type] = [];\n        }\n\n        this.listeners[type].push({\n          callback: callback,\n          options: options\n        });\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, callback) {\n        if (!(type in this.listeners)) {\n          return;\n        }\n\n        var stack = this.listeners[type];\n\n        for (var i = 0, l = stack.length; i < l; i++) {\n          if (stack[i].callback === callback) {\n            stack.splice(i, 1);\n            return;\n          }\n        }\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(event) {\n        if (!(event.type in this.listeners)) {\n          return;\n        }\n\n        var stack = this.listeners[event.type];\n        var stackToCall = stack.slice();\n\n        for (var i = 0, l = stackToCall.length; i < l; i++) {\n          var listener = stackToCall[i];\n\n          try {\n            listener.callback.call(this, event);\n          } catch (e) {\n            Promise.resolve().then(function () {\n              throw e;\n            });\n          }\n\n          if (listener.options && listener.options.once) {\n            this.removeEventListener(event.type, listener.callback);\n          }\n        }\n\n        return !event.defaultPrevented;\n      }\n    }]);\n\n    return Emitter;\n  }();\n\n  var AbortSignal = /*#__PURE__*/function (_Emitter) {\n    _inherits(AbortSignal, _Emitter);\n\n    var _super = _createSuper(AbortSignal);\n\n    function AbortSignal() {\n      var _this;\n\n      _classCallCheck(this, AbortSignal);\n\n      _this = _super.call(this); // Some versions of babel does not transpile super() correctly for IE <= 10, if the parent\n      // constructor has failed to run, then \"this.listeners\" will still be undefined and then we call\n      // the parent constructor directly instead as a workaround. For general details, see babel bug:\n      // https://github.com/babel/babel/issues/3041\n      // This hack was added as a fix for the issue described here:\n      // https://github.com/Financial-Times/polyfill-library/pull/59#issuecomment-477558042\n\n      if (!_this.listeners) {\n        Emitter.call(_assertThisInitialized(_this));\n      } // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n      // we want Object.keys(new AbortController().signal) to be [] for compat with the native impl\n\n\n      Object.defineProperty(_assertThisInitialized(_this), 'aborted', {\n        value: false,\n        writable: true,\n        configurable: true\n      });\n      Object.defineProperty(_assertThisInitialized(_this), 'onabort', {\n        value: null,\n        writable: true,\n        configurable: true\n      });\n      Object.defineProperty(_assertThisInitialized(_this), 'reason', {\n        value: undefined,\n        writable: true,\n        configurable: true\n      });\n      return _this;\n    }\n\n    _createClass(AbortSignal, [{\n      key: \"toString\",\n      value: function toString() {\n        return '[object AbortSignal]';\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(event) {\n        if (event.type === 'abort') {\n          this.aborted = true;\n\n          if (typeof this.onabort === 'function') {\n            this.onabort.call(this, event);\n          }\n        }\n\n        _get(_getPrototypeOf(AbortSignal.prototype), \"dispatchEvent\", this).call(this, event);\n      }\n    }]);\n\n    return AbortSignal;\n  }(Emitter);\n  var AbortController = /*#__PURE__*/function () {\n    function AbortController() {\n      _classCallCheck(this, AbortController);\n\n      // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n      // we want Object.keys(new AbortController()) to be [] for compat with the native impl\n      Object.defineProperty(this, 'signal', {\n        value: new AbortSignal(),\n        writable: true,\n        configurable: true\n      });\n    }\n\n    _createClass(AbortController, [{\n      key: \"abort\",\n      value: function abort(reason) {\n        var event;\n\n        try {\n          event = new Event('abort');\n        } catch (e) {\n          if (typeof document !== 'undefined') {\n            if (!document.createEvent) {\n              // For Internet Explorer 8:\n              event = document.createEventObject();\n              event.type = 'abort';\n            } else {\n              // For Internet Explorer 11:\n              event = document.createEvent('Event');\n              event.initEvent('abort', false, false);\n            }\n          } else {\n            // Fallback where document isn't available:\n            event = {\n              type: 'abort',\n              bubbles: false,\n              cancelable: false\n            };\n          }\n        }\n\n        var signalReason = reason;\n\n        if (signalReason === undefined) {\n          if (typeof document === 'undefined') {\n            signalReason = new Error('This operation was aborted');\n            signalReason.name = 'AbortError';\n          } else {\n            try {\n              signalReason = new DOMException('signal is aborted without reason');\n            } catch (err) {\n              // IE 11 does not support calling the DOMException constructor, use a\n              // regular error object on it instead.\n              signalReason = new Error('This operation was aborted');\n              signalReason.name = 'AbortError';\n            }\n          }\n        }\n\n        this.signal.reason = signalReason;\n        this.signal.dispatchEvent(event);\n      }\n    }, {\n      key: \"toString\",\n      value: function toString() {\n        return '[object AbortController]';\n      }\n    }]);\n\n    return AbortController;\n  }();\n\n  if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n    // These are necessary to make sure that we get correct output for:\n    // Object.prototype.toString.call(new AbortController())\n    AbortController.prototype[Symbol.toStringTag] = 'AbortController';\n    AbortSignal.prototype[Symbol.toStringTag] = 'AbortSignal';\n  }\n\n  function polyfillNeeded(self) {\n    if (self.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n      console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill');\n      return true;\n    } // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n    // defining window.Request, and this polyfill need to work on top of unfetch\n    // so the below feature detection needs the !self.AbortController part.\n    // The Request.prototype check is also needed because Safari versions 11.1.2\n    // up to and including 12.1.x has a window.AbortController present but still\n    // does NOT correctly implement abortable fetch:\n    // https://bugs.webkit.org/show_bug.cgi?id=174980#c2\n\n\n    return typeof self.Request === 'function' && !self.Request.prototype.hasOwnProperty('signal') || !self.AbortController;\n  }\n\n  /**\n   * Note: the \"fetch.Request\" default value is available for fetch imported from\n   * the \"node-fetch\" package and not in browsers. This is OK since browsers\n   * will be importing umd-polyfill.js from that path \"self\" is passed the\n   * decorator so the default value will not be used (because browsers that define\n   * fetch also has Request). One quirky setup where self.fetch exists but\n   * self.Request does not is when the \"unfetch\" minimal fetch polyfill is used\n   * on top of IE11; for this case the browser will try to use the fetch.Request\n   * default value which in turn will be undefined but then then \"if (Request)\"\n   * will ensure that you get a patched fetch but still no Request (as expected).\n   * @param {fetch, Request = fetch.Request}\n   * @returns {fetch: abortableFetch, Request: AbortableRequest}\n   */\n\n  function abortableFetchDecorator(patchTargets) {\n    if ('function' === typeof patchTargets) {\n      patchTargets = {\n        fetch: patchTargets\n      };\n    }\n\n    var _patchTargets = patchTargets,\n        fetch = _patchTargets.fetch,\n        _patchTargets$Request = _patchTargets.Request,\n        NativeRequest = _patchTargets$Request === void 0 ? fetch.Request : _patchTargets$Request,\n        NativeAbortController = _patchTargets.AbortController,\n        _patchTargets$__FORCE = _patchTargets.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,\n        __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL = _patchTargets$__FORCE === void 0 ? false : _patchTargets$__FORCE;\n\n    if (!polyfillNeeded({\n      fetch: fetch,\n      Request: NativeRequest,\n      AbortController: NativeAbortController,\n      __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL\n    })) {\n      return {\n        fetch: fetch,\n        Request: Request\n      };\n    }\n\n    var Request = NativeRequest; // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n    // defining window.Request, and this polyfill need to work on top of unfetch\n    // hence we only patch it if it's available. Also we don't patch it if signal\n    // is already available on the Request prototype because in this case support\n    // is present and the patching below can cause a crash since it assigns to\n    // request.signal which is technically a read-only property. This latter error\n    // happens when you run the main5.js node-fetch example in the repo\n    // \"abortcontroller-polyfill-examples\". The exact error is:\n    //   request.signal = init.signal;\n    //   ^\n    // TypeError: Cannot set property signal of #<Request> which has only a getter\n\n    if (Request && !Request.prototype.hasOwnProperty('signal') || __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n      Request = function Request(input, init) {\n        var signal;\n\n        if (init && init.signal) {\n          signal = init.signal; // Never pass init.signal to the native Request implementation when the polyfill has\n          // been installed because if we're running on top of a browser with a\n          // working native AbortController (i.e. the polyfill was installed due to\n          // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n          // fake AbortSignal to the native fetch will trigger:\n          // TypeError: Failed to construct 'Request': member signal is not of type AbortSignal.\n\n          delete init.signal;\n        }\n\n        var request = new NativeRequest(input, init);\n\n        if (signal) {\n          Object.defineProperty(request, 'signal', {\n            writable: false,\n            enumerable: false,\n            configurable: true,\n            value: signal\n          });\n        }\n\n        return request;\n      };\n\n      Request.prototype = NativeRequest.prototype;\n    }\n\n    var realFetch = fetch;\n\n    var abortableFetch = function abortableFetch(input, init) {\n      var signal = Request && Request.prototype.isPrototypeOf(input) ? input.signal : init ? init.signal : undefined;\n\n      if (signal) {\n        var abortError;\n\n        try {\n          abortError = new DOMException('Aborted', 'AbortError');\n        } catch (err) {\n          // IE 11 does not support calling the DOMException constructor, use a\n          // regular error object on it instead.\n          abortError = new Error('Aborted');\n          abortError.name = 'AbortError';\n        } // Return early if already aborted, thus avoiding making an HTTP request\n\n\n        if (signal.aborted) {\n          return Promise.reject(abortError);\n        } // Turn an event into a promise, reject it once `abort` is dispatched\n\n\n        var cancellation = new Promise(function (_, reject) {\n          signal.addEventListener('abort', function () {\n            return reject(abortError);\n          }, {\n            once: true\n          });\n        });\n\n        if (init && init.signal) {\n          // Never pass .signal to the native implementation when the polyfill has\n          // been installed because if we're running on top of a browser with a\n          // working native AbortController (i.e. the polyfill was installed due to\n          // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n          // fake AbortSignal to the native fetch will trigger:\n          // TypeError: Failed to execute 'fetch' on 'Window': member signal is not of type AbortSignal.\n          delete init.signal;\n        } // Return the fastest promise (don't need to wait for request to finish)\n\n\n        return Promise.race([cancellation, realFetch(input, init)]);\n      }\n\n      return realFetch(input, init);\n    };\n\n    return {\n      fetch: abortableFetch,\n      Request: Request\n    };\n  }\n\n  (function (self) {\n\n    if (!polyfillNeeded(self)) {\n      return;\n    }\n\n    if (!self.fetch) {\n      console.warn('fetch() is not available, cannot install abortcontroller-polyfill');\n      return;\n    }\n\n    var _abortableFetch = abortableFetchDecorator(self),\n        fetch = _abortableFetch.fetch,\n        Request = _abortableFetch.Request;\n\n    self.fetch = fetch;\n    self.Request = Request;\n    Object.defineProperty(self, 'AbortController', {\n      writable: true,\n      enumerable: false,\n      configurable: true,\n      value: AbortController\n    });\n    Object.defineProperty(self, 'AbortSignal', {\n      writable: true,\n      enumerable: false,\n      configurable: true,\n      value: AbortSignal\n    });\n  })(typeof self !== 'undefined' ? self : global);\n\n}));\n","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (Array.isArray(source) || source instanceof Uint8Array) { source = _Buffer.from(source) }\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) {\n    } else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source)\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = new Uint8Array(zeroes + (size - it4))\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet converter;\n/**\n * Convert a little-endian buffer into a BigInt.\n * @param buf The little-endian buffer to convert\n * @returns A BigInt with the little-endian representation of buf.\n */\nfunction toBigIntLE(buf) {\n    {\n        const reversed = Buffer.from(buf);\n        reversed.reverse();\n        const hex = reversed.toString('hex');\n        if (hex.length === 0) {\n            return BigInt(0);\n        }\n        return BigInt(`0x${hex}`);\n    }\n    return converter.toBigInt(buf, false);\n}\nexports.toBigIntLE = toBigIntLE;\n/**\n * Convert a big-endian buffer into a BigInt\n * @param buf The big-endian buffer to convert.\n * @returns A BigInt with the big-endian representation of buf.\n */\nfunction toBigIntBE(buf) {\n    {\n        const hex = buf.toString('hex');\n        if (hex.length === 0) {\n            return BigInt(0);\n        }\n        return BigInt(`0x${hex}`);\n    }\n    return converter.toBigInt(buf, true);\n}\nexports.toBigIntBE = toBigIntBE;\n/**\n * Convert a BigInt to a little-endian buffer.\n * @param num   The BigInt to convert.\n * @param width The number of bytes that the resulting buffer should be.\n * @returns A little-endian buffer representation of num.\n */\nfunction toBufferLE(num, width) {\n    {\n        const hex = num.toString(16);\n        const buffer = Buffer.from(hex.padStart(width * 2, '0').slice(0, width * 2), 'hex');\n        buffer.reverse();\n        return buffer;\n    }\n    // Allocation is done here, since it is slower using napi in C\n    return converter.fromBigInt(num, Buffer.allocUnsafe(width), false);\n}\nexports.toBufferLE = toBufferLE;\n/**\n * Convert a BigInt to a big-endian buffer.\n * @param num   The BigInt to convert.\n * @param width The number of bytes that the resulting buffer should be.\n * @returns A big-endian buffer representation of num.\n */\nfunction toBufferBE(num, width) {\n    {\n        const hex = num.toString(16);\n        return Buffer.from(hex.padStart(width * 2, '0').slice(0, width * 2), 'hex');\n    }\n    return converter.fromBigInt(num, Buffer.allocUnsafe(width), true);\n}\nexports.toBufferBE = toBufferBE;\n","/**\r\n * Create a blob builder even when vendor prefixes exist\r\n */\r\n\r\nvar BlobBuilder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\r\n  typeof WebKitBlobBuilder !== 'undefined' ? WebKitBlobBuilder :\r\n  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\r\n  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : \r\n  false;\r\n\r\n/**\r\n * Check if Blob constructor is supported\r\n */\r\n\r\nvar blobSupported = (function() {\r\n  try {\r\n    var a = new Blob(['hi']);\r\n    return a.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if Blob constructor supports ArrayBufferViews\r\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n */\r\n\r\nvar blobSupportsArrayBufferView = blobSupported && (function() {\r\n  try {\r\n    var b = new Blob([new Uint8Array([1,2])]);\r\n    return b.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if BlobBuilder is supported\r\n */\r\n\r\nvar blobBuilderSupported = BlobBuilder\r\n  && BlobBuilder.prototype.append\r\n  && BlobBuilder.prototype.getBlob;\r\n\r\n/**\r\n * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n * Used by BlobBuilder constructor and old browsers that didn't\r\n * support it in the Blob constructor.\r\n */\r\n\r\nfunction mapArrayBufferViews(ary) {\r\n  return ary.map(function(chunk) {\r\n    if (chunk.buffer instanceof ArrayBuffer) {\r\n      var buf = chunk.buffer;\r\n\r\n      // if this is a subarray, make a copy so we only\r\n      // include the subarray region from the underlying buffer\r\n      if (chunk.byteLength !== buf.byteLength) {\r\n        var copy = new Uint8Array(chunk.byteLength);\r\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n        buf = copy.buffer;\r\n      }\r\n\r\n      return buf;\r\n    }\r\n\r\n    return chunk;\r\n  });\r\n}\r\n\r\nfunction BlobBuilderConstructor(ary, options) {\r\n  options = options || {};\r\n\r\n  var bb = new BlobBuilder();\r\n  mapArrayBufferViews(ary).forEach(function(part) {\r\n    bb.append(part);\r\n  });\r\n\r\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n};\r\n\r\nfunction BlobConstructor(ary, options) {\r\n  return new Blob(mapArrayBufferViews(ary), options || {});\r\n};\r\n\r\nif (typeof Blob !== 'undefined') {\r\n  BlobBuilderConstructor.prototype = Blob.prototype;\r\n  BlobConstructor.prototype = Blob.prototype;\r\n}\r\n\r\nmodule.exports = (function() {\r\n  if (blobSupported) {\r\n    return blobSupportsArrayBufferView ? Blob : BlobConstructor;\r\n  } else if (blobBuilderSupported) {\r\n    return BlobBuilderConstructor;\r\n  } else {\r\n    return undefined;\r\n  }\r\n})();\r\n","var r;\n\nmodule.exports = function rand(len) {\n  if (!r)\n    r = new Rand(null);\n\n  return r.generate(len);\n};\n\nfunction Rand(rand) {\n  this.rand = rand;\n}\nmodule.exports.Rand = Rand;\n\nRand.prototype.generate = function generate(len) {\n  return this._rand(len);\n};\n\n// Emulate crypto API using randy\nRand.prototype._rand = function _rand(n) {\n  if (this.rand.getBytes)\n    return this.rand.getBytes(n);\n\n  var res = new Uint8Array(n);\n  for (var i = 0; i < res.length; i++)\n    res[i] = this.rand.getByte();\n  return res;\n};\n\nif (typeof self === 'object') {\n  if (self.crypto && self.crypto.getRandomValues) {\n    // Modern browsers\n    Rand.prototype._rand = function _rand(n) {\n      var arr = new Uint8Array(n);\n      self.crypto.getRandomValues(arr);\n      return arr;\n    };\n  } else if (self.msCrypto && self.msCrypto.getRandomValues) {\n    // IE\n    Rand.prototype._rand = function _rand(n) {\n      var arr = new Uint8Array(n);\n      self.msCrypto.getRandomValues(arr);\n      return arr;\n    };\n\n  // Safari's WebWorkers do not have `crypto`\n  } else if (typeof window === 'object') {\n    // Old junk\n    Rand.prototype._rand = function() {\n      throw new Error('Not implemented yet');\n    };\n  }\n} else {\n  // Node.js or Web worker with no crypto support\n  try {\n    var crypto = require('crypto');\n    if (typeof crypto.randomBytes !== 'function')\n      throw new Error('Not supported');\n\n    Rand.prototype._rand = function _rand(n) {\n      return crypto.randomBytes(n);\n    };\n  } catch (e) {\n  }\n}\n","var DES = require('browserify-des')\nvar aes = require('browserify-aes/browser')\nvar aesModes = require('browserify-aes/modes')\nvar desModes = require('browserify-des/modes')\nvar ebtk = require('evp_bytestokey')\n\nfunction createCipher (suite, password) {\n  suite = suite.toLowerCase()\n\n  var keyLen, ivLen\n  if (aesModes[suite]) {\n    keyLen = aesModes[suite].key\n    ivLen = aesModes[suite].iv\n  } else if (desModes[suite]) {\n    keyLen = desModes[suite].key * 8\n    ivLen = desModes[suite].iv\n  } else {\n    throw new TypeError('invalid suite type')\n  }\n\n  var keys = ebtk(password, false, keyLen, ivLen)\n  return createCipheriv(suite, keys.key, keys.iv)\n}\n\nfunction createDecipher (suite, password) {\n  suite = suite.toLowerCase()\n\n  var keyLen, ivLen\n  if (aesModes[suite]) {\n    keyLen = aesModes[suite].key\n    ivLen = aesModes[suite].iv\n  } else if (desModes[suite]) {\n    keyLen = desModes[suite].key * 8\n    ivLen = desModes[suite].iv\n  } else {\n    throw new TypeError('invalid suite type')\n  }\n\n  var keys = ebtk(password, false, keyLen, ivLen)\n  return createDecipheriv(suite, keys.key, keys.iv)\n}\n\nfunction createCipheriv (suite, key, iv) {\n  suite = suite.toLowerCase()\n  if (aesModes[suite]) return aes.createCipheriv(suite, key, iv)\n  if (desModes[suite]) return new DES({ key: key, iv: iv, mode: suite })\n\n  throw new TypeError('invalid suite type')\n}\n\nfunction createDecipheriv (suite, key, iv) {\n  suite = suite.toLowerCase()\n  if (aesModes[suite]) return aes.createDecipheriv(suite, key, iv)\n  if (desModes[suite]) return new DES({ key: key, iv: iv, mode: suite, decrypt: true })\n\n  throw new TypeError('invalid suite type')\n}\n\nfunction getCiphers () {\n  return Object.keys(desModes).concat(aes.getCiphers())\n}\n\nexports.createCipher = exports.Cipher = createCipher\nexports.createCipheriv = exports.Cipheriv = createCipheriv\nexports.createDecipher = exports.Decipher = createDecipher\nexports.createDecipheriv = exports.Decipheriv = createDecipheriv\nexports.listCiphers = exports.getCiphers = getCiphers\n","var CipherBase = require('cipher-base')\nvar des = require('des.js')\nvar inherits = require('inherits')\nvar Buffer = require('safe-buffer').Buffer\n\nvar modes = {\n  'des-ede3-cbc': des.CBC.instantiate(des.EDE),\n  'des-ede3': des.EDE,\n  'des-ede-cbc': des.CBC.instantiate(des.EDE),\n  'des-ede': des.EDE,\n  'des-cbc': des.CBC.instantiate(des.DES),\n  'des-ecb': des.DES\n}\nmodes.des = modes['des-cbc']\nmodes.des3 = modes['des-ede3-cbc']\nmodule.exports = DES\ninherits(DES, CipherBase)\nfunction DES (opts) {\n  CipherBase.call(this)\n  var modeName = opts.mode.toLowerCase()\n  var mode = modes[modeName]\n  var type\n  if (opts.decrypt) {\n    type = 'decrypt'\n  } else {\n    type = 'encrypt'\n  }\n  var key = opts.key\n  if (!Buffer.isBuffer(key)) {\n    key = Buffer.from(key)\n  }\n  if (modeName === 'des-ede' || modeName === 'des-ede-cbc') {\n    key = Buffer.concat([key, key.slice(0, 8)])\n  }\n  var iv = opts.iv\n  if (!Buffer.isBuffer(iv)) {\n    iv = Buffer.from(iv)\n  }\n  this._des = mode.create({\n    key: key,\n    iv: iv,\n    type: type\n  })\n}\nDES.prototype._update = function (data) {\n  return Buffer.from(this._des.update(data))\n}\nDES.prototype._final = function () {\n  return Buffer.from(this._des.final())\n}\n","exports['des-ecb'] = {\n  key: 8,\n  iv: 0\n}\nexports['des-cbc'] = exports.des = {\n  key: 8,\n  iv: 8\n}\nexports['des-ede3-cbc'] = exports.des3 = {\n  key: 24,\n  iv: 8\n}\nexports['des-ede3'] = {\n  key: 24,\n  iv: 0\n}\nexports['des-ede-cbc'] = {\n  key: 16,\n  iv: 8\n}\nexports['des-ede'] = {\n  key: 16,\n  iv: 0\n}\n","var BN = require('bn.js')\nvar randomBytes = require('randombytes')\n\nfunction blind (priv) {\n  var r = getr(priv)\n  var blinder = r.toRed(BN.mont(priv.modulus)).redPow(new BN(priv.publicExponent)).fromRed()\n  return { blinder: blinder, unblinder: r.invm(priv.modulus) }\n}\n\nfunction getr (priv) {\n  var len = priv.modulus.byteLength()\n  var r\n  do {\n    r = new BN(randomBytes(len))\n  } while (r.cmp(priv.modulus) >= 0 || !r.umod(priv.prime1) || !r.umod(priv.prime2))\n  return r\n}\n\nfunction crt (msg, priv) {\n  var blinds = blind(priv)\n  var len = priv.modulus.byteLength()\n  var blinded = new BN(msg).mul(blinds.blinder).umod(priv.modulus)\n  var c1 = blinded.toRed(BN.mont(priv.prime1))\n  var c2 = blinded.toRed(BN.mont(priv.prime2))\n  var qinv = priv.coefficient\n  var p = priv.prime1\n  var q = priv.prime2\n  var m1 = c1.redPow(priv.exponent1).fromRed()\n  var m2 = c2.redPow(priv.exponent2).fromRed()\n  var h = m1.isub(m2).imul(qinv).umod(p).imul(q)\n  return m2.iadd(h).imul(blinds.unblinder).umod(priv.modulus).toArrayLike(Buffer, 'be', len)\n}\ncrt.getr = getr\n\nmodule.exports = crt\n","module.exports = require('./browser/algorithms.json')\n","var Buffer = require('safe-buffer').Buffer\nvar createHash = require('create-hash')\nvar stream = require('readable-stream')\nvar inherits = require('inherits')\nvar sign = require('./sign')\nvar verify = require('./verify')\n\nvar algorithms = require('./algorithms.json')\nObject.keys(algorithms).forEach(function (key) {\n  algorithms[key].id = Buffer.from(algorithms[key].id, 'hex')\n  algorithms[key.toLowerCase()] = algorithms[key]\n})\n\nfunction Sign (algorithm) {\n  stream.Writable.call(this)\n\n  var data = algorithms[algorithm]\n  if (!data) throw new Error('Unknown message digest')\n\n  this._hashType = data.hash\n  this._hash = createHash(data.hash)\n  this._tag = data.id\n  this._signType = data.sign\n}\ninherits(Sign, stream.Writable)\n\nSign.prototype._write = function _write (data, _, done) {\n  this._hash.update(data)\n  done()\n}\n\nSign.prototype.update = function update (data, enc) {\n  if (typeof data === 'string') data = Buffer.from(data, enc)\n\n  this._hash.update(data)\n  return this\n}\n\nSign.prototype.sign = function signMethod (key, enc) {\n  this.end()\n  var hash = this._hash.digest()\n  var sig = sign(hash, key, this._hashType, this._signType, this._tag)\n\n  return enc ? sig.toString(enc) : sig\n}\n\nfunction Verify (algorithm) {\n  stream.Writable.call(this)\n\n  var data = algorithms[algorithm]\n  if (!data) throw new Error('Unknown message digest')\n\n  this._hash = createHash(data.hash)\n  this._tag = data.id\n  this._signType = data.sign\n}\ninherits(Verify, stream.Writable)\n\nVerify.prototype._write = function _write (data, _, done) {\n  this._hash.update(data)\n  done()\n}\n\nVerify.prototype.update = function update (data, enc) {\n  if (typeof data === 'string') data = Buffer.from(data, enc)\n\n  this._hash.update(data)\n  return this\n}\n\nVerify.prototype.verify = function verifyMethod (key, sig, enc) {\n  if (typeof sig === 'string') sig = Buffer.from(sig, enc)\n\n  this.end()\n  var hash = this._hash.digest()\n  return verify(sig, hash, key, this._signType, this._tag)\n}\n\nfunction createSign (algorithm) {\n  return new Sign(algorithm)\n}\n\nfunction createVerify (algorithm) {\n  return new Verify(algorithm)\n}\n\nmodule.exports = {\n  Sign: createSign,\n  Verify: createVerify,\n  createSign: createSign,\n  createVerify: createVerify\n}\n","// much of this based on https://github.com/indutny/self-signed/blob/gh-pages/lib/rsa.js\nvar Buffer = require('safe-buffer').Buffer\nvar createHmac = require('create-hmac')\nvar crt = require('browserify-rsa')\nvar EC = require('elliptic').ec\nvar BN = require('bn.js')\nvar parseKeys = require('parse-asn1')\nvar curves = require('./curves.json')\n\nfunction sign (hash, key, hashType, signType, tag) {\n  var priv = parseKeys(key)\n  if (priv.curve) {\n    // rsa keys can be interpreted as ecdsa ones in openssl\n    if (signType !== 'ecdsa' && signType !== 'ecdsa/rsa') throw new Error('wrong private key type')\n    return ecSign(hash, priv)\n  } else if (priv.type === 'dsa') {\n    if (signType !== 'dsa') throw new Error('wrong private key type')\n    return dsaSign(hash, priv, hashType)\n  } else {\n    if (signType !== 'rsa' && signType !== 'ecdsa/rsa') throw new Error('wrong private key type')\n  }\n  hash = Buffer.concat([tag, hash])\n  var len = priv.modulus.byteLength()\n  var pad = [0, 1]\n  while (hash.length + pad.length + 1 < len) pad.push(0xff)\n  pad.push(0x00)\n  var i = -1\n  while (++i < hash.length) pad.push(hash[i])\n\n  var out = crt(pad, priv)\n  return out\n}\n\nfunction ecSign (hash, priv) {\n  var curveId = curves[priv.curve.join('.')]\n  if (!curveId) throw new Error('unknown curve ' + priv.curve.join('.'))\n\n  var curve = new EC(curveId)\n  var key = curve.keyFromPrivate(priv.privateKey)\n  var out = key.sign(hash)\n\n  return Buffer.from(out.toDER())\n}\n\nfunction dsaSign (hash, priv, algo) {\n  var x = priv.params.priv_key\n  var p = priv.params.p\n  var q = priv.params.q\n  var g = priv.params.g\n  var r = new BN(0)\n  var k\n  var H = bits2int(hash, q).mod(q)\n  var s = false\n  var kv = getKey(x, q, hash, algo)\n  while (s === false) {\n    k = makeKey(q, kv, algo)\n    r = makeR(g, k, p, q)\n    s = k.invm(q).imul(H.add(x.mul(r))).mod(q)\n    if (s.cmpn(0) === 0) {\n      s = false\n      r = new BN(0)\n    }\n  }\n  return toDER(r, s)\n}\n\nfunction toDER (r, s) {\n  r = r.toArray()\n  s = s.toArray()\n\n  // Pad values\n  if (r[0] & 0x80) r = [0].concat(r)\n  if (s[0] & 0x80) s = [0].concat(s)\n\n  var total = r.length + s.length + 4\n  var res = [0x30, total, 0x02, r.length]\n  res = res.concat(r, [0x02, s.length], s)\n  return Buffer.from(res)\n}\n\nfunction getKey (x, q, hash, algo) {\n  x = Buffer.from(x.toArray())\n  if (x.length < q.byteLength()) {\n    var zeros = Buffer.alloc(q.byteLength() - x.length)\n    x = Buffer.concat([zeros, x])\n  }\n  var hlen = hash.length\n  var hbits = bits2octets(hash, q)\n  var v = Buffer.alloc(hlen)\n  v.fill(1)\n  var k = Buffer.alloc(hlen)\n  k = createHmac(algo, k).update(v).update(Buffer.from([0])).update(x).update(hbits).digest()\n  v = createHmac(algo, k).update(v).digest()\n  k = createHmac(algo, k).update(v).update(Buffer.from([1])).update(x).update(hbits).digest()\n  v = createHmac(algo, k).update(v).digest()\n  return { k: k, v: v }\n}\n\nfunction bits2int (obits, q) {\n  var bits = new BN(obits)\n  var shift = (obits.length << 3) - q.bitLength()\n  if (shift > 0) bits.ishrn(shift)\n  return bits\n}\n\nfunction bits2octets (bits, q) {\n  bits = bits2int(bits, q)\n  bits = bits.mod(q)\n  var out = Buffer.from(bits.toArray())\n  if (out.length < q.byteLength()) {\n    var zeros = Buffer.alloc(q.byteLength() - out.length)\n    out = Buffer.concat([zeros, out])\n  }\n  return out\n}\n\nfunction makeKey (q, kv, algo) {\n  var t\n  var k\n\n  do {\n    t = Buffer.alloc(0)\n\n    while (t.length * 8 < q.bitLength()) {\n      kv.v = createHmac(algo, kv.k).update(kv.v).digest()\n      t = Buffer.concat([t, kv.v])\n    }\n\n    k = bits2int(t, q)\n    kv.k = createHmac(algo, kv.k).update(kv.v).update(Buffer.from([0])).digest()\n    kv.v = createHmac(algo, kv.k).update(kv.v).digest()\n  } while (k.cmp(q) !== -1)\n\n  return k\n}\n\nfunction makeR (g, k, p, q) {\n  return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)\n}\n\nmodule.exports = sign\nmodule.exports.getKey = getKey\nmodule.exports.makeKey = makeKey\n","// much of this based on https://github.com/indutny/self-signed/blob/gh-pages/lib/rsa.js\nvar Buffer = require('safe-buffer').Buffer\nvar BN = require('bn.js')\nvar EC = require('elliptic').ec\nvar parseKeys = require('parse-asn1')\nvar curves = require('./curves.json')\n\nfunction verify (sig, hash, key, signType, tag) {\n  var pub = parseKeys(key)\n  if (pub.type === 'ec') {\n    // rsa keys can be interpreted as ecdsa ones in openssl\n    if (signType !== 'ecdsa' && signType !== 'ecdsa/rsa') throw new Error('wrong public key type')\n    return ecVerify(sig, hash, pub)\n  } else if (pub.type === 'dsa') {\n    if (signType !== 'dsa') throw new Error('wrong public key type')\n    return dsaVerify(sig, hash, pub)\n  } else {\n    if (signType !== 'rsa' && signType !== 'ecdsa/rsa') throw new Error('wrong public key type')\n  }\n  hash = Buffer.concat([tag, hash])\n  var len = pub.modulus.byteLength()\n  var pad = [1]\n  var padNum = 0\n  while (hash.length + pad.length + 2 < len) {\n    pad.push(0xff)\n    padNum++\n  }\n  pad.push(0x00)\n  var i = -1\n  while (++i < hash.length) {\n    pad.push(hash[i])\n  }\n  pad = Buffer.from(pad)\n  var red = BN.mont(pub.modulus)\n  sig = new BN(sig).toRed(red)\n\n  sig = sig.redPow(new BN(pub.publicExponent))\n  sig = Buffer.from(sig.fromRed().toArray())\n  var out = padNum < 8 ? 1 : 0\n  len = Math.min(sig.length, pad.length)\n  if (sig.length !== pad.length) out = 1\n\n  i = -1\n  while (++i < len) out |= sig[i] ^ pad[i]\n  return out === 0\n}\n\nfunction ecVerify (sig, hash, pub) {\n  var curveId = curves[pub.data.algorithm.curve.join('.')]\n  if (!curveId) throw new Error('unknown curve ' + pub.data.algorithm.curve.join('.'))\n\n  var curve = new EC(curveId)\n  var pubkey = pub.data.subjectPrivateKey.data\n\n  return curve.verify(hash, sig, pubkey)\n}\n\nfunction dsaVerify (sig, hash, pub) {\n  var p = pub.data.p\n  var q = pub.data.q\n  var g = pub.data.g\n  var y = pub.data.pub_key\n  var unpacked = parseKeys.signature.decode(sig, 'der')\n  var s = unpacked.s\n  var r = unpacked.r\n  checkValue(s, q)\n  checkValue(r, q)\n  var montp = BN.mont(p)\n  var w = s.invm(q)\n  var v = g.toRed(montp)\n    .redPow(new BN(hash).mul(w).mod(q))\n    .fromRed()\n    .mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed())\n    .mod(p)\n    .mod(q)\n  return v.cmp(r) === 0\n}\n\nfunction checkValue (b, q) {\n  if (b.cmpn(0) <= 0) throw new Error('invalid sig')\n  if (b.cmp(q) >= q) throw new Error('invalid sig')\n}\n\nmodule.exports = verify\n","var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","const basex = require('base-x')\nconst ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","module.exports = function xor (a, b) {\n  var length = Math.min(a.length, b.length)\n  var buffer = new Buffer(length)\n\n  for (var i = 0; i < length; ++i) {\n    buffer[i] = a[i] ^ b[i]\n  }\n\n  return buffer\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict'\n\nconst mh = require('multihashes')\nconst { Buffer } = require('buffer')\nvar CIDUtil = {\n  /**\n   * Test if the given input is a valid CID object.\n   * Returns an error message if it is not.\n   * Returns undefined if it is a valid CID.\n   *\n   * @param {any} other\n   * @returns {string}\n   */\n  checkCIDComponents: function (other) {\n    if (other == null) {\n      return 'null values are not valid CIDs'\n    }\n\n    if (!(other.version === 0 || other.version === 1)) {\n      return 'Invalid version, must be a number equal to 1 or 0'\n    }\n\n    if (typeof other.codec !== 'string') {\n      return 'codec must be string'\n    }\n\n    if (other.version === 0) {\n      if (other.codec !== 'dag-pb') {\n        return \"codec must be 'dag-pb' for CIDv0\"\n      }\n      if (other.multibaseName !== 'base58btc') {\n        return \"multibaseName must be 'base58btc' for CIDv0\"\n      }\n    }\n\n    if (!Buffer.isBuffer(other.multihash)) {\n      return 'multihash must be a Buffer'\n    }\n\n    try {\n      mh.validate(other.multihash)\n    } catch (err) {\n      let errorMsg = err.message\n      if (!errorMsg) { // Just in case mh.validate() throws an error with empty error message\n        errorMsg = 'Multihash validation failed'\n      }\n      return errorMsg\n    }\n  }\n}\n\nmodule.exports = CIDUtil\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst mh = require('multihashes')\nconst multibase = require('multibase')\nconst multicodec = require('multicodec')\nconst codecs = require('multicodec/src/base-table.json')\nconst CIDUtil = require('./cid-util')\nconst withIs = require('class-is')\n\n/**\n * @typedef {Object} SerializedCID\n * @param {string} codec\n * @param {number} version\n * @param {Buffer} multihash\n */\n\n/**\n * Test if the given input is a CID.\n * @function isCID\n * @memberof CID\n * @static\n * @param {any} other\n * @returns {bool}\n */\n\n/**\n * Class representing a CID `<mbase><version><mcodec><mhash>`\n * , as defined in [ipld/cid](https://github.com/multiformats/cid).\n * @class CID\n */\nclass CID {\n  /**\n   * Create a new CID.\n   *\n   * The algorithm for argument input is roughly:\n   * ```\n   * if (cid)\n   *   -> create a copy\n   * else if (str)\n   *   if (1st char is on multibase table) -> CID String\n   *   else -> bs58 encoded multihash\n   * else if (Buffer)\n   *   if (1st byte is 0 or 1) -> CID\n   *   else -> multihash\n   * else if (Number)\n   *   -> construct CID by parts\n   * ```\n   *\n   * @param {string|Buffer|CID} version\n   * @param {string} [codec]\n   * @param {Buffer} [multihash]\n   * @param {string} [multibaseName]\n   *\n   * @example\n   * new CID(<version>, <codec>, <multihash>, <multibaseName>)\n   * new CID(<cidStr>)\n   * new CID(<cid.buffer>)\n   * new CID(<multihash>)\n   * new CID(<bs58 encoded multihash>)\n   * new CID(<cid>)\n   */\n  constructor (version, codec, multihash, multibaseName) {\n    if (_CID.isCID(version)) {\n      // version is an exising CID instance\n      const cid = version\n      this.version = cid.version\n      this.codec = cid.codec\n      this.multihash = Buffer.from(cid.multihash)\n      // Default guard for when a CID < 0.7 is passed with no multibaseName\n      this.multibaseName = cid.multibaseName || (cid.version === 0 ? 'base58btc' : 'base32')\n      return\n    }\n\n    if (typeof version === 'string') {\n      // e.g. 'base32' or false\n      const baseName = multibase.isEncoded(version)\n      if (baseName) {\n        // version is a CID String encoded with multibase, so v1\n        const cid = multibase.decode(version)\n        this.version = parseInt(cid.slice(0, 1).toString('hex'), 16)\n        this.codec = multicodec.getCodec(cid.slice(1))\n        this.multihash = multicodec.rmPrefix(cid.slice(1))\n        this.multibaseName = baseName\n      } else {\n        // version is a base58btc string multihash, so v0\n        this.version = 0\n        this.codec = 'dag-pb'\n        this.multihash = mh.fromB58String(version)\n        this.multibaseName = 'base58btc'\n      }\n      CID.validateCID(this)\n      Object.defineProperty(this, 'string', { value: version })\n      return\n    }\n\n    if (Buffer.isBuffer(version)) {\n      const firstByte = version.slice(0, 1)\n      const v = parseInt(firstByte.toString('hex'), 16)\n      if (v === 1) {\n        // version is a CID buffer\n        const cid = version\n        this.version = v\n        this.codec = multicodec.getCodec(cid.slice(1))\n        this.multihash = multicodec.rmPrefix(cid.slice(1))\n        this.multibaseName = 'base32'\n      } else {\n        // version is a raw multihash buffer, so v0\n        this.version = 0\n        this.codec = 'dag-pb'\n        this.multihash = version\n        this.multibaseName = 'base58btc'\n      }\n      CID.validateCID(this)\n      return\n    }\n\n    // otherwise, assemble the CID from the parameters\n\n    /**\n     * @type {number}\n     */\n    this.version = version\n\n    /**\n     * @type {string}\n     */\n    this.codec = codec\n\n    /**\n     * @type {Buffer}\n     */\n    this.multihash = multihash\n\n    /**\n     * @type {string}\n     */\n    this.multibaseName = multibaseName || (version === 0 ? 'base58btc' : 'base32')\n\n    CID.validateCID(this)\n  }\n\n  /**\n   * The CID as a `Buffer`\n   *\n   * @return {Buffer}\n   * @readonly\n   *\n   * @memberOf CID\n   */\n  get buffer () {\n    let buffer = this._buffer\n\n    if (!buffer) {\n      if (this.version === 0) {\n        buffer = this.multihash\n      } else if (this.version === 1) {\n        buffer = Buffer.concat([\n          Buffer.from('01', 'hex'),\n          multicodec.getCodeVarint(this.codec),\n          this.multihash\n        ])\n      } else {\n        throw new Error('unsupported version')\n      }\n\n      // Cache this buffer so it doesn't have to be recreated\n      Object.defineProperty(this, '_buffer', { value: buffer })\n    }\n\n    return buffer\n  }\n\n  /**\n   * Get the prefix of the CID.\n   *\n   * @returns {Buffer}\n   * @readonly\n   */\n  get prefix () {\n    return Buffer.concat([\n      Buffer.from(`0${this.version}`, 'hex'),\n      multicodec.getCodeVarint(this.codec),\n      mh.prefix(this.multihash)\n    ])\n  }\n\n  /**\n   * Convert to a CID of version `0`.\n   *\n   * @returns {CID}\n   */\n  toV0 () {\n    if (this.codec !== 'dag-pb') {\n      throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n    }\n\n    const { name, length } = mh.decode(this.multihash)\n\n    if (name !== 'sha2-256') {\n      throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n    }\n\n    if (length !== 32) {\n      throw new Error('Cannot convert non 32 byte multihash CID to CIDv0')\n    }\n\n    return new _CID(0, this.codec, this.multihash)\n  }\n\n  /**\n   * Convert to a CID of version `1`.\n   *\n   * @returns {CID}\n   */\n  toV1 () {\n    return new _CID(1, this.codec, this.multihash)\n  }\n\n  /**\n   * Encode the CID into a string.\n   *\n   * @param {string} [base=this.multibaseName] - Base encoding to use.\n   * @returns {string}\n   */\n  toBaseEncodedString (base = this.multibaseName) {\n    if (this.string && base === this.multibaseName) {\n      return this.string\n    }\n    let str = null\n    if (this.version === 0) {\n      if (base !== 'base58btc') {\n        throw new Error('not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()')\n      }\n      str = mh.toB58String(this.multihash)\n    } else if (this.version === 1) {\n      str = multibase.encode(base, this.buffer).toString()\n    } else {\n      throw new Error('unsupported version')\n    }\n    if (base === this.multibaseName) {\n      // cache the string value\n      Object.defineProperty(this, 'string', { value: str })\n    }\n    return str\n  }\n\n  /**\n   * CID(QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n)\n   *\n   * @returns {String}\n   */\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    return 'CID(' + this.toString() + ')'\n  }\n\n  toString (base) {\n    return this.toBaseEncodedString(base)\n  }\n\n  /**\n   * Serialize to a plain object.\n   *\n   * @returns {SerializedCID}\n   */\n  toJSON () {\n    return {\n      codec: this.codec,\n      version: this.version,\n      hash: this.multihash\n    }\n  }\n\n  /**\n   * Compare equality with another CID.\n   *\n   * @param {CID} other\n   * @returns {bool}\n   */\n  equals (other) {\n    return this.codec === other.codec &&\n      this.version === other.version &&\n      this.multihash.equals(other.multihash)\n  }\n\n  /**\n   * Test if the given input is a valid CID object.\n   * Throws if it is not.\n   *\n   * @param {any} other\n   * @returns {void}\n   */\n  static validateCID (other) {\n    const errorMsg = CIDUtil.checkCIDComponents(other)\n    if (errorMsg) {\n      throw new Error(errorMsg)\n    }\n  }\n}\n\nconst _CID = withIs(CID, {\n  className: 'CID',\n  symbolName: '@ipld/js-cid/CID'\n})\n\n_CID.codecs = codecs\n\nmodule.exports = _CID\n","var Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar StringDecoder = require('string_decoder').StringDecoder\nvar inherits = require('inherits')\n\nfunction CipherBase (hashMode) {\n  Transform.call(this)\n  this.hashMode = typeof hashMode === 'string'\n  if (this.hashMode) {\n    this[hashMode] = this._finalOrDigest\n  } else {\n    this.final = this._finalOrDigest\n  }\n  if (this._final) {\n    this.__final = this._final\n    this._final = null\n  }\n  this._decoder = null\n  this._encoding = null\n}\ninherits(CipherBase, Transform)\n\nCipherBase.prototype.update = function (data, inputEnc, outputEnc) {\n  if (typeof data === 'string') {\n    data = Buffer.from(data, inputEnc)\n  }\n\n  var outData = this._update(data)\n  if (this.hashMode) return this\n\n  if (outputEnc) {\n    outData = this._toString(outData, outputEnc)\n  }\n\n  return outData\n}\n\nCipherBase.prototype.setAutoPadding = function () {}\nCipherBase.prototype.getAuthTag = function () {\n  throw new Error('trying to get auth tag in unsupported state')\n}\n\nCipherBase.prototype.setAuthTag = function () {\n  throw new Error('trying to set auth tag in unsupported state')\n}\n\nCipherBase.prototype.setAAD = function () {\n  throw new Error('trying to set aad in unsupported state')\n}\n\nCipherBase.prototype._transform = function (data, _, next) {\n  var err\n  try {\n    if (this.hashMode) {\n      this._update(data)\n    } else {\n      this.push(this._update(data))\n    }\n  } catch (e) {\n    err = e\n  } finally {\n    next(err)\n  }\n}\nCipherBase.prototype._flush = function (done) {\n  var err\n  try {\n    this.push(this.__final())\n  } catch (e) {\n    err = e\n  }\n\n  done(err)\n}\nCipherBase.prototype._finalOrDigest = function (outputEnc) {\n  var outData = this.__final() || Buffer.alloc(0)\n  if (outputEnc) {\n    outData = this._toString(outData, outputEnc, true)\n  }\n  return outData\n}\n\nCipherBase.prototype._toString = function (value, enc, fin) {\n  if (!this._decoder) {\n    this._decoder = new StringDecoder(enc)\n    this._encoding = enc\n  }\n\n  if (this._encoding !== enc) throw new Error('can\\'t switch encodings')\n\n  var out = this._decoder.write(value)\n  if (fin) {\n    out += this._decoder.end()\n  }\n\n  return out\n}\n\nmodule.exports = CipherBase\n","'use strict';\n\nfunction withIs(Class, { className, symbolName }) {\n    const symbol = Symbol.for(symbolName);\n\n    const ClassIsWrapper = {\n        // The code below assigns the class wrapper to an object to trick\n        // JavaScript engines to show the name of the extended class when\n        // logging an instances.\n        // We are assigning an anonymous class (class wrapper) to the object\n        // with key `className` to keep the correct name.\n        // If this is not supported it falls back to logging `ClassIsWrapper`.\n        [className]: class extends Class {\n            constructor(...args) {\n                super(...args);\n                Object.defineProperty(this, symbol, { value: true });\n            }\n\n            get [Symbol.toStringTag]() {\n                return className;\n            }\n        },\n    }[className];\n\n    ClassIsWrapper[`is${className}`] = (obj) => !!(obj && obj[symbol]);\n\n    return ClassIsWrapper;\n}\n\nfunction withIsProto(Class, { className, symbolName, withoutNew }) {\n    const symbol = Symbol.for(symbolName);\n\n    /* eslint-disable object-shorthand */\n    const ClassIsWrapper = {\n        [className]: function (...args) {\n            if (withoutNew && !(this instanceof ClassIsWrapper)) {\n                return new ClassIsWrapper(...args);\n            }\n\n            const _this = Class.call(this, ...args) || this;\n\n            if (_this && !_this[symbol]) {\n                Object.defineProperty(_this, symbol, { value: true });\n            }\n\n            return _this;\n        },\n    }[className];\n    /* eslint-enable object-shorthand */\n\n    ClassIsWrapper.prototype = Object.create(Class.prototype);\n    ClassIsWrapper.prototype.constructor = ClassIsWrapper;\n\n    Object.defineProperty(ClassIsWrapper.prototype, Symbol.toStringTag, {\n        get() {\n            return className;\n        },\n    });\n\n    ClassIsWrapper[`is${className}`] = (obj) => !!(obj && obj[symbol]);\n\n    return ClassIsWrapper;\n}\n\nmodule.exports = withIs;\nmodule.exports.proto = withIsProto;\n","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};","/*\r\n\tISC License\r\n\r\n\tCopyright (c) 2019, Pierre-Louis Despaigne\r\n\r\n\tPermission to use, copy, modify, and/or distribute this software for any\r\n\tpurpose with or without fee is hereby granted, provided that the above\r\n\tcopyright notice and this permission notice appear in all copies.\r\n\r\n\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n\tWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n\tMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n\tANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n\tWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n\tACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n\tOR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n*/\r\n\r\nconst CID = require('cids');\r\n\r\n/**\r\n * Take any ipfsHash and convert it to a CID v1 encoded in base32.\r\n * @param {string} ipfsHash a regular ipfs hash either a cid v0 or v1 (v1 will remain unchanged)\r\n * @return {string} the resulting ipfs hash as a cid v1\r\n */\r\nconst cidV0ToV1Base32 = (ipfsHash) => {\r\n\tlet cid = new CID(ipfsHash);\r\n\tif (cid.version === 0) {\r\n\t\tcid = cid.toV1();\r\n\t}\r\n\treturn cid.toString('base32');\r\n}\r\n\r\nexports.cidV0ToV1Base32 = cidV0ToV1Base32;\r\n","/*\r\n\tISC License\r\n\r\n\tCopyright (c) 2019, Pierre-Louis Despaigne\r\n\r\n\tPermission to use, copy, modify, and/or distribute this software for any\r\n\tpurpose with or without fee is hereby granted, provided that the above\r\n\tcopyright notice and this permission notice appear in all copies.\r\n\r\n\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n\tWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n\tMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n\tANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n\tWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n\tACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n\tOR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n*/\r\n\r\nconst multiC = require('multicodec');\r\n\r\nconst { hexStringToBuffer, profiles } = require('./profiles');\r\nconst { cidV0ToV1Base32 } = require('./helpers');\r\n\r\nmodule.exports = {\r\n\r\n\t//export some helpers functions\r\n\thelpers: {\r\n\t\tcidV0ToV1Base32,\r\n\t},\r\n\r\n\t/**\r\n\t* Decode a Content Hash.\r\n\t* @param {string} hash an hex string containing a content hash\r\n\t* @return {string} the decoded content\r\n\t*/\r\n\tdecode: function (contentHash) {\r\n\t\tconst buffer = hexStringToBuffer(contentHash);\r\n\t\tconst codec = multiC.getCodec(buffer);\r\n\t\tconst value = multiC.rmPrefix(buffer);\r\n\t\tlet profile = profiles[codec];\r\n\t\tif (!profile) profile = profiles['default'];\r\n\t\treturn profile.decode(value);\r\n\t},\r\n\r\n\t/**\r\n\t* Encode an IPFS address into a content hash\r\n\t* @param {string} ipfsHash string containing an IPFS address\r\n\t* @return {string} the resulting content hash\r\n\t*/\r\n\tfromIpfs: function (ipfsHash) {\r\n\t\treturn this.encode('ipfs-ns', ipfsHash);\r\n\t},\r\n\r\n\t/**\r\n\t* Encode a Swarm address into a content hash\r\n\t* @param {string} swarmHash string containing a Swarm address\r\n\t* @return {string} the resulting content hash\r\n\t*/\r\n\tfromSwarm: function (swarmHash) {\r\n\t\treturn this.encode('swarm-ns', swarmHash);\r\n\t},\r\n\r\n\t/**\r\n\t* General purpose encoding function\r\n  * @param {string} codec \r\n  * @param {string} value \r\n  */\r\n\tencode: function (codec, value) {\r\n\t\tlet profile = profiles[codec];\r\n\t\tif (!profile) profile = profiles['default'];\r\n\t\tconst encodedValue = profile.encode(value);\r\n\t\treturn multiC.addPrefix(codec, encodedValue).toString('hex');\r\n\t},\r\n\r\n\t/**\r\n\t* Extract the codec of a content hash\r\n\t* @param {string} hash hex string containing a content hash\r\n\t* @return {string} the extracted codec\r\n\t*/\r\n\tgetCodec: function (hash) {\r\n\t\tlet buffer = hexStringToBuffer(hash);\r\n\t\treturn multiC.getCodec(buffer);\r\n\t},\r\n}\r\n","/*\r\n\tISC License\r\n\r\n\tCopyright (c) 2019, Pierre-Louis Despaigne\r\n\r\n\tPermission to use, copy, modify, and/or distribute this software for any\r\n\tpurpose with or without fee is hereby granted, provided that the above\r\n\tcopyright notice and this permission notice appear in all copies.\r\n\r\n\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n\tWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n\tMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n\tANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n\tWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n\tACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n\tOR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n*/\r\n\r\nconst CID = require('cids');\r\nconst multiH = require('multihashes');\r\n\r\n/**\r\n * Convert an hexadecimal string to a Buffer, the string can start with or without '0x'\r\n * @param {string} hex an hexadecimal value\r\n * @return {Buffer} the resulting Buffer\r\n */\r\nconst hexStringToBuffer = (hex) => {\r\n\tlet prefix = hex.slice(0, 2);\r\n\tlet value = hex.slice(2);\r\n\tlet res = '';\r\n\tif (prefix === '0x') res = value;\r\n\telse res = hex;\r\n\treturn multiH.fromHexString(res);\r\n}\r\n\r\n/**\r\n* list of known encoding,\r\n* encoding should be a function that takes a `string` input,\r\n* and return a `Buffer` result\r\n*/\r\nconst encodes = {\r\n  /**\r\n  * @param {string} value\r\n  * @return {Buffer}\r\n  */\r\n  swarm: (value) => {\r\n    const multihash = multiH.encode(hexStringToBuffer(value), 'keccak-256');\r\n\t\treturn new CID(1, 'swarm-manifest', multihash).buffer;\r\n  },\r\n  /**\r\n  * @param {string} value\r\n  * @return {Buffer}\r\n  */\r\n  ipfs: (value) => {\r\n    const multihash = multiH.fromB58String(value);\r\n    return new CID(1, 'dag-pb', multihash).buffer;\r\n  },\r\n  /**\r\n  * @param {string} value\r\n  * @return {Buffer}\r\n  */\r\n  utf8: (value) => {\r\n    return Buffer.from(value, 'utf8');\r\n  },\r\n};\r\n\r\n/** \r\n* list of known decoding,\r\n* decoding should be a function that takes a `Buffer` input,\r\n* and return a `string` result\r\n*/\r\nconst decodes = {\r\n  /**\r\n  * @param {Buffer} value \r\n  */\r\n  hexMultiHash: (value) => {\r\n    const cid = new CID(value);\r\n    return multiH.decode(cid.multihash).digest.toString('hex');\r\n  },\r\n  /**\r\n  * @param {Buffer} value \r\n  */\r\n  b58MultiHash: (value) => {\r\n    const cid = new CID(value);\r\n    return multiH.toB58String(cid.multihash);\r\n  },\r\n  /**\r\n  * @param {Buffer} value \r\n  */\r\n  utf8: (value) => {\r\n    return value.toString('utf8');\r\n  },\r\n};\r\n\r\n/**\r\n* list of known encoding/decoding for a given codec,\r\n* `encode` should be chosen among the `encodes` functions\r\n* `decode` should be chosen among the `decodes` functions\r\n*/\r\nconst profiles = {\r\n  'swarm-ns': {\r\n    encode: encodes.swarm,\r\n    decode: decodes.hexMultiHash,\r\n  },\r\n  'ipfs-ns': {\r\n    encode: encodes.ipfs,\r\n    decode: decodes.b58MultiHash,\r\n  },\r\n  'ipns-ns': {\r\n    encode: encodes.ipfs,\r\n    decode: decodes.b58MultiHash,\r\n  },\r\n  'default': {\r\n    encode: encodes.utf8,\r\n    decode: decodes.utf8,\r\n  },\r\n};\r\n\r\nexports.hexStringToBuffer = hexStringToBuffer;\r\nexports.profiles = profiles;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('buffer').Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported CRC32 */\nvar CRC32;\n(function (factory) {\n\t/*jshint ignore:start */\n\t/*eslint-disable */\n\tif(typeof DO_NOT_EXPORT_CRC === 'undefined') {\n\t\tif('object' === typeof exports) {\n\t\t\tfactory(exports);\n\t\t} else if ('function' === typeof define && define.amd) {\n\t\t\tdefine(function () {\n\t\t\t\tvar module = {};\n\t\t\t\tfactory(module);\n\t\t\t\treturn module;\n\t\t\t});\n\t\t} else {\n\t\t\tfactory(CRC32 = {});\n\t\t}\n\t} else {\n\t\tfactory(CRC32 = {});\n\t}\n\t/*eslint-enable */\n\t/*jshint ignore:end */\n}(function(CRC32) {\nCRC32.version = '1.2.2';\n/*global Int32Array */\nfunction signed_crc_table() {\n\tvar c = 0, table = new Array(256);\n\n\tfor(var n =0; n != 256; ++n){\n\t\tc = n;\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\ttable[n] = c;\n\t}\n\n\treturn typeof Int32Array !== 'undefined' ? new Int32Array(table) : table;\n}\n\nvar T0 = signed_crc_table();\nfunction slice_by_16_tables(T) {\n\tvar c = 0, v = 0, n = 0, table = typeof Int32Array !== 'undefined' ? new Int32Array(4096) : new Array(4096) ;\n\n\tfor(n = 0; n != 256; ++n) table[n] = T[n];\n\tfor(n = 0; n != 256; ++n) {\n\t\tv = T[n];\n\t\tfor(c = 256 + n; c < 4096; c += 256) v = table[c] = (v >>> 8) ^ T[v & 0xFF];\n\t}\n\tvar out = [];\n\tfor(n = 1; n != 16; ++n) out[n - 1] = typeof Int32Array !== 'undefined' ? table.subarray(n * 256, n * 256 + 256) : table.slice(n * 256, n * 256 + 256);\n\treturn out;\n}\nvar TT = slice_by_16_tables(T0);\nvar T1 = TT[0],  T2 = TT[1],  T3 = TT[2],  T4 = TT[3],  T5 = TT[4];\nvar T6 = TT[5],  T7 = TT[6],  T8 = TT[7],  T9 = TT[8],  Ta = TT[9];\nvar Tb = TT[10], Tc = TT[11], Td = TT[12], Te = TT[13], Tf = TT[14];\nfunction crc32_bstr(bstr, seed) {\n\tvar C = seed ^ -1;\n\tfor(var i = 0, L = bstr.length; i < L;) C = (C>>>8) ^ T0[(C^bstr.charCodeAt(i++))&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_buf(B, seed) {\n\tvar C = seed ^ -1, L = B.length - 15, i = 0;\n\tfor(; i < L;) C =\n\t\tTf[B[i++] ^ (C & 255)] ^\n\t\tTe[B[i++] ^ ((C >> 8) & 255)] ^\n\t\tTd[B[i++] ^ ((C >> 16) & 255)] ^\n\t\tTc[B[i++] ^ (C >>> 24)] ^\n\t\tTb[B[i++]] ^ Ta[B[i++]] ^ T9[B[i++]] ^ T8[B[i++]] ^\n\t\tT7[B[i++]] ^ T6[B[i++]] ^ T5[B[i++]] ^ T4[B[i++]] ^\n\t\tT3[B[i++]] ^ T2[B[i++]] ^ T1[B[i++]] ^ T0[B[i++]];\n\tL += 15;\n\twhile(i < L) C = (C>>>8) ^ T0[(C^B[i++])&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_str(str, seed) {\n\tvar C = seed ^ -1;\n\tfor(var i = 0, L = str.length, c = 0, d = 0; i < L;) {\n\t\tc = str.charCodeAt(i++);\n\t\tif(c < 0x80) {\n\t\t\tC = (C>>>8) ^ T0[(C^c)&0xFF];\n\t\t} else if(c < 0x800) {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (192|((c>>6)&31)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64; d = str.charCodeAt(i++)&1023;\n\t\t\tC = (C>>>8) ^ T0[(C ^ (240|((c>>8)&7)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>2)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((d>>6)&15)|((c&3)<<4)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(d&63)))&0xFF];\n\t\t} else {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (224|((c>>12)&15)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>6)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t}\n\t}\n\treturn ~C;\n}\nCRC32.table = T0;\n// $FlowIgnore\nCRC32.bstr = crc32_bstr;\n// $FlowIgnore\nCRC32.buf = crc32_buf;\n// $FlowIgnore\nCRC32.str = crc32_str;\n}));\n","var elliptic = require('elliptic')\nvar BN = require('bn.js')\n\nmodule.exports = function createECDH (curve) {\n  return new ECDH(curve)\n}\n\nvar aliases = {\n  secp256k1: {\n    name: 'secp256k1',\n    byteLength: 32\n  },\n  secp224r1: {\n    name: 'p224',\n    byteLength: 28\n  },\n  prime256v1: {\n    name: 'p256',\n    byteLength: 32\n  },\n  prime192v1: {\n    name: 'p192',\n    byteLength: 24\n  },\n  ed25519: {\n    name: 'ed25519',\n    byteLength: 32\n  },\n  secp384r1: {\n    name: 'p384',\n    byteLength: 48\n  },\n  secp521r1: {\n    name: 'p521',\n    byteLength: 66\n  }\n}\n\naliases.p224 = aliases.secp224r1\naliases.p256 = aliases.secp256r1 = aliases.prime256v1\naliases.p192 = aliases.secp192r1 = aliases.prime192v1\naliases.p384 = aliases.secp384r1\naliases.p521 = aliases.secp521r1\n\nfunction ECDH (curve) {\n  this.curveType = aliases[curve]\n  if (!this.curveType) {\n    this.curveType = {\n      name: curve\n    }\n  }\n  this.curve = new elliptic.ec(this.curveType.name) // eslint-disable-line new-cap\n  this.keys = void 0\n}\n\nECDH.prototype.generateKeys = function (enc, format) {\n  this.keys = this.curve.genKeyPair()\n  return this.getPublicKey(enc, format)\n}\n\nECDH.prototype.computeSecret = function (other, inenc, enc) {\n  inenc = inenc || 'utf8'\n  if (!Buffer.isBuffer(other)) {\n    other = new Buffer(other, inenc)\n  }\n  var otherPub = this.curve.keyFromPublic(other).getPublic()\n  var out = otherPub.mul(this.keys.getPrivate()).getX()\n  return formatReturnValue(out, enc, this.curveType.byteLength)\n}\n\nECDH.prototype.getPublicKey = function (enc, format) {\n  var key = this.keys.getPublic(format === 'compressed', true)\n  if (format === 'hybrid') {\n    if (key[key.length - 1] % 2) {\n      key[0] = 7\n    } else {\n      key[0] = 6\n    }\n  }\n  return formatReturnValue(key, enc)\n}\n\nECDH.prototype.getPrivateKey = function (enc) {\n  return formatReturnValue(this.keys.getPrivate(), enc)\n}\n\nECDH.prototype.setPublicKey = function (pub, enc) {\n  enc = enc || 'utf8'\n  if (!Buffer.isBuffer(pub)) {\n    pub = new Buffer(pub, enc)\n  }\n  this.keys._importPublic(pub)\n  return this\n}\n\nECDH.prototype.setPrivateKey = function (priv, enc) {\n  enc = enc || 'utf8'\n  if (!Buffer.isBuffer(priv)) {\n    priv = new Buffer(priv, enc)\n  }\n\n  var _priv = new BN(priv)\n  _priv = _priv.toString(16)\n  this.keys = this.curve.genKeyPair()\n  this.keys._importPrivate(_priv)\n  return this\n}\n\nfunction formatReturnValue (bn, enc, len) {\n  if (!Array.isArray(bn)) {\n    bn = bn.toArray()\n  }\n  var buf = new Buffer(bn)\n  if (len && buf.length < len) {\n    var zeros = new Buffer(len - buf.length)\n    zeros.fill(0)\n    buf = Buffer.concat([zeros, buf])\n  }\n  if (!enc) {\n    return buf\n  } else {\n    return buf.toString(enc)\n  }\n}\n","'use strict'\nvar inherits = require('inherits')\nvar MD5 = require('md5.js')\nvar RIPEMD160 = require('ripemd160')\nvar sha = require('sha.js')\nvar Base = require('cipher-base')\n\nfunction Hash (hash) {\n  Base.call(this, 'digest')\n\n  this._hash = hash\n}\n\ninherits(Hash, Base)\n\nHash.prototype._update = function (data) {\n  this._hash.update(data)\n}\n\nHash.prototype._final = function () {\n  return this._hash.digest()\n}\n\nmodule.exports = function createHash (alg) {\n  alg = alg.toLowerCase()\n  if (alg === 'md5') return new MD5()\n  if (alg === 'rmd160' || alg === 'ripemd160') return new RIPEMD160()\n\n  return new Hash(sha(alg))\n}\n","var MD5 = require('md5.js')\n\nmodule.exports = function (buffer) {\n  return new MD5().update(buffer).digest()\n}\n","'use strict'\nvar inherits = require('inherits')\nvar Legacy = require('./legacy')\nvar Base = require('cipher-base')\nvar Buffer = require('safe-buffer').Buffer\nvar md5 = require('create-hash/md5')\nvar RIPEMD160 = require('ripemd160')\n\nvar sha = require('sha.js')\n\nvar ZEROS = Buffer.alloc(128)\n\nfunction Hmac (alg, key) {\n  Base.call(this, 'digest')\n  if (typeof key === 'string') {\n    key = Buffer.from(key)\n  }\n\n  var blocksize = (alg === 'sha512' || alg === 'sha384') ? 128 : 64\n\n  this._alg = alg\n  this._key = key\n  if (key.length > blocksize) {\n    var hash = alg === 'rmd160' ? new RIPEMD160() : sha(alg)\n    key = hash.update(key).digest()\n  } else if (key.length < blocksize) {\n    key = Buffer.concat([key, ZEROS], blocksize)\n  }\n\n  var ipad = this._ipad = Buffer.allocUnsafe(blocksize)\n  var opad = this._opad = Buffer.allocUnsafe(blocksize)\n\n  for (var i = 0; i < blocksize; i++) {\n    ipad[i] = key[i] ^ 0x36\n    opad[i] = key[i] ^ 0x5C\n  }\n  this._hash = alg === 'rmd160' ? new RIPEMD160() : sha(alg)\n  this._hash.update(ipad)\n}\n\ninherits(Hmac, Base)\n\nHmac.prototype._update = function (data) {\n  this._hash.update(data)\n}\n\nHmac.prototype._final = function () {\n  var h = this._hash.digest()\n  var hash = this._alg === 'rmd160' ? new RIPEMD160() : sha(this._alg)\n  return hash.update(this._opad).update(h).digest()\n}\n\nmodule.exports = function createHmac (alg, key) {\n  alg = alg.toLowerCase()\n  if (alg === 'rmd160' || alg === 'ripemd160') {\n    return new Hmac('rmd160', key)\n  }\n  if (alg === 'md5') {\n    return new Legacy(md5, key)\n  }\n  return new Hmac(alg, key)\n}\n","'use strict'\nvar inherits = require('inherits')\nvar Buffer = require('safe-buffer').Buffer\n\nvar Base = require('cipher-base')\n\nvar ZEROS = Buffer.alloc(128)\nvar blocksize = 64\n\nfunction Hmac (alg, key) {\n  Base.call(this, 'digest')\n  if (typeof key === 'string') {\n    key = Buffer.from(key)\n  }\n\n  this._alg = alg\n  this._key = key\n\n  if (key.length > blocksize) {\n    key = alg(key)\n  } else if (key.length < blocksize) {\n    key = Buffer.concat([key, ZEROS], blocksize)\n  }\n\n  var ipad = this._ipad = Buffer.allocUnsafe(blocksize)\n  var opad = this._opad = Buffer.allocUnsafe(blocksize)\n\n  for (var i = 0; i < blocksize; i++) {\n    ipad[i] = key[i] ^ 0x36\n    opad[i] = key[i] ^ 0x5C\n  }\n\n  this._hash = [ipad]\n}\n\ninherits(Hmac, Base)\n\nHmac.prototype._update = function (data) {\n  this._hash.push(data)\n}\n\nHmac.prototype._final = function () {\n  var h = this._alg(Buffer.concat(this._hash))\n  return this._alg(Buffer.concat([this._opad, h]))\n}\nmodule.exports = Hmac\n","'use strict'\n\nexports.randomBytes = exports.rng = exports.pseudoRandomBytes = exports.prng = require('randombytes')\nexports.createHash = exports.Hash = require('create-hash')\nexports.createHmac = exports.Hmac = require('create-hmac')\n\nvar algos = require('browserify-sign/algos')\nvar algoKeys = Object.keys(algos)\nvar hashes = ['sha1', 'sha224', 'sha256', 'sha384', 'sha512', 'md5', 'rmd160'].concat(algoKeys)\nexports.getHashes = function () {\n  return hashes\n}\n\nvar p = require('pbkdf2')\nexports.pbkdf2 = p.pbkdf2\nexports.pbkdf2Sync = p.pbkdf2Sync\n\nvar aes = require('browserify-cipher')\n\nexports.Cipher = aes.Cipher\nexports.createCipher = aes.createCipher\nexports.Cipheriv = aes.Cipheriv\nexports.createCipheriv = aes.createCipheriv\nexports.Decipher = aes.Decipher\nexports.createDecipher = aes.createDecipher\nexports.Decipheriv = aes.Decipheriv\nexports.createDecipheriv = aes.createDecipheriv\nexports.getCiphers = aes.getCiphers\nexports.listCiphers = aes.listCiphers\n\nvar dh = require('diffie-hellman')\n\nexports.DiffieHellmanGroup = dh.DiffieHellmanGroup\nexports.createDiffieHellmanGroup = dh.createDiffieHellmanGroup\nexports.getDiffieHellman = dh.getDiffieHellman\nexports.createDiffieHellman = dh.createDiffieHellman\nexports.DiffieHellman = dh.DiffieHellman\n\nvar sign = require('browserify-sign')\n\nexports.createSign = sign.createSign\nexports.Sign = sign.Sign\nexports.createVerify = sign.createVerify\nexports.Verify = sign.Verify\n\nexports.createECDH = require('create-ecdh')\n\nvar publicEncrypt = require('public-encrypt')\n\nexports.publicEncrypt = publicEncrypt.publicEncrypt\nexports.privateEncrypt = publicEncrypt.privateEncrypt\nexports.publicDecrypt = publicEncrypt.publicDecrypt\nexports.privateDecrypt = publicEncrypt.privateDecrypt\n\n// the least I can do is make error messages for the rest of the node.js/crypto api.\n// ;[\n//   'createCredentials'\n// ].forEach(function (name) {\n//   exports[name] = function () {\n//     throw new Error([\n//       'sorry, ' + name + ' is not implemented yet',\n//       'we accept pull requests',\n//       'https://github.com/crypto-browserify/crypto-browserify'\n//     ].join('\\n'))\n//   }\n// })\n\nvar rf = require('randomfill')\n\nexports.randomFill = rf.randomFill\nexports.randomFillSync = rf.randomFillSync\n\nexports.createCredentials = function () {\n  throw new Error([\n    'sorry, createCredentials is not implemented yet',\n    'we accept pull requests',\n    'https://github.com/crypto-browserify/crypto-browserify'\n  ].join('\\n'))\n}\n\nexports.constants = {\n  'DH_CHECK_P_NOT_SAFE_PRIME': 2,\n  'DH_CHECK_P_NOT_PRIME': 1,\n  'DH_UNABLE_TO_CHECK_GENERATOR': 4,\n  'DH_NOT_SUITABLE_GENERATOR': 8,\n  'NPN_ENABLED': 1,\n  'ALPN_ENABLED': 1,\n  'RSA_PKCS1_PADDING': 1,\n  'RSA_SSLV23_PADDING': 2,\n  'RSA_NO_PADDING': 3,\n  'RSA_PKCS1_OAEP_PADDING': 4,\n  'RSA_X931_PADDING': 5,\n  'RSA_PKCS1_PSS_PADDING': 6,\n  'POINT_CONVERSION_COMPRESSED': 2,\n  'POINT_CONVERSION_UNCOMPRESSED': 4,\n  'POINT_CONVERSION_HYBRID': 6\n}\n","/* eslint-env browser */\n/* global globalThis:readonly */\n'use strict';\n\n// Ponyfill for `globalThis`\nconst _globalThis = (() => {\n\tif (typeof globalThis !== 'undefined') {\n\t\treturn globalThis;\n\t}\n\n\tif (typeof self !== 'undefined') {\n\t\treturn self;\n\t}\n\n\t/* istanbul ignore next */\n\tif (typeof window !== 'undefined') {\n\t\treturn window;\n\t}\n\n\t/* istanbul ignore next */\n\tif (typeof global !== 'undefined') {\n\t\treturn global;\n\t}\n})();\n\nconst bufferToHex = buffer => {\n\tconst view = new DataView(buffer);\n\n\tlet hexCodes = '';\n\tfor (let i = 0; i < view.byteLength; i += 4) {\n\t\thexCodes += view.getUint32(i).toString(16).padStart(8, '0');\n\t}\n\n\treturn hexCodes;\n};\n\nconst create = algorithm => async (buffer, options) => {\n\tif (typeof buffer === 'string') {\n\t\tbuffer = new _globalThis.TextEncoder().encode(buffer);\n\t}\n\n\toptions = {\n\t\toutputFormat: 'hex',\n\t\t...options\n\t};\n\n\tconst hash = await _globalThis.crypto.subtle.digest(algorithm, buffer);\n\n\treturn options.outputFormat === 'hex' ? bufferToHex(hash) : hash;\n};\n\nexports.sha1 = create('SHA-1');\nexports.sha256 = create('SHA-256');\nexports.sha384 = create('SHA-384');\nexports.sha512 = create('SHA-512');\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher) || [];\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar hasPropertyDescriptors = require('has-property-descriptors')();\n\nvar supportsDescriptors = origDefineProperty && hasPropertyDescriptors;\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object) {\n\t\tif (predicate === true) {\n\t\t\tif (object[name] === value) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if (!isFunction(predicate) || !predicate()) {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value; // eslint-disable-line no-param-reassign\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nexports.utils = require('./des/utils');\nexports.Cipher = require('./des/cipher');\nexports.DES = require('./des/des');\nexports.CBC = require('./des/cbc');\nexports.EDE = require('./des/ede');\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nvar proto = {};\n\nfunction CBCState(iv) {\n  assert.equal(iv.length, 8, 'Invalid IV length');\n\n  this.iv = new Array(8);\n  for (var i = 0; i < this.iv.length; i++)\n    this.iv[i] = iv[i];\n}\n\nfunction instantiate(Base) {\n  function CBC(options) {\n    Base.call(this, options);\n    this._cbcInit();\n  }\n  inherits(CBC, Base);\n\n  var keys = Object.keys(proto);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    CBC.prototype[key] = proto[key];\n  }\n\n  CBC.create = function create(options) {\n    return new CBC(options);\n  };\n\n  return CBC;\n}\n\nexports.instantiate = instantiate;\n\nproto._cbcInit = function _cbcInit() {\n  var state = new CBCState(this.options.iv);\n  this._cbcState = state;\n};\n\nproto._update = function _update(inp, inOff, out, outOff) {\n  var state = this._cbcState;\n  var superProto = this.constructor.super_.prototype;\n\n  var iv = state.iv;\n  if (this.type === 'encrypt') {\n    for (var i = 0; i < this.blockSize; i++)\n      iv[i] ^= inp[inOff + i];\n\n    superProto._update.call(this, iv, 0, out, outOff);\n\n    for (var i = 0; i < this.blockSize; i++)\n      iv[i] = out[outOff + i];\n  } else {\n    superProto._update.call(this, inp, inOff, out, outOff);\n\n    for (var i = 0; i < this.blockSize; i++)\n      out[outOff + i] ^= iv[i];\n\n    for (var i = 0; i < this.blockSize; i++)\n      iv[i] = inp[inOff + i];\n  }\n};\n","'use strict';\n\nvar assert = require('minimalistic-assert');\n\nfunction Cipher(options) {\n  this.options = options;\n\n  this.type = this.options.type;\n  this.blockSize = 8;\n  this._init();\n\n  this.buffer = new Array(this.blockSize);\n  this.bufferOff = 0;\n}\nmodule.exports = Cipher;\n\nCipher.prototype._init = function _init() {\n  // Might be overrided\n};\n\nCipher.prototype.update = function update(data) {\n  if (data.length === 0)\n    return [];\n\n  if (this.type === 'decrypt')\n    return this._updateDecrypt(data);\n  else\n    return this._updateEncrypt(data);\n};\n\nCipher.prototype._buffer = function _buffer(data, off) {\n  // Append data to buffer\n  var min = Math.min(this.buffer.length - this.bufferOff, data.length - off);\n  for (var i = 0; i < min; i++)\n    this.buffer[this.bufferOff + i] = data[off + i];\n  this.bufferOff += min;\n\n  // Shift next\n  return min;\n};\n\nCipher.prototype._flushBuffer = function _flushBuffer(out, off) {\n  this._update(this.buffer, 0, out, off);\n  this.bufferOff = 0;\n  return this.blockSize;\n};\n\nCipher.prototype._updateEncrypt = function _updateEncrypt(data) {\n  var inputOff = 0;\n  var outputOff = 0;\n\n  var count = ((this.bufferOff + data.length) / this.blockSize) | 0;\n  var out = new Array(count * this.blockSize);\n\n  if (this.bufferOff !== 0) {\n    inputOff += this._buffer(data, inputOff);\n\n    if (this.bufferOff === this.buffer.length)\n      outputOff += this._flushBuffer(out, outputOff);\n  }\n\n  // Write blocks\n  var max = data.length - ((data.length - inputOff) % this.blockSize);\n  for (; inputOff < max; inputOff += this.blockSize) {\n    this._update(data, inputOff, out, outputOff);\n    outputOff += this.blockSize;\n  }\n\n  // Queue rest\n  for (; inputOff < data.length; inputOff++, this.bufferOff++)\n    this.buffer[this.bufferOff] = data[inputOff];\n\n  return out;\n};\n\nCipher.prototype._updateDecrypt = function _updateDecrypt(data) {\n  var inputOff = 0;\n  var outputOff = 0;\n\n  var count = Math.ceil((this.bufferOff + data.length) / this.blockSize) - 1;\n  var out = new Array(count * this.blockSize);\n\n  // TODO(indutny): optimize it, this is far from optimal\n  for (; count > 0; count--) {\n    inputOff += this._buffer(data, inputOff);\n    outputOff += this._flushBuffer(out, outputOff);\n  }\n\n  // Buffer rest of the input\n  inputOff += this._buffer(data, inputOff);\n\n  return out;\n};\n\nCipher.prototype.final = function final(buffer) {\n  var first;\n  if (buffer)\n    first = this.update(buffer);\n\n  var last;\n  if (this.type === 'encrypt')\n    last = this._finalEncrypt();\n  else\n    last = this._finalDecrypt();\n\n  if (first)\n    return first.concat(last);\n  else\n    return last;\n};\n\nCipher.prototype._pad = function _pad(buffer, off) {\n  if (off === 0)\n    return false;\n\n  while (off < buffer.length)\n    buffer[off++] = 0;\n\n  return true;\n};\n\nCipher.prototype._finalEncrypt = function _finalEncrypt() {\n  if (!this._pad(this.buffer, this.bufferOff))\n    return [];\n\n  var out = new Array(this.blockSize);\n  this._update(this.buffer, 0, out, 0);\n  return out;\n};\n\nCipher.prototype._unpad = function _unpad(buffer) {\n  return buffer;\n};\n\nCipher.prototype._finalDecrypt = function _finalDecrypt() {\n  assert.equal(this.bufferOff, this.blockSize, 'Not enough data to decrypt');\n  var out = new Array(this.blockSize);\n  this._flushBuffer(out, 0);\n\n  return this._unpad(out);\n};\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nvar utils = require('./utils');\nvar Cipher = require('./cipher');\n\nfunction DESState() {\n  this.tmp = new Array(2);\n  this.keys = null;\n}\n\nfunction DES(options) {\n  Cipher.call(this, options);\n\n  var state = new DESState();\n  this._desState = state;\n\n  this.deriveKeys(state, options.key);\n}\ninherits(DES, Cipher);\nmodule.exports = DES;\n\nDES.create = function create(options) {\n  return new DES(options);\n};\n\nvar shiftTable = [\n  1, 1, 2, 2, 2, 2, 2, 2,\n  1, 2, 2, 2, 2, 2, 2, 1\n];\n\nDES.prototype.deriveKeys = function deriveKeys(state, key) {\n  state.keys = new Array(16 * 2);\n\n  assert.equal(key.length, this.blockSize, 'Invalid key length');\n\n  var kL = utils.readUInt32BE(key, 0);\n  var kR = utils.readUInt32BE(key, 4);\n\n  utils.pc1(kL, kR, state.tmp, 0);\n  kL = state.tmp[0];\n  kR = state.tmp[1];\n  for (var i = 0; i < state.keys.length; i += 2) {\n    var shift = shiftTable[i >>> 1];\n    kL = utils.r28shl(kL, shift);\n    kR = utils.r28shl(kR, shift);\n    utils.pc2(kL, kR, state.keys, i);\n  }\n};\n\nDES.prototype._update = function _update(inp, inOff, out, outOff) {\n  var state = this._desState;\n\n  var l = utils.readUInt32BE(inp, inOff);\n  var r = utils.readUInt32BE(inp, inOff + 4);\n\n  // Initial Permutation\n  utils.ip(l, r, state.tmp, 0);\n  l = state.tmp[0];\n  r = state.tmp[1];\n\n  if (this.type === 'encrypt')\n    this._encrypt(state, l, r, state.tmp, 0);\n  else\n    this._decrypt(state, l, r, state.tmp, 0);\n\n  l = state.tmp[0];\n  r = state.tmp[1];\n\n  utils.writeUInt32BE(out, l, outOff);\n  utils.writeUInt32BE(out, r, outOff + 4);\n};\n\nDES.prototype._pad = function _pad(buffer, off) {\n  var value = buffer.length - off;\n  for (var i = off; i < buffer.length; i++)\n    buffer[i] = value;\n\n  return true;\n};\n\nDES.prototype._unpad = function _unpad(buffer) {\n  var pad = buffer[buffer.length - 1];\n  for (var i = buffer.length - pad; i < buffer.length; i++)\n    assert.equal(buffer[i], pad);\n\n  return buffer.slice(0, buffer.length - pad);\n};\n\nDES.prototype._encrypt = function _encrypt(state, lStart, rStart, out, off) {\n  var l = lStart;\n  var r = rStart;\n\n  // Apply f() x16 times\n  for (var i = 0; i < state.keys.length; i += 2) {\n    var keyL = state.keys[i];\n    var keyR = state.keys[i + 1];\n\n    // f(r, k)\n    utils.expand(r, state.tmp, 0);\n\n    keyL ^= state.tmp[0];\n    keyR ^= state.tmp[1];\n    var s = utils.substitute(keyL, keyR);\n    var f = utils.permute(s);\n\n    var t = r;\n    r = (l ^ f) >>> 0;\n    l = t;\n  }\n\n  // Reverse Initial Permutation\n  utils.rip(r, l, out, off);\n};\n\nDES.prototype._decrypt = function _decrypt(state, lStart, rStart, out, off) {\n  var l = rStart;\n  var r = lStart;\n\n  // Apply f() x16 times\n  for (var i = state.keys.length - 2; i >= 0; i -= 2) {\n    var keyL = state.keys[i];\n    var keyR = state.keys[i + 1];\n\n    // f(r, k)\n    utils.expand(l, state.tmp, 0);\n\n    keyL ^= state.tmp[0];\n    keyR ^= state.tmp[1];\n    var s = utils.substitute(keyL, keyR);\n    var f = utils.permute(s);\n\n    var t = l;\n    l = (r ^ f) >>> 0;\n    r = t;\n  }\n\n  // Reverse Initial Permutation\n  utils.rip(l, r, out, off);\n};\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nvar Cipher = require('./cipher');\nvar DES = require('./des');\n\nfunction EDEState(type, key) {\n  assert.equal(key.length, 24, 'Invalid key length');\n\n  var k1 = key.slice(0, 8);\n  var k2 = key.slice(8, 16);\n  var k3 = key.slice(16, 24);\n\n  if (type === 'encrypt') {\n    this.ciphers = [\n      DES.create({ type: 'encrypt', key: k1 }),\n      DES.create({ type: 'decrypt', key: k2 }),\n      DES.create({ type: 'encrypt', key: k3 })\n    ];\n  } else {\n    this.ciphers = [\n      DES.create({ type: 'decrypt', key: k3 }),\n      DES.create({ type: 'encrypt', key: k2 }),\n      DES.create({ type: 'decrypt', key: k1 })\n    ];\n  }\n}\n\nfunction EDE(options) {\n  Cipher.call(this, options);\n\n  var state = new EDEState(this.type, this.options.key);\n  this._edeState = state;\n}\ninherits(EDE, Cipher);\n\nmodule.exports = EDE;\n\nEDE.create = function create(options) {\n  return new EDE(options);\n};\n\nEDE.prototype._update = function _update(inp, inOff, out, outOff) {\n  var state = this._edeState;\n\n  state.ciphers[0]._update(inp, inOff, out, outOff);\n  state.ciphers[1]._update(out, outOff, out, outOff);\n  state.ciphers[2]._update(out, outOff, out, outOff);\n};\n\nEDE.prototype._pad = DES.prototype._pad;\nEDE.prototype._unpad = DES.prototype._unpad;\n","'use strict';\n\nexports.readUInt32BE = function readUInt32BE(bytes, off) {\n  var res =  (bytes[0 + off] << 24) |\n             (bytes[1 + off] << 16) |\n             (bytes[2 + off] << 8) |\n             bytes[3 + off];\n  return res >>> 0;\n};\n\nexports.writeUInt32BE = function writeUInt32BE(bytes, value, off) {\n  bytes[0 + off] = value >>> 24;\n  bytes[1 + off] = (value >>> 16) & 0xff;\n  bytes[2 + off] = (value >>> 8) & 0xff;\n  bytes[3 + off] = value & 0xff;\n};\n\nexports.ip = function ip(inL, inR, out, off) {\n  var outL = 0;\n  var outR = 0;\n\n  for (var i = 6; i >= 0; i -= 2) {\n    for (var j = 0; j <= 24; j += 8) {\n      outL <<= 1;\n      outL |= (inR >>> (j + i)) & 1;\n    }\n    for (var j = 0; j <= 24; j += 8) {\n      outL <<= 1;\n      outL |= (inL >>> (j + i)) & 1;\n    }\n  }\n\n  for (var i = 6; i >= 0; i -= 2) {\n    for (var j = 1; j <= 25; j += 8) {\n      outR <<= 1;\n      outR |= (inR >>> (j + i)) & 1;\n    }\n    for (var j = 1; j <= 25; j += 8) {\n      outR <<= 1;\n      outR |= (inL >>> (j + i)) & 1;\n    }\n  }\n\n  out[off + 0] = outL >>> 0;\n  out[off + 1] = outR >>> 0;\n};\n\nexports.rip = function rip(inL, inR, out, off) {\n  var outL = 0;\n  var outR = 0;\n\n  for (var i = 0; i < 4; i++) {\n    for (var j = 24; j >= 0; j -= 8) {\n      outL <<= 1;\n      outL |= (inR >>> (j + i)) & 1;\n      outL <<= 1;\n      outL |= (inL >>> (j + i)) & 1;\n    }\n  }\n  for (var i = 4; i < 8; i++) {\n    for (var j = 24; j >= 0; j -= 8) {\n      outR <<= 1;\n      outR |= (inR >>> (j + i)) & 1;\n      outR <<= 1;\n      outR |= (inL >>> (j + i)) & 1;\n    }\n  }\n\n  out[off + 0] = outL >>> 0;\n  out[off + 1] = outR >>> 0;\n};\n\nexports.pc1 = function pc1(inL, inR, out, off) {\n  var outL = 0;\n  var outR = 0;\n\n  // 7, 15, 23, 31, 39, 47, 55, 63\n  // 6, 14, 22, 30, 39, 47, 55, 63\n  // 5, 13, 21, 29, 39, 47, 55, 63\n  // 4, 12, 20, 28\n  for (var i = 7; i >= 5; i--) {\n    for (var j = 0; j <= 24; j += 8) {\n      outL <<= 1;\n      outL |= (inR >> (j + i)) & 1;\n    }\n    for (var j = 0; j <= 24; j += 8) {\n      outL <<= 1;\n      outL |= (inL >> (j + i)) & 1;\n    }\n  }\n  for (var j = 0; j <= 24; j += 8) {\n    outL <<= 1;\n    outL |= (inR >> (j + i)) & 1;\n  }\n\n  // 1, 9, 17, 25, 33, 41, 49, 57\n  // 2, 10, 18, 26, 34, 42, 50, 58\n  // 3, 11, 19, 27, 35, 43, 51, 59\n  // 36, 44, 52, 60\n  for (var i = 1; i <= 3; i++) {\n    for (var j = 0; j <= 24; j += 8) {\n      outR <<= 1;\n      outR |= (inR >> (j + i)) & 1;\n    }\n    for (var j = 0; j <= 24; j += 8) {\n      outR <<= 1;\n      outR |= (inL >> (j + i)) & 1;\n    }\n  }\n  for (var j = 0; j <= 24; j += 8) {\n    outR <<= 1;\n    outR |= (inL >> (j + i)) & 1;\n  }\n\n  out[off + 0] = outL >>> 0;\n  out[off + 1] = outR >>> 0;\n};\n\nexports.r28shl = function r28shl(num, shift) {\n  return ((num << shift) & 0xfffffff) | (num >>> (28 - shift));\n};\n\nvar pc2table = [\n  // inL => outL\n  14, 11, 17, 4, 27, 23, 25, 0,\n  13, 22, 7, 18, 5, 9, 16, 24,\n  2, 20, 12, 21, 1, 8, 15, 26,\n\n  // inR => outR\n  15, 4, 25, 19, 9, 1, 26, 16,\n  5, 11, 23, 8, 12, 7, 17, 0,\n  22, 3, 10, 14, 6, 20, 27, 24\n];\n\nexports.pc2 = function pc2(inL, inR, out, off) {\n  var outL = 0;\n  var outR = 0;\n\n  var len = pc2table.length >>> 1;\n  for (var i = 0; i < len; i++) {\n    outL <<= 1;\n    outL |= (inL >>> pc2table[i]) & 0x1;\n  }\n  for (var i = len; i < pc2table.length; i++) {\n    outR <<= 1;\n    outR |= (inR >>> pc2table[i]) & 0x1;\n  }\n\n  out[off + 0] = outL >>> 0;\n  out[off + 1] = outR >>> 0;\n};\n\nexports.expand = function expand(r, out, off) {\n  var outL = 0;\n  var outR = 0;\n\n  outL = ((r & 1) << 5) | (r >>> 27);\n  for (var i = 23; i >= 15; i -= 4) {\n    outL <<= 6;\n    outL |= (r >>> i) & 0x3f;\n  }\n  for (var i = 11; i >= 3; i -= 4) {\n    outR |= (r >>> i) & 0x3f;\n    outR <<= 6;\n  }\n  outR |= ((r & 0x1f) << 1) | (r >>> 31);\n\n  out[off + 0] = outL >>> 0;\n  out[off + 1] = outR >>> 0;\n};\n\nvar sTable = [\n  14, 0, 4, 15, 13, 7, 1, 4, 2, 14, 15, 2, 11, 13, 8, 1,\n  3, 10, 10, 6, 6, 12, 12, 11, 5, 9, 9, 5, 0, 3, 7, 8,\n  4, 15, 1, 12, 14, 8, 8, 2, 13, 4, 6, 9, 2, 1, 11, 7,\n  15, 5, 12, 11, 9, 3, 7, 14, 3, 10, 10, 0, 5, 6, 0, 13,\n\n  15, 3, 1, 13, 8, 4, 14, 7, 6, 15, 11, 2, 3, 8, 4, 14,\n  9, 12, 7, 0, 2, 1, 13, 10, 12, 6, 0, 9, 5, 11, 10, 5,\n  0, 13, 14, 8, 7, 10, 11, 1, 10, 3, 4, 15, 13, 4, 1, 2,\n  5, 11, 8, 6, 12, 7, 6, 12, 9, 0, 3, 5, 2, 14, 15, 9,\n\n  10, 13, 0, 7, 9, 0, 14, 9, 6, 3, 3, 4, 15, 6, 5, 10,\n  1, 2, 13, 8, 12, 5, 7, 14, 11, 12, 4, 11, 2, 15, 8, 1,\n  13, 1, 6, 10, 4, 13, 9, 0, 8, 6, 15, 9, 3, 8, 0, 7,\n  11, 4, 1, 15, 2, 14, 12, 3, 5, 11, 10, 5, 14, 2, 7, 12,\n\n  7, 13, 13, 8, 14, 11, 3, 5, 0, 6, 6, 15, 9, 0, 10, 3,\n  1, 4, 2, 7, 8, 2, 5, 12, 11, 1, 12, 10, 4, 14, 15, 9,\n  10, 3, 6, 15, 9, 0, 0, 6, 12, 10, 11, 1, 7, 13, 13, 8,\n  15, 9, 1, 4, 3, 5, 14, 11, 5, 12, 2, 7, 8, 2, 4, 14,\n\n  2, 14, 12, 11, 4, 2, 1, 12, 7, 4, 10, 7, 11, 13, 6, 1,\n  8, 5, 5, 0, 3, 15, 15, 10, 13, 3, 0, 9, 14, 8, 9, 6,\n  4, 11, 2, 8, 1, 12, 11, 7, 10, 1, 13, 14, 7, 2, 8, 13,\n  15, 6, 9, 15, 12, 0, 5, 9, 6, 10, 3, 4, 0, 5, 14, 3,\n\n  12, 10, 1, 15, 10, 4, 15, 2, 9, 7, 2, 12, 6, 9, 8, 5,\n  0, 6, 13, 1, 3, 13, 4, 14, 14, 0, 7, 11, 5, 3, 11, 8,\n  9, 4, 14, 3, 15, 2, 5, 12, 2, 9, 8, 5, 12, 15, 3, 10,\n  7, 11, 0, 14, 4, 1, 10, 7, 1, 6, 13, 0, 11, 8, 6, 13,\n\n  4, 13, 11, 0, 2, 11, 14, 7, 15, 4, 0, 9, 8, 1, 13, 10,\n  3, 14, 12, 3, 9, 5, 7, 12, 5, 2, 10, 15, 6, 8, 1, 6,\n  1, 6, 4, 11, 11, 13, 13, 8, 12, 1, 3, 4, 7, 10, 14, 7,\n  10, 9, 15, 5, 6, 0, 8, 15, 0, 14, 5, 2, 9, 3, 2, 12,\n\n  13, 1, 2, 15, 8, 13, 4, 8, 6, 10, 15, 3, 11, 7, 1, 4,\n  10, 12, 9, 5, 3, 6, 14, 11, 5, 0, 0, 14, 12, 9, 7, 2,\n  7, 2, 11, 1, 4, 14, 1, 7, 9, 4, 12, 10, 14, 8, 2, 13,\n  0, 15, 6, 12, 10, 9, 13, 0, 15, 3, 3, 5, 5, 6, 8, 11\n];\n\nexports.substitute = function substitute(inL, inR) {\n  var out = 0;\n  for (var i = 0; i < 4; i++) {\n    var b = (inL >>> (18 - i * 6)) & 0x3f;\n    var sb = sTable[i * 0x40 + b];\n\n    out <<= 4;\n    out |= sb;\n  }\n  for (var i = 0; i < 4; i++) {\n    var b = (inR >>> (18 - i * 6)) & 0x3f;\n    var sb = sTable[4 * 0x40 + i * 0x40 + b];\n\n    out <<= 4;\n    out |= sb;\n  }\n  return out >>> 0;\n};\n\nvar permuteTable = [\n  16, 25, 12, 11, 3, 20, 4, 15, 31, 17, 9, 6, 27, 14, 1, 22,\n  30, 24, 8, 18, 0, 5, 29, 23, 13, 19, 2, 26, 10, 21, 28, 7\n];\n\nexports.permute = function permute(num) {\n  var out = 0;\n  for (var i = 0; i < permuteTable.length; i++) {\n    out <<= 1;\n    out |= (num >>> permuteTable[i]) & 0x1;\n  }\n  return out >>> 0;\n};\n\nexports.padSplit = function padSplit(num, size, group) {\n  var str = num.toString(2);\n  while (str.length < size)\n    str = '0' + str;\n\n  var out = [];\n  for (var i = 0; i < size; i += group)\n    out.push(str.slice(i, i + group));\n  return out.join(' ');\n};\n","function detect() {\n  if (typeof navigator !== 'undefined') {\n    return parseUserAgent(navigator.userAgent);\n  }\n\n  return getNodeVersion();\n}\n\nfunction detectOS(userAgentString) {\n  var rules = getOperatingSystemRules();\n  var detected = rules.filter(function (os) {\n    return os.rule && os.rule.test(userAgentString);\n  })[0];\n\n  return detected ? detected.name : null;\n}\n\nfunction getNodeVersion() {\n  var isNode = typeof process !== 'undefined' && process.version;\n  return isNode && {\n    name: 'node',\n    version: process.version.slice(1),\n    os: process.platform\n  };\n}\n\nfunction parseUserAgent(userAgentString) {\n  var browsers = getBrowserRules();\n  if (!userAgentString) {\n    return null;\n  }\n\n  var detected = browsers.map(function(browser) {\n    var match = browser.rule.exec(userAgentString);\n    var version = match && match[1].split(/[._]/).slice(0,3);\n\n    if (version && version.length < 3) {\n      version = version.concat(version.length == 1 ? [0, 0] : [0]);\n    }\n\n    return match && {\n      name: browser.name,\n      version: version.join('.')\n    };\n  }).filter(Boolean)[0] || null;\n\n  if (detected) {\n    detected.os = detectOS(userAgentString);\n  }\n\n  if (/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(userAgentString)) {\n    detected = detected || {};\n    detected.bot = true;\n  }\n\n  return detected;\n}\n\nfunction getBrowserRules() {\n  return buildRules([\n    [ 'aol', /AOLShield\\/([0-9\\._]+)/ ],\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'samsung', /SamsungBrowser\\/([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ],\n    [ 'facebook', /FBAV\\/([0-9\\.]+)/],\n    [ 'instagram', /Instagram\\s([0-9\\.]+)/],\n    [ 'ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/]\n  ]);\n}\n\nfunction getOperatingSystemRules() {\n  return buildRules([\n    [ 'iOS', /iP(hone|od|ad)/ ],\n    [ 'Android OS', /Android/ ],\n    [ 'BlackBerry OS', /BlackBerry|BB10/ ],\n    [ 'Windows Mobile', /IEMobile/ ],\n    [ 'Amazon OS', /Kindle/ ],\n    [ 'Windows 3.11', /Win16/ ],\n    [ 'Windows 95', /(Windows 95)|(Win95)|(Windows_95)/ ],\n    [ 'Windows 98', /(Windows 98)|(Win98)/ ],\n    [ 'Windows 2000', /(Windows NT 5.0)|(Windows 2000)/ ],\n    [ 'Windows XP', /(Windows NT 5.1)|(Windows XP)/ ],\n    [ 'Windows Server 2003', /(Windows NT 5.2)/ ],\n    [ 'Windows Vista', /(Windows NT 6.0)/ ],\n    [ 'Windows 7', /(Windows NT 6.1)/ ],\n    [ 'Windows 8', /(Windows NT 6.2)/ ],\n    [ 'Windows 8.1', /(Windows NT 6.3)/ ],\n    [ 'Windows 10', /(Windows NT 10.0)/ ],\n    [ 'Windows ME', /Windows ME/ ],\n    [ 'Open BSD', /OpenBSD/ ],\n    [ 'Sun OS', /SunOS/ ],\n    [ 'Linux', /(Linux)|(X11)/ ],\n    [ 'Mac OS', /(Mac_PowerPC)|(Macintosh)/ ],\n    [ 'QNX', /QNX/ ],\n    [ 'BeOS', /BeOS/ ],\n    [ 'OS/2', /OS\\/2/ ],\n    [ 'Search Bot', /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/ ]\n  ]);\n}\n\nfunction buildRules(ruleTuples) {\n  return ruleTuples.map(function(tuple) {\n    return {\n      name: tuple[0],\n      rule: tuple[1]\n    };\n  });\n}\n\nmodule.exports = {\n  detect: detect,\n  detectOS: detectOS,\n  getNodeVersion: getNodeVersion,\n  parseUserAgent: parseUserAgent\n};\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","var generatePrime = require('./lib/generatePrime')\nvar primes = require('./lib/primes.json')\n\nvar DH = require('./lib/dh')\n\nfunction getDiffieHellman (mod) {\n  var prime = new Buffer(primes[mod].prime, 'hex')\n  var gen = new Buffer(primes[mod].gen, 'hex')\n\n  return new DH(prime, gen)\n}\n\nvar ENCODINGS = {\n  'binary': true, 'hex': true, 'base64': true\n}\n\nfunction createDiffieHellman (prime, enc, generator, genc) {\n  if (Buffer.isBuffer(enc) || ENCODINGS[enc] === undefined) {\n    return createDiffieHellman(prime, 'binary', enc, generator)\n  }\n\n  enc = enc || 'binary'\n  genc = genc || 'binary'\n  generator = generator || new Buffer([2])\n\n  if (!Buffer.isBuffer(generator)) {\n    generator = new Buffer(generator, genc)\n  }\n\n  if (typeof prime === 'number') {\n    return new DH(generatePrime(prime, generator), generator, true)\n  }\n\n  if (!Buffer.isBuffer(prime)) {\n    prime = new Buffer(prime, enc)\n  }\n\n  return new DH(prime, generator, true)\n}\n\nexports.DiffieHellmanGroup = exports.createDiffieHellmanGroup = exports.getDiffieHellman = getDiffieHellman\nexports.createDiffieHellman = exports.DiffieHellman = createDiffieHellman\n","var BN = require('bn.js');\nvar MillerRabin = require('miller-rabin');\nvar millerRabin = new MillerRabin();\nvar TWENTYFOUR = new BN(24);\nvar ELEVEN = new BN(11);\nvar TEN = new BN(10);\nvar THREE = new BN(3);\nvar SEVEN = new BN(7);\nvar primes = require('./generatePrime');\nvar randomBytes = require('randombytes');\nmodule.exports = DH;\n\nfunction setPublicKey(pub, enc) {\n  enc = enc || 'utf8';\n  if (!Buffer.isBuffer(pub)) {\n    pub = new Buffer(pub, enc);\n  }\n  this._pub = new BN(pub);\n  return this;\n}\n\nfunction setPrivateKey(priv, enc) {\n  enc = enc || 'utf8';\n  if (!Buffer.isBuffer(priv)) {\n    priv = new Buffer(priv, enc);\n  }\n  this._priv = new BN(priv);\n  return this;\n}\n\nvar primeCache = {};\nfunction checkPrime(prime, generator) {\n  var gen = generator.toString('hex');\n  var hex = [gen, prime.toString(16)].join('_');\n  if (hex in primeCache) {\n    return primeCache[hex];\n  }\n  var error = 0;\n\n  if (prime.isEven() ||\n    !primes.simpleSieve ||\n    !primes.fermatTest(prime) ||\n    !millerRabin.test(prime)) {\n    //not a prime so +1\n    error += 1;\n\n    if (gen === '02' || gen === '05') {\n      // we'd be able to check the generator\n      // it would fail so +8\n      error += 8;\n    } else {\n      //we wouldn't be able to test the generator\n      // so +4\n      error += 4;\n    }\n    primeCache[hex] = error;\n    return error;\n  }\n  if (!millerRabin.test(prime.shrn(1))) {\n    //not a safe prime\n    error += 2;\n  }\n  var rem;\n  switch (gen) {\n    case '02':\n      if (prime.mod(TWENTYFOUR).cmp(ELEVEN)) {\n        // unsuidable generator\n        error += 8;\n      }\n      break;\n    case '05':\n      rem = prime.mod(TEN);\n      if (rem.cmp(THREE) && rem.cmp(SEVEN)) {\n        // prime mod 10 needs to equal 3 or 7\n        error += 8;\n      }\n      break;\n    default:\n      error += 4;\n  }\n  primeCache[hex] = error;\n  return error;\n}\n\nfunction DH(prime, generator, malleable) {\n  this.setGenerator(generator);\n  this.__prime = new BN(prime);\n  this._prime = BN.mont(this.__prime);\n  this._primeLen = prime.length;\n  this._pub = undefined;\n  this._priv = undefined;\n  this._primeCode = undefined;\n  if (malleable) {\n    this.setPublicKey = setPublicKey;\n    this.setPrivateKey = setPrivateKey;\n  } else {\n    this._primeCode = 8;\n  }\n}\nObject.defineProperty(DH.prototype, 'verifyError', {\n  enumerable: true,\n  get: function () {\n    if (typeof this._primeCode !== 'number') {\n      this._primeCode = checkPrime(this.__prime, this.__gen);\n    }\n    return this._primeCode;\n  }\n});\nDH.prototype.generateKeys = function () {\n  if (!this._priv) {\n    this._priv = new BN(randomBytes(this._primeLen));\n  }\n  this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed();\n  return this.getPublicKey();\n};\n\nDH.prototype.computeSecret = function (other) {\n  other = new BN(other);\n  other = other.toRed(this._prime);\n  var secret = other.redPow(this._priv).fromRed();\n  var out = new Buffer(secret.toArray());\n  var prime = this.getPrime();\n  if (out.length < prime.length) {\n    var front = new Buffer(prime.length - out.length);\n    front.fill(0);\n    out = Buffer.concat([front, out]);\n  }\n  return out;\n};\n\nDH.prototype.getPublicKey = function getPublicKey(enc) {\n  return formatReturnValue(this._pub, enc);\n};\n\nDH.prototype.getPrivateKey = function getPrivateKey(enc) {\n  return formatReturnValue(this._priv, enc);\n};\n\nDH.prototype.getPrime = function (enc) {\n  return formatReturnValue(this.__prime, enc);\n};\n\nDH.prototype.getGenerator = function (enc) {\n  return formatReturnValue(this._gen, enc);\n};\n\nDH.prototype.setGenerator = function (gen, enc) {\n  enc = enc || 'utf8';\n  if (!Buffer.isBuffer(gen)) {\n    gen = new Buffer(gen, enc);\n  }\n  this.__gen = gen;\n  this._gen = new BN(gen);\n  return this;\n};\n\nfunction formatReturnValue(bn, enc) {\n  var buf = new Buffer(bn.toArray());\n  if (!enc) {\n    return buf;\n  } else {\n    return buf.toString(enc);\n  }\n}\n","var randomBytes = require('randombytes');\nmodule.exports = findPrime;\nfindPrime.simpleSieve = simpleSieve;\nfindPrime.fermatTest = fermatTest;\nvar BN = require('bn.js');\nvar TWENTYFOUR = new BN(24);\nvar MillerRabin = require('miller-rabin');\nvar millerRabin = new MillerRabin();\nvar ONE = new BN(1);\nvar TWO = new BN(2);\nvar FIVE = new BN(5);\nvar SIXTEEN = new BN(16);\nvar EIGHT = new BN(8);\nvar TEN = new BN(10);\nvar THREE = new BN(3);\nvar SEVEN = new BN(7);\nvar ELEVEN = new BN(11);\nvar FOUR = new BN(4);\nvar TWELVE = new BN(12);\nvar primes = null;\n\nfunction _getPrimes() {\n  if (primes !== null)\n    return primes;\n\n  var limit = 0x100000;\n  var res = [];\n  res[0] = 2;\n  for (var i = 1, k = 3; k < limit; k += 2) {\n    var sqrt = Math.ceil(Math.sqrt(k));\n    for (var j = 0; j < i && res[j] <= sqrt; j++)\n      if (k % res[j] === 0)\n        break;\n\n    if (i !== j && res[j] <= sqrt)\n      continue;\n\n    res[i++] = k;\n  }\n  primes = res;\n  return res;\n}\n\nfunction simpleSieve(p) {\n  var primes = _getPrimes();\n\n  for (var i = 0; i < primes.length; i++)\n    if (p.modn(primes[i]) === 0) {\n      if (p.cmpn(primes[i]) === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n  return true;\n}\n\nfunction fermatTest(p) {\n  var red = BN.mont(p);\n  return TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1) === 0;\n}\n\nfunction findPrime(bits, gen) {\n  if (bits < 16) {\n    // this is what openssl does\n    if (gen === 2 || gen === 5) {\n      return new BN([0x8c, 0x7b]);\n    } else {\n      return new BN([0x8c, 0x27]);\n    }\n  }\n  gen = new BN(gen);\n\n  var num, n2;\n\n  while (true) {\n    num = new BN(randomBytes(Math.ceil(bits / 8)));\n    while (num.bitLength() > bits) {\n      num.ishrn(1);\n    }\n    if (num.isEven()) {\n      num.iadd(ONE);\n    }\n    if (!num.testn(1)) {\n      num.iadd(TWO);\n    }\n    if (!gen.cmp(TWO)) {\n      while (num.mod(TWENTYFOUR).cmp(ELEVEN)) {\n        num.iadd(FOUR);\n      }\n    } else if (!gen.cmp(FIVE)) {\n      while (num.mod(TEN).cmp(THREE)) {\n        num.iadd(FOUR);\n      }\n    }\n    n2 = num.shrn(1);\n    if (simpleSieve(n2) && simpleSieve(num) &&\n      fermatTest(n2) && fermatTest(num) &&\n      millerRabin.test(n2) && millerRabin.test(num)) {\n      return num;\n    }\n  }\n\n}\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","var sha3 = require('js-sha3').keccak_256\nvar uts46 = require('idna-uts46-hx')\n\nfunction namehash (inputName) {\n  // Reject empty names:\n  var node = ''\n  for (var i = 0; i < 32; i++) {\n    node += '00'\n  }\n\n  name = normalize(inputName)\n\n  if (name) {\n    var labels = name.split('.')\n\n    for(var i = labels.length - 1; i >= 0; i--) {\n      var labelSha = sha3(labels[i])\n      node = sha3(new Buffer(node + labelSha, 'hex'))\n    }\n  }\n\n  return '0x' + node\n}\n\nfunction normalize(name) {\n  return name ? uts46.toUnicode(name, {useStd3ASCII: true, transitional: false}) : name\n}\n\nexports.hash = namehash\nexports.normalize = normalize\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumProviderError = exports.EthereumRpcError = void 0;\nconst fast_safe_stringify_1 = require(\"fast-safe-stringify\");\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n * Permits any integer error code.\n */\nclass EthereumRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string.');\n        }\n        super(message);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    /**\n     * Returns a plain object with all public class properties.\n     */\n    serialize() {\n        const serialized = {\n            code: this.code,\n            message: this.message,\n        };\n        if (this.data !== undefined) {\n            serialized.data = this.data;\n        }\n        if (this.stack) {\n            serialized.stack = this.stack;\n        }\n        return serialized;\n    }\n    /**\n     * Return a string representation of the serialized error, omitting\n     * any circular references.\n     */\n    toString() {\n        return fast_safe_stringify_1.default(this.serialize(), stringifyReplacer, 2);\n    }\n}\nexports.EthereumRpcError = EthereumRpcError;\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends EthereumRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     * `code` must be an integer in the 1000 <= 4999 range.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\nexports.EthereumProviderError = EthereumProviderError;\n// Internal\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\nfunction stringifyReplacer(_, value) {\n    if (value === '[Circular]') {\n        return undefined;\n    }\n    return value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorValues = exports.errorCodes = void 0;\nexports.errorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n    },\n};\nexports.errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ethErrors = void 0;\nconst classes_1 = require(\"./classes\");\nconst utils_1 = require(\"./utils\");\nconst error_constants_1 = require(\"./error-constants\");\nexports.ethErrors = {\n    rpc: {\n        /**\n         * Get a JSON RPC 2.0 Parse (-32700) error.\n         */\n        parse: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n         */\n        invalidRequest: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n         */\n        invalidParams: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams, arg),\n        /**\n         * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n         */\n        methodNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound, arg),\n        /**\n         * Get a JSON RPC 2.0 Internal (-32603) error.\n         */\n        internal: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal, arg),\n        /**\n         * Get a JSON RPC 2.0 Server error.\n         * Permits integer error codes in the [ -32099 <= -32005 ] range.\n         * Codes -32000 through -32004 are reserved by EIP-1474.\n         */\n        server: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum RPC Server errors must provide single object argument.');\n            }\n            const { code } = opts;\n            if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n                throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n            }\n            return getEthJsonRpcError(code, opts);\n        },\n        /**\n         * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n         */\n        invalidInput: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n         */\n        resourceNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n         */\n        resourceUnavailable: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable, arg),\n        /**\n         * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n         */\n        transactionRejected: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected, arg),\n        /**\n         * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n         */\n        methodNotSupported: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported, arg),\n        /**\n         * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n         */\n        limitExceeded: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded, arg),\n    },\n    provider: {\n        /**\n         * Get an Ethereum Provider User Rejected Request (4001) error.\n         */\n        userRejectedRequest: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unauthorized (4100) error.\n         */\n        unauthorized: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unauthorized, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unsupported Method (4200) error.\n         */\n        unsupportedMethod: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod, arg);\n        },\n        /**\n         * Get an Ethereum Provider Not Connected (4900) error.\n         */\n        disconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.disconnected, arg);\n        },\n        /**\n         * Get an Ethereum Provider Chain Not Connected (4901) error.\n         */\n        chainDisconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected, arg);\n        },\n        /**\n         * Get a custom Ethereum Provider error.\n         */\n        custom: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum Provider custom errors must provide single object argument.');\n            }\n            const { code, message, data } = opts;\n            if (!message || typeof message !== 'string') {\n                throw new Error('\"message\" must be a nonempty string');\n            }\n            return new classes_1.EthereumProviderError(code, message, data);\n        },\n    },\n};\n// Internal\nfunction getEthJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumRpcError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumProviderError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message || undefined, data];\n        }\n    }\n    return [];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMessageFromCode = exports.serializeError = exports.EthereumProviderError = exports.EthereumRpcError = exports.ethErrors = exports.errorCodes = void 0;\nconst classes_1 = require(\"./classes\");\nObject.defineProperty(exports, \"EthereumRpcError\", { enumerable: true, get: function () { return classes_1.EthereumRpcError; } });\nObject.defineProperty(exports, \"EthereumProviderError\", { enumerable: true, get: function () { return classes_1.EthereumProviderError; } });\nconst utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"serializeError\", { enumerable: true, get: function () { return utils_1.serializeError; } });\nObject.defineProperty(exports, \"getMessageFromCode\", { enumerable: true, get: function () { return utils_1.getMessageFromCode; } });\nconst errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"ethErrors\", { enumerable: true, get: function () { return errors_1.ethErrors; } });\nconst error_constants_1 = require(\"./error-constants\");\nObject.defineProperty(exports, \"errorCodes\", { enumerable: true, get: function () { return error_constants_1.errorCodes; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeError = exports.isValidCode = exports.getMessageFromCode = exports.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;\nconst error_constants_1 = require(\"./error-constants\");\nconst classes_1 = require(\"./classes\");\nconst FALLBACK_ERROR_CODE = error_constants_1.errorCodes.rpc.internal;\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nconst FALLBACK_ERROR = {\n    code: FALLBACK_ERROR_CODE,\n    message: getMessageFromCode(FALLBACK_ERROR_CODE),\n};\nexports.JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (Number.isInteger(code)) {\n        const codeString = code.toString();\n        if (hasKey(error_constants_1.errorValues, codeString)) {\n            return error_constants_1.errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return exports.JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\nexports.getMessageFromCode = getMessageFromCode;\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n */\nfunction isValidCode(code) {\n    if (!Number.isInteger(code)) {\n        return false;\n    }\n    const codeString = code.toString();\n    if (error_constants_1.errorValues[codeString]) {\n        return true;\n    }\n    if (isJsonRpcServerError(code)) {\n        return true;\n    }\n    return false;\n}\nexports.isValidCode = isValidCode;\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n */\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = false, } = {}) {\n    var _a, _b;\n    if (!fallbackError ||\n        !Number.isInteger(fallbackError.code) ||\n        typeof fallbackError.message !== 'string') {\n        throw new Error('Must provide fallback error with integer number code and string message.');\n    }\n    if (error instanceof classes_1.EthereumRpcError) {\n        return error.serialize();\n    }\n    const serialized = {};\n    if (error &&\n        typeof error === 'object' &&\n        !Array.isArray(error) &&\n        hasKey(error, 'code') &&\n        isValidCode(error.code)) {\n        const _error = error;\n        serialized.code = _error.code;\n        if (_error.message && typeof _error.message === 'string') {\n            serialized.message = _error.message;\n            if (hasKey(_error, 'data')) {\n                serialized.data = _error.data;\n            }\n        }\n        else {\n            serialized.message = getMessageFromCode(serialized.code);\n            serialized.data = { originalError: assignOriginalError(error) };\n        }\n    }\n    else {\n        serialized.code = fallbackError.code;\n        const message = (_a = error) === null || _a === void 0 ? void 0 : _a.message;\n        serialized.message = (message && typeof message === 'string'\n            ? message\n            : fallbackError.message);\n        serialized.data = { originalError: assignOriginalError(error) };\n    }\n    const stack = (_b = error) === null || _b === void 0 ? void 0 : _b.stack;\n    if (shouldIncludeStack && error && stack && typeof stack === 'string') {\n        serialized.stack = stack;\n    }\n    return serialized;\n}\nexports.serializeError = serializeError;\n// Internal\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\nfunction assignOriginalError(error) {\n    if (error && typeof error === 'object' && !Array.isArray(error)) {\n        return Object.assign({}, error);\n    }\n    return error;\n}\nfunction hasKey(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils_1 = require(\"./utils\");\r\n/**\r\n * Returns true if the bloom is a valid bloom\r\n * @param bloom The bloom\r\n */\r\nfunction isBloom(bloom) {\r\n    if (typeof bloom !== 'string') {\r\n        return false;\r\n    }\r\n    if (!/^(0x)?[0-9a-f]{512}$/i.test(bloom)) {\r\n        return false;\r\n    }\r\n    if (/^(0x)?[0-9a-f]{512}$/.test(bloom) ||\r\n        /^(0x)?[0-9A-F]{512}$/.test(bloom)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isBloom = isBloom;\r\n/**\r\n * Returns true if the value is part of the given bloom\r\n * note: false positives are possible.\r\n * @param bloom encoded bloom\r\n * @param value The value\r\n */\r\nfunction isInBloom(bloom, value) {\r\n    if (typeof value === 'object' && value.constructor === Uint8Array) {\r\n        value = utils_1.bytesToHex(value);\r\n    }\r\n    const hash = utils_1.keccak256(value).replace('0x', '');\r\n    for (let i = 0; i < 12; i += 4) {\r\n        // calculate bit position in bloom filter that must be active\r\n        const bitpos = ((parseInt(hash.substr(i, 2), 16) << 8) +\r\n            parseInt(hash.substr(i + 2, 2), 16)) &\r\n            2047;\r\n        // test if bitpos in bloom is active\r\n        const code = codePointToInt(bloom.charCodeAt(bloom.length - 1 - Math.floor(bitpos / 4)));\r\n        const offset = 1 << bitpos % 4;\r\n        if ((code & offset) !== offset) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.isInBloom = isInBloom;\r\n/**\r\n * Code points to int\r\n * @param codePoint The code point\r\n */\r\nfunction codePointToInt(codePoint) {\r\n    if (codePoint >= 48 && codePoint <= 57) {\r\n        /* ['0'..'9'] -> [0..9] */\r\n        return codePoint - 48;\r\n    }\r\n    if (codePoint >= 65 && codePoint <= 70) {\r\n        /* ['A'..'F'] -> [10..15] */\r\n        return codePoint - 55;\r\n    }\r\n    if (codePoint >= 97 && codePoint <= 102) {\r\n        /* ['a'..'f'] -> [10..15] */\r\n        return codePoint - 87;\r\n    }\r\n    throw new Error('invalid bloom');\r\n}\r\n/**\r\n * Returns true if the ethereum users address is part of the given bloom.\r\n * note: false positives are possible.\r\n * @param bloom encoded bloom\r\n * @param address the address to test\r\n */\r\nfunction isUserEthereumAddressInBloom(bloom, ethereumAddress) {\r\n    if (!isBloom(bloom)) {\r\n        throw new Error('Invalid bloom given');\r\n    }\r\n    if (!isAddress(ethereumAddress)) {\r\n        throw new Error(`Invalid ethereum address given: \"${ethereumAddress}\"`);\r\n    }\r\n    // you have to pad the ethereum address to 32 bytes\r\n    // else the bloom filter does not work\r\n    // this is only if your matching the USERS\r\n    // ethereum address. Contract address do not need this\r\n    // hence why we have 2 methods\r\n    // (0x is not in the 2nd parameter of padleft so 64 chars is fine)\r\n    const address = utils_1.padLeft(ethereumAddress, 64);\r\n    return isInBloom(bloom, address);\r\n}\r\nexports.isUserEthereumAddressInBloom = isUserEthereumAddressInBloom;\r\n/**\r\n * Returns true if the contract address is part of the given bloom.\r\n * note: false positives are possible.\r\n * @param bloom encoded bloom\r\n * @param contractAddress the contract address to test\r\n */\r\nfunction isContractAddressInBloom(bloom, contractAddress) {\r\n    if (!isBloom(bloom)) {\r\n        throw new Error('Invalid bloom given');\r\n    }\r\n    if (!isAddress(contractAddress)) {\r\n        throw new Error(`Invalid contract address given: \"${contractAddress}\"`);\r\n    }\r\n    return isInBloom(bloom, contractAddress);\r\n}\r\nexports.isContractAddressInBloom = isContractAddressInBloom;\r\n/**\r\n * Returns true if the topic is part of the given bloom.\r\n * note: false positives are possible.\r\n * @param bloom encoded bloom\r\n * @param topic the topic encoded hex\r\n */\r\nfunction isTopicInBloom(bloom, topic) {\r\n    if (!isBloom(bloom)) {\r\n        throw new Error('Invalid bloom given');\r\n    }\r\n    if (!isTopic(topic)) {\r\n        throw new Error('Invalid topic');\r\n    }\r\n    return isInBloom(bloom, topic);\r\n}\r\nexports.isTopicInBloom = isTopicInBloom;\r\n/**\r\n * Checks if its a valid topic\r\n * @param topic encoded hex topic\r\n */\r\nfunction isTopic(topic) {\r\n    if (typeof topic !== 'string') {\r\n        return false;\r\n    }\r\n    if (!/^(0x)?[0-9a-f]{64}$/i.test(topic)) {\r\n        return false;\r\n    }\r\n    else if (/^(0x)?[0-9a-f]{64}$/.test(topic) ||\r\n        /^(0x)?[0-9A-F]{64}$/.test(topic)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isTopic = isTopic;\r\n/**\r\n * Is valid address\r\n * @param address The address\r\n */\r\nfunction isAddress(address) {\r\n    if (typeof address !== 'string') {\r\n        return false;\r\n    }\r\n    if (address.match(/^(0x)?[0-9a-fA-F]{40}$/)) {\r\n        return true;\r\n    }\r\n    if (address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isAddress = isAddress;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst sha3 = require(\"js-sha3\");\r\n/**\r\n * Keccak256 hash\r\n * @param data The data\r\n */\r\nfunction keccak256(data) {\r\n    return '0x' + sha3.keccak_256(toByteArray(data));\r\n}\r\nexports.keccak256 = keccak256;\r\n/**\r\n * Adding padding to string on the left\r\n * @param value The value\r\n * @param chars The chars\r\n */\r\nexports.padLeft = (value, chars) => {\r\n    const hasPrefix = /^0x/i.test(value) || typeof value === 'number';\r\n    value = value.toString().replace(/^0x/i, '');\r\n    const padding = chars - value.length + 1 >= 0 ? chars - value.length + 1 : 0;\r\n    return (hasPrefix ? '0x' : '') + new Array(padding).join('0') + value;\r\n};\r\n/**\r\n * Convert bytes to hex\r\n * @param bytes The bytes\r\n */\r\nfunction bytesToHex(bytes) {\r\n    const hex = [];\r\n    for (let i = 0; i < bytes.length; i++) {\r\n        hex.push((bytes[i] >>> 4).toString(16));\r\n        hex.push((bytes[i] & 0xf).toString(16));\r\n    }\r\n    return `0x${hex.join('').replace(/^0+/, '')}`;\r\n}\r\nexports.bytesToHex = bytesToHex;\r\n/**\r\n * To byte array\r\n * @param value The value\r\n */\r\nfunction toByteArray(value) {\r\n    if (value == null) {\r\n        throw new Error('cannot convert null value to array');\r\n    }\r\n    if (typeof value === 'string') {\r\n        const match = value.match(/^(0x)?[0-9a-fA-F]*$/);\r\n        if (!match) {\r\n            throw new Error('invalid hexidecimal string');\r\n        }\r\n        if (match[1] !== '0x') {\r\n            throw new Error('hex string must have 0x prefix');\r\n        }\r\n        value = value.substring(2);\r\n        if (value.length % 2) {\r\n            value = '0' + value;\r\n        }\r\n        const result = [];\r\n        for (let i = 0; i < value.length; i += 2) {\r\n            result.push(parseInt(value.substr(i, 2), 16));\r\n        }\r\n        return addSlice(new Uint8Array(result));\r\n    }\r\n    if (isByteArray(value)) {\r\n        return addSlice(new Uint8Array(value));\r\n    }\r\n    throw new Error('invalid arrayify value');\r\n}\r\nexports.toByteArray = toByteArray;\r\n/**\r\n * Is byte array\r\n * @param value The value\r\n */\r\nfunction isByteArray(value) {\r\n    if (!value ||\r\n        // tslint:disable-next-line: radix\r\n        parseInt(String(value.length)) != value.length ||\r\n        typeof value === 'string') {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < value.length; i++) {\r\n        const v = value[i];\r\n        // tslint:disable-next-line: radix\r\n        if (v < 0 || v >= 256 || parseInt(String(v)) != v) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Add slice to array\r\n * @param array The array\r\n */\r\nfunction addSlice(array) {\r\n    if (array.slice !== undefined) {\r\n        return array;\r\n    }\r\n    array.slice = () => {\r\n        const args = Array.prototype.slice.call(arguments);\r\n        return addSlice(new Uint8Array(Array.prototype.slice.apply(array, args)));\r\n    };\r\n    return array;\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction createHashFunction(hashConstructor) {\n    return function (msg) {\n        var hash = hashConstructor();\n        hash.update(msg);\n        return Buffer.from(hash.digest());\n    };\n}\nexports.createHashFunction = createHashFunction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar hash_utils_1 = require(\"./hash-utils\");\nvar createKeccakHash = require(\"keccak\");\nexports.keccak224 = hash_utils_1.createHashFunction(function () {\n    return createKeccakHash(\"keccak224\");\n});\nexports.keccak256 = hash_utils_1.createHashFunction(function () {\n    return createKeccakHash(\"keccak256\");\n});\nexports.keccak384 = hash_utils_1.createHashFunction(function () {\n    return createKeccakHash(\"keccak384\");\n});\nexports.keccak512 = hash_utils_1.createHashFunction(function () {\n    return createKeccakHash(\"keccak512\");\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar randombytes = require(\"randombytes\");\nfunction getRandomBytes(bytes) {\n    return new Promise(function (resolve, reject) {\n        randombytes(bytes, function (err, resp) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(resp);\n        });\n    });\n}\nexports.getRandomBytes = getRandomBytes;\nfunction getRandomBytesSync(bytes) {\n    return randombytes(bytes);\n}\nexports.getRandomBytesSync = getRandomBytesSync;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar secp256k1_1 = require(\"secp256k1\");\nvar random_1 = require(\"./random\");\nvar SECP256K1_PRIVATE_KEY_SIZE = 32;\nfunction createPrivateKey() {\n    return __awaiter(this, void 0, void 0, function () {\n        var pk;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!true) return [3 /*break*/, 2];\n                    return [4 /*yield*/, random_1.getRandomBytes(SECP256K1_PRIVATE_KEY_SIZE)];\n                case 1:\n                    pk = _a.sent();\n                    if (secp256k1_1.privateKeyVerify(pk)) {\n                        return [2 /*return*/, pk];\n                    }\n                    return [3 /*break*/, 0];\n                case 2: return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.createPrivateKey = createPrivateKey;\nfunction createPrivateKeySync() {\n    while (true) {\n        var pk = random_1.getRandomBytesSync(SECP256K1_PRIVATE_KEY_SIZE);\n        if (secp256k1_1.privateKeyVerify(pk)) {\n            return pk;\n        }\n    }\n}\nexports.createPrivateKeySync = createPrivateKeySync;\n__export(require(\"secp256k1\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.keccak512 = exports.keccak384 = exports.keccak256 = exports.keccak224 = void 0;\nconst sha3_1 = require(\"@noble/hashes/sha3\");\nconst utils_js_1 = require(\"./utils.js\");\nexports.keccak224 = (0, utils_js_1.wrapHash)(sha3_1.keccak_224);\nexports.keccak256 = (() => {\n    const k = (0, utils_js_1.wrapHash)(sha3_1.keccak_256);\n    k.create = sha3_1.keccak_256.create;\n    return k;\n})();\nexports.keccak384 = (0, utils_js_1.wrapHash)(sha3_1.keccak_384);\nexports.keccak512 = (0, utils_js_1.wrapHash)(sha3_1.keccak_512);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.secp256k1 = void 0;\nvar secp256k1_1 = require(\"@noble/curves/secp256k1\");\nObject.defineProperty(exports, \"secp256k1\", { enumerable: true, get: function () { return secp256k1_1.secp256k1; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.crypto = exports.wrapHash = exports.equalsBytes = exports.hexToBytes = exports.bytesToUtf8 = exports.utf8ToBytes = exports.createView = exports.concatBytes = exports.toHex = exports.bytesToHex = exports.assertBytes = exports.assertBool = void 0;\nconst _assert_1 = __importDefault(require(\"@noble/hashes/_assert\"));\nconst utils_1 = require(\"@noble/hashes/utils\");\nconst assertBool = _assert_1.default.bool;\nexports.assertBool = assertBool;\nconst assertBytes = _assert_1.default.bytes;\nexports.assertBytes = assertBytes;\nvar utils_2 = require(\"@noble/hashes/utils\");\nObject.defineProperty(exports, \"bytesToHex\", { enumerable: true, get: function () { return utils_2.bytesToHex; } });\nObject.defineProperty(exports, \"toHex\", { enumerable: true, get: function () { return utils_2.bytesToHex; } });\nObject.defineProperty(exports, \"concatBytes\", { enumerable: true, get: function () { return utils_2.concatBytes; } });\nObject.defineProperty(exports, \"createView\", { enumerable: true, get: function () { return utils_2.createView; } });\nObject.defineProperty(exports, \"utf8ToBytes\", { enumerable: true, get: function () { return utils_2.utf8ToBytes; } });\n// buf.toString('utf8') -> bytesToUtf8(buf)\nfunction bytesToUtf8(data) {\n    if (!(data instanceof Uint8Array)) {\n        throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof data}`);\n    }\n    return new TextDecoder().decode(data);\n}\nexports.bytesToUtf8 = bytesToUtf8;\nfunction hexToBytes(data) {\n    const sliced = data.startsWith(\"0x\") ? data.substring(2) : data;\n    return (0, utils_1.hexToBytes)(sliced);\n}\nexports.hexToBytes = hexToBytes;\n// buf.equals(buf2) -> equalsBytes(buf, buf2)\nfunction equalsBytes(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.equalsBytes = equalsBytes;\n// Internal utils\nfunction wrapHash(hash) {\n    return (msg) => {\n        _assert_1.default.bytes(msg);\n        return hash(msg);\n    };\n}\nexports.wrapHash = wrapHash;\n// TODO(v3): switch away from node crypto, remove this unnecessary variable.\nexports.crypto = (() => {\n    const webCrypto = typeof globalThis === \"object\" && \"crypto\" in globalThis ? globalThis.crypto : undefined;\n    const nodeRequire = typeof module !== \"undefined\" &&\n        typeof module.require === \"function\" &&\n        module.require.bind(module);\n    return {\n        node: nodeRequire && !webCrypto ? nodeRequire(\"crypto\") : undefined,\n        web: webCrypto\n    };\n})();\n","'use strict';\n\nvar BN = require('bn.js');\nvar numberToBN = require('number-to-bn');\n\nvar zero = new BN(0);\nvar negative1 = new BN(-1);\n\n// complete ethereum unit map\nvar unitMap = {\n  'noether': '0', // eslint-disable-line\n  'wei': '1', // eslint-disable-line\n  'kwei': '1000', // eslint-disable-line\n  'Kwei': '1000', // eslint-disable-line\n  'babbage': '1000', // eslint-disable-line\n  'femtoether': '1000', // eslint-disable-line\n  'mwei': '1000000', // eslint-disable-line\n  'Mwei': '1000000', // eslint-disable-line\n  'lovelace': '1000000', // eslint-disable-line\n  'picoether': '1000000', // eslint-disable-line\n  'gwei': '1000000000', // eslint-disable-line\n  'Gwei': '1000000000', // eslint-disable-line\n  'shannon': '1000000000', // eslint-disable-line\n  'nanoether': '1000000000', // eslint-disable-line\n  'nano': '1000000000', // eslint-disable-line\n  'szabo': '1000000000000', // eslint-disable-line\n  'microether': '1000000000000', // eslint-disable-line\n  'micro': '1000000000000', // eslint-disable-line\n  'finney': '1000000000000000', // eslint-disable-line\n  'milliether': '1000000000000000', // eslint-disable-line\n  'milli': '1000000000000000', // eslint-disable-line\n  'ether': '1000000000000000000', // eslint-disable-line\n  'kether': '1000000000000000000000', // eslint-disable-line\n  'grand': '1000000000000000000000', // eslint-disable-line\n  'mether': '1000000000000000000000000', // eslint-disable-line\n  'gether': '1000000000000000000000000000', // eslint-disable-line\n  'tether': '1000000000000000000000000000000' };\n\n/**\n * Returns value of unit in Wei\n *\n * @method getValueOfUnit\n * @param {String} unit the unit to convert to, default ether\n * @returns {BigNumber} value of the unit (in Wei)\n * @throws error if the unit is not correct:w\n */\nfunction getValueOfUnit(unitInput) {\n  var unit = unitInput ? unitInput.toLowerCase() : 'ether';\n  var unitValue = unitMap[unit]; // eslint-disable-line\n\n  if (typeof unitValue !== 'string') {\n    throw new Error('[ethjs-unit] the unit provided ' + unitInput + ' doesn\\'t exists, please use the one of the following units ' + JSON.stringify(unitMap, null, 2));\n  }\n\n  return new BN(unitValue, 10);\n}\n\nfunction numberToString(arg) {\n  if (typeof arg === 'string') {\n    if (!arg.match(/^-?[0-9.]+$/)) {\n      throw new Error('while converting number to string, invalid number value \\'' + arg + '\\', should be a number matching (^-?[0-9.]+).');\n    }\n    return arg;\n  } else if (typeof arg === 'number') {\n    return String(arg);\n  } else if (typeof arg === 'object' && arg.toString && (arg.toTwos || arg.dividedToIntegerBy)) {\n    if (arg.toPrecision) {\n      return String(arg.toPrecision());\n    } else {\n      // eslint-disable-line\n      return arg.toString(10);\n    }\n  }\n  throw new Error('while converting number to string, invalid number value \\'' + arg + '\\' type ' + typeof arg + '.');\n}\n\nfunction fromWei(weiInput, unit, optionsInput) {\n  var wei = numberToBN(weiInput); // eslint-disable-line\n  var negative = wei.lt(zero); // eslint-disable-line\n  var base = getValueOfUnit(unit);\n  var baseLength = unitMap[unit].length - 1 || 1;\n  var options = optionsInput || {};\n\n  if (negative) {\n    wei = wei.mul(negative1);\n  }\n\n  var fraction = wei.mod(base).toString(10); // eslint-disable-line\n\n  while (fraction.length < baseLength) {\n    fraction = '0' + fraction;\n  }\n\n  if (!options.pad) {\n    fraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1];\n  }\n\n  var whole = wei.div(base).toString(10); // eslint-disable-line\n\n  if (options.commify) {\n    whole = whole.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  var value = '' + whole + (fraction == '0' ? '' : '.' + fraction); // eslint-disable-line\n\n  if (negative) {\n    value = '-' + value;\n  }\n\n  return value;\n}\n\nfunction toWei(etherInput, unit) {\n  var ether = numberToString(etherInput); // eslint-disable-line\n  var base = getValueOfUnit(unit);\n  var baseLength = unitMap[unit].length - 1 || 1;\n\n  // Is it negative?\n  var negative = ether.substring(0, 1) === '-'; // eslint-disable-line\n  if (negative) {\n    ether = ether.substring(1);\n  }\n\n  if (ether === '.') {\n    throw new Error('[ethjs-unit] while converting number ' + etherInput + ' to wei, invalid value');\n  }\n\n  // Split it into a whole and fractional part\n  var comps = ether.split('.'); // eslint-disable-line\n  if (comps.length > 2) {\n    throw new Error('[ethjs-unit] while converting number ' + etherInput + ' to wei,  too many decimal points');\n  }\n\n  var whole = comps[0],\n      fraction = comps[1]; // eslint-disable-line\n\n  if (!whole) {\n    whole = '0';\n  }\n  if (!fraction) {\n    fraction = '0';\n  }\n  if (fraction.length > baseLength) {\n    throw new Error('[ethjs-unit] while converting number ' + etherInput + ' to wei, too many decimal places');\n  }\n\n  while (fraction.length < baseLength) {\n    fraction += '0';\n  }\n\n  whole = new BN(whole);\n  fraction = new BN(fraction);\n  var wei = whole.mul(base).add(fraction); // eslint-disable-line\n\n  if (negative) {\n    wei = wei.mul(negative1);\n  }\n\n  return new BN(wei.toString(10), 10);\n}\n\nmodule.exports = {\n  unitMap: unitMap,\n  numberToString: numberToString,\n  getValueOfUnit: getValueOfUnit,\n  fromWei: fromWei,\n  toWei: toWei\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst event_iterator_1 = require(\"./event-iterator\");\nexports.EventIterator = event_iterator_1.EventIterator;\nfunction subscribe(event, options, evOptions) {\n    return new event_iterator_1.EventIterator(({ push }) => {\n        this.addEventListener(event, push, options);\n        return () => this.removeEventListener(event, push, options);\n    }, evOptions);\n}\nexports.subscribe = subscribe;\nexports.default = event_iterator_1.EventIterator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass EventQueue {\n    constructor() {\n        this.pullQueue = [];\n        this.pushQueue = [];\n        this.eventHandlers = {};\n        this.isPaused = false;\n        this.isStopped = false;\n    }\n    push(value) {\n        if (this.isStopped)\n            return;\n        const resolution = { value, done: false };\n        if (this.pullQueue.length) {\n            const placeholder = this.pullQueue.shift();\n            if (placeholder)\n                placeholder.resolve(resolution);\n        }\n        else {\n            this.pushQueue.push(Promise.resolve(resolution));\n            if (this.highWaterMark !== undefined &&\n                this.pushQueue.length >= this.highWaterMark &&\n                !this.isPaused) {\n                this.isPaused = true;\n                if (this.eventHandlers.highWater) {\n                    this.eventHandlers.highWater();\n                }\n                else if (console) {\n                    console.warn(`EventIterator queue reached ${this.pushQueue.length} items`);\n                }\n            }\n        }\n    }\n    stop() {\n        if (this.isStopped)\n            return;\n        this.isStopped = true;\n        this.remove();\n        for (const placeholder of this.pullQueue) {\n            placeholder.resolve({ value: undefined, done: true });\n        }\n        this.pullQueue.length = 0;\n    }\n    fail(error) {\n        if (this.isStopped)\n            return;\n        this.isStopped = true;\n        this.remove();\n        if (this.pullQueue.length) {\n            for (const placeholder of this.pullQueue) {\n                placeholder.reject(error);\n            }\n            this.pullQueue.length = 0;\n        }\n        else {\n            const rejection = Promise.reject(error);\n            /* Attach error handler to avoid leaking an unhandled promise rejection. */\n            rejection.catch(() => { });\n            this.pushQueue.push(rejection);\n        }\n    }\n    remove() {\n        Promise.resolve().then(() => {\n            if (this.removeCallback)\n                this.removeCallback();\n        });\n    }\n    [Symbol.asyncIterator]() {\n        return {\n            next: (value) => {\n                const result = this.pushQueue.shift();\n                if (result) {\n                    if (this.lowWaterMark !== undefined &&\n                        this.pushQueue.length <= this.lowWaterMark &&\n                        this.isPaused) {\n                        this.isPaused = false;\n                        if (this.eventHandlers.lowWater) {\n                            this.eventHandlers.lowWater();\n                        }\n                    }\n                    return result;\n                }\n                else if (this.isStopped) {\n                    return Promise.resolve({ value: undefined, done: true });\n                }\n                else {\n                    return new Promise((resolve, reject) => {\n                        this.pullQueue.push({ resolve, reject });\n                    });\n                }\n            },\n            return: () => {\n                this.isStopped = true;\n                this.pushQueue.length = 0;\n                this.remove();\n                return Promise.resolve({ value: undefined, done: true });\n            },\n        };\n    }\n}\nclass EventIterator {\n    constructor(listen, { highWaterMark = 100, lowWaterMark = 1 } = {}) {\n        const queue = new EventQueue();\n        queue.highWaterMark = highWaterMark;\n        queue.lowWaterMark = lowWaterMark;\n        queue.removeCallback =\n            listen({\n                push: value => queue.push(value),\n                stop: () => queue.stop(),\n                fail: error => queue.fail(error),\n                on: (event, fn) => {\n                    queue.eventHandlers[event] = fn;\n                },\n            }) || (() => { });\n        this[Symbol.asyncIterator] = () => queue[Symbol.asyncIterator]();\n        Object.freeze(this);\n    }\n}\nexports.EventIterator = EventIterator;\nexports.default = EventIterator;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","var Buffer = require('safe-buffer').Buffer\nvar MD5 = require('md5.js')\n\n/* eslint-disable camelcase */\nfunction EVP_BytesToKey (password, salt, keyBits, ivLen) {\n  if (!Buffer.isBuffer(password)) password = Buffer.from(password, 'binary')\n  if (salt) {\n    if (!Buffer.isBuffer(salt)) salt = Buffer.from(salt, 'binary')\n    if (salt.length !== 8) throw new RangeError('salt should be Buffer with 8 byte length')\n  }\n\n  var keyLen = keyBits / 8\n  var key = Buffer.alloc(keyLen)\n  var iv = Buffer.alloc(ivLen || 0)\n  var tmp = Buffer.alloc(0)\n\n  while (keyLen > 0 || ivLen > 0) {\n    var hash = new MD5()\n    hash.update(tmp)\n    hash.update(password)\n    if (salt) hash.update(salt)\n    tmp = hash.digest()\n\n    var used = 0\n\n    if (keyLen > 0) {\n      var keyStart = key.length - keyLen\n      used = Math.min(keyLen, tmp.length)\n      tmp.copy(key, keyStart, 0, used)\n      keyLen -= used\n    }\n\n    if (used < tmp.length && ivLen > 0) {\n      var ivStart = iv.length - ivLen\n      var length = Math.min(ivLen, tmp.length - used)\n      tmp.copy(iv, ivStart, used, used + length)\n      ivLen -= length\n    }\n  }\n\n  tmp.fill(0)\n  return { key: key, iv: iv }\n}\n\nmodule.exports = EVP_BytesToKey\n","const Duplex = require('readable-stream').Duplex\nconst inherits = require('util').inherits\nconst noop = function () {}\n\nmodule.exports = PortDuplexStream\n\ninherits(PortDuplexStream, Duplex)\n\n/**\n * Creates a stream that's both readable and writable.\n * The stream supports arbitrary objects.\n *\n * @class\n * @param {Object} port Remote Port object\n */\nfunction PortDuplexStream (port) {\n  Duplex.call(this, {\n    objectMode: true,\n  })\n  this._port = port\n  port.onMessage.addListener(this._onMessage.bind(this))\n  port.onDisconnect.addListener(this._onDisconnect.bind(this))\n}\n\n/**\n * Callback triggered when a message is received from\n * the remote Port associated with this Stream.\n *\n * @private\n * @param {Object} msg - Payload from the onMessage listener of Port\n */\nPortDuplexStream.prototype._onMessage = function (msg) {\n  if (Buffer.isBuffer(msg)) {\n    delete msg._isBuffer\n    var data = new Buffer(msg)\n    this.push(data)\n  } else {\n    this.push(msg)\n  }\n}\n\n/**\n * Callback triggered when the remote Port\n * associated with this Stream disconnects.\n *\n * @private\n */\nPortDuplexStream.prototype._onDisconnect = function () {\n  this.destroy()\n}\n\n/**\n * Explicitly sets read operations to a no-op\n */\nPortDuplexStream.prototype._read = noop\n\n\n/**\n * Called internally when data should be written to\n * this writable stream.\n *\n * @private\n * @param {*} msg Arbitrary object to write\n * @param {string} encoding Encoding to use when writing payload\n * @param {Function} cb Called when writing is complete or an error occurs\n */\nPortDuplexStream.prototype._write = function (msg, encoding, cb) {\n  try {\n    if (Buffer.isBuffer(msg)) {\n      var data = msg.toJSON()\n      data._isBuffer = true\n      this._port.postMessage(data)\n    } else {\n      this._port.postMessage(msg)\n    }\n  } catch (err) {\n    return cb(new Error('PortDuplexStream - disconnected'))\n  }\n  cb()\n}","\"use strict\";\nconst stream_1 = require(\"stream\");\nmodule.exports = class PortDuplexStream extends stream_1.Duplex {\n    /**\n     * @param port - An instance of WebExtensions Runtime.Port. See:\n     * {@link https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/Port}\n     */\n    constructor(port) {\n        super({ objectMode: true });\n        this._port = port;\n        this._port.onMessage.addListener((msg) => this._onMessage(msg));\n        this._port.onDisconnect.addListener(() => this._onDisconnect());\n    }\n    /**\n     * Callback triggered when a message is received from\n     * the remote Port associated with this Stream.\n     *\n     * @param msg - Payload from the onMessage listener of the port\n     */\n    _onMessage(msg) {\n        if (Buffer.isBuffer(msg)) {\n            const data = Buffer.from(msg);\n            this.push(data);\n        }\n        else {\n            this.push(msg);\n        }\n    }\n    /**\n     * Callback triggered when the remote Port associated with this Stream\n     * disconnects.\n     */\n    _onDisconnect() {\n        this.destroy();\n    }\n    /**\n     * Explicitly sets read operations to a no-op.\n     */\n    _read() {\n        return undefined;\n    }\n    /**\n     * Called internally when data should be written to this writable stream.\n     *\n     * @param msg - Arbitrary object to write\n     * @param encoding - Encoding to use when writing payload\n     * @param cb - Called when writing is complete or an error occurs\n     */\n    _write(msg, _encoding, cb) {\n        try {\n            if (Buffer.isBuffer(msg)) {\n                const data = msg.toJSON();\n                data._isBuffer = true;\n                this._port.postMessage(data);\n            }\n            else {\n                this._port.postMessage(msg);\n            }\n        }\n        catch (error) {\n            return cb(new Error('PortDuplexStream - disconnected'));\n        }\n        return cb();\n    }\n};\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' ||\n                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof File === 'function' ||\n                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||\n    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n    (withNativeBlob && obj instanceof Blob) ||\n    (withNativeFile && obj instanceof File)\n  ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\tif ($defineProperty) {\n\t\ttry {\n\t\t\t$defineProperty({}, 'a', { value: 1 });\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// IE 8 has a broken defineProperty\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!hasPropertyDescriptors()) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar test = {\n\tfoo: {}\n};\n\nvar $Object = Object;\n\nmodule.exports = function hasProto() {\n\treturn { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('readable-stream').Transform\nvar inherits = require('inherits')\n\nfunction throwIfNotStringOrBuffer (val, prefix) {\n  if (!Buffer.isBuffer(val) && typeof val !== 'string') {\n    throw new TypeError(prefix + ' must be a string or a buffer')\n  }\n}\n\nfunction HashBase (blockSize) {\n  Transform.call(this)\n\n  this._block = Buffer.allocUnsafe(blockSize)\n  this._blockSize = blockSize\n  this._blockOffset = 0\n  this._length = [0, 0, 0, 0]\n\n  this._finalized = false\n}\n\ninherits(HashBase, Transform)\n\nHashBase.prototype._transform = function (chunk, encoding, callback) {\n  var error = null\n  try {\n    this.update(chunk, encoding)\n  } catch (err) {\n    error = err\n  }\n\n  callback(error)\n}\n\nHashBase.prototype._flush = function (callback) {\n  var error = null\n  try {\n    this.push(this.digest())\n  } catch (err) {\n    error = err\n  }\n\n  callback(error)\n}\n\nHashBase.prototype.update = function (data, encoding) {\n  throwIfNotStringOrBuffer(data, 'Data')\n  if (this._finalized) throw new Error('Digest already called')\n  if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n  // consume data\n  var block = this._block\n  var offset = 0\n  while (this._blockOffset + data.length - offset >= this._blockSize) {\n    for (var i = this._blockOffset; i < this._blockSize;) block[i++] = data[offset++]\n    this._update()\n    this._blockOffset = 0\n  }\n  while (offset < data.length) block[this._blockOffset++] = data[offset++]\n\n  // update length\n  for (var j = 0, carry = data.length * 8; carry > 0; ++j) {\n    this._length[j] += carry\n    carry = (this._length[j] / 0x0100000000) | 0\n    if (carry > 0) this._length[j] -= 0x0100000000 * carry\n  }\n\n  return this\n}\n\nHashBase.prototype._update = function () {\n  throw new Error('_update is not implemented')\n}\n\nHashBase.prototype.digest = function (encoding) {\n  if (this._finalized) throw new Error('Digest already called')\n  this._finalized = true\n\n  var digest = this._digest()\n  if (encoding !== undefined) digest = digest.toString(encoding)\n\n  // reset state\n  this._block.fill(0)\n  this._blockOffset = 0\n  for (var i = 0; i < 4; ++i) this._length[i] = 0\n\n  return digest\n}\n\nHashBase.prototype._digest = function () {\n  throw new Error('_digest is not implemented')\n}\n\nmodule.exports = HashBase\n","'use strict';\n\nvar hash = require('hash.js');\nvar utils = require('minimalistic-crypto-utils');\nvar assert = require('minimalistic-assert');\n\nfunction HmacDRBG(options) {\n  if (!(this instanceof HmacDRBG))\n    return new HmacDRBG(options);\n  this.hash = options.hash;\n  this.predResist = !!options.predResist;\n\n  this.outLen = this.hash.outSize;\n  this.minEntropy = options.minEntropy || this.hash.hmacStrength;\n\n  this._reseed = null;\n  this.reseedInterval = null;\n  this.K = null;\n  this.V = null;\n\n  var entropy = utils.toArray(options.entropy, options.entropyEnc || 'hex');\n  var nonce = utils.toArray(options.nonce, options.nonceEnc || 'hex');\n  var pers = utils.toArray(options.pers, options.persEnc || 'hex');\n  assert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n  this._init(entropy, nonce, pers);\n}\nmodule.exports = HmacDRBG;\n\nHmacDRBG.prototype._init = function init(entropy, nonce, pers) {\n  var seed = entropy.concat(nonce).concat(pers);\n\n  this.K = new Array(this.outLen / 8);\n  this.V = new Array(this.outLen / 8);\n  for (var i = 0; i < this.V.length; i++) {\n    this.K[i] = 0x00;\n    this.V[i] = 0x01;\n  }\n\n  this._update(seed);\n  this._reseed = 1;\n  this.reseedInterval = 0x1000000000000;  // 2^48\n};\n\nHmacDRBG.prototype._hmac = function hmac() {\n  return new hash.hmac(this.hash, this.K);\n};\n\nHmacDRBG.prototype._update = function update(seed) {\n  var kmac = this._hmac()\n                 .update(this.V)\n                 .update([ 0x00 ]);\n  if (seed)\n    kmac = kmac.update(seed);\n  this.K = kmac.digest();\n  this.V = this._hmac().update(this.V).digest();\n  if (!seed)\n    return;\n\n  this.K = this._hmac()\n               .update(this.V)\n               .update([ 0x01 ])\n               .update(seed)\n               .digest();\n  this.V = this._hmac().update(this.V).digest();\n};\n\nHmacDRBG.prototype.reseed = function reseed(entropy, entropyEnc, add, addEnc) {\n  // Optional entropy enc\n  if (typeof entropyEnc !== 'string') {\n    addEnc = add;\n    add = entropyEnc;\n    entropyEnc = null;\n  }\n\n  entropy = utils.toArray(entropy, entropyEnc);\n  add = utils.toArray(add, addEnc);\n\n  assert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n\n  this._update(entropy.concat(add || []));\n  this._reseed = 1;\n};\n\nHmacDRBG.prototype.generate = function generate(len, enc, add, addEnc) {\n  if (this._reseed > this.reseedInterval)\n    throw new Error('Reseed is required');\n\n  // Optional encoding\n  if (typeof enc !== 'string') {\n    addEnc = add;\n    add = enc;\n    enc = null;\n  }\n\n  // Optional additional data\n  if (add) {\n    add = utils.toArray(add, addEnc || 'hex');\n    this._update(add);\n  }\n\n  var temp = [];\n  while (temp.length < len) {\n    this.V = this._hmac().update(this.V).digest();\n    temp = temp.concat(this.V);\n  }\n\n  var res = temp.slice(0, len);\n  this._update(add);\n  this._reseed++;\n  return utils.encode(res, enc);\n};\n","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;\nvar badArrayLike;\nvar isCallableMarker;\nif (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {\n\ttry {\n\t\tbadArrayLike = Object.defineProperty({}, 'length', {\n\t\t\tget: function () {\n\t\t\t\tthrow isCallableMarker;\n\t\t\t}\n\t\t});\n\t\tisCallableMarker = {};\n\t\t// eslint-disable-next-line no-throw-literal\n\t\treflectApply(function () { throw 42; }, null, badArrayLike);\n\t} catch (_) {\n\t\tif (_ !== isCallableMarker) {\n\t\t\treflectApply = null;\n\t\t}\n\t}\n} else {\n\treflectApply = null;\n}\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar objectClass = '[object Object]';\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar ddaClass = '[object HTMLAllCollection]'; // IE 11\nvar ddaClass2 = '[object HTML document.all class]';\nvar ddaClass3 = '[object HTMLCollection]'; // IE 9-10\nvar hasToStringTag = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`\n\nvar isIE68 = !(0 in [,]); // eslint-disable-line no-sparse-arrays, comma-spacing\n\nvar isDDA = function isDocumentDotAll() { return false; };\nif (typeof document === 'object') {\n\t// Firefox 3 canonicalizes DDA to undefined when it's not accessed directly\n\tvar all = document.all;\n\tif (toStr.call(all) === toStr.call(document.all)) {\n\t\tisDDA = function isDocumentDotAll(value) {\n\t\t\t/* globals document: false */\n\t\t\t// in IE 6-8, typeof document.all is \"object\" and it's truthy\n\t\t\tif ((isIE68 || !value) && (typeof value === 'undefined' || typeof value === 'object')) {\n\t\t\t\ttry {\n\t\t\t\t\tvar str = toStr.call(value);\n\t\t\t\t\treturn (\n\t\t\t\t\t\tstr === ddaClass\n\t\t\t\t\t\t|| str === ddaClass2\n\t\t\t\t\t\t|| str === ddaClass3 // opera 12.16\n\t\t\t\t\t\t|| str === objectClass // IE 6-8\n\t\t\t\t\t) && value('') == null; // eslint-disable-line eqeqeq\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n}\n\nmodule.exports = reflectApply\n\t? function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\ttry {\n\t\t\treflectApply(value, null, badArrayLike);\n\t\t} catch (e) {\n\t\t\tif (e !== isCallableMarker) { return false; }\n\t\t}\n\t\treturn !isES6ClassFn(value) && tryFunctionObject(value);\n\t}\n\t: function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (hasToStringTag) { return tryFunctionObject(value); }\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tvar strClass = toStr.call(value);\n\t\tif (strClass !== fnClass && strClass !== genClass && !(/^\\[object HTML/).test(strClass)) { return false; }\n\t\treturn tryFunctionObject(value);\n\t};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar GeneratorFunction;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","/**\n * Returns a `Boolean` on whether or not the a `String` starts with '0x'\n * @param {String} str the string input value\n * @return {Boolean} a boolean if it is or is not hex prefixed\n * @throws if the str input is not a string\n */\nmodule.exports = function isHexPrefixed(str) {\n  if (typeof str !== 'string') {\n    throw new Error(\"[is-hex-prefixed] value must be type 'string', is currently type \" + (typeof str) + \", while checking isHexPrefixed.\");\n  }\n\n  return str.slice(0, 2) === '0x';\n}\n","'use strict';\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function isNaN(value) {\n\treturn value !== value;\n};\n","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Number);\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {\n\t\treturn Number.isNaN;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function shimNumberIsNaN() {\n\tvar polyfill = getPolyfill();\n\tdefine(Number, { isNaN: polyfill }, {\n\t\tisNaN: function testIsNaN() {\n\t\t\treturn Number.isNaN !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","'use strict';\n\nvar whichTypedArray = require('which-typed-array');\n\nmodule.exports = function isTypedArray(value) {\n\treturn !!whichTypedArray(value);\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nconst uuid = require('uuid/v4');\nconst generateRequest = require('../../generateRequest');\n\n/**\n * Constructor for a Jayson Browser Client that does not depend any node.js core libraries\n * @class ClientBrowser\n * @param {Function} callServer Method that calls the server, receives the stringified request and a regular node-style callback\n * @param {Object} [options]\n * @param {Function} [options.reviver] Reviver function for JSON\n * @param {Function} [options.replacer] Replacer function for JSON\n * @param {Number} [options.version=2] JSON-RPC version to use (1|2)\n * @param {Function} [options.generator] Function to use for generating request IDs\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n * @return {ClientBrowser}\n */\nconst ClientBrowser = function(callServer, options) {\n  if(!(this instanceof ClientBrowser)) {\n    return new ClientBrowser(callServer, options);\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  this.options = {\n    reviver: typeof options.reviver !== 'undefined' ? options.reviver : null,\n    replacer: typeof options.replacer !== 'undefined' ? options.replacer : null,\n    generator: typeof options.generator !== 'undefined' ? options.generator : function() { return uuid(); },\n    version: typeof options.version !== 'undefined' ? options.version : 2,\n    notificationIdNull: typeof options.notificationIdNull === 'boolean' ? options.notificationIdNull : false,\n  };\n\n  this.callServer = callServer;\n};\n\nmodule.exports = ClientBrowser;\n\n/**\n *  Creates a request and dispatches it if given a callback.\n *  @param {String|Array} method A batch request if passed an Array, or a method name if passed a String\n *  @param {Array|Object} [params] Parameters for the method\n *  @param {String|Number} [id] Optional id. If undefined an id will be generated. If null it creates a notification request\n *  @param {Function} [callback] Request callback. If specified, executes the request rather than only returning it.\n *  @throws {TypeError} Invalid parameters\n *  @return {Object} JSON-RPC 1.0 or 2.0 compatible request\n */\nClientBrowser.prototype.request = function(method, params, id, callback) {\n  const self = this;\n  let request = null;\n\n  // is this a batch request?\n  const isBatch = Array.isArray(method) && typeof params === 'function';\n\n  if (this.options.version === 1 && isBatch) {\n    throw new TypeError('JSON-RPC 1.0 does not support batching');\n  }\n\n  // is this a raw request?\n  const isRaw = !isBatch && method && typeof method === 'object' && typeof params === 'function';\n\n  if(isBatch || isRaw) {\n    callback = params;\n    request = method;\n  } else {\n    if(typeof id === 'function') {\n      callback = id;\n      // specifically undefined because \"null\" is a notification request\n      id = undefined;\n    }\n\n    const hasCallback = typeof callback === 'function';\n\n    try {\n      request = generateRequest(method, params, id, {\n        generator: this.options.generator,\n        version: this.options.version,\n        notificationIdNull: this.options.notificationIdNull,\n      });\n    } catch(err) {\n      if(hasCallback) {\n        return callback(err);\n      }\n      throw err;\n    }\n\n    // no callback means we should just return a raw request\n    if(!hasCallback) {\n      return request;\n    }\n\n  }\n\n  let message;\n  try {\n    message = JSON.stringify(request, this.options.replacer);\n  } catch(err) {\n    return callback(err);\n  }\n\n  this.callServer(message, function(err, response) {\n    self._parseResponse(err, response, callback);\n  });\n\n  // always return the raw request\n  return request;\n};\n\n/**\n * Parses a response from a server\n * @param {Object} err Error to pass on that is unrelated to the actual response\n * @param {String} responseText JSON-RPC 1.0 or 2.0 response\n * @param {Function} callback Callback that will receive different arguments depending on the amount of parameters\n * @private\n */\nClientBrowser.prototype._parseResponse = function(err, responseText, callback) {\n  if(err) {\n    callback(err);\n    return;\n  }\n\n  if(!responseText) {\n    // empty response text, assume that is correct because it could be a\n    // notification which jayson does not give any body for\n    return callback();\n  }\n\n  let response;\n  try {\n    response = JSON.parse(responseText, this.options.reviver);\n  } catch(err) {\n    return callback(err);\n  }\n\n  if(callback.length === 3) {\n    // if callback length is 3, we split callback arguments on error and response\n\n    // is batch response?\n    if(Array.isArray(response)) {\n\n      // neccesary to split strictly on validity according to spec here\n      const isError = function(res) {\n        return typeof res.error !== 'undefined';\n      };\n\n      const isNotError = function (res) {\n        return !isError(res);\n      };\n\n      return callback(null, response.filter(isError), response.filter(isNotError));\n    \n    } else {\n\n      // split regardless of validity\n      return callback(null, response.error, response.result);\n    \n    }\n  \n  }\n\n  callback(null, response);\n};\n","'use strict';\n\nconst uuid = require('uuid/v4');\n\n/**\n *  Generates a JSON-RPC 1.0 or 2.0 request\n *  @param {String} method Name of method to call\n *  @param {Array|Object} params Array of parameters passed to the method as specified, or an object of parameter names and corresponding value\n *  @param {String|Number|null} [id] Request ID can be a string, number, null for explicit notification or left out for automatic generation\n *  @param {Object} [options]\n *  @param {Number} [options.version=2] JSON-RPC version to use (1 or 2)\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n *  @param {Function} [options.generator] Passed the request, and the options object and is expected to return a request ID\n *  @throws {TypeError} If any of the parameters are invalid\n *  @return {Object} A JSON-RPC 1.0 or 2.0 request\n *  @memberOf Utils\n */\nconst generateRequest = function(method, params, id, options) {\n  if(typeof method !== 'string') {\n    throw new TypeError(method + ' must be a string');\n  }\n\n  options = options || {};\n\n  // check valid version provided\n  const version = typeof options.version === 'number' ? options.version : 2;\n  if (version !== 1 && version !== 2) {\n    throw new TypeError(version + ' must be 1 or 2');\n  }\n\n  const request = {\n    method: method\n  };\n\n  if(version === 2) {\n    request.jsonrpc = '2.0';\n  }\n\n  if(params) {\n    // params given, but invalid?\n    if(typeof params !== 'object' && !Array.isArray(params)) {\n      throw new TypeError(params + ' must be an object, array or omitted');\n    }\n    request.params = params;\n  }\n\n  // if id was left out, generate one (null means explicit notification)\n  if(typeof(id) === 'undefined') {\n    const generator = typeof options.generator === 'function' ? options.generator : function() { return uuid(); };\n    request.id = generator(request, options);\n  } else if (version === 2 && id === null) {\n    // we have a version 2 notification\n    if (options.notificationIdNull) {\n      request.id = null; // id will not be set at all unless option provided\n    }\n  } else {\n    request.id = id;\n  }\n\n  return request;\n};\n\nmodule.exports = generateRequest;\n","'use strict';\n\nconst uuid = require('uuid').v4;\nconst generateRequest = require('../../generateRequest');\n\n/**\n * Constructor for a Jayson Browser Client that does not depend any node.js core libraries\n * @class ClientBrowser\n * @param {Function} callServer Method that calls the server, receives the stringified request and a regular node-style callback\n * @param {Object} [options]\n * @param {Function} [options.reviver] Reviver function for JSON\n * @param {Function} [options.replacer] Replacer function for JSON\n * @param {Number} [options.version=2] JSON-RPC version to use (1|2)\n * @param {Function} [options.generator] Function to use for generating request IDs\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n * @return {ClientBrowser}\n */\nconst ClientBrowser = function(callServer, options) {\n  if(!(this instanceof ClientBrowser)) {\n    return new ClientBrowser(callServer, options);\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  this.options = {\n    reviver: typeof options.reviver !== 'undefined' ? options.reviver : null,\n    replacer: typeof options.replacer !== 'undefined' ? options.replacer : null,\n    generator: typeof options.generator !== 'undefined' ? options.generator : function() { return uuid(); },\n    version: typeof options.version !== 'undefined' ? options.version : 2,\n    notificationIdNull: typeof options.notificationIdNull === 'boolean' ? options.notificationIdNull : false,\n  };\n\n  this.callServer = callServer;\n};\n\nmodule.exports = ClientBrowser;\n\n/**\n *  Creates a request and dispatches it if given a callback.\n *  @param {String|Array} method A batch request if passed an Array, or a method name if passed a String\n *  @param {Array|Object} [params] Parameters for the method\n *  @param {String|Number} [id] Optional id. If undefined an id will be generated. If null it creates a notification request\n *  @param {Function} [callback] Request callback. If specified, executes the request rather than only returning it.\n *  @throws {TypeError} Invalid parameters\n *  @return {Object} JSON-RPC 1.0 or 2.0 compatible request\n */\nClientBrowser.prototype.request = function(method, params, id, callback) {\n  const self = this;\n  let request = null;\n\n  // is this a batch request?\n  const isBatch = Array.isArray(method) && typeof params === 'function';\n\n  if (this.options.version === 1 && isBatch) {\n    throw new TypeError('JSON-RPC 1.0 does not support batching');\n  }\n\n  // is this a raw request?\n  const isRaw = !isBatch && method && typeof method === 'object' && typeof params === 'function';\n\n  if(isBatch || isRaw) {\n    callback = params;\n    request = method;\n  } else {\n    if(typeof id === 'function') {\n      callback = id;\n      // specifically undefined because \"null\" is a notification request\n      id = undefined;\n    }\n\n    const hasCallback = typeof callback === 'function';\n\n    try {\n      request = generateRequest(method, params, id, {\n        generator: this.options.generator,\n        version: this.options.version,\n        notificationIdNull: this.options.notificationIdNull,\n      });\n    } catch(err) {\n      if(hasCallback) {\n        return callback(err);\n      }\n      throw err;\n    }\n\n    // no callback means we should just return a raw request\n    if(!hasCallback) {\n      return request;\n    }\n\n  }\n\n  let message;\n  try {\n    message = JSON.stringify(request, this.options.replacer);\n  } catch(err) {\n    return callback(err);\n  }\n\n  this.callServer(message, function(err, response) {\n    self._parseResponse(err, response, callback);\n  });\n\n  // always return the raw request\n  return request;\n};\n\n/**\n * Parses a response from a server\n * @param {Object} err Error to pass on that is unrelated to the actual response\n * @param {String} responseText JSON-RPC 1.0 or 2.0 response\n * @param {Function} callback Callback that will receive different arguments depending on the amount of parameters\n * @private\n */\nClientBrowser.prototype._parseResponse = function(err, responseText, callback) {\n  if(err) {\n    callback(err);\n    return;\n  }\n\n  if(!responseText) {\n    // empty response text, assume that is correct because it could be a\n    // notification which jayson does not give any body for\n    return callback();\n  }\n\n  let response;\n  try {\n    response = JSON.parse(responseText, this.options.reviver);\n  } catch(err) {\n    return callback(err);\n  }\n\n  if(callback.length === 3) {\n    // if callback length is 3, we split callback arguments on error and response\n\n    // is batch response?\n    if(Array.isArray(response)) {\n\n      // neccesary to split strictly on validity according to spec here\n      const isError = function(res) {\n        return typeof res.error !== 'undefined';\n      };\n\n      const isNotError = function (res) {\n        return !isError(res);\n      };\n\n      return callback(null, response.filter(isError), response.filter(isNotError));\n    \n    } else {\n\n      // split regardless of validity\n      return callback(null, response.error, response.result);\n    \n    }\n  \n  }\n\n  callback(null, response);\n};\n","'use strict';\n\nconst uuid = require('uuid').v4;\n\n/**\n *  Generates a JSON-RPC 1.0 or 2.0 request\n *  @param {String} method Name of method to call\n *  @param {Array|Object} params Array of parameters passed to the method as specified, or an object of parameter names and corresponding value\n *  @param {String|Number|null} [id] Request ID can be a string, number, null for explicit notification or left out for automatic generation\n *  @param {Object} [options]\n *  @param {Number} [options.version=2] JSON-RPC version to use (1 or 2)\n *  @param {Boolean} [options.notificationIdNull=false] When true, version 2 requests will set id to null instead of omitting it\n *  @param {Function} [options.generator] Passed the request, and the options object and is expected to return a request ID\n *  @throws {TypeError} If any of the parameters are invalid\n *  @return {Object} A JSON-RPC 1.0 or 2.0 request\n *  @memberOf Utils\n */\nconst generateRequest = function(method, params, id, options) {\n  if(typeof method !== 'string') {\n    throw new TypeError(method + ' must be a string');\n  }\n\n  options = options || {};\n\n  // check valid version provided\n  const version = typeof options.version === 'number' ? options.version : 2;\n  if (version !== 1 && version !== 2) {\n    throw new TypeError(version + ' must be 1 or 2');\n  }\n\n  const request = {\n    method: method\n  };\n\n  if(version === 2) {\n    request.jsonrpc = '2.0';\n  }\n\n  if(params) {\n    // params given, but invalid?\n    if(typeof params !== 'object' && !Array.isArray(params)) {\n      throw new TypeError(params + ' must be an object, array or omitted');\n    }\n    request.params = params;\n  }\n\n  // if id was left out, generate one (null means explicit notification)\n  if(typeof(id) === 'undefined') {\n    const generator = typeof options.generator === 'function' ? options.generator : function() { return uuid(); };\n    request.id = generator(request, options);\n  } else if (version === 2 && id === null) {\n    // we have a version 2 notification\n    if (options.notificationIdNull) {\n      request.id = null; // id will not be set at all unless option provided\n    }\n  } else {\n    request.id = id;\n  }\n\n  return request;\n};\n\nmodule.exports = generateRequest;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcEngine = void 0;\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\n/**\n * A JSON-RPC request and response processor.\n * Give it a stack of middleware, pass it requests, and get back responses.\n */\nclass JsonRpcEngine extends safe_event_emitter_1.default {\n    constructor() {\n        super();\n        this._middleware = [];\n    }\n    /**\n     * Add a middleware function to the engine's middleware stack.\n     *\n     * @param middleware - The middleware function to add.\n     */\n    push(middleware) {\n        this._middleware.push(middleware);\n    }\n    handle(req, cb) {\n        if (cb && typeof cb !== 'function') {\n            throw new Error('\"callback\" must be a function if provided.');\n        }\n        if (Array.isArray(req)) {\n            if (cb) {\n                return this._handleBatch(req, cb);\n            }\n            return this._handleBatch(req);\n        }\n        if (cb) {\n            return this._handle(req, cb);\n        }\n        return this._promiseHandle(req);\n    }\n    /**\n     * Returns this engine as a middleware function that can be pushed to other\n     * engines.\n     *\n     * @returns This engine as a middleware function.\n     */\n    asMiddleware() {\n        return async (req, res, next, end) => {\n            try {\n                const [middlewareError, isComplete, returnHandlers,] = await JsonRpcEngine._runAllMiddleware(req, res, this._middleware);\n                if (isComplete) {\n                    await JsonRpcEngine._runReturnHandlers(returnHandlers);\n                    return end(middlewareError);\n                }\n                return next(async (handlerCallback) => {\n                    try {\n                        await JsonRpcEngine._runReturnHandlers(returnHandlers);\n                    }\n                    catch (error) {\n                        return handlerCallback(error);\n                    }\n                    return handlerCallback();\n                });\n            }\n            catch (error) {\n                return end(error);\n            }\n        };\n    }\n    async _handleBatch(reqs, cb) {\n        // The order here is important\n        try {\n            // 2. Wait for all requests to finish, or throw on some kind of fatal\n            // error\n            const responses = await Promise.all(\n            // 1. Begin executing each request in the order received\n            reqs.map(this._promiseHandle.bind(this)));\n            // 3. Return batch response\n            if (cb) {\n                return cb(null, responses);\n            }\n            return responses;\n        }\n        catch (error) {\n            if (cb) {\n                return cb(error);\n            }\n            throw error;\n        }\n    }\n    /**\n     * A promise-wrapped _handle.\n     */\n    _promiseHandle(req) {\n        return new Promise((resolve) => {\n            this._handle(req, (_err, res) => {\n                // There will always be a response, and it will always have any error\n                // that is caught and propagated.\n                resolve(res);\n            });\n        });\n    }\n    /**\n     * Ensures that the request object is valid, processes it, and passes any\n     * error and the response object to the given callback.\n     *\n     * Does not reject.\n     */\n    async _handle(callerReq, cb) {\n        if (!callerReq ||\n            Array.isArray(callerReq) ||\n            typeof callerReq !== 'object') {\n            const error = new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.invalidRequest, `Requests must be plain objects. Received: ${typeof callerReq}`, { request: callerReq });\n            return cb(error, { id: undefined, jsonrpc: '2.0', error });\n        }\n        if (typeof callerReq.method !== 'string') {\n            const error = new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.invalidRequest, `Must specify a string method. Received: ${typeof callerReq.method}`, { request: callerReq });\n            return cb(error, { id: callerReq.id, jsonrpc: '2.0', error });\n        }\n        const req = Object.assign({}, callerReq);\n        const res = {\n            id: req.id,\n            jsonrpc: req.jsonrpc,\n        };\n        let error = null;\n        try {\n            await this._processRequest(req, res);\n        }\n        catch (_error) {\n            // A request handler error, a re-thrown middleware error, or something\n            // unexpected.\n            error = _error;\n        }\n        if (error) {\n            // Ensure no result is present on an errored response\n            delete res.result;\n            if (!res.error) {\n                res.error = eth_rpc_errors_1.serializeError(error);\n            }\n        }\n        return cb(error, res);\n    }\n    /**\n     * For the given request and response, runs all middleware and their return\n     * handlers, if any, and ensures that internal request processing semantics\n     * are satisfied.\n     */\n    async _processRequest(req, res) {\n        const [error, isComplete, returnHandlers,] = await JsonRpcEngine._runAllMiddleware(req, res, this._middleware);\n        // Throw if \"end\" was not called, or if the response has neither a result\n        // nor an error.\n        JsonRpcEngine._checkForCompletion(req, res, isComplete);\n        // The return handlers should run even if an error was encountered during\n        // middleware processing.\n        await JsonRpcEngine._runReturnHandlers(returnHandlers);\n        // Now we re-throw the middleware processing error, if any, to catch it\n        // further up the call chain.\n        if (error) {\n            throw error;\n        }\n    }\n    /**\n     * Serially executes the given stack of middleware.\n     *\n     * @returns An array of any error encountered during middleware execution,\n     * a boolean indicating whether the request was completed, and an array of\n     * middleware-defined return handlers.\n     */\n    static async _runAllMiddleware(req, res, middlewareStack) {\n        const returnHandlers = [];\n        let error = null;\n        let isComplete = false;\n        // Go down stack of middleware, call and collect optional returnHandlers\n        for (const middleware of middlewareStack) {\n            [error, isComplete] = await JsonRpcEngine._runMiddleware(req, res, middleware, returnHandlers);\n            if (isComplete) {\n                break;\n            }\n        }\n        return [error, isComplete, returnHandlers.reverse()];\n    }\n    /**\n     * Runs an individual middleware.\n     *\n     * @returns An array of any error encountered during middleware exection,\n     * and a boolean indicating whether the request should end.\n     */\n    static _runMiddleware(req, res, middleware, returnHandlers) {\n        return new Promise((resolve) => {\n            const end = (err) => {\n                const error = err || res.error;\n                if (error) {\n                    res.error = eth_rpc_errors_1.serializeError(error);\n                }\n                // True indicates that the request should end\n                resolve([error, true]);\n            };\n            const next = (returnHandler) => {\n                if (res.error) {\n                    end(res.error);\n                }\n                else {\n                    if (returnHandler) {\n                        if (typeof returnHandler !== 'function') {\n                            end(new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal, `JsonRpcEngine: \"next\" return handlers must be functions. ` +\n                                `Received \"${typeof returnHandler}\" for request:\\n${jsonify(req)}`, { request: req }));\n                        }\n                        returnHandlers.push(returnHandler);\n                    }\n                    // False indicates that the request should not end\n                    resolve([null, false]);\n                }\n            };\n            try {\n                middleware(req, res, next, end);\n            }\n            catch (error) {\n                end(error);\n            }\n        });\n    }\n    /**\n     * Serially executes array of return handlers. The request and response are\n     * assumed to be in their scope.\n     */\n    static async _runReturnHandlers(handlers) {\n        for (const handler of handlers) {\n            await new Promise((resolve, reject) => {\n                handler((err) => (err ? reject(err) : resolve()));\n            });\n        }\n    }\n    /**\n     * Throws an error if the response has neither a result nor an error, or if\n     * the \"isComplete\" flag is falsy.\n     */\n    static _checkForCompletion(req, res, isComplete) {\n        if (!('result' in res) && !('error' in res)) {\n            throw new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal, `JsonRpcEngine: Response has no error or result for request:\\n${jsonify(req)}`, { request: req });\n        }\n        if (!isComplete) {\n            throw new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal, `JsonRpcEngine: Nothing ended request:\\n${jsonify(req)}`, { request: req });\n        }\n    }\n}\nexports.JsonRpcEngine = JsonRpcEngine;\nfunction jsonify(request) {\n    return JSON.stringify(request, null, 2);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAsyncMiddleware = void 0;\n/**\n * JsonRpcEngine only accepts callback-based middleware directly.\n * createAsyncMiddleware exists to enable consumers to pass in async middleware\n * functions.\n *\n * Async middleware have no \"end\" function. Instead, they \"end\" if they return\n * without calling \"next\". Rather than passing in explicit return handlers,\n * async middleware can simply await \"next\", and perform operations on the\n * response object when execution resumes.\n *\n * To accomplish this, createAsyncMiddleware passes the async middleware a\n * wrapped \"next\" function. That function calls the internal JsonRpcEngine\n * \"next\" function with a return handler that resolves a promise when called.\n *\n * The return handler will always be called. Its resolution of the promise\n * enables the control flow described above.\n */\nfunction createAsyncMiddleware(asyncMiddleware) {\n    return async (req, res, next, end) => {\n        // nextPromise is the key to the implementation\n        // it is resolved by the return handler passed to the\n        // \"next\" function\n        let resolveNextPromise;\n        const nextPromise = new Promise((resolve) => {\n            resolveNextPromise = resolve;\n        });\n        let returnHandlerCallback = null;\n        let nextWasCalled = false;\n        // This will be called by the consumer's async middleware.\n        const asyncNext = async () => {\n            nextWasCalled = true;\n            // We pass a return handler to next(). When it is called by the engine,\n            // the consumer's async middleware will resume executing.\n            // eslint-disable-next-line node/callback-return\n            next((runReturnHandlersCallback) => {\n                // This callback comes from JsonRpcEngine._runReturnHandlers\n                returnHandlerCallback = runReturnHandlersCallback;\n                resolveNextPromise();\n            });\n            await nextPromise;\n        };\n        try {\n            await asyncMiddleware(req, res, asyncNext);\n            if (nextWasCalled) {\n                await nextPromise; // we must wait until the return handler is called\n                returnHandlerCallback(null);\n            }\n            else {\n                end(null);\n            }\n        }\n        catch (error) {\n            if (returnHandlerCallback) {\n                returnHandlerCallback(error);\n            }\n            else {\n                end(error);\n            }\n        }\n    };\n}\nexports.createAsyncMiddleware = createAsyncMiddleware;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createScaffoldMiddleware = void 0;\nfunction createScaffoldMiddleware(handlers) {\n    return (req, res, next, end) => {\n        const handler = handlers[req.method];\n        // if no handler, return\n        if (handler === undefined) {\n            return next();\n        }\n        // if handler is fn, call as middleware\n        if (typeof handler === 'function') {\n            return handler(req, res, next, end);\n        }\n        // if handler is some other value, use as result\n        res.result = handler;\n        return end();\n    };\n}\nexports.createScaffoldMiddleware = createScaffoldMiddleware;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUniqueId = void 0;\n// uint32 (two's complement) max\n// more conservative than Number.MAX_SAFE_INTEGER\nconst MAX = 4294967295;\nlet idCounter = Math.floor(Math.random() * MAX);\nfunction getUniqueId() {\n    idCounter = (idCounter + 1) % MAX;\n    return idCounter;\n}\nexports.getUniqueId = getUniqueId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createIdRemapMiddleware = void 0;\nconst getUniqueId_1 = require(\"./getUniqueId\");\nfunction createIdRemapMiddleware() {\n    return (req, res, next, _end) => {\n        const originalId = req.id;\n        const newId = getUniqueId_1.getUniqueId();\n        req.id = newId;\n        res.id = newId;\n        next((done) => {\n            req.id = originalId;\n            res.id = originalId;\n            done();\n        });\n    };\n}\nexports.createIdRemapMiddleware = createIdRemapMiddleware;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./idRemapMiddleware\"), exports);\n__exportStar(require(\"./createAsyncMiddleware\"), exports);\n__exportStar(require(\"./createScaffoldMiddleware\"), exports);\n__exportStar(require(\"./getUniqueId\"), exports);\n__exportStar(require(\"./JsonRpcEngine\"), exports);\n__exportStar(require(\"./mergeMiddleware\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeMiddleware = void 0;\nconst JsonRpcEngine_1 = require(\"./JsonRpcEngine\");\nfunction mergeMiddleware(middlewareStack) {\n    const engine = new JsonRpcEngine_1.JsonRpcEngine();\n    middlewareStack.forEach((middleware) => engine.push(middleware));\n    return engine.asMiddleware();\n}\nexports.mergeMiddleware = mergeMiddleware;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * Takes a JsonRpcEngine and returns a Duplex stream wrapping it.\n *\n * @param opts - Options bag.\n * @param opts.engine - The JsonRpcEngine to wrap in a stream.\n * @returns The stream wrapping the engine.\n */\nfunction createEngineStream(opts) {\n    if (!opts || !opts.engine) {\n        throw new Error('Missing engine parameter!');\n    }\n    const { engine } = opts;\n    const stream = new readable_stream_1.Duplex({ objectMode: true, read, write });\n    // forward notifications\n    if (engine.on) {\n        engine.on('notification', (message) => {\n            stream.push(message);\n        });\n    }\n    return stream;\n    function read() {\n        return undefined;\n    }\n    function write(req, _encoding, cb) {\n        engine.handle(req, (_err, res) => {\n            stream.push(res);\n        });\n        cb();\n    }\n}\nexports.default = createEngineStream;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * Creates a JsonRpcEngine middleware with an associated Duplex stream and\n * EventEmitter. The middleware, and by extension stream, assume that middleware\n * parameters are properly formatted. No runtime type checking or validation is\n * performed.\n *\n * @returns The event emitter, middleware, and stream.\n */\nfunction createStreamMiddleware() {\n    const idMap = {};\n    const stream = new readable_stream_1.Duplex({\n        objectMode: true,\n        read: readNoop,\n        write: processMessage,\n    });\n    const events = new safe_event_emitter_1.default();\n    const middleware = (req, res, next, end) => {\n        // write req to stream\n        stream.push(req);\n        // register request on id map\n        idMap[req.id] = { req, res, next, end };\n    };\n    return { events, middleware, stream };\n    function readNoop() {\n        return false;\n    }\n    function processMessage(res, _encoding, cb) {\n        let err;\n        try {\n            const isNotification = !res.id;\n            if (isNotification) {\n                processNotification(res);\n            }\n            else {\n                processResponse(res);\n            }\n        }\n        catch (_err) {\n            err = _err;\n        }\n        // continue processing stream\n        cb(err);\n    }\n    function processResponse(res) {\n        const context = idMap[res.id];\n        if (!context) {\n            throw new Error(`StreamMiddleware - Unknown response id \"${res.id}\"`);\n        }\n        delete idMap[res.id];\n        // copy whole res onto original res\n        Object.assign(context.res, res);\n        // run callback on empty stack,\n        // prevent internal stream-handler from catching errors\n        setTimeout(context.end);\n    }\n    function processNotification(res) {\n        events.emit('notification', res);\n    }\n}\nexports.default = createStreamMiddleware;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createStreamMiddleware = exports.createEngineStream = void 0;\nconst createEngineStream_1 = __importDefault(require(\"./createEngineStream\"));\nexports.createEngineStream = createEngineStream_1.default;\nconst createStreamMiddleware_1 = __importDefault(require(\"./createStreamMiddleware\"));\nexports.createStreamMiddleware = createStreamMiddleware_1.default;\n","'use strict';\n\nvar json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nvar isArray = Array.isArray || function (x) {\n\treturn {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n\tvar has = Object.prototype.hasOwnProperty || function () { return true; };\n\tvar keys = [];\n\tfor (var key in obj) {\n\t\tif (has.call(obj, key)) { keys.push(key); }\n\t}\n\treturn keys;\n};\n\nmodule.exports = function (obj, opts) {\n\tif (!opts) { opts = {}; }\n\tif (typeof opts === 'function') { opts = { cmp: opts }; }\n\tvar space = opts.space || '';\n\tif (typeof space === 'number') { space = Array(space + 1).join(' '); }\n\tvar cycles = typeof opts.cycles === 'boolean' ? opts.cycles : false;\n\tvar replacer = opts.replacer || function (key, value) { return value; };\n\n\tvar cmp = opts.cmp && (function (f) {\n\t\treturn function (node) {\n\t\t\treturn function (a, b) {\n\t\t\t\tvar aobj = { key: a, value: node[a] };\n\t\t\t\tvar bobj = { key: b, value: node[b] };\n\t\t\t\treturn f(aobj, bobj);\n\t\t\t};\n\t\t};\n\t}(opts.cmp));\n\n\tvar seen = [];\n\treturn (function stringify(parent, key, node, level) {\n\t\tvar indent = space ? '\\n' + new Array(level + 1).join(space) : '';\n\t\tvar colonSeparator = space ? ': ' : ':';\n\n\t\tif (node && node.toJSON && typeof node.toJSON === 'function') {\n\t\t\tnode = node.toJSON();\n\t\t}\n\n\t\tnode = replacer.call(parent, key, node);\n\n\t\tif (node === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof node !== 'object' || node === null) {\n\t\t\treturn json.stringify(node);\n\t\t}\n\t\tif (isArray(node)) {\n\t\t\tvar out = [];\n\t\t\tfor (var i = 0; i < node.length; i++) {\n\t\t\t\tvar item = stringify(node, i, node[i], level + 1) || json.stringify(null);\n\t\t\t\tout.push(indent + space + item);\n\t\t\t}\n\t\t\treturn '[' + out.join(',') + indent + ']';\n\t\t}\n\n\t\tif (seen.indexOf(node) !== -1) {\n\t\t\tif (cycles) { return json.stringify('__cycle__'); }\n\t\t\tthrow new TypeError('Converting circular structure to JSON');\n\t\t} else { seen.push(node); }\n\n\t\tvar keys = objectKeys(node).sort(cmp && cmp(node));\n\t\tvar out = [];\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tvar value = stringify(node, key, node[key], level + 1);\n\n\t\t\tif (!value) { continue; }\n\n\t\t\tvar keyValue = json.stringify(key)\n\t\t\t\t\t+ colonSeparator\n\t\t\t\t\t+ value;\n\n\t\t\tout.push(indent + space + keyValue);\n\t\t}\n\t\tseen.splice(seen.indexOf(node), 1);\n\t\treturn '{' + out.join(',') + indent + '}';\n\n\t}({ '': obj }, '', obj, 0));\n};\n","'use strict';\n\nexports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n","'use strict';\n\nvar at; // The index of the current character\nvar ch; // The current character\nvar escapee = {\n\t'\"': '\"',\n\t'\\\\': '\\\\',\n\t'/': '/',\n\tb: '\\b',\n\tf: '\\f',\n\tn: '\\n',\n\tr: '\\r',\n\tt: '\\t'\n};\nvar text;\n\n// Call error when something is wrong.\nfunction error(m) {\n\tthrow {\n\t\tname: 'SyntaxError',\n\t\tmessage: m,\n\t\tat: at,\n\t\ttext: text\n\t};\n}\n\nfunction next(c) {\n\t// If a c parameter is provided, verify that it matches the current character.\n\tif (c && c !== ch) {\n\t\terror(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n\t}\n\n\t// Get the next character. When there are no more characters, return the empty string.\n\n\tch = text.charAt(at);\n\tat += 1;\n\treturn ch;\n}\n\nfunction number() {\n\t// Parse a number value.\n\tvar num;\n\tvar str = '';\n\n\tif (ch === '-') {\n\t\tstr = '-';\n\t\tnext('-');\n\t}\n\twhile (ch >= '0' && ch <= '9') {\n\t\tstr += ch;\n\t\tnext();\n\t}\n\tif (ch === '.') {\n\t\tstr += '.';\n\t\twhile (next() && ch >= '0' && ch <= '9') {\n\t\t\tstr += ch;\n\t\t}\n\t}\n\tif (ch === 'e' || ch === 'E') {\n\t\tstr += ch;\n\t\tnext();\n\t\tif (ch === '-' || ch === '+') {\n\t\t\tstr += ch;\n\t\t\tnext();\n\t\t}\n\t\twhile (ch >= '0' && ch <= '9') {\n\t\t\tstr += ch;\n\t\t\tnext();\n\t\t}\n\t}\n\tnum = Number(str);\n\tif (!isFinite(num)) {\n\t\terror('Bad number');\n\t}\n\treturn num;\n}\n\nfunction string() {\n\t// Parse a string value.\n\tvar hex;\n\tvar i;\n\tvar str = '';\n\tvar uffff;\n\n\t// When parsing for string values, we must look for \" and \\ characters.\n\tif (ch === '\"') {\n\t\twhile (next()) {\n\t\t\tif (ch === '\"') {\n\t\t\t\tnext();\n\t\t\t\treturn str;\n\t\t\t} else if (ch === '\\\\') {\n\t\t\t\tnext();\n\t\t\t\tif (ch === 'u') {\n\t\t\t\t\tuffff = 0;\n\t\t\t\t\tfor (i = 0; i < 4; i += 1) {\n\t\t\t\t\t\thex = parseInt(next(), 16);\n\t\t\t\t\t\tif (!isFinite(hex)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuffff = (uffff * 16) + hex;\n\t\t\t\t\t}\n\t\t\t\t\tstr += String.fromCharCode(uffff);\n\t\t\t\t} else if (typeof escapee[ch] === 'string') {\n\t\t\t\t\tstr += escapee[ch];\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr += ch;\n\t\t\t}\n\t\t}\n\t}\n\terror('Bad string');\n}\n\n// Skip whitespace.\nfunction white() {\n\twhile (ch && ch <= ' ') {\n\t\tnext();\n\t}\n}\n\n// true, false, or null.\nfunction word() {\n\tswitch (ch) {\n\t\tcase 't':\n\t\t\tnext('t');\n\t\t\tnext('r');\n\t\t\tnext('u');\n\t\t\tnext('e');\n\t\t\treturn true;\n\t\tcase 'f':\n\t\t\tnext('f');\n\t\t\tnext('a');\n\t\t\tnext('l');\n\t\t\tnext('s');\n\t\t\tnext('e');\n\t\t\treturn false;\n\t\tcase 'n':\n\t\t\tnext('n');\n\t\t\tnext('u');\n\t\t\tnext('l');\n\t\t\tnext('l');\n\t\t\treturn null;\n\t\tdefault:\n\t\t\terror(\"Unexpected '\" + ch + \"'\");\n\t}\n}\n\n// Parse an array value.\nfunction array() {\n\tvar arr = [];\n\n\tif (ch === '[') {\n\t\tnext('[');\n\t\twhite();\n\t\tif (ch === ']') {\n\t\t\tnext(']');\n\t\t\treturn arr; // empty array\n\t\t}\n\t\twhile (ch) {\n\t\t\tarr.push(value()); // eslint-disable-line no-use-before-define\n\t\t\twhite();\n\t\t\tif (ch === ']') {\n\t\t\t\tnext(']');\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tnext(',');\n\t\t\twhite();\n\t\t}\n\t}\n\terror('Bad array');\n}\n\n// Parse an object value.\nfunction object() {\n\tvar key;\n\tvar obj = {};\n\n\tif (ch === '{') {\n\t\tnext('{');\n\t\twhite();\n\t\tif (ch === '}') {\n\t\t\tnext('}');\n\t\t\treturn obj; // empty object\n\t\t}\n\t\twhile (ch) {\n\t\t\tkey = string();\n\t\t\twhite();\n\t\t\tnext(':');\n\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\t\terror('Duplicate key \"' + key + '\"');\n\t\t\t}\n\t\t\tobj[key] = value(); // eslint-disable-line no-use-before-define\n\t\t\twhite();\n\t\t\tif (ch === '}') {\n\t\t\t\tnext('}');\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\tnext(',');\n\t\t\twhite();\n\t\t}\n\t}\n\terror('Bad object');\n}\n\n// Parse a JSON value. It could be an object, an array, a string, a number, or a word.\nfunction value() {\n\twhite();\n\tswitch (ch) {\n\t\tcase '{':\n\t\t\treturn object();\n\t\tcase '[':\n\t\t\treturn array();\n\t\tcase '\"':\n\t\t\treturn string();\n\t\tcase '-':\n\t\t\treturn number();\n\t\tdefault:\n\t\t\treturn ch >= '0' && ch <= '9' ? number() : word();\n\t}\n}\n\n// Return the json_parse function. It will have access to all of the above functions and variables.\nmodule.exports = function (source, reviver) {\n\tvar result;\n\n\ttext = source;\n\tat = 0;\n\tch = ' ';\n\tresult = value();\n\twhite();\n\tif (ch) {\n\t\terror('Syntax error');\n\t}\n\n\t// If there is a reviver function, we recursively walk the new structure,\n\t// passing each name/value pair to the reviver function for possible\n\t// transformation, starting with a temporary root object that holds the result\n\t// in an empty key. If there is not a reviver function, we simply return the\n\t// result.\n\n\treturn typeof reviver === 'function' ? (function walk(holder, key) {\n\t\tvar k;\n\t\tvar v;\n\t\tvar val = holder[key];\n\t\tif (val && typeof val === 'object') {\n\t\t\tfor (k in value) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(val, k)) {\n\t\t\t\t\tv = walk(val, k);\n\t\t\t\t\tif (typeof v === 'undefined') {\n\t\t\t\t\t\tdelete val[k];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval[k] = v;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn reviver.call(holder, key, val);\n\t}({ '': result }, '')) : result;\n};\n","'use strict';\n\nvar escapable = /[\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\nvar gap;\nvar indent;\nvar meta = { // table of character substitutions\n\t'\\b': '\\\\b',\n\t'\\t': '\\\\t',\n\t'\\n': '\\\\n',\n\t'\\f': '\\\\f',\n\t'\\r': '\\\\r',\n\t'\"': '\\\\\"',\n\t'\\\\': '\\\\\\\\'\n};\nvar rep;\n\nfunction quote(string) {\n\t// If the string contains no control characters, no quote characters, and no\n\t// backslash characters, then we can safely slap some quotes around it.\n\t// Otherwise we must also replace the offending characters with safe escape sequences.\n\n\tescapable.lastIndex = 0;\n\treturn escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n\t\tvar c = meta[a];\n\t\treturn typeof c === 'string' ? c\n\t\t\t: '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n\t}) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n\t// Produce a string from holder[key].\n\tvar i; // The loop counter.\n\tvar k; // The member key.\n\tvar v; // The member value.\n\tvar length;\n\tvar mind = gap;\n\tvar partial;\n\tvar value = holder[key];\n\n\t// If the value has a toJSON method, call it to obtain a replacement value.\n\tif (value && typeof value === 'object' && typeof value.toJSON === 'function') {\n\t\tvalue = value.toJSON(key);\n\t}\n\n\t// If we were called with a replacer function, then call the replacer to obtain a replacement value.\n\tif (typeof rep === 'function') {\n\t\tvalue = rep.call(holder, key, value);\n\t}\n\n\t// What happens next depends on the value's type.\n\tswitch (typeof value) {\n\t\tcase 'string':\n\t\t\treturn quote(value);\n\n\t\tcase 'number':\n\t\t\t// JSON numbers must be finite. Encode non-finite numbers as null.\n\t\t\treturn isFinite(value) ? String(value) : 'null';\n\n\t\tcase 'boolean':\n\t\tcase 'null':\n\t\t\t// If the value is a boolean or null, convert it to a string. Note:\n\t\t\t// typeof null does not produce 'null'. The case is included here in\n\t\t\t// the remote chance that this gets fixed someday.\n\t\t\treturn String(value);\n\n\t\tcase 'object':\n\t\t\tif (!value) {\n\t\t\t\treturn 'null';\n\t\t\t}\n\t\t\tgap += indent;\n\t\t\tpartial = [];\n\n\t\t\t// Array.isArray\n\t\t\tif (Object.prototype.toString.apply(value) === '[object Array]') {\n\t\t\t\tlength = value.length;\n\t\t\t\tfor (i = 0; i < length; i += 1) {\n\t\t\t\t\tpartial[i] = str(i, value) || 'null';\n\t\t\t\t}\n\n\t\t\t\t// Join all of the elements together, separated with commas, and wrap them in brackets.\n\t\t\t\tv = partial.length === 0 ? '[]' : gap\n\t\t\t\t\t? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']'\n\t\t\t\t\t: '[' + partial.join(',') + ']';\n\t\t\t\tgap = mind;\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\t// If the replacer is an array, use it to select the members to be stringified.\n\t\t\tif (rep && typeof rep === 'object') {\n\t\t\t\tlength = rep.length;\n\t\t\t\tfor (i = 0; i < length; i += 1) {\n\t\t\t\t\tk = rep[i];\n\t\t\t\t\tif (typeof k === 'string') {\n\t\t\t\t\t\tv = str(k, value);\n\t\t\t\t\t\tif (v) {\n\t\t\t\t\t\t\tpartial.push(quote(k) + (gap ? ': ' : ':') + v);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Otherwise, iterate through all of the keys in the object.\n\t\t\t\tfor (k in value) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(value, k)) {\n\t\t\t\t\t\tv = str(k, value);\n\t\t\t\t\t\tif (v) {\n\t\t\t\t\t\t\tpartial.push(quote(k) + (gap ? ': ' : ':') + v);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Join all of the member texts together, separated with commas, and wrap them in braces.\n\n\t\t\tv = partial.length === 0 ? '{}' : gap\n\t\t\t\t? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}'\n\t\t\t\t: '{' + partial.join(',') + '}';\n\t\t\tgap = mind;\n\t\t\treturn v;\n\t\tdefault:\n\t}\n}\n\nmodule.exports = function (value, replacer, space) {\n\tvar i;\n\tgap = '';\n\tindent = '';\n\n\t// If the space parameter is a number, make an indent string containing that many spaces.\n\tif (typeof space === 'number') {\n\t\tfor (i = 0; i < space; i += 1) {\n\t\t\tindent += ' ';\n\t\t}\n\t} else if (typeof space === 'string') {\n\t\t// If the space parameter is a string, it will be used as the indent string.\n\t\tindent = space;\n\t}\n\n\t// If there is a replacer, it must be a function or an array. Otherwise, throw an error.\n\trep = replacer;\n\tif (\n\t\treplacer\n\t\t&& typeof replacer !== 'function'\n\t\t&& (typeof replacer !== 'object' || typeof replacer.length !== 'number')\n\t) {\n\t\tthrow new Error('JSON.stringify');\n\t}\n\n\t// Make a fake root object containing our value under the key of ''.\n\t// Return the result of stringifying the value.\n\treturn str('', { '': value });\n};\n","'use strict'\nvar inherits = require('inherits')\nvar HashBase = require('hash-base')\nvar Buffer = require('safe-buffer').Buffer\n\nvar ARRAY16 = new Array(16)\n\nfunction MD5 () {\n  HashBase.call(this, 64)\n\n  // state\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n}\n\ninherits(MD5, HashBase)\n\nMD5.prototype._update = function () {\n  var M = ARRAY16\n  for (var i = 0; i < 16; ++i) M[i] = this._block.readInt32LE(i * 4)\n\n  var a = this._a\n  var b = this._b\n  var c = this._c\n  var d = this._d\n\n  a = fnF(a, b, c, d, M[0], 0xd76aa478, 7)\n  d = fnF(d, a, b, c, M[1], 0xe8c7b756, 12)\n  c = fnF(c, d, a, b, M[2], 0x242070db, 17)\n  b = fnF(b, c, d, a, M[3], 0xc1bdceee, 22)\n  a = fnF(a, b, c, d, M[4], 0xf57c0faf, 7)\n  d = fnF(d, a, b, c, M[5], 0x4787c62a, 12)\n  c = fnF(c, d, a, b, M[6], 0xa8304613, 17)\n  b = fnF(b, c, d, a, M[7], 0xfd469501, 22)\n  a = fnF(a, b, c, d, M[8], 0x698098d8, 7)\n  d = fnF(d, a, b, c, M[9], 0x8b44f7af, 12)\n  c = fnF(c, d, a, b, M[10], 0xffff5bb1, 17)\n  b = fnF(b, c, d, a, M[11], 0x895cd7be, 22)\n  a = fnF(a, b, c, d, M[12], 0x6b901122, 7)\n  d = fnF(d, a, b, c, M[13], 0xfd987193, 12)\n  c = fnF(c, d, a, b, M[14], 0xa679438e, 17)\n  b = fnF(b, c, d, a, M[15], 0x49b40821, 22)\n\n  a = fnG(a, b, c, d, M[1], 0xf61e2562, 5)\n  d = fnG(d, a, b, c, M[6], 0xc040b340, 9)\n  c = fnG(c, d, a, b, M[11], 0x265e5a51, 14)\n  b = fnG(b, c, d, a, M[0], 0xe9b6c7aa, 20)\n  a = fnG(a, b, c, d, M[5], 0xd62f105d, 5)\n  d = fnG(d, a, b, c, M[10], 0x02441453, 9)\n  c = fnG(c, d, a, b, M[15], 0xd8a1e681, 14)\n  b = fnG(b, c, d, a, M[4], 0xe7d3fbc8, 20)\n  a = fnG(a, b, c, d, M[9], 0x21e1cde6, 5)\n  d = fnG(d, a, b, c, M[14], 0xc33707d6, 9)\n  c = fnG(c, d, a, b, M[3], 0xf4d50d87, 14)\n  b = fnG(b, c, d, a, M[8], 0x455a14ed, 20)\n  a = fnG(a, b, c, d, M[13], 0xa9e3e905, 5)\n  d = fnG(d, a, b, c, M[2], 0xfcefa3f8, 9)\n  c = fnG(c, d, a, b, M[7], 0x676f02d9, 14)\n  b = fnG(b, c, d, a, M[12], 0x8d2a4c8a, 20)\n\n  a = fnH(a, b, c, d, M[5], 0xfffa3942, 4)\n  d = fnH(d, a, b, c, M[8], 0x8771f681, 11)\n  c = fnH(c, d, a, b, M[11], 0x6d9d6122, 16)\n  b = fnH(b, c, d, a, M[14], 0xfde5380c, 23)\n  a = fnH(a, b, c, d, M[1], 0xa4beea44, 4)\n  d = fnH(d, a, b, c, M[4], 0x4bdecfa9, 11)\n  c = fnH(c, d, a, b, M[7], 0xf6bb4b60, 16)\n  b = fnH(b, c, d, a, M[10], 0xbebfbc70, 23)\n  a = fnH(a, b, c, d, M[13], 0x289b7ec6, 4)\n  d = fnH(d, a, b, c, M[0], 0xeaa127fa, 11)\n  c = fnH(c, d, a, b, M[3], 0xd4ef3085, 16)\n  b = fnH(b, c, d, a, M[6], 0x04881d05, 23)\n  a = fnH(a, b, c, d, M[9], 0xd9d4d039, 4)\n  d = fnH(d, a, b, c, M[12], 0xe6db99e5, 11)\n  c = fnH(c, d, a, b, M[15], 0x1fa27cf8, 16)\n  b = fnH(b, c, d, a, M[2], 0xc4ac5665, 23)\n\n  a = fnI(a, b, c, d, M[0], 0xf4292244, 6)\n  d = fnI(d, a, b, c, M[7], 0x432aff97, 10)\n  c = fnI(c, d, a, b, M[14], 0xab9423a7, 15)\n  b = fnI(b, c, d, a, M[5], 0xfc93a039, 21)\n  a = fnI(a, b, c, d, M[12], 0x655b59c3, 6)\n  d = fnI(d, a, b, c, M[3], 0x8f0ccc92, 10)\n  c = fnI(c, d, a, b, M[10], 0xffeff47d, 15)\n  b = fnI(b, c, d, a, M[1], 0x85845dd1, 21)\n  a = fnI(a, b, c, d, M[8], 0x6fa87e4f, 6)\n  d = fnI(d, a, b, c, M[15], 0xfe2ce6e0, 10)\n  c = fnI(c, d, a, b, M[6], 0xa3014314, 15)\n  b = fnI(b, c, d, a, M[13], 0x4e0811a1, 21)\n  a = fnI(a, b, c, d, M[4], 0xf7537e82, 6)\n  d = fnI(d, a, b, c, M[11], 0xbd3af235, 10)\n  c = fnI(c, d, a, b, M[2], 0x2ad7d2bb, 15)\n  b = fnI(b, c, d, a, M[9], 0xeb86d391, 21)\n\n  this._a = (this._a + a) | 0\n  this._b = (this._b + b) | 0\n  this._c = (this._c + c) | 0\n  this._d = (this._d + d) | 0\n}\n\nMD5.prototype._digest = function () {\n  // create padding and handle blocks\n  this._block[this._blockOffset++] = 0x80\n  if (this._blockOffset > 56) {\n    this._block.fill(0, this._blockOffset, 64)\n    this._update()\n    this._blockOffset = 0\n  }\n\n  this._block.fill(0, this._blockOffset, 56)\n  this._block.writeUInt32LE(this._length[0], 56)\n  this._block.writeUInt32LE(this._length[1], 60)\n  this._update()\n\n  // produce result\n  var buffer = Buffer.allocUnsafe(16)\n  buffer.writeInt32LE(this._a, 0)\n  buffer.writeInt32LE(this._b, 4)\n  buffer.writeInt32LE(this._c, 8)\n  buffer.writeInt32LE(this._d, 12)\n  return buffer\n}\n\nfunction rotl (x, n) {\n  return (x << n) | (x >>> (32 - n))\n}\n\nfunction fnF (a, b, c, d, m, k, s) {\n  return (rotl((a + ((b & c) | ((~b) & d)) + m + k) | 0, s) + b) | 0\n}\n\nfunction fnG (a, b, c, d, m, k, s) {\n  return (rotl((a + ((b & d) | (c & (~d))) + m + k) | 0, s) + b) | 0\n}\n\nfunction fnH (a, b, c, d, m, k, s) {\n  return (rotl((a + (b ^ c ^ d) + m + k) | 0, s) + b) | 0\n}\n\nfunction fnI (a, b, c, d, m, k, s) {\n  return (rotl((a + ((c ^ (b | (~d)))) + m + k) | 0, s) + b) | 0\n}\n\nmodule.exports = MD5\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvalidStatusCodeError = exports.InvalidCertError = void 0;\nconst DEFAULT_OPT = Object.freeze({\n    redirect: true,\n    expectStatusCode: 200,\n    headers: {},\n    full: false,\n    keepAlive: true,\n    cors: false,\n    referrer: false,\n    sslAllowSelfSigned: false,\n    _redirectCount: 0,\n});\nclass InvalidCertError extends Error {\n    constructor(msg, fingerprint256) {\n        super(msg);\n        this.fingerprint256 = fingerprint256;\n    }\n}\nexports.InvalidCertError = InvalidCertError;\nclass InvalidStatusCodeError extends Error {\n    constructor(statusCode) {\n        super(`Request Failed. Status Code: ${statusCode}`);\n        this.statusCode = statusCode;\n    }\n}\nexports.InvalidStatusCodeError = InvalidStatusCodeError;\nfunction detectType(b, type) {\n    if (!type || type === 'text' || type === 'json') {\n        try {\n            let text = new TextDecoder('utf8', { fatal: true }).decode(b);\n            if (type === 'text')\n                return text;\n            try {\n                return JSON.parse(text);\n            }\n            catch (err) {\n                if (type === 'json')\n                    throw err;\n                return text;\n            }\n        }\n        catch (err) {\n            if (type === 'text' || type === 'json')\n                throw err;\n        }\n    }\n    return b;\n}\nlet agents = {};\nfunction fetchNode(url, _options) {\n    let options = { ...DEFAULT_OPT, ..._options };\n    const http = require('http');\n    const https = require('https');\n    const zlib = require('zlib');\n    const { promisify } = require('util');\n    const { resolve: urlResolve } = require('url');\n    const isSecure = !!/^https/.test(url);\n    let opts = {\n        method: options.method || 'GET',\n        headers: { 'Accept-Encoding': 'gzip, deflate, br' },\n    };\n    const compactFP = (s) => s.replace(/:| /g, '').toLowerCase();\n    if (options.keepAlive) {\n        const agentOpt = {\n            keepAlive: true,\n            keepAliveMsecs: 30 * 1000,\n            maxFreeSockets: 1024,\n            maxCachedSessions: 1024,\n        };\n        const agentKey = [\n            isSecure,\n            isSecure && options.sslPinnedCertificates?.map((i) => compactFP(i)).sort(),\n        ].join();\n        opts.agent =\n            agents[agentKey] || (agents[agentKey] = new (isSecure ? https : http).Agent(agentOpt));\n    }\n    if (options.type === 'json')\n        opts.headers['Content-Type'] = 'application/json';\n    if (options.data) {\n        if (!options.method)\n            opts.method = 'POST';\n        opts.body = options.type === 'json' ? JSON.stringify(options.data) : options.data;\n    }\n    opts.headers = { ...opts.headers, ...options.headers };\n    if (options.sslAllowSelfSigned)\n        opts.rejectUnauthorized = false;\n    const handleRes = async (res) => {\n        const status = res.statusCode;\n        if (options.redirect && 300 <= status && status < 400 && res.headers['location']) {\n            if (options._redirectCount == 10)\n                throw new Error('Request failed. Too much redirects.');\n            options._redirectCount += 1;\n            return await fetchNode(urlResolve(url, res.headers['location']), options);\n        }\n        if (options.expectStatusCode && status !== options.expectStatusCode) {\n            res.resume();\n            throw new InvalidStatusCodeError(status);\n        }\n        let buf = [];\n        for await (const chunk of res)\n            buf.push(chunk);\n        let bytes = Buffer.concat(buf);\n        const encoding = res.headers['content-encoding'];\n        if (encoding === 'br')\n            bytes = await promisify(zlib.brotliDecompress)(bytes);\n        if (encoding === 'gzip' || encoding === 'deflate')\n            bytes = await promisify(zlib.unzip)(bytes);\n        const body = detectType(bytes, options.type);\n        if (options.full)\n            return { headers: res.headers, status, body };\n        return body;\n    };\n    return new Promise((resolve, reject) => {\n        const handleError = async (err) => {\n            if (err && err.code === 'DEPTH_ZERO_SELF_SIGNED_CERT') {\n                try {\n                    await fetchNode(url, { ...options, sslAllowSelfSigned: true, sslPinnedCertificates: [] });\n                }\n                catch (e) {\n                    if (e && e.fingerprint256) {\n                        err = new InvalidCertError(`Self-signed SSL certificate: ${e.fingerprint256}`, e.fingerprint256);\n                    }\n                }\n            }\n            reject(err);\n        };\n        const req = (isSecure ? https : http).request(url, opts, (res) => {\n            res.on('error', handleError);\n            (async () => {\n                try {\n                    resolve(await handleRes(res));\n                }\n                catch (error) {\n                    reject(error);\n                }\n            })();\n        });\n        req.on('error', handleError);\n        const pinned = options.sslPinnedCertificates?.map((i) => compactFP(i));\n        const mfetchSecureConnect = (socket) => {\n            const fp256 = compactFP(socket.getPeerCertificate()?.fingerprint256 || '');\n            if (!fp256 && socket.isSessionReused())\n                return;\n            if (pinned.includes(fp256))\n                return;\n            req.emit('error', new InvalidCertError(`Invalid SSL certificate: ${fp256} Expected: ${pinned}`, fp256));\n            return req.abort();\n        };\n        if (options.sslPinnedCertificates) {\n            req.on('socket', (socket) => {\n                const hasListeners = socket\n                    .listeners('secureConnect')\n                    .map((i) => (i.name || '').replace('bound ', ''))\n                    .includes('mfetchSecureConnect');\n                if (hasListeners)\n                    return;\n                socket.on('secureConnect', mfetchSecureConnect.bind(null, socket));\n            });\n        }\n        if (options.keepAlive)\n            req.setNoDelay(true);\n        if (opts.body)\n            req.write(opts.body);\n        req.end();\n    });\n}\nconst SAFE_HEADERS = new Set(['Accept', 'Accept-Language', 'Content-Language', 'Content-Type'].map((i) => i.toLowerCase()));\nconst FORBIDDEN_HEADERS = new Set(['Accept-Charset', 'Accept-Encoding', 'Access-Control-Request-Headers', 'Access-Control-Request-Method',\n    'Connection', 'Content-Length', 'Cookie', 'Cookie2', 'Date', 'DNT', 'Expect', 'Host', 'Keep-Alive', 'Origin', 'Referer', 'TE', 'Trailer',\n    'Transfer-Encoding', 'Upgrade', 'Via'].map((i) => i.toLowerCase()));\nasync function fetchBrowser(url, _options) {\n    let options = { ...DEFAULT_OPT, ..._options };\n    const headers = new Headers();\n    if (options.type === 'json')\n        headers.set('Content-Type', 'application/json');\n    let parsed = new URL(url);\n    if (parsed.username) {\n        const auth = btoa(`${parsed.username}:${parsed.password}`);\n        headers.set('Authorization', `Basic ${auth}`);\n        parsed.username = '';\n        parsed.password = '';\n    }\n    url = '' + parsed;\n    for (let k in options.headers) {\n        const name = k.toLowerCase();\n        if (SAFE_HEADERS.has(name) || (options.cors && !FORBIDDEN_HEADERS.has(name)))\n            headers.set(k, options.headers[k]);\n    }\n    let opts = { headers, redirect: options.redirect ? 'follow' : 'manual' };\n    if (!options.referrer)\n        opts.referrerPolicy = 'no-referrer';\n    if (options.cors)\n        opts.mode = 'cors';\n    if (options.data) {\n        if (!options.method)\n            opts.method = 'POST';\n        opts.body = options.type === 'json' ? JSON.stringify(options.data) : options.data;\n    }\n    const res = await fetch(url, opts);\n    if (options.expectStatusCode && res.status !== options.expectStatusCode)\n        throw new InvalidStatusCodeError(res.status);\n    const body = detectType(new Uint8Array(await res.arrayBuffer()), options.type);\n    if (options.full)\n        return { headers: Object.fromEntries(res.headers.entries()), status: res.status, body };\n    return body;\n}\nconst IS_NODE = !!(typeof process == 'object' &&\n    process.versions &&\n    process.versions.node &&\n    process.versions.v8);\nfunction fetchUrl(url, options) {\n    const fn = IS_NODE ? fetchNode : fetchBrowser;\n    return fn(url, options);\n}\nexports.default = fetchUrl;\n","var bn = require('bn.js');\nvar brorand = require('brorand');\n\nfunction MillerRabin(rand) {\n  this.rand = rand || new brorand.Rand();\n}\nmodule.exports = MillerRabin;\n\nMillerRabin.create = function create(rand) {\n  return new MillerRabin(rand);\n};\n\nMillerRabin.prototype._randbelow = function _randbelow(n) {\n  var len = n.bitLength();\n  var min_bytes = Math.ceil(len / 8);\n\n  // Generage random bytes until a number less than n is found.\n  // This ensures that 0..n-1 have an equal probability of being selected.\n  do\n    var a = new bn(this.rand.generate(min_bytes));\n  while (a.cmp(n) >= 0);\n\n  return a;\n};\n\nMillerRabin.prototype._randrange = function _randrange(start, stop) {\n  // Generate a random number greater than or equal to start and less than stop.\n  var size = stop.sub(start);\n  return start.add(this._randbelow(size));\n};\n\nMillerRabin.prototype.test = function test(n, k, cb) {\n  var len = n.bitLength();\n  var red = bn.mont(n);\n  var rone = new bn(1).toRed(red);\n\n  if (!k)\n    k = Math.max(1, (len / 48) | 0);\n\n  // Find d and s, (n - 1) = (2 ^ s) * d;\n  var n1 = n.subn(1);\n  for (var s = 0; !n1.testn(s); s++) {}\n  var d = n.shrn(s);\n\n  var rn1 = n1.toRed(red);\n\n  var prime = true;\n  for (; k > 0; k--) {\n    var a = this._randrange(new bn(2), n1);\n    if (cb)\n      cb(a);\n\n    var x = a.toRed(red).redPow(d);\n    if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)\n      continue;\n\n    for (var i = 1; i < s; i++) {\n      x = x.redSqr();\n\n      if (x.cmp(rone) === 0)\n        return false;\n      if (x.cmp(rn1) === 0)\n        break;\n    }\n\n    if (i === s)\n      return false;\n  }\n\n  return prime;\n};\n\nMillerRabin.prototype.getDivisor = function getDivisor(n, k) {\n  var len = n.bitLength();\n  var red = bn.mont(n);\n  var rone = new bn(1).toRed(red);\n\n  if (!k)\n    k = Math.max(1, (len / 48) | 0);\n\n  // Find d and s, (n - 1) = (2 ^ s) * d;\n  var n1 = n.subn(1);\n  for (var s = 0; !n1.testn(s); s++) {}\n  var d = n.shrn(s);\n\n  var rn1 = n1.toRed(red);\n\n  for (; k > 0; k--) {\n    var a = this._randrange(new bn(2), n1);\n\n    var g = n.gcd(a);\n    if (g.cmpn(1) !== 0)\n      return g;\n\n    var x = a.toRed(red).redPow(d);\n    if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)\n      continue;\n\n    for (var i = 1; i < s; i++) {\n      x = x.redSqr();\n\n      if (x.cmp(rone) === 0)\n        return x.fromRed().subn(1).gcd(n);\n      if (x.cmp(rn1) === 0)\n        break;\n    }\n\n    if (i === s) {\n      x = x.redSqr();\n      return x.fromRed().subn(1).gcd(n);\n    }\n  }\n\n  return false;\n};\n","module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","'use strict';\n\nvar utils = exports;\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg !== 'string') {\n    for (var i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n    return res;\n  }\n  if (enc === 'hex') {\n    msg = msg.replace(/[^a-z0-9]+/ig, '');\n    if (msg.length % 2 !== 0)\n      msg = '0' + msg;\n    for (var i = 0; i < msg.length; i += 2)\n      res.push(parseInt(msg[i] + msg[i + 1], 16));\n  } else {\n    for (var i = 0; i < msg.length; i++) {\n      var c = msg.charCodeAt(i);\n      var hi = c >> 8;\n      var lo = c & 0xff;\n      if (hi)\n        res.push(hi, lo);\n      else\n        res.push(lo);\n    }\n  }\n  return res;\n}\nutils.toArray = toArray;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nutils.zero2 = zero2;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nutils.toHex = toHex;\n\nutils.encode = function encode(arr, enc) {\n  if (enc === 'hex')\n    return toHex(arr);\n  else\n    return arr;\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","'use strict'\n\nclass Base {\n  constructor (name, code, implementation, alphabet) {\n    this.name = name\n    this.code = code\n    this.alphabet = alphabet\n    if (implementation && alphabet) {\n      this.engine = implementation(alphabet)\n    }\n  }\n\n  encode (stringOrBuffer) {\n    return this.engine.encode(stringOrBuffer)\n  }\n\n  decode (stringOrBuffer) {\n    return this.engine.decode(stringOrBuffer)\n  }\n\n  isImplemented () {\n    return this.engine\n  }\n}\n\nmodule.exports = Base\n","'use strict'\nconst { Buffer } = require('buffer')\n\nmodule.exports = function base16 (alphabet) {\n  return {\n    encode (input) {\n      if (typeof input === 'string') {\n        return Buffer.from(input).toString('hex')\n      }\n      return input.toString('hex')\n    },\n    decode (input) {\n      for (const char of input) {\n        if (alphabet.indexOf(char) < 0) {\n          throw new Error('invalid base16 character')\n        }\n      }\n      return Buffer.from(input, 'hex')\n    }\n  }\n}\n","'use strict'\n\nfunction decode (input, alphabet) {\n  input = input.replace(new RegExp('=', 'g'), '')\n  const length = input.length\n\n  let bits = 0\n  let value = 0\n\n  let index = 0\n  const output = new Uint8Array((length * 5 / 8) | 0)\n\n  for (let i = 0; i < length; i++) {\n    value = (value << 5) | alphabet.indexOf(input[i])\n    bits += 5\n\n    if (bits >= 8) {\n      output[index++] = (value >>> (bits - 8)) & 255\n      bits -= 8\n    }\n  }\n\n  return output.buffer\n}\n\nfunction encode (buffer, alphabet) {\n  const length = buffer.byteLength\n  const view = new Uint8Array(buffer)\n  const padding = alphabet.indexOf('=') === alphabet.length - 1\n\n  if (padding) {\n    alphabet = alphabet.substring(0, alphabet.length - 1)\n  }\n\n  let bits = 0\n  let value = 0\n  let output = ''\n\n  for (let i = 0; i < length; i++) {\n    value = (value << 8) | view[i]\n    bits += 8\n\n    while (bits >= 5) {\n      output += alphabet[(value >>> (bits - 5)) & 31]\n      bits -= 5\n    }\n  }\n\n  if (bits > 0) {\n    output += alphabet[(value << (5 - bits)) & 31]\n  }\n\n  if (padding) {\n    while ((output.length % 8) !== 0) {\n      output += '='\n    }\n  }\n\n  return output\n}\n\nmodule.exports = function base32 (alphabet) {\n  return {\n    encode (input) {\n      if (typeof input === 'string') {\n        return encode(Uint8Array.from(input), alphabet)\n      }\n\n      return encode(input, alphabet)\n    },\n    decode (input) {\n      for (const char of input) {\n        if (alphabet.indexOf(char) < 0) {\n          throw new Error('invalid base32 character')\n        }\n      }\n\n      return decode(input, alphabet)\n    }\n  }\n}\n","'use strict'\nconst { Buffer } = require('buffer')\n\nmodule.exports = function base64 (alphabet) {\n  // The alphabet is only used to know:\n  //   1. If padding is enabled (must contain '=')\n  //   2. If the output must be url-safe (must contain '-' and '_')\n  //   3. If the input of the output function is valid\n  // The alphabets from RFC 4648 are always used.\n  const padding = alphabet.indexOf('=') > -1\n  const url = alphabet.indexOf('-') > -1 && alphabet.indexOf('_') > -1\n\n  return {\n    encode (input) {\n      let output = ''\n\n      if (typeof input === 'string') {\n        output = Buffer.from(input).toString('base64')\n      } else {\n        output = input.toString('base64')\n      }\n\n      if (url) {\n        output = output.replace(/\\+/g, '-').replace(/\\//g, '_')\n      }\n\n      const pad = output.indexOf('=')\n      if (pad > 0 && !padding) {\n        output = output.substring(0, pad)\n      }\n\n      return output\n    },\n    decode (input) {\n      for (const char of input) {\n        if (alphabet.indexOf(char) < 0) {\n          throw new Error('invalid base64 character')\n        }\n      }\n\n      return Buffer.from(input, 'base64')\n    }\n  }\n}\n","'use strict'\n\nconst Base = require('./base.js')\nconst baseX = require('base-x')\nconst base16 = require('./base16')\nconst base32 = require('./base32')\nconst base64 = require('./base64')\n\n// name, code, implementation, alphabet\nconst constants = [\n  ['base1', '1', '', '1'],\n  ['base2', '0', baseX, '01'],\n  ['base8', '7', baseX, '01234567'],\n  ['base10', '9', baseX, '0123456789'],\n  ['base16', 'f', base16, '0123456789abcdef'],\n  ['base32', 'b', base32, 'abcdefghijklmnopqrstuvwxyz234567'],\n  ['base32pad', 'c', base32, 'abcdefghijklmnopqrstuvwxyz234567='],\n  ['base32hex', 'v', base32, '0123456789abcdefghijklmnopqrstuv'],\n  ['base32hexpad', 't', base32, '0123456789abcdefghijklmnopqrstuv='],\n  ['base32z', 'h', base32, 'ybndrfg8ejkmcpqxot1uwisza345h769'],\n  ['base58flickr', 'Z', baseX, '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'],\n  ['base58btc', 'z', baseX, '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'],\n  ['base64', 'm', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'],\n  ['base64pad', 'M', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='],\n  ['base64url', 'u', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'],\n  ['base64urlpad', 'U', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=']\n]\n\nconst names = constants.reduce((prev, tupple) => {\n  prev[tupple[0]] = new Base(tupple[0], tupple[1], tupple[2], tupple[3])\n  return prev\n}, {})\n\nconst codes = constants.reduce((prev, tupple) => {\n  prev[tupple[1]] = names[tupple[0]]\n  return prev\n}, {})\n\nmodule.exports = {\n  names: names,\n  codes: codes\n}\n","/**\n * Implementation of the [multibase](https://github.com/multiformats/multibase) specification.\n * @module Multibase\n */\n'use strict'\n\nconst { Buffer } = require('buffer')\nconst constants = require('./constants')\n\nexports = module.exports = multibase\nexports.encode = encode\nexports.decode = decode\nexports.isEncoded = isEncoded\nexports.names = Object.freeze(Object.keys(constants.names))\nexports.codes = Object.freeze(Object.keys(constants.codes))\n\nconst errNotSupported = new Error('Unsupported encoding')\n\n/**\n * Create a new buffer with the multibase varint+code.\n *\n * @param {string|number} nameOrCode - The multibase name or code number.\n * @param {Buffer} buf - The data to be prefixed with multibase.\n * @memberof Multibase\n * @returns {Buffer}\n */\nfunction multibase (nameOrCode, buf) {\n  if (!buf) {\n    throw new Error('requires an encoded buffer')\n  }\n  const base = getBase(nameOrCode)\n  const codeBuf = Buffer.from(base.code)\n\n  const name = base.name\n  validEncode(name, buf)\n  return Buffer.concat([codeBuf, buf])\n}\n\n/**\n * Encode data with the specified base and add the multibase prefix.\n *\n * @param {string|number} nameOrCode - The multibase name or code number.\n * @param {Buffer} buf - The data to be encoded.\n * @returns {Buffer}\n * @memberof Multibase\n */\nfunction encode (nameOrCode, buf) {\n  const base = getBase(nameOrCode)\n  const name = base.name\n\n  return multibase(name, Buffer.from(base.encode(buf)))\n}\n\n/**\n * Takes a buffer or string encoded with multibase header, decodes it and\n * returns the decoded buffer\n *\n * @param {Buffer|string} bufOrString\n * @returns {Buffer}\n * @memberof Multibase\n *\n */\nfunction decode (bufOrString) {\n  if (Buffer.isBuffer(bufOrString)) {\n    bufOrString = bufOrString.toString()\n  }\n\n  const code = bufOrString.substring(0, 1)\n  bufOrString = bufOrString.substring(1, bufOrString.length)\n\n  if (typeof bufOrString === 'string') {\n    bufOrString = Buffer.from(bufOrString)\n  }\n\n  const base = getBase(code)\n  return Buffer.from(base.decode(bufOrString.toString()))\n}\n\n/**\n * Is the given data multibase encoded?\n *\n * @param {Buffer|string} bufOrString\n * @returns {boolean}\n * @memberof Multibase\n */\nfunction isEncoded (bufOrString) {\n  if (Buffer.isBuffer(bufOrString)) {\n    bufOrString = bufOrString.toString()\n  }\n\n  // Ensure bufOrString is a string\n  if (Object.prototype.toString.call(bufOrString) !== '[object String]') {\n    return false\n  }\n\n  const code = bufOrString.substring(0, 1)\n  try {\n    const base = getBase(code)\n    return base.name\n  } catch (err) {\n    return false\n  }\n}\n\n/**\n * @param {string} name\n * @param {Buffer} buf\n * @private\n * @returns {undefined}\n */\nfunction validEncode (name, buf) {\n  const base = getBase(name)\n  base.decode(buf.toString())\n}\n\nfunction getBase (nameOrCode) {\n  let base\n\n  if (constants.names[nameOrCode]) {\n    base = constants.names[nameOrCode]\n  } else if (constants.codes[nameOrCode]) {\n    base = constants.codes[nameOrCode]\n  } else {\n    throw errNotSupported\n  }\n\n  if (!base.isImplemented()) {\n    throw new Error('Base ' + nameOrCode + ' is not implemented yet')\n  }\n\n  return base\n}\n","'use strict'\n\nclass Base {\n  constructor (name, code, implementation, alphabet) {\n    this.name = name\n    this.code = code\n    this.alphabet = alphabet\n    if (implementation && alphabet) {\n      this.engine = implementation(alphabet)\n    }\n  }\n\n  encode (stringOrBuffer) {\n    return this.engine.encode(stringOrBuffer)\n  }\n\n  decode (stringOrBuffer) {\n    return this.engine.decode(stringOrBuffer)\n  }\n\n  isImplemented () {\n    return this.engine\n  }\n}\n\nmodule.exports = Base\n","'use strict'\nconst { Buffer } = require('buffer')\n\nmodule.exports = function base16 (alphabet) {\n  return {\n    encode (input) {\n      if (typeof input === 'string') {\n        return Buffer.from(input).toString('hex')\n      }\n      return input.toString('hex')\n    },\n    decode (input) {\n      for (const char of input) {\n        if (alphabet.indexOf(char) < 0) {\n          throw new Error('invalid base16 character')\n        }\n      }\n      return Buffer.from(input, 'hex')\n    }\n  }\n}\n","'use strict'\n\nfunction decode (input, alphabet) {\n  input = input.replace(new RegExp('=', 'g'), '')\n  const length = input.length\n\n  let bits = 0\n  let value = 0\n\n  let index = 0\n  const output = new Uint8Array((length * 5 / 8) | 0)\n\n  for (let i = 0; i < length; i++) {\n    value = (value << 5) | alphabet.indexOf(input[i])\n    bits += 5\n\n    if (bits >= 8) {\n      output[index++] = (value >>> (bits - 8)) & 255\n      bits -= 8\n    }\n  }\n\n  return output.buffer\n}\n\nfunction encode (buffer, alphabet) {\n  const length = buffer.byteLength\n  const view = new Uint8Array(buffer)\n  const padding = alphabet.indexOf('=') === alphabet.length - 1\n\n  if (padding) {\n    alphabet = alphabet.substring(0, alphabet.length - 1)\n  }\n\n  let bits = 0\n  let value = 0\n  let output = ''\n\n  for (let i = 0; i < length; i++) {\n    value = (value << 8) | view[i]\n    bits += 8\n\n    while (bits >= 5) {\n      output += alphabet[(value >>> (bits - 5)) & 31]\n      bits -= 5\n    }\n  }\n\n  if (bits > 0) {\n    output += alphabet[(value << (5 - bits)) & 31]\n  }\n\n  if (padding) {\n    while ((output.length % 8) !== 0) {\n      output += '='\n    }\n  }\n\n  return output\n}\n\nmodule.exports = function base32 (alphabet) {\n  return {\n    encode (input) {\n      if (typeof input === 'string') {\n        return encode(Uint8Array.from(input), alphabet)\n      }\n\n      return encode(input, alphabet)\n    },\n    decode (input) {\n      for (const char of input) {\n        if (alphabet.indexOf(char) < 0) {\n          throw new Error('invalid base32 character')\n        }\n      }\n\n      return decode(input, alphabet)\n    }\n  }\n}\n","'use strict'\nconst { Buffer } = require('buffer')\n\nmodule.exports = function base64 (alphabet) {\n  // The alphabet is only used to know:\n  //   1. If padding is enabled (must contain '=')\n  //   2. If the output must be url-safe (must contain '-' and '_')\n  //   3. If the input of the output function is valid\n  // The alphabets from RFC 4648 are always used.\n  const padding = alphabet.indexOf('=') > -1\n  const url = alphabet.indexOf('-') > -1 && alphabet.indexOf('_') > -1\n\n  return {\n    encode (input) {\n      let output = ''\n\n      if (typeof input === 'string') {\n        output = Buffer.from(input).toString('base64')\n      } else {\n        output = input.toString('base64')\n      }\n\n      if (url) {\n        output = output.replace(/\\+/g, '-').replace(/\\//g, '_')\n      }\n\n      const pad = output.indexOf('=')\n      if (pad > 0 && !padding) {\n        output = output.substring(0, pad)\n      }\n\n      return output\n    },\n    decode (input) {\n      for (const char of input) {\n        if (alphabet.indexOf(char) < 0) {\n          throw new Error('invalid base64 character')\n        }\n      }\n\n      return Buffer.from(input, 'base64')\n    }\n  }\n}\n","'use strict'\n\nconst Base = require('./base.js')\nconst baseX = require('base-x')\nconst base16 = require('./base16')\nconst base32 = require('./base32')\nconst base64 = require('./base64')\n\n// name, code, implementation, alphabet\nconst constants = [\n  ['base1', '1', '', '1'],\n  ['base2', '0', baseX, '01'],\n  ['base8', '7', baseX, '01234567'],\n  ['base10', '9', baseX, '0123456789'],\n  ['base16', 'f', base16, '0123456789abcdef'],\n  ['base32', 'b', base32, 'abcdefghijklmnopqrstuvwxyz234567'],\n  ['base32pad', 'c', base32, 'abcdefghijklmnopqrstuvwxyz234567='],\n  ['base32hex', 'v', base32, '0123456789abcdefghijklmnopqrstuv'],\n  ['base32hexpad', 't', base32, '0123456789abcdefghijklmnopqrstuv='],\n  ['base32z', 'h', base32, 'ybndrfg8ejkmcpqxot1uwisza345h769'],\n  ['base58flickr', 'Z', baseX, '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'],\n  ['base58btc', 'z', baseX, '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'],\n  ['base64', 'm', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'],\n  ['base64pad', 'M', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='],\n  ['base64url', 'u', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'],\n  ['base64urlpad', 'U', base64, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=']\n]\n\nconst names = constants.reduce((prev, tupple) => {\n  prev[tupple[0]] = new Base(tupple[0], tupple[1], tupple[2], tupple[3])\n  return prev\n}, {})\n\nconst codes = constants.reduce((prev, tupple) => {\n  prev[tupple[1]] = names[tupple[0]]\n  return prev\n}, {})\n\nmodule.exports = {\n  names: names,\n  codes: codes\n}\n","/**\n * Implementation of the [multibase](https://github.com/multiformats/multibase) specification.\n * @module Multibase\n */\n'use strict'\n\nconst { Buffer } = require('buffer')\nconst constants = require('./constants')\n\nexports = module.exports = multibase\nexports.encode = encode\nexports.decode = decode\nexports.isEncoded = isEncoded\nexports.names = Object.freeze(Object.keys(constants.names))\nexports.codes = Object.freeze(Object.keys(constants.codes))\n\n/**\n * Create a new buffer with the multibase varint+code.\n *\n * @param {string|number} nameOrCode - The multibase name or code number.\n * @param {Buffer} buf - The data to be prefixed with multibase.\n * @memberof Multibase\n * @returns {Buffer}\n */\nfunction multibase (nameOrCode, buf) {\n  if (!buf) {\n    throw new Error('requires an encoded buffer')\n  }\n  const base = getBase(nameOrCode)\n  const codeBuf = Buffer.from(base.code)\n\n  const name = base.name\n  validEncode(name, buf)\n  return Buffer.concat([codeBuf, buf])\n}\n\n/**\n * Encode data with the specified base and add the multibase prefix.\n *\n * @param {string|number} nameOrCode - The multibase name or code number.\n * @param {Buffer} buf - The data to be encoded.\n * @returns {Buffer}\n * @memberof Multibase\n */\nfunction encode (nameOrCode, buf) {\n  const base = getBase(nameOrCode)\n  const name = base.name\n\n  return multibase(name, Buffer.from(base.encode(buf)))\n}\n\n/**\n * Takes a buffer or string encoded with multibase header, decodes it and\n * returns the decoded buffer\n *\n * @param {Buffer|string} bufOrString\n * @returns {Buffer}\n * @memberof Multibase\n *\n */\nfunction decode (bufOrString) {\n  if (Buffer.isBuffer(bufOrString)) {\n    bufOrString = bufOrString.toString()\n  }\n\n  const code = bufOrString.substring(0, 1)\n  bufOrString = bufOrString.substring(1, bufOrString.length)\n\n  if (typeof bufOrString === 'string') {\n    bufOrString = Buffer.from(bufOrString)\n  }\n\n  const base = getBase(code)\n  return Buffer.from(base.decode(bufOrString.toString()))\n}\n\n/**\n * Is the given data multibase encoded?\n *\n * @param {Buffer|string} bufOrString\n * @returns {boolean}\n * @memberof Multibase\n */\nfunction isEncoded (bufOrString) {\n  if (Buffer.isBuffer(bufOrString)) {\n    bufOrString = bufOrString.toString()\n  }\n\n  // Ensure bufOrString is a string\n  if (Object.prototype.toString.call(bufOrString) !== '[object String]') {\n    return false\n  }\n\n  const code = bufOrString.substring(0, 1)\n  try {\n    const base = getBase(code)\n    return base.name\n  } catch (err) {\n    return false\n  }\n}\n\n/**\n * @param {string} name\n * @param {Buffer} buf\n * @private\n * @returns {undefined}\n */\nfunction validEncode (name, buf) {\n  const base = getBase(name)\n  base.decode(buf.toString())\n}\n\nfunction getBase (nameOrCode) {\n  let base\n\n  if (constants.names[nameOrCode]) {\n    base = constants.names[nameOrCode]\n  } else if (constants.codes[nameOrCode]) {\n    base = constants.codes[nameOrCode]\n  } else {\n    throw new Error('Unsupported encoding')\n  }\n\n  if (!base.isImplemented()) {\n    throw new Error('Base ' + nameOrCode + ' is not implemented yet')\n  }\n\n  return base\n}\n","'use strict';\n\nvar ensureCallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nvar byObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, currentQueue, i = 0;\n\tnew Observer(function () {\n\t\tvar callback;\n\t\tif (!queue) {\n\t\t\tif (!currentQueue) return;\n\t\t\tqueue = currentQueue;\n\t\t} else if (currentQueue) {\n\t\t\tqueue = currentQueue.concat(queue);\n\t\t}\n\t\tcurrentQueue = queue;\n\t\tqueue = null;\n\t\tif (typeof currentQueue === 'function') {\n\t\t\tcallback = currentQueue;\n\t\t\tcurrentQueue = null;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tnode.data = (i = ++i % 2); // Invoke other batch, to handle leftover callbacks in case of crash\n\t\twhile (currentQueue) {\n\t\t\tcallback = currentQueue.shift();\n\t\t\tif (!currentQueue.length) currentQueue = null;\n\t\t\tcallback();\n\t\t}\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tensureCallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process === 'object') && process && (typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// queueMicrotask\n\tif (typeof queueMicrotask === \"function\") {\n\t\treturn function (cb) { queueMicrotask(ensureCallable(cb)); };\n\t}\n\n\t// MutationObserver\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') return byObserver(MutationObserver);\n\t\tif (typeof WebKitMutationObserver === 'function') return byObserver(WebKitMutationObserver);\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(ensureCallable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif ((typeof setTimeout === 'function') || (typeof setTimeout === 'object')) {\n\t\treturn function (cb) { setTimeout(ensureCallable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n","var BN = require('bn.js');\nvar stripHexPrefix = require('strip-hex-prefix');\n\n/**\n * Returns a BN object, converts a number value to a BN\n * @param {String|Number|Object} `arg` input a string number, hex string number, number, BigNumber or BN object\n * @return {Object} `output` BN object of the number\n * @throws if the argument is not an array, object that isn't a bignumber, not a string number or number\n */\nmodule.exports = function numberToBN(arg) {\n  if (typeof arg === 'string' || typeof arg === 'number') {\n    var multiplier = new BN(1); // eslint-disable-line\n    var formattedString = String(arg).toLowerCase().trim();\n    var isHexPrefixed = formattedString.substr(0, 2) === '0x' || formattedString.substr(0, 3) === '-0x';\n    var stringArg = stripHexPrefix(formattedString); // eslint-disable-line\n    if (stringArg.substr(0, 1) === '-') {\n      stringArg = stripHexPrefix(stringArg.slice(1));\n      multiplier = new BN(-1, 10);\n    }\n    stringArg = stringArg === '' ? '0' : stringArg;\n\n    if ((!stringArg.match(/^-?[0-9]+$/) && stringArg.match(/^[0-9A-Fa-f]+$/))\n      || stringArg.match(/^[a-fA-F]+$/)\n      || (isHexPrefixed === true && stringArg.match(/^[0-9A-Fa-f]+$/))) {\n      return new BN(stringArg, 16).mul(multiplier);\n    }\n\n    if ((stringArg.match(/^-?[0-9]+$/) || stringArg === '') && isHexPrefixed === false) {\n      return new BN(stringArg, 10).mul(multiplier);\n    }\n  } else if (typeof arg === 'object' && arg.toString && (!arg.pop && !arg.push)) {\n    if (arg.toString(10).match(/^-?[0-9]+$/) && (arg.mul || arg.dividedToIntegerBy)) {\n      return new BN(arg.toString(10), 10);\n    }\n  }\n\n  throw new Error('[number-to-bn] while converting number ' + JSON.stringify(arg) + ' to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.');\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar objectKeys = require('object-keys');\nvar hasSymbols = require('has-symbols/shams')();\nvar callBound = require('call-bind/callBound');\nvar toObject = Object;\nvar $push = callBound('Array.prototype.push');\nvar $propIsEnumerable = callBound('Object.prototype.propertyIsEnumerable');\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function assign(target, source1) {\n\tif (target == null) { throw new TypeError('target must be an object'); }\n\tvar to = toObject(target); // step 1\n\tif (arguments.length === 1) {\n\t\treturn to; // step 2\n\t}\n\tfor (var s = 1; s < arguments.length; ++s) {\n\t\tvar from = toObject(arguments[s]); // step 3.a.i\n\n\t\t// step 3.a.ii:\n\t\tvar keys = objectKeys(from);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tvar syms = getSymbols(from);\n\t\t\tfor (var j = 0; j < syms.length; ++j) {\n\t\t\t\tvar key = syms[j];\n\t\t\t\tif ($propIsEnumerable(from, key)) {\n\t\t\t\t\t$push(keys, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// step 3.a.iii:\n\t\tfor (var i = 0; i < keys.length; ++i) {\n\t\t\tvar nextKey = keys[i];\n\t\t\tif ($propIsEnumerable(from, nextKey)) { // step 3.a.iii.2\n\t\t\t\tvar propValue = from[nextKey]; // step 3.a.iii.2.a\n\t\t\t\tto[nextKey] = propValue; // step 3.a.iii.2.b\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to; // step 4\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t/*\n\t * v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t * note: this does not detect the bug unless there's 20 characters\n\t */\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t/*\n\t * Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t * which is 72% slower than our shim, and Firefox 40's native implementation.\n\t */\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// from https://github.com/indutny/self-signed/blob/gh-pages/lib/asn1.js\n// Fedor, you are amazing.\n'use strict'\n\nvar asn1 = require('asn1.js')\n\nexports.certificate = require('./certificate')\n\nvar RSAPrivateKey = asn1.define('RSAPrivateKey', function () {\n  this.seq().obj(\n    this.key('version').int(),\n    this.key('modulus').int(),\n    this.key('publicExponent').int(),\n    this.key('privateExponent').int(),\n    this.key('prime1').int(),\n    this.key('prime2').int(),\n    this.key('exponent1').int(),\n    this.key('exponent2').int(),\n    this.key('coefficient').int()\n  )\n})\nexports.RSAPrivateKey = RSAPrivateKey\n\nvar RSAPublicKey = asn1.define('RSAPublicKey', function () {\n  this.seq().obj(\n    this.key('modulus').int(),\n    this.key('publicExponent').int()\n  )\n})\nexports.RSAPublicKey = RSAPublicKey\n\nvar PublicKey = asn1.define('SubjectPublicKeyInfo', function () {\n  this.seq().obj(\n    this.key('algorithm').use(AlgorithmIdentifier),\n    this.key('subjectPublicKey').bitstr()\n  )\n})\nexports.PublicKey = PublicKey\n\nvar AlgorithmIdentifier = asn1.define('AlgorithmIdentifier', function () {\n  this.seq().obj(\n    this.key('algorithm').objid(),\n    this.key('none').null_().optional(),\n    this.key('curve').objid().optional(),\n    this.key('params').seq().obj(\n      this.key('p').int(),\n      this.key('q').int(),\n      this.key('g').int()\n    ).optional()\n  )\n})\n\nvar PrivateKeyInfo = asn1.define('PrivateKeyInfo', function () {\n  this.seq().obj(\n    this.key('version').int(),\n    this.key('algorithm').use(AlgorithmIdentifier),\n    this.key('subjectPrivateKey').octstr()\n  )\n})\nexports.PrivateKey = PrivateKeyInfo\nvar EncryptedPrivateKeyInfo = asn1.define('EncryptedPrivateKeyInfo', function () {\n  this.seq().obj(\n    this.key('algorithm').seq().obj(\n      this.key('id').objid(),\n      this.key('decrypt').seq().obj(\n        this.key('kde').seq().obj(\n          this.key('id').objid(),\n          this.key('kdeparams').seq().obj(\n            this.key('salt').octstr(),\n            this.key('iters').int()\n          )\n        ),\n        this.key('cipher').seq().obj(\n          this.key('algo').objid(),\n          this.key('iv').octstr()\n        )\n      )\n    ),\n    this.key('subjectPrivateKey').octstr()\n  )\n})\n\nexports.EncryptedPrivateKey = EncryptedPrivateKeyInfo\n\nvar DSAPrivateKey = asn1.define('DSAPrivateKey', function () {\n  this.seq().obj(\n    this.key('version').int(),\n    this.key('p').int(),\n    this.key('q').int(),\n    this.key('g').int(),\n    this.key('pub_key').int(),\n    this.key('priv_key').int()\n  )\n})\nexports.DSAPrivateKey = DSAPrivateKey\n\nexports.DSAparam = asn1.define('DSAparam', function () {\n  this.int()\n})\n\nvar ECPrivateKey = asn1.define('ECPrivateKey', function () {\n  this.seq().obj(\n    this.key('version').int(),\n    this.key('privateKey').octstr(),\n    this.key('parameters').optional().explicit(0).use(ECParameters),\n    this.key('publicKey').optional().explicit(1).bitstr()\n  )\n})\nexports.ECPrivateKey = ECPrivateKey\n\nvar ECParameters = asn1.define('ECParameters', function () {\n  this.choice({\n    namedCurve: this.objid()\n  })\n})\n\nexports.signature = asn1.define('signature', function () {\n  this.seq().obj(\n    this.key('r').int(),\n    this.key('s').int()\n  )\n})\n","// from https://github.com/Rantanen/node-dtls/blob/25a7dc861bda38cfeac93a723500eea4f0ac2e86/Certificate.js\n// thanks to @Rantanen\n\n'use strict'\n\nvar asn = require('asn1.js')\n\nvar Time = asn.define('Time', function () {\n  this.choice({\n    utcTime: this.utctime(),\n    generalTime: this.gentime()\n  })\n})\n\nvar AttributeTypeValue = asn.define('AttributeTypeValue', function () {\n  this.seq().obj(\n    this.key('type').objid(),\n    this.key('value').any()\n  )\n})\n\nvar AlgorithmIdentifier = asn.define('AlgorithmIdentifier', function () {\n  this.seq().obj(\n    this.key('algorithm').objid(),\n    this.key('parameters').optional(),\n    this.key('curve').objid().optional()\n  )\n})\n\nvar SubjectPublicKeyInfo = asn.define('SubjectPublicKeyInfo', function () {\n  this.seq().obj(\n    this.key('algorithm').use(AlgorithmIdentifier),\n    this.key('subjectPublicKey').bitstr()\n  )\n})\n\nvar RelativeDistinguishedName = asn.define('RelativeDistinguishedName', function () {\n  this.setof(AttributeTypeValue)\n})\n\nvar RDNSequence = asn.define('RDNSequence', function () {\n  this.seqof(RelativeDistinguishedName)\n})\n\nvar Name = asn.define('Name', function () {\n  this.choice({\n    rdnSequence: this.use(RDNSequence)\n  })\n})\n\nvar Validity = asn.define('Validity', function () {\n  this.seq().obj(\n    this.key('notBefore').use(Time),\n    this.key('notAfter').use(Time)\n  )\n})\n\nvar Extension = asn.define('Extension', function () {\n  this.seq().obj(\n    this.key('extnID').objid(),\n    this.key('critical').bool().def(false),\n    this.key('extnValue').octstr()\n  )\n})\n\nvar TBSCertificate = asn.define('TBSCertificate', function () {\n  this.seq().obj(\n    this.key('version').explicit(0).int().optional(),\n    this.key('serialNumber').int(),\n    this.key('signature').use(AlgorithmIdentifier),\n    this.key('issuer').use(Name),\n    this.key('validity').use(Validity),\n    this.key('subject').use(Name),\n    this.key('subjectPublicKeyInfo').use(SubjectPublicKeyInfo),\n    this.key('issuerUniqueID').implicit(1).bitstr().optional(),\n    this.key('subjectUniqueID').implicit(2).bitstr().optional(),\n    this.key('extensions').explicit(3).seqof(Extension).optional()\n  )\n})\n\nvar X509Certificate = asn.define('X509Certificate', function () {\n  this.seq().obj(\n    this.key('tbsCertificate').use(TBSCertificate),\n    this.key('signatureAlgorithm').use(AlgorithmIdentifier),\n    this.key('signatureValue').bitstr()\n  )\n})\n\nmodule.exports = X509Certificate\n","// adapted from https://github.com/apatil/pemstrip\nvar findProc = /Proc-Type: 4,ENCRYPTED[\\n\\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\\n\\r]+([0-9A-z\\n\\r+/=]+)[\\n\\r]+/m\nvar startRegex = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m\nvar fullRegex = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\\n\\r+/=]+)-----END \\1-----$/m\nvar evp = require('evp_bytestokey')\nvar ciphers = require('browserify-aes')\nvar Buffer = require('safe-buffer').Buffer\nmodule.exports = function (okey, password) {\n  var key = okey.toString()\n  var match = key.match(findProc)\n  var decrypted\n  if (!match) {\n    var match2 = key.match(fullRegex)\n    decrypted = Buffer.from(match2[2].replace(/[\\r\\n]/g, ''), 'base64')\n  } else {\n    var suite = 'aes' + match[1]\n    var iv = Buffer.from(match[2], 'hex')\n    var cipherText = Buffer.from(match[3].replace(/[\\r\\n]/g, ''), 'base64')\n    var cipherKey = evp(password, iv.slice(0, 8), parseInt(match[1], 10)).key\n    var out = []\n    var cipher = ciphers.createDecipheriv(suite, cipherKey, iv)\n    out.push(cipher.update(cipherText))\n    out.push(cipher.final())\n    decrypted = Buffer.concat(out)\n  }\n  var tag = key.match(startRegex)[1]\n  return {\n    tag: tag,\n    data: decrypted\n  }\n}\n","var asn1 = require('./asn1')\nvar aesid = require('./aesid.json')\nvar fixProc = require('./fixProc')\nvar ciphers = require('browserify-aes')\nvar compat = require('pbkdf2')\nvar Buffer = require('safe-buffer').Buffer\nmodule.exports = parseKeys\n\nfunction parseKeys (buffer) {\n  var password\n  if (typeof buffer === 'object' && !Buffer.isBuffer(buffer)) {\n    password = buffer.passphrase\n    buffer = buffer.key\n  }\n  if (typeof buffer === 'string') {\n    buffer = Buffer.from(buffer)\n  }\n\n  var stripped = fixProc(buffer, password)\n\n  var type = stripped.tag\n  var data = stripped.data\n  var subtype, ndata\n  switch (type) {\n    case 'CERTIFICATE':\n      ndata = asn1.certificate.decode(data, 'der').tbsCertificate.subjectPublicKeyInfo\n      // falls through\n    case 'PUBLIC KEY':\n      if (!ndata) {\n        ndata = asn1.PublicKey.decode(data, 'der')\n      }\n      subtype = ndata.algorithm.algorithm.join('.')\n      switch (subtype) {\n        case '1.2.840.113549.1.1.1':\n          return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data, 'der')\n        case '1.2.840.10045.2.1':\n          ndata.subjectPrivateKey = ndata.subjectPublicKey\n          return {\n            type: 'ec',\n            data: ndata\n          }\n        case '1.2.840.10040.4.1':\n          ndata.algorithm.params.pub_key = asn1.DSAparam.decode(ndata.subjectPublicKey.data, 'der')\n          return {\n            type: 'dsa',\n            data: ndata.algorithm.params\n          }\n        default: throw new Error('unknown key id ' + subtype)\n      }\n      // throw new Error('unknown key type ' + type)\n    case 'ENCRYPTED PRIVATE KEY':\n      data = asn1.EncryptedPrivateKey.decode(data, 'der')\n      data = decrypt(data, password)\n      // falls through\n    case 'PRIVATE KEY':\n      ndata = asn1.PrivateKey.decode(data, 'der')\n      subtype = ndata.algorithm.algorithm.join('.')\n      switch (subtype) {\n        case '1.2.840.113549.1.1.1':\n          return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey, 'der')\n        case '1.2.840.10045.2.1':\n          return {\n            curve: ndata.algorithm.curve,\n            privateKey: asn1.ECPrivateKey.decode(ndata.subjectPrivateKey, 'der').privateKey\n          }\n        case '1.2.840.10040.4.1':\n          ndata.algorithm.params.priv_key = asn1.DSAparam.decode(ndata.subjectPrivateKey, 'der')\n          return {\n            type: 'dsa',\n            params: ndata.algorithm.params\n          }\n        default: throw new Error('unknown key id ' + subtype)\n      }\n      // throw new Error('unknown key type ' + type)\n    case 'RSA PUBLIC KEY':\n      return asn1.RSAPublicKey.decode(data, 'der')\n    case 'RSA PRIVATE KEY':\n      return asn1.RSAPrivateKey.decode(data, 'der')\n    case 'DSA PRIVATE KEY':\n      return {\n        type: 'dsa',\n        params: asn1.DSAPrivateKey.decode(data, 'der')\n      }\n    case 'EC PRIVATE KEY':\n      data = asn1.ECPrivateKey.decode(data, 'der')\n      return {\n        curve: data.parameters.value,\n        privateKey: data.privateKey\n      }\n    default: throw new Error('unknown key type ' + type)\n  }\n}\nparseKeys.signature = asn1.signature\nfunction decrypt (data, password) {\n  var salt = data.algorithm.decrypt.kde.kdeparams.salt\n  var iters = parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(), 10)\n  var algo = aesid[data.algorithm.decrypt.cipher.algo.join('.')]\n  var iv = data.algorithm.decrypt.cipher.iv\n  var cipherText = data.subjectPrivateKey\n  var keylen = parseInt(algo.split('-')[1], 10) / 8\n  var key = compat.pbkdf2Sync(password, salt, iters, keylen, 'sha1')\n  var cipher = ciphers.createDecipheriv(algo, key, iv)\n  var out = []\n  out.push(cipher.update(cipherText))\n  out.push(cipher.final())\n  return Buffer.concat(out)\n}\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","exports.pbkdf2 = require('./lib/async')\nexports.pbkdf2Sync = require('./lib/sync')\n","var Buffer = require('safe-buffer').Buffer\n\nvar checkParameters = require('./precondition')\nvar defaultEncoding = require('./default-encoding')\nvar sync = require('./sync')\nvar toBuffer = require('./to-buffer')\n\nvar ZERO_BUF\nvar subtle = global.crypto && global.crypto.subtle\nvar toBrowser = {\n  sha: 'SHA-1',\n  'sha-1': 'SHA-1',\n  sha1: 'SHA-1',\n  sha256: 'SHA-256',\n  'sha-256': 'SHA-256',\n  sha384: 'SHA-384',\n  'sha-384': 'SHA-384',\n  'sha-512': 'SHA-512',\n  sha512: 'SHA-512'\n}\nvar checks = []\nfunction checkNative (algo) {\n  if (global.process && !global.process.browser) {\n    return Promise.resolve(false)\n  }\n  if (!subtle || !subtle.importKey || !subtle.deriveBits) {\n    return Promise.resolve(false)\n  }\n  if (checks[algo] !== undefined) {\n    return checks[algo]\n  }\n  ZERO_BUF = ZERO_BUF || Buffer.alloc(8)\n  var prom = browserPbkdf2(ZERO_BUF, ZERO_BUF, 10, 128, algo)\n    .then(function () {\n      return true\n    }).catch(function () {\n      return false\n    })\n  checks[algo] = prom\n  return prom\n}\nvar nextTick\nfunction getNextTick () {\n  if (nextTick) {\n    return nextTick\n  }\n  if (global.process && global.process.nextTick) {\n    nextTick = global.process.nextTick\n  } else if (global.queueMicrotask) {\n    nextTick = global.queueMicrotask\n  } else if (global.setImmediate) {\n    nextTick = global.setImmediate\n  } else {\n    nextTick = global.setTimeout\n  }\n  return nextTick\n}\nfunction browserPbkdf2 (password, salt, iterations, length, algo) {\n  return subtle.importKey(\n    'raw', password, { name: 'PBKDF2' }, false, ['deriveBits']\n  ).then(function (key) {\n    return subtle.deriveBits({\n      name: 'PBKDF2',\n      salt: salt,\n      iterations: iterations,\n      hash: {\n        name: algo\n      }\n    }, key, length << 3)\n  }).then(function (res) {\n    return Buffer.from(res)\n  })\n}\n\nfunction resolvePromise (promise, callback) {\n  promise.then(function (out) {\n    getNextTick()(function () {\n      callback(null, out)\n    })\n  }, function (e) {\n    getNextTick()(function () {\n      callback(e)\n    })\n  })\n}\nmodule.exports = function (password, salt, iterations, keylen, digest, callback) {\n  if (typeof digest === 'function') {\n    callback = digest\n    digest = undefined\n  }\n\n  digest = digest || 'sha1'\n  var algo = toBrowser[digest.toLowerCase()]\n\n  if (!algo || typeof global.Promise !== 'function') {\n    getNextTick()(function () {\n      var out\n      try {\n        out = sync(password, salt, iterations, keylen, digest)\n      } catch (e) {\n        return callback(e)\n      }\n      callback(null, out)\n    })\n    return\n  }\n\n  checkParameters(iterations, keylen)\n  password = toBuffer(password, defaultEncoding, 'Password')\n  salt = toBuffer(salt, defaultEncoding, 'Salt')\n  if (typeof callback !== 'function') throw new Error('No callback provided to pbkdf2')\n\n  resolvePromise(checkNative(algo).then(function (resp) {\n    if (resp) return browserPbkdf2(password, salt, iterations, keylen, algo)\n\n    return sync(password, salt, iterations, keylen, digest)\n  }), callback)\n}\n","var defaultEncoding\n/* istanbul ignore next */\nif (global.process && global.process.browser) {\n  defaultEncoding = 'utf-8'\n} else if (global.process && global.process.version) {\n  var pVersionMajor = parseInt(process.version.split('.')[0].slice(1), 10)\n\n  defaultEncoding = pVersionMajor >= 6 ? 'utf-8' : 'binary'\n} else {\n  defaultEncoding = 'utf-8'\n}\nmodule.exports = defaultEncoding\n","var MAX_ALLOC = Math.pow(2, 30) - 1 // default in iojs\n\nmodule.exports = function (iterations, keylen) {\n  if (typeof iterations !== 'number') {\n    throw new TypeError('Iterations not a number')\n  }\n\n  if (iterations < 0) {\n    throw new TypeError('Bad iterations')\n  }\n\n  if (typeof keylen !== 'number') {\n    throw new TypeError('Key length not a number')\n  }\n\n  if (keylen < 0 || keylen > MAX_ALLOC || keylen !== keylen) { /* eslint no-self-compare: 0 */\n    throw new TypeError('Bad key length')\n  }\n}\n","var md5 = require('create-hash/md5')\nvar RIPEMD160 = require('ripemd160')\nvar sha = require('sha.js')\nvar Buffer = require('safe-buffer').Buffer\n\nvar checkParameters = require('./precondition')\nvar defaultEncoding = require('./default-encoding')\nvar toBuffer = require('./to-buffer')\n\nvar ZEROS = Buffer.alloc(128)\nvar sizes = {\n  md5: 16,\n  sha1: 20,\n  sha224: 28,\n  sha256: 32,\n  sha384: 48,\n  sha512: 64,\n  rmd160: 20,\n  ripemd160: 20\n}\n\nfunction Hmac (alg, key, saltLen) {\n  var hash = getDigest(alg)\n  var blocksize = (alg === 'sha512' || alg === 'sha384') ? 128 : 64\n\n  if (key.length > blocksize) {\n    key = hash(key)\n  } else if (key.length < blocksize) {\n    key = Buffer.concat([key, ZEROS], blocksize)\n  }\n\n  var ipad = Buffer.allocUnsafe(blocksize + sizes[alg])\n  var opad = Buffer.allocUnsafe(blocksize + sizes[alg])\n  for (var i = 0; i < blocksize; i++) {\n    ipad[i] = key[i] ^ 0x36\n    opad[i] = key[i] ^ 0x5C\n  }\n\n  var ipad1 = Buffer.allocUnsafe(blocksize + saltLen + 4)\n  ipad.copy(ipad1, 0, 0, blocksize)\n  this.ipad1 = ipad1\n  this.ipad2 = ipad\n  this.opad = opad\n  this.alg = alg\n  this.blocksize = blocksize\n  this.hash = hash\n  this.size = sizes[alg]\n}\n\nHmac.prototype.run = function (data, ipad) {\n  data.copy(ipad, this.blocksize)\n  var h = this.hash(ipad)\n  h.copy(this.opad, this.blocksize)\n  return this.hash(this.opad)\n}\n\nfunction getDigest (alg) {\n  function shaFunc (data) {\n    return sha(alg).update(data).digest()\n  }\n  function rmd160Func (data) {\n    return new RIPEMD160().update(data).digest()\n  }\n\n  if (alg === 'rmd160' || alg === 'ripemd160') return rmd160Func\n  if (alg === 'md5') return md5\n  return shaFunc\n}\n\nfunction pbkdf2 (password, salt, iterations, keylen, digest) {\n  checkParameters(iterations, keylen)\n  password = toBuffer(password, defaultEncoding, 'Password')\n  salt = toBuffer(salt, defaultEncoding, 'Salt')\n\n  digest = digest || 'sha1'\n\n  var hmac = new Hmac(digest, password, salt.length)\n\n  var DK = Buffer.allocUnsafe(keylen)\n  var block1 = Buffer.allocUnsafe(salt.length + 4)\n  salt.copy(block1, 0, 0, salt.length)\n\n  var destPos = 0\n  var hLen = sizes[digest]\n  var l = Math.ceil(keylen / hLen)\n\n  for (var i = 1; i <= l; i++) {\n    block1.writeUInt32BE(i, salt.length)\n\n    var T = hmac.run(block1, hmac.ipad1)\n    var U = T\n\n    for (var j = 1; j < iterations; j++) {\n      U = hmac.run(U, hmac.ipad2)\n      for (var k = 0; k < hLen; k++) T[k] ^= U[k]\n    }\n\n    T.copy(DK, destPos)\n    destPos += hLen\n  }\n\n  return DK\n}\n\nmodule.exports = pbkdf2\n","var Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function (thing, encoding, name) {\n  if (Buffer.isBuffer(thing)) {\n    return thing\n  } else if (typeof thing === 'string') {\n    return Buffer.from(thing, encoding)\n  } else if (ArrayBuffer.isView(thing)) {\n    return Buffer.from(thing.buffer)\n  } else {\n    throw new TypeError(name + ' must be a string, a Buffer, a typed array or a DataView')\n  }\n}\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","exports.publicEncrypt = require('./publicEncrypt')\nexports.privateDecrypt = require('./privateDecrypt')\n\nexports.privateEncrypt = function privateEncrypt (key, buf) {\n  return exports.publicEncrypt(key, buf, true)\n}\n\nexports.publicDecrypt = function publicDecrypt (key, buf) {\n  return exports.privateDecrypt(key, buf, true)\n}\n","var createHash = require('create-hash')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function (seed, len) {\n  var t = Buffer.alloc(0)\n  var i = 0\n  var c\n  while (t.length < len) {\n    c = i2ops(i++)\n    t = Buffer.concat([t, createHash('sha1').update(seed).update(c).digest()])\n  }\n  return t.slice(0, len)\n}\n\nfunction i2ops (c) {\n  var out = Buffer.allocUnsafe(4)\n  out.writeUInt32BE(c, 0)\n  return out\n}\n","var parseKeys = require('parse-asn1')\nvar mgf = require('./mgf')\nvar xor = require('./xor')\nvar BN = require('bn.js')\nvar crt = require('browserify-rsa')\nvar createHash = require('create-hash')\nvar withPublic = require('./withPublic')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function privateDecrypt (privateKey, enc, reverse) {\n  var padding\n  if (privateKey.padding) {\n    padding = privateKey.padding\n  } else if (reverse) {\n    padding = 1\n  } else {\n    padding = 4\n  }\n\n  var key = parseKeys(privateKey)\n  var k = key.modulus.byteLength()\n  if (enc.length > k || new BN(enc).cmp(key.modulus) >= 0) {\n    throw new Error('decryption error')\n  }\n  var msg\n  if (reverse) {\n    msg = withPublic(new BN(enc), key)\n  } else {\n    msg = crt(enc, key)\n  }\n  var zBuffer = Buffer.alloc(k - msg.length)\n  msg = Buffer.concat([zBuffer, msg], k)\n  if (padding === 4) {\n    return oaep(key, msg)\n  } else if (padding === 1) {\n    return pkcs1(key, msg, reverse)\n  } else if (padding === 3) {\n    return msg\n  } else {\n    throw new Error('unknown padding')\n  }\n}\n\nfunction oaep (key, msg) {\n  var k = key.modulus.byteLength()\n  var iHash = createHash('sha1').update(Buffer.alloc(0)).digest()\n  var hLen = iHash.length\n  if (msg[0] !== 0) {\n    throw new Error('decryption error')\n  }\n  var maskedSeed = msg.slice(1, hLen + 1)\n  var maskedDb = msg.slice(hLen + 1)\n  var seed = xor(maskedSeed, mgf(maskedDb, hLen))\n  var db = xor(maskedDb, mgf(seed, k - hLen - 1))\n  if (compare(iHash, db.slice(0, hLen))) {\n    throw new Error('decryption error')\n  }\n  var i = hLen\n  while (db[i] === 0) {\n    i++\n  }\n  if (db[i++] !== 1) {\n    throw new Error('decryption error')\n  }\n  return db.slice(i)\n}\n\nfunction pkcs1 (key, msg, reverse) {\n  var p1 = msg.slice(0, 2)\n  var i = 2\n  var status = 0\n  while (msg[i++] !== 0) {\n    if (i >= msg.length) {\n      status++\n      break\n    }\n  }\n  var ps = msg.slice(2, i - 1)\n\n  if ((p1.toString('hex') !== '0002' && !reverse) || (p1.toString('hex') !== '0001' && reverse)) {\n    status++\n  }\n  if (ps.length < 8) {\n    status++\n  }\n  if (status) {\n    throw new Error('decryption error')\n  }\n  return msg.slice(i)\n}\nfunction compare (a, b) {\n  a = Buffer.from(a)\n  b = Buffer.from(b)\n  var dif = 0\n  var len = a.length\n  if (a.length !== b.length) {\n    dif++\n    len = Math.min(a.length, b.length)\n  }\n  var i = -1\n  while (++i < len) {\n    dif += (a[i] ^ b[i])\n  }\n  return dif\n}\n","var parseKeys = require('parse-asn1')\nvar randomBytes = require('randombytes')\nvar createHash = require('create-hash')\nvar mgf = require('./mgf')\nvar xor = require('./xor')\nvar BN = require('bn.js')\nvar withPublic = require('./withPublic')\nvar crt = require('browserify-rsa')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function publicEncrypt (publicKey, msg, reverse) {\n  var padding\n  if (publicKey.padding) {\n    padding = publicKey.padding\n  } else if (reverse) {\n    padding = 1\n  } else {\n    padding = 4\n  }\n  var key = parseKeys(publicKey)\n  var paddedMsg\n  if (padding === 4) {\n    paddedMsg = oaep(key, msg)\n  } else if (padding === 1) {\n    paddedMsg = pkcs1(key, msg, reverse)\n  } else if (padding === 3) {\n    paddedMsg = new BN(msg)\n    if (paddedMsg.cmp(key.modulus) >= 0) {\n      throw new Error('data too long for modulus')\n    }\n  } else {\n    throw new Error('unknown padding')\n  }\n  if (reverse) {\n    return crt(paddedMsg, key)\n  } else {\n    return withPublic(paddedMsg, key)\n  }\n}\n\nfunction oaep (key, msg) {\n  var k = key.modulus.byteLength()\n  var mLen = msg.length\n  var iHash = createHash('sha1').update(Buffer.alloc(0)).digest()\n  var hLen = iHash.length\n  var hLen2 = 2 * hLen\n  if (mLen > k - hLen2 - 2) {\n    throw new Error('message too long')\n  }\n  var ps = Buffer.alloc(k - mLen - hLen2 - 2)\n  var dblen = k - hLen - 1\n  var seed = randomBytes(hLen)\n  var maskedDb = xor(Buffer.concat([iHash, ps, Buffer.alloc(1, 1), msg], dblen), mgf(seed, dblen))\n  var maskedSeed = xor(seed, mgf(maskedDb, hLen))\n  return new BN(Buffer.concat([Buffer.alloc(1), maskedSeed, maskedDb], k))\n}\nfunction pkcs1 (key, msg, reverse) {\n  var mLen = msg.length\n  var k = key.modulus.byteLength()\n  if (mLen > k - 11) {\n    throw new Error('message too long')\n  }\n  var ps\n  if (reverse) {\n    ps = Buffer.alloc(k - mLen - 3, 0xff)\n  } else {\n    ps = nonZero(k - mLen - 3)\n  }\n  return new BN(Buffer.concat([Buffer.from([0, reverse ? 1 : 2]), ps, Buffer.alloc(1), msg], k))\n}\nfunction nonZero (len) {\n  var out = Buffer.allocUnsafe(len)\n  var i = 0\n  var cache = randomBytes(len * 2)\n  var cur = 0\n  var num\n  while (i < len) {\n    if (cur === cache.length) {\n      cache = randomBytes(len * 2)\n      cur = 0\n    }\n    num = cache[cur++]\n    if (num) {\n      out[i++] = num\n    }\n  }\n  return out\n}\n","var BN = require('bn.js')\nvar Buffer = require('safe-buffer').Buffer\n\nfunction withPublic (paddedMsg, key) {\n  return Buffer.from(paddedMsg\n    .toRed(BN.mont(key.modulus))\n    .redPow(new BN(key.publicExponent))\n    .fromRed()\n    .toArray())\n}\n\nmodule.exports = withPublic\n","module.exports = function xor (a, b) {\n  var len = a.length\n  var i = -1\n  while (++i < len) {\n    a[i] ^= b[i]\n  }\n  return a\n}\n","var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\nvar ancient = /^v?\\.0/.test(process.version)\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!ancient) return false // newer node version do not need to care about fs is a special way\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n","/*!\n * MIT License\n * \n * Copyright (c) 2017-2022 Peculiar Ventures, LLC\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n */\n\n'use strict';\n\nconst ARRAY_BUFFER_NAME = \"[object ArrayBuffer]\";\nclass BufferSourceConverter {\n    static isArrayBuffer(data) {\n        return Object.prototype.toString.call(data) === ARRAY_BUFFER_NAME;\n    }\n    static toArrayBuffer(data) {\n        if (this.isArrayBuffer(data)) {\n            return data;\n        }\n        if (data.byteLength === data.buffer.byteLength) {\n            return data.buffer;\n        }\n        if (data.byteOffset === 0 && data.byteLength === data.buffer.byteLength) {\n            return data.buffer;\n        }\n        return this.toUint8Array(data.buffer)\n            .slice(data.byteOffset, data.byteOffset + data.byteLength)\n            .buffer;\n    }\n    static toUint8Array(data) {\n        return this.toView(data, Uint8Array);\n    }\n    static toView(data, type) {\n        if (data.constructor === type) {\n            return data;\n        }\n        if (this.isArrayBuffer(data)) {\n            return new type(data);\n        }\n        if (this.isArrayBufferView(data)) {\n            return new type(data.buffer, data.byteOffset, data.byteLength);\n        }\n        throw new TypeError(\"The provided value is not of type '(ArrayBuffer or ArrayBufferView)'\");\n    }\n    static isBufferSource(data) {\n        return this.isArrayBufferView(data)\n            || this.isArrayBuffer(data);\n    }\n    static isArrayBufferView(data) {\n        return ArrayBuffer.isView(data)\n            || (data && this.isArrayBuffer(data.buffer));\n    }\n    static isEqual(a, b) {\n        const aView = BufferSourceConverter.toUint8Array(a);\n        const bView = BufferSourceConverter.toUint8Array(b);\n        if (aView.length !== bView.byteLength) {\n            return false;\n        }\n        for (let i = 0; i < aView.length; i++) {\n            if (aView[i] !== bView[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    static concat(...args) {\n        let buffers;\n        if (Array.isArray(args[0]) && !(args[1] instanceof Function)) {\n            buffers = args[0];\n        }\n        else if (Array.isArray(args[0]) && args[1] instanceof Function) {\n            buffers = args[0];\n        }\n        else {\n            if (args[args.length - 1] instanceof Function) {\n                buffers = args.slice(0, args.length - 1);\n            }\n            else {\n                buffers = args;\n            }\n        }\n        let size = 0;\n        for (const buffer of buffers) {\n            size += buffer.byteLength;\n        }\n        const res = new Uint8Array(size);\n        let offset = 0;\n        for (const buffer of buffers) {\n            const view = this.toUint8Array(buffer);\n            res.set(view, offset);\n            offset += view.length;\n        }\n        if (args[args.length - 1] instanceof Function) {\n            return this.toView(res, args[args.length - 1]);\n        }\n        return res.buffer;\n    }\n}\n\nconst STRING_TYPE = \"string\";\nconst HEX_REGEX = /^[0-9a-f]+$/i;\nconst BASE64_REGEX = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;\nconst BASE64URL_REGEX = /^[a-zA-Z0-9-_]+$/;\nclass Utf8Converter {\n    static fromString(text) {\n        const s = unescape(encodeURIComponent(text));\n        const uintArray = new Uint8Array(s.length);\n        for (let i = 0; i < s.length; i++) {\n            uintArray[i] = s.charCodeAt(i);\n        }\n        return uintArray.buffer;\n    }\n    static toString(buffer) {\n        const buf = BufferSourceConverter.toUint8Array(buffer);\n        let encodedString = \"\";\n        for (let i = 0; i < buf.length; i++) {\n            encodedString += String.fromCharCode(buf[i]);\n        }\n        const decodedString = decodeURIComponent(escape(encodedString));\n        return decodedString;\n    }\n}\nclass Utf16Converter {\n    static toString(buffer, littleEndian = false) {\n        const arrayBuffer = BufferSourceConverter.toArrayBuffer(buffer);\n        const dataView = new DataView(arrayBuffer);\n        let res = \"\";\n        for (let i = 0; i < arrayBuffer.byteLength; i += 2) {\n            const code = dataView.getUint16(i, littleEndian);\n            res += String.fromCharCode(code);\n        }\n        return res;\n    }\n    static fromString(text, littleEndian = false) {\n        const res = new ArrayBuffer(text.length * 2);\n        const dataView = new DataView(res);\n        for (let i = 0; i < text.length; i++) {\n            dataView.setUint16(i * 2, text.charCodeAt(i), littleEndian);\n        }\n        return res;\n    }\n}\nclass Convert {\n    static isHex(data) {\n        return typeof data === STRING_TYPE\n            && HEX_REGEX.test(data);\n    }\n    static isBase64(data) {\n        return typeof data === STRING_TYPE\n            && BASE64_REGEX.test(data);\n    }\n    static isBase64Url(data) {\n        return typeof data === STRING_TYPE\n            && BASE64URL_REGEX.test(data);\n    }\n    static ToString(buffer, enc = \"utf8\") {\n        const buf = BufferSourceConverter.toUint8Array(buffer);\n        switch (enc.toLowerCase()) {\n            case \"utf8\":\n                return this.ToUtf8String(buf);\n            case \"binary\":\n                return this.ToBinary(buf);\n            case \"hex\":\n                return this.ToHex(buf);\n            case \"base64\":\n                return this.ToBase64(buf);\n            case \"base64url\":\n                return this.ToBase64Url(buf);\n            case \"utf16le\":\n                return Utf16Converter.toString(buf, true);\n            case \"utf16\":\n            case \"utf16be\":\n                return Utf16Converter.toString(buf);\n            default:\n                throw new Error(`Unknown type of encoding '${enc}'`);\n        }\n    }\n    static FromString(str, enc = \"utf8\") {\n        if (!str) {\n            return new ArrayBuffer(0);\n        }\n        switch (enc.toLowerCase()) {\n            case \"utf8\":\n                return this.FromUtf8String(str);\n            case \"binary\":\n                return this.FromBinary(str);\n            case \"hex\":\n                return this.FromHex(str);\n            case \"base64\":\n                return this.FromBase64(str);\n            case \"base64url\":\n                return this.FromBase64Url(str);\n            case \"utf16le\":\n                return Utf16Converter.fromString(str, true);\n            case \"utf16\":\n            case \"utf16be\":\n                return Utf16Converter.fromString(str);\n            default:\n                throw new Error(`Unknown type of encoding '${enc}'`);\n        }\n    }\n    static ToBase64(buffer) {\n        const buf = BufferSourceConverter.toUint8Array(buffer);\n        if (typeof btoa !== \"undefined\") {\n            const binary = this.ToString(buf, \"binary\");\n            return btoa(binary);\n        }\n        else {\n            return Buffer.from(buf).toString(\"base64\");\n        }\n    }\n    static FromBase64(base64) {\n        const formatted = this.formatString(base64);\n        if (!formatted) {\n            return new ArrayBuffer(0);\n        }\n        if (!Convert.isBase64(formatted)) {\n            throw new TypeError(\"Argument 'base64Text' is not Base64 encoded\");\n        }\n        if (typeof atob !== \"undefined\") {\n            return this.FromBinary(atob(formatted));\n        }\n        else {\n            return new Uint8Array(Buffer.from(formatted, \"base64\")).buffer;\n        }\n    }\n    static FromBase64Url(base64url) {\n        const formatted = this.formatString(base64url);\n        if (!formatted) {\n            return new ArrayBuffer(0);\n        }\n        if (!Convert.isBase64Url(formatted)) {\n            throw new TypeError(\"Argument 'base64url' is not Base64Url encoded\");\n        }\n        return this.FromBase64(this.Base64Padding(formatted.replace(/\\-/g, \"+\").replace(/\\_/g, \"/\")));\n    }\n    static ToBase64Url(data) {\n        return this.ToBase64(data).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/\\=/g, \"\");\n    }\n    static FromUtf8String(text, encoding = Convert.DEFAULT_UTF8_ENCODING) {\n        switch (encoding) {\n            case \"ascii\":\n                return this.FromBinary(text);\n            case \"utf8\":\n                return Utf8Converter.fromString(text);\n            case \"utf16\":\n            case \"utf16be\":\n                return Utf16Converter.fromString(text);\n            case \"utf16le\":\n            case \"usc2\":\n                return Utf16Converter.fromString(text, true);\n            default:\n                throw new Error(`Unknown type of encoding '${encoding}'`);\n        }\n    }\n    static ToUtf8String(buffer, encoding = Convert.DEFAULT_UTF8_ENCODING) {\n        switch (encoding) {\n            case \"ascii\":\n                return this.ToBinary(buffer);\n            case \"utf8\":\n                return Utf8Converter.toString(buffer);\n            case \"utf16\":\n            case \"utf16be\":\n                return Utf16Converter.toString(buffer);\n            case \"utf16le\":\n            case \"usc2\":\n                return Utf16Converter.toString(buffer, true);\n            default:\n                throw new Error(`Unknown type of encoding '${encoding}'`);\n        }\n    }\n    static FromBinary(text) {\n        const stringLength = text.length;\n        const resultView = new Uint8Array(stringLength);\n        for (let i = 0; i < stringLength; i++) {\n            resultView[i] = text.charCodeAt(i);\n        }\n        return resultView.buffer;\n    }\n    static ToBinary(buffer) {\n        const buf = BufferSourceConverter.toUint8Array(buffer);\n        let res = \"\";\n        for (let i = 0; i < buf.length; i++) {\n            res += String.fromCharCode(buf[i]);\n        }\n        return res;\n    }\n    static ToHex(buffer) {\n        const buf = BufferSourceConverter.toUint8Array(buffer);\n        let result = \"\";\n        const len = buf.length;\n        for (let i = 0; i < len; i++) {\n            const byte = buf[i];\n            if (byte < 16) {\n                result += \"0\";\n            }\n            result += byte.toString(16);\n        }\n        return result;\n    }\n    static FromHex(hexString) {\n        let formatted = this.formatString(hexString);\n        if (!formatted) {\n            return new ArrayBuffer(0);\n        }\n        if (!Convert.isHex(formatted)) {\n            throw new TypeError(\"Argument 'hexString' is not HEX encoded\");\n        }\n        if (formatted.length % 2) {\n            formatted = `0${formatted}`;\n        }\n        const res = new Uint8Array(formatted.length / 2);\n        for (let i = 0; i < formatted.length; i = i + 2) {\n            const c = formatted.slice(i, i + 2);\n            res[i / 2] = parseInt(c, 16);\n        }\n        return res.buffer;\n    }\n    static ToUtf16String(buffer, littleEndian = false) {\n        return Utf16Converter.toString(buffer, littleEndian);\n    }\n    static FromUtf16String(text, littleEndian = false) {\n        return Utf16Converter.fromString(text, littleEndian);\n    }\n    static Base64Padding(base64) {\n        const padCount = 4 - (base64.length % 4);\n        if (padCount < 4) {\n            for (let i = 0; i < padCount; i++) {\n                base64 += \"=\";\n            }\n        }\n        return base64;\n    }\n    static formatString(data) {\n        return (data === null || data === void 0 ? void 0 : data.replace(/[\\n\\r\\t ]/g, \"\")) || \"\";\n    }\n}\nConvert.DEFAULT_UTF8_ENCODING = \"utf8\";\n\nfunction assign(target, ...sources) {\n    const res = arguments[0];\n    for (let i = 1; i < arguments.length; i++) {\n        const obj = arguments[i];\n        for (const prop in obj) {\n            res[prop] = obj[prop];\n        }\n    }\n    return res;\n}\nfunction combine(...buf) {\n    const totalByteLength = buf.map((item) => item.byteLength).reduce((prev, cur) => prev + cur);\n    const res = new Uint8Array(totalByteLength);\n    let currentPos = 0;\n    buf.map((item) => new Uint8Array(item)).forEach((arr) => {\n        for (const item2 of arr) {\n            res[currentPos++] = item2;\n        }\n    });\n    return res.buffer;\n}\nfunction isEqual(bytes1, bytes2) {\n    if (!(bytes1 && bytes2)) {\n        return false;\n    }\n    if (bytes1.byteLength !== bytes2.byteLength) {\n        return false;\n    }\n    const b1 = new Uint8Array(bytes1);\n    const b2 = new Uint8Array(bytes2);\n    for (let i = 0; i < bytes1.byteLength; i++) {\n        if (b1[i] !== b2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexports.BufferSourceConverter = BufferSourceConverter;\nexports.Convert = Convert;\nexports.assign = assign;\nexports.combine = combine;\nexports.isEqual = isEqual;\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), ':list='].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), ':list=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(:list)$/.exec(key);\n\t\t\t\tkey = key.replace(/:list$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","'use strict'\nfunction tryStringify (o) {\n  try { return JSON.stringify(o) } catch(e) { return '\"[Circular]\"' }\n}\n\nmodule.exports = format\n\nfunction format(f, args, opts) {\n  var ss = (opts && opts.stringify) || tryStringify\n  var offset = 1\n  if (typeof f === 'object' && f !== null) {\n    var len = args.length + offset\n    if (len === 1) return f\n    var objects = new Array(len)\n    objects[0] = ss(f)\n    for (var index = 1; index < len; index++) {\n      objects[index] = ss(args[index])\n    }\n    return objects.join(' ')\n  }\n  if (typeof f !== 'string') {\n    return f\n  }\n  var argLen = args.length\n  if (argLen === 0) return f\n  var str = ''\n  var a = 1 - offset\n  var lastPos = -1\n  var flen = (f && f.length) || 0\n  for (var i = 0; i < flen;) {\n    if (f.charCodeAt(i) === 37 && i + 1 < flen) {\n      lastPos = lastPos > -1 ? lastPos : 0\n      switch (f.charCodeAt(i + 1)) {\n        case 100: // 'd'\n        case 102: // 'f'\n          if (a >= argLen)\n            break\n          if (args[a] == null)  break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += Number(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 105: // 'i'\n          if (a >= argLen)\n            break\n          if (args[a] == null)  break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += Math.floor(Number(args[a]))\n          lastPos = i + 2\n          i++\n          break\n        case 79: // 'O'\n        case 111: // 'o'\n        case 106: // 'j'\n          if (a >= argLen)\n            break\n          if (args[a] === undefined) break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          var type = typeof args[a]\n          if (type === 'string') {\n            str += '\\'' + args[a] + '\\''\n            lastPos = i + 2\n            i++\n            break\n          }\n          if (type === 'function') {\n            str += args[a].name || '<anonymous>'\n            lastPos = i + 2\n            i++\n            break\n          }\n          str += ss(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 115: // 's'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += String(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 37: // '%'\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += '%'\n          lastPos = i + 2\n          i++\n          a--\n          break\n      }\n      ++a\n    }\n    ++i\n  }\n  if (lastPos === -1)\n    return f\n  else if (lastPos < flen) {\n    str += f.slice(lastPos)\n  }\n\n  return str\n}\n","'use strict'\n\n// limit of Crypto.getRandomValues()\n// https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues\nvar MAX_BYTES = 65536\n\n// Node supports requesting up to this number of bytes\n// https://github.com/nodejs/node/blob/master/lib/internal/crypto/random.js#L48\nvar MAX_UINT32 = 4294967295\n\nfunction oldBrowser () {\n  throw new Error('Secure random number generation is not supported by this browser.\\nUse Chrome, Firefox or Internet Explorer 11')\n}\n\nvar Buffer = require('safe-buffer').Buffer\nvar crypto = global.crypto || global.msCrypto\n\nif (crypto && crypto.getRandomValues) {\n  module.exports = randomBytes\n} else {\n  module.exports = oldBrowser\n}\n\nfunction randomBytes (size, cb) {\n  // phantomjs needs to throw\n  if (size > MAX_UINT32) throw new RangeError('requested too many random bytes')\n\n  var bytes = Buffer.allocUnsafe(size)\n\n  if (size > 0) {  // getRandomValues fails on IE if size == 0\n    if (size > MAX_BYTES) { // this is the max bytes crypto.getRandomValues\n      // can do at once see https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues\n      for (var generated = 0; generated < size; generated += MAX_BYTES) {\n        // buffer.slice automatically checks if the end is past the end of\n        // the buffer so we don't have to here\n        crypto.getRandomValues(bytes.slice(generated, generated + MAX_BYTES))\n      }\n    } else {\n      crypto.getRandomValues(bytes)\n    }\n  }\n\n  if (typeof cb === 'function') {\n    return process.nextTick(function () {\n      cb(null, bytes)\n    })\n  }\n\n  return bytes\n}\n","'use strict'\n\nfunction oldBrowser () {\n  throw new Error('secure random number generation not supported by this browser\\nuse chrome, FireFox or Internet Explorer 11')\n}\nvar safeBuffer = require('safe-buffer')\nvar randombytes = require('randombytes')\nvar Buffer = safeBuffer.Buffer\nvar kBufferMaxLength = safeBuffer.kMaxLength\nvar crypto = global.crypto || global.msCrypto\nvar kMaxUint32 = Math.pow(2, 32) - 1\nfunction assertOffset (offset, length) {\n  if (typeof offset !== 'number' || offset !== offset) { // eslint-disable-line no-self-compare\n    throw new TypeError('offset must be a number')\n  }\n\n  if (offset > kMaxUint32 || offset < 0) {\n    throw new TypeError('offset must be a uint32')\n  }\n\n  if (offset > kBufferMaxLength || offset > length) {\n    throw new RangeError('offset out of range')\n  }\n}\n\nfunction assertSize (size, offset, length) {\n  if (typeof size !== 'number' || size !== size) { // eslint-disable-line no-self-compare\n    throw new TypeError('size must be a number')\n  }\n\n  if (size > kMaxUint32 || size < 0) {\n    throw new TypeError('size must be a uint32')\n  }\n\n  if (size + offset > length || size > kBufferMaxLength) {\n    throw new RangeError('buffer too small')\n  }\n}\nif ((crypto && crypto.getRandomValues) || !process.browser) {\n  exports.randomFill = randomFill\n  exports.randomFillSync = randomFillSync\n} else {\n  exports.randomFill = oldBrowser\n  exports.randomFillSync = oldBrowser\n}\nfunction randomFill (buf, offset, size, cb) {\n  if (!Buffer.isBuffer(buf) && !(buf instanceof global.Uint8Array)) {\n    throw new TypeError('\"buf\" argument must be a Buffer or Uint8Array')\n  }\n\n  if (typeof offset === 'function') {\n    cb = offset\n    offset = 0\n    size = buf.length\n  } else if (typeof size === 'function') {\n    cb = size\n    size = buf.length - offset\n  } else if (typeof cb !== 'function') {\n    throw new TypeError('\"cb\" argument must be a function')\n  }\n  assertOffset(offset, buf.length)\n  assertSize(size, offset, buf.length)\n  return actualFill(buf, offset, size, cb)\n}\n\nfunction actualFill (buf, offset, size, cb) {\n  if (process.browser) {\n    var ourBuf = buf.buffer\n    var uint = new Uint8Array(ourBuf, offset, size)\n    crypto.getRandomValues(uint)\n    if (cb) {\n      process.nextTick(function () {\n        cb(null, buf)\n      })\n      return\n    }\n    return buf\n  }\n  if (cb) {\n    randombytes(size, function (err, bytes) {\n      if (err) {\n        return cb(err)\n      }\n      bytes.copy(buf, offset)\n      cb(null, buf)\n    })\n    return\n  }\n  var bytes = randombytes(size)\n  bytes.copy(buf, offset)\n  return buf\n}\nfunction randomFillSync (buf, offset, size) {\n  if (typeof offset === 'undefined') {\n    offset = 0\n  }\n  if (!Buffer.isBuffer(buf) && !(buf instanceof global.Uint8Array)) {\n    throw new TypeError('\"buf\" argument must be a Buffer or Uint8Array')\n  }\n\n  assertOffset(offset, buf.length)\n\n  if (size === undefined) size = buf.length - offset\n\n  assertSize(size, offset, buf.length)\n\n  return actualFill(buf, offset, size)\n}\n","'use strict'\nvar Buffer = require('buffer').Buffer\nvar inherits = require('inherits')\nvar HashBase = require('hash-base')\n\nvar ARRAY16 = new Array(16)\n\nvar zl = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,\n  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,\n  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,\n  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13\n]\n\nvar zr = [\n  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,\n  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,\n  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,\n  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,\n  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11\n]\n\nvar sl = [\n  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,\n  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,\n  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,\n  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,\n  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6\n]\n\nvar sr = [\n  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,\n  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,\n  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,\n  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,\n  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11\n]\n\nvar hl = [0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e]\nvar hr = [0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000]\n\nfunction RIPEMD160 () {\n  HashBase.call(this, 64)\n\n  // state\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n}\n\ninherits(RIPEMD160, HashBase)\n\nRIPEMD160.prototype._update = function () {\n  var words = ARRAY16\n  for (var j = 0; j < 16; ++j) words[j] = this._block.readInt32LE(j * 4)\n\n  var al = this._a | 0\n  var bl = this._b | 0\n  var cl = this._c | 0\n  var dl = this._d | 0\n  var el = this._e | 0\n\n  var ar = this._a | 0\n  var br = this._b | 0\n  var cr = this._c | 0\n  var dr = this._d | 0\n  var er = this._e | 0\n\n  // computation\n  for (var i = 0; i < 80; i += 1) {\n    var tl\n    var tr\n    if (i < 16) {\n      tl = fn1(al, bl, cl, dl, el, words[zl[i]], hl[0], sl[i])\n      tr = fn5(ar, br, cr, dr, er, words[zr[i]], hr[0], sr[i])\n    } else if (i < 32) {\n      tl = fn2(al, bl, cl, dl, el, words[zl[i]], hl[1], sl[i])\n      tr = fn4(ar, br, cr, dr, er, words[zr[i]], hr[1], sr[i])\n    } else if (i < 48) {\n      tl = fn3(al, bl, cl, dl, el, words[zl[i]], hl[2], sl[i])\n      tr = fn3(ar, br, cr, dr, er, words[zr[i]], hr[2], sr[i])\n    } else if (i < 64) {\n      tl = fn4(al, bl, cl, dl, el, words[zl[i]], hl[3], sl[i])\n      tr = fn2(ar, br, cr, dr, er, words[zr[i]], hr[3], sr[i])\n    } else { // if (i<80) {\n      tl = fn5(al, bl, cl, dl, el, words[zl[i]], hl[4], sl[i])\n      tr = fn1(ar, br, cr, dr, er, words[zr[i]], hr[4], sr[i])\n    }\n\n    al = el\n    el = dl\n    dl = rotl(cl, 10)\n    cl = bl\n    bl = tl\n\n    ar = er\n    er = dr\n    dr = rotl(cr, 10)\n    cr = br\n    br = tr\n  }\n\n  // update state\n  var t = (this._b + cl + dr) | 0\n  this._b = (this._c + dl + er) | 0\n  this._c = (this._d + el + ar) | 0\n  this._d = (this._e + al + br) | 0\n  this._e = (this._a + bl + cr) | 0\n  this._a = t\n}\n\nRIPEMD160.prototype._digest = function () {\n  // create padding and handle blocks\n  this._block[this._blockOffset++] = 0x80\n  if (this._blockOffset > 56) {\n    this._block.fill(0, this._blockOffset, 64)\n    this._update()\n    this._blockOffset = 0\n  }\n\n  this._block.fill(0, this._blockOffset, 56)\n  this._block.writeUInt32LE(this._length[0], 56)\n  this._block.writeUInt32LE(this._length[1], 60)\n  this._update()\n\n  // produce result\n  var buffer = Buffer.alloc ? Buffer.alloc(20) : new Buffer(20)\n  buffer.writeInt32LE(this._a, 0)\n  buffer.writeInt32LE(this._b, 4)\n  buffer.writeInt32LE(this._c, 8)\n  buffer.writeInt32LE(this._d, 12)\n  buffer.writeInt32LE(this._e, 16)\n  return buffer\n}\n\nfunction rotl (x, n) {\n  return (x << n) | (x >>> (32 - n))\n}\n\nfunction fn1 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + (b ^ c ^ d) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn2 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + ((b & c) | ((~b) & d)) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn3 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + ((b | (~c)) ^ d) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn4 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + ((b & d) | (c & (~d))) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn5 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + (b ^ (c | (~d))) + m + k) | 0, s) + e) | 0\n}\n\nmodule.exports = RIPEMD160\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLength = exports.decode = exports.encode = void 0;\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\n/**\n * RLP Encoding based on: https://github.com/ethereum/wiki/wiki/%5BEnglish%5D-RLP\n * This function takes in a data, convert it to buffer if not, and a length for recursion\n * @param input - will be converted to buffer\n * @returns returns buffer of encoded data\n **/\nfunction encode(input) {\n    if (Array.isArray(input)) {\n        var output = [];\n        for (var i = 0; i < input.length; i++) {\n            output.push(encode(input[i]));\n        }\n        var buf = Buffer.concat(output);\n        return Buffer.concat([encodeLength(buf.length, 192), buf]);\n    }\n    else {\n        var inputBuf = toBuffer(input);\n        return inputBuf.length === 1 && inputBuf[0] < 128\n            ? inputBuf\n            : Buffer.concat([encodeLength(inputBuf.length, 128), inputBuf]);\n    }\n}\nexports.encode = encode;\n/**\n * Parse integers. Check if there is no leading zeros\n * @param v The value to parse\n * @param base The base to parse the integer into\n */\nfunction safeParseInt(v, base) {\n    if (v[0] === '0' && v[1] === '0') {\n        throw new Error('invalid RLP: extra zeros');\n    }\n    return parseInt(v, base);\n}\nfunction encodeLength(len, offset) {\n    if (len < 56) {\n        return Buffer.from([len + offset]);\n    }\n    else {\n        var hexLength = intToHex(len);\n        var lLength = hexLength.length / 2;\n        var firstByte = intToHex(offset + 55 + lLength);\n        return Buffer.from(firstByte + hexLength, 'hex');\n    }\n}\nfunction decode(input, stream) {\n    if (stream === void 0) { stream = false; }\n    if (!input || input.length === 0) {\n        return Buffer.from([]);\n    }\n    var inputBuffer = toBuffer(input);\n    var decoded = _decode(inputBuffer);\n    if (stream) {\n        return decoded;\n    }\n    if (decoded.remainder.length !== 0) {\n        throw new Error('invalid remainder');\n    }\n    return decoded.data;\n}\nexports.decode = decode;\n/**\n * Get the length of the RLP input\n * @param input\n * @returns The length of the input or an empty Buffer if no input\n */\nfunction getLength(input) {\n    if (!input || input.length === 0) {\n        return Buffer.from([]);\n    }\n    var inputBuffer = toBuffer(input);\n    var firstByte = inputBuffer[0];\n    if (firstByte <= 0x7f) {\n        return inputBuffer.length;\n    }\n    else if (firstByte <= 0xb7) {\n        return firstByte - 0x7f;\n    }\n    else if (firstByte <= 0xbf) {\n        return firstByte - 0xb6;\n    }\n    else if (firstByte <= 0xf7) {\n        // a list between  0-55 bytes long\n        return firstByte - 0xbf;\n    }\n    else {\n        // a list  over 55 bytes long\n        var llength = firstByte - 0xf6;\n        var length_1 = safeParseInt(inputBuffer.slice(1, llength).toString('hex'), 16);\n        return llength + length_1;\n    }\n}\nexports.getLength = getLength;\n/** Decode an input with RLP */\nfunction _decode(input) {\n    var length, llength, data, innerRemainder, d;\n    var decoded = [];\n    var firstByte = input[0];\n    if (firstByte <= 0x7f) {\n        // a single byte whose value is in the [0x00, 0x7f] range, that byte is its own RLP encoding.\n        return {\n            data: input.slice(0, 1),\n            remainder: input.slice(1),\n        };\n    }\n    else if (firstByte <= 0xb7) {\n        // string is 0-55 bytes long. A single byte with value 0x80 plus the length of the string followed by the string\n        // The range of the first byte is [0x80, 0xb7]\n        length = firstByte - 0x7f;\n        // set 0x80 null to 0\n        if (firstByte === 0x80) {\n            data = Buffer.from([]);\n        }\n        else {\n            data = input.slice(1, length);\n        }\n        if (length === 2 && data[0] < 0x80) {\n            throw new Error('invalid rlp encoding: byte must be less 0x80');\n        }\n        return {\n            data: data,\n            remainder: input.slice(length),\n        };\n    }\n    else if (firstByte <= 0xbf) {\n        // string is greater than 55 bytes long. A single byte with the value (0xb7 plus the length of the length),\n        // followed by the length, followed by the string\n        llength = firstByte - 0xb6;\n        if (input.length - 1 < llength) {\n            throw new Error('invalid RLP: not enough bytes for string length');\n        }\n        length = safeParseInt(input.slice(1, llength).toString('hex'), 16);\n        if (length <= 55) {\n            throw new Error('invalid RLP: expected string length to be greater than 55');\n        }\n        data = input.slice(llength, length + llength);\n        if (data.length < length) {\n            throw new Error('invalid RLP: not enough bytes for string');\n        }\n        return {\n            data: data,\n            remainder: input.slice(length + llength),\n        };\n    }\n    else if (firstByte <= 0xf7) {\n        // a list between  0-55 bytes long\n        length = firstByte - 0xbf;\n        innerRemainder = input.slice(1, length);\n        while (innerRemainder.length) {\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(length),\n        };\n    }\n    else {\n        // a list  over 55 bytes long\n        llength = firstByte - 0xf6;\n        length = safeParseInt(input.slice(1, llength).toString('hex'), 16);\n        var totalLength = llength + length;\n        if (totalLength > input.length) {\n            throw new Error('invalid rlp: total length is larger than the data');\n        }\n        innerRemainder = input.slice(llength, totalLength);\n        if (innerRemainder.length === 0) {\n            throw new Error('invalid rlp, List has a invalid length');\n        }\n        while (innerRemainder.length) {\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(totalLength),\n        };\n    }\n}\n/** Check if a string is prefixed by 0x */\nfunction isHexPrefixed(str) {\n    return str.slice(0, 2) === '0x';\n}\n/** Removes 0x from a given String */\nfunction stripHexPrefix(str) {\n    if (typeof str !== 'string') {\n        return str;\n    }\n    return isHexPrefixed(str) ? str.slice(2) : str;\n}\n/** Transform an integer into its hexadecimal value */\nfunction intToHex(integer) {\n    if (integer < 0) {\n        throw new Error('Invalid integer as argument, must be unsigned!');\n    }\n    var hex = integer.toString(16);\n    return hex.length % 2 ? \"0\" + hex : hex;\n}\n/** Pad a string to be even */\nfunction padToEven(a) {\n    return a.length % 2 ? \"0\" + a : a;\n}\n/** Transform an integer into a Buffer */\nfunction intToBuffer(integer) {\n    var hex = intToHex(integer);\n    return Buffer.from(hex, 'hex');\n}\n/** Transform anything into a Buffer */\nfunction toBuffer(v) {\n    if (!Buffer.isBuffer(v)) {\n        if (typeof v === 'string') {\n            if (isHexPrefixed(v)) {\n                return Buffer.from(padToEven(stripHexPrefix(v)), 'hex');\n            }\n            else {\n                return Buffer.from(v);\n            }\n        }\n        else if (typeof v === 'number' || typeof v === 'bigint') {\n            if (!v) {\n                return Buffer.from([]);\n            }\n            else {\n                return intToBuffer(v);\n            }\n        }\n        else if (v === null || v === undefined) {\n            return Buffer.from([]);\n        }\n        else if (v instanceof Uint8Array) {\n            return Buffer.from(v);\n        }\n        else if (bn_js_1.default.isBN(v)) {\n            // converts a BN to a Buffer\n            return Buffer.from(v.toArray());\n        }\n        else {\n            throw new Error('invalid type');\n        }\n    }\n    return v;\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction safeJsonParse(value) {\n    if (typeof value !== 'string') {\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nexports.safeJsonParse = safeJsonParse;\nfunction safeJsonStringify(value) {\n    return typeof value === 'string'\n        ? value\n        : JSON.stringify(value, (key, value) => typeof value === 'undefined' ? null : value);\n}\nexports.safeJsonStringify = safeJsonStringify;\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","\"use strict\";\n\n(function(root) {\n    const MAX_VALUE = 0x7fffffff;\n\n    // The SHA256 and PBKDF2 implementation are from scrypt-async-js:\n    // See: https://github.com/dchest/scrypt-async-js\n    function SHA256(m) {\n        const K = new Uint32Array([\n           0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b,\n           0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01,\n           0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7,\n           0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n           0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152,\n           0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n           0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc,\n           0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n           0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819,\n           0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08,\n           0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,\n           0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n           0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n       ]);\n\n        let h0 = 0x6a09e667, h1 = 0xbb67ae85, h2 = 0x3c6ef372, h3 = 0xa54ff53a;\n        let h4 = 0x510e527f, h5 = 0x9b05688c, h6 = 0x1f83d9ab, h7 = 0x5be0cd19;\n        const w = new Uint32Array(64);\n\n        function blocks(p) {\n            let off = 0, len = p.length;\n            while (len >= 64) {\n                let a = h0, b = h1, c = h2, d = h3, e = h4, f = h5, g = h6, h = h7, u, i, j, t1, t2;\n\n                for (i = 0; i < 16; i++) {\n                    j = off + i*4;\n                    w[i] = ((p[j] & 0xff)<<24) | ((p[j+1] & 0xff)<<16) |\n                    ((p[j+2] & 0xff)<<8) | (p[j+3] & 0xff);\n                }\n\n                for (i = 16; i < 64; i++) {\n                    u = w[i-2];\n                    t1 = ((u>>>17) | (u<<(32-17))) ^ ((u>>>19) | (u<<(32-19))) ^ (u>>>10);\n\n                    u = w[i-15];\n                    t2 = ((u>>>7) | (u<<(32-7))) ^ ((u>>>18) | (u<<(32-18))) ^ (u>>>3);\n\n                    w[i] = (((t1 + w[i-7]) | 0) + ((t2 + w[i-16]) | 0)) | 0;\n                }\n\n                for (i = 0; i < 64; i++) {\n                    t1 = ((((((e>>>6) | (e<<(32-6))) ^ ((e>>>11) | (e<<(32-11))) ^\n                             ((e>>>25) | (e<<(32-25)))) + ((e & f) ^ (~e & g))) | 0) +\n                          ((h + ((K[i] + w[i]) | 0)) | 0)) | 0;\n\n                    t2 = ((((a>>>2) | (a<<(32-2))) ^ ((a>>>13) | (a<<(32-13))) ^\n                           ((a>>>22) | (a<<(32-22)))) + ((a & b) ^ (a & c) ^ (b & c))) | 0;\n\n                    h = g;\n                    g = f;\n                    f = e;\n                    e = (d + t1) | 0;\n                    d = c;\n                    c = b;\n                    b = a;\n                    a = (t1 + t2) | 0;\n                }\n\n                h0 = (h0 + a) | 0;\n                h1 = (h1 + b) | 0;\n                h2 = (h2 + c) | 0;\n                h3 = (h3 + d) | 0;\n                h4 = (h4 + e) | 0;\n                h5 = (h5 + f) | 0;\n                h6 = (h6 + g) | 0;\n                h7 = (h7 + h) | 0;\n\n                off += 64;\n                len -= 64;\n            }\n        }\n\n        blocks(m);\n\n        let i, bytesLeft = m.length % 64,\n        bitLenHi = (m.length / 0x20000000) | 0,\n        bitLenLo = m.length << 3,\n        numZeros = (bytesLeft < 56) ? 56 : 120,\n        p = m.slice(m.length - bytesLeft, m.length);\n\n        p.push(0x80);\n        for (i = bytesLeft + 1; i < numZeros; i++) { p.push(0); }\n        p.push((bitLenHi >>> 24) & 0xff);\n        p.push((bitLenHi >>> 16) & 0xff);\n        p.push((bitLenHi >>> 8)  & 0xff);\n        p.push((bitLenHi >>> 0)  & 0xff);\n        p.push((bitLenLo >>> 24) & 0xff);\n        p.push((bitLenLo >>> 16) & 0xff);\n        p.push((bitLenLo >>> 8)  & 0xff);\n        p.push((bitLenLo >>> 0)  & 0xff);\n\n        blocks(p);\n\n        return [\n            (h0 >>> 24) & 0xff, (h0 >>> 16) & 0xff, (h0 >>> 8) & 0xff, (h0 >>> 0) & 0xff,\n            (h1 >>> 24) & 0xff, (h1 >>> 16) & 0xff, (h1 >>> 8) & 0xff, (h1 >>> 0) & 0xff,\n            (h2 >>> 24) & 0xff, (h2 >>> 16) & 0xff, (h2 >>> 8) & 0xff, (h2 >>> 0) & 0xff,\n            (h3 >>> 24) & 0xff, (h3 >>> 16) & 0xff, (h3 >>> 8) & 0xff, (h3 >>> 0) & 0xff,\n            (h4 >>> 24) & 0xff, (h4 >>> 16) & 0xff, (h4 >>> 8) & 0xff, (h4 >>> 0) & 0xff,\n            (h5 >>> 24) & 0xff, (h5 >>> 16) & 0xff, (h5 >>> 8) & 0xff, (h5 >>> 0) & 0xff,\n            (h6 >>> 24) & 0xff, (h6 >>> 16) & 0xff, (h6 >>> 8) & 0xff, (h6 >>> 0) & 0xff,\n            (h7 >>> 24) & 0xff, (h7 >>> 16) & 0xff, (h7 >>> 8) & 0xff, (h7 >>> 0) & 0xff\n        ];\n    }\n\n    function PBKDF2_HMAC_SHA256_OneIter(password, salt, dkLen) {\n        // compress password if it's longer than hash block length\n        password = (password.length <= 64) ? password : SHA256(password);\n\n        const innerLen = 64 + salt.length + 4;\n        const inner = new Array(innerLen);\n        const outerKey = new Array(64);\n\n        let i;\n        let dk = [];\n\n        // inner = (password ^ ipad) || salt || counter\n        for (i = 0; i < 64; i++) { inner[i] = 0x36; }\n        for (i = 0; i < password.length; i++) { inner[i] ^= password[i]; }\n        for (i = 0; i < salt.length; i++) { inner[64 + i] = salt[i]; }\n        for (i = innerLen - 4; i < innerLen; i++) { inner[i] = 0; }\n\n        // outerKey = password ^ opad\n        for (i = 0; i < 64; i++) outerKey[i] = 0x5c;\n        for (i = 0; i < password.length; i++) outerKey[i] ^= password[i];\n\n        // increments counter inside inner\n        function incrementCounter() {\n            for (let i = innerLen - 1; i >= innerLen - 4; i--) {\n                inner[i]++;\n                if (inner[i] <= 0xff) return;\n                inner[i] = 0;\n            }\n        }\n\n        // output blocks = SHA256(outerKey || SHA256(inner)) ...\n        while (dkLen >= 32) {\n            incrementCounter();\n            dk = dk.concat(SHA256(outerKey.concat(SHA256(inner))));\n            dkLen -= 32;\n        }\n        if (dkLen > 0) {\n            incrementCounter();\n            dk = dk.concat(SHA256(outerKey.concat(SHA256(inner))).slice(0, dkLen));\n        }\n\n        return dk;\n    }\n\n    // The following is an adaptation of scryptsy\n    // See: https://www.npmjs.com/package/scryptsy\n    function blockmix_salsa8(BY, Yi, r, x, _X) {\n        let i;\n\n        arraycopy(BY, (2 * r - 1) * 16, _X, 0, 16);\n        for (i = 0; i < 2 * r; i++) {\n            blockxor(BY, i * 16, _X, 16);\n            salsa20_8(_X, x);\n            arraycopy(_X, 0, BY, Yi + (i * 16), 16);\n        }\n\n        for (i = 0; i < r; i++) {\n            arraycopy(BY, Yi + (i * 2) * 16, BY, (i * 16), 16);\n        }\n\n        for (i = 0; i < r; i++) {\n            arraycopy(BY, Yi + (i * 2 + 1) * 16, BY, (i + r) * 16, 16);\n        }\n    }\n\n    function R(a, b) {\n        return (a << b) | (a >>> (32 - b));\n    }\n\n    function salsa20_8(B, x) {\n        arraycopy(B, 0, x, 0, 16);\n\n        for (let i = 8; i > 0; i -= 2) {\n            x[ 4] ^= R(x[ 0] + x[12], 7);\n            x[ 8] ^= R(x[ 4] + x[ 0], 9);\n            x[12] ^= R(x[ 8] + x[ 4], 13);\n            x[ 0] ^= R(x[12] + x[ 8], 18);\n            x[ 9] ^= R(x[ 5] + x[ 1], 7);\n            x[13] ^= R(x[ 9] + x[ 5], 9);\n            x[ 1] ^= R(x[13] + x[ 9], 13);\n            x[ 5] ^= R(x[ 1] + x[13], 18);\n            x[14] ^= R(x[10] + x[ 6], 7);\n            x[ 2] ^= R(x[14] + x[10], 9);\n            x[ 6] ^= R(x[ 2] + x[14], 13);\n            x[10] ^= R(x[ 6] + x[ 2], 18);\n            x[ 3] ^= R(x[15] + x[11], 7);\n            x[ 7] ^= R(x[ 3] + x[15], 9);\n            x[11] ^= R(x[ 7] + x[ 3], 13);\n            x[15] ^= R(x[11] + x[ 7], 18);\n            x[ 1] ^= R(x[ 0] + x[ 3], 7);\n            x[ 2] ^= R(x[ 1] + x[ 0], 9);\n            x[ 3] ^= R(x[ 2] + x[ 1], 13);\n            x[ 0] ^= R(x[ 3] + x[ 2], 18);\n            x[ 6] ^= R(x[ 5] + x[ 4], 7);\n            x[ 7] ^= R(x[ 6] + x[ 5], 9);\n            x[ 4] ^= R(x[ 7] + x[ 6], 13);\n            x[ 5] ^= R(x[ 4] + x[ 7], 18);\n            x[11] ^= R(x[10] + x[ 9], 7);\n            x[ 8] ^= R(x[11] + x[10], 9);\n            x[ 9] ^= R(x[ 8] + x[11], 13);\n            x[10] ^= R(x[ 9] + x[ 8], 18);\n            x[12] ^= R(x[15] + x[14], 7);\n            x[13] ^= R(x[12] + x[15], 9);\n            x[14] ^= R(x[13] + x[12], 13);\n            x[15] ^= R(x[14] + x[13], 18);\n        }\n\n        for (let i = 0; i < 16; ++i) {\n            B[i] += x[i];\n        }\n    }\n\n    // naive approach... going back to loop unrolling may yield additional performance\n    function blockxor(S, Si, D, len) {\n        for (let i = 0; i < len; i++) {\n            D[i] ^= S[Si + i]\n        }\n    }\n\n    function arraycopy(src, srcPos, dest, destPos, length) {\n        while (length--) {\n            dest[destPos++] = src[srcPos++];\n        }\n    }\n\n    function checkBufferish(o) {\n        if (!o || typeof(o.length) !== 'number') { return false; }\n\n        for (let i = 0; i < o.length; i++) {\n            const v = o[i];\n            if (typeof(v) !== 'number' || v % 1 || v < 0 || v >= 256) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function ensureInteger(value, name) {\n        if (typeof(value) !== \"number\" || (value % 1)) { throw new Error('invalid ' + name); }\n        return value;\n    }\n\n    // N = Cpu cost, r = Memory cost, p = parallelization cost\n    // callback(error, progress, key)\n    function _scrypt(password, salt, N, r, p, dkLen, callback) {\n\n        N = ensureInteger(N, 'N');\n        r = ensureInteger(r, 'r');\n        p = ensureInteger(p, 'p');\n\n        dkLen = ensureInteger(dkLen, 'dkLen');\n\n        if (N === 0 || (N & (N - 1)) !== 0) { throw new Error('N must be power of 2'); }\n\n        if (N > MAX_VALUE / 128 / r) { throw new Error('N too large'); }\n        if (r > MAX_VALUE / 128 / p) { throw new Error('r too large'); }\n\n        if (!checkBufferish(password)) {\n            throw new Error('password must be an array or buffer');\n        }\n        password = Array.prototype.slice.call(password);\n\n        if (!checkBufferish(salt)) {\n            throw new Error('salt must be an array or buffer');\n        }\n        salt = Array.prototype.slice.call(salt);\n\n        let b = PBKDF2_HMAC_SHA256_OneIter(password, salt, p * 128 * r);\n        const B = new Uint32Array(p * 32 * r)\n        for (let i = 0; i < B.length; i++) {\n            const j = i * 4;\n            B[i] = ((b[j + 3] & 0xff) << 24) |\n                   ((b[j + 2] & 0xff) << 16) |\n                   ((b[j + 1] & 0xff) << 8) |\n                   ((b[j + 0] & 0xff) << 0);\n        }\n\n        const XY = new Uint32Array(64 * r);\n        const V = new Uint32Array(32 * r * N);\n\n        const Yi = 32 * r;\n\n        // scratch space\n        const x = new Uint32Array(16);       // salsa20_8\n        const _X = new Uint32Array(16);      // blockmix_salsa8\n\n        const totalOps = p * N * 2;\n        let currentOp = 0;\n        let lastPercent10 = null;\n\n        // Set this to true to abandon the scrypt on the next step\n        let stop = false;\n\n        // State information\n        let state = 0;\n        let i0 = 0, i1;\n        let Bi;\n\n        // How many blockmix_salsa8 can we do per step?\n        const limit = callback ? parseInt(1000 / r): 0xffffffff;\n\n        // Trick from scrypt-async; if there is a setImmediate shim in place, use it\n        const nextTick = (typeof(setImmediate) !== 'undefined') ? setImmediate : setTimeout;\n\n        // This is really all I changed; making scryptsy a state machine so we occasionally\n        // stop and give other evnts on the evnt loop a chance to run. ~RicMoo\n        const incrementalSMix = function() {\n            if (stop) {\n                return callback(new Error('cancelled'), currentOp / totalOps);\n            }\n\n            let steps;\n\n            switch (state) {\n                case 0:\n                    // for (var i = 0; i < p; i++)...\n                    Bi = i0 * 32 * r;\n\n                    arraycopy(B, Bi, XY, 0, Yi);                       // ROMix - 1\n\n                    state = 1;                                         // Move to ROMix 2\n                    i1 = 0;\n\n                    // Fall through\n\n                case 1:\n\n                    // Run up to 1000 steps of the first inner smix loop\n                    steps = N - i1;\n                    if (steps > limit) { steps = limit; }\n                    for (let i = 0; i < steps; i++) {                  // ROMix - 2\n                        arraycopy(XY, 0, V, (i1 + i) * Yi, Yi)         // ROMix - 3\n                        blockmix_salsa8(XY, Yi, r, x, _X);             // ROMix - 4\n                    }\n\n                    // for (var i = 0; i < N; i++)\n                    i1 += steps;\n                    currentOp += steps;\n\n                    if (callback) {\n                        // Call the callback with the progress (optionally stopping us)\n                        const percent10 = parseInt(1000 * currentOp / totalOps);\n                        if (percent10 !== lastPercent10) {\n                            stop = callback(null, currentOp / totalOps);\n                            if (stop) { break; }\n                            lastPercent10 = percent10;\n                        }\n                    }\n\n                    if (i1 < N) { break; }\n\n                    i1 = 0;                                          // Move to ROMix 6\n                    state = 2;\n\n                    // Fall through\n\n                case 2:\n\n                    // Run up to 1000 steps of the second inner smix loop\n                    steps = N - i1;\n                    if (steps > limit) { steps = limit; }\n                    for (let i = 0; i < steps; i++) {                // ROMix - 6\n                        const offset = (2 * r - 1) * 16;             // ROMix - 7\n                        const j = XY[offset] & (N - 1);\n                        blockxor(V, j * Yi, XY, Yi);                 // ROMix - 8 (inner)\n                        blockmix_salsa8(XY, Yi, r, x, _X);           // ROMix - 9 (outer)\n                    }\n\n                    // for (var i = 0; i < N; i++)...\n                    i1 += steps;\n                    currentOp += steps;\n\n                    // Call the callback with the progress (optionally stopping us)\n                    if (callback) {\n                        const percent10 = parseInt(1000 * currentOp / totalOps);\n                        if (percent10 !== lastPercent10) {\n                            stop = callback(null, currentOp / totalOps);\n                            if (stop) { break; }\n                            lastPercent10 = percent10;\n                        }\n                    }\n\n                    if (i1 < N) { break; }\n\n                    arraycopy(XY, 0, B, Bi, Yi);                     // ROMix - 10\n\n                    // for (var i = 0; i < p; i++)...\n                    i0++;\n                    if (i0 < p) {\n                        state = 0;\n                        break;\n                    }\n\n                    b = [];\n                    for (let i = 0; i < B.length; i++) {\n                        b.push((B[i] >>  0) & 0xff);\n                        b.push((B[i] >>  8) & 0xff);\n                        b.push((B[i] >> 16) & 0xff);\n                        b.push((B[i] >> 24) & 0xff);\n                    }\n\n                    const derivedKey = PBKDF2_HMAC_SHA256_OneIter(password, b, dkLen);\n\n                    // Send the result to the callback\n                    if (callback) { callback(null, 1.0, derivedKey); }\n\n                    // Done; don't break (which would reschedule)\n                    return derivedKey;\n            }\n\n            // Schedule the next steps\n            if (callback) { nextTick(incrementalSMix); }\n        }\n\n        // Run the smix state machine until completion\n        if (!callback) {\n            while (true) {\n                const derivedKey = incrementalSMix();\n                if (derivedKey != undefined) { return derivedKey; }\n            }\n        }\n\n        // Bootstrap the async incremental smix\n        incrementalSMix();\n    }\n\n    const lib = {\n        scrypt: function(password, salt, N, r, p, dkLen, progressCallback) {\n            return new Promise(function(resolve, reject) {\n                let lastProgress = 0;\n                if (progressCallback) { progressCallback(0); }\n                _scrypt(password, salt, N, r, p, dkLen, function(error, progress, key) {\n                    if (error) {\n                        reject(error);\n                    } else if (key) {\n                        if (progressCallback && lastProgress !== 1) {\n                            progressCallback(1);\n                        }\n                        resolve(new Uint8Array(key));\n                    } else if (progressCallback && progress !== lastProgress) {\n                        lastProgress = progress;\n                        return progressCallback(progress);\n                    }\n                });\n            });\n        },\n        syncScrypt: function(password, salt, N, r, p, dkLen) {\n            return new Uint8Array(_scrypt(password, salt, N, r, p, dkLen));\n        }\n    };\n\n    // node.js\n    if (typeof(exports) !== 'undefined') {\n       module.exports = lib;\n\n    // RequireJS/AMD\n    // http://www.requirejs.org/docs/api.html\n    // https://github.com/amdjs/amdjs-api/wiki/AMD\n    } else if (typeof(define) === 'function' && define.amd) {\n        define(lib);\n\n    // Web Browsers\n    } else if (root) {\n\n        // If there was an existing library \"scrypt\", make sure it is still available\n        if (root.scrypt) {\n            root._scrypt = root.scrypt;\n        }\n\n        root.scrypt = lib;\n    }\n\n})(this);\n","var Buffer = require('safe-buffer').Buffer\n\n// prototype class for hash functions\nfunction Hash (blockSize, finalSize) {\n  this._block = Buffer.alloc(blockSize)\n  this._finalSize = finalSize\n  this._blockSize = blockSize\n  this._len = 0\n}\n\nHash.prototype.update = function (data, enc) {\n  if (typeof data === 'string') {\n    enc = enc || 'utf8'\n    data = Buffer.from(data, enc)\n  }\n\n  var block = this._block\n  var blockSize = this._blockSize\n  var length = data.length\n  var accum = this._len\n\n  for (var offset = 0; offset < length;) {\n    var assigned = accum % blockSize\n    var remainder = Math.min(length - offset, blockSize - assigned)\n\n    for (var i = 0; i < remainder; i++) {\n      block[assigned + i] = data[offset + i]\n    }\n\n    accum += remainder\n    offset += remainder\n\n    if ((accum % blockSize) === 0) {\n      this._update(block)\n    }\n  }\n\n  this._len += length\n  return this\n}\n\nHash.prototype.digest = function (enc) {\n  var rem = this._len % this._blockSize\n\n  this._block[rem] = 0x80\n\n  // zero (rem + 1) trailing bits, where (rem + 1) is the smallest\n  // non-negative solution to the equation (length + 1 + (rem + 1)) === finalSize mod blockSize\n  this._block.fill(0, rem + 1)\n\n  if (rem >= this._finalSize) {\n    this._update(this._block)\n    this._block.fill(0)\n  }\n\n  var bits = this._len * 8\n\n  // uint32\n  if (bits <= 0xffffffff) {\n    this._block.writeUInt32BE(bits, this._blockSize - 4)\n\n  // uint64\n  } else {\n    var lowBits = (bits & 0xffffffff) >>> 0\n    var highBits = (bits - lowBits) / 0x100000000\n\n    this._block.writeUInt32BE(highBits, this._blockSize - 8)\n    this._block.writeUInt32BE(lowBits, this._blockSize - 4)\n  }\n\n  this._update(this._block)\n  var hash = this._hash()\n\n  return enc ? hash.toString(enc) : hash\n}\n\nHash.prototype._update = function () {\n  throw new Error('_update must be implemented by subclass')\n}\n\nmodule.exports = Hash\n","var exports = module.exports = function SHA (algorithm) {\n  algorithm = algorithm.toLowerCase()\n\n  var Algorithm = exports[algorithm]\n  if (!Algorithm) throw new Error(algorithm + ' is not supported (we accept pull requests)')\n\n  return new Algorithm()\n}\n\nexports.sha = require('./sha')\nexports.sha1 = require('./sha1')\nexports.sha224 = require('./sha224')\nexports.sha256 = require('./sha256')\nexports.sha384 = require('./sha384')\nexports.sha512 = require('./sha512')\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-0, as defined\n * in FIPS PUB 180-1\n * This source code is derived from sha1.js of the same repository.\n * The difference between SHA-0 and SHA-1 is just a bitwise rotate left\n * operation was added.\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x5a827999, 0x6ed9eba1, 0x8f1bbcdc | 0, 0xca62c1d6 | 0\n]\n\nvar W = new Array(80)\n\nfunction Sha () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha, Hash)\n\nSha.prototype.init = function () {\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n\n  return this\n}\n\nfunction rotl5 (num) {\n  return (num << 5) | (num >>> 27)\n}\n\nfunction rotl30 (num) {\n  return (num << 30) | (num >>> 2)\n}\n\nfunction ft (s, b, c, d) {\n  if (s === 0) return (b & c) | ((~b) & d)\n  if (s === 2) return (b & c) | (b & d) | (c & d)\n  return b ^ c ^ d\n}\n\nSha.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 80; ++i) W[i] = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16]\n\n  for (var j = 0; j < 80; ++j) {\n    var s = ~~(j / 20)\n    var t = (rotl5(a) + ft(s, b, c, d) + e + W[j] + K[s]) | 0\n\n    e = d\n    d = c\n    c = rotl30(b)\n    b = a\n    a = t\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n}\n\nSha.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(20)\n\n  H.writeInt32BE(this._a | 0, 0)\n  H.writeInt32BE(this._b | 0, 4)\n  H.writeInt32BE(this._c | 0, 8)\n  H.writeInt32BE(this._d | 0, 12)\n  H.writeInt32BE(this._e | 0, 16)\n\n  return H\n}\n\nmodule.exports = Sha\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS PUB 180-1\n * Version 2.1a Copyright Paul Johnston 2000 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x5a827999, 0x6ed9eba1, 0x8f1bbcdc | 0, 0xca62c1d6 | 0\n]\n\nvar W = new Array(80)\n\nfunction Sha1 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha1, Hash)\n\nSha1.prototype.init = function () {\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n\n  return this\n}\n\nfunction rotl1 (num) {\n  return (num << 1) | (num >>> 31)\n}\n\nfunction rotl5 (num) {\n  return (num << 5) | (num >>> 27)\n}\n\nfunction rotl30 (num) {\n  return (num << 30) | (num >>> 2)\n}\n\nfunction ft (s, b, c, d) {\n  if (s === 0) return (b & c) | ((~b) & d)\n  if (s === 2) return (b & c) | (b & d) | (c & d)\n  return b ^ c ^ d\n}\n\nSha1.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 80; ++i) W[i] = rotl1(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16])\n\n  for (var j = 0; j < 80; ++j) {\n    var s = ~~(j / 20)\n    var t = (rotl5(a) + ft(s, b, c, d) + e + W[j] + K[s]) | 0\n\n    e = d\n    d = c\n    c = rotl30(b)\n    b = a\n    a = t\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n}\n\nSha1.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(20)\n\n  H.writeInt32BE(this._a | 0, 0)\n  H.writeInt32BE(this._b | 0, 4)\n  H.writeInt32BE(this._c | 0, 8)\n  H.writeInt32BE(this._d | 0, 12)\n  H.writeInt32BE(this._e | 0, 16)\n\n  return H\n}\n\nmodule.exports = Sha1\n","/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar inherits = require('inherits')\nvar Sha256 = require('./sha256')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar W = new Array(64)\n\nfunction Sha224 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha224, Sha256)\n\nSha224.prototype.init = function () {\n  this._a = 0xc1059ed8\n  this._b = 0x367cd507\n  this._c = 0x3070dd17\n  this._d = 0xf70e5939\n  this._e = 0xffc00b31\n  this._f = 0x68581511\n  this._g = 0x64f98fa7\n  this._h = 0xbefa4fa4\n\n  return this\n}\n\nSha224.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(28)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n\n  return H\n}\n\nmodule.exports = Sha224\n","/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5,\n  0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5,\n  0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3,\n  0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174,\n  0xE49B69C1, 0xEFBE4786, 0x0FC19DC6, 0x240CA1CC,\n  0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA,\n  0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7,\n  0xC6E00BF3, 0xD5A79147, 0x06CA6351, 0x14292967,\n  0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13,\n  0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85,\n  0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3,\n  0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070,\n  0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5,\n  0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3,\n  0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208,\n  0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2\n]\n\nvar W = new Array(64)\n\nfunction Sha256 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha256, Hash)\n\nSha256.prototype.init = function () {\n  this._a = 0x6a09e667\n  this._b = 0xbb67ae85\n  this._c = 0x3c6ef372\n  this._d = 0xa54ff53a\n  this._e = 0x510e527f\n  this._f = 0x9b05688c\n  this._g = 0x1f83d9ab\n  this._h = 0x5be0cd19\n\n  return this\n}\n\nfunction ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x) {\n  return (x >>> 2 | x << 30) ^ (x >>> 13 | x << 19) ^ (x >>> 22 | x << 10)\n}\n\nfunction sigma1 (x) {\n  return (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7)\n}\n\nfunction gamma0 (x) {\n  return (x >>> 7 | x << 25) ^ (x >>> 18 | x << 14) ^ (x >>> 3)\n}\n\nfunction gamma1 (x) {\n  return (x >>> 17 | x << 15) ^ (x >>> 19 | x << 13) ^ (x >>> 10)\n}\n\nSha256.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n  var f = this._f | 0\n  var g = this._g | 0\n  var h = this._h | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 64; ++i) W[i] = (gamma1(W[i - 2]) + W[i - 7] + gamma0(W[i - 15]) + W[i - 16]) | 0\n\n  for (var j = 0; j < 64; ++j) {\n    var T1 = (h + sigma1(e) + ch(e, f, g) + K[j] + W[j]) | 0\n    var T2 = (sigma0(a) + maj(a, b, c)) | 0\n\n    h = g\n    g = f\n    f = e\n    e = (d + T1) | 0\n    d = c\n    c = b\n    b = a\n    a = (T1 + T2) | 0\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n  this._f = (f + this._f) | 0\n  this._g = (g + this._g) | 0\n  this._h = (h + this._h) | 0\n}\n\nSha256.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(32)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n  H.writeInt32BE(this._h, 28)\n\n  return H\n}\n\nmodule.exports = Sha256\n","var inherits = require('inherits')\nvar SHA512 = require('./sha512')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar W = new Array(160)\n\nfunction Sha384 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 128, 112)\n}\n\ninherits(Sha384, SHA512)\n\nSha384.prototype.init = function () {\n  this._ah = 0xcbbb9d5d\n  this._bh = 0x629a292a\n  this._ch = 0x9159015a\n  this._dh = 0x152fecd8\n  this._eh = 0x67332667\n  this._fh = 0x8eb44a87\n  this._gh = 0xdb0c2e0d\n  this._hh = 0x47b5481d\n\n  this._al = 0xc1059ed8\n  this._bl = 0x367cd507\n  this._cl = 0x3070dd17\n  this._dl = 0xf70e5939\n  this._el = 0xffc00b31\n  this._fl = 0x68581511\n  this._gl = 0x64f98fa7\n  this._hl = 0xbefa4fa4\n\n  return this\n}\n\nSha384.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(48)\n\n  function writeInt64BE (h, l, offset) {\n    H.writeInt32BE(h, offset)\n    H.writeInt32BE(l, offset + 4)\n  }\n\n  writeInt64BE(this._ah, this._al, 0)\n  writeInt64BE(this._bh, this._bl, 8)\n  writeInt64BE(this._ch, this._cl, 16)\n  writeInt64BE(this._dh, this._dl, 24)\n  writeInt64BE(this._eh, this._el, 32)\n  writeInt64BE(this._fh, this._fl, 40)\n\n  return H\n}\n\nmodule.exports = Sha384\n","var inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n]\n\nvar W = new Array(160)\n\nfunction Sha512 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 128, 112)\n}\n\ninherits(Sha512, Hash)\n\nSha512.prototype.init = function () {\n  this._ah = 0x6a09e667\n  this._bh = 0xbb67ae85\n  this._ch = 0x3c6ef372\n  this._dh = 0xa54ff53a\n  this._eh = 0x510e527f\n  this._fh = 0x9b05688c\n  this._gh = 0x1f83d9ab\n  this._hh = 0x5be0cd19\n\n  this._al = 0xf3bcc908\n  this._bl = 0x84caa73b\n  this._cl = 0xfe94f82b\n  this._dl = 0x5f1d36f1\n  this._el = 0xade682d1\n  this._fl = 0x2b3e6c1f\n  this._gl = 0xfb41bd6b\n  this._hl = 0x137e2179\n\n  return this\n}\n\nfunction Ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x, xl) {\n  return (x >>> 28 | xl << 4) ^ (xl >>> 2 | x << 30) ^ (xl >>> 7 | x << 25)\n}\n\nfunction sigma1 (x, xl) {\n  return (x >>> 14 | xl << 18) ^ (x >>> 18 | xl << 14) ^ (xl >>> 9 | x << 23)\n}\n\nfunction Gamma0 (x, xl) {\n  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7)\n}\n\nfunction Gamma0l (x, xl) {\n  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7 | xl << 25)\n}\n\nfunction Gamma1 (x, xl) {\n  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6)\n}\n\nfunction Gamma1l (x, xl) {\n  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6 | xl << 26)\n}\n\nfunction getCarry (a, b) {\n  return (a >>> 0) < (b >>> 0) ? 1 : 0\n}\n\nSha512.prototype._update = function (M) {\n  var W = this._w\n\n  var ah = this._ah | 0\n  var bh = this._bh | 0\n  var ch = this._ch | 0\n  var dh = this._dh | 0\n  var eh = this._eh | 0\n  var fh = this._fh | 0\n  var gh = this._gh | 0\n  var hh = this._hh | 0\n\n  var al = this._al | 0\n  var bl = this._bl | 0\n  var cl = this._cl | 0\n  var dl = this._dl | 0\n  var el = this._el | 0\n  var fl = this._fl | 0\n  var gl = this._gl | 0\n  var hl = this._hl | 0\n\n  for (var i = 0; i < 32; i += 2) {\n    W[i] = M.readInt32BE(i * 4)\n    W[i + 1] = M.readInt32BE(i * 4 + 4)\n  }\n  for (; i < 160; i += 2) {\n    var xh = W[i - 15 * 2]\n    var xl = W[i - 15 * 2 + 1]\n    var gamma0 = Gamma0(xh, xl)\n    var gamma0l = Gamma0l(xl, xh)\n\n    xh = W[i - 2 * 2]\n    xl = W[i - 2 * 2 + 1]\n    var gamma1 = Gamma1(xh, xl)\n    var gamma1l = Gamma1l(xl, xh)\n\n    // W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16]\n    var Wi7h = W[i - 7 * 2]\n    var Wi7l = W[i - 7 * 2 + 1]\n\n    var Wi16h = W[i - 16 * 2]\n    var Wi16l = W[i - 16 * 2 + 1]\n\n    var Wil = (gamma0l + Wi7l) | 0\n    var Wih = (gamma0 + Wi7h + getCarry(Wil, gamma0l)) | 0\n    Wil = (Wil + gamma1l) | 0\n    Wih = (Wih + gamma1 + getCarry(Wil, gamma1l)) | 0\n    Wil = (Wil + Wi16l) | 0\n    Wih = (Wih + Wi16h + getCarry(Wil, Wi16l)) | 0\n\n    W[i] = Wih\n    W[i + 1] = Wil\n  }\n\n  for (var j = 0; j < 160; j += 2) {\n    Wih = W[j]\n    Wil = W[j + 1]\n\n    var majh = maj(ah, bh, ch)\n    var majl = maj(al, bl, cl)\n\n    var sigma0h = sigma0(ah, al)\n    var sigma0l = sigma0(al, ah)\n    var sigma1h = sigma1(eh, el)\n    var sigma1l = sigma1(el, eh)\n\n    // t1 = h + sigma1 + ch + K[j] + W[j]\n    var Kih = K[j]\n    var Kil = K[j + 1]\n\n    var chh = Ch(eh, fh, gh)\n    var chl = Ch(el, fl, gl)\n\n    var t1l = (hl + sigma1l) | 0\n    var t1h = (hh + sigma1h + getCarry(t1l, hl)) | 0\n    t1l = (t1l + chl) | 0\n    t1h = (t1h + chh + getCarry(t1l, chl)) | 0\n    t1l = (t1l + Kil) | 0\n    t1h = (t1h + Kih + getCarry(t1l, Kil)) | 0\n    t1l = (t1l + Wil) | 0\n    t1h = (t1h + Wih + getCarry(t1l, Wil)) | 0\n\n    // t2 = sigma0 + maj\n    var t2l = (sigma0l + majl) | 0\n    var t2h = (sigma0h + majh + getCarry(t2l, sigma0l)) | 0\n\n    hh = gh\n    hl = gl\n    gh = fh\n    gl = fl\n    fh = eh\n    fl = el\n    el = (dl + t1l) | 0\n    eh = (dh + t1h + getCarry(el, dl)) | 0\n    dh = ch\n    dl = cl\n    ch = bh\n    cl = bl\n    bh = ah\n    bl = al\n    al = (t1l + t2l) | 0\n    ah = (t1h + t2h + getCarry(al, t1l)) | 0\n  }\n\n  this._al = (this._al + al) | 0\n  this._bl = (this._bl + bl) | 0\n  this._cl = (this._cl + cl) | 0\n  this._dl = (this._dl + dl) | 0\n  this._el = (this._el + el) | 0\n  this._fl = (this._fl + fl) | 0\n  this._gl = (this._gl + gl) | 0\n  this._hl = (this._hl + hl) | 0\n\n  this._ah = (this._ah + ah + getCarry(this._al, al)) | 0\n  this._bh = (this._bh + bh + getCarry(this._bl, bl)) | 0\n  this._ch = (this._ch + ch + getCarry(this._cl, cl)) | 0\n  this._dh = (this._dh + dh + getCarry(this._dl, dl)) | 0\n  this._eh = (this._eh + eh + getCarry(this._el, el)) | 0\n  this._fh = (this._fh + fh + getCarry(this._fl, fl)) | 0\n  this._gh = (this._gh + gh + getCarry(this._gl, gl)) | 0\n  this._hh = (this._hh + hh + getCarry(this._hl, hl)) | 0\n}\n\nSha512.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(64)\n\n  function writeInt64BE (h, l, offset) {\n    H.writeInt32BE(h, offset)\n    H.writeInt32BE(l, offset + 4)\n  }\n\n  writeInt64BE(this._ah, this._al, 0)\n  writeInt64BE(this._bh, this._bl, 8)\n  writeInt64BE(this._ch, this._cl, 16)\n  writeInt64BE(this._dh, this._dl, 24)\n  writeInt64BE(this._eh, this._el, 32)\n  writeInt64BE(this._fh, this._fl, 40)\n  writeInt64BE(this._gh, this._gl, 48)\n  writeInt64BE(this._hh, this._hl, 56)\n\n  return H\n}\n\nmodule.exports = Sha512\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=exports.SHAKE=exports.SHA3Hash=exports.SHA3=exports.Keccak=void 0;var _buffer=require(\"buffer\");var _sponge=_interopRequireDefault(require(\"./sponge\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var createHash=function createHash(_ref){var allowedSizes=_ref.allowedSizes,defaultSize=_ref.defaultSize,padding=_ref.padding;return function Hash(){var _this=this;var size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultSize;if(!this||this.constructor!==Hash){return new Hash(size)}if(allowedSizes&&!allowedSizes.includes(size)){throw new Error(\"Unsupported hash length\")}var sponge=new _sponge[\"default\"]({capacity:size});this.update=function(input){var encoding=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"utf8\";if(_buffer.Buffer.isBuffer(input)){sponge.absorb(input);return _this}if(typeof input===\"string\"){return _this.update(_buffer.Buffer.from(input,encoding))}throw new TypeError(\"Not a string or buffer\")};this.digest=function(){var formatOrOptions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"binary\";var options=typeof formatOrOptions===\"string\"?{format:formatOrOptions}:formatOrOptions;var buffer=sponge.squeeze({buffer:options.buffer,padding:options.padding||padding});if(options.format&&options.format!==\"binary\"){return buffer.toString(options.format)}return buffer};this.reset=function(){sponge.reset();return _this};return this}};var Keccak=createHash({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});exports.Keccak=Keccak;var SHA3=createHash({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});exports.SHA3=SHA3;var SHAKE=createHash({allowedSizes:[128,256],defaultSize:256,padding:31});exports.SHAKE=SHAKE;var SHA3Hash=Keccak;exports.SHA3Hash=SHA3Hash;SHA3.SHA3Hash=SHA3Hash;var _default=SHA3;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _buffer=require(\"buffer\");var _permute=_interopRequireDefault(require(\"./permute\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var xorWords=function xorWords(I,O){for(var i=0;i<I.length;i+=8){var o=i/4;O[o]^=I[i+7]<<24|I[i+6]<<16|I[i+5]<<8|I[i+4];O[o+1]^=I[i+3]<<24|I[i+2]<<16|I[i+1]<<8|I[i]}return O};var readWords=function readWords(I,O){for(var o=0;o<O.length;o+=8){var i=o/4;O[o]=I[i+1];O[o+1]=I[i+1]>>>8;O[o+2]=I[i+1]>>>16;O[o+3]=I[i+1]>>>24;O[o+4]=I[i];O[o+5]=I[i]>>>8;O[o+6]=I[i]>>>16;O[o+7]=I[i]>>>24}return O};var Sponge=function Sponge(_ref){var _this=this;var capacity=_ref.capacity,padding=_ref.padding;var keccak=(0,_permute[\"default\"])();var stateSize=200;var blockSize=capacity/8;var queueSize=stateSize-capacity/4;var queueOffset=0;var state=new Uint32Array(stateSize/4);var queue=_buffer.Buffer.allocUnsafe(queueSize);this.absorb=function(buffer){for(var i=0;i<buffer.length;i++){queue[queueOffset]=buffer[i];queueOffset+=1;if(queueOffset>=queueSize){xorWords(queue,state);keccak(state);queueOffset=0}}return _this};this.squeeze=function(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var output={buffer:options.buffer||_buffer.Buffer.allocUnsafe(blockSize),padding:options.padding||padding,queue:_buffer.Buffer.allocUnsafe(queue.length),state:new Uint32Array(state.length)};queue.copy(output.queue);for(var i=0;i<state.length;i++){output.state[i]=state[i]}output.queue.fill(0,queueOffset);output.queue[queueOffset]|=output.padding;output.queue[queueSize-1]|=128;xorWords(output.queue,output.state);for(var offset=0;offset<output.buffer.length;offset+=queueSize){keccak(output.state);readWords(output.state,output.buffer.slice(offset,offset+queueSize))}return output.buffer};this.reset=function(){queue.fill(0);state.fill(0);queueOffset=0;return _this};return this};var _default=Sponge;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var chi=function chi(_ref){var A=_ref.A,C=_ref.C;for(var y=0;y<25;y+=5){for(var x=0;x<5;x++){(0,_copy[\"default\"])(A,y+x)(C,x)}for(var _x=0;_x<5;_x++){var xy=(y+_x)*2;var x1=(_x+1)%5*2;var x2=(_x+2)%5*2;A[xy]^=~C[x1]&C[x2];A[xy+1]^=~C[x1+1]&C[x2+1]}}};var _default=chi;exports[\"default\"]=_default;","\"use strict\";var copy=function copy(I,i){return function(O,o){var oi=o*2;var ii=i*2;O[oi]=I[ii];O[oi+1]=I[ii+1]}};module.exports=copy;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _chi=_interopRequireDefault(require(\"./chi\"));var _iota=_interopRequireDefault(require(\"./iota\"));var _rhoPi=_interopRequireDefault(require(\"./rho-pi\"));var _theta=_interopRequireDefault(require(\"./theta\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var permute=function permute(){var C=new Uint32Array(10);var D=new Uint32Array(10);var W=new Uint32Array(2);return function(A){for(var roundIndex=0;roundIndex<24;roundIndex++){(0,_theta[\"default\"])({A:A,C:C,D:D,W:W});(0,_rhoPi[\"default\"])({A:A,C:C,W:W});(0,_chi[\"default\"])({A:A,C:C});(0,_iota[\"default\"])({A:A,roundIndex:roundIndex})}C.fill(0);D.fill(0);W.fill(0)}};var _default=permute;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _roundConstants=_interopRequireDefault(require(\"./round-constants\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var iota=function iota(_ref){var A=_ref.A,roundIndex=_ref.roundIndex;var i=roundIndex*2;A[0]^=_roundConstants[\"default\"][i];A[1]^=_roundConstants[\"default\"][i+1]};var _default=iota;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var ROUND_CONSTANTS=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);var _default=ROUND_CONSTANTS;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _piShuffles=_interopRequireDefault(require(\"./pi-shuffles\"));var _rhoOffsets=_interopRequireDefault(require(\"./rho-offsets\"));var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var rhoPi=function rhoPi(_ref){var A=_ref.A,C=_ref.C,W=_ref.W;(0,_copy[\"default\"])(A,1)(W,0);var H=0;var L=0;var Wi=0;var ri=32;for(var i=0;i<24;i++){var j=_piShuffles[\"default\"][i];var r=_rhoOffsets[\"default\"][i];(0,_copy[\"default\"])(A,j)(C,0);H=W[0];L=W[1];ri=32-r;Wi=r<32?0:1;W[Wi]=H<<r|L>>>ri;W[(Wi+1)%2]=L<<r|H>>>ri;(0,_copy[\"default\"])(W,0)(A,j);(0,_copy[\"default\"])(C,0)(W,0)}};var _default=rhoPi;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var PI_SHUFFLES=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];var _default=PI_SHUFFLES;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var RHO_OFFSETS=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];var _default=RHO_OFFSETS;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var theta=function theta(_ref){var A=_ref.A,C=_ref.C,D=_ref.D,W=_ref.W;var H=0;var L=0;for(var x=0;x<5;x++){var x20=x*2;var x21=(x+5)*2;var x22=(x+10)*2;var x23=(x+15)*2;var x24=(x+20)*2;C[x20]=A[x20]^A[x21]^A[x22]^A[x23]^A[x24];C[x20+1]=A[x20+1]^A[x21+1]^A[x22+1]^A[x23+1]^A[x24+1]}for(var _x=0;_x<5;_x++){(0,_copy[\"default\"])(C,(_x+1)%5)(W,0);H=W[0];L=W[1];W[0]=H<<1|L>>>31;W[1]=L<<1|H>>>31;D[_x*2]=C[(_x+4)%5*2]^W[0];D[_x*2+1]=C[(_x+4)%5*2+1]^W[1];for(var y=0;y<25;y+=5){A[(y+_x)*2]^=D[_x*2];A[(y+_x)*2+1]^=D[_x*2+1]}}};var _default=theta;exports[\"default\"]=_default;","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' || (typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]');\nvar withNativeFile = typeof File === 'function' || (typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\nvar ERROR_PACKET = exports.ERROR + '\"encode error\"';\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  } else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    var payload = tryStringify(obj.data);\n    if (payload !== false) {\n      str += payload;\n    } else {\n      return ERROR_PACKET;\n    }\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\nfunction tryStringify(str) {\n  try {\n    return JSON.stringify(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an encoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  } else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  } else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) {\n    return error('unknown packet type ' + p.type);\n  }\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var start = i + 1;\n    while (str.charAt(++i) !== '-' && i != str.length) {}\n    var buf = str.substring(start, i);\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    var start = i + 1;\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      if (i === str.length) break;\n    }\n    p.nsp = str.substring(start, i);\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    var start = i + 1;\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      if (i === str.length) break;\n    }\n    p.id = Number(str.substring(start, i + 1));\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    var payload = tryParse(str.substr(i));\n    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));\n    if (isPayloadValid) {\n      p.data = payload;\n    } else {\n      return error('invalid payload');\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(msg) {\n  return {\n    type: exports.ERROR,\n    data: 'parser error: ' + msg\n  };\n}\n","\nmodule.exports = isBuf;\n\nvar withNativeBuffer = typeof Buffer === 'function' && typeof Buffer.isBuffer === 'function';\nvar withNativeArrayBuffer = typeof ArrayBuffer === 'function';\n\nvar isView = function (obj) {\n  return typeof ArrayBuffer.isView === 'function' ? ArrayBuffer.isView(obj) : (obj.buffer instanceof ArrayBuffer);\n};\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (withNativeBuffer && Buffer.isBuffer(obj)) ||\n          (withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)));\n}\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/lib/_stream_readable.js');\nStream.Writable = require('readable-stream/lib/_stream_writable.js');\nStream.Duplex = require('readable-stream/lib/_stream_duplex.js');\nStream.Transform = require('readable-stream/lib/_stream_transform.js');\nStream.PassThrough = require('readable-stream/lib/_stream_passthrough.js');\nStream.finished = require('readable-stream/lib/internal/streams/end-of-stream.js')\nStream.pipeline = require('readable-stream/lib/internal/streams/pipeline.js')\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\nexports.blobConstructor = false\ntry {\n\tnew Blob([new ArrayBuffer(1)])\n\texports.blobConstructor = true\n} catch (e) {}\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// For some strange reason, Safari 7.0 reports typeof global.ArrayBuffer === 'object'.\n// Safari 7.1 appears to have fixed this bug.\nvar haveArrayBuffer = typeof global.ArrayBuffer !== 'undefined'\nvar haveSlice = haveArrayBuffer && isFunction(global.ArrayBuffer.prototype.slice)\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || (haveArrayBuffer && checkTypeSupport('arraybuffer'))\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && haveSlice && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && haveArrayBuffer &&\n\tcheckTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nexports.vbArray = isFunction(global.VBArray)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\nvar toArrayBuffer = require('to-arraybuffer')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else if (capability.vbArray && preferBinary) {\n\t\treturn 'text:vbarray'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + new Buffer(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n\t\tif (capability.arraybuffer) {\n\t\t\tbody = toArrayBuffer(Buffer.concat(self._body))\n\t\t} else if (capability.blobConstructor) {\n\t\t\tbody = new global.Blob(self._body.map(function (buffer) {\n\t\t\t\treturn toArrayBuffer(buffer)\n\t\t\t}), {\n\t\t\t\ttype: (headersObj['content-type'] || {}).value || ''\n\t\t\t})\n\t\t} else {\n\t\t\t// get utf8 string\n\t\t\tbody = Buffer.concat(self._body).toString()\n\t\t}\n\t}\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tvar fetchTimer = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tglobal.clearTimeout(self._fetchTimer)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode.split(':')[0]\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress()\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._fetchTimer)\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tvar self = this\n\tself._destroyed = true\n\tglobal.clearTimeout(self._fetchTimer)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var isHexPrefixed = require('is-hex-prefixed');\n\n/**\n * Removes '0x' from a given `String` is present\n * @param {String} str the string value\n * @return {String|Optional} a string by pass if necessary\n */\nmodule.exports = function stripHexPrefix(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return isHexPrefixed(str) ? str.slice(2) : str;\n}\n","'use strict';\n\n// This is free and unencumbered software released into the public domain.\n// See LICENSE.md for more information.\n\n//\n// Utilities\n//\n\n/**\n * @param {number} a The number to test.\n * @param {number} min The minimum value in the range, inclusive.\n * @param {number} max The maximum value in the range, inclusive.\n * @return {boolean} True if a >= min and a <= max.\n */\nfunction inRange(a, min, max) {\n  return min <= a && a <= max;\n}\n\n/**\n * @param {*} o\n * @return {Object}\n */\nfunction ToDictionary(o) {\n  if (o === undefined) return {};\n  if (o === Object(o)) return o;\n  throw TypeError('Could not convert argument to dictionary');\n}\n\n/**\n * @param {string} string Input string of UTF-16 code units.\n * @return {!Array.<number>} Code points.\n */\nfunction stringToCodePoints(string) {\n  // https://heycam.github.io/webidl/#dfn-obtain-unicode\n\n  // 1. Let S be the DOMString value.\n  var s = String(string);\n\n  // 2. Let n be the length of S.\n  var n = s.length;\n\n  // 3. Initialize i to 0.\n  var i = 0;\n\n  // 4. Initialize U to be an empty sequence of Unicode characters.\n  var u = [];\n\n  // 5. While i < n:\n  while (i < n) {\n\n    // 1. Let c be the code unit in S at index i.\n    var c = s.charCodeAt(i);\n\n    // 2. Depending on the value of c:\n\n    // c < 0xD800 or c > 0xDFFF\n    if (c < 0xD800 || c > 0xDFFF) {\n      // Append to U the Unicode character with code point c.\n      u.push(c);\n    }\n\n    // 0xDC00  c  0xDFFF\n    else if (0xDC00 <= c && c <= 0xDFFF) {\n      // Append to U a U+FFFD REPLACEMENT CHARACTER.\n      u.push(0xFFFD);\n    }\n\n    // 0xD800  c  0xDBFF\n    else if (0xD800 <= c && c <= 0xDBFF) {\n      // 1. If i = n1, then append to U a U+FFFD REPLACEMENT\n      // CHARACTER.\n      if (i === n - 1) {\n        u.push(0xFFFD);\n      }\n      // 2. Otherwise, i < n1:\n      else {\n        // 1. Let d be the code unit in S at index i+1.\n        var d = string.charCodeAt(i + 1);\n\n        // 2. If 0xDC00  d  0xDFFF, then:\n        if (0xDC00 <= d && d <= 0xDFFF) {\n          // 1. Let a be c & 0x3FF.\n          var a = c & 0x3FF;\n\n          // 2. Let b be d & 0x3FF.\n          var b = d & 0x3FF;\n\n          // 3. Append to U the Unicode character with code point\n          // 2^16+2^10*a+b.\n          u.push(0x10000 + (a << 10) + b);\n\n          // 4. Set i to i+1.\n          i += 1;\n        }\n\n        // 3. Otherwise, d < 0xDC00 or d > 0xDFFF. Append to U a\n        // U+FFFD REPLACEMENT CHARACTER.\n        else  {\n          u.push(0xFFFD);\n        }\n      }\n    }\n\n    // 3. Set i to i+1.\n    i += 1;\n  }\n\n  // 6. Return U.\n  return u;\n}\n\n/**\n * @param {!Array.<number>} code_points Array of code points.\n * @return {string} string String of UTF-16 code units.\n */\nfunction codePointsToString(code_points) {\n  var s = '';\n  for (var i = 0; i < code_points.length; ++i) {\n    var cp = code_points[i];\n    if (cp <= 0xFFFF) {\n      s += String.fromCharCode(cp);\n    } else {\n      cp -= 0x10000;\n      s += String.fromCharCode((cp >> 10) + 0xD800,\n                               (cp & 0x3FF) + 0xDC00);\n    }\n  }\n  return s;\n}\n\n\n//\n// Implementation of Encoding specification\n// https://encoding.spec.whatwg.org/\n//\n\n//\n// 3. Terminology\n//\n\n/**\n * End-of-stream is a special token that signifies no more tokens\n * are in the stream.\n * @const\n */ var end_of_stream = -1;\n\n/**\n * A stream represents an ordered sequence of tokens.\n *\n * @constructor\n * @param {!(Array.<number>|Uint8Array)} tokens Array of tokens that provide the\n * stream.\n */\nfunction Stream(tokens) {\n  /** @type {!Array.<number>} */\n  this.tokens = [].slice.call(tokens);\n}\n\nStream.prototype = {\n  /**\n   * @return {boolean} True if end-of-stream has been hit.\n   */\n  endOfStream: function() {\n    return !this.tokens.length;\n  },\n\n  /**\n   * When a token is read from a stream, the first token in the\n   * stream must be returned and subsequently removed, and\n   * end-of-stream must be returned otherwise.\n   *\n   * @return {number} Get the next token from the stream, or\n   * end_of_stream.\n   */\n   read: function() {\n    if (!this.tokens.length)\n      return end_of_stream;\n     return this.tokens.shift();\n   },\n\n  /**\n   * When one or more tokens are prepended to a stream, those tokens\n   * must be inserted, in given order, before the first token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The token(s) to prepend to the stream.\n   */\n  prepend: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.unshift(tokens.pop());\n    } else {\n      this.tokens.unshift(token);\n    }\n  },\n\n  /**\n   * When one or more tokens are pushed to a stream, those tokens\n   * must be inserted, in given order, after the last token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The tokens(s) to prepend to the stream.\n   */\n  push: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.push(tokens.shift());\n    } else {\n      this.tokens.push(token);\n    }\n  }\n};\n\n//\n// 4. Encodings\n//\n\n// 4.1 Encoders and decoders\n\n/** @const */\nvar finished = -1;\n\n/**\n * @param {boolean} fatal If true, decoding errors raise an exception.\n * @param {number=} opt_code_point Override the standard fallback code point.\n * @return {number} The code point to insert on a decoding error.\n */\nfunction decoderError(fatal, opt_code_point) {\n  if (fatal)\n    throw TypeError('Decoder error');\n  return opt_code_point || 0xFFFD;\n}\n\n//\n// 7. API\n//\n\n/** @const */ var DEFAULT_ENCODING = 'utf-8';\n\n// 7.1 Interface TextDecoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextDecoder(encoding, options) {\n  if (!(this instanceof TextDecoder)) {\n    return new TextDecoder(encoding, options);\n  }\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {boolean} */\n  this._BOMseen = false;\n  /** @private @type {?Decoder} */\n  this._decoder = null;\n  /** @private @type {boolean} */\n  this._fatal = Boolean(options['fatal']);\n  /** @private @type {boolean} */\n  this._ignoreBOM = Boolean(options['ignoreBOM']);\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n  Object.defineProperty(this, 'fatal', {value: this._fatal});\n  Object.defineProperty(this, 'ignoreBOM', {value: this._ignoreBOM});\n}\n\nTextDecoder.prototype = {\n  /**\n   * @param {ArrayBufferView=} input The buffer of bytes to decode.\n   * @param {Object=} options\n   * @return {string} The decoded string.\n   */\n  decode: function decode(input, options) {\n    var bytes;\n    if (typeof input === 'object' && input instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input);\n    } else if (typeof input === 'object' && 'buffer' in input &&\n               input.buffer instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input.buffer,\n                             input.byteOffset,\n                             input.byteLength);\n    } else {\n      bytes = new Uint8Array(0);\n    }\n\n    options = ToDictionary(options);\n\n    if (!this._streaming) {\n      this._decoder = new UTF8Decoder({fatal: this._fatal});\n      this._BOMseen = false;\n    }\n    this._streaming = Boolean(options['stream']);\n\n    var input_stream = new Stream(bytes);\n\n    var code_points = [];\n\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n\n    while (!input_stream.endOfStream()) {\n      result = this._decoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (result === null)\n        continue;\n      if (Array.isArray(result))\n        code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n      else\n        code_points.push(result);\n    }\n    if (!this._streaming) {\n      do {\n        result = this._decoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (result === null)\n          continue;\n        if (Array.isArray(result))\n          code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n        else\n          code_points.push(result);\n      } while (!input_stream.endOfStream());\n      this._decoder = null;\n    }\n\n    if (code_points.length) {\n      // If encoding is one of utf-8, utf-16be, and utf-16le, and\n      // ignore BOM flag and BOM seen flag are unset, run these\n      // subsubsteps:\n      if (['utf-8'].indexOf(this.encoding) !== -1 &&\n          !this._ignoreBOM && !this._BOMseen) {\n        // If token is U+FEFF, set BOM seen flag.\n        if (code_points[0] === 0xFEFF) {\n          this._BOMseen = true;\n          code_points.shift();\n        } else {\n          // Otherwise, if token is not end-of-stream, set BOM seen\n          // flag and append token to output.\n          this._BOMseen = true;\n        }\n      }\n    }\n\n    return codePointsToString(code_points);\n  }\n};\n\n// 7.2 Interface TextEncoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextEncoder(encoding, options) {\n  if (!(this instanceof TextEncoder))\n    return new TextEncoder(encoding, options);\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {?Encoder} */\n  this._encoder = null;\n  /** @private @type {{fatal: boolean}} */\n  this._options = {fatal: Boolean(options['fatal'])};\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n}\n\nTextEncoder.prototype = {\n  /**\n   * @param {string=} opt_string The string to encode.\n   * @param {Object=} options\n   * @return {Uint8Array} Encoded bytes, as a Uint8Array.\n   */\n  encode: function encode(opt_string, options) {\n    opt_string = opt_string ? String(opt_string) : '';\n    options = ToDictionary(options);\n\n    // NOTE: This option is nonstandard. None of the encodings\n    // permitted for encoding (i.e. UTF-8, UTF-16) are stateful,\n    // so streaming is not necessary.\n    if (!this._streaming)\n      this._encoder = new UTF8Encoder(this._options);\n    this._streaming = Boolean(options['stream']);\n\n    var bytes = [];\n    var input_stream = new Stream(stringToCodePoints(opt_string));\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n    while (!input_stream.endOfStream()) {\n      result = this._encoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (Array.isArray(result))\n        bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n      else\n        bytes.push(result);\n    }\n    if (!this._streaming) {\n      while (true) {\n        result = this._encoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (Array.isArray(result))\n          bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n        else\n          bytes.push(result);\n      }\n      this._encoder = null;\n    }\n    return new Uint8Array(bytes);\n  }\n};\n\n//\n// 8. The encoding\n//\n\n// 8.1 utf-8\n\n/**\n * @constructor\n * @implements {Decoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Decoder(options) {\n  var fatal = options.fatal;\n\n  // utf-8's decoder's has an associated utf-8 code point, utf-8\n  // bytes seen, and utf-8 bytes needed (all initially 0), a utf-8\n  // lower boundary (initially 0x80), and a utf-8 upper boundary\n  // (initially 0xBF).\n  var /** @type {number} */ utf8_code_point = 0,\n      /** @type {number} */ utf8_bytes_seen = 0,\n      /** @type {number} */ utf8_bytes_needed = 0,\n      /** @type {number} */ utf8_lower_boundary = 0x80,\n      /** @type {number} */ utf8_upper_boundary = 0xBF;\n\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point.\n   */\n  this.handler = function(stream, bite) {\n    // 1. If byte is end-of-stream and utf-8 bytes needed is not 0,\n    // set utf-8 bytes needed to 0 and return error.\n    if (bite === end_of_stream && utf8_bytes_needed !== 0) {\n      utf8_bytes_needed = 0;\n      return decoderError(fatal);\n    }\n\n    // 2. If byte is end-of-stream, return finished.\n    if (bite === end_of_stream)\n      return finished;\n\n    // 3. If utf-8 bytes needed is 0, based on byte:\n    if (utf8_bytes_needed === 0) {\n\n      // 0x00 to 0x7F\n      if (inRange(bite, 0x00, 0x7F)) {\n        // Return a code point whose value is byte.\n        return bite;\n      }\n\n      // 0xC2 to 0xDF\n      if (inRange(bite, 0xC2, 0xDF)) {\n        // Set utf-8 bytes needed to 1 and utf-8 code point to byte\n        //  0xC0.\n        utf8_bytes_needed = 1;\n        utf8_code_point = bite - 0xC0;\n      }\n\n      // 0xE0 to 0xEF\n      else if (inRange(bite, 0xE0, 0xEF)) {\n        // 1. If byte is 0xE0, set utf-8 lower boundary to 0xA0.\n        if (bite === 0xE0)\n          utf8_lower_boundary = 0xA0;\n        // 2. If byte is 0xED, set utf-8 upper boundary to 0x9F.\n        if (bite === 0xED)\n          utf8_upper_boundary = 0x9F;\n        // 3. Set utf-8 bytes needed to 2 and utf-8 code point to\n        // byte  0xE0.\n        utf8_bytes_needed = 2;\n        utf8_code_point = bite - 0xE0;\n      }\n\n      // 0xF0 to 0xF4\n      else if (inRange(bite, 0xF0, 0xF4)) {\n        // 1. If byte is 0xF0, set utf-8 lower boundary to 0x90.\n        if (bite === 0xF0)\n          utf8_lower_boundary = 0x90;\n        // 2. If byte is 0xF4, set utf-8 upper boundary to 0x8F.\n        if (bite === 0xF4)\n          utf8_upper_boundary = 0x8F;\n        // 3. Set utf-8 bytes needed to 3 and utf-8 code point to\n        // byte  0xF0.\n        utf8_bytes_needed = 3;\n        utf8_code_point = bite - 0xF0;\n      }\n\n      // Otherwise\n      else {\n        // Return error.\n        return decoderError(fatal);\n      }\n\n      // Then (byte is in the range 0xC2 to 0xF4) set utf-8 code\n      // point to utf-8 code point << (6  utf-8 bytes needed) and\n      // return continue.\n      utf8_code_point = utf8_code_point << (6 * utf8_bytes_needed);\n      return null;\n    }\n\n    // 4. If byte is not in the range utf-8 lower boundary to utf-8\n    // upper boundary, run these substeps:\n    if (!inRange(bite, utf8_lower_boundary, utf8_upper_boundary)) {\n\n      // 1. Set utf-8 code point, utf-8 bytes needed, and utf-8\n      // bytes seen to 0, set utf-8 lower boundary to 0x80, and set\n      // utf-8 upper boundary to 0xBF.\n      utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n      utf8_lower_boundary = 0x80;\n      utf8_upper_boundary = 0xBF;\n\n      // 2. Prepend byte to stream.\n      stream.prepend(bite);\n\n      // 3. Return error.\n      return decoderError(fatal);\n    }\n\n    // 5. Set utf-8 lower boundary to 0x80 and utf-8 upper boundary\n    // to 0xBF.\n    utf8_lower_boundary = 0x80;\n    utf8_upper_boundary = 0xBF;\n\n    // 6. Increase utf-8 bytes seen by one and set utf-8 code point\n    // to utf-8 code point + (byte  0x80) << (6  (utf-8 bytes\n    // needed  utf-8 bytes seen)).\n    utf8_bytes_seen += 1;\n    utf8_code_point += (bite - 0x80) << (6 * (utf8_bytes_needed - utf8_bytes_seen));\n\n    // 7. If utf-8 bytes seen is not equal to utf-8 bytes needed,\n    // continue.\n    if (utf8_bytes_seen !== utf8_bytes_needed)\n      return null;\n\n    // 8. Let code point be utf-8 code point.\n    var code_point = utf8_code_point;\n\n    // 9. Set utf-8 code point, utf-8 bytes needed, and utf-8 bytes\n    // seen to 0.\n    utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n\n    // 10. Return a code point whose value is code point.\n    return code_point;\n  };\n}\n\n/**\n * @constructor\n * @implements {Encoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Encoder(options) {\n  var fatal = options.fatal;\n  /**\n   * @param {Stream} stream Input stream.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit.\n   */\n  this.handler = function(stream, code_point) {\n    // 1. If code point is end-of-stream, return finished.\n    if (code_point === end_of_stream)\n      return finished;\n\n    // 2. If code point is in the range U+0000 to U+007F, return a\n    // byte whose value is code point.\n    if (inRange(code_point, 0x0000, 0x007f))\n      return code_point;\n\n    // 3. Set count and offset based on the range code point is in:\n    var count, offset;\n    // U+0080 to U+07FF:    1 and 0xC0\n    if (inRange(code_point, 0x0080, 0x07FF)) {\n      count = 1;\n      offset = 0xC0;\n    }\n    // U+0800 to U+FFFF:    2 and 0xE0\n    else if (inRange(code_point, 0x0800, 0xFFFF)) {\n      count = 2;\n      offset = 0xE0;\n    }\n    // U+10000 to U+10FFFF: 3 and 0xF0\n    else if (inRange(code_point, 0x10000, 0x10FFFF)) {\n      count = 3;\n      offset = 0xF0;\n    }\n\n    // 4.Let bytes be a byte sequence whose first byte is (code\n    // point >> (6  count)) + offset.\n    var bytes = [(code_point >> (6 * count)) + offset];\n\n    // 5. Run these substeps while count is greater than 0:\n    while (count > 0) {\n\n      // 1. Set temp to code point >> (6  (count  1)).\n      var temp = code_point >> (6 * (count - 1));\n\n      // 2. Append to bytes 0x80 | (temp & 0x3F).\n      bytes.push(0x80 | (temp & 0x3F));\n\n      // 3. Decrease count by one.\n      count -= 1;\n    }\n\n    // 6. Return bytes bytes, in order.\n    return bytes;\n  };\n}\n\nexports.TextEncoder = TextEncoder;\nexports.TextDecoder = TextDecoder;","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n","var Buffer = require('buffer').Buffer\n\nmodule.exports = function (buf) {\n\t// If the buffer is backed by a Uint8Array, a faster version will work\n\tif (buf instanceof Uint8Array) {\n\t\t// If the buffer isn't a subarray, return the underlying ArrayBuffer\n\t\tif (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n\t\t\treturn buf.buffer\n\t\t} else if (typeof buf.buffer.slice === 'function') {\n\t\t\t// Otherwise we need to get a proper copy\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n\t\t}\n\t}\n\n\tif (Buffer.isBuffer(buf)) {\n\t\t// This is the slow version that will work with any Buffer\n\t\t// implementation (even in old browsers)\n\t\tvar arrayCopy = new Uint8Array(buf.length)\n\t\tvar len = buf.length\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tarrayCopy[i] = buf[i]\n\t\t}\n\t\treturn arrayCopy.buffer\n\t} else {\n\t\tthrow new Error('Argument must be a Buffer')\n\t}\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TypeName = undefined;\nexports.parse = parse;\nexports.toCodePoints = toCodePoints;\n\nvar _regex = require('./lib/regex');\n\nvar _regex2 = _interopRequireDefault(_regex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TypeName = exports.TypeName = 'emoji';\n// Copyright Twitter Inc. Licensed under MIT\n// https://github.com/twitter/twemoji-parser/blob/master/LICENSE.md\nfunction parse(text, options) {\n  var assetType = options && options.assetType ? options.assetType : 'svg';\n  var getTwemojiUrl = options && options.buildUrl ? options.buildUrl : function (codepoints, assetType) {\n    return assetType === 'png' ? 'https://twemoji.maxcdn.com/2/72x72/' + codepoints + '.png' : 'https://twemoji.maxcdn.com/2/svg/' + codepoints + '.svg';\n  };\n\n  var entities = [];\n\n  _regex2.default.lastIndex = 0;\n  while (true) {\n    var result = _regex2.default.exec(text);\n    if (!result) {\n      break;\n    }\n\n    var emojiText = result[0];\n    var codepoints = toCodePoints(removeVS16s(emojiText)).join('-');\n\n    entities.push({\n      url: codepoints ? getTwemojiUrl(codepoints, assetType) : '',\n      indices: [result.index, _regex2.default.lastIndex],\n      text: emojiText,\n      type: TypeName\n    });\n  }\n  return entities;\n}\n\nvar vs16RegExp = /\\uFE0F/g;\n// avoid using a string literal like '\\u200D' here because minifiers expand it inline\nvar zeroWidthJoiner = String.fromCharCode(0x200d);\n\nvar removeVS16s = function removeVS16s(rawEmoji) {\n  return rawEmoji.indexOf(zeroWidthJoiner) < 0 ? rawEmoji.replace(vs16RegExp, '') : rawEmoji;\n};\n\nfunction toCodePoints(unicodeSurrogates) {\n  var points = [];\n  var char = 0;\n  var previous = 0;\n  var i = 0;\n  while (i < unicodeSurrogates.length) {\n    char = unicodeSurrogates.charCodeAt(i++);\n    if (previous) {\n      points.push((0x10000 + (previous - 0xd800 << 10) + (char - 0xdc00)).toString(16));\n      previous = 0;\n    } else if (char > 0xd800 && char <= 0xdbff) {\n      previous = char;\n    } else {\n      points.push(char.toString(16));\n    }\n  }\n  return points;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright Twitter Inc. Licensed under MIT\n// https://github.com/twitter/twemoji-parser/blob/master/LICENSE.md\n\n// This file is auto-generated\nexports.default = /(?:\\ud83d[\\udc68\\udc69])(?:\\ud83c[\\udffb-\\udfff])?\\u200d(?:\\u2695\\ufe0f|\\u2696\\ufe0f|\\u2708\\ufe0f|\\ud83c[\\udf3e\\udf73\\udf93\\udfa4\\udfa8\\udfeb\\udfed]|\\ud83d[\\udcbb\\udcbc\\udd27\\udd2c\\ude80\\ude92]|\\ud83e[\\uddb0-\\uddb3])|(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75]|\\u26f9)((?:\\ud83c[\\udffb-\\udfff]|\\ufe0f)\\u200d[\\u2640\\u2642]\\ufe0f)|(?:\\ud83c[\\udfc3\\udfc4\\udfca]|\\ud83d[\\udc6e\\udc71\\udc73\\udc77\\udc81\\udc82\\udc86\\udc87\\ude45-\\ude47\\ude4b\\ude4d\\ude4e\\udea3\\udeb4-\\udeb6]|\\ud83e[\\udd26\\udd35\\udd37-\\udd39\\udd3d\\udd3e\\uddb8\\uddb9\\uddd6-\\udddd])(?:\\ud83c[\\udffb-\\udfff])?\\u200d[\\u2640\\u2642]\\ufe0f|(?:\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83c\\udff3\\ufe0f\\u200d\\ud83c\\udf08|\\ud83c\\udff4\\u200d\\u2620\\ufe0f|\\ud83d\\udc41\\u200d\\ud83d\\udde8|\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc6f\\u200d\\u2640\\ufe0f|\\ud83d\\udc6f\\u200d\\u2642\\ufe0f|\\ud83e\\udd3c\\u200d\\u2640\\ufe0f|\\ud83e\\udd3c\\u200d\\u2642\\ufe0f|\\ud83e\\uddde\\u200d\\u2640\\ufe0f|\\ud83e\\uddde\\u200d\\u2642\\ufe0f|\\ud83e\\udddf\\u200d\\u2640\\ufe0f|\\ud83e\\udddf\\u200d\\u2642\\ufe0f)|[#*0-9]\\ufe0f?\\u20e3|(?:[\\u2122\\u265f]\\ufe0f)|(?:\\ud83c[\\udc04\\udd70\\udd71\\udd7e\\udd7f\\ude02\\ude1a\\ude2f\\ude37\\udf21\\udf24-\\udf2c\\udf36\\udf7d\\udf96\\udf97\\udf99-\\udf9b\\udf9e\\udf9f\\udfcd\\udfce\\udfd4-\\udfdf\\udff3\\udff5\\udff7]|\\ud83d[\\udc3f\\udc41\\udcfd\\udd49\\udd4a\\udd6f\\udd70\\udd73\\udd76-\\udd79\\udd87\\udd8a-\\udd8d\\udda5\\udda8\\uddb1\\uddb2\\uddbc\\uddc2-\\uddc4\\uddd1-\\uddd3\\udddc-\\uddde\\udde1\\udde3\\udde8\\uddef\\uddf3\\uddfa\\udecb\\udecd-\\udecf\\udee0-\\udee5\\udee9\\udef0\\udef3]|[\\u203c\\u2049\\u2139\\u2194-\\u2199\\u21a9\\u21aa\\u231a\\u231b\\u2328\\u23cf\\u23ed-\\u23ef\\u23f1\\u23f2\\u23f8-\\u23fa\\u24c2\\u25aa\\u25ab\\u25b6\\u25c0\\u25fb-\\u25fe\\u2600-\\u2604\\u260e\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262a\\u262e\\u262f\\u2638-\\u263a\\u2640\\u2642\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267b\\u267f\\u2692-\\u2697\\u2699\\u269b\\u269c\\u26a0\\u26a1\\u26aa\\u26ab\\u26b0\\u26b1\\u26bd\\u26be\\u26c4\\u26c5\\u26c8\\u26cf\\u26d1\\u26d3\\u26d4\\u26e9\\u26ea\\u26f0-\\u26f5\\u26f8\\u26fa\\u26fd\\u2702\\u2708\\u2709\\u270f\\u2712\\u2714\\u2716\\u271d\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u2764\\u27a1\\u2934\\u2935\\u2b05-\\u2b07\\u2b1b\\u2b1c\\u2b50\\u2b55\\u3030\\u303d\\u3297\\u3299])(?:\\ufe0f|(?!\\ufe0e))|(?:(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75\\udd90]|[\\u261d\\u26f7\\u26f9\\u270c\\u270d])(?:\\ufe0f|(?!\\ufe0e))|(?:\\ud83c[\\udf85\\udfc2-\\udfc4\\udfc7\\udfca]|\\ud83d[\\udc42\\udc43\\udc46-\\udc50\\udc66-\\udc69\\udc6e\\udc70-\\udc78\\udc7c\\udc81-\\udc83\\udc85-\\udc87\\udcaa\\udd7a\\udd95\\udd96\\ude45-\\ude47\\ude4b-\\ude4f\\udea3\\udeb4-\\udeb6\\udec0\\udecc]|\\ud83e[\\udd18-\\udd1c\\udd1e\\udd1f\\udd26\\udd30-\\udd39\\udd3d\\udd3e\\uddb5\\uddb6\\uddb8\\uddb9\\uddd1-\\udddd]|[\\u270a\\u270b]))(?:\\ud83c[\\udffb-\\udfff])?|(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc65\\udb40\\udc6e\\udb40\\udc67\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc73\\udb40\\udc63\\udb40\\udc74\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc77\\udb40\\udc6c\\udb40\\udc73\\udb40\\udc7f|\\ud83c\\udde6\\ud83c[\\udde8-\\uddec\\uddee\\uddf1\\uddf2\\uddf4\\uddf6-\\uddfa\\uddfc\\uddfd\\uddff]|\\ud83c\\udde7\\ud83c[\\udde6\\udde7\\udde9-\\uddef\\uddf1-\\uddf4\\uddf6-\\uddf9\\uddfb\\uddfc\\uddfe\\uddff]|\\ud83c\\udde8\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\uddee\\uddf0-\\uddf5\\uddf7\\uddfa-\\uddff]|\\ud83c\\udde9\\ud83c[\\uddea\\uddec\\uddef\\uddf0\\uddf2\\uddf4\\uddff]|\\ud83c\\uddea\\ud83c[\\udde6\\udde8\\uddea\\uddec\\udded\\uddf7-\\uddfa]|\\ud83c\\uddeb\\ud83c[\\uddee-\\uddf0\\uddf2\\uddf4\\uddf7]|\\ud83c\\uddec\\ud83c[\\udde6\\udde7\\udde9-\\uddee\\uddf1-\\uddf3\\uddf5-\\uddfa\\uddfc\\uddfe]|\\ud83c\\udded\\ud83c[\\uddf0\\uddf2\\uddf3\\uddf7\\uddf9\\uddfa]|\\ud83c\\uddee\\ud83c[\\udde8-\\uddea\\uddf1-\\uddf4\\uddf6-\\uddf9]|\\ud83c\\uddef\\ud83c[\\uddea\\uddf2\\uddf4\\uddf5]|\\ud83c\\uddf0\\ud83c[\\uddea\\uddec-\\uddee\\uddf2\\uddf3\\uddf5\\uddf7\\uddfc\\uddfe\\uddff]|\\ud83c\\uddf1\\ud83c[\\udde6-\\udde8\\uddee\\uddf0\\uddf7-\\uddfb\\uddfe]|\\ud83c\\uddf2\\ud83c[\\udde6\\udde8-\\udded\\uddf0-\\uddff]|\\ud83c\\uddf3\\ud83c[\\udde6\\udde8\\uddea-\\uddec\\uddee\\uddf1\\uddf4\\uddf5\\uddf7\\uddfa\\uddff]|\\ud83c\\uddf4\\ud83c\\uddf2|\\ud83c\\uddf5\\ud83c[\\udde6\\uddea-\\udded\\uddf0-\\uddf3\\uddf7-\\uddf9\\uddfc\\uddfe]|\\ud83c\\uddf6\\ud83c\\udde6|\\ud83c\\uddf7\\ud83c[\\uddea\\uddf4\\uddf8\\uddfa\\uddfc]|\\ud83c\\uddf8\\ud83c[\\udde6-\\uddea\\uddec-\\uddf4\\uddf7-\\uddf9\\uddfb\\uddfd-\\uddff]|\\ud83c\\uddf9\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\udded\\uddef-\\uddf4\\uddf7\\uddf9\\uddfb\\uddfc\\uddff]|\\ud83c\\uddfa\\ud83c[\\udde6\\uddec\\uddf2\\uddf3\\uddf8\\uddfe\\uddff]|\\ud83c\\uddfb\\ud83c[\\udde6\\udde8\\uddea\\uddec\\uddee\\uddf3\\uddfa]|\\ud83c\\uddfc\\ud83c[\\uddeb\\uddf8]|\\ud83c\\uddfd\\ud83c\\uddf0|\\ud83c\\uddfe\\ud83c[\\uddea\\uddf9]|\\ud83c\\uddff\\ud83c[\\udde6\\uddf2\\uddfc]|\\ud83c[\\udccf\\udd8e\\udd91-\\udd9a\\udde6-\\uddff\\ude01\\ude32-\\ude36\\ude38-\\ude3a\\ude50\\ude51\\udf00-\\udf20\\udf2d-\\udf35\\udf37-\\udf7c\\udf7e-\\udf84\\udf86-\\udf93\\udfa0-\\udfc1\\udfc5\\udfc6\\udfc8\\udfc9\\udfcf-\\udfd3\\udfe0-\\udff0\\udff4\\udff8-\\udfff]|\\ud83d[\\udc00-\\udc3e\\udc40\\udc44\\udc45\\udc51-\\udc65\\udc6a-\\udc6d\\udc6f\\udc79-\\udc7b\\udc7d-\\udc80\\udc84\\udc88-\\udca9\\udcab-\\udcfc\\udcff-\\udd3d\\udd4b-\\udd4e\\udd50-\\udd67\\udda4\\uddfb-\\ude44\\ude48-\\ude4a\\ude80-\\udea2\\udea4-\\udeb3\\udeb7-\\udebf\\udec1-\\udec5\\uded0-\\uded2\\udeeb\\udeec\\udef4-\\udef9]|\\ud83e[\\udd10-\\udd17\\udd1d\\udd20-\\udd25\\udd27-\\udd2f\\udd3a\\udd3c\\udd40-\\udd45\\udd47-\\udd70\\udd73-\\udd76\\udd7a\\udd7c-\\udda2\\uddb4\\uddb7\\uddc0-\\uddc2\\uddd0\\uddde-\\uddff]|[\\u23e9-\\u23ec\\u23f0\\u23f3\\u267e\\u26ce\\u2705\\u2728\\u274c\\u274e\\u2753-\\u2755\\u2795-\\u2797\\u27b0\\u27bf\\ue50a])|\\ufe0f/g;","/*! https://mths.be/utf8js v3.0.0 by @mathias */\n;(function(root) {\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\troot.version = '3.0.0';\n\troot.encode = utf8encode;\n\troot.decode = utf8decode;\n\n}(typeof exports === 'undefined' ? this.utf8 = {} : exports));\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","module.exports = read\n\nvar MSB = 0x80\n  , REST = 0x7F\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++]\n    res += shift < 28\n      ? (b & REST) << shift\n      : (b & REST) * Math.pow(2, shift)\n    shift += 7\n  } while (b >= MSB)\n\n  read.bytes = counter - offset\n\n  return res\n}\n","module.exports = encode\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31)\n\nfunction encode(num, out, offset) {\n  out = out || []\n  offset = offset || 0\n  var oldOffset = offset\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB\n    num /= 128\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB\n    num >>>= 7\n  }\n  out[offset] = num | 0\n  \n  encode.bytes = offset - oldOffset + 1\n  \n  return out\n}\n","module.exports = {\n    encode: require('./encode.js')\n  , decode: require('./decode.js')\n  , encodingLength: require('./length.js')\n}\n","\nvar N1 = Math.pow(2,  7)\nvar N2 = Math.pow(2, 14)\nvar N3 = Math.pow(2, 21)\nvar N4 = Math.pow(2, 28)\nvar N5 = Math.pow(2, 35)\nvar N6 = Math.pow(2, 42)\nvar N7 = Math.pow(2, 49)\nvar N8 = Math.pow(2, 56)\nvar N9 = Math.pow(2, 63)\n\nmodule.exports = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n}\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2016\n */\n\"use strict\";\nvar EventEmitter = require('eventemitter3');\n/**\n * This function generates a defer promise and adds eventEmitter functionality to it\n *\n * @method eventifiedPromise\n */\nvar PromiEvent = function PromiEvent(justPromise) {\n    var resolve, reject, eventEmitter = new Promise(function () {\n        resolve = arguments[0];\n        reject = arguments[1];\n    });\n    if (justPromise) {\n        return {\n            resolve: resolve,\n            reject: reject,\n            eventEmitter: eventEmitter\n        };\n    }\n    // get eventEmitter\n    var emitter = new EventEmitter();\n    // add eventEmitter to the promise\n    eventEmitter._events = emitter._events;\n    eventEmitter.emit = emitter.emit;\n    eventEmitter.on = emitter.on;\n    eventEmitter.once = emitter.once;\n    eventEmitter.off = emitter.off;\n    eventEmitter.listeners = emitter.listeners;\n    eventEmitter.addListener = emitter.addListener;\n    eventEmitter.removeListener = emitter.removeListener;\n    eventEmitter.removeAllListeners = emitter.removeAllListeners;\n    return {\n        resolve: resolve,\n        reject: reject,\n        eventEmitter: eventEmitter\n    };\n};\nPromiEvent.resolve = function (value) {\n    var promise = PromiEvent(true);\n    promise.resolve(value);\n    return promise.eventEmitter;\n};\nmodule.exports = PromiEvent;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file batch.js\n * @author Marek Kotewicz <marek@ethdev.com>\n * @date 2015\n */\n\"use strict\";\nvar Jsonrpc = require('./jsonrpc');\nvar errors = require('web3-core-helpers').errors;\nvar Batch = function (requestManager) {\n    this.requestManager = requestManager;\n    this.requests = [];\n};\n/**\n * Should be called to add create new request to batch request\n *\n * @method add\n * @param {Object} jsonrpc requet object\n */\nBatch.prototype.add = function (request) {\n    this.requests.push(request);\n};\n/**\n * Should be called to execute batch request\n *\n * @method execute\n */\nBatch.prototype.execute = function () {\n    var requests = this.requests;\n    var sortResponses = this._sortResponses.bind(this);\n    this.requestManager.sendBatch(requests, function (err, results) {\n        results = sortResponses(results);\n        requests.map(function (request, index) {\n            return results[index] || {};\n        }).forEach(function (result, index) {\n            if (requests[index].callback) {\n                if (result && result.error) {\n                    return requests[index].callback(errors.ErrorResponse(result));\n                }\n                if (!Jsonrpc.isValidResponse(result)) {\n                    return requests[index].callback(errors.InvalidResponse(result));\n                }\n                try {\n                    requests[index].callback(null, requests[index].format ? requests[index].format(result.result) : result.result);\n                }\n                catch (err) {\n                    requests[index].callback(err);\n                }\n            }\n        });\n    });\n};\n// Sort responses\nBatch.prototype._sortResponses = function (responses) {\n    return (responses || []).sort((a, b) => a.id - b.id);\n};\nmodule.exports = Batch;\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file givenProvider.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar givenProvider = null;\n// ADD GIVEN PROVIDER\n/* jshint ignore:start */\nvar global = typeof globalThis === 'object' ? globalThis : undefined;\nif (!global) {\n    try {\n        global = Function('return this')();\n    }\n    catch (e) {\n        global = self;\n    }\n}\n// EIP-1193: window.ethereum\nif (typeof global.ethereum !== 'undefined') {\n    givenProvider = global.ethereum;\n    // Legacy web3.currentProvider\n}\nelse if (typeof global.web3 !== 'undefined' && global.web3.currentProvider) {\n    if (global.web3.currentProvider.sendAsync) {\n        global.web3.currentProvider.send = global.web3.currentProvider.sendAsync;\n        delete global.web3.currentProvider.sendAsync;\n    }\n    // if connection is 'ipcProviderWrapper', add subscription support\n    if (!global.web3.currentProvider.on &&\n        global.web3.currentProvider.connection &&\n        global.web3.currentProvider.connection.constructor.name === 'ipcProviderWrapper') {\n        global.web3.currentProvider.on = function (type, callback) {\n            if (typeof callback !== 'function')\n                throw new Error('The second parameter callback must be a function.');\n            switch (type) {\n                case 'data':\n                    this.connection.on('data', function (data) {\n                        var result = '';\n                        data = data.toString();\n                        try {\n                            result = JSON.parse(data);\n                        }\n                        catch (e) {\n                            return callback(new Error('Couldn\\'t parse response data' + data));\n                        }\n                        // notification\n                        if (!result.id && result.method.indexOf('_subscription') !== -1) {\n                            callback(null, result);\n                        }\n                    });\n                    break;\n                default:\n                    this.connection.on(type, callback);\n                    break;\n            }\n        };\n    }\n    givenProvider = global.web3.currentProvider;\n}\n/* jshint ignore:end */\nmodule.exports = givenProvider;\n","/*\n    This file is part of web3.js.\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nconst { callbackify } = require('util');\nvar errors = require('web3-core-helpers').errors;\nvar Jsonrpc = require('./jsonrpc.js');\nvar BatchManager = require('./batch.js');\nvar givenProvider = require('./givenProvider.js');\n/**\n * It's responsible for passing messages to providers\n * It's also responsible for polling the ethereum node for incoming messages\n * Default poll timeout is 1 second\n * Singleton\n *\n * @param {string|Object}provider\n * @param {Net.Socket} net\n *\n * @constructor\n */\nvar RequestManager = function RequestManager(provider, net) {\n    this.provider = null;\n    this.providers = RequestManager.providers;\n    this.setProvider(provider, net);\n    this.subscriptions = new Map();\n};\nRequestManager.givenProvider = givenProvider;\nRequestManager.providers = {\n    WebsocketProvider: require('web3-providers-ws'),\n    HttpProvider: require('web3-providers-http'),\n    IpcProvider: require('web3-providers-ipc')\n};\n/**\n * Should be used to set provider of request manager\n *\n * @method setProvider\n *\n * @param {Object} provider\n * @param {net.Socket} net\n *\n * @returns void\n */\nRequestManager.prototype.setProvider = function (provider, net) {\n    var _this = this;\n    // autodetect provider\n    if (provider && typeof provider === 'string' && this.providers) {\n        // HTTP\n        if (/^http(s)?:\\/\\//i.test(provider)) {\n            provider = new this.providers.HttpProvider(provider);\n            // WS\n        }\n        else if (/^ws(s)?:\\/\\//i.test(provider)) {\n            provider = new this.providers.WebsocketProvider(provider);\n            // IPC\n        }\n        else if (provider && typeof net === 'object' && typeof net.connect === 'function') {\n            provider = new this.providers.IpcProvider(provider, net);\n        }\n        else if (provider) {\n            throw new Error('Can\\'t autodetect provider for \"' + provider + '\"');\n        }\n    }\n    // reset the old one before changing, if still connected\n    if (this.provider && this.provider.connected)\n        this.clearSubscriptions();\n    this.provider = provider || null;\n    // listen to incoming notifications\n    if (this.provider && this.provider.on) {\n        if (typeof provider.request === 'function') { // EIP-1193 provider\n            this.provider.on('message', function (payload) {\n                if (payload && payload.type === 'eth_subscription' && payload.data) {\n                    const data = payload.data;\n                    if (data.subscription && _this.subscriptions.has(data.subscription)) {\n                        _this.subscriptions.get(data.subscription).callback(null, data.result);\n                    }\n                }\n            });\n        }\n        else { // legacy provider subscription event\n            this.provider.on('data', function data(result, deprecatedResult) {\n                result = result || deprecatedResult; // this is for possible old providers, which may had the error first handler\n                // if result is a subscription, call callback for that subscription\n                if (result.method && result.params && result.params.subscription && _this.subscriptions.has(result.params.subscription)) {\n                    _this.subscriptions.get(result.params.subscription).callback(null, result.params.result);\n                }\n            });\n        }\n        // resubscribe if the provider has reconnected\n        this.provider.on('connect', function connect() {\n            _this.subscriptions.forEach(function (subscription) {\n                subscription.subscription.resubscribe();\n            });\n        });\n        // notify all subscriptions about the error condition\n        this.provider.on('error', function error(error) {\n            _this.subscriptions.forEach(function (subscription) {\n                subscription.callback(error);\n            });\n        });\n        // notify all subscriptions about bad close conditions\n        const disconnect = function disconnect(event) {\n            if (!_this._isCleanCloseEvent(event) || _this._isIpcCloseError(event)) {\n                _this.subscriptions.forEach(function (subscription) {\n                    subscription.callback(errors.ConnectionCloseError(event));\n                    _this.subscriptions.delete(subscription.subscription.id);\n                });\n                if (_this.provider && _this.provider.emit) {\n                    _this.provider.emit('error', errors.ConnectionCloseError(event));\n                }\n            }\n            if (_this.provider && _this.provider.emit) {\n                _this.provider.emit('end', event);\n            }\n        };\n        this.provider.on('disconnect', disconnect);\n        // TODO add end, timeout??\n    }\n};\n/**\n * Asynchronously send request to provider.\n * Prefers to use the `request` method available on the provider as specified in [EIP-1193](https://eips.ethereum.org/EIPS/eip-1193).\n * If `request` is not available, falls back to `sendAsync` and `send` respectively.\n * @method send\n * @param {Object} data\n * @param {Function} callback\n */\nRequestManager.prototype.send = function (data, callback) {\n    callback = callback || function () { };\n    if (!this.provider) {\n        return callback(errors.InvalidProvider());\n    }\n    const { method, params } = data;\n    const jsonrpcPayload = Jsonrpc.toPayload(method, params);\n    const jsonrpcResultCallback = this._jsonrpcResultCallback(callback, jsonrpcPayload);\n    if (this.provider.request) {\n        const callbackRequest = callbackify(this.provider.request.bind(this.provider));\n        const requestArgs = { method, params };\n        callbackRequest(requestArgs, callback);\n    }\n    else if (this.provider.sendAsync) {\n        this.provider.sendAsync(jsonrpcPayload, jsonrpcResultCallback);\n    }\n    else if (this.provider.send) {\n        this.provider.send(jsonrpcPayload, jsonrpcResultCallback);\n    }\n    else {\n        throw new Error('Provider does not have a request or send method to use.');\n    }\n};\n/**\n * Asynchronously send batch request.\n * Only works if provider supports batch methods through `sendAsync` or `send`.\n * @method sendBatch\n * @param {Array} data - array of payload objects\n * @param {Function} callback\n */\nRequestManager.prototype.sendBatch = function (data, callback) {\n    if (!this.provider) {\n        return callback(errors.InvalidProvider());\n    }\n    var payload = Jsonrpc.toBatchPayload(data);\n    this.provider[this.provider.sendAsync ? 'sendAsync' : 'send'](payload, function (err, results) {\n        if (err) {\n            return callback(err);\n        }\n        if (!Array.isArray(results)) {\n            return callback(errors.InvalidResponse(results));\n        }\n        callback(null, results);\n    });\n};\n/**\n * Waits for notifications\n *\n * @method addSubscription\n * @param {Subscription} subscription         the subscription\n * @param {String} type         the subscription namespace (eth, personal, etc)\n * @param {Function} callback   the callback to call for incoming notifications\n */\nRequestManager.prototype.addSubscription = function (subscription, callback) {\n    if (this.provider.on) {\n        this.subscriptions.set(subscription.id, {\n            callback: callback,\n            subscription: subscription\n        });\n    }\n    else {\n        throw new Error('The provider doesn\\'t support subscriptions: ' + this.provider.constructor.name);\n    }\n};\n/**\n * Waits for notifications\n *\n * @method removeSubscription\n * @param {String} id           the subscription id\n * @param {Function} callback   fired once the subscription is removed\n */\nRequestManager.prototype.removeSubscription = function (id, callback) {\n    if (this.subscriptions.has(id)) {\n        var type = this.subscriptions.get(id).subscription.options.type;\n        // remove subscription first to avoid reentry\n        this.subscriptions.delete(id);\n        // then, try to actually unsubscribe\n        this.send({\n            method: type + '_unsubscribe',\n            params: [id]\n        }, callback);\n        return;\n    }\n    if (typeof callback === 'function') {\n        // call the callback if the subscription was already removed\n        callback(null);\n    }\n};\n/**\n * Should be called to reset the subscriptions\n *\n * @method reset\n *\n * @returns {boolean}\n */\nRequestManager.prototype.clearSubscriptions = function (keepIsSyncing) {\n    try {\n        var _this = this;\n        // uninstall all subscriptions\n        if (this.subscriptions.size > 0) {\n            this.subscriptions.forEach(function (value, id) {\n                if (!keepIsSyncing || value.name !== 'syncing')\n                    _this.removeSubscription(id);\n            });\n        }\n        //  reset notification callbacks etc.\n        if (this.provider.reset)\n            this.provider.reset();\n        return true;\n    }\n    catch (e) {\n        throw new Error(`Error while clearing subscriptions: ${e}`);\n    }\n};\n/**\n * Evaluates WS close event\n *\n * @method _isCleanClose\n *\n * @param {CloseEvent | boolean} event WS close event or exception flag\n *\n * @returns {boolean}\n */\nRequestManager.prototype._isCleanCloseEvent = function (event) {\n    return typeof event === 'object' && ([1000].includes(event.code) || event.wasClean === true);\n};\n/**\n * Detects Ipc close error. The node.net module emits ('close', isException)\n *\n * @method _isIpcCloseError\n *\n * @param {CloseEvent | boolean} event WS close event or exception flag\n *\n * @returns {boolean}\n */\nRequestManager.prototype._isIpcCloseError = function (event) {\n    return typeof event === 'boolean' && event;\n};\n/**\n * The jsonrpc result callback for RequestManager.send\n *\n * @method _jsonrpcResultCallback\n *\n * @param {Function} callback the callback to use\n * @param {Object} payload the jsonrpc payload\n *\n * @returns {Function} return callback of form (err, result)\n *\n */\nRequestManager.prototype._jsonrpcResultCallback = function (callback, payload) {\n    return function (err, result) {\n        if (result && result.id && payload.id !== result.id) {\n            return callback(new Error(`Wrong response id ${result.id} (expected: ${payload.id}) in ${JSON.stringify(payload)}`));\n        }\n        if (err) {\n            return callback(err);\n        }\n        if (result && result.error) {\n            return callback(errors.ErrorResponse(result));\n        }\n        if (!Jsonrpc.isValidResponse(result)) {\n            return callback(errors.InvalidResponse(result));\n        }\n        callback(null, result.result);\n    };\n};\nmodule.exports = {\n    Manager: RequestManager,\n    BatchManager: BatchManager\n};\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file jsonrpc.js\n * @authors:\n *   Fabian Vogelsteller <fabian@ethereum.org>\n *   Marek Kotewicz <marek@ethdev.com>\n *   Aaron Kumavis <aaron@kumavis.me>\n * @date 2015\n */\n\"use strict\";\n// Initialize Jsonrpc as a simple object with utility functions.\nvar Jsonrpc = {\n    // This is the starting counter for the Jsonrpc.id.\n    // Pick a random number between 0 and the maximum safe integer\n    messageId: Math.floor(Math.random() * Number.MAX_SAFE_INTEGER)\n};\n/**\n * Should be called to valid json create payload object\n *\n * @method toPayload\n * @param {Function} method of jsonrpc call, required\n * @param {Array} params, an array of method params, optional\n * @returns {Object} valid jsonrpc payload object\n */\nJsonrpc.toPayload = function (method, params) {\n    if (!method) {\n        throw new Error('JSONRPC method should be specified for params: \"' + JSON.stringify(params) + '\"!');\n    }\n    if (Jsonrpc.messageId === Number.MAX_SAFE_INTEGER) {\n        // if the maximum safe integer has been reached, restart from a random number\n        Jsonrpc.messageId = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\n    }\n    else {\n        // advance message ID\n        Jsonrpc.messageId++;\n    }\n    return {\n        jsonrpc: '2.0',\n        id: Jsonrpc.messageId,\n        method: method,\n        params: params || []\n    };\n};\n/**\n * Should be called to check if jsonrpc response is valid\n *\n * @method isValidResponse\n * @param {Object}\n * @returns {Boolean} true if response is valid, otherwise false\n */\nJsonrpc.isValidResponse = function (response) {\n    return Array.isArray(response) ? response.every(validateSingleMessage) : validateSingleMessage(response);\n    function validateSingleMessage(message) {\n        return !!message &&\n            !message.error &&\n            message.jsonrpc === '2.0' &&\n            (typeof message.id === 'number' || typeof message.id === 'string') &&\n            message.result !== undefined; // only undefined is not valid json object\n    }\n};\n/**\n * Should be called to create batch payload object\n *\n * @method toBatchPayload\n * @param {Array} messages, an array of objects with method (required) and params (optional) fields\n * @returns {Array} batch payload\n */\nJsonrpc.toBatchPayload = function (messages) {\n    return messages.map(function (message) {\n        return Jsonrpc.toPayload(message.method, message.params);\n    });\n};\nmodule.exports = Jsonrpc;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar Subscription = require('./subscription.js');\nvar Subscriptions = function Subscriptions(options) {\n    this.name = options.name;\n    this.type = options.type;\n    this.subscriptions = options.subscriptions || {};\n    this.requestManager = null;\n};\nSubscriptions.prototype.setRequestManager = function (rm) {\n    this.requestManager = rm;\n};\nSubscriptions.prototype.attachToObject = function (obj) {\n    var func = this.buildCall();\n    var name = this.name.split('.');\n    if (name.length > 1) {\n        obj[name[0]] = obj[name[0]] || {};\n        obj[name[0]][name[1]] = func;\n    }\n    else {\n        obj[name[0]] = func;\n    }\n};\nSubscriptions.prototype.buildCall = function () {\n    var _this = this;\n    return function () {\n        if (!_this.subscriptions[arguments[0]]) {\n            console.warn('Subscription ' + JSON.stringify(arguments[0]) + ' doesn\\'t exist. Subscribing anyway.');\n        }\n        var subscription = new Subscription({\n            subscription: _this.subscriptions[arguments[0]] || {},\n            requestManager: _this.requestManager,\n            type: _this.type\n        });\n        return subscription.subscribe.apply(subscription, arguments);\n    };\n};\nmodule.exports = {\n    subscriptions: Subscriptions,\n    subscription: Subscription\n};\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file subscription.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar errors = require('web3-core-helpers').errors;\nvar EventEmitter = require('eventemitter3');\nvar formatters = require('web3-core-helpers').formatters;\nfunction identity(value) {\n    return value;\n}\nfunction Subscription(options) {\n    EventEmitter.call(this);\n    this.id = null;\n    this.callback = identity;\n    this.arguments = null;\n    this.lastBlock = null; // \"from\" block tracker for backfilling events on reconnection\n    this.options = {\n        subscription: options.subscription,\n        type: options.type,\n        requestManager: options.requestManager\n    };\n}\n// INHERIT\nSubscription.prototype = Object.create(EventEmitter.prototype);\nSubscription.prototype.constructor = Subscription;\n/**\n * Should be used to extract callback from array of arguments. Modifies input param\n *\n * @method extractCallback\n * @param {Array} arguments\n * @return {Function|Null} callback, if exists\n */\nSubscription.prototype._extractCallback = function (args) {\n    if (typeof args[args.length - 1] === 'function') {\n        return args.pop(); // modify the args array!\n    }\n};\n/**\n * Should be called to check if the number of arguments is correct\n *\n * @method validateArgs\n * @param {Array} arguments\n * @throws {Error} if it is not\n */\nSubscription.prototype._validateArgs = function (args) {\n    var subscription = this.options.subscription;\n    if (!subscription)\n        subscription = {};\n    if (!subscription.params)\n        subscription.params = 0;\n    if (args.length !== subscription.params) {\n        throw errors.InvalidNumberOfParams(args.length, subscription.params, subscription.subscriptionName);\n    }\n};\n/**\n * Should be called to format input args of method\n *\n * @method formatInput\n * @param {Array}\n * @return {Array}\n */\nSubscription.prototype._formatInput = function (args) {\n    var subscription = this.options.subscription;\n    if (!subscription) {\n        return args;\n    }\n    if (!subscription.inputFormatter) {\n        return args;\n    }\n    var formattedArgs = subscription.inputFormatter.map(function (formatter, index) {\n        return formatter ? formatter(args[index]) : args[index];\n    });\n    return formattedArgs;\n};\n/**\n * Should be called to format output(result) of method\n *\n * @method formatOutput\n * @param result {Object}\n * @return {Object}\n */\nSubscription.prototype._formatOutput = function (result) {\n    var subscription = this.options.subscription;\n    return (subscription && subscription.outputFormatter && result) ? subscription.outputFormatter(result) : result;\n};\n/**\n * Should create payload from given input args\n *\n * @method toPayload\n * @param {Array} args\n * @return {Object}\n */\nSubscription.prototype._toPayload = function (args) {\n    var params = [];\n    this.callback = this._extractCallback(args) || identity;\n    if (!this.subscriptionMethod) {\n        this.subscriptionMethod = args.shift();\n        // replace subscription with given name\n        if (this.options.subscription.subscriptionName) {\n            this.subscriptionMethod = this.options.subscription.subscriptionName;\n        }\n    }\n    if (!this.arguments) {\n        this.arguments = this._formatInput(args);\n        this._validateArgs(this.arguments);\n        args = []; // make empty after validation\n    }\n    // re-add subscriptionName\n    params.push(this.subscriptionMethod);\n    params = params.concat(this.arguments);\n    if (args.length) {\n        throw new Error('Only a callback is allowed as parameter on an already instantiated subscription.');\n    }\n    return {\n        method: this.options.type + '_subscribe',\n        params: params\n    };\n};\n/**\n * Unsubscribes and clears callbacks\n *\n * @method unsubscribe\n * @return {Object}\n */\nSubscription.prototype.unsubscribe = function (callback) {\n    this.options.requestManager.removeSubscription(this.id, callback);\n    this.id = null;\n    this.lastBlock = null;\n    this.removeAllListeners();\n};\n/**\n * Subscribes and watches for changes\n *\n * @method subscribe\n * @param {String} subscription the subscription\n * @param {Object} options the options object with address topics and fromBlock\n * @return {Object}\n */\nSubscription.prototype.subscribe = function () {\n    var _this = this;\n    var args = Array.prototype.slice.call(arguments);\n    var payload = this._toPayload(args);\n    if (!payload) {\n        return this;\n    }\n    // throw error, if provider is not set\n    if (!this.options.requestManager.provider) {\n        setTimeout(function () {\n            var err1 = new Error('No provider set.');\n            _this.callback(err1, null, _this);\n            _this.emit('error', err1);\n        }, 0);\n        return this;\n    }\n    // throw error, if provider doesnt support subscriptions\n    if (!this.options.requestManager.provider.on) {\n        setTimeout(function () {\n            var err2 = new Error('The current provider doesn\\'t support subscriptions: ' +\n                _this.options.requestManager.provider.constructor.name);\n            _this.callback(err2, null, _this);\n            _this.emit('error', err2);\n        }, 0);\n        return this;\n    }\n    // Re-subscription only: continue fetching from the last block we received.\n    // a dropped connection may have resulted in gaps in the logs...\n    if (this.lastBlock && !!this.options.params && typeof this.options.params === 'object') {\n        payload.params[1] = this.options.params;\n        payload.params[1].fromBlock = formatters.inputBlockNumberFormatter(this.lastBlock + 1);\n    }\n    // if id is there unsubscribe first\n    if (this.id) {\n        this.unsubscribe();\n    }\n    // store the params in the options object\n    this.options.params = payload.params[1];\n    // get past logs, if fromBlock is available\n    if (payload.params[0] === 'logs' && !!payload.params[1] && typeof payload.params[1] === 'object' && payload.params[1].hasOwnProperty('fromBlock') && isFinite(payload.params[1].fromBlock)) {\n        // send the subscription request\n        // copy the params to avoid race-condition with deletion below this block\n        var blockParams = Object.assign({}, payload.params[1]);\n        this.options.requestManager.send({\n            method: 'eth_getLogs',\n            params: [blockParams]\n        }, function (err, logs) {\n            if (!err) {\n                logs.forEach(function (log) {\n                    var output = _this._formatOutput(log);\n                    _this.callback(null, output, _this);\n                    _this.emit('data', output);\n                });\n                // TODO subscribe here? after the past logs?\n            }\n            else {\n                setTimeout(function () {\n                    _this.callback(err, null, _this);\n                    _this.emit('error', err);\n                }, 0);\n            }\n        });\n    }\n    // create subscription\n    // TODO move to separate function? so that past logs can go first?\n    if (typeof payload.params[1] === 'object')\n        delete payload.params[1].fromBlock;\n    this.options.requestManager.send(payload, function (err, result) {\n        if (!err && result) {\n            _this.id = result;\n            _this.method = payload.params[0];\n            // call callback on notifications\n            _this.options.requestManager.addSubscription(_this, function (error, result) {\n                if (!error) {\n                    if (!Array.isArray(result)) {\n                        result = [result];\n                    }\n                    result.forEach(function (resultItem) {\n                        var output = _this._formatOutput(resultItem);\n                        // Track current block (for gaps introduced by dropped connections)\n                        _this.lastBlock = !!output && typeof output === 'object' ? output.blockNumber : null;\n                        if (typeof _this.options.subscription.subscriptionHandler === 'function') {\n                            return _this.options.subscription.subscriptionHandler.call(_this, output);\n                        }\n                        else {\n                            _this.emit('data', output);\n                        }\n                        // call the callback, last so that unsubscribe there won't affect the emit above\n                        _this.callback(null, output, _this);\n                    });\n                }\n                else {\n                    _this.callback(error, false, _this);\n                    _this.emit('error', error);\n                }\n            });\n            _this.emit('connected', result);\n        }\n        else {\n            setTimeout(function () {\n                _this.callback(err, false, _this);\n                _this.emit('error', err);\n            }, 0);\n        }\n    });\n    // return an object to cancel the subscription\n    return this;\n};\n/**\n * Resubscribe\n *\n * @method resubscribe\n *\n * @returns {void}\n */\nSubscription.prototype.resubscribe = function () {\n    this.options.requestManager.removeSubscription(this.id); // unsubscribe\n    this.id = null;\n    this.subscribe(this.callback);\n};\nmodule.exports = Subscription;\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file extend.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar formatters = require('web3-core-helpers').formatters;\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar extend = function (pckg) {\n    /* jshint maxcomplexity:5 */\n    var ex = function (extension) {\n        var extendedObject;\n        if (extension.property) {\n            if (!pckg[extension.property]) {\n                pckg[extension.property] = {};\n            }\n            extendedObject = pckg[extension.property];\n        }\n        else {\n            extendedObject = pckg;\n        }\n        if (extension.methods) {\n            extension.methods.forEach(function (method) {\n                if (!(method instanceof Method)) {\n                    method = new Method(method);\n                }\n                method.attachToObject(extendedObject);\n                method.setRequestManager(pckg._requestManager);\n            });\n        }\n        return pckg;\n    };\n    ex.formatters = formatters;\n    ex.utils = utils;\n    ex.Method = Method;\n    return ex;\n};\nmodule.exports = extend;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\nconst requestManager = require(\"web3-core-requestmanager\");\nconst extend = require(\"./extend\");\nconst packageInit = (pkg, args) => {\n    args = Array.prototype.slice.call(args);\n    if (!pkg) {\n        throw new Error('You need to instantiate using the \"new\" keyword.');\n    }\n    // make property of pkg._provider, which can properly set providers\n    Object.defineProperty(pkg, 'currentProvider', {\n        get: () => {\n            return pkg._provider;\n        },\n        set: (value) => {\n            return pkg.setProvider(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // inherit from parent package or create a new RequestManager\n    if (args[0] && args[0]._requestManager) {\n        pkg._requestManager = args[0]._requestManager;\n    }\n    else {\n        pkg._requestManager = new requestManager.Manager(args[0], args[1]);\n    }\n    // add givenProvider\n    pkg.givenProvider = requestManager.Manager.givenProvider;\n    pkg.providers = requestManager.Manager.providers;\n    pkg._provider = pkg._requestManager.provider;\n    // add SETPROVIDER function (don't overwrite if already existing)\n    if (!pkg.setProvider) {\n        pkg.setProvider = (provider, net) => {\n            pkg._requestManager.setProvider(provider, net);\n            pkg._provider = pkg._requestManager.provider;\n            return true;\n        };\n    }\n    pkg.setRequestManager = (manager) => {\n        pkg._requestManager = manager;\n        pkg._provider = manager.provider;\n    };\n    // attach batch request creation\n    pkg.BatchRequest = requestManager.BatchManager.bind(null, pkg._requestManager);\n    // attach extend function\n    pkg.extend = extend(pkg);\n};\nconst addProviders = (pkg) => {\n    pkg.givenProvider = requestManager.Manager.givenProvider;\n    pkg.providers = requestManager.Manager.providers;\n};\nmodule.exports = {\n    packageInit,\n    addProviders\n};\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file index.js\n * @author Marek Kotewicz <marek@parity.io>\n * @author Fabian Vogelsteller <fabian@frozeman.de>\n * @date 2018\n */\nvar Buffer = require('buffer').Buffer;\nvar utils = require('web3-utils');\nvar EthersAbiCoder = require('@ethersproject/abi').AbiCoder;\nvar ParamType = require('@ethersproject/abi').ParamType;\nvar ethersAbiCoder = new EthersAbiCoder(function (type, value) {\n    if (type.match(/^u?int/) && !Array.isArray(value) && (!(!!value && typeof value === 'object') || value.constructor.name !== 'BN')) {\n        return value.toString();\n    }\n    return value;\n});\n// result method\nfunction Result() {\n}\n/**\n * ABICoder prototype should be used to encode/decode solidity params of any type\n */\nvar ABICoder = function () {\n};\n/**\n * Encodes the function name to its ABI representation, which are the first 4 bytes of the sha3 of the function name including  types.\n *\n * @method encodeFunctionSignature\n * @param {String|Object} functionName\n * @return {String} encoded function name\n */\nABICoder.prototype.encodeFunctionSignature = function (functionName) {\n    if (typeof functionName === 'function' || typeof functionName === 'object' && functionName) {\n        functionName = utils._jsonInterfaceMethodToString(functionName);\n    }\n    return utils.sha3(functionName).slice(0, 10);\n};\n/**\n * Encodes the function name to its ABI representation, which are the first 4 bytes of the sha3 of the function name including  types.\n *\n * @method encodeEventSignature\n * @param {String|Object} functionName\n * @return {String} encoded function name\n */\nABICoder.prototype.encodeEventSignature = function (functionName) {\n    if (typeof functionName === 'function' || typeof functionName === 'object' && functionName) {\n        functionName = utils._jsonInterfaceMethodToString(functionName);\n    }\n    return utils.sha3(functionName);\n};\n/**\n * Should be used to encode plain param\n *\n * @method encodeParameter\n *\n * @param {String|Object} type\n * @param {any} param\n *\n * @return {String} encoded plain param\n */\nABICoder.prototype.encodeParameter = function (type, param) {\n    return this.encodeParameters([type], [param]);\n};\n/**\n * Should be used to encode list of params\n *\n * @method encodeParameters\n *\n * @param {Array<String|Object>} types\n * @param {Array<any>} params\n *\n * @return {String} encoded list of params\n */\nABICoder.prototype.encodeParameters = function (types, params) {\n    var self = this;\n    types = self.mapTypes(types);\n    params = params.map(function (param, index) {\n        let type = types[index];\n        if (typeof type === 'object' && type.type) {\n            // We may get a named type of shape {name, type}\n            type = type.type;\n        }\n        param = self.formatParam(type, param);\n        // Format params for tuples\n        if (typeof type === 'string' && type.includes('tuple')) {\n            const coder = ethersAbiCoder._getCoder(ParamType.from(type));\n            const modifyParams = (coder, param) => {\n                if (coder.name === 'array') {\n                    if (!coder.type.match(/\\[(\\d+)\\]/)) {\n                        return param.map(p => modifyParams(ethersAbiCoder._getCoder(ParamType.from(coder.type.replace('[]', ''))), p));\n                    }\n                    const arrayLength = parseInt(coder.type.match(/\\[(\\d+)\\]/)[1]);\n                    if (param.length !== arrayLength) {\n                        throw new Error('Array length does not matches with the given input');\n                    }\n                    return param.map(p => modifyParams(ethersAbiCoder._getCoder(ParamType.from(coder.type.replace(/\\[\\d+\\]/, ''))), p));\n                }\n                coder.coders.forEach((c, i) => {\n                    if (c.name === 'tuple') {\n                        modifyParams(c, param[i]);\n                    }\n                    else {\n                        param[i] = self.formatParam(c.name, param[i]);\n                    }\n                });\n            };\n            modifyParams(coder, param);\n        }\n        return param;\n    });\n    return ethersAbiCoder.encode(types, params);\n};\n/**\n * Map types if simplified format is used\n *\n * @method mapTypes\n * @param {Array} types\n * @return {Array}\n */\nABICoder.prototype.mapTypes = function (types) {\n    var self = this;\n    var mappedTypes = [];\n    types.forEach(function (type) {\n        // Remap `function` type params to bytes24 since Ethers does not\n        // recognize former type. Solidity docs say `Function` is a bytes24\n        // encoding the contract address followed by the function selector hash.\n        if (typeof type === 'object' && type.type === 'function') {\n            type = Object.assign({}, type, { type: \"bytes24\" });\n        }\n        if (self.isSimplifiedStructFormat(type)) {\n            var structName = Object.keys(type)[0];\n            mappedTypes.push(Object.assign(self.mapStructNameAndType(structName), {\n                components: self.mapStructToCoderFormat(type[structName])\n            }));\n            return;\n        }\n        mappedTypes.push(type);\n    });\n    return mappedTypes;\n};\n/**\n * Check if type is simplified struct format\n *\n * @method isSimplifiedStructFormat\n * @param {string | Object} type\n * @returns {boolean}\n */\nABICoder.prototype.isSimplifiedStructFormat = function (type) {\n    return typeof type === 'object' && typeof type.components === 'undefined' && typeof type.name === 'undefined';\n};\n/**\n * Maps the correct tuple type and name when the simplified format in encode/decodeParameter is used\n *\n * @method mapStructNameAndType\n * @param {string} structName\n * @return {{type: string, name: *}}\n */\nABICoder.prototype.mapStructNameAndType = function (structName) {\n    var type = 'tuple';\n    if (structName.indexOf('[]') > -1) {\n        type = 'tuple[]';\n        structName = structName.slice(0, -2);\n    }\n    return { type: type, name: structName };\n};\n/**\n * Maps the simplified format in to the expected format of the ABICoder\n *\n * @method mapStructToCoderFormat\n * @param {Object} struct\n * @return {Array}\n */\nABICoder.prototype.mapStructToCoderFormat = function (struct) {\n    var self = this;\n    var components = [];\n    Object.keys(struct).forEach(function (key) {\n        if (typeof struct[key] === 'object') {\n            components.push(Object.assign(self.mapStructNameAndType(key), {\n                components: self.mapStructToCoderFormat(struct[key])\n            }));\n            return;\n        }\n        components.push({\n            name: key,\n            type: struct[key]\n        });\n    });\n    return components;\n};\n/**\n * Handle some formatting of params for backwards compatability with Ethers V4\n *\n * @method formatParam\n * @param {String} - type\n * @param {any} - param\n * @return {any} - The formatted param\n */\nABICoder.prototype.formatParam = function (type, param) {\n    const paramTypeBytes = new RegExp(/^bytes([0-9]*)$/);\n    const paramTypeBytesArray = new RegExp(/^bytes([0-9]*)\\[\\]$/);\n    const paramTypeNumber = new RegExp(/^(u?int)([0-9]*)$/);\n    const paramTypeNumberArray = new RegExp(/^(u?int)([0-9]*)\\[\\]$/);\n    // Format BN to string\n    if (utils.isBN(param) || utils.isBigNumber(param)) {\n        return param.toString(10);\n    }\n    if (type.match(paramTypeBytesArray) || type.match(paramTypeNumberArray)) {\n        return param.map(p => this.formatParam(type.replace('[]', ''), p));\n    }\n    // Format correct width for u?int[0-9]*\n    let match = type.match(paramTypeNumber);\n    if (match) {\n        let size = parseInt(match[2] || \"256\");\n        if (size / 8 < param.length) {\n            param = param.startsWith(\"-\")\n                // pad to correct bit width, with - at the beginning\n                ? `-${utils.leftPad(param.substring(1), size)}`\n                // pad to correct bit width\n                : utils.leftPad(param, size);\n        }\n    }\n    // Format correct length for bytes[0-9]+\n    match = type.match(paramTypeBytes);\n    if (match) {\n        if (Buffer.isBuffer(param)) {\n            param = utils.toHex(param);\n        }\n        // format to correct length\n        let size = parseInt(match[1]);\n        if (size) {\n            let maxSize = size * 2;\n            if (param.substring(0, 2) === '0x') {\n                maxSize += 2;\n            }\n            if (param.length < maxSize) {\n                // pad to correct length\n                param = utils.rightPad(param, size * 2);\n            }\n        }\n        // format odd-length bytes to even-length\n        if (param.length % 2 === 1) {\n            param = '0x0' + param.substring(2);\n        }\n    }\n    return param;\n};\n/**\n * Encodes a function call from its json interface and parameters.\n *\n * @method encodeFunctionCall\n * @param {Array} jsonInterface\n * @param {Array} params\n * @return {String} The encoded ABI for this function call\n */\nABICoder.prototype.encodeFunctionCall = function (jsonInterface, params) {\n    return this.encodeFunctionSignature(jsonInterface) + this.encodeParameters(jsonInterface.inputs, params).replace('0x', '');\n};\n/**\n * Should be used to decode bytes to plain param\n *\n * @method decodeParameter\n * @param {String} type\n * @param {String} bytes\n * @return {Object} plain param\n */\nABICoder.prototype.decodeParameter = function (type, bytes) {\n    return this.decodeParameters([type], bytes)[0];\n};\n/**\n * Should be used to decode list of params\n *\n * @method decodeParameter\n * @param {Array} outputs\n * @param {String} bytes\n * @return {Array} array of plain params\n */\nABICoder.prototype.decodeParameters = function (outputs, bytes) {\n    return this.decodeParametersWith(outputs, bytes, false);\n};\n/**\n * Should be used to decode list of params\n *\n * @method decodeParameter\n * @param {Array} outputs\n * @param {String} bytes\n * @param {Boolean} loose\n * @return {Array} array of plain params\n */\nABICoder.prototype.decodeParametersWith = function (outputs, bytes, loose) {\n    if (outputs.length > 0 && (!bytes || bytes === '0x' || bytes === '0X')) {\n        throw new Error('Returned values aren\\'t valid, did it run Out of Gas? ' +\n            'You might also see this error if you are not using the ' +\n            'correct ABI for the contract you are retrieving data from, ' +\n            'requesting data from a block number that does not exist, ' +\n            'or querying a node which is not fully synced.');\n    }\n    var res = ethersAbiCoder.decode(this.mapTypes(outputs), '0x' + bytes.replace(/0x/i, ''), loose);\n    var returnValue = new Result();\n    returnValue.__length__ = 0;\n    outputs.forEach(function (output, i) {\n        var decodedValue = res[returnValue.__length__];\n        const isStringObject = typeof output === 'object' && output.type && output.type === 'string';\n        const isStringType = typeof output === 'string' && output === 'string';\n        // only convert `0x` to null if it's not string value\n        decodedValue = (decodedValue === '0x' && !isStringObject && !isStringType) ? null : decodedValue;\n        returnValue[i] = decodedValue;\n        if ((typeof output === 'function' || !!output && typeof output === 'object') && output.name) {\n            returnValue[output.name] = decodedValue;\n        }\n        returnValue.__length__++;\n    });\n    return returnValue;\n};\n/**\n * Decodes events non- and indexed parameters.\n *\n * @method decodeLog\n * @param {Object} inputs\n * @param {String} data\n * @param {Array} topics\n * @return {Array} array of plain params\n */\nABICoder.prototype.decodeLog = function (inputs, data, topics) {\n    var _this = this;\n    topics = Array.isArray(topics) ? topics : [topics];\n    data = data || '';\n    var notIndexedInputs = [];\n    var indexedParams = [];\n    var topicCount = 0;\n    // TODO check for anonymous logs?\n    inputs.forEach(function (input, i) {\n        if (input.indexed) {\n            indexedParams[i] = (['bool', 'int', 'uint', 'address', 'fixed', 'ufixed'].find(function (staticType) {\n                return input.type.indexOf(staticType) !== -1;\n            })) ? _this.decodeParameter(input.type, topics[topicCount]) : topics[topicCount];\n            topicCount++;\n        }\n        else {\n            notIndexedInputs[i] = input;\n        }\n    });\n    var nonIndexedData = data;\n    var notIndexedParams = (nonIndexedData) ? this.decodeParametersWith(notIndexedInputs, nonIndexedData, true) : [];\n    var returnValue = new Result();\n    returnValue.__length__ = 0;\n    inputs.forEach(function (res, i) {\n        returnValue[i] = (res.type === 'string') ? '' : null;\n        if (typeof notIndexedParams[i] !== 'undefined') {\n            returnValue[i] = notIndexedParams[i];\n        }\n        if (typeof indexedParams[i] !== 'undefined') {\n            returnValue[i] = indexedParams[i];\n        }\n        if (res.name) {\n            returnValue[res.name] = returnValue[i];\n        }\n        returnValue.__length__++;\n    });\n    return returnValue;\n};\nvar coder = new ABICoder();\nmodule.exports = coder;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file iban.js\n *\n * Details: https://github.com/ethereum/wiki/wiki/ICAP:-Inter-exchange-Client-Address-Protocol\n *\n * @author Marek Kotewicz <marek@parity.io>\n * @date 2015\n */\n\"use strict\";\nconst utils = require('web3-utils');\nconst BigNumber = require('bn.js');\nconst leftPad = function (string, bytes) {\n    let result = string;\n    while (result.length < bytes * 2) {\n        result = '0' + result;\n    }\n    return result;\n};\n/**\n * Prepare an IBAN for mod 97 computation by moving the first 4 chars to the end and transforming the letters to\n * numbers (A = 10, B = 11, ..., Z = 35), as specified in ISO13616.\n *\n * @method iso13616Prepare\n * @param {String} iban the IBAN\n * @returns {String} the prepared IBAN\n */\nconst iso13616Prepare = function (iban) {\n    const A = 'A'.charCodeAt(0);\n    const Z = 'Z'.charCodeAt(0);\n    iban = iban.toUpperCase();\n    iban = iban.slice(4) + iban.slice(0, 4);\n    return iban.split('').map(function (n) {\n        const code = n.charCodeAt(0);\n        if (code >= A && code <= Z) {\n            // A = 10, B = 11, ... Z = 35\n            return code - A + 10;\n        }\n        else {\n            return n;\n        }\n    }).join('');\n};\n/**\n * Calculates the MOD 97 10 of the passed IBAN as specified in ISO7064.\n *\n * @method mod9710\n * @param {String} iban\n * @returns {Number}\n */\nconst mod9710 = function (iban) {\n    let remainder = iban;\n    let block;\n    while (remainder.length > 2) {\n        block = remainder.slice(0, 9);\n        remainder = parseInt(block, 10) % 97 + remainder.slice(block.length);\n    }\n    return parseInt(remainder, 10) % 97;\n};\n/**\n * This prototype should be used to create iban object from iban correct string\n *\n * @param {String} iban\n */\nclass Iban {\n    constructor(iban) {\n        this._iban = iban;\n    }\n    /**\n     * This method should be used to create an ethereum address from a direct iban address\n     *\n     * @method toAddress\n     * @param {String} iban address\n     * @return {String} the ethereum address\n     */\n    static toAddress(ib) {\n        ib = new Iban(ib);\n        if (!ib.isDirect()) {\n            throw new Error('IBAN is indirect and can\\'t be converted');\n        }\n        return ib.toAddress();\n    }\n    /**\n     * This method should be used to create iban address from an ethereum address\n     *\n     * @method toIban\n     * @param {String} address\n     * @return {String} the IBAN address\n     */\n    static toIban(address) {\n        return Iban.fromAddress(address).toString();\n    }\n    /**\n     * This method should be used to create iban object from an ethereum address\n     *\n     * @method fromAddress\n     * @param {String} address\n     * @return {Iban} the IBAN object\n     */\n    static fromAddress(address) {\n        if (!utils.isAddress(address)) {\n            throw new Error('Provided address is not a valid address: ' + address);\n        }\n        address = address.replace('0x', '').replace('0X', '');\n        const asBn = new BigNumber(address, 16);\n        const base36 = asBn.toString(36);\n        const padded = leftPad(base36, 15);\n        return Iban.fromBban(padded.toUpperCase());\n    }\n    /**\n     * Convert the passed BBAN to an IBAN for this country specification.\n     * Please note that <i>\"generation of the IBAN shall be the exclusive responsibility of the bank/branch servicing the account\"</i>.\n     * This method implements the preferred algorithm described in http://en.wikipedia.org/wiki/International_Bank_Account_Number#Generating_IBAN_check_digits\n     *\n     * @method fromBban\n     * @param {String} bban the BBAN to convert to IBAN\n     * @returns {Iban} the IBAN object\n     */\n    static fromBban(bban) {\n        const countryCode = 'XE';\n        const remainder = mod9710(iso13616Prepare(countryCode + '00' + bban));\n        const checkDigit = ('0' + (98 - remainder)).slice(-2);\n        return new Iban(countryCode + checkDigit + bban);\n    }\n    /**\n     * Should be used to create IBAN object for given institution and identifier\n     *\n     * @method createIndirect\n     * @param {Object} options, required options are \"institution\" and \"identifier\"\n     * @return {Iban} the IBAN object\n     */\n    static createIndirect(options) {\n        return Iban.fromBban('ETH' + options.institution + options.identifier);\n    }\n    /**\n     * This method should be used to check if given string is valid iban object\n     *\n     * @method isValid\n     * @param {String} iban string\n     * @return {Boolean} true if it is valid IBAN\n     */\n    static isValid(iban) {\n        const i = new Iban(iban);\n        return i.isValid();\n    }\n    ;\n    /**\n     * Should be called to check if iban is correct\n     *\n     * @method isValid\n     * @returns {Boolean} true if it is, otherwise false\n     */\n    isValid() {\n        return /^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban) &&\n            mod9710(iso13616Prepare(this._iban)) === 1;\n    }\n    ;\n    /**\n     * Should be called to check if iban number is direct\n     *\n     * @method isDirect\n     * @returns {Boolean} true if it is, otherwise false\n     */\n    isDirect() {\n        return this._iban.length === 34 || this._iban.length === 35;\n    }\n    ;\n    /**\n     * Should be called to check if iban number if indirect\n     *\n     * @method isIndirect\n     * @returns {Boolean} true if it is, otherwise false\n     */\n    isIndirect() {\n        return this._iban.length === 20;\n    }\n    ;\n    /**\n     * Should be called to get iban checksum\n     * Uses the mod-97-10 checksumming protocol (ISO/IEC 7064:2003)\n     *\n     * @method checksum\n     * @returns {String} checksum\n     */\n    checksum() {\n        return this._iban.slice(2, 4);\n    }\n    ;\n    /**\n     * Should be called to get institution identifier\n     * eg. XREG\n     *\n     * @method institution\n     * @returns {String} institution identifier\n     */\n    institution() {\n        return this.isIndirect() ? this._iban.slice(7, 11) : '';\n    }\n    ;\n    /**\n     * Should be called to get client identifier within institution\n     * eg. GAVOFYORK\n     *\n     * @method client\n     * @returns {String} client identifier\n     */\n    client() {\n        return this.isIndirect() ? this._iban.slice(11) : '';\n    }\n    ;\n    /**\n     * Should be called to get client direct address\n     *\n     * @method toAddress\n     * @returns {String} ethereum address\n     */\n    toAddress() {\n        if (this.isDirect()) {\n            const base36 = this._iban.slice(4);\n            const asBn = new BigNumber(base36, 36);\n            return utils.toChecksumAddress(asBn.toString(16, 20));\n        }\n        return '';\n    }\n    ;\n    toString() {\n        return this._iban;\n    }\n    ;\n}\nmodule.exports = Iban;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar core = require('web3-core');\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar Net = require('web3-net');\nvar formatters = require('web3-core-helpers').formatters;\nvar Personal = function Personal() {\n    var _this = this;\n    // sets _requestmanager\n    core.packageInit(this, arguments);\n    this.net = new Net(this);\n    var defaultAccount = null;\n    var defaultBlock = 'latest';\n    Object.defineProperty(this, 'defaultAccount', {\n        get: function () {\n            return defaultAccount;\n        },\n        set: function (val) {\n            if (val) {\n                defaultAccount = utils.toChecksumAddress(formatters.inputAddressFormatter(val));\n            }\n            // update defaultBlock\n            methods.forEach(function (method) {\n                method.defaultAccount = defaultAccount;\n            });\n            return val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultBlock', {\n        get: function () {\n            return defaultBlock;\n        },\n        set: function (val) {\n            defaultBlock = val;\n            // update defaultBlock\n            methods.forEach(function (method) {\n                method.defaultBlock = defaultBlock;\n            });\n            return val;\n        },\n        enumerable: true\n    });\n    var methods = [\n        new Method({\n            name: 'getAccounts',\n            call: 'personal_listAccounts',\n            params: 0,\n            outputFormatter: utils.toChecksumAddress\n        }),\n        new Method({\n            name: 'newAccount',\n            call: 'personal_newAccount',\n            params: 1,\n            inputFormatter: [null],\n            outputFormatter: utils.toChecksumAddress\n        }),\n        new Method({\n            name: 'unlockAccount',\n            call: 'personal_unlockAccount',\n            params: 3,\n            inputFormatter: [formatters.inputAddressFormatter, null, null]\n        }),\n        new Method({\n            name: 'lockAccount',\n            call: 'personal_lockAccount',\n            params: 1,\n            inputFormatter: [formatters.inputAddressFormatter]\n        }),\n        new Method({\n            name: 'importRawKey',\n            call: 'personal_importRawKey',\n            params: 2\n        }),\n        new Method({\n            name: 'sendTransaction',\n            call: 'personal_sendTransaction',\n            params: 2,\n            inputFormatter: [formatters.inputTransactionFormatter, null]\n        }),\n        new Method({\n            name: 'signTransaction',\n            call: 'personal_signTransaction',\n            params: 2,\n            inputFormatter: [formatters.inputTransactionFormatter, null]\n        }),\n        new Method({\n            name: 'sign',\n            call: 'personal_sign',\n            params: 3,\n            inputFormatter: [formatters.inputSignFormatter, formatters.inputAddressFormatter, null]\n        }),\n        new Method({\n            name: 'ecRecover',\n            call: 'personal_ecRecover',\n            params: 2,\n            inputFormatter: [formatters.inputSignFormatter, null]\n        })\n    ];\n    methods.forEach(function (method) {\n        method.attachToObject(_this);\n        method.setRequestManager(_this._requestManager);\n        method.defaultBlock = _this.defaultBlock;\n        method.defaultAccount = _this.defaultAccount;\n    });\n};\ncore.addProviders(Personal);\nmodule.exports = Personal;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar core = require('web3-core');\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar Net = function () {\n    var _this = this;\n    // sets _requestmanager\n    core.packageInit(this, arguments);\n    [\n        new Method({\n            name: 'getId',\n            call: 'net_version',\n            params: 0,\n            outputFormatter: parseInt\n        }),\n        new Method({\n            name: 'isListening',\n            call: 'net_listening',\n            params: 0\n        }),\n        new Method({\n            name: 'getPeerCount',\n            call: 'net_peerCount',\n            params: 0,\n            outputFormatter: utils.hexToNumber\n        })\n    ].forEach(function (method) {\n        method.attachToObject(_this);\n        method.setRequestManager(_this._requestManager);\n    });\n};\ncore.addProviders(Net);\nmodule.exports = Net;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file httpprovider.js\n * @authors:\n *   Marek Kotewicz <marek@parity.io>\n *   Marian Oancea\n *   Fabian Vogelsteller <fabian@ethereum.org>\n *   AyanamiTech <ayanami0330@protonmail.com>\n * @date 2015\n */\nvar errors = require('web3-core-helpers').errors;\nvar fetch = require('cross-fetch');\nvar http = require('http');\nvar https = require('https');\n// Apply missing polyfill for IE\nrequire('es6-promise').polyfill();\n// import abortController if abortController is not included in node\nif (typeof global !== \"undefined\" && !global.AbortController) {\n    require('abortcontroller-polyfill/dist/polyfill-patch-fetch');\n}\n/**\n * HttpProvider should be used to send rpc calls over http\n */\nvar HttpProvider = function HttpProvider(host, options) {\n    options = options || {};\n    this.withCredentials = options.withCredentials;\n    this.timeout = options.timeout || 0;\n    this.headers = options.headers;\n    this.agent = options.agent;\n    this.forceGlobalFetch = options.forceGlobalFetch || false;\n    this.connected = false;\n    // keepAlive is true unless explicitly set to false\n    const keepAlive = options.keepAlive !== false;\n    this.host = host || 'http://localhost:8545';\n    if (!this.agent) {\n        if (this.host.substring(0, 5) === \"https\") {\n            this.httpsAgent = new https.Agent({ keepAlive });\n        }\n        else {\n            this.httpAgent = new http.Agent({ keepAlive });\n        }\n    }\n};\n/**\n * Should be used to make async request\n *\n * @method send\n * @param {Object} payload\n * @param {Function} callback triggered on end with (err, result)\n */\nHttpProvider.prototype.send = function (payload, callback) {\n    var options = {\n        method: 'POST',\n        body: JSON.stringify(payload)\n    };\n    var headers = {};\n    var controller;\n    var fetchFunc = this.forceGlobalFetch ? globalThis.fetch : fetch;\n    if (typeof AbortController !== 'undefined') {\n        controller = new AbortController();\n    }\n    else if (typeof window !== 'undefined' && typeof window.AbortController !== 'undefined') {\n        // Some chrome version doesn't recognize new AbortController(); so we are using it from window instead\n        // https://stackoverflow.com/questions/55718778/why-abortcontroller-is-not-defined\n        controller = new window.AbortController();\n    }\n    if (typeof controller !== 'undefined') {\n        options.signal = controller.signal;\n    }\n    // the current runtime is node\n    if (typeof XMLHttpRequest === 'undefined') {\n        // https://github.com/node-fetch/node-fetch#custom-agent\n        var agents = { httpsAgent: this.httpsAgent, httpAgent: this.httpAgent };\n        if (this.agent) {\n            agents.httpsAgent = this.agent.https;\n            agents.httpAgent = this.agent.http;\n        }\n        if (this.host.substring(0, 5) === \"https\") {\n            options.agent = agents.httpsAgent;\n        }\n        else {\n            options.agent = agents.httpAgent;\n        }\n    }\n    if (this.headers) {\n        this.headers.forEach(function (header) {\n            headers[header.name] = header.value;\n        });\n    }\n    // Default headers\n    if (!headers['Content-Type']) {\n        headers['Content-Type'] = 'application/json';\n    }\n    // As the Fetch API supports the credentials as following options 'include', 'omit', 'same-origin'\n    // https://developer.mozilla.org/en-US/docs/Web/API/fetch#credentials\n    // To avoid breaking change in 1.x we override this value based on boolean option.\n    if (this.withCredentials) {\n        options.credentials = 'include';\n    }\n    else {\n        options.credentials = 'omit';\n    }\n    options.headers = headers;\n    if (this.timeout > 0 && typeof controller !== 'undefined') {\n        this.timeoutId = setTimeout(function () {\n            controller.abort();\n        }, this.timeout);\n    }\n    var success = function (response) {\n        if (this.timeoutId !== undefined) {\n            clearTimeout(this.timeoutId);\n        }\n        // Response is a stream data so should be awaited for json response\n        response\n            .json()\n            .then(function (data) {\n            callback(null, data);\n        }, function () {\n            response\n                .text()\n                .then(function (text) {\n                callback(errors.InvalidResponse(text));\n            }, function () {\n                callback(errors.InvalidResponse(\"\"));\n            });\n        });\n    };\n    var failed = function (error) {\n        if (this.timeoutId !== undefined) {\n            clearTimeout(this.timeoutId);\n        }\n        if (error.name === 'AbortError') {\n            callback(errors.ConnectionTimeout(this.timeout));\n            return;\n        }\n        callback(errors.InvalidConnection(this.host, error));\n    };\n    fetchFunc(this.host, options)\n        .then(success.bind(this), failed.bind(this));\n};\nHttpProvider.prototype.disconnect = function () {\n    //NO OP\n};\n/**\n * Returns the desired boolean.\n *\n * @method supportsSubscriptions\n * @returns {boolean}\n */\nHttpProvider.prototype.supportsSubscriptions = function () {\n    return false;\n};\nmodule.exports = HttpProvider;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file index.js\n * @authors:\n *   Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar errors = require('web3-core-helpers').errors;\nvar oboe = require('oboe');\nvar IpcProvider = function IpcProvider(path, net) {\n    var _this = this;\n    this.responseCallbacks = {};\n    this.notificationCallbacks = [];\n    this.path = path;\n    this.connected = false;\n    this.connection = net.connect({ path: this.path });\n    this.addDefaultEvents();\n    // LISTEN FOR CONNECTION RESPONSES\n    var callback = function (result) {\n        /*jshint maxcomplexity: 6 */\n        var id = null;\n        // get the id which matches the returned id\n        if (Array.isArray(result)) {\n            result.forEach(function (load) {\n                if (_this.responseCallbacks[load.id])\n                    id = load.id;\n            });\n        }\n        else {\n            id = result.id;\n        }\n        // notification\n        if (!id && result.method.indexOf('_subscription') !== -1) {\n            _this.notificationCallbacks.forEach(function (callback) {\n                if (typeof callback === 'function')\n                    callback(result);\n            });\n            // fire the callback\n        }\n        else if (_this.responseCallbacks[id]) {\n            _this.responseCallbacks[id](null, result);\n            delete _this.responseCallbacks[id];\n        }\n    };\n    // use oboe.js for Sockets\n    if (net.constructor.name === 'Socket') {\n        oboe(this.connection)\n            .done(callback);\n    }\n    else {\n        this.connection.on('data', function (data) {\n            _this._parseResponse(data.toString()).forEach(callback);\n        });\n    }\n};\n/**\nWill add the error and end event to timeout existing calls\n\n@method addDefaultEvents\n*/\nIpcProvider.prototype.addDefaultEvents = function () {\n    var _this = this;\n    this.connection.on('connect', function () {\n        _this.connected = true;\n    });\n    this.connection.on('close', function () {\n        _this.connected = false;\n    });\n    this.connection.on('error', function () {\n        _this._timeout();\n    });\n    this.connection.on('end', function () {\n        _this._timeout();\n    });\n    this.connection.on('timeout', function () {\n        _this._timeout();\n    });\n};\n/**\n Will parse the response and make an array out of it.\n\n NOTE, this exists for backwards compatibility reasons.\n\n @method _parseResponse\n @param {String} data\n */\nIpcProvider.prototype._parseResponse = function (data) {\n    var _this = this, returnValues = [];\n    // DE-CHUNKER\n    var dechunkedData = data\n        .replace(/\\}[\\n\\r]?\\{/g, '}|--|{') // }{\n        .replace(/\\}\\][\\n\\r]?\\[\\{/g, '}]|--|[{') // }][{\n        .replace(/\\}[\\n\\r]?\\[\\{/g, '}|--|[{') // }[{\n        .replace(/\\}\\][\\n\\r]?\\{/g, '}]|--|{') // }]{\n        .split('|--|');\n    dechunkedData.forEach(function (data) {\n        // prepend the last chunk\n        if (_this.lastChunk)\n            data = _this.lastChunk + data;\n        var result = null;\n        try {\n            result = JSON.parse(data);\n        }\n        catch (e) {\n            _this.lastChunk = data;\n            // start timeout to cancel all requests\n            clearTimeout(_this.lastChunkTimeout);\n            _this.lastChunkTimeout = setTimeout(function () {\n                _this._timeout();\n                throw errors.InvalidResponse(data);\n            }, 1000 * 15);\n            return;\n        }\n        // cancel timeout and set chunk to null\n        clearTimeout(_this.lastChunkTimeout);\n        _this.lastChunk = null;\n        if (result)\n            returnValues.push(result);\n    });\n    return returnValues;\n};\n/**\nGet the adds a callback to the responseCallbacks object,\nwhich will be called if a response matching the response Id will arrive.\n\n@method _addResponseCallback\n*/\nIpcProvider.prototype._addResponseCallback = function (payload, callback) {\n    var id = payload.id || payload[0].id;\n    var method = payload.method || payload[0].method;\n    this.responseCallbacks[id] = callback;\n    this.responseCallbacks[id].method = method;\n};\n/**\nTimeout all requests when the end/error event is fired\n\n@method _timeout\n*/\nIpcProvider.prototype._timeout = function () {\n    for (var key in this.responseCallbacks) {\n        if (this.responseCallbacks.hasOwnProperty(key)) {\n            this.responseCallbacks[key](errors.InvalidConnection('on IPC'));\n            delete this.responseCallbacks[key];\n        }\n    }\n};\n/**\n Try to reconnect\n\n @method reconnect\n */\nIpcProvider.prototype.reconnect = function () {\n    this.connection.connect({ path: this.path });\n};\nIpcProvider.prototype.send = function (payload, callback) {\n    // try reconnect, when connection is gone\n    if (!this.connection.writable)\n        this.connection.connect({ path: this.path });\n    this.connection.write(JSON.stringify(payload));\n    this._addResponseCallback(payload, callback);\n};\n/**\nSubscribes to provider events.provider\n\n@method on\n@param {String} type    'notification', 'connect', 'error', 'end' or 'data'\n@param {Function} callback   the callback to call\n*/\nIpcProvider.prototype.on = function (type, callback) {\n    if (typeof callback !== 'function')\n        throw new Error('The second parameter callback must be a function.');\n    switch (type) {\n        case 'data':\n            this.notificationCallbacks.push(callback);\n            break;\n        // adds error, end, timeout, connect\n        default:\n            this.connection.on(type, callback);\n            break;\n    }\n};\n/**\n Subscribes to provider events.provider\n\n @method on\n @param {String} type    'connect', 'error', 'end' or 'data'\n @param {Function} callback   the callback to call\n */\nIpcProvider.prototype.once = function (type, callback) {\n    if (typeof callback !== 'function')\n        throw new Error('The second parameter callback must be a function.');\n    this.connection.once(type, callback);\n};\n/**\nRemoves event listener\n\n@method removeListener\n@param {String} type    'data', 'connect', 'error', 'end' or 'data'\n@param {Function} callback   the callback to call\n*/\nIpcProvider.prototype.removeListener = function (type, callback) {\n    var _this = this;\n    switch (type) {\n        case 'data':\n            this.notificationCallbacks.forEach(function (cb, index) {\n                if (cb === callback)\n                    _this.notificationCallbacks.splice(index, 1);\n            });\n            break;\n        default:\n            this.connection.removeListener(type, callback);\n            break;\n    }\n};\n/**\nRemoves all event listeners\n\n@method removeAllListeners\n@param {String} type    'data', 'connect', 'error', 'end' or 'data'\n*/\nIpcProvider.prototype.removeAllListeners = function (type) {\n    switch (type) {\n        case 'data':\n            this.notificationCallbacks = [];\n            break;\n        default:\n            this.connection.removeAllListeners(type);\n            break;\n    }\n};\n/**\nResets the providers, clears all callbacks\n\n@method reset\n*/\nIpcProvider.prototype.reset = function () {\n    this._timeout();\n    this.notificationCallbacks = [];\n    this.connection.removeAllListeners('error');\n    this.connection.removeAllListeners('end');\n    this.connection.removeAllListeners('timeout');\n    this.addDefaultEvents();\n};\n/**\n * Returns the desired boolean.\n *\n * @method supportsSubscriptions\n * @returns {boolean}\n */\nIpcProvider.prototype.supportsSubscriptions = function () {\n    return true;\n};\nmodule.exports = IpcProvider;\n","var isNode = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\nvar isRN = typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nvar _btoa = null;\nvar helpers = null;\nif (isNode || isRN) {\n    _btoa = function (str) {\n        return Buffer.from(str).toString('base64');\n    };\n    var url = require('url');\n    if (url.URL) {\n        // Use the new Node 6+ API for parsing URLs that supports username/password\n        var newURL = url.URL;\n        helpers = function (url) {\n            return new newURL(url);\n        };\n    }\n    else {\n        // Web3 supports Node.js 5, so fall back to the legacy URL API if necessary\n        helpers = require('url').parse;\n    }\n}\nelse {\n    _btoa = btoa.bind(typeof globalThis === 'object' ? globalThis : self);\n    helpers = function (url) {\n        return new URL(url);\n    };\n}\nmodule.exports = {\n    parseURL: helpers,\n    btoa: _btoa\n};\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file WebsocketProvider.js\n * @authors: Samuel Furter <samuel@ethereum.org>, Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2019\n */\n'use strict';\nvar EventEmitter = require('eventemitter3');\nvar helpers = require('./helpers.js');\nvar errors = require('web3-core-helpers').errors;\nvar Ws = require('websocket').w3cwebsocket;\n/**\n * @param {string} url\n * @param {Object} options\n *\n * @constructor\n */\nvar WebsocketProvider = function WebsocketProvider(url, options) {\n    EventEmitter.call(this);\n    options = options || {};\n    this.url = url;\n    this._customTimeout = options.timeout || 1000 * 15;\n    this.headers = options.headers || {};\n    this.protocol = options.protocol || undefined;\n    this.reconnectOptions = Object.assign({\n        auto: false,\n        delay: 5000,\n        maxAttempts: false,\n        onTimeout: false\n    }, options.reconnect);\n    this.clientConfig = options.clientConfig || undefined; // Allow a custom client configuration\n    this.requestOptions = options.requestOptions || undefined; // Allow a custom request options (https://github.com/theturtle32/WebSocket-Node/blob/master/docs/WebSocketClient.md#connectrequesturl-requestedprotocols-origin-headers-requestoptions)\n    this.DATA = 'data';\n    this.CLOSE = 'close';\n    this.ERROR = 'error';\n    this.CONNECT = 'connect';\n    this.RECONNECT = 'reconnect';\n    this.connection = null;\n    this.requestQueue = new Map();\n    this.responseQueue = new Map();\n    this.reconnectAttempts = 0;\n    this.reconnecting = false;\n    this.connectFailedDescription = null;\n    // The w3cwebsocket implementation does not support Basic Auth\n    // username/password in the URL. So generate the basic auth header, and\n    // pass through with any additional headers supplied in constructor\n    var parsedURL = helpers.parseURL(url);\n    if (parsedURL.username && parsedURL.password) {\n        this.headers.authorization = 'Basic ' + helpers.btoa(parsedURL.username + ':' + parsedURL.password);\n    }\n    // When all node core implementations that do not have the\n    // WHATWG compatible URL parser go out of service this line can be removed.\n    if (parsedURL.auth) {\n        this.headers.authorization = 'Basic ' + helpers.btoa(parsedURL.auth);\n    }\n    // make property `connected` which will return the current connection status\n    Object.defineProperty(this, 'connected', {\n        get: function () {\n            return this.connection && this.connection.readyState === this.connection.OPEN;\n        },\n        enumerable: true\n    });\n    this.connect();\n};\n// Inherit from EventEmitter\nWebsocketProvider.prototype = Object.create(EventEmitter.prototype);\nWebsocketProvider.prototype.constructor = WebsocketProvider;\n/**\n * Connects to the configured node\n *\n * @method connect\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.connect = function () {\n    this.connection = new Ws(this.url, this.protocol, undefined, this.headers, this.requestOptions, this.clientConfig);\n    this._addSocketListeners();\n};\n/**\n * Listener for the `data` event of the underlying WebSocket object\n *\n * @method _onMessage\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._onMessage = function (e) {\n    var _this = this;\n    this._parseResponse((typeof e.data === 'string') ? e.data : '').forEach(function (result) {\n        if (result.method && result.method.indexOf('_subscription') !== -1) {\n            _this.emit(_this.DATA, result);\n            return;\n        }\n        var id = result.id;\n        // get the id which matches the returned id\n        if (Array.isArray(result)) {\n            id = result[0].id;\n        }\n        if (_this.responseQueue.has(id)) {\n            if (_this.responseQueue.get(id).callback !== undefined) {\n                _this.responseQueue.get(id).callback(false, result);\n            }\n            _this.responseQueue.delete(id);\n        }\n    });\n};\n/**\n * Listener for the `open` event of the underlying WebSocket object\n *\n * @method _onConnect\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._onConnect = function () {\n    this.emit(this.CONNECT);\n    this.reconnectAttempts = 0;\n    this.reconnecting = false;\n    if (this.requestQueue.size > 0) {\n        var _this = this;\n        this.requestQueue.forEach(function (request, key) {\n            _this.send(request.payload, request.callback);\n            _this.requestQueue.delete(key);\n        });\n    }\n};\nWebsocketProvider.prototype._onConnectFailed = function (event) {\n    this.connectFailedDescription = event.toString().split('\\n')[0];\n    var _this = this;\n    if (this.connectFailedDescription) {\n        event.description = this.connectFailedDescription;\n        this.connectFailedDescription = null; // clean the message, so it won't be used in the next connection\n    }\n    event.code = 1006;\n    event.reason = 'connection failed';\n    if (this.reconnectOptions.auto && (![1000, 1001].includes(event.code) || event.wasClean === false)) {\n        this.reconnect();\n        return;\n    }\n    this.emit(this.ERROR, event);\n    if (this.requestQueue.size > 0) {\n        this.requestQueue.forEach(function (request, key) {\n            request.callback(errors.ConnectionNotOpenError(event));\n            _this.requestQueue.delete(key);\n        });\n    }\n    if (this.responseQueue.size > 0) {\n        this.responseQueue.forEach(function (request, key) {\n            request.callback(errors.InvalidConnection('on WS', event));\n            _this.responseQueue.delete(key);\n        });\n    }\n    //clean connection on our own\n    if (this.connection._connection) {\n        this.connection._connection.removeAllListeners();\n    }\n    this.connection._client.removeAllListeners();\n    this.connection._readyState = 3; // set readyState to CLOSED\n    this.emit(this.CLOSE, event);\n};\n/**\n * Listener for the `close` event of the underlying WebSocket object\n *\n * @method _onClose\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._onClose = function (event) {\n    var _this = this;\n    if (this.reconnectOptions.auto && (![1000, 1001].includes(event.code) || event.wasClean === false)) {\n        this.reconnect();\n        return;\n    }\n    this.emit(this.CLOSE, event);\n    if (this.requestQueue.size > 0) {\n        this.requestQueue.forEach(function (request, key) {\n            request.callback(errors.ConnectionNotOpenError(event));\n            _this.requestQueue.delete(key);\n        });\n    }\n    if (this.responseQueue.size > 0) {\n        this.responseQueue.forEach(function (request, key) {\n            request.callback(errors.InvalidConnection('on WS', event));\n            _this.responseQueue.delete(key);\n        });\n    }\n    this._removeSocketListeners();\n    this.removeAllListeners();\n};\n/**\n * Will add the required socket listeners\n *\n * @method _addSocketListeners\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._addSocketListeners = function () {\n    this.connection.addEventListener('message', this._onMessage.bind(this));\n    this.connection.addEventListener('open', this._onConnect.bind(this));\n    this.connection.addEventListener('close', this._onClose.bind(this));\n    if (this.connection._client) {\n        this.connection._client.removeAllListeners('connectFailed'); //Override the internal listeners, so they don't trigger a `close` event. We want to trigger `_onClose` manually with a description.\n        this.connection._client.on('connectFailed', this._onConnectFailed.bind(this));\n    }\n};\n/**\n * Will remove all socket listeners\n *\n * @method _removeSocketListeners\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._removeSocketListeners = function () {\n    this.connection.removeEventListener('message', this._onMessage);\n    this.connection.removeEventListener('open', this._onConnect);\n    this.connection.removeEventListener('close', this._onClose);\n    if (this.connection._connection)\n        this.connection._client.removeListener('connectFailed', this._onConnectFailed);\n};\n/**\n * Will parse the response and make an array out of it.\n *\n * @method _parseResponse\n *\n * @param {String} data\n *\n * @returns {Array}\n */\nWebsocketProvider.prototype._parseResponse = function (data) {\n    var _this = this, returnValues = [];\n    // DE-CHUNKER\n    var dechunkedData = data\n        .replace(/\\}[\\n\\r]?\\{/g, '}|--|{') // }{\n        .replace(/\\}\\][\\n\\r]?\\[\\{/g, '}]|--|[{') // }][{\n        .replace(/\\}[\\n\\r]?\\[\\{/g, '}|--|[{') // }[{\n        .replace(/\\}\\][\\n\\r]?\\{/g, '}]|--|{') // }]{\n        .split('|--|');\n    dechunkedData.forEach(function (data) {\n        // prepend the last chunk\n        if (_this.lastChunk)\n            data = _this.lastChunk + data;\n        var result = null;\n        try {\n            result = JSON.parse(data);\n        }\n        catch (e) {\n            _this.lastChunk = data;\n            // start timeout to cancel all requests\n            clearTimeout(_this.lastChunkTimeout);\n            _this.lastChunkTimeout = setTimeout(function () {\n                if (_this.reconnectOptions.auto && _this.reconnectOptions.onTimeout) {\n                    _this.reconnect();\n                    return;\n                }\n                _this.emit(_this.ERROR, errors.ConnectionTimeout(_this._customTimeout));\n                if (_this.requestQueue.size > 0) {\n                    _this.requestQueue.forEach(function (request, key) {\n                        request.callback(errors.ConnectionTimeout(_this._customTimeout));\n                        _this.requestQueue.delete(key);\n                    });\n                }\n            }, _this._customTimeout);\n            return;\n        }\n        // cancel timeout and set chunk to null\n        clearTimeout(_this.lastChunkTimeout);\n        _this.lastChunk = null;\n        if (result)\n            returnValues.push(result);\n    });\n    return returnValues;\n};\n/**\n * Does check if the provider is connecting and will add it to the queue or will send it directly\n *\n * @method send\n *\n * @param {Object} payload\n * @param {Function} callback\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.send = function (payload, callback) {\n    var _this = this;\n    var id = payload.id;\n    var request = { payload: payload, callback: callback };\n    if (Array.isArray(payload)) {\n        id = payload[0].id;\n    }\n    if (this.connection.readyState === this.connection.CONNECTING || this.reconnecting) {\n        this.requestQueue.set(id, request);\n        return;\n    }\n    if (this.connection.readyState !== this.connection.OPEN) {\n        this.requestQueue.delete(id);\n        this.emit(this.ERROR, errors.ConnectionNotOpenError());\n        request.callback(errors.ConnectionNotOpenError());\n        return;\n    }\n    this.responseQueue.set(id, request);\n    this.requestQueue.delete(id);\n    try {\n        this.connection.send(JSON.stringify(request.payload));\n    }\n    catch (error) {\n        request.callback(error);\n        _this.responseQueue.delete(id);\n    }\n};\n/**\n * Resets the providers, clears all callbacks\n *\n * @method reset\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.reset = function () {\n    this.responseQueue.clear();\n    this.requestQueue.clear();\n    this.removeAllListeners();\n    this._removeSocketListeners();\n    this._addSocketListeners();\n};\n/**\n * Closes the current connection with the given code and reason arguments\n *\n * @method disconnect\n *\n * @param {number} code\n * @param {string} reason\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.disconnect = function (code, reason) {\n    this._removeSocketListeners();\n    this.connection.close(code || 1000, reason);\n};\n/**\n * Returns the desired boolean.\n *\n * @method supportsSubscriptions\n *\n * @returns {boolean}\n */\nWebsocketProvider.prototype.supportsSubscriptions = function () {\n    return true;\n};\n/**\n * Removes the listeners and reconnects to the socket.\n *\n * @method reconnect\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.reconnect = function () {\n    var _this = this;\n    this.reconnecting = true;\n    if (this.responseQueue.size > 0) {\n        this.responseQueue.forEach(function (request, key) {\n            try {\n                _this.responseQueue.delete(key);\n                request.callback(errors.PendingRequestsOnReconnectingError());\n            }\n            catch (e) {\n                console.error(\"Error encountered in reconnect: \", e);\n            }\n        });\n    }\n    if (!this.reconnectOptions.maxAttempts ||\n        this.reconnectAttempts < this.reconnectOptions.maxAttempts) {\n        setTimeout(function () {\n            _this.reconnectAttempts++;\n            _this._removeSocketListeners();\n            _this.emit(_this.RECONNECT, _this.reconnectAttempts);\n            _this.connect();\n        }, this.reconnectOptions.delay);\n        return;\n    }\n    this.emit(this.ERROR, errors.MaxAttemptsReachedOnReconnectingError());\n    this.reconnecting = false;\n    if (this.requestQueue.size > 0) {\n        this.requestQueue.forEach(function (request, key) {\n            request.callback(errors.MaxAttemptsReachedOnReconnectingError());\n            _this.requestQueue.delete(key);\n        });\n    }\n};\nmodule.exports = WebsocketProvider;\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","module.exports = require('../package.json').version;\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBind = require('call-bind');\nvar callBound = require('call-bind/callBound');\nvar gOPD = require('gopd');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar cache = { __proto__: null };\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\tcache['$' + typedArray] = callBind(descriptor.get);\n\t\t}\n\t});\n} else {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tcache['$' + typedArray] = callBind(arr.slice);\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar found = false;\n\tforEach(cache, function (getter, typedArray) {\n\t\tif (!found) {\n\t\t\ttry {\n\t\t\t\tif ('$' + getter(value) === typedArray) {\n\t\t\t\t\tfound = $slice(typedArray, 1);\n\t\t\t\t}\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn found;\n};\n\nvar trySlices = function tryAllSlices(value) {\n\tvar found = false;\n\tforEach(cache, function (getter, name) {\n\t\tif (!found) {\n\t\t\ttry {\n\t\t\t\tgetter(value);\n\t\t\t\tfound = $slice(name, 1);\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn found;\n};\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\tif ($indexOf(typedArrays, tag) > -1) {\n\t\t\treturn tag;\n\t\t}\n\t\tif (tag !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\t// node < 0.6 hits here on real Typed Arrays\n\t\treturn trySlices(value);\n\t}\n\tif (!gOPD) { return null; } // unknown engine\n\treturn tryTypedArrays(value);\n};\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","'use strict';\n\nvar possibleNames = [\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray'\n];\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\nmodule.exports = function availableTypedArrays() {\n\tvar out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict'\n\nconst format = require('quick-format-unescaped')\n\nmodule.exports = pino\n\nconst _console = pfGlobalThisOrFallback().console || {}\nconst stdSerializers = {\n  mapHttpRequest: mock,\n  mapHttpResponse: mock,\n  wrapRequestSerializer: passthrough,\n  wrapResponseSerializer: passthrough,\n  wrapErrorSerializer: passthrough,\n  req: mock,\n  res: mock,\n  err: asErrValue\n}\n\nfunction shouldSerialize (serialize, serializers) {\n  if (Array.isArray(serialize)) {\n    const hasToFilter = serialize.filter(function (k) {\n      return k !== '!stdSerializers.err'\n    })\n    return hasToFilter\n  } else if (serialize === true) {\n    return Object.keys(serializers)\n  }\n\n  return false\n}\n\nfunction pino (opts) {\n  opts = opts || {}\n  opts.browser = opts.browser || {}\n\n  const transmit = opts.browser.transmit\n  if (transmit && typeof transmit.send !== 'function') { throw Error('pino: transmit option must have a send function') }\n\n  const proto = opts.browser.write || _console\n  if (opts.browser.write) opts.browser.asObject = true\n  const serializers = opts.serializers || {}\n  const serialize = shouldSerialize(opts.browser.serialize, serializers)\n  let stdErrSerialize = opts.browser.serialize\n\n  if (\n    Array.isArray(opts.browser.serialize) &&\n    opts.browser.serialize.indexOf('!stdSerializers.err') > -1\n  ) stdErrSerialize = false\n\n  const levels = ['error', 'fatal', 'warn', 'info', 'debug', 'trace']\n\n  if (typeof proto === 'function') {\n    proto.error = proto.fatal = proto.warn =\n    proto.info = proto.debug = proto.trace = proto\n  }\n  if (opts.enabled === false) opts.level = 'silent'\n  const level = opts.level || 'info'\n  const logger = Object.create(proto)\n  if (!logger.log) logger.log = noop\n\n  Object.defineProperty(logger, 'levelVal', {\n    get: getLevelVal\n  })\n  Object.defineProperty(logger, 'level', {\n    get: getLevel,\n    set: setLevel\n  })\n\n  const setOpts = {\n    transmit,\n    serialize,\n    asObject: opts.browser.asObject,\n    levels,\n    timestamp: getTimeFunction(opts)\n  }\n  logger.levels = pino.levels\n  logger.level = level\n\n  logger.setMaxListeners = logger.getMaxListeners =\n  logger.emit = logger.addListener = logger.on =\n  logger.prependListener = logger.once =\n  logger.prependOnceListener = logger.removeListener =\n  logger.removeAllListeners = logger.listeners =\n  logger.listenerCount = logger.eventNames =\n  logger.write = logger.flush = noop\n  logger.serializers = serializers\n  logger._serialize = serialize\n  logger._stdErrSerialize = stdErrSerialize\n  logger.child = child\n\n  if (transmit) logger._logEvent = createLogEventShape()\n\n  function getLevelVal () {\n    return this.level === 'silent'\n      ? Infinity\n      : this.levels.values[this.level]\n  }\n\n  function getLevel () {\n    return this._level\n  }\n  function setLevel (level) {\n    if (level !== 'silent' && !this.levels.values[level]) {\n      throw Error('unknown level ' + level)\n    }\n    this._level = level\n\n    set(setOpts, logger, 'error', 'log') // <-- must stay first\n    set(setOpts, logger, 'fatal', 'error')\n    set(setOpts, logger, 'warn', 'error')\n    set(setOpts, logger, 'info', 'log')\n    set(setOpts, logger, 'debug', 'log')\n    set(setOpts, logger, 'trace', 'log')\n  }\n\n  function child (bindings, childOptions) {\n    if (!bindings) {\n      throw new Error('missing bindings for child Pino')\n    }\n    childOptions = childOptions || {}\n    if (serialize && bindings.serializers) {\n      childOptions.serializers = bindings.serializers\n    }\n    const childOptionsSerializers = childOptions.serializers\n    if (serialize && childOptionsSerializers) {\n      var childSerializers = Object.assign({}, serializers, childOptionsSerializers)\n      var childSerialize = opts.browser.serialize === true\n        ? Object.keys(childSerializers)\n        : serialize\n      delete bindings.serializers\n      applySerializers([bindings], childSerialize, childSerializers, this._stdErrSerialize)\n    }\n    function Child (parent) {\n      this._childLevel = (parent._childLevel | 0) + 1\n      this.error = bind(parent, bindings, 'error')\n      this.fatal = bind(parent, bindings, 'fatal')\n      this.warn = bind(parent, bindings, 'warn')\n      this.info = bind(parent, bindings, 'info')\n      this.debug = bind(parent, bindings, 'debug')\n      this.trace = bind(parent, bindings, 'trace')\n      if (childSerializers) {\n        this.serializers = childSerializers\n        this._serialize = childSerialize\n      }\n      if (transmit) {\n        this._logEvent = createLogEventShape(\n          [].concat(parent._logEvent.bindings, bindings)\n        )\n      }\n    }\n    Child.prototype = this\n    return new Child(this)\n  }\n  return logger\n}\n\npino.levels = {\n  values: {\n    fatal: 60,\n    error: 50,\n    warn: 40,\n    info: 30,\n    debug: 20,\n    trace: 10\n  },\n  labels: {\n    10: 'trace',\n    20: 'debug',\n    30: 'info',\n    40: 'warn',\n    50: 'error',\n    60: 'fatal'\n  }\n}\n\npino.stdSerializers = stdSerializers\npino.stdTimeFunctions = Object.assign({}, { nullTime, epochTime, unixTime, isoTime })\n\nfunction set (opts, logger, level, fallback) {\n  const proto = Object.getPrototypeOf(logger)\n  logger[level] = logger.levelVal > logger.levels.values[level]\n    ? noop\n    : (proto[level] ? proto[level] : (_console[level] || _console[fallback] || noop))\n\n  wrap(opts, logger, level)\n}\n\nfunction wrap (opts, logger, level) {\n  if (!opts.transmit && logger[level] === noop) return\n\n  logger[level] = (function (write) {\n    return function LOG () {\n      const ts = opts.timestamp()\n      const args = new Array(arguments.length)\n      const proto = (Object.getPrototypeOf && Object.getPrototypeOf(this) === _console) ? _console : this\n      for (var i = 0; i < args.length; i++) args[i] = arguments[i]\n\n      if (opts.serialize && !opts.asObject) {\n        applySerializers(args, this._serialize, this.serializers, this._stdErrSerialize)\n      }\n      if (opts.asObject) write.call(proto, asObject(this, level, args, ts))\n      else write.apply(proto, args)\n\n      if (opts.transmit) {\n        const transmitLevel = opts.transmit.level || logger.level\n        const transmitValue = pino.levels.values[transmitLevel]\n        const methodValue = pino.levels.values[level]\n        if (methodValue < transmitValue) return\n        transmit(this, {\n          ts,\n          methodLevel: level,\n          methodValue,\n          transmitLevel,\n          transmitValue: pino.levels.values[opts.transmit.level || logger.level],\n          send: opts.transmit.send,\n          val: logger.levelVal\n        }, args)\n      }\n    }\n  })(logger[level])\n}\n\nfunction asObject (logger, level, args, ts) {\n  if (logger._serialize) applySerializers(args, logger._serialize, logger.serializers, logger._stdErrSerialize)\n  const argsCloned = args.slice()\n  let msg = argsCloned[0]\n  const o = {}\n  if (ts) {\n    o.time = ts\n  }\n  o.level = pino.levels.values[level]\n  let lvl = (logger._childLevel | 0) + 1\n  if (lvl < 1) lvl = 1\n  // deliberate, catching objects, arrays\n  if (msg !== null && typeof msg === 'object') {\n    while (lvl-- && typeof argsCloned[0] === 'object') {\n      Object.assign(o, argsCloned.shift())\n    }\n    msg = argsCloned.length ? format(argsCloned.shift(), argsCloned) : undefined\n  } else if (typeof msg === 'string') msg = format(argsCloned.shift(), argsCloned)\n  if (msg !== undefined) o.msg = msg\n  return o\n}\n\nfunction applySerializers (args, serialize, serializers, stdErrSerialize) {\n  for (const i in args) {\n    if (stdErrSerialize && args[i] instanceof Error) {\n      args[i] = pino.stdSerializers.err(args[i])\n    } else if (typeof args[i] === 'object' && !Array.isArray(args[i])) {\n      for (const k in args[i]) {\n        if (serialize && serialize.indexOf(k) > -1 && k in serializers) {\n          args[i][k] = serializers[k](args[i][k])\n        }\n      }\n    }\n  }\n}\n\nfunction bind (parent, bindings, level) {\n  return function () {\n    const args = new Array(1 + arguments.length)\n    args[0] = bindings\n    for (var i = 1; i < args.length; i++) {\n      args[i] = arguments[i - 1]\n    }\n    return parent[level].apply(this, args)\n  }\n}\n\nfunction transmit (logger, opts, args) {\n  const send = opts.send\n  const ts = opts.ts\n  const methodLevel = opts.methodLevel\n  const methodValue = opts.methodValue\n  const val = opts.val\n  const bindings = logger._logEvent.bindings\n\n  applySerializers(\n    args,\n    logger._serialize || Object.keys(logger.serializers),\n    logger.serializers,\n    logger._stdErrSerialize === undefined ? true : logger._stdErrSerialize\n  )\n  logger._logEvent.ts = ts\n  logger._logEvent.messages = args.filter(function (arg) {\n    // bindings can only be objects, so reference equality check via indexOf is fine\n    return bindings.indexOf(arg) === -1\n  })\n\n  logger._logEvent.level.label = methodLevel\n  logger._logEvent.level.value = methodValue\n\n  send(methodLevel, logger._logEvent, val)\n\n  logger._logEvent = createLogEventShape(bindings)\n}\n\nfunction createLogEventShape (bindings) {\n  return {\n    ts: 0,\n    messages: [],\n    bindings: bindings || [],\n    level: { label: '', value: 0 }\n  }\n}\n\nfunction asErrValue (err) {\n  const obj = {\n    type: err.constructor.name,\n    msg: err.message,\n    stack: err.stack\n  }\n  for (const key in err) {\n    if (obj[key] === undefined) {\n      obj[key] = err[key]\n    }\n  }\n  return obj\n}\n\nfunction getTimeFunction (opts) {\n  if (typeof opts.timestamp === 'function') {\n    return opts.timestamp\n  }\n  if (opts.timestamp === false) {\n    return nullTime\n  }\n  return epochTime\n}\n\nfunction mock () { return {} }\nfunction passthrough (a) { return a }\nfunction noop () {}\n\nfunction nullTime () { return false }\nfunction epochTime () { return Date.now() }\nfunction unixTime () { return Math.round(Date.now() / 1000.0) }\nfunction isoTime () { return new Date(Date.now()).toISOString() } // using Date.now() for testability\n\n/* eslint-disable */\n/* istanbul ignore next */\nfunction pfGlobalThisOrFallback () {\n  function defd (o) { return typeof o !== 'undefined' && o }\n  try {\n    if (typeof globalThis !== 'undefined') return globalThis\n    Object.defineProperty(Object.prototype, 'globalThis', {\n      get: function () {\n        delete Object.prototype.globalThis\n        return (this.globalThis = this)\n      },\n      configurable: true\n    })\n    return globalThis\n  } catch (e) {\n    return defd(self) || defd(window) || defd(this) || {}\n  }\n}\n/* eslint-enable */\n","export function concatArrayBuffer(...parts) {\n    const buffers = parts.map((x) => new Uint8Array(x));\n    const u8 = new Uint8Array(buffers.reduce((a, b) => a + b.length, 0));\n    let last = 0;\n    for (const each of buffers) {\n        u8.set(each, last);\n        last += each.length;\n    }\n    return u8.buffer;\n}\n","/**\n * ! Please use the Promise constructor if possible\n * If you don't understand https://groups.google.com/forum/#!topic/bluebird-js/mUiX2-vXW2s\n */\nexport function defer() {\n    let a, b;\n    const p = new Promise((x, y) => {\n        a = x;\n        b = y;\n    });\n    return [p, a, b];\n}\n","/**\n * @description The lazy decorator.\n * @example\n * class T {\n *     ;@lazy accessor value = lazy.of(() => getData())\n * }\n */\nexport function lazy(target, _context) {\n    const { get, set } = target;\n    let init = false;\n    return {\n        get() {\n            const val = get.call(this);\n            if (!init) {\n                if (typeof val !== 'function')\n                    throw new TypeError('Please use lazy.of(() => ...) to wrap the value.');\n                set.call(this, val());\n                init = true;\n            }\n            return val;\n        },\n        set(val) {\n            init ||= true;\n            set.call(this, val);\n        },\n    };\n}\n/**\n * DO NOT use this function without the lazy decorator! It actually returning the init function instead of the value\n * @param init The init function\n */\nlazy.of = (init) => init;\n","/**\n * The promise version of lodash-es/memoize\n * @param memoize lodash.memoize\n * @param f An async function\n * @param resolver If the function has 1 param, it can be undefined\n * as `x => x`. If it has more than 1 param, you must specify a function\n * to map the param the memoize key.\n */\nexport function memoizePromise(memoize, f, resolver) {\n    if (resolver === undefined)\n        resolver = ((x) => x);\n    const memorizedFunction = memoize(async function (...args) {\n        try {\n            // ? DO NOT remove \"await\" here\n            return await f(...args);\n        }\n        catch (error) {\n            memorizedFunction.cache.delete(resolver(...args));\n            throw error;\n        }\n    }, resolver);\n    return memorizedFunction;\n}\n","/// <reference types=\"user-agent-data-types\" />\nexport function formatFileSize(input = 0, si = isMacPlatform(), fractionDigits = 1) {\n    if (input === 0 || Number.isNaN(input)) {\n        return '0 B';\n    }\n    const units = ['', 'K', 'M', 'G', 'T', 'P'];\n    const base = si ? 1000 : 0x400;\n    const n = Math.min(Math.floor(Math.log(input) / Math.log(base)), units.length - 1);\n    const value = input / Math.pow(base, n);\n    const formatted = n === 0 ? value : value.toFixed(fractionDigits);\n    return `${formatted} ${units[n]}${si ? '' : 'i'}B`;\n}\n/** @internal */\nfunction isMacPlatform() {\n    try {\n        return /^Mac/.test(navigator.userAgentData?.platform ?? navigator.platform);\n    }\n    catch {\n        return false;\n    }\n}\n","import { isArrayBufferEqual } from '../index.js';\n/* eslint-disable no-bitwise */\nexport function getDimensionAsPNG(buf) {\n    const view = new DataView(buf, 0, 28);\n    return { width: view.getInt32(16), height: view.getInt32(20) };\n}\n/**\n * Get dimension of a JPEG image\n * @see http://vip.sugovica.hu/Sardi/kepnezo/JPEG%20File%20Layout%20and%20Format.htm\n */\nexport function getDimensionAsJPEG(buf) {\n    const MAGIC_1 = Uint8Array.of(0xff, 0xd8, 0xff, 0xe0);\n    const MAGIC_2 = Uint8Array.of(0x4a, 0x46, 0x49, 0x46, 0x00);\n    const view = new DataView(buf);\n    let index = 0;\n    if (!isArrayBufferEqual(buf.slice(index, index + 4), MAGIC_1)) {\n        return;\n    }\n    index += 4;\n    if (!isArrayBufferEqual(buf.slice(index + 2, index + 6), MAGIC_2)) {\n        return;\n    }\n    let blockLength = view.getUint8(index) * 256 + view.getUint8(index + 1);\n    while (index < view.byteLength) {\n        index += blockLength;\n        if (index >= view.byteLength)\n            return;\n        if (view.getUint8(index) !== 0xff)\n            return;\n        const marker = view.getUint8(index + 1); // SOF0 / SOF2 marker\n        if (!(marker === 0xc0 || marker === 0xc2)) {\n            index += 2;\n            blockLength = view.getUint8(index) * 256 + view.getUint8(index + 1);\n            continue;\n        }\n        return {\n            height: view.getUint8(index + 5) * 256 + view.getUint8(index + 6),\n            width: view.getUint8(index + 7) * 256 + view.getUint8(index + 8),\n        };\n    }\n    return undefined;\n}\n","export function getEnumAsArray(enumObject) {\n    return (Object.keys(enumObject)\n        // Leave only key of enum\n        .filter((x) => Number.isNaN(Number.parseInt(x)))\n        .map((key) => ({ key, value: enumObject[key] })));\n}\n","export function combineAbortSignal(..._) {\n    const args = _.filter(Boolean);\n    if (args.length === 0)\n        return undefined;\n    if (args.length === 1)\n        return args[0] ?? undefined;\n    const controller = new AbortController();\n    const abort = () => controller.abort();\n    for (const each of args) {\n        each.addEventListener('abort', abort, { signal: controller.signal });\n    }\n    return controller.signal;\n}\n","/**\n * Return a promise that resolved after `time` ms.\n * If `time` is `Infinity`, it will never resolve.\n * @param time - Time to sleep. In `ms`.\n */\nexport function delay(time) {\n    return new Promise((resolve) => (Number.isFinite(time) ? setTimeout(resolve, time) : void 0));\n}\n","/**\n * Accept a promise and then set a timeout on it. After `time` ms, it will reject.\n * @param promise - The promise that you want to set time limit on.\n * @param time - Time before timeout. In `ms`.\n * @param rejectReason - When reject, show a reason. Defaults to `\"timeout\"`\n */\nexport function timeout(promise, time, rejectReason) {\n    if (!Number.isFinite(time))\n        return (async () => promise)();\n    let timer;\n    const race = Promise.race([\n        promise,\n        new Promise((r, reject) => {\n            timer = setTimeout(() => reject(new Error(rejectReason ?? 'timeout')), time);\n        }),\n    ]);\n    race.finally(() => clearTimeout(timer));\n    return race;\n}\n","import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\n// eslint-disable-next-line no-control-regex\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nvar serializeCookie = function serializeCookie(name, val, options) {\n  var opt = options || {};\n  opt.path = opt.path || '/';\n  var value = encodeURIComponent(val);\n  var str = \"\".concat(name, \"=\").concat(value);\n  if (opt.maxAge > 0) {\n    var maxAge = opt.maxAge - 0;\n    if (Number.isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += \"; Max-Age=\".concat(Math.floor(maxAge));\n  }\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n    str += \"; Domain=\".concat(opt.domain);\n  }\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n    str += \"; Path=\".concat(opt.path);\n  }\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n    str += \"; Expires=\".concat(opt.expires.toUTCString());\n  }\n  if (opt.httpOnly) str += '; HttpOnly';\n  if (opt.secure) str += '; Secure';\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n  return str;\n};\nvar cookie = {\n  create: function create(name, value, minutes, domain) {\n    var cookieOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      path: '/',\n      sameSite: 'strict'\n    };\n    if (minutes) {\n      cookieOptions.expires = new Date();\n      cookieOptions.expires.setTime(cookieOptions.expires.getTime() + minutes * 60 * 1000);\n    }\n    if (domain) cookieOptions.domain = domain;\n    document.cookie = serializeCookie(name, encodeURIComponent(value), cookieOptions);\n  },\n  read: function read(name) {\n    var nameEQ = \"\".concat(name, \"=\");\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  },\n  remove: function remove(name) {\n    this.create(name, '', -1);\n  }\n};\nvar cookie$1 = {\n  name: 'cookie',\n  lookup: function lookup(options) {\n    var found;\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      var c = cookie.read(options.lookupCookie);\n      if (c) found = c;\n    }\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain, options.cookieOptions);\n    }\n  }\n};\n\nvar querystring = {\n  name: 'querystring',\n  lookup: function lookup(options) {\n    var found;\n    if (typeof window !== 'undefined') {\n      var search = window.location.search;\n      if (!window.location.search && window.location.hash && window.location.hash.indexOf('?') > -1) {\n        search = window.location.hash.substring(window.location.hash.indexOf('?'));\n      }\n      var query = search.substring(1);\n      var params = query.split('&');\n      for (var i = 0; i < params.length; i++) {\n        var pos = params[i].indexOf('=');\n        if (pos > 0) {\n          var key = params[i].substring(0, pos);\n          if (key === options.lookupQuerystring) {\n            found = params[i].substring(pos + 1);\n          }\n        }\n      }\n    }\n    return found;\n  }\n};\n\nvar hasLocalStorageSupport = null;\nvar localStorageAvailable = function localStorageAvailable() {\n  if (hasLocalStorageSupport !== null) return hasLocalStorageSupport;\n  try {\n    hasLocalStorageSupport = window !== 'undefined' && window.localStorage !== null;\n    var testKey = 'i18next.translate.boo';\n    window.localStorage.setItem(testKey, 'foo');\n    window.localStorage.removeItem(testKey);\n  } catch (e) {\n    hasLocalStorageSupport = false;\n  }\n  return hasLocalStorageSupport;\n};\nvar localStorage = {\n  name: 'localStorage',\n  lookup: function lookup(options) {\n    var found;\n    if (options.lookupLocalStorage && localStorageAvailable()) {\n      var lng = window.localStorage.getItem(options.lookupLocalStorage);\n      if (lng) found = lng;\n    }\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupLocalStorage && localStorageAvailable()) {\n      window.localStorage.setItem(options.lookupLocalStorage, lng);\n    }\n  }\n};\n\nvar hasSessionStorageSupport = null;\nvar sessionStorageAvailable = function sessionStorageAvailable() {\n  if (hasSessionStorageSupport !== null) return hasSessionStorageSupport;\n  try {\n    hasSessionStorageSupport = window !== 'undefined' && window.sessionStorage !== null;\n    var testKey = 'i18next.translate.boo';\n    window.sessionStorage.setItem(testKey, 'foo');\n    window.sessionStorage.removeItem(testKey);\n  } catch (e) {\n    hasSessionStorageSupport = false;\n  }\n  return hasSessionStorageSupport;\n};\nvar sessionStorage = {\n  name: 'sessionStorage',\n  lookup: function lookup(options) {\n    var found;\n    if (options.lookupSessionStorage && sessionStorageAvailable()) {\n      var lng = window.sessionStorage.getItem(options.lookupSessionStorage);\n      if (lng) found = lng;\n    }\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupSessionStorage && sessionStorageAvailable()) {\n      window.sessionStorage.setItem(options.lookupSessionStorage, lng);\n    }\n  }\n};\n\nvar navigator$1 = {\n  name: 'navigator',\n  lookup: function lookup(options) {\n    var found = [];\n    if (typeof navigator !== 'undefined') {\n      if (navigator.languages) {\n        // chrome only; not an array, so can't use .push.apply instead of iterating\n        for (var i = 0; i < navigator.languages.length; i++) {\n          found.push(navigator.languages[i]);\n        }\n      }\n      if (navigator.userLanguage) {\n        found.push(navigator.userLanguage);\n      }\n      if (navigator.language) {\n        found.push(navigator.language);\n      }\n    }\n    return found.length > 0 ? found : undefined;\n  }\n};\n\nvar htmlTag = {\n  name: 'htmlTag',\n  lookup: function lookup(options) {\n    var found;\n    var htmlTag = options.htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n    if (htmlTag && typeof htmlTag.getAttribute === 'function') {\n      found = htmlTag.getAttribute('lang');\n    }\n    return found;\n  }\n};\n\nvar path = {\n  name: 'path',\n  lookup: function lookup(options) {\n    var found;\n    if (typeof window !== 'undefined') {\n      var language = window.location.pathname.match(/\\/([a-zA-Z-]*)/g);\n      if (language instanceof Array) {\n        if (typeof options.lookupFromPathIndex === 'number') {\n          if (typeof language[options.lookupFromPathIndex] !== 'string') {\n            return undefined;\n          }\n          found = language[options.lookupFromPathIndex].replace('/', '');\n        } else {\n          found = language[0].replace('/', '');\n        }\n      }\n    }\n    return found;\n  }\n};\n\nvar subdomain = {\n  name: 'subdomain',\n  lookup: function lookup(options) {\n    // If given get the subdomain index else 1\n    var lookupFromSubdomainIndex = typeof options.lookupFromSubdomainIndex === 'number' ? options.lookupFromSubdomainIndex + 1 : 1;\n    // get all matches if window.location. is existing\n    // first item of match is the match itself and the second is the first group macht which sould be the first subdomain match\n    // is the hostname no public domain get the or option of localhost\n    var language = typeof window !== 'undefined' && window.location && window.location.hostname && window.location.hostname.match(/^(\\w{2,5})\\.(([a-z0-9-]{1,63}\\.[a-z]{2,6})|localhost)/i);\n\n    // if there is no match (null) return undefined\n    if (!language) return undefined;\n    // return the given group match\n    return language[lookupFromSubdomainIndex];\n  }\n};\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n    lookupSessionStorage: 'i18nextLng',\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'],\n    // cookieMinutes: 10,\n    // cookieDomain: 'myDomain'\n\n    convertDetectedLanguage: function convertDetectedLanguage(l) {\n      return l;\n    }\n  };\n}\nvar Browser = /*#__PURE__*/function () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Browser);\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n  _createClass(Browser, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services || {\n        languageUtils: {}\n      }; // this way the language detector can be used without i18next\n      this.options = defaults(options, this.options || {}, getDefaults());\n      if (typeof this.options.convertDetectedLanguage === 'string' && this.options.convertDetectedLanguage.indexOf('15897') > -1) {\n        this.options.convertDetectedLanguage = function (l) {\n          return l.replace('-', '_');\n        };\n      }\n\n      // backwards compatibility\n      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n      this.i18nOptions = i18nOptions;\n      this.addDetector(cookie$1);\n      this.addDetector(querystring);\n      this.addDetector(localStorage);\n      this.addDetector(sessionStorage);\n      this.addDetector(navigator$1);\n      this.addDetector(htmlTag);\n      this.addDetector(path);\n      this.addDetector(subdomain);\n    }\n  }, {\n    key: \"addDetector\",\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: \"detect\",\n    value: function detect(detectionOrder) {\n      var _this = this;\n      if (!detectionOrder) detectionOrder = this.options.order;\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n      detected = detected.map(function (d) {\n        return _this.options.convertDetectedLanguage(d);\n      });\n      if (this.services.languageUtils.getBestMatchFromCodes) return detected; // new i18next v19.5.0\n      return detected.length > 0 ? detected[0] : null; // a little backward compatibility\n    }\n  }, {\n    key: \"cacheUserLanguage\",\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n  return Browser;\n}();\nBrowser.type = 'languageDetector';\n\nexport { Browser as default };\n","export function toString(val) {\n    var value = String(val);\n    if (value === '[object Object]') {\n        try {\n            value = JSON.stringify(val);\n        }\n        catch (_a) { }\n    }\n    return value;\n}\n","import { asUint8Array } from './util/as-uint8array.js';\nexport function alloc(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {\n    return asUint8Array(globalThis.Buffer.alloc(size));\n  }\n  return new Uint8Array(size);\n}\nexport function allocUnsafe(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {\n    return asUint8Array(globalThis.Buffer.allocUnsafe(size));\n  }\n  return new Uint8Array(size);\n}","import { allocUnsafe } from './alloc.js';\nimport { asUint8Array } from './util/as-uint8array.js';\nexport function concat(arrays, length) {\n  if (!length) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0);\n  }\n  const output = allocUnsafe(length);\n  let offset = 0;\n  for (const arr of arrays) {\n    output.set(arr, offset);\n    offset += arr.length;\n  }\n  return asUint8Array(output);\n}","import bases from './util/bases.js';\nimport { asUint8Array } from './util/as-uint8array.js';\nexport function fromString(string, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return asUint8Array(globalThis.Buffer.from(string, 'utf-8'));\n  }\n  return base.decoder.decode(`${ base.prefix }${ string }`);\n}","import { compare } from './compare.js';\nimport { concat } from './concat.js';\nimport { equals } from './equals.js';\nimport { fromString } from './from-string.js';\nimport { toString } from './to-string.js';\nimport { xor } from './xor.js';\nexport {\n  compare,\n  concat,\n  equals,\n  fromString,\n  toString,\n  xor\n};","import bases from './util/bases.js';\nexport function toString(array, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n  }\n  return base.encoder.encode(array).substring(1);\n}","export function asUint8Array(buf) {\n  if (globalThis.Buffer != null) {\n    return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n  }\n  return buf;\n}","import { bases } from 'multiformats/basics';\nimport { allocUnsafe } from '../alloc.js';\nfunction createCodec(name, prefix, encode, decode) {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: { decode }\n  };\n}\nconst string = createCodec('utf8', 'u', buf => {\n  const decoder = new TextDecoder('utf8');\n  return 'u' + decoder.decode(buf);\n}, str => {\n  const encoder = new TextEncoder();\n  return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n  let string = 'a';\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i]);\n  }\n  return string;\n}, str => {\n  str = str.substring(1);\n  const buf = allocUnsafe(str.length);\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i);\n  }\n  return buf;\n});\nconst BASES = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii: ascii,\n  binary: ascii,\n  ...bases\n};\nexport default BASES;","export function aave_url() { return new URL(\"./brands/Aave.svg\", import.meta.url) }\nexport function algorand_url() { return new URL(\"./brands/Algorand.svg\", import.meta.url) }\nexport function arbitrum_url() { return new URL(\"./brands/Arbitrum.svg\", import.meta.url) }\nexport function arweave_url() { return new URL(\"./brands/Arweave.png\", import.meta.url) }\nexport function avalanche_url() { return new URL(\"./brands/Avalanche.svg\", import.meta.url) }\nexport function bsc_url() { return new URL(\"./brands/BSC.svg\", import.meta.url) }\nexport function celo_url() { return new URL(\"./brands/Celo.svg\", import.meta.url) }\nexport function coincarp_url() { return new URL(\"./brands/Coincarp.svg\", import.meta.url) }\nexport function coin_gecko_url() { return new URL(\"./brands/CoinGecko.svg\", import.meta.url) }\nexport function coin_market_cap_url() { return new URL(\"./brands/CoinMarketCap.svg\", import.meta.url) }\nexport function cosmos_url() { return new URL(\"./brands/Cosmos.svg\", import.meta.url) }\nexport function crossbell_url() { return new URL(\"./brands/Crossbell.svg\", import.meta.url) }\nexport function cross_sync_url() { return new URL(\"./brands/CrossSync.svg\", import.meta.url) }\nexport function cyber_connect_url() { return new URL(\"./brands/CyberConnect.svg\", import.meta.url) }\nexport function danger_url() { return new URL(\"./brands/Danger.svg\", import.meta.url) }\nexport function debank_url() { return new URL(\"./brands/Debank.svg\", import.meta.url) }\nexport function discord_url() { return new URL(\"./brands/Discord.svg\", import.meta.url) }\nexport function discord_round_url() { return new URL(\"./brands/DiscordRound.svg\", import.meta.url) }\nexport function discord_round_black_dark_url() { return new URL(\"./brands/DiscordRoundBlack.dark.svg\", import.meta.url) }\nexport function discord_round_black_light_url() { return new URL(\"./brands/DiscordRoundBlack.light.svg\", import.meta.url) }\nexport function discord_round_gray_url() { return new URL(\"./brands/DiscordRoundGray.svg\", import.meta.url) }\nexport function eip_1577_url() { return new URL(\"./brands/EIP1577.svg\", import.meta.url) }\nexport function eth_url() { return new URL(\"./brands/ETH.svg\", import.meta.url) }\nexport function ether_scan_url() { return new URL(\"./brands/EtherScan.svg\", import.meta.url) }\nexport function facebook_colored_url() { return new URL(\"./brands/FacebookColored.svg\", import.meta.url) }\nexport function facebook_round_url() { return new URL(\"./brands/FacebookRound.svg\", import.meta.url) }\nexport function facebook_round_gray_url() { return new URL(\"./brands/FacebookRoundGray.svg\", import.meta.url) }\nexport function fantom_url() { return new URL(\"./brands/Fantom.svg\", import.meta.url) }\nexport function farcaster_url() { return new URL(\"./brands/Farcaster.svg\", import.meta.url) }\nexport function firefly_dark_url() { return new URL(\"./brands/Firefly.dark.svg\", import.meta.url) }\nexport function firefly_light_url() { return new URL(\"./brands/Firefly.light.svg\", import.meta.url) }\nexport function flow_url() { return new URL(\"./brands/Flow.svg\", import.meta.url) }\nexport function gem_url() { return new URL(\"./brands/Gem.svg\", import.meta.url) }\nexport function git_hub_url() { return new URL(\"./brands/GitHub.svg\", import.meta.url) }\nexport function git_hub_gray_url() { return new URL(\"./brands/GitHubGray.svg\", import.meta.url) }\nexport function gnosis_url() { return new URL(\"./brands/Gnosis.svg\", import.meta.url) }\nexport function instagram_url() { return new URL(\"./brands/Instagram.svg\", import.meta.url) }\nexport function instagram_colored_url() { return new URL(\"./brands/InstagramColored.svg\", import.meta.url) }\nexport function instagram_round_colored_url() { return new URL(\"./brands/InstagramRoundColored.svg\", import.meta.url) }\nexport function instagram_round_gray_url() { return new URL(\"./brands/InstagramRoundGray.svg\", import.meta.url) }\nexport function ipfs_url() { return new URL(\"./brands/IPFS.svg\", import.meta.url) }\nexport function keybase_url() { return new URL(\"./brands/Keybase.svg\", import.meta.url) }\nexport function kusama_url() { return new URL(\"./brands/Kusama.svg\", import.meta.url) }\nexport function leaderboard_url() { return new URL(\"./brands/Leaderboard.png\", import.meta.url) }\nexport function lens_url() { return new URL(\"./brands/Lens.svg\", import.meta.url) }\nexport function link_3_url() { return new URL(\"./brands/Link3.svg\", import.meta.url) }\nexport function looks_rare_url() { return new URL(\"./brands/LooksRare.svg\", import.meta.url) }\nexport function mask_dark_url() { return new URL(\"./brands/Mask.dark.svg\", import.meta.url) }\nexport function mask_light_url() { return new URL(\"./brands/Mask.light.svg\", import.meta.url) }\nexport function mask_banner_url() { return new URL(\"./brands/MaskBanner.svg\", import.meta.url) }\nexport function mask_blue_url() { return new URL(\"./brands/MaskBlue.svg\", import.meta.url) }\nexport function mask_grey_dark_url() { return new URL(\"./brands/MaskGrey.dark.svg\", import.meta.url) }\nexport function mask_grey_light_url() { return new URL(\"./brands/MaskGrey.light.svg\", import.meta.url) }\nexport function mask_placeholder_dark_url() { return new URL(\"./brands/MaskPlaceholder.dark.svg\", import.meta.url) }\nexport function mask_placeholder_dim_url() { return new URL(\"./brands/MaskPlaceholder.dim.svg\", import.meta.url) }\nexport function mask_placeholder_light_url() { return new URL(\"./brands/MaskPlaceholder.light.svg\", import.meta.url) }\nexport function mask_square_dark_url() { return new URL(\"./brands/MaskSquare.dark.svg\", import.meta.url) }\nexport function mask_square_light_url() { return new URL(\"./brands/MaskSquare.light.svg\", import.meta.url) }\nexport function mask_text_url() { return new URL(\"./brands/MaskText.svg\", import.meta.url) }\nexport function mask_text_nightly_url() { return new URL(\"./brands/MaskTextNightly.svg\", import.meta.url) }\nexport function mask_wallet_url() { return new URL(\"./brands/MaskWallet.png\", import.meta.url) }\nexport function medium_url() { return new URL(\"./brands/Medium.svg\", import.meta.url) }\nexport function medium_gray_url() { return new URL(\"./brands/MediumGray.svg\", import.meta.url) }\nexport function meta_mask_url() { return new URL(\"./brands/MetaMask.svg\", import.meta.url) }\nexport function minds_url() { return new URL(\"./brands/Minds.svg\", import.meta.url) }\nexport function minds_round_url() { return new URL(\"./brands/MindsRound.svg\", import.meta.url) }\nexport function mini_mask_dark_url() { return new URL(\"./brands/MiniMask.dark.svg\", import.meta.url) }\nexport function mini_mask_light_url() { return new URL(\"./brands/MiniMask.light.svg\", import.meta.url) }\nexport function mirror_url() { return new URL(\"./brands/Mirror.svg\", import.meta.url) }\nexport function momoka_url() { return new URL(\"./brands/Momoka.svg\", import.meta.url) }\nexport function next_id_mini_dark_url() { return new URL(\"./brands/NextIDMini.dark.svg\", import.meta.url) }\nexport function next_id_mini_light_url() { return new URL(\"./brands/NextIDMini.light.svg\", import.meta.url) }\nexport function nftgo_url() { return new URL(\"./brands/Nftgo.svg\", import.meta.url) }\nexport function nft_scan_url() { return new URL(\"./brands/NFTScan.svg\", import.meta.url) }\nexport function open_sea_url() { return new URL(\"./brands/OpenSea.svg\", import.meta.url) }\nexport function open_sea_colored_url() { return new URL(\"./brands/OpenSeaColored.svg\", import.meta.url) }\nexport function optimism_url() { return new URL(\"./brands/Optimism.svg\", import.meta.url) }\nexport function pancake_swap_url() { return new URL(\"./brands/PancakeSwap.png\", import.meta.url) }\nexport function pets_url() { return new URL(\"./brands/Pets.svg\", import.meta.url) }\nexport function planet_url() { return new URL(\"./brands/Planet.png\", import.meta.url) }\nexport function polka_dot_url() { return new URL(\"./brands/PolkaDot.svg\", import.meta.url) }\nexport function polygon_url() { return new URL(\"./brands/Polygon.svg\", import.meta.url) }\nexport function polygon_scan_url() { return new URL(\"./brands/PolygonScan.svg\", import.meta.url) }\nexport function rarible_url() { return new URL(\"./brands/Rarible.svg\", import.meta.url) }\nexport function reddit_round_url() { return new URL(\"./brands/RedditRound.svg\", import.meta.url) }\nexport function reddit_round_gray_url() { return new URL(\"./brands/RedditRoundGray.svg\", import.meta.url) }\nexport function rsk_url() { return new URL(\"./brands/Rsk.svg\", import.meta.url) }\nexport function rss_3_url() { return new URL(\"./brands/RSS3.svg\", import.meta.url) }\nexport function simple_hash_url() { return new URL(\"./brands/SimpleHash.png\", import.meta.url) }\nexport function solana_url() { return new URL(\"./brands/Solana.svg\", import.meta.url) }\nexport function sushi_swap_url() { return new URL(\"./brands/SushiSwap.png\", import.meta.url) }\nexport function sybil_url() { return new URL(\"./brands/Sybil.png\", import.meta.url) }\nexport function telegram_round_url() { return new URL(\"./brands/TelegramRound.svg\", import.meta.url) }\nexport function twitter_colored_url() { return new URL(\"./brands/TwitterColored.svg\", import.meta.url) }\nexport function twitter_other_colored_url() { return new URL(\"./brands/TwitterOtherColored.svg\", import.meta.url) }\nexport function twitter_round_url() { return new URL(\"./brands/TwitterRound.svg\", import.meta.url) }\nexport function twitter_round_gray_url() { return new URL(\"./brands/TwitterRoundGray.svg\", import.meta.url) }\nexport function twitter_x_dark_url() { return new URL(\"./brands/TwitterX.dark.svg\", import.meta.url) }\nexport function twitter_x_light_url() { return new URL(\"./brands/TwitterX.light.svg\", import.meta.url) }\nexport function twitter_x_round_dark_url() { return new URL(\"./brands/TwitterXRound.dark.svg\", import.meta.url) }\nexport function twitter_x_round_light_url() { return new URL(\"./brands/TwitterXRound.light.svg\", import.meta.url) }\nexport function uniswap_url() { return new URL(\"./brands/Uniswap.svg\", import.meta.url) }\nexport function weth_url() { return new URL(\"./brands/WETH.svg\", import.meta.url) }\nexport function x_2_y_2_url() { return new URL(\"./brands/X2Y2.svg\", import.meta.url) }\nexport function x_log_dark_url() { return new URL(\"./brands/XLog.dark.svg\", import.meta.url) }\nexport function x_log_url() { return new URL(\"./brands/XLog.svg\", import.meta.url) }\nexport function you_tube_url() { return new URL(\"./brands/YouTube.svg\", import.meta.url) }\nexport function you_tube_gray_url() { return new URL(\"./brands/YouTubeGray.svg\", import.meta.url) }\nexport function zerion_url() { return new URL(\"./brands/Zerion.svg\", import.meta.url) }\nexport function zero_x_dark_url() { return new URL(\"./brands/ZeroX.dark.svg\", import.meta.url) }\nexport function zero_x_url() { return new URL(\"./brands/ZeroX.svg\", import.meta.url) }\nexport function zilliqa_url() { return new URL(\"./brands/Zilliqa.svg\", import.meta.url) }\nexport function zk_scan_url() { return new URL(\"./brands/zkScan.svg\", import.meta.url) }\nexport function zora_url() { return new URL(\"./brands/Zora.svg\", import.meta.url) }\nexport function add_url() { return new URL(\"./general/Add.svg\", import.meta.url) }\nexport function add_no_border_url() { return new URL(\"./general/AddNoBorder.svg\", import.meta.url) }\nexport function add_user_url() { return new URL(\"./general/AddUser.svg\", import.meta.url) }\nexport function america_url() { return new URL(\"./general/America.svg\", import.meta.url) }\nexport function appearance_url() { return new URL(\"./general/Appearance.svg\", import.meta.url) }\nexport function appendices_url() { return new URL(\"./general/Appendices.svg\", import.meta.url) }\nexport function application_nft_url() { return new URL(\"./general/ApplicationNFT.svg\", import.meta.url) }\nexport function approve_url() { return new URL(\"./general/Approve.svg\", import.meta.url) }\nexport function arrow_back_url() { return new URL(\"./general/ArrowBack.svg\", import.meta.url) }\nexport function arrow_down_round_url() { return new URL(\"./general/ArrowDownRound.svg\", import.meta.url) }\nexport function arrow_downward_url() { return new URL(\"./general/ArrowDownward.svg\", import.meta.url) }\nexport function arrow_drop_url() { return new URL(\"./general/ArrowDrop.svg\", import.meta.url) }\nexport function arrow_right_url() { return new URL(\"./general/ArrowRight.svg\", import.meta.url) }\nexport function arrow_up_url() { return new URL(\"./general/ArrowUp.svg\", import.meta.url) }\nexport function arrow_up_round_url() { return new URL(\"./general/ArrowUpRound.svg\", import.meta.url) }\nexport function back_up_url() { return new URL(\"./general/BackUp.svg\", import.meta.url) }\nexport function base_close_dark_url() { return new URL(\"./general/BaseClose.dark.svg\", import.meta.url) }\nexport function base_close_light_url() { return new URL(\"./general/BaseClose.light.svg\", import.meta.url) }\nexport function base_contacts_url() { return new URL(\"./general/BaseContacts.svg\", import.meta.url) }\nexport function base_upload_url() { return new URL(\"./general/BaseUpload.svg\", import.meta.url) }\nexport function base_user_url() { return new URL(\"./general/BaseUser.svg\", import.meta.url) }\nexport function best_trade_url() { return new URL(\"./general/BestTrade.svg\", import.meta.url) }\nexport function blue_pin_url() { return new URL(\"./general/BluePin.svg\", import.meta.url) }\nexport function bordered_success_url() { return new URL(\"./general/BorderedSuccess.svg\", import.meta.url) }\nexport function busy_wallet_nav_url() { return new URL(\"./general/BusyWalletNav.svg\", import.meta.url) }\nexport function buy_url() { return new URL(\"./general/Buy.svg\", import.meta.url) }\nexport function cached_url() { return new URL(\"./general/Cached.svg\", import.meta.url) }\nexport function candle_url() { return new URL(\"./general/candle.svg\", import.meta.url) }\nexport function card_url() { return new URL(\"./general/Card.svg\", import.meta.url) }\nexport function check_url() { return new URL(\"./general/Check.svg\", import.meta.url) }\nexport function checkbox_url() { return new URL(\"./general/Checkbox.svg\", import.meta.url) }\nexport function checkbox_blank_url() { return new URL(\"./general/CheckboxBlank.svg\", import.meta.url) }\nexport function checkbox_border_url() { return new URL(\"./general/CheckboxBorder.svg\", import.meta.url) }\nexport function checkbox_no_url() { return new URL(\"./general/CheckboxNo.svg\", import.meta.url) }\nexport function check_circle_url() { return new URL(\"./general/CheckCircle.svg\", import.meta.url) }\nexport function chevron_up_url() { return new URL(\"./general/ChevronUp.svg\", import.meta.url) }\nexport function china_url() { return new URL(\"./general/China.svg\", import.meta.url) }\nexport function circle_close_url() { return new URL(\"./general/CircleClose.svg\", import.meta.url) }\nexport function circle_loading_url() { return new URL(\"./general/CircleLoading.svg\", import.meta.url) }\nexport function circle_warning_url() { return new URL(\"./general/CircleWarning.svg\", import.meta.url) }\nexport function clear_dark_url() { return new URL(\"./general/Clear.dark.svg\", import.meta.url) }\nexport function clear_light_url() { return new URL(\"./general/Clear.light.svg\", import.meta.url) }\nexport function close_url() { return new URL(\"./general/Close.svg\", import.meta.url) }\nexport function cloud_url() { return new URL(\"./general/Cloud.svg\", import.meta.url) }\nexport function cloud_backup_url() { return new URL(\"./general/CloudBackup.png\", import.meta.url) }\nexport function cloud_backup_2_url() { return new URL(\"./general/CloudBackup2.svg\", import.meta.url) }\nexport function cloud_link_url() { return new URL(\"./general/CloudLink.png\", import.meta.url) }\nexport function cny_url() { return new URL(\"./general/CNY.svg\", import.meta.url) }\nexport function collectible_url() { return new URL(\"./general/Collectible.svg\", import.meta.url) }\nexport function comeback_url() { return new URL(\"./general/Comeback.svg\", import.meta.url) }\nexport function connect_url() { return new URL(\"./general/Connect.svg\", import.meta.url) }\nexport function contacts_url() { return new URL(\"./general/Contacts.svg\", import.meta.url) }\nexport function copy_url() { return new URL(\"./general/Copy.svg\", import.meta.url) }\nexport function currency_url() { return new URL(\"./general/Currency.svg\", import.meta.url) }\nexport function dark_url() { return new URL(\"./general/Dark.svg\", import.meta.url) }\nexport function decrease_url() { return new URL(\"./general/decrease.svg\", import.meta.url) }\nexport function default_token_dark_url() { return new URL(\"./general/DefaultToken.dark.svg\", import.meta.url) }\nexport function default_token_dim_url() { return new URL(\"./general/DefaultToken.dim.svg\", import.meta.url) }\nexport function default_token_light_url() { return new URL(\"./general/DefaultToken.light.svg\", import.meta.url) }\nexport function delete_url() { return new URL(\"./general/Delete.svg\", import.meta.url) }\nexport function disconnect_url() { return new URL(\"./general/Disconnect.svg\", import.meta.url) }\nexport function document_url() { return new URL(\"./general/Document.svg\", import.meta.url) }\nexport function documents_url() { return new URL(\"./general/Documents.svg\", import.meta.url) }\nexport function download_url() { return new URL(\"./general/Download.svg\", import.meta.url) }\nexport function download_2_url() { return new URL(\"./general/Download2.svg\", import.meta.url) }\nexport function drop_url() { return new URL(\"./general/Drop.svg\", import.meta.url) }\nexport function dump_url() { return new URL(\"./general/Dump.svg\", import.meta.url) }\nexport function edit_url() { return new URL(\"./general/Edit.svg\", import.meta.url) }\nexport function edit_2_url() { return new URL(\"./general/Edit2.svg\", import.meta.url) }\nexport function empty_url() { return new URL(\"./general/Empty.png\", import.meta.url) }\nexport function empty_simple_dark_url() { return new URL(\"./general/EmptySimple.dark.svg\", import.meta.url) }\nexport function empty_simple_light_url() { return new URL(\"./general/EmptySimple.light.svg\", import.meta.url) }\nexport function encrypted_files_url() { return new URL(\"./general/EncryptedFiles.svg\", import.meta.url) }\nexport function europe_url() { return new URL(\"./general/Europe.svg\", import.meta.url) }\nexport function eye_dark_url() { return new URL(\"./general/Eye.dark.svg\", import.meta.url) }\nexport function eye_light_url() { return new URL(\"./general/Eye.light.svg\", import.meta.url) }\nexport function eye_color_url() { return new URL(\"./general/EyeColor.svg\", import.meta.url) }\nexport function eye_off_dark_url() { return new URL(\"./general/EyeOff.dark.svg\", import.meta.url) }\nexport function eye_off_light_url() { return new URL(\"./general/EyeOff.light.svg\", import.meta.url) }\nexport function facebook_url() { return new URL(\"./general/Facebook.svg\", import.meta.url) }\nexport function file_url() { return new URL(\"./general/File.svg\", import.meta.url) }\nexport function file_message_url() { return new URL(\"./general/FileMessage.svg\", import.meta.url) }\nexport function fill_success_url() { return new URL(\"./general/FillSuccess.svg\", import.meta.url) }\nexport function filter_url() { return new URL(\"./general/Filter.svg\", import.meta.url) }\nexport function flag_url() { return new URL(\"./general/Flag.svg\", import.meta.url) }\nexport function folder_url() { return new URL(\"./general/Folder.svg\", import.meta.url) }\nexport function gas_url() { return new URL(\"./general/Gas.svg\", import.meta.url) }\nexport function gas_station_url() { return new URL(\"./general/GasStation.svg\", import.meta.url) }\nexport function gear_dark_url() { return new URL(\"./general/Gear.dark.svg\", import.meta.url) }\nexport function gear_light_url() { return new URL(\"./general/Gear.light.svg\", import.meta.url) }\nexport function gear_settings_url() { return new URL(\"./general/GearSettings.svg\", import.meta.url) }\nexport function globe_url() { return new URL(\"./general/Globe.svg\", import.meta.url) }\nexport function gray_masks_url() { return new URL(\"./general/GrayMasks.svg\", import.meta.url) }\nexport function hamburger_menu_url() { return new URL(\"./general/HamburgerMenu.svg\", import.meta.url) }\nexport function history_url() { return new URL(\"./general/History.svg\", import.meta.url) }\nexport function hkd_url() { return new URL(\"./general/HKD.svg\", import.meta.url) }\nexport function hong_kong_url() { return new URL(\"./general/HongKong.svg\", import.meta.url) }\nexport function identity_dark_url() { return new URL(\"./general/Identity.dark.svg\", import.meta.url) }\nexport function identity_light_url() { return new URL(\"./general/Identity.light.svg\", import.meta.url) }\nexport function info_dark_url() { return new URL(\"./general/Info.dark.svg\", import.meta.url) }\nexport function info_light_url() { return new URL(\"./general/Info.light.svg\", import.meta.url) }\nexport function interaction_url() { return new URL(\"./general/Interaction.svg\", import.meta.url) }\nexport function interaction_circle_url() { return new URL(\"./general/InteractionCircle.svg\", import.meta.url) }\nexport function japan_url() { return new URL(\"./general/Japan.svg\", import.meta.url) }\nexport function jpy_url() { return new URL(\"./general/JPY.svg\", import.meta.url) }\nexport function key_square_url() { return new URL(\"./general/KeySquare.svg\", import.meta.url) }\nexport function left_arrow_url() { return new URL(\"./general/LeftArrow.svg\", import.meta.url) }\nexport function linear_calendar_dark_url() { return new URL(\"./general/LinearCalendar.dark.svg\", import.meta.url) }\nexport function linear_calendar_light_url() { return new URL(\"./general/LinearCalendar.light.svg\", import.meta.url) }\nexport function link_url() { return new URL(\"./general/Link.svg\", import.meta.url) }\nexport function link_out_url() { return new URL(\"./general/LinkOut.svg\", import.meta.url) }\nexport function loader_url() { return new URL(\"./general/Loader.svg\", import.meta.url) }\nexport function loading_base_dark_url() { return new URL(\"./general/LoadingBase.dark.svg\", import.meta.url) }\nexport function loading_base_light_url() { return new URL(\"./general/LoadingBase.light.svg\", import.meta.url) }\nexport function local_backup_url() { return new URL(\"./general/LocalBackup.png\", import.meta.url) }\nexport function lock_url() { return new URL(\"./general/Lock.svg\", import.meta.url) }\nexport function mask_avatar_dark_url() { return new URL(\"./general/MaskAvatar.dark.svg\", import.meta.url) }\nexport function mask_avatar_light_url() { return new URL(\"./general/MaskAvatar.light.svg\", import.meta.url) }\nexport function mask_in_minds_url() { return new URL(\"./general/MaskInMinds.svg\", import.meta.url) }\nexport function mask_me_url() { return new URL(\"./general/MaskMe.svg\", import.meta.url) }\nexport function masks_url() { return new URL(\"./general/Masks.svg\", import.meta.url) }\nexport function message_url() { return new URL(\"./general/Message.svg\", import.meta.url) }\nexport function mnemonic_url() { return new URL(\"./general/Mnemonic.svg\", import.meta.url) }\nexport function more_url() { return new URL(\"./general/More.svg\", import.meta.url) }\nexport function next_id_avatar_dark_url() { return new URL(\"./general/NextIdAvatar.dark.svg\", import.meta.url) }\nexport function next_id_avatar_light_url() { return new URL(\"./general/NextIdAvatar.light.svg\", import.meta.url) }\nexport function next_id_persona_warning_url() { return new URL(\"./general/NextIdPersonaWarning.svg\", import.meta.url) }\nexport function nft_red_packet_url() { return new URL(\"./general/NFTRedPacket.svg\", import.meta.url) }\nexport function outlined_mask_url() { return new URL(\"./general/OutlinedMask.svg\", import.meta.url) }\nexport function personas_outline_url() { return new URL(\"./general/PersonasOutline.svg\", import.meta.url) }\nexport function pin_dark_url() { return new URL(\"./general/Pin.dark.svg\", import.meta.url) }\nexport function pin_light_url() { return new URL(\"./general/Pin.light.svg\", import.meta.url) }\nexport function play_dark_url() { return new URL(\"./general/Play.dark.svg\", import.meta.url) }\nexport function play_url() { return new URL(\"./general/Play.svg\", import.meta.url) }\nexport function plugin_url() { return new URL(\"./general/Plugin.svg\", import.meta.url) }\nexport function plugins_url() { return new URL(\"./general/Plugins.svg\", import.meta.url) }\nexport function popup_close_url() { return new URL(\"./general/PopupClose.svg\", import.meta.url) }\nexport function popup_link_url() { return new URL(\"./general/PopupLink.svg\", import.meta.url) }\nexport function popup_restore_url() { return new URL(\"./general/PopupRestore.svg\", import.meta.url) }\nexport function popup_trash_url() { return new URL(\"./general/PopupTrash.svg\", import.meta.url) }\nexport function primary_info_url() { return new URL(\"./general/PrimaryInfo.svg\", import.meta.url) }\nexport function provider_url() { return new URL(\"./general/Provider.svg\", import.meta.url) }\nexport function public_key_dark_url() { return new URL(\"./general/PublicKey.dark.svg\", import.meta.url) }\nexport function public_key_light_url() { return new URL(\"./general/PublicKey.light.svg\", import.meta.url) }\nexport function public_key_2_url() { return new URL(\"./general/PublicKey2.svg\", import.meta.url) }\nexport function questions_url() { return new URL(\"./general/Questions.svg\", import.meta.url) }\nexport function radio_button_checked_url() { return new URL(\"./general/RadioButtonChecked.svg\", import.meta.url) }\nexport function radio_button_un_checked_url() { return new URL(\"./general/RadioButtonUnChecked.svg\", import.meta.url) }\nexport function radio_no_dark_url() { return new URL(\"./general/RadioNo.dark.svg\", import.meta.url) }\nexport function radio_no_light_url() { return new URL(\"./general/RadioNo.light.svg\", import.meta.url) }\nexport function receive_colorful_url() { return new URL(\"./general/ReceiveColorful.svg\", import.meta.url) }\nexport function red_packet_url() { return new URL(\"./general/RedPacket.svg\", import.meta.url) }\nexport function refresh_url() { return new URL(\"./general/Refresh.svg\", import.meta.url) }\nexport function restore_url() { return new URL(\"./general/Restore.svg\", import.meta.url) }\nexport function restore_colorful_url() { return new URL(\"./general/RestoreColorful.svg\", import.meta.url) }\nexport function retweet_dark_url() { return new URL(\"./general/Retweet.dark.svg\", import.meta.url) }\nexport function retweet_light_url() { return new URL(\"./general/Retweet.light.svg\", import.meta.url) }\nexport function right_url() { return new URL(\"./general/Right.svg\", import.meta.url) }\nexport function right_arrow_url() { return new URL(\"./general/RightArrow.svg\", import.meta.url) }\nexport function risk_url() { return new URL(\"./general/Risk.svg\", import.meta.url) }\nexport function search_url() { return new URL(\"./general/Search.svg\", import.meta.url) }\nexport function security_risk_url() { return new URL(\"./general/SecurityRisk.svg\", import.meta.url) }\nexport function security_warning_url() { return new URL(\"./general/SecurityWarning.svg\", import.meta.url) }\nexport function selected_dark_url() { return new URL(\"./general/Selected.dark.svg\", import.meta.url) }\nexport function selected_light_url() { return new URL(\"./general/Selected.light.svg\", import.meta.url) }\nexport function self_url() { return new URL(\"./general/Self.svg\", import.meta.url) }\nexport function send_url() { return new URL(\"./general/Send.svg\", import.meta.url) }\nexport function send_colorful_url() { return new URL(\"./general/SendColorful.svg\", import.meta.url) }\nexport function setting_url() { return new URL(\"./general/Setting.svg\", import.meta.url) }\nexport function settings_url() { return new URL(\"./general/Settings.svg\", import.meta.url) }\nexport function settings_2_url() { return new URL(\"./general/Settings2.svg\", import.meta.url) }\nexport function sharp_mask_url() { return new URL(\"./general/SharpMask.svg\", import.meta.url) }\nexport function sign_up_account_url() { return new URL(\"./general/SignUpAccount.png\", import.meta.url) }\nexport function smart_pay_url() { return new URL(\"./general/SmartPay.svg\", import.meta.url) }\nexport function star_url() { return new URL(\"./general/Star.svg\", import.meta.url) }\nexport function success_url() { return new URL(\"./general/Success.svg\", import.meta.url) }\nexport function success_for_snack_bar_url() { return new URL(\"./general/SuccessForSnackBar.svg\", import.meta.url) }\nexport function sun_url() { return new URL(\"./general/Sun.svg\", import.meta.url) }\nexport function swap_url() { return new URL(\"./general/Swap.svg\", import.meta.url) }\nexport function swap_colorful_url() { return new URL(\"./general/SwapColorful.svg\", import.meta.url) }\nexport function switch_logo_dark_url() { return new URL(\"./general/SwitchLogo.dark.svg\", import.meta.url) }\nexport function switch_logo_light_url() { return new URL(\"./general/SwitchLogo.light.svg\", import.meta.url) }\nexport function telegram_round_gray_url() { return new URL(\"./general/TelegramRoundGray.svg\", import.meta.url) }\nexport function tick_url() { return new URL(\"./general/Tick.svg\", import.meta.url) }\nexport function time_url() { return new URL(\"./general/Time.svg\", import.meta.url) }\nexport function tips_url() { return new URL(\"./general/Tips.svg\", import.meta.url) }\nexport function transaction_failed_url() { return new URL(\"./general/TransactionFailed.svg\", import.meta.url) }\nexport function trash_url() { return new URL(\"./general/Trash.svg\", import.meta.url) }\nexport function trash_line_url() { return new URL(\"./general/TrashLine.svg\", import.meta.url) }\nexport function tutorial_url() { return new URL(\"./general/Tutorial.svg\", import.meta.url) }\nexport function twitter_url() { return new URL(\"./general/Twitter.svg\", import.meta.url) }\nexport function twitter_stroke_url() { return new URL(\"./general/TwitterStroke.svg\", import.meta.url) }\nexport function tx_in_url() { return new URL(\"./general/TxIn.svg\", import.meta.url) }\nexport function tx_out_url() { return new URL(\"./general/TxOut.svg\", import.meta.url) }\nexport function undo_url() { return new URL(\"./general/Undo.svg\", import.meta.url) }\nexport function upload_url() { return new URL(\"./general/Upload.svg\", import.meta.url) }\nexport function usd_url() { return new URL(\"./general/USD.svg\", import.meta.url) }\nexport function user_url() { return new URL(\"./general/User.svg\", import.meta.url) }\nexport function verification_url() { return new URL(\"./general/Verification.svg\", import.meta.url) }\nexport function wallet_url() { return new URL(\"./general/Wallet.svg\", import.meta.url) }\nexport function wallet_nav_url() { return new URL(\"./general/WalletNav.svg\", import.meta.url) }\nexport function wallet_setting_url() { return new URL(\"./general/WalletSetting.svg\", import.meta.url) }\nexport function warning_url() { return new URL(\"./general/Warning.svg\", import.meta.url) }\nexport function warning_triangle_url() { return new URL(\"./general/WarningTriangle.svg\", import.meta.url) }\nexport function web_url() { return new URL(\"./general/Web.svg\", import.meta.url) }\nexport function web_black_dark_url() { return new URL(\"./general/WebBlack.dark.svg\", import.meta.url) }\nexport function web_black_light_url() { return new URL(\"./general/WebBlack.light.svg\", import.meta.url) }\nexport function menu_personas_url() { return new URL(\"./menus/MenuPersonas.png\", import.meta.url) }\nexport function menu_personas_active_url() { return new URL(\"./menus/MenuPersonasActive.png\", import.meta.url) }\nexport function menu_settings_url() { return new URL(\"./menus/MenuSettings.png\", import.meta.url) }\nexport function menu_settings_active_url() { return new URL(\"./menus/MenuSettingsActive.png\", import.meta.url) }\nexport function menu_wallets_url() { return new URL(\"./menus/MenuWallets.png\", import.meta.url) }\nexport function menu_wallets_active_url() { return new URL(\"./menus/MenuWalletsActive.png\", import.meta.url) }\nexport function approval_url() { return new URL(\"./plugins/Approval.svg\", import.meta.url) }\nexport function art_blocks_url() { return new URL(\"./plugins/ArtBlocks.png\", import.meta.url) }\nexport function avatar_url() { return new URL(\"./plugins/Avatar.svg\", import.meta.url) }\nexport function bit_url() { return new URL(\"./plugins/Bit.svg\", import.meta.url) }\nexport function calendar_url() { return new URL(\"./plugins/Calendar.svg\", import.meta.url) }\nexport function collectibles_url() { return new URL(\"./plugins/Collectibles.svg\", import.meta.url) }\nexport function cross_bridge_url() { return new URL(\"./plugins/CrossBridge.png\", import.meta.url) }\nexport function cyber_connect_dark_url() { return new URL(\"./plugins/CyberConnect.dark.svg\", import.meta.url) }\nexport function cyber_connect_light_url() { return new URL(\"./plugins/CyberConnect.light.svg\", import.meta.url) }\nexport function decentralized_search_url() { return new URL(\"./plugins/DecentralizedSearch.svg\", import.meta.url) }\nexport function ens_url() { return new URL(\"./plugins/ENS.png\", import.meta.url) }\nexport function ens_cover_url() { return new URL(\"./plugins/ENSCover.svg\", import.meta.url) }\nexport function file_service_url() { return new URL(\"./plugins/FileService.svg\", import.meta.url) }\nexport function find_truman_url() { return new URL(\"./plugins/FindTruman.png\", import.meta.url) }\nexport function gitcoin_dark_url() { return new URL(\"./plugins/Gitcoin.dark.svg\", import.meta.url) }\nexport function gitcoin_light_url() { return new URL(\"./plugins/Gitcoin.light.svg\", import.meta.url) }\nexport function good_ghosting_dark_url() { return new URL(\"./plugins/GoodGhosting.dark.svg\", import.meta.url) }\nexport function good_ghosting_light_url() { return new URL(\"./plugins/GoodGhosting.light.svg\", import.meta.url) }\nexport function markets_url() { return new URL(\"./plugins/Markets.png\", import.meta.url) }\nexport function markets_claim_url() { return new URL(\"./plugins/MarketsClaim.svg\", import.meta.url) }\nexport function mask_box_url() { return new URL(\"./plugins/MaskBox.svg\", import.meta.url) }\nexport function nft_avatar_url() { return new URL(\"./plugins/NFTAvatar.svg\", import.meta.url) }\nexport function pool_together_url() { return new URL(\"./plugins/PoolTogether.png\", import.meta.url) }\nexport function savings_url() { return new URL(\"./plugins/Savings.svg\", import.meta.url) }\nexport function scam_sniffer_url() { return new URL(\"./plugins/ScamSniffer.svg\", import.meta.url) }\nexport function security_checker_url() { return new URL(\"./plugins/SecurityChecker.svg\", import.meta.url) }\nexport function setting_info_dark_url() { return new URL(\"./plugins/SettingInfo.dark.svg\", import.meta.url) }\nexport function setting_info_light_url() { return new URL(\"./plugins/SettingInfo.light.svg\", import.meta.url) }\nexport function shared_url() { return new URL(\"./plugins/shared.svg\", import.meta.url) }\nexport function snapshot_url() { return new URL(\"./plugins/Snapshot.svg\", import.meta.url) }\nexport function space_id_url() { return new URL(\"./plugins/SpaceId.svg\", import.meta.url) }\nexport function tip_coin_url() { return new URL(\"./plugins/TipCoin.svg\", import.meta.url) }\nexport function transak_url() { return new URL(\"./plugins/Transak.png\", import.meta.url) }\nexport function unstoppable_url() { return new URL(\"./plugins/Unstoppable.svg\", import.meta.url) }\nexport function valuables_dark_url() { return new URL(\"./plugins/Valuables.dark.svg\", import.meta.url) }\nexport function valuables_light_url() { return new URL(\"./plugins/Valuables.light.svg\", import.meta.url) }\nexport function web_3_profile_url() { return new URL(\"./plugins/Web3Profile.svg\", import.meta.url) }\nexport function web_3_profile_card_url() { return new URL(\"./plugins/Web3ProfileCard.svg\", import.meta.url) }\nexport function achievement_burn_url() { return new URL(\"./rss3/AchievementBurn.svg\", import.meta.url) }\nexport function achievement_receive_url() { return new URL(\"./rss3/AchievementReceive.svg\", import.meta.url) }\nexport function approval_approve_url() { return new URL(\"./rss3/ApprovalApprove.svg\", import.meta.url) }\nexport function collectible_approve_url() { return new URL(\"./rss3/CollectibleApprove.svg\", import.meta.url) }\nexport function collectible_burn_url() { return new URL(\"./rss3/CollectibleBurn.svg\", import.meta.url) }\nexport function collectible_in_url() { return new URL(\"./rss3/CollectibleIn.svg\", import.meta.url) }\nexport function collectible_mint_url() { return new URL(\"./rss3/CollectibleMint.svg\", import.meta.url) }\nexport function collectible_out_url() { return new URL(\"./rss3/CollectibleOut.svg\", import.meta.url) }\nexport function donation_donate_url() { return new URL(\"./rss3/DonationDonate.svg\", import.meta.url) }\nexport function donation_launch_url() { return new URL(\"./rss3/DonationLaunch.svg\", import.meta.url) }\nexport function follow_url() { return new URL(\"./rss3/Follow.svg\", import.meta.url) }\nexport function governance_propose_url() { return new URL(\"./rss3/GovernancePropose.svg\", import.meta.url) }\nexport function governance_vote_url() { return new URL(\"./rss3/GovernanceVote.svg\", import.meta.url) }\nexport function note_burn_url() { return new URL(\"./rss3/NoteBurn.svg\", import.meta.url) }\nexport function note_create_url() { return new URL(\"./rss3/NoteCreate.svg\", import.meta.url) }\nexport function note_edit_url() { return new URL(\"./rss3/NoteEdit.svg\", import.meta.url) }\nexport function note_link_url() { return new URL(\"./rss3/NoteLink.svg\", import.meta.url) }\nexport function note_mint_url() { return new URL(\"./rss3/NoteMint.svg\", import.meta.url) }\nexport function profile_burn_url() { return new URL(\"./rss3/ProfileBurn.svg\", import.meta.url) }\nexport function profile_create_url() { return new URL(\"./rss3/ProfileCreate.svg\", import.meta.url) }\nexport function profile_link_url() { return new URL(\"./rss3/ProfileLink.svg\", import.meta.url) }\nexport function profile_proxy_url() { return new URL(\"./rss3/ProfileProxy.svg\", import.meta.url) }\nexport function profile_update_url() { return new URL(\"./rss3/ProfileUpdate.svg\", import.meta.url) }\nexport function rss_3_link_url() { return new URL(\"./rss3/RSS3Link.svg\", import.meta.url) }\nexport function token_bridge_url() { return new URL(\"./rss3/TokenBridge.svg\", import.meta.url) }\nexport function token_burn_url() { return new URL(\"./rss3/TokenBurn.svg\", import.meta.url) }\nexport function token_in_url() { return new URL(\"./rss3/TokenIn.svg\", import.meta.url) }\nexport function token_liquidity_url() { return new URL(\"./rss3/TokenLiquidity.svg\", import.meta.url) }\nexport function token_mint_url() { return new URL(\"./rss3/TokenMint.svg\", import.meta.url) }\nexport function token_out_url() { return new URL(\"./rss3/TokenOut.svg\", import.meta.url) }\nexport function token_stake_url() { return new URL(\"./rss3/TokenStake.svg\", import.meta.url) }\nexport function token_swap_url() { return new URL(\"./rss3/TokenSwap.svg\", import.meta.url) }\nexport function token_unstake_url() { return new URL(\"./rss3/TokenUnstake.svg\", import.meta.url) }\nexport function unfollow_url() { return new URL(\"./rss3/Unfollow.svg\", import.meta.url) }\nexport function unknown_burn_url() { return new URL(\"./rss3/UnknownBurn.svg\", import.meta.url) }\nexport function unknown_cancel_url() { return new URL(\"./rss3/UnknownCancel.svg\", import.meta.url) }\nexport function unknown_in_url() { return new URL(\"./rss3/UnknownIn.svg\", import.meta.url) }\nexport function unknown_out_url() { return new URL(\"./rss3/UnknownOut.svg\", import.meta.url) }\nexport function cn_url() { return new URL(\"./settings/CN.svg\", import.meta.url) }\nexport function email_url() { return new URL(\"./settings/Email.svg\", import.meta.url) }\nexport function jp_url() { return new URL(\"./settings/JP.svg\", import.meta.url) }\nexport function kr_url() { return new URL(\"./settings/KR.svg\", import.meta.url) }\nexport function settings_appearance_dark_url() { return new URL(\"./settings/SettingsAppearance.dark.svg\", import.meta.url) }\nexport function settings_appearance_light_url() { return new URL(\"./settings/SettingsAppearance.light.svg\", import.meta.url) }\nexport function settings_backup_dark_url() { return new URL(\"./settings/SettingsBackup.dark.svg\", import.meta.url) }\nexport function settings_backup_light_url() { return new URL(\"./settings/SettingsBackup.light.svg\", import.meta.url) }\nexport function settings_email_dark_url() { return new URL(\"./settings/SettingsEmail.dark.svg\", import.meta.url) }\nexport function settings_email_light_url() { return new URL(\"./settings/SettingsEmail.light.svg\", import.meta.url) }\nexport function settings_language_dark_url() { return new URL(\"./settings/SettingsLanguage.dark.svg\", import.meta.url) }\nexport function settings_language_light_url() { return new URL(\"./settings/SettingsLanguage.light.svg\", import.meta.url) }\nexport function settings_password_dark_url() { return new URL(\"./settings/SettingsPassword.dark.svg\", import.meta.url) }\nexport function settings_password_light_url() { return new URL(\"./settings/SettingsPassword.light.svg\", import.meta.url) }\nexport function settings_phone_dark_url() { return new URL(\"./settings/SettingsPhone.dark.svg\", import.meta.url) }\nexport function settings_phone_light_url() { return new URL(\"./settings/SettingsPhone.light.svg\", import.meta.url) }\nexport function settings_restore_dark_url() { return new URL(\"./settings/SettingsRestore.dark.svg\", import.meta.url) }\nexport function settings_restore_light_url() { return new URL(\"./settings/SettingsRestore.light.svg\", import.meta.url) }\nexport function settings_sync_dark_url() { return new URL(\"./settings/SettingsSync.dark.svg\", import.meta.url) }\nexport function settings_sync_light_url() { return new URL(\"./settings/SettingsSync.light.svg\", import.meta.url) }\nexport function uk_url() { return new URL(\"./settings/UK.svg\", import.meta.url) }","import * as React from 'react'\n\nexport const MaskIconPaletteContext = React.createContext('dark')\nMaskIconPaletteContext.displayName = 'MaskIconPaletteContext'\n","import { useTheme, Box } from '@mui/material'\nimport * as React from 'react'\nimport { MaskIconPaletteContext } from './MaskIconPaletteContext.js'\n\n/**\n * @typedef {[currentVariant: null | string[], url: string, jsx: object | null, supportColor?: boolean]} RawIcon\n */\n\n/**\n * @param {string} name\n * @param {Array<import('./internal.js').__RawIcon__>} variants\n * @param {[number, number]} intrinsicSize\n * @returns {React.ComponentType<import('./internal').GeneratedIconProps>}\n */\nexport function __createIcon(name, variants, intrinsicSize = [24, 24]) {\n    function Icon(/** @type {import('./internal').GeneratedIconProps} */ props, ref) {\n        /* eslint-disable */\n        let { size = 24, variant, color, sx, height, width, ...rest } = props\n\n        const hasClickHandler = rest.onClick\n\n        const defaultPalette = useDefaultPalette()\n        const selected = selectVariant(variants, variant || defaultPalette)\n        const url = React.useMemo(selected.u, [selected])\n        const jsx = React.useMemo(selected.j || undefine_f, [selected])\n        const supportColor = selected.s\n\n        const iconStyle = React.useMemo(() => {\n            const bg = supportColor\n                ? null\n                : {\n                      backgroundImage: `url(${url})`,\n                      backgroundSize: 'contain',\n                  }\n            const base = {\n                display: 'inline-block',\n                backgroundRepeat: 'no-repeat',\n                backgroundPosition: 'center',\n                flexShrink: 0,\n                aspectRatio: String(intrinsicSize[0] / intrinsicSize[1]),\n                '--icon-color': color, // for dynamic color with var()\n                color: color ? `var(--icon-color, var(--default-color))` : undefined, // for dynamic color with `currentColor`\n                height: height ?? size,\n                width: width ?? size,\n            }\n            if (hasClickHandler) base.cursor = 'pointer'\n\n            return {\n                ...base,\n                ...bg,\n            }\n        }, [selected, height, width, size, hasClickHandler, color])\n\n        const iconProps = {\n            'aria-hidden': true,\n            ...rest,\n            ref,\n            'data-icon': name,\n            sx: { ...iconStyle, ...sx },\n            // To align icon center.\n            fontSize: 0,\n        }\n        if (hasClickHandler) {\n            iconProps['aria-hidden'] = false\n            iconProps['role'] = 'button'\n        }\n        if (supportColor && jsx) {\n            iconProps.component = 'span'\n            return React.createElement(Box, iconProps, jsx)\n        }\n        iconProps.component = 'span'\n        return React.createElement(Box, iconProps)\n    }\n    Icon.displayName = name\n    return React.memo(React.forwardRef(Icon))\n}\n\nfunction useDefaultPalette() {\n    const palette = React.useContext(MaskIconPaletteContext)\n\n    const theme = useTheme()\n    const isDarkMode = theme.palette.mode === 'dark'\n    if (isDarkMode && palette === 'dim') return 'dim'\n    return theme.palette.mode\n}\n\n/**\n * @param {Array<import('./internal.js').__RawIcon__>} variants\n * @param {string} palette\n */\nfunction selectVariant(variants, palette) {\n    if (variants.length === 1) return variants[0]\n\n    const light = variants.find((x) => !x.c || x.c.includes('light'))\n    // !x.c means light\n    const dark = variants.find((x) => x.c?.includes('dark'))\n    const dim = variants.find((x) => x.c?.includes('dim'))\n\n    if (palette === 'light') return light || dark || dim || variants[0]\n    if (palette === 'dark') return dark || dim || light || variants[0]\n    if (palette === 'dim') return dim || dark || light || variants[0]\n    return variants[0]\n}\n\nfunction undefine_f() {\n    return void 0\n}\n"],"names":["None","Identifier","toString","toText","from","input","Symbol","hasInstance","x","decodeArrayBuffer","encodeArrayBuffer","Convert","Some","Result","Err","isEC_JsonWebKey","decompressK256Key","compressK256Key","instance","WeakSet","k256Cache","Object","create","keyAsHex","ECKeyIdentifier","String","startsWith","fromHexPublicKeyK256","hex","slice","publicKey","Uint8Array","FromHex","fromJsonWebKey","key","Error","crv","result","wrapAsync","map","fromCryptoKey","extractable","algorithm","namedCurve","jwk","crypto","subtle","exportKey","isErr","value","toJsonWebKey","usage","rawPublicKey","key_ops","toCryptoKey","importKey","name","constructor","curve","replaceAll","freeze","add","normalized","publicKeyAsHex","ToHex","has","prototype","toStringTag","PersonaIdentifier","banSlash","id","PostIVIdentifier","network","postIV","networkCache","toIV","ProfileIdentifier","WeakMap","PostIdentifier","identifier","postID","TypeError","set","idCache","get","postId","unknownText","of","userID","includes","toLowerCase","userId","parse","length","split","rest","inner","join","isNone","compressedPoint","source","Environment","getEnvironment","defer","getBuildInfo","hasBrowserAPI","HasBrowserAPI","b","globalThis","browser","manifestVersion","runtime","getManifest","version","undefined","response","fetch","getURL","env","json","assign","VERSION","channel","_promise","resolve","buildInfoReadyPromise","setupBuildInfo","setupBuildInfoManually","_env","isEnvironment","isTest","process","NODE_ENV","isDev","isProd","isInsider","isBeta","flags","mask_sdk_enabled","support_testnet_switch","shadowRootInit","mode","delegatesFocus","using_emoji_flag","post_actions_enabled","sandboxedPluginRuntime","twitter_token","sentry_earliest_version","sentry_sample_rate","sentry_enabled","sentry_event_enabled","sentry_exception_enabled","sentry_fetch_transaction_enabled","sentry_async_transaction_enabled","mixpanel_earliest_version","mixpanel_sample_rate","mixpanel_enabled","mixpanel_event_enabled","mixpanel_exception_enabled","mixpanel_project_token","wc_relay_url","wc_project_id","wc_mode","wc_enabled","console","debug","Flags","defaults","accessor","Proxy","target","receiver","Reflect","urlcat","RemoteFlags","remoteFlagsURL","initials","KEY","lastFetchResult","lastStorageResult","localStorage","getItem","JSON","error","sync","options","fetchTTL","storageTTL","isLastFetchResultFresh","Date","now","lastFetchTimestamp","isLastStorageResultFresh","lastStorageTimestamp","timestamp","removeItem","log","setItem","stringify","fetchAndActive","BaseProvider","pathname","events","isReadyInternal","isConnectedInternal","Map","startup","untilAvailable","isReady","on","getProperty","isConnected","createPromise","sendEvent","BaseInjectedProvider","connect","disconnect","validator","Promise","request","data","event","callback","Set","delete","off","emit","f","apply","BrowserProvider","CloverProvider","isClover","Coin98ProviderType","EVM","Solana","Near","Coin98Provider","type","pathnameMap","method","CoinbaseProvider","Number","MetaMaskProvider","isMetaMask","OKXProvider","OperaProvider","isOpera","PhantomProvider","SolflareProvider","CustomEventId","encodeEvent","warned","params","location","protocol","warn","document","dispatchEvent","CustomEvent","cancelable","bubbles","detail","promisePool","reject","resolvePromise","pair","rejectPromise","isArray","Array","setPrototypeOf","args","formatter","$type","decodeEvent","reviver","isEventItemBeforeSerialization","QueryClient","queryClient","defaultOptions","queries","staleTime","cacheTime","POSITIVE_INFINITY","combineAbortSignal","createInMemoryKVStorageBackend","createIndexedDB_KVStorageBackend","createProxyKVStorageBackend","removed","for","createKVStorageHost","backend","message","signal","AbortController","defaultValues","createScope","alwaysThrowHandler","parentScope","scope","currentScope","storage_inner","__proto__","_","prop","storage","defineProperty","deleteProperty","getPrototypeOf","v","getOwnPropertyDescriptor","p","createState","enumerable","beforeAutoSync","then","entries","initialized","createSubScope","subScope","scopeSignal","aggregatedSignal","defaultValue","propKey","usingDefaultValue","initializedPromise","getValue","val","isSome","unwrapOr","state","listeners","subscribe","subscription","getCurrentValue","setter","isEqual","eventKey","newValue","setValue","aborted","a","promise","replaceBackend","WebExtensionMessage","CrossIsolationMessages","domain","__workaround__replaceImplementationOfCrossIsolationMessage__","msg","serializer","MaskMessages","m","serialization","__workaround__replaceImplementationOfMaskMessage__","NextIDAction","Create","Delete","NextIDPlatform","NextID","Twitter","Keybase","Ethereum","GitHub","ENS","RSS3","LENS","REDDIT","SYBIL","EthLeaderboard","SpaceId","Farcaster","Bit","Unstoppable","CyberConnect","createIndicator","indicator","index","createNextIndicator","createPageable","nextIndicator","pageableToIterator","getPageable","maxSize","i","pageable","EnhanceableSite","Localhost","App","Facebook","Minds","Instagram","OpenSea","Mirror","ExtensionSite","Dashboard","Popup","SiteHost","isChromium","navigator","userAgent","Sniffings","is_dashboard_page","href","is_popup_page","is_twitter_page","is_facebook_page","is_opera","is_edge","is_firefox","is_chromium","is_safari","ValueRef","TelemetryID","kit","lodash","constants","defaultComparer","_value","newVal","oldVal","fn","watcher","err","addListener","ValueRefWithReady","readyPromise","nowReady","ready","ValueRefJSON","default","asJSON","EMPTY_LIST","EMPTY_OBJECT","asyncIteratorToArray","iterable","arr","push","flattenAsyncIterator","iterables","createLookupTableResolver","fallback","resolveFallback","Opaque","DebugOnlyValue","setDebugObject","getCookie","field","cookie","find","mixin","mixinTargets","some","container","mixinTarget","mixinItem","k","configurable","traps","parseURL","url","URL","canParse","unresolved","unresolvedFunction","addI18NBundle","namespace","langs","addResourceBundle","addEventListener","e","ns","lang","keys","removeEmptyString","createI18NBundle","next","TypesonPromise","is","Response","bodyBlob","blob","body","init","status","statusText","headers","deserializer","responseRegedit","Request","credentials","cache","redirect","referrer","integrity","requestRegedit","Typeson","Ok","BN","EncryptError","DecryptError","builtin","file","filelist","imagebitmap","specialNumbers","pendingRegister","typeson","setup","BigNumber","cyclic","register","addClass","registerSerializableClass","cause","recoverable","stack","o","expect","encapsulate","deserialization","to","revive","c","writable","cloned","getOwnPropertySymbols","forEach","SignType","Message","TypedData","Transaction","Days","MAX","ONE_DAY","ONE_WEEK","ONE_MONTH","THREE_MONTHS","ONE_YEAR","NameServiceID","ARBID","Lens","SpaceID","Flowns","Bonfida","SOL","NetworkPluginID","PLUGIN_EVM","PLUGIN_FLOW","PLUGIN_SOLANA","PluginID","Flow","Approval","Avatar","ArtBlocks","Collectible","Handle","Gitcoin","MaskBox","Trader","Tips","Transak","Valuables","Debugger","Template","Testplugin4","RedPacket","Pets","Snapshot","Savings","Wallet","FileService","Beholder","GoPlusSecurity","CrossChainBridge","Web3Profile","Web3ProfileCard","ScamSniffer","ScamWarning","SmartPay","Claim","WalletService","SwitchLogo","Calendar","SocialAddressType","Address","SPACE_ID","NEXT_ID","Firefly","Leaderboard","Sybil","TwitterBlue","Mask","Crossbell","LockStatus","INIT","UNLOCK","LOCKED","ImportSource","WalletRPC","LocalGenerated","UserProvided","ChainId","attemptUntil","SID_Domain","ARBID_API","lookup","Arbitrum","reverse","address","getAirdropClaimersConstants","ContractReadonlyAPI","fetchJSON","AirdropAPI","Contract","getActivity","chainId","CLAIMERS","CONTRACT_ADDRESS","airdropContract","getAirdropV2Contract","eventIndex","methods","call","currentEventIndex","claimEvents","isClaimed","claimers","startTime","endTime","token","getPoolInfo","ChainId_EVM","ChainId_Flow","Alchemy_EVM_NetworkMap","chains","Mainnet","baseURL","contractMetadataURL","tokenOwnerURL","Matic","Alchemy_FLOW_NetworkMap","FILTER_WORDS","hexToNumberString","isHex","formatAlchemyTokenId","tokenId","formatAlchemyTokenAddress","replace","TOKEN_APPROVAL_TOPIC","NFT_APPROVAL_TOPIC","produce","enableMapSet","ApprovalListState","_token_state","_nft_state","tokenState","nftState","updateTokenState","account_","spender_","address_","fromBlock","transactionBlockNumber","amount","account","spender","draft","addressMap","spenderList","spenderListMap","updateNFT_State","approved","approvalListState","maxBy","mapKeys","isZeroAddress","abiCoder","isSameAddress","isGreaterThan","ConnectionReadonlyAPI","getAllMaskDappContractInfo","ApprovalAPI","Web3","getFungibleTokenSpenders","toBlock","records","tokenSpenderRecords","parseSpenderRecords","maskDappContractInfoList","spenderAddress","tokens","tokenAddress","latestBlockTx","blockNumber","latestTx","filter","transactionIndex","flatMap","maskDappContractInfo","y","tokenInfo","symbol","logo","rawAmount","toNumber","isMaskDapp","Boolean","sort","getNonFungibleTokenSpenders","nftSpenderRecords","nfts","parseInt","contract","topic","getBlockNumber","logs","getWeb3","eth","getPastLogs","topics","encodeParameter","parseLogs","reduce","acc","cur","decodeParameter","first","formatEthereumAddress","isValidAddress","isValidChainId","isValidDomain","fetchFromChainbase","suffixMap","BSC","ChainbaseDomainAPI","getAddress","chain_id","getName","suffix","ChainbaseDomain","CHAINBASE_API_URL","TRANSACTIONS_BY_CONTRACT_METHOD_ENDPOINT","MAX_SIZE_PER_PAGE","getCoinGeckoConstants","isNativeTokenAddress","getTokenPrice","getTokenPriceByCoinId","CoinGeckoPriceAPI_EVM","getFungibleTokenPrice","PLATFORM_ID","COIN_ID","currencyType","CoinGeckoPriceEVM","CoinGeckoPriceAPI_Solana","CoinGeckoPriceSolana","ChainIdSolana","resolveCoinGeckoChainId","ethereum","BSCT","solana","astar","Astar","aurora","Aurora","avalanche","Avalanche","boba","Boba","conflux","Conflux","fantom","Fantom","fuse","Fuse","moonbeam","Moonbeam","Optimism","xdai","xDai","compact","uniq","uniqBy","TokenType","SourceType","getTokenConstant","isNativeTokenSymbol","COINGECKO_CHAIN_ID_LIST","COINGECKO_URL_BASE","getCommunityLink","isMirroredKeyword","COIN_RECOMMENDATION_SIZE","VALID_TOP_RANK","getAllCoins","getCoinInfo","getPriceStats","getStats","getThumbCoins","FuseCoin","ChainResolver","CoinGeckoTrendingAPI","coins","createCoins","size","getSupportedPlatform","chain_identifier","coin","Fungible","getCoinsByKeyword","keyword","thumbCoins","market_cap_rank","search","item","getCoinInfoByAddress","chainIds","requestPath","getCoinTrending","currency","info","platform_url","twitter_url","links","twitter_screen_name","facebook_url","facebook_username","telegram_url","telegram_channel_identifier","platforms","avaxContracts","pluginID","lastUpdated","last_updated","dataProvider","CoinGecko","contracts","toUpperCase","is_mirrored","description","en","image_url","image","small","tags","categories","announcement_urls","announcement_url","community_urls","subreddit_url","chat_url","official_forum_url","source_code_urls","values","repos_url","home_urls","homepage","blockchain_urls","blockchain_site","contract_address","market","market_data","fromEntries","tickers","logo_url","trade_url","market_name","base_name","base","target_name","price","converted_last","usd","volume","converted_volume","score","trust_score","updated","getCoinPriceStats","coinId","days","prices","getCoinMarketInfo","market_cap","CoinGeckoTrending","CurrencyType","fetchCachedJSON","fetchFromCoinGecko","developer_data","community_data","query","currencyId","vs_currency","platform_id","USD","getTokenPrices","currencies","contractAddresses","contract_addresses","vs_currencies","coin_id","ids","Coingecko","Base","Celo","Pulse","Klaytn","Moonriver","Harmony","Cronos","BitTorrent","NonEmptyChainIds","assert","DSEARCH_BASE_URL","Duration","fetchFromDSearch","squashExpiration","cacheDuration","THIRTY_MINUTES","CoinGeckoSearchAPI","CoinMarketCapSearchAPI","NFTScanSearchAPI","collections","collectionsFromSpecialList","allSettled","NFTScanCollectionSearchAPI","SearchResultType","getHandlers","rules","FungibleToken","alias","isPin","fullSearch","all","__alias","weight","isCaseSensitive","ignoreLocation","shouldSort","threshold","minMatchCharLength","refIndex","__symbol","__name","types","NonFungibleCollection","NonFungibleToken","CollectionListByTwitterHandler","collection","socialLinks","twitter","endsWith","uniqWith","Telemetry","EventType","EventID","ChainIdEVM","isValidAddressEVM","isValidDomainEVM","isZeroAddressEVM","isValidAddressFlow","isValidDomainFlow","isZeroAddressFlow","isValidAddressSolana","isValidDomainSolana","isZeroAddressSolana","NextIDProof","PlatformToChainIdMap","handleRe","RegExp","isValidHandle","handle","test","DSearchAPI","NFTScanClient","NFTScanCollectionClient","CoinGeckoClient","CoinMarketCapClient","parseKeyword","words","word","searchDomain","Domain","searchRSS3Handle","profiles","getProfiles","profile","searchRSS3NameService","getNameService","searchAddress","EOA","bindingProofs","queryProfilesByAddress","searchTokens","specificTokens","normalTokens","searchTokenByAddress","specificTokensFiltered","rank","normalTokensFiltered","coinInfo","searchTokenByHandler","lowerName","t","rule","filtered","items","CoinMarketCap","searchTokenByName","specificResult_","normalResult","specificResult","r","concat","searchCollectionListByTwitterHandler","twitterHandler","resultTwitterHandler","keyword_","at","match","captureEvent","Access","EntryTimelineDsearchEns","EntryTimelineDsearchName","tokenList","EntryTimelineDsearchAddress","addressList","last","getDeBankConstants","formatTransactions","resolveDeBankAssetIdReversed","CHIAN_ID_TO_DEBANK_CHAIN_MAP","DEBANK_OPEN_API","fetchSquashedJSON","Web3StateRef","PRESET_CHAIN_IDS","DeBankHistoryAPI","getChainIds","networks","Network","RUNTIME_CHAIN_IDS","getTransactions","CHAIN_ID","page_count","start_time","transactions","timeStamp","history_list","time_at","getAllTransactions","chain_ids","DeBankHistory","DEBANK_CHAIN_TO_CHAIN_ID_MAP","arb","avax","brise","Brise","bsc","btt","canto","Canto","celo","cfx","cro","dfk","DFK","doge","Doge","evmos","Evmos","ftm","heco","HuobiEco","hmy","iotx","IoTex","kava","Kava","kcc","Kcc","klay","mada","Milkomeda","matic","metis","Metis","mobm","movr","nova","Arbitrum_Nova","okt","OKXChain","op","palm","Palm","pls","rsk","RSK","sbch","SmartBitcoinCash","sdn","Shiden","sgb","SongbirdCanary","step","Step","swm","tlos","Telos","wan","Wanchain","scrl","Scroll","isNil","memoize","SchemaType","ZERO_ADDRESS","multipliedBy","rightShift","toFixed","TransactionStatusType","DebankTransactionDirection","formatAssets","resolveNativeAddress","nativeCurrency","chain","schema","Native","ERC20","decimals","balance","logoURL","toTxAsset","token_id","token_dict","direction","is_erc721","ERC721","ERC1155","fallbackName","is_erc1155","NonFungible","optimized_symbol","contract_id","logoURI","normalizeTxStatus","FAILED","SUCCEED","cate_dict","ownerAddress","transaction","txType","tx","cate_id","sends","to_addr","isIn","from_addr","other_addr","SEND","RECEIVE","cateType","cateName","assets","asset","receives","fee","eth_gas_fee","usd_gas_fee","isScam","is_scam","ENS_ROOT_URL","R2D2DomainAPI","reverseRecord","R2D2Domain","API_URL","TheGraphDomainAPI","domains","resolvedAddress","TheGraphDomain","ENS_API","BASE_URL","TWITTER_HANDLER_VERIFY_URL","getLensByTwitterId","twitterHandle","isVerified","code","verifyTwitterHandleByAddress","wallet","FuseLib","GO_PLUS_LABS_ROOT_URL","INFINITE_VALUE","LENS_ROOT_API","getProfileByHandle","variables","queryDefaultProfileByAddress","defaultProfile","queryFollowStatus","profileId","doesFollow","followerAddress","follows","queryChallenge","challenge","text","authenticate","signature","refresh","refreshToken","createFollowTypedData","followModule","profileFollowModule","feeFollowModule","createUnfollowTypedData","followWithProxyAction","proxyAction","queryProxyStatus","proxyActionId","proxyActionStatus","broadcast","fetcher","queryApprovedModuleAllowanceAmount","approvedModuleAllowanceAmount","queryTransactionPublicationId","txId","dataAvailabilityTransaction","publicationId","LOOKSRARE_API_URL","LOOKSRARE_PAGE_SIZE","isSupportedChainId","fromUnixTime","OrderSide","createERC20Token","formatWeiToEther","getPaymentToken","resolveActivityType","fetchFromLooksRare","Rinkeby","createAssetLink","createNonFungibleAssetFromToken","shared","collectionAddress","ownerId","owner","metadata","imageURL","imageURI","mediaURL","slug","verified","link","creator","traits","attributes","displayType","LooksRare","createNonFungibleContractFromCollection","createNonFungibleEventFromEvent","assetPermalink","assetSymbol","quantity","hash","createdAt","createNonFungibleTokenOrderFromOrder","order","paymentToken","amounts","side","quoteType","Sell","Buy","itemIds","maker","signer","getTime","expiredAt","priceInToken","LooksRareAPI","getAsset","getAssets","getContract","getEvents","pagination","cursor","stats","count24h","volume24h","floorPrice","getOrders","itemId","orders","getOffers","getListings","MAGIC_EDEN_API_URL","ActivityType","resolveIPFS_URL","getAssetFullName","fetchFromMagicEden","path","Accept","createNFTToken","mintAddress","animationUrl","iconURL","createNFTCollection","MagicEden","MagicEdenAPI","getToken","tokenMint","mint_address","auction","nft","creators","trait_type","results","collectionName","title","img","collectionTitle","activities","offset","limit","activity","collectionSymbol","blockTime","seller","buyerReferral","Transfer","offers","offer","pdaAddress","getCollectionsByOwner","CHAIN_DESCRIPTORS","evm_chain","NETWORK_DESCRIPTORS","evm_network","PROVIDER_DESCRIPTORS","evm_providers","flow_chain","flow_network","flow_providers","solana_chain","solana_network","solana_providers","evm","provider","flow","decodeOutputString","abis","output","methodName","outputs","decodeParameters","CONSERVATIVE_BLOCK_GAS_LIMIT","DEFAULT_GAS_REQUIRED","DEFAULT_GAS_LIMIT","ContractTransaction","getEthereumConstant","MulticallAPI","createContract","getMulticallContract","toCallKey","getCallResult","blockNumber_","setCallResult","chunkArray","gasLimit","chunks","currentChunk","currentChunkCumulativeGas","gasRequired","names","calls","overrides","unresolvedCalls","call_","chunk","fill","multicall","callTransaction","jsonInterface","returnData","succeed","gasUsed","createSingleContractMultipleData","callDatas","encodeABI","createMultipleContractSingleData","callData","NFTSCAN_URL","NFTSCAN_BASE","NFTSCAN_BASE_SOLANA","NFTSCAN_LOGO_BASE","formatPercentage","resolveResourceURL","scale10","isENSContractAddress","WNATIVE","resolveImageURL","resolveNFTScanHostName","parseJSON","fetchFromNFTScanV2","createPermalink","getAssetTraits","attribute_name","attribute_value","rarity","percentage","payload","metadata_json","createNonFungibleAsset","contractName","contract_name","uri","image_uri","minter","erc_type","latest_trade_price","latest_trade_symbol","creatorEarning","royalty","opensea_verified","mint_timestamp","NFTScan","createNonFungibleCollectionFromGroup","group","sample","createNonFungibleCollectionFromCollection","createNonFungibleTokenContract","createNonFungibleTokenEvent","trade_symbol","event_type","send","receive","assetName","trade_price","SolanaChainResolver","content_uri","nativeToken","token_address","projectURL","external_link","createNonFungibleCollection","items_total","destination","exchange_name","KV_BASE_URL_DEV","KV_BASE_URL_PROD","PROOF_BASE_URL_DEV","PROOF_BASE_URL_PROD","RELATION_SERVICE_URL","staleCached","staleNextIDCached","ok","formatPatchData","NextIDStorageProvider","getByIdentity","personaPublicKey","platform","identity","persona","proofs","content","getAllByIdentity","getPayload","patchData","requestBody","patch","signPayload","sign_payload","created_at","uuid","unstoppableDomains","getDomainSystem","ext","lastIndexOf","sortBy","fromHex","toBase64","createBindingProofFromProfileQuery","PRESET_LENS","stableSquashedCached","relationServiceDomainQuery","depth","relationServiceIdentityQuery","getPersonaQueryURL","getExistedBindingQueryURL","public_key","fetchFromProofService","clearPersonaQueryCache","bindProof","action","proof_location","proofLocation","extra","wallet_signature","walletSignature","cacheKeyOfQueryPersona","cacheKeyOfQueryPlatform","cacheKeyOfExistedBinding","queryExistedBindingByPersona","queryExistedBindingByPlatform","page","exact","activated_at","queryLatestBindingByPlatform","queryAllExistedBindingsByPlatform","nextIDPersonaBindings","personaBindings","queryIsBound","is_valid","queryProfilesByDomain","domainSystem","operationName","bindings","createBindProofsFromNeighbor","neighborWithTraversal","queryProfilesByPublicKey","queryProfilesByTwitterId","twitterId","queryAllLens","lowerCaseId","connectionsTo","connectionsFrom","displayName","createPersonaPayload","language","nextIDLanguageFormat","postContent","post_content","createBindingProofNodeFromNeighbor","nextIDIdentity","neighborList","Successful","Cancelled","BidEntered","BidWithdrawn","OfferEntered","Approve","pow10","ZERO","getOrderUSDPrice","currentPrice","usdPrice","div","decimalPlaces","OPENSEA_ACCOUNT_URL","OPENSEA_API_URL","getUnixTime","dividedBy","fetchFromOpenSea","createTokenDetailed","createAccountLink","user","username","asset_contract","schema_name","decodeURIComponent","image_preview_url","image_original_url","animation_url","dev_seller_fee_basis_points","largeImage_url","featured_image_url","safelist_request_status","created_date","createNFTAsset","last_sale","payment_token","opensea_link","permalink","paymentTokens","payment_tokens","nickname","avatarURL","profile_img_url","trait_count","count","total_price","usd_price","createAccount","createEvent","from_account","to_account","winner_account","transaction_hash","bid_amount","createOrder","ending_price","taker","OpenSeaAPI","asset_contract_type","parameters","URLSearchParams","append","asset_events","asset_contract_address","asset_owner","primary_asset_contracts","owned_asset_count","assetContract","one_day_volume","floor_price","one_day_sales","memoizePromise","getTokenListConstants","fetchTokenList","TWELVE_HOURS","fetchCommonERC20TokensFromTokenList","isMainnet","originLogoURI","fetchERC20TokensFromTokenList","urls","allRequest","allListResponse","R2D2TokenListAPI","getFungibleTokenList","FUNGIBLE_TOKEN_LISTS","getNonFungibleTokenList","R2D2TokenList","normalizedFeed","feed","actions","RSS3Next","ExceptionID","ExceptionType","RSS3_FEED_ENDPOINT","RSS3_ENDPOINT","NameServiceToChainMap","RSS3_LEGACY_ENDPOINT","TAG","TYPE","RSS3BaseAPI","fetchFromRSS3","fetchQuery","queryKey","queryFn","createRSS3","sign","endpoint","getFileData","rss3","files","descriptor","setFileData","getDonations","collectionURL","tag","donation","donate","include_poap","donations","getFootprints","collectible","poap","getNameInfo","getWeb3Feeds","Tag","Donation","queryString","getAllNotes","res","captureException","FetchError","pop","NETWORK","arbitrum","crossbell","binance_smart_chain","polygon","optimism","csb","lens","bnb","bit","bitcoin","blockchain","dao","zil","CollectionType","NFTs","Donations","Footprints","Feeds","NFT","Token","POAP","ETH","ethereum_classic","zksync","arweave","PLATFORM","mirror","gitcoin","snapshot","uniswap","binance","social","exchange","governance","transfer","mint","burn","withdraw","deposit","swap","trade","post","comment","share","follow","unfollow","like","propose","vote","launch","NON_FUNGIBLE_TOKEN_API_URL","FUNGIBLE_TOKEN_API_URL","omit","RabbyAPI","debankChainId","rawData","spenders","rawSpender","exposure_usd","Rabby","ChainbaseRedPacketAPI","getHistoryTransactions","senderAddress","contractAddress","methodId","txs","block_timestamp","to_address","from_address","block_number","ChainbaseRedPacket","EtherscanURL","EtherscanRedPacketAPI","startBlock","endBlock","module","EtherscanRedPacket","CREATE_LUCKY_DROP_TOPIC","secondsToMilliseconds","REDPACKET_ABI","creationSuccessTopicInputs","inputs","ContractRedPacketAPI","getHistories","decodeLog","txid","transactionHash","shares","number","is_random","ifrandom","total","duration","contract_version","networkType","sender","rpid","creation_time","total_remaining","password","decodeFunctionData","NFT_REDPACKET_ABI","RedPacketAPI","ContractRedPacket","parseRedPacketCreationTransactions","getNFTHistories","parseNFTRedPacketCreationTransactions","list","_v","decodedInputParam","redpacketPayload","_erc721_token_ids","_token_addr","_name","_message","_duration","token_ids","_number","_ifrandom","_total_tokens","resolveCrossOriginURL","ROOT_HOST","SID_DomainAPI","resolveTLD","tld","leftShift","HistoricalPriceState","_priceState","_paymentTokenState","_allLoadedIdListState","priceState","range","allStats","getHighestPrice","isLoaded","fromTimeStamp","updatePriceState","priceStats","toPrecision","updateAllLoadedIdListState","historicalPriceState","MaskIconURLs","formatBalance","subSeconds","isAfter","millisecondsToSeconds","fetchFromSimpleHash","resolveChain","resolveChainId","getAllChainNames","resolveEventType","resolveSimpleHashRange","checkBlurToken","isLensFollower","getContractSymbol","NonFungibleMarketplace","ExplorerResolver","SIMPLE_HASH_HISTORICAL_PRICE_START_TIME","SPAM_SCORE","SimpleHash","SimpleHashAPI_EVM","getCollectionByContractAddress","pathToQueryOwner","wallet_addresses","ownershipResponse","wallets","getCollectionOverview","collection_ids","overview","floorPricePath","floorPriceResponse","average_price_change_1d","volume_24h","average_price_24h","total_volume","all_time_volume","next_cursor","getAssetsByCollection","collectionId","to_timeStamp","isLoadAll","from_timeStamp","firstFloorPriceTimeStamp","floor_prices","getHighestFloorPrice","getOneDaySaleAmounts","sales","only_sales","transfers","allChains","schemaType","pluginId","isERC712Only","nft_ids","filteredCollections","spam_score","top_contracts","erc721CollectionIdList","nftIdList","batchAssetsPath","splice","batchAssetsResponse","collection_id","getAssetsByCollectionAndOwner","getCollectionVerifiedBy","getSimpleHashCollection","marketplaces","marketplace_pages","marketplace_name","getCoinActivities","order_by","nft_id","trade_token","sale_details","payment_token_id","transaction_link","transactionLink","Burn","openseaStats","looksrareStats","catch","open_sea_url","price_symbol","sales_24","looks_rare_url","toJSON","external_url","twitter_username","discord_url","instagram_username","medium_username","total_supply","total_quantity","current_price","owners_count","distinct_owner_count","total_24h","price_token_address","SimpleHashEVM","SIMPLE_HASH_URL","ETH_BLUR_TOKEN_ADDRESS","isEmpty","unreachable","SolanaChainId","FlowChainId","deployed_by","owners","owner_address","previews","image_large_url","previewImageURL","image_small_url","blurhash","floorPrices","extra_metadata","display_type","verifiedMarketplaces","distinct_nfts_owned","ownersTotal","verifiedBy","ChainNameMap","Sale","Mint","getSmartPayConstants","isEmptyHex","RequestReadonlyAPI","SmartPayBundler","SmartPayOwnerAPI","ContractWallet","UserTransaction","SmartPayAccountAPI","Owner","getEntryPoint","entryPoints","getSupportedEntryPoints","entryPoint","getInitCode","contractWallet","createContractWallet","initCode","LOGIC_WALLET_CONTRACT_ADDRESS","sendUserTransaction","userTransaction","getOverrides","nonce","accounts","getAccountsByOwner","operation","accountsDeployed","deployed","fillUserOperation","sendUserOperation","signUserOperation","estimateUserTransaction","estimateUserOperation","sendTransaction","fromTransaction","fromUserOperation","estimateTransaction","deploy","recipient","changeOwner","BUNDLER_PROD","SmartPayBundlerAPI","healthz","userOperation","tx_hash","user_operations","init_code","call_data","call_gas","callGas","verification_gas","verificationGas","pre_verification_gas","preVerificationGas","max_fee_per_gas","maxFeePerGas","max_priority_fee_per_gas","maxPriorityFeePerGas","paymaster_data","paymasterData","assetChainId","supportedChainId","getSupportedChainId","getSigner","bundler_eoa","entrypoint_contract_address","simulateUserOperation","FunderAPI","ScanKey","TwitterHandler","OwnerAddress","TokenTransferTx","Id","WalletAddress","FUNDER_PROD","SmartPayFunderAPI","Mumbai","getWhiteList","handler","getRemainFrequency","totalCount","max","usedCount","getOperationsByOwner","operations","scanKey","scanValue","getTransactionReceipt","tokenTransferTx","receipt","fund","proof","verify","bytesToHex","hexToBytes","keccak256","padLeft","toHex","Create2Factory","MAX_DERIVATION_NUM","getDeployAddress","salt","saltByte32","derive","deriveUntil","MAX_ACCOUNT_LENGTH","THE_GRAPH_PROD","Multicall","Funder","createWalletContract","getWalletContract","createCreate2Factory","CREATE2_FACTORY_CONTRACT_ADDRESS","filterAccounts","countMap","createContractAccount","funded","getAccountsFromMulticall","getAccountsFromTheGraph","ownerShips","create2Factory","walletAddress","getAccountsByOwners","WalletABI","WalletProxyABI","WalletProxyByteCode","web3","PAYMASTER_MASK_CONTRACT_ADDRESS","PAYMASTER_NATIVE_CONTRACT_ADDRESS","PAYMASTER_MINIMAL_STAKE_AMOUNT","PAYMENT_TOKEN_ADDRESS","abi","encodeFunctionCall","arguments","ProviderURL","DepositPaymasterABI","createWeb3FromURL","DepositPaymaster","getRatio","maskBase","PAYTOKEN_TO_MATIC_RATIO","gasCurrencyRatio","isUndefined","omitBy","EntryPointABI","getZeroAddress","isZeroString","USER_OP_TYPE","userOp","paymaster","POSTOP","DEFAULT_USER_OPERATION","CALL_WALLET_TYPE","internalType","hasPaymaster","pack","encoded","packAll","requestId","encodeParameters","createEntryPointContract","getSenderAddress","nonce_","estimatedGas","estimateGas","plus","block","getBlock","baseFeePerGas","Math","sum","signTransaction","toTransaction","exec","signMessage","toUserOperation","fillTransaction","gas","gasPrice","dest","func","SpaceID_API","FIREFLY_API_URL","KV_ROOT_URL","R2D2GetterSetter","prefix","LRUCache","caches","KVStorage","lru","ttl","getKV","cacheKey","clearAll","clear","Storage","NextIDStorage","proofIdentity","signerOrPublicKey","signWithPersona","isOk","getAll","ConnectionAPI","RSS3Storage","getRSS3","genKey","FireflyGetterSetter","metaData","FireflyStorage","getKey","Web3Storage","createKVStorage","createFireflyStorage","createRSS3Storage","createNextIDStorage","getHeaders","authorization","getSettings","referer","DB_NAME","DB_VERSION","getDatabase","databases","indexedDB","open","getObjectStore","database","objectStore","hexToRgb","TwitterBaseAPI","STORE_NAME","KEY_NAME","getUserSettings","store","event_","local","getDefaultUserSettings","scale","Scale","Normal","themeBackground","ThemeMode","Light","themeColor","ThemeColor","Blue","getComputedUserSettings","getThemeBackground","backgroundColor","getComputedStyle","rgb","Dim","Dark","getThemeColor","tweetButton","querySelector","Yellow","Purple","Magenta","Orange","Green","Expiration","getUserNFTContainer","screenName","ONE_SECOND","getUserNFTAvatar","UPLOAD_AVATAR_URL","uploadMedia","initURL","command","total_bytes","media_type","encodeURIComponent","initRes","mediaId","media_id_string","appendURL","media_id","segment_index","formData","FormData","finalizeURL","updateProfileImage","media_id_str","skip_status","return_user","imageUrl","profile_image_url_https","id_str","screen_name","fetchGlobal","features","responsive_web_twitter_blue_verified_badge_is_enabled","responsive_web_graphql_exclude_directive_enabled","verified_phone_label_enabled","responsive_web_twitter_blue_new_verification_copy_is_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled","blue_business_profile_image_shape_enabled","subscriptions_verification_info_verified_since_enabled","creator_subscriptions_tweet_preview_api_enabled","highlights_tweets_tab_ui_enabled","hidden_profile_likes_enabled","hidden_profile_subscriptions_enabled","subscriptions_verification_info_is_identity_verified_enabled","createRequest","withSafetyModeUserFields","withSuperFollowsUserFields","createUser","legacy","has_nft_avatar","rest_id","bio","entities","expanded_url","getUserByScreenName","patchingFeatures","failedResponse","errors","matched","staleUserByScreenName","getUserByScreenNameShow","staleUserByScreenNameShow","TWITTER_IDENTITY_URL","getUserViaTwitterIdentity","staleUserViaIdentity","Parser","freedom_of_speech_not_reach_fetch_enabled","graphql_is_translatable_rweb_tweet_is_translatable_enabled","longform_notetweets_consumption_enabled","longform_notetweets_inline_media_enabled","longform_notetweets_rich_text_read_enabled","responsive_web_edit_tweet_api_enabled","responsive_web_enhance_cards_enabled","responsive_web_media_download_video_enabled","responsive_web_twitter_article_tweet_consumption_enabled","standardized_nudges_misinfo","tweet_awards_web_tipping_enabled","tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled","tweetypie_unmention_optimization_enabled","view_counts_everywhere_api_enabled","toggles","withArticleRichContentState","withAuxiliaryUserLabels","createTweet","tweet","dark_request","withDownvotePerspective","withReactionsMetadata","withReactionsPerspective","withSuperFollowsTweetFields","semantic_annotation_ids","parsedTweet","parseTweet","tweet_text","overLength","weightedLength","scheduled","execute_at","queryId","queryName","fieldToggles","tweet_results","timeout","getAvatarId","computed","userSettings","getUserNftContainer","nft_avatar_metadata","smart_contract","checkNFTAvatar","ChainResolverAPI_Base","getDescriptor","descriptors","getDescriptorRequired","fullName","shortName","coinMarketCapChainId","coinGeckoChainId","coinGeckoPlatformId","chainName","chainFullName","chainColor","color","chainPrefix","explorerUrl","testnet","isFeatureSupported","feature","pickBy","ConnectionOptionsAPI_Base","others","Web3Others","getDefaultChainId","providerType","getDefaultProviderType","refs","Provider","ExplorerResolverAPI_Base","addressPathname","blockPathname","transactionPathname","domainPathname","fungibleTokenPathname","nonFungibleTokenPathname","initial","getExplorerURL","chainDescriptor","addressLink","blockLink","fungibleTokenLink","nonFungibleTokenLink","HubProviderAPI_Base","HubBaseAPI_Base","HubFungibleAPI_Base","getFungibleTokensFromTokenList","HubOptions","providers","getProviders","getFungibleTokenIconURLs","getFungibleAsset","getFungibleAssets","getTrustedFungibleAssets","trustedFungibleTokens","getTrustedAssets","HubNonFungibleAPI_Base","getNonFungibleRarity","getRarity","getNonFungibleAsset","getNonFungibleAssets","getNonFungibleTokenFloorPrice","getFloorPrice","getNonFungibleAssetsByCollection","getNonFungibleAssetsByCollectionAndOwner","getNonFungibleTokenContract","getNonFungibleTokenEvents","getNonFungibleTokenListings","getNonFungibleTokenOffers","getNonFungibleTokenOrders","getNonFungibleCollectionsByOwner","getNonFungibleCollectionVerifiedBy","getNonFungibleTokensFromTokenList","HubOptionsAPI_Base","networkPluginId","getNetworkPluginID","Settings","createPredicate","getPredicateProviders","defaultProviders","predicate","sourceType","NetworkResolverAPI_Base","networkIcon","icon","networkIconColor","iconColor","networkName","networkChainId","OthersAPI_Base","chainResolver","explorerResolver","providerResolver","networkResolver","getInvalidChainId","getDefaultNetworkType","getNativeTokenAddress","getMaskTokenAddress","getAverageBlockDelay","getTransactionSignature","isValidChain","isNativeTokenSchemaType","isFungibleTokenSchemaType","isNonFungibleTokenSchemaType","formatAddress","formatTokenId","formatDomainName","formatSchemaType","createNativeToken","createFungibleToken","createNonFungibleToken","ProviderResolverAPI_Base","providerName","providerHomeLink","homeLink","providerShortenLink","shortenLink","providerDownloadLink","downloadLink","delay","EthereumMethodType","AccountTransaction","RequestAPI","ContractAPI","ConnectionOptionsAPI","Providers","TransactionWatcher","ConnectionOptions","addWallet","MASK_ADD_WALLET","updateWallet","MASK_UPDATE_WALLET","renameWallet","MASK_RENAME_WALLET","removeWallet","MASK_REMOVE_WALLET","resetAllWallets","MASK_RESET_ALL_WALLETS","updateWallets","MASK_UPDATE_WALLETS","removeWallets","MASK_REMOVE_WALLETS","approveFungibleToken","getERC20Contract","approve","approveNonFungibleToken","approveAllNonFungibleTokens","getERC721Contract","setApprovalForAll","transferFungibleToken","memo","transferNonFungibleToken","actualSchema","getSchemaType","getERC1155Contract","safeTransferFrom","transferFrom","PERSONAL_SIGN","ETH_SIGN_TYPED_DATA","verifyMessage","dataToSign","personal","ecRecover","ETH_SIGN_TRANSACTION","signTransactions","supportedChainIds","ETH_SUPPORTED_CHAIN_IDS","supportedEntryPoints","ETH_SUPPORTED_ENTRY_POINTS","callUserOperation","ETH_CALL_USER_OPERATION","ETH_SEND_USER_OPERATION","ETH_SEND_TRANSACTION","MASK_FUND","MASK_DEPLOY","MASK_LOGIN","MASK_LOGOUT","switchChain","onProgress","NOT_DEPEND","currentTransaction","hashes","candidates","indexId","emitter","confirmTransaction","times","interval","reason","replaceTransaction","MASK_REPLACE_TRANSACTION","cancelTransaction","OthersAPI","EmptyRef","ConnectionOptionsReadonlyAPI","Web3Accounts","Accounts_","toAscii","BYTES32_REGEX","parseStringOrBytes32","str","bytes32","numberToHex","AddressType","getTransactionStatusType","isCryptoPunksContractAddress","createNonFungibleTokenMetadata","createNonFungibleTokenCollection","EMPTY_STRING","getWeb3Provider","getWallets","MASK_WALLETS","getGasPrice","ETH_GAS_PRICE","getAddressType","getCode","ExternalOwned","ERC165_INTERFACE_ID","EIP5516_INTERFACE_ID","EIP5192_INTERFACE_ID","ERC721_INTERFACE_ID","ERC1155_INTERFACE_ID","erc165Contract","getERC165Contract","isERC165","isERC721","supportsInterface","isERC1155","isEIP5516","isEIP5192","SBT","isERC20","getNonFungibleToken","getNonFungibleTokenMetadata","ownerOf","balanceOf","getNonFungibleTokenOwner","cryptoPunksContract","getCryptoPunksContract","punkIndexToAddress","getNonFungibleTokenOwnership","processURI","tokenURI","contractERC721","getNonFungibleTokenCollection","privateKey","getNativeTokenBalance","getBalance","getFungibleTokenBalance","getNonFungibleTokenBalance","getFungibleTokensBalance","listOfAddress","NATIVE_TOKEN_ADDRESS","BALANCE_CHECKER_ADDRESS","listOfNonNativeAddress","getBalanceCheckerContract","balances","getNonFungibleTokensBalance","getNativeToken","getFungibleToken","bytes32Contract","getERC20Bytes32Contract","nameBytes32","symbolBytes32","getAccount","ETH_ACCOUNTS","getChainId","ETH_CHAIN_ID","noOrId","ETH_GET_BLOCK_BY_NUMBER","ETH_BLOCK_NUMBER","getBlockTimestamp","ETH_GET_BALANCE","ETH_GET_CODE","getTransaction","ETH_GET_TRANSACTION_BY_HASH","ETH_ESTIMATE_GAS","ETH_GET_TRANSACTION_RECEIPT","getTransactionStatus","getTransactionNonce","ETH_GET_TRANSACTION_COUNT","ETH_CALL","sendSignedTransaction","ETH_SEND_RAW_TRANSACTION","AirDropV2ABI","BalanceCheckerABI","ERC20ABI","ERC20Bytes32ABI","ERC165ABI","ERC721ABI","ERC1155ABI","CryptoPunksABI","MulticallABI","RouterV2ABI","SwapRouterABI","WETH_ABI","PairABI","QuoterABI","PoolStateV3ABI","getWeb3Contract","ABI","getPairContract","getRouterV2Contract","getSwapRouterContract","getWETHContract","getQuoterContract","getPoolStateV3","HubBaseAPI","HubFungibleAPI","HubNonFungibleAPI","HubAPI","nth","GasOptionType","GasOptionAPI","HISTORICAL_BLOCKS","avg","round","formatFeeHistory","oldestBlock","blocks","gasUsedRatio","priorityFeePerGas","reward","getGasOptionsForEIP1559","history","getFeeHistory","slow","normal","fast","FAST","estimatedBaseFee","estimatedSeconds","suggestedMaxFeePerGas","suggestedMaxPriorityFeePerGas","NORMAL","SLOW","CUSTOM","getGasOptionsForPriorEIP1559","getGasOptions","formatGweiToWei","METASWAP_API","formatAmountAsWei","MetaSwapAPI","high","medium","low","MetaSwap","ASTAR_API","AstarAPI","eip1559","average","AstarGas","DeBankGasOptionAPI","level","estimated_seconds","DeBankGasOption","HubOptionsAPI","Zerion","GasOptions","isEIP1559","ChainbaseFungibleTokenAPI","createFungibleAssetFromFT","current_usd_price","ChainbaseFungibleToken","currySameAddress","getTokenAssetBaseURLConstants","SPECIAL_ICON_LIST","CloudflareAPI","NATIVE_TOKEN_ASSET_BASE_URI","ERC20_TOKEN_ASSET_BASE_URI","formattedAddress","specialIcon","Cloudflare","FungibleTokenAPI","createAssets","fungibleToken","requests","unionWith","EVM_FungibleTokenAPI","getNativeAssets","DeBankFungibleTokenAPI","is_all","TEN_SECONDS","is_verified","isEther","z","trustTokenAssets","DeBankFungibleToken","GoPlusAuthorization","Chainbase","DeBank","GoPlus","R2D2","CF","currentNetwork","providerURL","isCustomized","rpcUrl","createNonFungibleTokenLink","media","gateway","raw","tokenMetadata","tokenType","Alchemy_EVM","metaDataResponse","contractMetadataResponse","ownersResponse","contractMetadata","AlchemyEVM_API","chainInfo","metadataResponse","pageKey","ownedNfts","AlchemyEVM","ChainbaseNonFungibleTokenAPI","createNonFungibleTokenPermalink","createNonFungibleTokenAssetFromNFT","contract_type","contract_symbol","createNonFungibleAssetFromNFTMetadata","createNonFungibleContractFromNFTMetadata","createNonFungibleCollectionFromNFT","createNonFungibleTokenEventFromNFT_TransferEvent","getOwner","transferEvents","ChainbaseNonFungibleToken","GEM_API_URL","RARITY_SOURCE_TYPE","Gem","RaritySniper","TraitSniper","resolveRarityId","fetchFromGem","GemAPI","ErcType","NFTScanNonFungibleTokenAPI_EVM","show_attribute","getCollectionRaw","getCollection","rawCollection","NFTScanNonFungibleTokenEVM","X2Y2_API_URL","X2Y2_PAGE_SIZE","fetchFromX2Y2","success","X2Y2API","item_hash","end_at","X2Y2","cursors","listCursor","saleCursor","listData","listNext","saleData","saleNext","APPROVAL_EVENT","LIL_NOUNS_AUCTION_EVENT","NOUNS_AUCTION_EVENT","SALE_EVENT","SEAPORT_EVENT","MINT_EVENT","TRANSFER_EVENT","V1_MARKET_EVENT","V2_AUCTION_EVENT","V3_ASK_EVENT","V3_RESERVE_AUCTION_EVENT","SaleType","FOUNDATION_SALE","NOUNS_AUCTION_SALE","LIL_NOUNS_AUCTION_SALE","CRYPTOPUNKS_SALE","LOOKS_RARE_SALE","OPENSEA_SINGLE_SALE","OPENSEA_BUNDLE_SALE","RARIBLE_SALE","SEAPORT_SALE","SUPERRARE_SALE","ZEROX_SALE","ZORA_V2_AUCTION_SALE","ZORA_V3_ASK_SALE","gql","CurrencyAmount","Page","Media","Attribute","Price","Event","GetTokenQuery","GetEventsQuery","ZORA_MAINNET_GRAPHQL_URL","GraphQLClient","ZoraAPI","client","createZoraLink","tokenContract","traitType","mintInfo","usdcPrice","nativePrice","Zora","mintEventProperty","properties","originatorAddress","toAddress","saleEventProperty","buyerAddress","sellerAddress","transferEventProperty","fromAddress","transactionInfo","eventType","blockTimestamp","getEventsFiltered","eventTypes","nodes","events_","ZerionNonFungibleToken","Approval_","sha3","ProviderResolver","NetworkResolver","Composer","compose","context","dispatch","bind","use","middleware","composer","ProviderType","checksumAddress","Nonce","INITIAL_NONCE","nonces","syncRemoteNonce","commitment","addressNonces","MaskWallet","requestArguments","config","isGeneralErrorNonce","isAuroraErrorNonce","isLessThan","formatWeiToGwei","PayloadEditor","Hub","encode","fromPayload","readonly","slowOption","normalOption","overrideMaxFeePerGas","requestOptions","overrideMaxPriorityFeePerGas","overrideGasPrice","decode","Polygon","MetaMask","Translator","translators","translator","NoneWallet","risky","abort","walletProvider","writeable","Maskbook","write","hostedChainId","hostedAccount","updates","WalletConnect","MetaMaskLike","currentChainId","Fortmatic","Signer","bundler","funder","getNonce","estimate","ownerAccount","ETH_SIGN","signTypedData","WALLET_SWITCH_ETHEREUM_CHAIN","ErrorEditor","MessageStateType","isZero","isSameURL","Popups","AbstractAccount","maskAddress","nativeTokenAddress","DEFAULT_PAYMENT_TOKEN_STATE","allowMaskAsGas","smartPayChainId","signableConfig","depositPaymaster","ratio","maskGasFee","integerValue","maskBalance","maskAllowance","allowance","availableBalanceTooLow","isNative","nativeBalance","MaskProvider","matchNetworkByProviderURL","matchNetworkByChainId","switchNetwork","ID","silent","gasOptionType","applyAndWaitResponse","editor","presence","isMaskOnlyMethodType","noop","CustomNetwork","customNetwork","sendAsync","Interceptor","Account","composers","Coin98","Opera","Clover","RecentTransaction","draftedAt","BalanceNotifier","BlockNumberNotifier","addTransaction","tx_","failedToSendTransaction","failedToEstimateTransaction","isRecognized","notifyError","ComposerAPI","createJsonRpcPayload","createJsonRpcResponse","parseChainId","pid","ConnectionContext","_requestArguments","_options","_init","_writeable","_error","_result","_account","_chainId","_providerType","getDefaultAccount","errorEditor","payloadEditor","signableMessage","getDefaultOwner","getDefaultIdentifier","end","initializer","ownerIdentifier","createContext","createWeb3FromProvider","createWeb3ProviderFromRequest","web3Provider","createWeb3Provider","createWeb3ProviderFromURL","State","ChainResolverAPI","ExplorerResolverAPI","ProviderResolverAPI","NetworkResolverAPI","Emitter","createConstantSubscription","connected","switchAccount","errorMessage","WALLET_ADD_ETHEREUM_CHAIN","rpcUrls","fromOfficial","blockExplorerUrls","actualChainId","createWeb3","expectedChainId","ETH_REQUEST_ACCOUNTS","NoneProvider","isInPageEthereumInjected","bridge","onAccountsChanged","onChainChanged","onDisconnect","injectedBrowserProvider","Browser","isEthereumInjected","injectedMetaMaskProvider","createMetaMaskProvider","getInjectedProvider","window","EIP155Editor","proposalNamespace","eip155ChainId","eip155Address","chainId_","fromChainId","fromAccount","getSdkError","SignClient","Client","session","namespaces","eip155","projectId","logger","relayUrl","icons","destroy","removeAllListeners","WalletConnectProvider","resume","login","requiredNamespaces","approval","openWalletConnectDialog","closeWalletConnectDialog","logout","clean","finally","injectedCoin98EVMProvider","EVM_Coin98Provider","injectedCoinbaseProvider","Coinbase","injectedOKXProvider","injectedCloverProvider","TEST_KEY","LIVE_KEY","resolveAPI_Key","Ropsten","Kovan","isFortmaticSupported","FortmaticProvider","providerPool","newChainId","onConnect","createFortmatic","createProvider","fm","getProvider","injectedOperaProvider","PersistentStorages","BaseHostedProvider","walletStorage","onAccountChanged","isSupportedAccount","isInteger","trim","updatedAt","walletsUpdated","sendToAll","isNameExists","io_renameWallet","supported","InMemoryStorages","BaseContractWalletProvider","Bundler","ownerStorage","debounce","createSubscriptionFromValueRef","getExtensionSiteType","MaskWalletProvider","ref","MaskWalletContext","updateImmediately","update","allPersonas","smartPayWallets","hasDerivationPath","hasStoredKeyInfo","primaryWallet","debounceUpdate","scWallets","externalRequestID","grantEIP2255Permission","selectMaskWalletAccount","origin","disconnectAllWalletsFromOrigin","fromMethod","CustomNetworkProvider","OKX","createClient","FlowConnectionOptionsAPI","FlowProviders","createWeb3SDK","FlowWeb3API","getProviderInstance","TransactionStatusCode","FlowChainResolver","FlowWeb3StateRef","FlowConnectionAPI","Default","currentUser","addr","no","atBlockHeight","blockHeader","getBlockHeader","height","status_","UNKNOWN","PENDING","FINALIZED","EXECUTED","SEALED","EXPIRED","sequenceNumber","TextEncoder","signed","signUserMessage","verifyUserSignatures","keyId","mutation","mutate","onceSealed","mutations","FlowOthersAPI","FlowExplorerResolver","FlowProviderResolver","FlowNetworkResolver","FlowChainResolverAPI","FlowExplorerResolverAPI","FlowProviderResolverAPI","FlowNetworkResolverAPI","BloctoProvider","fcl","logIn","DapperProvider","LedgerProvider","FlowBaseProvider","Blocto","Dapper","Ledger","resolver","ConnectionCreatorAPI_Base","Others","createCached","SolanaOthersAPI","SolanaConnectionAPI","SolanaConnectionOptionsAPI","createCreator","networkPluginID","AllConnectionAPI","HubCreatorAPI_Base","Web3HubOptions","FlowHubOptionsAPI","FlowHubBaseAPI","createFungibleAsset","getTokenConstants","getTokenBalance","fungibleTokenAddress","storageKey","sdk","cadence","arg","getAssetFUSD","FUSD_ADDRESS","FUNGIBLE_TOKEN_ADDRESS","getAssetFLOW","FLOW_ADDRESS","getAssetTether","TETHER_ADDRESS","FlowFungibleAPI","FlowFungible","FlowHubFungibleAPI","FlowWeb3","resolveArweaveURL","getContractAddress","createNonFungibleTokenImageURL","mimeType","Alchemy_FLOW","trait","findIndex","AlchemyFlowAPI","AlchemyFlow","FlowHubNonFungibleAPI","SolanaWeb3StateRef","SolanaHubOptionsAPI","SolanaHubBaseAPI","SolanaFungible","SolanaHubFungibleAPI","Connection","Metadata","requestRPC","encoding","filters","dataSize","memcmp","bytes","connection","nftTokens","parsed","tokenAmount","promises","pda","getPDA","load","externalMeta","pubkey","toBase58","animation","mediaType","category","SolanaNonFungibleTokenAPI","SolanaNonFungible","NFTScanNonFungibleTokenAPI_Solana","account_address","NFTScanNonFungibleTokenSolana","SolanaCreatePermalink","createSolanaNonFungibleAsset","resolveSolanaChainId","createSolanaNonFungibleCollection","SimpleHashAPI_Solana","SimpleHashSolana","SolanaHubNonFungibleAPI","AllHubAPI","AllOthersAPI","SolanaProviders","SolanaWeb3API","getWeb3Connection","TOKEN_PROGRAM_ID","ASSOCIATED_TOKEN_PROGRAM_ID","TransactionInstruction","SystemProgram","SYSVAR_RENT_PUBKEY","createAssociatedTokenAccountInstruction","payer","associatedToken","programId","associatedTokenProgramId","isSigner","isWritable","Buffer","alloc","AccountLayout","AccountState","Uninitialized","Initialized","Frozen","getAccountInfo","equals","span","rawAccount","delegate","delegateOption","delegatedAmount","isInitialized","isFrozen","isNativeOption","rentExemptReserve","closeAuthority","closeAuthorityOption","PublicKey","getAssociatedTokenAddress","allowOwnerOffCurve","isOnCurve","toBuffer","findProgramAddress","getOrCreateAssociatedTokenAccount","blockHash","getLatestBlockhash","feePayer","recentBlockhash","blockhash","sendRawTransaction","serialize","lastValidBlockHeight","BufferLayout","TokenInstruction","InitializeMint","InitializeAccount","InitializeMultisig","Revoke","SetAuthority","MintTo","CloseAccount","FreezeAccount","ThawAccount","TransferChecked","ApproveChecked","MintToChecked","BurnChecked","InitializeAccount2","SyncNative","InitializeAccount3","InitializeMultisig2","InitializeMint2","createTransferInstruction","multiSigners","dataLayout","struct","u8","addSigners","instruction","TokenAmount","ownerOrAuthority","toArray","zeroPad","copy","fromBuffer","buffer","sendAndConfirmRawTransaction","SolanaTransferAPI","attachRecentBlockHash","getRecentBlockhash","signedTransaction","transferSol","payerPubkey","recipientPubkey","fromPubkey","toPubkey","lamports","transferSplToken","mintPubkey","formatTokenAccount","toTokenAccount","decodeAddress","getSlot","slot","getBlockTime","getSignatureStatus","confirmations","RAYDIUM_TOKEN_LIST","SPL_TOKEN_PROGRAM_ID","fetchRayDiumTokenList","official","unOfficial","fetchMaskTokenList","nativeAddress","SolanaFungibleTokenAPI","getSplTokenList","splTokens","isSafe","splToken","flat","maskTokenList","rayDiumTokenList","SolanaExplorerResolver","SolanaProviderResolver","SolanaNetworkResolver","SolanaChainResolverAPI","SolanaExplorerResolverAPI","SolanaProviderResolverAPI","SolanaNetworkResolverAPI","createClientEndpoint","jsonrpc","isExtensionSiteType","bs58","injectedPhantomProvider","PhantomMethodType","Phantom","validateSession","SIGN_MESSAGE","display","SIGN_TRANSACTION","serializeMessage","addSignature","injectedSolflareProvider","Solflare","base58","SolletProvider","solanaProvider","newWallet","signAllTransactions","Sollet","injectedCoin98SolanaProvider","Coin98MethodType","SolanaCoin98Provider","SOL_SIGN","SOL_ACCOUNTS","SolanaBaseProvider","SocketRequestNameSpace","Assets","Gas","SocketRequestType","SUBSCRIBE","GET","ZerionRBDTransactionType","TRADE","AUTHORIZE","EXECUTION","DEPLOYMENT","CANCEL","DEPOSIT","WITHDRAW","BORROW","REPAY","STAKE","UNSTAKE","CLAIM","ZerionTransactionStatus","CONFIRMED","ZerionTransactionDirection","IN","OUT","SELF","isValidAsset","implementations","isNativeToken","formatAsset","icon_url","ethGasFee","usdGasFee","address_from","address_to","mined_at","changes","asset_code","io","ZERION_API","ZERION_TOKEN","socket","zerionChainIdResolver","createSocket","transports","api_token","reconnection","every","requestValue","responseMetaValue","meta","subscribeFromZerion","socketNamespace","model","getAssetsList","search_query","getTransactionList","transactions_limit","transactions_offset","transactions_search_query","race","nft_asset_code","nft_limit","nft_offset","getNonFungibleInfo","gasOptionsCollection","classic","ChainIdList","ZERION_NFT_DETAIL_URL","filterAssetType","ZerionAPI","positions","is_displayable","pairs","ZerionNonFungibleTokenAPI","createNonFungibleCollectionFromCollectionData","scheme","standard","preview","collection_info","ZerionTrendingAPI","createCoinFromData","ZerionGasAPI","ZerionTrending","ZerionGas","transactionBlockTimeout","transactionPollingTimeout","transactionPollingInterval","MAX_SAFE_INTEGER","__create__","removeListener","fetchJsonRpcResponse","isIgnoredRequest","requestOrResponse","getBody","captureFetchTransaction","requestHeaders","clone","responseHeaders","responseBody","Sentry","startTransaction","startChild","host","response_type","response_redirected","redirected","status_code","status_text","request_headers","request_body","response_headers","response_body","response_code","response_status","startTimestamp","startAt","endTimestamp","endAt","finish","originalFetch","fetchers","reduceRight","ff","AbortSignal","hasError","ONE_MINUTE","__open__","__fetch__","hit","date","expired","put","toUTCString","fetchCached","createFetchCached","_next","getNextFetchers","RequestID","full","ETH_GET_BLOCK_BY_HASH","resolveRequestKey","ONE_HOUR","CACHE","expiration","responsePromise","defaultResolver","fetchSquashed","getMaskBoxConstant","getRedPacketConstant","getNftRedPacketConstant","Icons","HAPPY_RED_PACKET_ADDRESS_V1","HAPPY_RED_PACKET_ADDRESS_V2","HAPPY_RED_PACKET_ADDRESS_V3","HAPPY_RED_PACKET_ADDRESS_V4","MASK_BOX_CONTRACT_ADDRESS","RED_PACKET_NFT_ADDRESS","isLens","APE","BUSD","DAI","HUSD","RARI","TATR","USDC","USDT","WBTC","type_","Offer","CancelOffer","List","Exchange","Governance","Social","Type","Withdraw","Deposit","Swap","Liquidity","Bridge","Trade","Poap","Post","Revise","Comment","Share","Profile","Follow","Unfollow","Like","Propose","Vote","Launch","Donate","Staking","Edit","AssetType","GitcoinDonation","X_Small","Small","Large","X_Large","candidate","funcs","predicator","AggregateError","useMemo","p1","transformAll","chainIdEnum","environment","transform","getAllConstants","transformAllFromJSON","fallbackConstants","transformFromJSON","transformAllHook","getConstants","useConstants","transformHook","getConstant","useConstant","addThousandSeparators","trimZero","rawValue","significant","isPrecise","isFixed","fixedDecimals","hasSeparators","minimum","eq","lt","negative","isNegative","absoluteValue","fraction","modulo","padStart","gt","matchSignificantDigits","whole","dividedToIntegerBy","castArray","otherAddress","addresses","urlA","urlB","hostname","paramsA","paramsB","paramA","valueA","valueB","paramB","keyBy","mapValues","createFungibleTokensFromConstants","chainIdGroup","evaluator","difference","EnhanceableSiteList","ExtensionSiteList","CHAINS","NetworkType","PLUGIN_ID","networkSupporterPluginID","averageBlockDelay","backgroundGradient","Gorli","Binance","Base_Goerli","Arbitrum_Rinkeby","iconUrl","explorers","infoURL","providerAdaptorPluginID","enableRequirements","supportedEnhanceableSites","supportedExtensionSites","iconFilterColor","FAKE_SIGN_PASSWORD","ABICoder","isAddress","toChecksumAddress","getArbConstants","getCryptoPunksConstants","getENSConstants","getLensProfileConstants","getRedPacketConstants","getSpaceIdConstants","nativeTokenSet","isRedPacketAddress","ENS_CONTRACT_ADDRESS","ENS_NAME_WRAPPER_CONTRACT_ADDRESS","isENSNameWrapperContractAddress","isLensProfileAddress","LENS_PROFILE_CONTRACT_ADDRESS","ARB_CONTRACT_ADDRESS","isArbContractAddress","SID_CONTRACT_ADDRESS","isSpaceIdContractAddress","isXnsContractAddress","CRYPTOPUNKS_CONTRACT_ADDRESS","Invalid","NORMAL_COLLECT_RE","ADMIN_COLLECT_RE","isLensCollect","NORMAL_COMMENT_RE","ADMIN_COMMENT_RE","QUOTED_COMMENT_RE","isLensComment","NORMAL_POST_RE","ADMIN_POST_RE","GENESIS_POST_RE","QUOTED_POST_RE","isLensPost","punycode","NAME_SERVICE_RE","DOMAIN_RE","ENS_SUBDOMAIN_RE","ascii","toASCII","isEnsSubdomain","LENS_FOLLOWER_IMAGE","LENS_COMMENT_IMAGE","LENS_POST_IMAGE","LENS_COLLECT_IMAGE","LENS_IMAGE","ENS_IMAGE","getEnumAsArray","createERC20Tokens","normalizeHex","functionSignature","functionParameters","transactionResolver","defaultAccount","fillAll","transactionEncoded","JSON_RPC_ERROR_CODE","INVALID_REQUEST","METHOD_NOT_FOUND","INVALID_PARAMS","INTERNAL_ERROR","SERVER_ERROR_RANGE_START","SERVER_ERROR_RANGE_END","unknownError","internalError","rpcError","responseError","RecognizableErrorMessage","fromError","getEtherscanConstants","ETHERSCAN_URL","isRiskyMethodType","ETH_DECRYPT","ETH_GET_ENCRYPTION_PUBLIC_KEY","hexToNumber","CREATE2_FACTORY_ABI","getSmartPayConstant","isReadonlyMethodType","getRawConfig","parseHexNumber","parseHexNumberString","getABTestSeed","getRPCConstants","RPC_URLS","RPC_WEIGHTS","RPC_URLS_OFFICIAL","Web3Eth","Eth_","setProvider","Auth","Chain","getAuthConstants","getAuthConstant","useAuthConstants","useAuthConstant","getChainConstants","getChainConstant","useChainConstants","useChainConstant","useTokenConstants","useTokenConstant","Testnet","format","partial","isValidAccountAddress","isValidContractAddress","identifierFragments","createFungibleTokenShared","authConstants","ACCESS_NODE_API","DISCOVERY_WALLET","MASK_APP_TITLE","MASK_APP_ICON","AssetProviderType","TokenList","getTokenListConstant","getCoinGeckoConstant","useCoinGeckoConstants","useCoinGeckoConstant","Devnet","cluster","isTronAddress","encodePublicKey","initData","size_","head","tail","strict","Endpoints","Program","CONNECT","SIGN_TRANSACTIONS","SIGN_AND_SEND_TRANSACTION","SOL_REQUEST_ACCOUNTS","HAS_WALLET","SOL_VERIFY","maximum","isNaN","joinsABTest","percent","RangeError","telemetrySettings","BaseAPI","sampleRate","enable","disable","userOptions","deviceOptions","networkOptions","device","getOptions","shouldRecord","rate","getRandomValues","floor","getAgentType","getSiteType","getExtensionId","MixpanelEventAPI","lastEvent","attachEvent","previous_event","previous_event_id","$insert_id","$user_id","$device_id","$screen_height","screen","$screen_width","width","$browser","appName","$browser_version","appVersion","agent","site","ua","extension_id","branch_name","BRANCH_NAME","device_ab","device_seed","device_id","importEvent","project_id","trackEvent","verbose","v4","MixpanelAPI","eventAPI","eventID","time","distinct_id","plugin_id","network_id","networkID","parseVersion","n","isNewerThan","otherVersion","versionParsed","otherVersionParsed","newer","isSameVersion","removeSensitiveTelemetryInfo","Breadcrumbs","GlobalHandlers","GroupID","IGNORE_ERRORS","SentryAPI","release","COMMIT_HASH","dsn","MASK_SENTRY_DSN","defaultIntegrations","integrations","dom","xhr","beforeSend","exception","group_id","setTag","trackID","createCommonEvent","groupID","track_id","track_type","breadcrumbs","createException","Exception","exceptionType","exceptionID","TelemetryAPI","Mixpanel","createGlobalSettings","Debug","Exit","Interact","EntryAppLuckOpen","EntryAppLuckCreate","EntryAppLuckSend","EntryAppNFT_PFP_Open","EntryAppNFT_PFP_Setting","EntryAppSwapOpen","EntryAppApprovalOpen","EntryAppCheckOpen","EntryAppFileOpen","EntryTimelineDsearchToken","EntryTimelineDsearchNft","EntryTimelineTipsOpen","EntryTimelineTipsSend","EntryTimelineHoverTokenDuration","EntryTimelineHoverNftDuration","EntryTimelineHoverUserNftClickNft","EntryTimelineHoverUserNftSwitchChain","EntryTimelineHoverUserActivitiesSwitchTo","EntryTimelineHoverUserDonationsSwitchTo","EntryTimelineHoverUserSocialSwitchTo","EntryPopupSocialAccountConnectTwitter","EntryPopupSocialAccountConnectFb","EntryPopupSocialAccountConnectMinds","EntryPopupSocialAccountConnectIns","EntryPopupSocialAccountVerifyTwitter","EntryPopupSocialAccountDisconnectTwitter","EntryPopupSocialAccountDisconnectFb","EntryPopupSocialAccountDisconnectMinds","EntryPopupSocialAccountDisconnectIns","EntryPopupWalletCreate","EntryPopupWalletImport","EntryProfileTokenSwitchTrend","EntryProfileTokenSwitchMarket","EntryProfileNFT_ItemsSwitchTo","EntryProfileNFT_TrendSwitchTo","EntryProfileNFT_ActivitiesSwitchTo","EntrySwitchLogoSave","EntryMaskComposeOpen","EntryMaskComposeVisibleAll","EntryMaskComposeVisiblePrivate","EntryMaskComposeVisibleSelected","EntryMaskComposeEncrypt","EntryProfileUserNftsClickNft","EntryProfileUserNftsSwitchChain","EntryProfileUserActivitiesSwitchTo","EntryProfileUserDonationsSwitchTo","EntryProfileUserSocialSwitchTo","EntryProfileConnectTwitter","EntryProfileConnectVerify","EntryMaskComposeConnectTwitter","EntryMaskComposeVerifyTwitter"],"sourceRoot":"","x_google_ignoreList":[42,296,382,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,825,826,827,828,829,830,831,832,833]}