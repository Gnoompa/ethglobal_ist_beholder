{"version":3,"file":"bundled/chunk.8125.js","mappings":"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","sources":["webpack://mask-network/./packages/plugin-infra/src/dom/useActivatedPlugin.ts","webpack://mask-network/./packages/shared/src/UI/components/ReloadStatus/index.tsx","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedBalance.tsx","webpack://mask-network/./packages/shared/src/hooks/useAvailableBalance.ts","webpack://mask-network/./packages/shared/src/hooks/useGasCurrencyMenu.tsx","webpack://mask-network/./packages/shared/src/hooks/useMenu.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootMenu.ts","webpack://mask-network/./packages/web3-hooks/base/src/useMaskTokenAddress.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNativeTokenPrice.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptors.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNonFungibleAsset.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/GasEditor.ts","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabPanel/tabPanelClasses.js","webpack://mask-network/./node_modules/.pnpm/@mui+lab@5.0.0-alpha.102_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.10.8__fhlpvrxljs34dqlglckbh3kya4/node_modules/@mui/lab/TabPanel/TabPanel.js","webpack://mask-network/./node_modules/.pnpm/@react-hookz+web@23.1.0_react-dom@0.0.0-experimental-0a360642d-20230711_react@0.0.0-experimental-0a360642d-20230711/node_modules/@react-hookz/web/esm/useIntersectionObserver/index.js"],"sourcesContent":["import { useActivatedPluginExtensionPage } from '../manager/extension-page.js'\nimport { useActivatedPluginSiteAdaptor } from '../manager/site-adaptor.js'\n\nexport function useActivatedPlugin(pluginID: string, minimalModeEqualsTo: 'any' | boolean) {\n    const pluginSiteAdaptor = useActivatedPluginSiteAdaptor(pluginID, minimalModeEqualsTo)\n    const pluginExtensionPage = useActivatedPluginExtensionPage(pluginID)\n    return pluginSiteAdaptor ?? pluginExtensionPage ?? null\n}\n","import { makeStyles } from '@masknet/theme'\nimport { Box, Typography, type BoxProps, Button } from '@mui/material'\nimport { memo } from 'react'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    statusBox: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n    },\n    text: {\n        color: theme.palette.maskColor.second,\n        fontSize: '14px',\n        fontWeight: 700,\n        lineHeight: '36px',\n    },\n    button: {\n        marginTop: theme.spacing(1.5),\n        fontSize: '12px',\n        fontWeight: 700,\n        minWidth: theme.spacing(11),\n        height: theme.spacing(4),\n    },\n}))\n\ninterface Props extends BoxProps {\n    message?: string\n    actionLabel?: string\n    onRetry?(): void\n}\n\nexport const ReloadStatus = memo(function ReloadStatus({\n    className,\n    children,\n    message,\n    actionLabel,\n    onRetry,\n    ...rest\n}: Props) {\n    const { classes, cx } = useStyles()\n    const t = useSharedTrans()\n    return (\n        <Box className={cx(classes.statusBox, className)} p={2} {...rest}>\n            <Typography className={classes.text}>{message ?? t.load_failed()}</Typography>\n            <Button className={classes.button} onClick={() => onRetry?.()} variant=\"roundedContained\" size=\"medium\">\n                {actionLabel ?? t.load_retry()}\n            </Button>\n        </Box>\n    )\n})\n","import { Fragment } from 'react'\nimport { BigNumber } from 'bignumber.js'\nimport { isZero, isLessThan } from '@masknet/web3-shared-base'\nimport { makeStyles } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => ({\n    balance: {\n        marginRight: theme.spacing(0.5),\n    },\n}))\n\nexport interface FormattedBalanceProps extends withClasses<'balance' | 'symbol'> {\n    value: BigNumber.Value | undefined\n    decimals?: number\n    significant?: number\n    symbol?: string\n    minimumBalance?: BigNumber.Value\n    formatter?: (value: BigNumber.Value, decimals?: number, significant?: number) => string\n}\n\nexport function FormattedBalance(props: FormattedBalanceProps) {\n    const { value, decimals, significant, symbol, minimumBalance, formatter = (value) => value } = props\n    const valueInt = new BigNumber(value ?? '0').toFixed(0)\n    let formatted = formatter(valueInt, decimals, significant)\n    if (minimumBalance && !isZero(formatted) && isLessThan(valueInt, minimumBalance)) {\n        // it's a BigNumber so it's ok\n        // eslint-disable-next-line @typescript-eslint/no-base-to-string\n        formatted = '<' + formatter(minimumBalance, decimals, significant).toString()\n    }\n    const { classes } = useStyles(undefined, { props })\n\n    if (symbol)\n        return (\n            <Fragment>\n                <span className={classes.balance}>{String(formatted)}</span>\n                <span className={classes?.symbol}>{symbol}</span>\n            </Fragment>\n        )\n    return <Fragment>{String(formatted)}</Fragment>\n}\n","import { useMemo } from 'react'\nimport { useAsync } from 'react-use'\nimport { BigNumber } from 'bignumber.js'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport {\n    useChainContext,\n    useFungibleTokenBalance,\n    useMaskTokenAddress,\n    useNativeTokenBalance,\n} from '@masknet/web3-hooks-base'\nimport { DepositPaymaster, SmartPayBundler } from '@masknet/web3-providers'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { isGreaterThan, isSameAddress, toFixed, ZERO } from '@masknet/web3-shared-base'\nimport {\n    type ChainId,\n    type GasConfig,\n    GasEditor,\n    isNativeTokenAddress,\n    formatEtherToWei,\n} from '@masknet/web3-shared-evm'\n\nexport function useAvailableBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID: T,\n    address?: string,\n    gasOption?: GasConfig,\n    options?: ConnectionOptions<T>,\n) {\n    const { chainId } = useChainContext(options)\n    const { value: nativeTokenBalance = '0' } = useNativeTokenBalance(pluginID, options)\n    const maskTokenAddress = useMaskTokenAddress(pluginID, options)\n    const { data: maskBalance = '0', isLoading: isLoadingMaskBalance } = useFungibleTokenBalance(\n        undefined,\n        maskTokenAddress,\n    )\n    const { data: tokenBalance = '0', isLoading: isLoadingTokenBalance } = useFungibleTokenBalance(pluginID, address, {\n        ...options,\n        chainId,\n    })\n\n    // #region paymaster ratio\n    const { value: currencyRatio, loading } = useAsync(async () => {\n        const chainId = await SmartPayBundler.getSupportedChainId()\n        const depositPaymaster = new DepositPaymaster(chainId)\n        const ratio = await depositPaymaster.getRatio()\n\n        return ratio\n    }, [])\n    // #endregion\n\n    const gasFee = useMemo(() => {\n        if (!gasOption?.gas || pluginID !== NetworkPluginID.PLUGIN_EVM) return ZERO\n        const result = GasEditor.fromConfig(chainId as ChainId, gasOption).getGasFee(gasOption.gas)\n        if (!gasOption.gasCurrency || isNativeTokenAddress(gasOption.gasCurrency)) return result\n        if (!currencyRatio) return ZERO\n        return new BigNumber(toFixed(result.multipliedBy(currencyRatio), 0))\n    }, [gasOption, chainId, pluginID])\n\n    const isGasFeeGreaterThanOneETH = useMemo(() => {\n        if (!gasOption?.gas || pluginID !== NetworkPluginID.PLUGIN_EVM) return false\n        return GasEditor.fromConfig(chainId as ChainId, gasOption)\n            .getGasFee(gasOption.gas)\n            .gte(formatEtherToWei(1))\n    }, [gasOption, chainId, pluginID])\n\n    const isAvailableBalance = useMemo(\n        () =>\n            isSameAddress(address, gasOption?.gasCurrency) ||\n            isNativeTokenAddress(address) ||\n            pluginID !== NetworkPluginID.PLUGIN_EVM,\n        [address, gasOption?.gasCurrency, pluginID],\n    )\n\n    const isGasSufficient = useMemo(() => {\n        if (pluginID !== NetworkPluginID.PLUGIN_EVM) return true\n        if (!gasOption?.gasCurrency || isNativeTokenAddress(gasOption.gasCurrency))\n            return isGreaterThan(nativeTokenBalance, gasFee)\n\n        return isGreaterThan(maskBalance, gasFee)\n    }, [gasOption?.gasCurrency, nativeTokenBalance, maskBalance, gasFee, pluginID])\n\n    const balance =\n        isAvailableBalance && pluginID === NetworkPluginID.PLUGIN_EVM\n            ? BigNumber.max(new BigNumber(tokenBalance).minus(gasFee), 0).toString()\n            : tokenBalance\n\n    return {\n        isAvailableBalance,\n        isGasSufficient,\n        isGasFeeGreaterThanOneETH,\n        gasFee,\n        balance,\n        isLoading: isLoadingMaskBalance || isLoadingTokenBalance || loading,\n    }\n}\n","import { compact, noop, pick } from 'lodash-es'\nimport { useCallback, useState } from 'react'\nimport { Button, MenuItem, Typography, alpha } from '@mui/material'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { makeStyles, RadioIndicator } from '@masknet/theme'\nimport { formatBalance, isLessThan, isSameAddress } from '@masknet/web3-shared-base'\nimport { useChainContext, useFungibleToken, useMaskTokenAddress, useNativeToken } from '@masknet/web3-hooks-base'\nimport { useERC20TokenAllowance } from '@masknet/web3-hooks-evm'\nimport { useSmartPayConstants } from '@masknet/web3-shared-evm'\nimport { useMenuConfig } from './useMenu.js'\nimport { TokenIcon, useSharedTrans } from '../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    paper: {\n        minWidth: 240,\n        background: theme.palette.maskColor.bottom,\n        borderRadius: 16,\n        boxShadow: theme.palette.maskColor.bottomBg,\n        padding: theme.spacing(0.5),\n    },\n    item: {\n        display: 'flex',\n        height: 46,\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderRadius: 8,\n        padding: theme.spacing(1),\n    },\n    token: {\n        display: 'flex',\n        alignItems: 'center',\n        columnGap: 4,\n        fontSize: 16,\n        fontWeight: 700,\n        lineHeight: '20px',\n    },\n    radio: {\n        color: theme.palette.mode === 'dark' ? alpha(theme.palette.maskColor.line, 0.43) : theme.palette.maskColor.line,\n    },\n}))\n\nexport function useGasCurrencyMenu(\n    pluginId?: NetworkPluginID,\n    onCurrencyChange?: (address: string) => void,\n    selectedAddress?: string,\n    handleUnlock?: () => void,\n) {\n    const sharedI18N = useSharedTrans()\n    const { classes } = useStyles()\n    const { chainId } = useChainContext()\n    const [current, setCurrent] = useState('')\n    const { data: nativeToken } = useNativeToken(pluginId)\n    const maskAddress = useMaskTokenAddress(pluginId)\n    const { data: maskToken } = useFungibleToken(pluginId, maskAddress)\n\n    const { PAYMASTER_MASK_CONTRACT_ADDRESS } = useSmartPayConstants(chainId)\n    const { data: allowance = '0' } = useERC20TokenAllowance(maskAddress, PAYMASTER_MASK_CONTRACT_ADDRESS)\n    const availableBalanceTooLow = isLessThan(formatBalance(allowance, maskToken?.decimals), 0.1)\n\n    const handleChange = useCallback(\n        (address: string) => {\n            setCurrent(address)\n            onCurrencyChange?.(address)\n        },\n        [onCurrencyChange],\n    )\n\n    const selected = selectedAddress || current || nativeToken?.address\n\n    return useMenuConfig(\n        compact([\n            nativeToken ? (\n                <MenuItem className={classes.item} disableRipple onClick={() => handleChange(nativeToken.address)}>\n                    <Typography className={classes.token} component=\"div\">\n                        <TokenIcon {...pick(nativeToken, 'chainId', 'address', 'symbol')} size={30} />\n                        {nativeToken.symbol}\n                    </Typography>\n                    <RadioIndicator\n                        size={20}\n                        checked={isSameAddress(selected, nativeToken.address)}\n                        className={classes.radio}\n                    />\n                </MenuItem>\n            ) : null,\n            maskToken ? (\n                <MenuItem\n                    className={classes.item}\n                    disableRipple\n                    onClick={!availableBalanceTooLow ? () => handleChange(maskToken.address) : noop}>\n                    <Typography className={classes.token} component=\"div\">\n                        <TokenIcon {...pick(maskToken, 'chainId', 'address', 'symbol')} size={30} />\n                        {maskToken.symbol}\n                    </Typography>\n                    {availableBalanceTooLow ? (\n                        <Button variant=\"roundedContained\" onClick={handleUnlock} size=\"small\">\n                            {sharedI18N.unlock()}\n                        </Button>\n                    ) : (\n                        <RadioIndicator\n                            size={20}\n                            className={classes.radio}\n                            checked={isSameAddress(selected, maskAddress)}\n                        />\n                    )}\n                </MenuItem>\n            ) : null,\n        ]),\n        {\n            classes: {\n                paper: classes.paper,\n            },\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right',\n            },\n            transformOrigin: {\n                vertical: 'top',\n                horizontal: 'right',\n            },\n        },\n    )\n}\n","import {\n    type SyntheticEvent,\n    cloneElement,\n    isValidElement,\n    useCallback,\n    useState,\n    type MutableRefObject,\n    createElement,\n} from 'react'\nimport { useUpdate } from 'react-use'\nimport { Menu, type MenuProps } from '@mui/material'\nimport { makeStyles, ShadowRootMenu } from '@masknet/theme'\n\n/**\n * A util hooks for easier to use `<Menu>`s.\n *\n * If you need configuration, please use useMenuConfig\n */\n// ! Do not change signature of this. Change useMenuConfig instead.\nexport function useMenu(...elements: Array<JSX.Element | null>) {\n    return useMenuConfig(elements, {})\n}\n\nexport interface MenuConfigOptions extends Partial<MenuProps> {\n    anchorSibling?: boolean\n    useShadowRoot?: boolean\n}\n\nconst useStyles = makeStyles()((theme) => ({\n    menu: {\n        // TODO: replace hard code to theme\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 0px 20px rgba(255, 255, 255, 0.12)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n    },\n}))\n\nexport function useMenuConfig(\n    elements: Array<JSX.Element | null>,\n    config: MenuConfigOptions,\n    ref?: MutableRefObject<HTMLDivElement | null>,\n): [\n    menu: React.ReactNode,\n    openDialog: (anchorElOrEvent: HTMLElement | SyntheticEvent<HTMLElement>) => void,\n    closeDialog: () => void,\n    open: boolean,\n] {\n    const { classes } = useStyles()\n    const { anchorSibling = false, useShadowRoot = true, ...menuProps } = config\n    const [open, setOpen] = useState(false)\n    const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null)\n    const close = () => {\n        setOpen(false)\n        setAnchorEl(null)\n    }\n    const update = useUpdate()\n    return [\n        createElement(\n            useShadowRoot ? ShadowRootMenu : Menu,\n            {\n                ...menuProps,\n                PaperProps: menuProps?.PaperProps,\n                classes: { paper: classes.menu, ...menuProps.classes },\n                MenuListProps: menuProps?.MenuListProps,\n                open,\n                anchorEl,\n                ref,\n                onClose: close,\n                onClick: close,\n                anchorOrigin: menuProps?.anchorOrigin,\n                transformOrigin: menuProps?.transformOrigin,\n                disableScrollLock: true,\n            },\n            elements?.map((element, key) =>\n                isValidElement<object>(element) ? cloneElement(element, { ...element.props, key }) : element,\n            ),\n        ),\n        useCallback((anchorElOrEvent: HTMLElement | SyntheticEvent<HTMLElement>) => {\n            let element: HTMLElement\n            if (anchorElOrEvent instanceof HTMLElement) {\n                element = anchorElOrEvent\n            } else {\n                element = anchorElOrEvent.currentTarget\n            }\n\n            // when the essential content of currentTarget would be closed over,\n            //  we can set the anchorEl with currentTarget's bottom sibling to avoid it.\n            const finalAnchor = anchorSibling ? (element.nextElementSibling as HTMLElement) ?? undefined : element\n            setAnchorEl(finalAnchor)\n            setOpen(true)\n            // HACK: it seems like anchor doesn't work correctly\n            // but a force repaint can solve the problem.\n            window.requestAnimationFrame(update)\n        }, []),\n        useCallback(() => {\n            setOpen(false)\n            setAnchorEl(null)\n        }, []),\n        open,\n    ]\n}\n","import { Menu } from '@mui/material'\nimport { createShadowRootForwardedComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootMenu = createShadowRootForwardedComponent(Menu)\nShadowRootMenu.displayName = 'ShadowRootTooltip'\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Others } from './useWeb3Others.js'\n\nexport function useMaskTokenAddress<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { chainId } = useChainContext()\n    const Others = useWeb3Others(pluginID)\n    return Others?.getMaskTokenAddress?.(options?.chainId ?? chainId)\n}\n","import type { NetworkPluginID } from '@masknet/shared-base'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useQuery } from '@tanstack/react-query'\nimport { useChainContext } from './useContext.js'\nimport { useNativeTokenAddress } from './useNativeTokenAddress.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\n\nexport function useNativeTokenPrice<T extends NetworkPluginID = NetworkPluginID>(pluginID: T, options?: HubOptions<T>) {\n    const { chainId } = useChainContext({ chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, options)\n    const nativeTokenAddress = useNativeTokenAddress(pluginID, options)\n\n    return useQuery({\n        enabled: !!nativeTokenAddress,\n        queryKey: ['native-token', 'price', pluginID, chainId, nativeTokenAddress, options],\n        queryFn: async () =>\n            Hub.getFungibleTokenPrice(chainId, nativeTokenAddress!, {\n                chainId,\n            }),\n    })\n}\n","import { type NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport { useNetworkContext } from './useContext.js'\n\n/**\n * Get all built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptors<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return getRegisteredWeb3Networks(pluginID)\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useQuery } from '@tanstack/react-query'\n\nexport function useNonFungibleAsset<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string,\n    id?: string,\n    options?: HubOptions<T>,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Hub = useWeb3Hub(pluginID, {\n        account,\n        ...options,\n    })\n\n    return useQuery({\n        enabled: !!address,\n        queryKey: ['non-fungible-asset', pluginID, address, id, account, options],\n        queryFn: async () => {\n            if (!address || (!id && pluginID !== NetworkPluginID.PLUGIN_SOLANA)) return null\n            return Hub.getNonFungibleAsset(address, id ?? '')\n        },\n    })\n}\n","import { toHex } from 'web3-utils'\nimport { GasOptionType, isZero, multipliedBy, toFixed } from '@masknet/web3-shared-base'\nimport { formatWeiToEther } from '../helpers/formatter.js'\nimport type {\n    ChainId,\n    EIP1559GasConfig,\n    GasConfig,\n    GasOption,\n    PriorEIP1559GasConfig,\n    Transaction,\n} from '../types/index.js'\nimport { CHAIN_DESCRIPTORS } from '../constants/descriptors.js'\n\nexport class GasEditor {\n    constructor(\n        private chainId: ChainId,\n        private config: Partial<GasConfig>,\n    ) {}\n\n    private get isEIP1559() {\n        return !!CHAIN_DESCRIPTORS.find((x) => x.chainId === this.chainId)?.features?.includes('EIP1559')\n    }\n\n    private get EIP1559GasOptionConfig() {\n        return this.config as EIP1559GasConfig\n    }\n\n    private get priorEIP1559GasOptionConfig() {\n        return this.config as PriorEIP1559GasConfig\n    }\n\n    getGasFee(gas: string | number) {\n        return multipliedBy(this.getGasPrice(), gas)\n    }\n\n    getGasFeeInUSD(gas: string, price: string) {\n        return formatWeiToEther(this.getGasFee(gas)).multipliedBy(price)\n    }\n\n    getGasPrice() {\n        return this.EIP1559GasOptionConfig.maxFeePerGas || this.priorEIP1559GasOptionConfig.gasPrice || '0'\n    }\n\n    getGasConfig(fallback?: Partial<GasConfig>): GasConfig {\n        if (this.isEIP1559) {\n            const config = fallback as EIP1559GasConfig | undefined\n            return {\n                gasPrice: undefined,\n                maxFeePerGas: toHex(this.EIP1559GasOptionConfig.maxFeePerGas) || toHex(config?.maxFeePerGas || '0'),\n                maxPriorityFeePerGas:\n                    toHex(this.EIP1559GasOptionConfig.maxPriorityFeePerGas) ||\n                    toHex(config?.maxPriorityFeePerGas || '1'),\n                gasCurrency: this.EIP1559GasOptionConfig?.gasCurrency || fallback?.gasCurrency,\n                gas:\n                    this.EIP1559GasOptionConfig.gas && !isZero(this.EIP1559GasOptionConfig.gas)\n                        ? toHex(this.EIP1559GasOptionConfig.gas)\n                        : undefined,\n                gasOptionType: this.config.gasOptionType ?? config?.gasOptionType,\n            }\n        }\n\n        const priorConfig = fallback as PriorEIP1559GasConfig | undefined\n\n        return {\n            gasPrice: toHex(this.priorEIP1559GasOptionConfig.gasPrice) || toHex(priorConfig?.gasPrice || '0'),\n            maxFeePerGas: undefined,\n            maxPriorityFeePerGas: undefined,\n            gasOptionType: this.config.gasOptionType ?? priorConfig?.gasOptionType,\n        }\n    }\n\n    static fromConfig(chainId: ChainId, gasConfig: Partial<GasConfig> = {}) {\n        return new GasEditor(chainId, gasConfig)\n    }\n\n    static fromGasPrice(chainId: ChainId, gasPrice = '0') {\n        return new GasEditor(chainId, {\n            gasPrice,\n            maxFeePerGas: gasPrice,\n            maxPriorityFeePerGas: gasPrice,\n        })\n    }\n\n    static fromTransaction(chainId: ChainId, transaction?: Transaction) {\n        return new GasEditor(chainId, {\n            gas: transaction?.gas,\n            gasPrice: transaction?.gasPrice,\n            maxFeePerGas: transaction?.maxFeePerGas,\n            maxPriorityFeePerGas: transaction?.maxPriorityFeePerGas,\n        })\n    }\n\n    static fromGasOption(chainId: ChainId, gasOption?: GasOption) {\n        return new GasEditor(chainId, {\n            gasPrice: toFixed(gasOption?.suggestedMaxFeePerGas ?? 0, 0),\n            maxFeePerGas: toFixed(gasOption?.suggestedMaxFeePerGas ?? 0, 0),\n            maxPriorityFeePerGas: toFixed(gasOption?.suggestedMaxPriorityFeePerGas ?? 0, 0),\n        })\n    }\n\n    static fromGasOptions(\n        chainId: ChainId,\n        gasOptions?: Record<GasOptionType, GasOption>,\n        gasOptionType = GasOptionType.NORMAL,\n    ) {\n        return new GasEditor(chainId, {\n            gasPrice: toFixed(gasOptions?.[gasOptionType]?.suggestedMaxFeePerGas ?? 0, 0),\n            maxFeePerGas: toFixed(gasOptions?.[gasOptionType]?.suggestedMaxFeePerGas ?? 0, 0),\n            maxPriorityFeePerGas: toFixed(gasOptions?.[gasOptionType]?.suggestedMaxPriorityFeePerGas ?? 0, 0),\n        })\n    }\n}\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getTabPanelUtilityClass(slot) {\n  return generateUtilityClass('MuiTabPanel', slot);\n}\nconst tabPanelClasses = generateUtilityClasses('MuiTabPanel', ['root']);\nexport default tabPanelClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { getTabPanelUtilityClass } from './tabPanelClasses';\nimport { getPanelId, getTabId, useTabContext } from '../TabContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getTabPanelUtilityClass, classes);\n};\n\nconst TabPanelRoot = styled('div', {\n  name: 'MuiTabPanel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  padding: theme.spacing(3)\n}));\nconst TabPanel = /*#__PURE__*/React.forwardRef(function TabPanel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTabPanel'\n  });\n\n  const {\n    children,\n    className,\n    value\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props);\n\n  const classes = useUtilityClasses(ownerState);\n  const context = useTabContext();\n\n  if (context === null) {\n    throw new TypeError('No TabContext provided');\n  }\n\n  const id = getPanelId(context, value);\n  const tabId = getTabId(context, value);\n  return /*#__PURE__*/_jsx(TabPanelRoot, _extends({\n    \"aria-labelledby\": tabId,\n    className: clsx(classes.root, className),\n    hidden: value !== context.value,\n    id: id,\n    ref: ref,\n    role: \"tabpanel\",\n    ownerState: ownerState\n  }, other, {\n    children: value === context.value && children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabPanel.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The `value` of the corresponding `Tab`. Must use the index of the `Tab` when\n   * no `value` was passed to `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\nexport default TabPanel;","import { useEffect, useState } from 'react';\nconst DEFAULT_THRESHOLD = [0];\nconst DEFAULT_ROOT_MARGIN = '0px';\nconst observers = new Map();\nconst getObserverEntry = (options) => {\n    const root = options.root ?? document;\n    let rootObservers = observers.get(root);\n    if (!rootObservers) {\n        rootObservers = new Map();\n        observers.set(root, rootObservers);\n    }\n    const opt = JSON.stringify([options.rootMargin, options.threshold]);\n    let entry = rootObservers.get(opt);\n    if (!entry) {\n        const callbacks = new Map();\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach((e) => callbacks.get(e.target)?.forEach((cb) => setTimeout(() => {\n                cb(e);\n            }, 0)));\n        }, options);\n        entry = {\n            observer,\n            observe(target, callback) {\n                let cbs = callbacks.get(target);\n                if (!cbs) {\n                    // If target has no observers yet - register it\n                    cbs = new Set();\n                    callbacks.set(target, cbs);\n                    observer.observe(target);\n                }\n                // As Set is duplicate-safe - simply add callback on each call\n                cbs.add(callback);\n            },\n            unobserve(target, callback) {\n                const cbs = callbacks.get(target);\n                // Else branch should never occur in case of normal execution\n                // because callbacks map is hidden in closure - it is impossible to\n                // simulate situation with non-existent `cbs` Set\n                /* istanbul ignore else */\n                if (cbs) {\n                    // Remove current observer\n                    cbs.delete(callback);\n                    if (!cbs.size) {\n                        // If no observers left unregister target completely\n                        callbacks.delete(target);\n                        observer.unobserve(target);\n                        // If not tracked elements left - disconnect observer\n                        if (!callbacks.size) {\n                            observer.disconnect();\n                            rootObservers.delete(opt);\n                            if (!rootObservers.size) {\n                                observers.delete(root);\n                            }\n                        }\n                    }\n                }\n            },\n        };\n        rootObservers.set(opt, entry);\n    }\n    return entry;\n};\n/**\n * Tracks intersection of a target element with an ancestor element or with a\n * top-level document's viewport.\n *\n * @param target React reference or Element to track.\n * @param options Like `IntersectionObserver` options but `root` can also be\n * react reference\n */\nexport function useIntersectionObserver(target, { threshold = DEFAULT_THRESHOLD, root: r, rootMargin = DEFAULT_ROOT_MARGIN, } = {}) {\n    const [state, setState] = useState();\n    useEffect(() => {\n        const tgt = target && 'current' in target ? target.current : target;\n        if (!tgt)\n            return;\n        let subscribed = true;\n        const observerEntry = getObserverEntry({\n            root: r && 'current' in r ? r.current : r,\n            rootMargin,\n            threshold,\n        });\n        const handler = (entry) => {\n            // It is reinsurance for the highly asynchronous invocations, almost\n            // impossible to achieve in tests, thus excluding from LOC\n            /* istanbul ignore else */\n            if (subscribed) {\n                setState(entry);\n            }\n        };\n        observerEntry.observe(tgt, handler);\n        return () => {\n            subscribed = false;\n            observerEntry.unobserve(tgt, handler);\n        };\n    }, [target, r, rootMargin, ...threshold]);\n    return state;\n}\n"],"names":["useActivatedPluginExtensionPage","useActivatedPluginSiteAdaptor","useActivatedPlugin","pluginID","minimalModeEqualsTo","pluginSiteAdaptor","pluginExtensionPage","makeStyles","Box","Typography","Button","memo","useSharedTrans","useStyles","theme","statusBox","display","alignItems","justifyContent","flexDirection","text","color","palette","maskColor","second","fontSize","fontWeight","lineHeight","button","marginTop","spacing","minWidth","height","ReloadStatus","className","children","message","actionLabel","onRetry","rest","classes","cx","t","p","load_failed","onClick","variant","size","load_retry","Fragment","BigNumber","isZero","isLessThan","balance","marginRight","FormattedBalance","props","value","decimals","significant","symbol","minimumBalance","formatter","valueInt","toFixed","formatted","toString","undefined","span","String","useMemo","useAsync","NetworkPluginID","useChainContext","useFungibleTokenBalance","useMaskTokenAddress","useNativeTokenBalance","DepositPaymaster","SmartPayBundler","isGreaterThan","isSameAddress","ZERO","GasEditor","isNativeTokenAddress","formatEtherToWei","useAvailableBalance","address","gasOption","options","chainId","nativeTokenBalance","maskTokenAddress","data","maskBalance","isLoading","isLoadingMaskBalance","tokenBalance","isLoadingTokenBalance","currencyRatio","loading","getSupportedChainId","depositPaymaster","ratio","getRatio","gasFee","gas","PLUGIN_EVM","result","fromConfig","getGasFee","gasCurrency","multipliedBy","isGasFeeGreaterThanOneETH","gte","isAvailableBalance","isGasSufficient","max","minus","compact","noop","pick","useCallback","useState","MenuItem","alpha","RadioIndicator","formatBalance","useFungibleToken","useNativeToken","useERC20TokenAllowance","useSmartPayConstants","useMenuConfig","TokenIcon","paper","background","bottom","borderRadius","boxShadow","bottomBg","padding","item","token","columnGap","radio","mode","line","useGasCurrencyMenu","pluginId","onCurrencyChange","selectedAddress","handleUnlock","sharedI18N","current","setCurrent","nativeToken","maskAddress","maskToken","PAYMASTER_MASK_CONTRACT_ADDRESS","allowance","availableBalanceTooLow","handleChange","selected","disableRipple","component","checked","unlock","anchorOrigin","vertical","horizontal","transformOrigin","cloneElement","isValidElement","createElement","useUpdate","Menu","ShadowRootMenu","useMenu","elements","menu","config","ref","anchorSibling","useShadowRoot","menuProps","open","setOpen","anchorEl","setAnchorEl","close","update","PaperProps","MenuListProps","onClose","disableScrollLock","map","element","key","anchorElOrEvent","HTMLElement","currentTarget","finalAnchor","nextElementSibling","window","requestAnimationFrame","createShadowRootForwardedComponent","displayName","useWeb3Others","Others","getMaskTokenAddress","useQuery","useNativeTokenAddress","useWeb3Hub","useNativeTokenPrice","Hub","nativeTokenAddress","enabled","queryKey","queryFn","getFungibleTokenPrice","getRegisteredWeb3Networks","useNetworkContext","useNetworkDescriptors","expectedPluginID","useNonFungibleAsset","id","account","PLUGIN_SOLANA","getNonFungibleAsset","toHex","GasOptionType","formatWeiToEther","CHAIN_DESCRIPTORS","constructor","isEIP1559","find","x","features","includes","EIP1559GasOptionConfig","priorEIP1559GasOptionConfig","getGasPrice","getGasFeeInUSD","price","maxFeePerGas","gasPrice","getGasConfig","fallback","maxPriorityFeePerGas","gasOptionType","priorConfig","gasConfig","fromGasPrice","fromTransaction","transaction","fromGasOption","suggestedMaxFeePerGas","suggestedMaxPriorityFeePerGas","fromGasOptions","gasOptions","NORMAL"],"sourceRoot":"","x_google_ignoreList":[12,13,14]}