{"version":3,"file":"bundled/486.js","mappings":"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","sources":["webpack://mask-network/./packages/shared/src/UI/components/CopyButton/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/Icon/name2Image.ts","webpack://mask-network/./packages/shared/src/UI/components/Icon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ImageIcon/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/TokenIcon/index.tsx","webpack://mask-network/./packages/theme/src/CSSVariables/constants.ts","webpack://mask-network/./packages/theme/src/CSSVariables/vars.ts","webpack://mask-network/./packages/theme/src/Components/ActionButton/index.tsx","webpack://mask-network/./packages/theme/src/Components/LoadingBase/index.tsx","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Info.js","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/Warning.js","webpack://mask-network/./packages/theme/src/Components/Snackbar/index.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useBlockedFungibleTokens.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleAssets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleToken.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenBalance.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetwork.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworks.ts","webpack://mask-network/./packages/web3-hooks/base/src/useProviderDescriptor.ts","webpack://mask-network/./packages/web3-hooks/base/src/useTrustedFungibleTokens.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWallets.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Connection.ts","webpack://mask-network/./packages/web3-hooks/base/src/useWeb3Hub.ts","webpack://mask-network/./packages/web3-shared/base/src/helpers/formatCurrency.ts","webpack://mask-network/./node_modules/.pnpm/copy-to-clipboard@3.3.1/node_modules/copy-to-clipboard/index.js","webpack://mask-network/./node_modules/.pnpm/toggle-selection@1.0.6/node_modules/toggle-selection/index.js"],"sourcesContent":["import { Icons, type GeneratedIconProps } from '@masknet/icons'\nimport { ShadowRootTooltip, makeStyles } from '@masknet/theme'\nimport { Link, type LinkProps } from '@mui/material'\nimport { memo, useCallback, useRef, useState, type MouseEvent } from 'react'\nimport { useCopyToClipboard } from 'react-use'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    copy: {\n        '&:hover': {\n            color: theme.palette.maskColor.main,\n        },\n    },\n}))\n\nexport interface CopyButtonProps\n    extends Omit<LinkProps<'button'>, 'color'>,\n        Pick<GeneratedIconProps, 'size' | 'color'> {\n    title?: string\n    text: string\n    /** defaults to 'Copied' */\n    successText?: string\n    /** stop event propagation and prevent default */\n    scoped?: boolean\n}\n\nexport const CopyButton = memo<CopyButtonProps>(function CopyButton({\n    text,\n    title,\n    successText,\n    size,\n    color,\n    scoped = true,\n    className,\n    ...props\n}) {\n    const t = useSharedTrans()\n    const { classes, cx, theme } = useStyles(undefined, { props })\n\n    const [, copyToClipboard] = useCopyToClipboard()\n    const [copied, setCopied] = useState(false)\n    const [active, setActive] = useState(false)\n    const timerRef = useRef<ReturnType<typeof setTimeout>>()\n\n    const handleCopy = useCallback(\n        async (ev: MouseEvent<HTMLAnchorElement>) => {\n            if (scoped) {\n                ev.stopPropagation()\n                ev.preventDefault()\n            }\n            copyToClipboard(text)\n            setCopied(true)\n            setActive(true)\n            clearTimeout(timerRef.current)\n            timerRef.current = setTimeout(setActive, 1500, false)\n        },\n        [text, scoped],\n    )\n\n    const tooltipTitle = copied ? successText ?? t.copied() : title ?? t.copy()\n    const iconProps = { size, color }\n\n    return (\n        <ShadowRootTooltip open={active} title={tooltipTitle} placement=\"top\" disableInteractive arrow>\n            <Link\n                underline=\"none\"\n                component=\"button\"\n                onClick={handleCopy}\n                color=\"inherit\"\n                {...props}\n                fontSize={0}\n                className={cx(classes.root, className)}>\n                {active ? (\n                    <Icons.Check {...iconProps} color={theme.palette.maskColor.success} />\n                ) : (\n                    <Icons.Copy {...iconProps} className={classes.copy} />\n                )}\n            </Link>\n        </ShadowRootTooltip>\n    )\n})\n","const DEFAULT_IMAGES = [\n    new URL('./Aura1.svg', import.meta.url).toString(),\n    new URL('./Aura2.svg', import.meta.url).toString(),\n    new URL('./Aura3.svg', import.meta.url).toString(),\n    new URL('./Aura4.svg', import.meta.url).toString(),\n    new URL('./Aura5.svg', import.meta.url).toString(),\n    new URL('./Aura6.svg', import.meta.url).toString(),\n    new URL('./Aura7.svg', import.meta.url).toString(),\n    new URL('./Aura8.svg', import.meta.url).toString(),\n    new URL('./Aura9.svg', import.meta.url).toString(),\n    new URL('./Aura10.svg', import.meta.url).toString(),\n    new URL('./Aura11.svg', import.meta.url).toString(),\n    new URL('./Aura12.svg', import.meta.url).toString(),\n]\n\nexport const name2Image = (name?: string): string => {\n    if (!name) return DEFAULT_IMAGES[0]\n    let sum = 0\n    for (let i = 0; i < name.length; i += 1) {\n        sum += name.charCodeAt(i)\n    }\n\n    return DEFAULT_IMAGES[sum % DEFAULT_IMAGES.length]\n}\n","import { memo, useState } from 'react'\nimport { Avatar, type AvatarProps, useTheme } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { name2Image } from './name2Image.js'\n\nconst useStyles = makeStyles<Pick<IconProps, 'size'>>()((theme, { size }) => ({\n    icon: {\n        margin: 0,\n        borderRadius: '50%',\n        color: `${theme.palette.maskColor.dark} !important`,\n        backgroundSize: 'cover',\n        height: size,\n        width: size,\n    },\n}))\n\nexport interface IconProps extends AvatarProps {\n    color?: string\n    size?: number | string\n    name?: string\n    label?: string\n    logoURL?: string\n}\n\nexport const Icon = memo<IconProps>(function Icon(props) {\n    const { logoURL, size, color, name, label, className, ...rest } = props\n    const [failed, setFailed] = useState(false)\n\n    const defaultBackgroundImage = name2Image(name)\n    const { classes, cx } = useStyles({ size })\n    const theme = useTheme()\n\n    const showImage = logoURL && !failed\n\n    return (\n        <Avatar\n            className={cx(classes.icon, className)}\n            src={logoURL}\n            {...rest}\n            imgProps={{\n                onError: (event) => {\n                    setFailed(true)\n                    rest.imgProps?.onError?.(event)\n                },\n                ...rest.imgProps,\n            }}\n            sx={{\n                ...rest.sx,\n                backgroundImage: showImage ? undefined : `url(\"${defaultBackgroundImage}\")`,\n                backgroundColor: showImage ? color ?? theme.palette.common.white : undefined,\n            }}>\n            {label ?? name?.slice(0, 1).toUpperCase() ?? '?'}\n        </Avatar>\n    )\n})\n\nIcon.displayName = 'Icon'\n","import { memo, type HTMLProps, type CSSProperties } from 'react'\n\nexport interface ImageIconProps extends HTMLProps<HTMLImageElement> {\n    size?: number\n    icon?: string\n    iconFilterColor?: string\n}\n\nexport const ImageIcon = memo(function ImageIcon({ size = 48, icon, iconFilterColor, ...rest }: ImageIconProps) {\n    const style: CSSProperties | undefined = iconFilterColor\n        ? {\n              filter: `drop-shadow(0px 6px 12px ${iconFilterColor})`,\n              backdropFilter: 'blur(16px)',\n              ...rest.style,\n          }\n        : rest.style\n\n    return <img height={size} width={size} src={icon?.toString()} {...rest} style={style} />\n})\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useFungibleToken, useWeb3Hub } from '@masknet/web3-hooks-base'\nimport { TokenType } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { first } from 'lodash-es'\nimport { memo } from 'react'\nimport { Icon, type IconProps } from '../Icon/index.js'\n\nexport interface TokenIconProps extends IconProps {\n    pluginID?: NetworkPluginID\n    chainId?: Web3Helper.ChainIdAll\n    address: string\n    symbol?: string\n    tokenType?: TokenType\n    disableDefaultIcon?: boolean\n}\n\nexport const TokenIcon = memo(function TokenIcon(props: TokenIconProps) {\n    const {\n        pluginID = NetworkPluginID.PLUGIN_EVM,\n        chainId: propChainId,\n        address,\n        logoURL,\n        symbol,\n        tokenType = TokenType.Fungible,\n        disableDefaultIcon,\n        name,\n        ...rest\n    } = props\n    const { data: token } = useFungibleToken(pluginID, address, undefined, { chainId: propChainId })\n\n    const { chainId } = useChainContext({ chainId: props.chainId })\n    const Hub = useWeb3Hub(pluginID)\n    const isNFT = tokenType === TokenType.NonFungible\n    const { data } = useQuery({\n        queryKey: ['token-icon', chainId, address, isNFT],\n        enabled: !logoURL,\n        queryFn: async () => {\n            const logoURLs = isNFT\n                ? (() => {\n                      throw new Error(\n                          \"Unreachable: it used to call Hub.getNonFungibleTokenIconURLs, but it's default implementation is throw an error, and not override by any subclass.\",\n                      )\n                  })()\n                : await Hub.getFungibleTokenIconURLs(chainId, address).catch(() => [])\n            return first(logoURLs)\n        },\n    })\n\n    if (data && disableDefaultIcon) return null\n    const text = token?.name || token?.symbol || symbol || name || '?' // `?` prevent to fallback to avatar icon\n    const url = logoURL || token?.logoURL || data\n    return <Icon {...rest} logoURL={url} name={text} />\n})\n","export const LightColor = {\n    bg: '##F9F9F9',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#FFFFFF',\n    secondary: '#e8f0fe',\n    secondaryContrastText: '#1c68f3',\n    input: '#F6F6F8',\n    primaryBackground: '#ffffff',\n    primaryBackground2: '#FBFBFC',\n    secondaryBackground: '#f9fafa',\n    lightBackground: '#F9FAFA',\n    mainBackground: '#ffffff',\n    suspensionBackground: 'rgba(249, 250, 250, 0.8)',\n    normalBackground: '#F3F3F4',\n    twitterBackground: '#F7F9FA',\n    twitterBackgroundHover: '#EFF1F2',\n    twitterInputBackground: '#F6F8F8',\n    twitterButton: '#111418',\n    twitterButtonText: '#ffffff',\n    twitterBlue: '#1C68F3',\n    twitterBorderLine: '#EDF1F2',\n    twitterSecond: '#7B8192',\n    twitterMain: '#0F1419',\n    twitterBottom: '#ffffff',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterBg: '#F6F8F8',\n    twitterTooltipBg: 'rgba(0,0,0,.6)',\n    twitterInput: '#EDF1F2',\n    twitterLine: '#EBEEF0',\n    redMain: '#ff5f5f',\n    redLight: '#ffafaf',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#e6f6f0',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#faf0d8',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#eff3f4',\n\n    border: '#F3F3F4',\n    borderSecondary: '#536471',\n\n    textPrimary: '#111432',\n    textSecondary: '#7b8192',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: '#7B8192',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#1C68F3',\n    lineLight: '#E4E8F1',\n    lineLighter: '#E9E9EA',\n    textLight: '#A6A9B6',\n    lightestBackground: '#FFFFFF',\n    linkText: '#1C68F3',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#F9FAFA',\n    main: '#1C68F3',\n    errorBackground: 'rgba(255, 95, 95, 0.15)',\n    tooltipBackground: '#ffffff',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#000000',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport const DarkColor: typeof LightColor = {\n    bg: '#1C1C1C',\n    primary: '#1c68f3',\n    primaryContrastText: '#ffffff',\n    background: '#15171A',\n    secondary: '#242e57',\n    secondaryContrastText: '#ffffff',\n    input: '#282B49',\n    primaryBackground: '#212442',\n    primaryBackground2: '#212442',\n    secondaryBackground: '#252846',\n    lightBackground: '#2E314F',\n    mainBackground: '#111432',\n    suspensionBackground: 'rgba(27, 30, 60, 0.8)',\n    normalBackground: '#262947',\n    twitterInputBackground: '#17191D',\n    twitterBackground: '#17191D',\n    twitterBackgroundHover: '#17191D',\n    twitterButton: '#EFF3F4',\n    twitterButtonText: '#0F1419',\n    twitterBlue: '#4989FF',\n    twitterBorderLine: '#2F3336',\n    twitterInput: '#1D2023',\n    twitterSecond: '#636B72',\n    twitterMain: '#D9D9D9',\n    twitterBottom: '#000000',\n    twitterInfoBackground: '#AFC3E1',\n    twitterInfo: '#8CA3C7',\n    twitterLine: '#2F3336',\n    twitterBg: '#15171A',\n    twitterTooltipBg: 'rgba(91,112,131,.6)',\n    redMain: '#ff5f5f',\n    redLight: '#46304a',\n    redContrastText: '#ffffff',\n\n    greenMain: '#3DC233',\n    greenLight: '#314457',\n\n    orangeMain: '#ffb915',\n    orangeLight: '#463e3f',\n\n    iconLight: '#a6a9b6',\n\n    divider: '#3e455e',\n\n    border: '#3E455E',\n    borderSecondary: '#6e767d',\n\n    // TODO: ?\n    textPrimary: '#ffffff',\n    // TODO: ?\n    textSecondary: 'ghostwhite',\n\n    secondaryInfoText: '#AFC3E1',\n    normalText: 'rgba(255, 255, 255, 0.8)',\n    normalTextLight: 'rgba(255, 255, 255, 0.8)',\n\n    infoBackground: 'rgba(175, 195, 225, 0.15)',\n    success: '#60DFAB',\n    warning: '#FFB915',\n    blue: '#1C68F3',\n    textLink: '#ffffff',\n    lineLight: '#32365B',\n    lineLighter: '#32365B',\n    textLight: '#A6A9B6',\n    lightestBackground: '#212422',\n    linkText: '#ffffff',\n    twitter: '#2CA4EF',\n    facebook: '#4267B2',\n    white: '#ffffff',\n    bottom: '#000000',\n    main: '#D4D4D4',\n    errorBackground: 'rgba(255, 95, 95, 0.1)',\n    tooltipBackground: '#1A1D20',\n    warningBackground: 'rgba(255, 185, 21, 0.1)',\n    cyberconnectPrimary: '#ffffff',\n    errorPlugin: '#FF3545',\n    buttonPluginBackground: '#07101B',\n    textPluginColor: '#07101B',\n    buttonPluginColor: '#FFFFFF',\n}\nexport type Color = typeof LightColor\n","import type { Theme } from '@mui/material'\nimport { kebabCase } from 'lodash-es'\nimport { LightColor, DarkColor } from './constants.js'\n\nexport function getMaskColor(theme: Theme) {\n    if (theme.palette.mode === 'dark') return DarkColor\n    return LightColor\n}\nexport type MaskCSSVariableColor = string & {\n    /** Append alpha channel to the original color */\n    alpha(alpha: number): string\n} & ((defaultValue?: string) => string)\n\nfunction set(key: string | symbol) {\n    if (typeof key === 'symbol') return undefined\n    const cssVar = kebabCase(key)\n    function value(defaultValue?: string) {\n        // it might be an object when used in styled components.\n        if (typeof defaultValue !== 'string') defaultValue = undefined\n        const x = `var(--mask-${cssVar}${defaultValue ? ', ' + defaultValue : ''})`\n        return x\n    }\n    Object.assign(value, {\n        [Symbol.toPrimitive]: () => `var(--mask-${cssVar})`,\n        alpha: (alpha: number) => `rgba(var(--mask-${cssVar}-fragment), ${alpha})`,\n    })\n    Object.defineProperty(MaskColorVar, key, { configurable: true, enumerable: true, value })\n    return value\n}\n/**\n * @deprecated Use theme.palette.maskColor\n */\nexport const MaskColorVar: Record<keyof typeof LightColor, MaskCSSVariableColor> = {\n    __proto__: new Proxy(\n        {},\n        {\n            get: (_, p) => set(p),\n            getOwnPropertyDescriptor: (_, p) => {\n                set(p)\n                return Object.getOwnPropertyDescriptor(MaskColorVar, p)\n            },\n        },\n    ),\n} as any\n","import { Box, Button } from '@mui/material'\nimport type { ButtonProps } from '@mui/material/Button'\nimport { LoadingBase } from '../LoadingBase/index.js'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nexport interface ActionButtonProps extends ButtonProps {\n    width?: number | string\n    loading?: boolean\n}\n\nconst useStyles = makeStyles()({\n    loading: {\n        ['& > *']: {\n            opacity: 0.3,\n        },\n    },\n})\n\nexport function ActionButton<T extends React.ComponentType<any> = React.ComponentType>(\n    props: ActionButtonProps & PropsOf<T>,\n) {\n    const { width, loading, children, className, style, ...rest } = props\n    const { classes, cx } = useStyles()\n    return (\n        <Button\n            className={cx('actionButton', className, loading ? classes.loading : undefined)}\n            style={{ width, ...style, pointerEvents: loading ? 'none' : undefined }}\n            {...rest}\n            disableElevation\n            disabled={!!(rest.disabled || loading)}>\n            {loading ? (\n                <Box\n                    position=\"absolute\"\n                    width=\"100%\"\n                    height=\"100%\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                    style={{ opacity: 1 }}>\n                    <LoadingBase />\n                </Box>\n            ) : null}\n            {children}\n        </Button>\n    )\n}\n","import { type GeneratedIconProps, Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    animated: {\n        '@keyframes loadingAnimation': {\n            '0%': {\n                transform: 'rotate(0deg)',\n            },\n            '100%': {\n                transform: 'rotate(360deg)',\n            },\n        },\n        animation: 'loadingAnimation 1s linear infinite',\n    },\n}))\n\nexport function LoadingBase(props: GeneratedIconProps) {\n    const { classes, cx } = useStyles()\n    return <Icons.CircleLoading {...props} className={cx(classes.animated, props.className)} />\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import { forwardRef, useRef, memo, useCallback } from 'react'\nimport { keyframes } from 'tss-react'\nimport {\n    SnackbarProvider,\n    type SnackbarProviderProps,\n    type SnackbarKey,\n    useSnackbar,\n    type VariantType,\n    type SnackbarMessage,\n    SnackbarContent,\n    type SnackbarAction,\n    type OptionsObject,\n} from 'notistack'\nimport { Typography, IconButton, alpha } from '@mui/material'\nimport { Close as CloseIcon, Warning as WarningIcon, Info as InfoIcon } from '@mui/icons-material'\nimport { Icons } from '@masknet/icons'\nimport { makeStyles } from '../../UIHelper/index.js'\nimport { MaskColorVar } from '../../CSSVariables/index.js'\nimport { usePortalShadowRoot } from '../../ShadowRoot/index.js'\n\nexport { PopupSnackbarProvider, usePopupCustomSnackbar } from './PopupSnackbar.js'\nexport { SnackbarProvider, useSnackbar } from 'notistack'\nexport type { VariantType, OptionsObject, SnackbarKey, SnackbarMessage } from 'notistack'\n\nexport interface StyleProps {\n    offsetY?: number\n}\n\nconst useStyles = makeStyles<StyleProps, 'title' | 'message'>()((theme, { offsetY }, classNames) => {\n    const spinningAnimationKeyFrames = keyframes`\n        to {\n          transform: rotate(360deg)\n        }\n    `\n    const title = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 700,\n        fontSize: 14,\n        lineHeight: '18px',\n    } as const\n    const message = {\n        color: theme.palette.maskColor.main,\n        fontWeight: 400,\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: 14,\n        lineHeight: '18px',\n        wordBreak: 'break-word',\n        '& > a': {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        '& :focus:not(:focus-visible)': {\n            outline: 0,\n        },\n    } as const\n    const defaultVariant = {\n        background: theme.palette.maskColor.bottom,\n        color: theme.palette.maskColor.main,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n\n        [`& .${classNames.message}`]: {\n            color: 'inherit',\n        },\n    }\n    const success = {\n        backgroundColor: theme.palette.maskColor.success,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.success, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const error = {\n        background: theme.palette.maskColor.danger,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.danger, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    const info = {\n        background: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        boxShadow:\n            theme.palette.mode === 'dark'\n                ? '0px 4px 30px rgba(255, 255, 255, 0.15)'\n                : '0px 4px 30px rgba(0, 0, 0, 0.1)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    }\n\n    const warning = {\n        backgroundColor: theme.palette.maskColor.warn,\n        color: theme.palette.maskColor.white,\n        boxShadow: `0px 6px 20px ${alpha(theme.palette.maskColor.warn, 0.15)}`,\n        backdropFilter: 'blur(16px)',\n        [`& .${classNames.title}`]: {\n            color: 'inherit',\n        },\n        [`& .${classNames.message}`]: {\n            color: alpha(theme.palette.maskColor.white, 0.8),\n            '& svg': {\n                color: theme.palette.maskColor.white,\n            },\n        },\n    } as const\n\n    return {\n        root: {\n            zIndex: 9999,\n            transform: typeof offsetY !== 'undefined' ? `translateY(${offsetY}px)` : 'none',\n            color: MaskColorVar.textLight,\n            pointerEvents: 'inherit',\n        },\n        content: {\n            alignItems: 'center',\n            padding: theme.spacing(2),\n            borderRadius: 12,\n            width: 380,\n            flexWrap: 'nowrap !important' as 'nowrap',\n        },\n        // eslint-disable-next-line tss-unused-classes/unused-classes\n        default: defaultVariant,\n        success,\n        error,\n        info,\n        warning,\n        icon: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '& > svg': {\n                width: 24,\n                height: 24,\n            },\n        },\n        spinning: {\n            display: 'flex',\n            animation: `${spinningAnimationKeyFrames} 2s infinite linear`,\n        },\n        action: {\n            marginLeft: 'auto',\n        },\n        closeButton: {\n            color: 'inherit',\n            transform: 'translateY(-10px)',\n        },\n        texts: {\n            marginLeft: theme.spacing(1.5),\n            '& :focus:not(:focus-visible)': {\n                outline: 0,\n            },\n        },\n        title,\n        message,\n    }\n})\n\nexport interface CustomSnackbarContentProps {\n    id: SnackbarKey\n    title: SnackbarMessage\n    message?: string | React.ReactNode\n    icon?: React.ReactNode\n    processing?: boolean\n    variant?: VariantType\n    action?: SnackbarAction\n    offsetY?: number\n    classes?: Partial<ReturnType<typeof useStyles>['classes']>\n}\nconst IconMap: Record<VariantType, React.ReactNode> = {\n    default: <InfoIcon color=\"inherit\" />,\n    success: <Icons.SuccessForSnackBar />,\n    error: <Icons.TransactionFailed />,\n    warning: <WarningIcon color=\"inherit\" />,\n    info: <InfoIcon color=\"inherit\" />,\n}\n\nexport const CustomSnackbarContent = forwardRef<HTMLDivElement, CustomSnackbarContentProps>((props, ref) => {\n    const { classes, cx } = useStyles({ offsetY: props.offsetY }, { props })\n    const snackbar = useSnackbar()\n    const loadingIcon = <Icons.CircleLoading className={classes.spinning} />\n    const variantIcon = props.processing ? loadingIcon : props.variant ? IconMap[props.variant] : null\n    let renderedAction: React.ReactNode = (\n        <IconButton className={classes.closeButton} onClick={() => snackbar.closeSnackbar(props.id)}>\n            <CloseIcon />\n        </IconButton>\n    )\n    if (props.action) {\n        renderedAction = typeof props.action === 'function' ? props.action(props.id) : props.action\n    }\n    return (\n        <SnackbarContent ref={ref} className={cx(classes.content, classes[props.variant!])}>\n            {variantIcon ? <div className={classes.icon}>{variantIcon}</div> : null}\n            <div className={classes.texts}>\n                <Typography className={classes.title} variant=\"h2\">\n                    {props.title}\n                </Typography>\n                {props.message ? (\n                    <Typography className={classes.message} variant=\"body1\">\n                        {props.message}\n                    </Typography>\n                ) : null}\n            </div>\n            <div className={classes.action}>{renderedAction}</div>\n        </SnackbarContent>\n    )\n})\n\nexport const CustomSnackbarProvider = memo<\n    SnackbarProviderProps & {\n        offsetY?: number\n    }\n>(function CustomSnackbarProvider({ offsetY, ...rest }) {\n    const ref = useRef<SnackbarProvider>(null)\n    const { classes } = useStyles({ offsetY })\n    const onDismiss = (key: string | number) => () => {\n        ref.current?.closeSnackbar(key)\n    }\n\n    return usePortalShadowRoot((container) => (\n        <SnackbarProvider\n            ref={ref}\n            maxSnack={30}\n            disableWindowBlurListener\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            hideIconVariant\n            // this is a false positive, SnackbarProvider won't use it like it is a component.\n            // eslint-disable-next-line react/no-unstable-nested-components\n            content={(key, title) => (\n                <CustomSnackbarContent id={key} variant={rest.variant ?? 'default'} title={title} offsetY={offsetY} />\n            )}\n            // eslint-disable-next-line react/no-unstable-nested-components\n            action={(key) => (\n                <IconButton size=\"large\" onClick={onDismiss(key)} sx={{ color: 'inherit' }}>\n                    <CloseIcon color=\"inherit\" />\n                </IconButton>\n            )}\n            classes={{\n                containerRoot: classes.root,\n                variantSuccess: classes.success,\n                variantError: classes.error,\n                variantInfo: classes.info,\n                variantWarning: classes.warning,\n            }}\n            domRoot={container}\n            {...rest}\n        />\n    ))\n})\n\nexport interface ShowSnackbarOptions\n    extends OptionsObject,\n        Pick<CustomSnackbarContentProps, 'message' | 'processing' | 'icon' | 'classes'> {}\n\nexport function useCustomSnackbar() {\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n    const showSnackbar = useCallback(\n        (\n            text: SnackbarMessage,\n            options: ShowSnackbarOptions = {\n                variant: 'default',\n            },\n        ) => {\n            const { processing, message, variant, ...rest } = options\n            return enqueueSnackbar(text, {\n                variant: options.variant,\n                content: (key, title) => {\n                    return (\n                        <CustomSnackbarContent\n                            variant={variant ?? 'default'}\n                            id={key}\n                            title={title}\n                            message={message}\n                            processing={processing}\n                            action={rest.action}\n                            classes={rest.classes}\n                        />\n                    )\n                },\n                ...rest,\n            })\n        },\n        [enqueueSnackbar],\n    )\n\n    return { showSnackbar, closeSnackbar }\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useBlockedFungibleTokens<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    schemaType?: Web3Helper.SchemaTypeScope<S, T>,\n) {\n    const { Token } = useWeb3State(pluginID)\n    const fungibleTokens = useSubscription(Token?.blockedFungibleTokens ?? EMPTY_ARRAY)\n    return useMemo<Array<Web3Helper.FungibleTokenScope<S, T>>>(() => {\n        return fungibleTokens.length && schemaType\n            ? fungibleTokens.filter((x) => x.schema === schemaType)\n            : fungibleTokens\n    }, [schemaType, fungibleTokens])\n}\n","import {\n    EMPTY_LIST,\n    asyncIteratorToArray,\n    pageableToIterator,\n    type NetworkPluginID,\n    type PageIndicator,\n} from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { CurrencyType, currySameAddress, isSameAddress, leftShift, minus } from '@masknet/web3-shared-base'\nimport { BigNumber } from 'bignumber.js'\nimport { useQuery } from '@tanstack/react-query'\nimport { noop, unionWith } from 'lodash-es'\nimport { useEffect, useMemo } from 'react'\nimport { useBlockedFungibleTokens } from './useBlockedFungibleTokens.js'\nimport { useChainContext } from './useContext.js'\nimport { useTrustedFungibleTokens } from './useTrustedFungibleTokens.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useWeb3Others } from './useWeb3Others.js'\nimport { useWeb3State } from './useWeb3State.js'\nimport { useNetworks } from './useNetworks.js'\n\nexport function useFungibleAssets<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    schemaType?: Web3Helper.SchemaTypeScope<S, T>,\n    options?: HubOptions<T>,\n) {\n    const { account, chainId } = useChainContext({ account: options?.account, chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, {\n        account,\n        chainId,\n        ...options,\n    })\n    const Others = useWeb3Others(pluginID)\n    const trustedTokens = useTrustedFungibleTokens(pluginID)\n    const blockedTokens = useBlockedFungibleTokens(pluginID)\n    const { BalanceNotifier, Network } = useWeb3State(pluginID)\n    const networks = useNetworks()\n\n    const { data: mergedAssets = EMPTY_LIST, ...rest } = useQuery<Array<Web3Helper.FungibleAssetScope<S, T>>>({\n        queryKey: ['fungible-assets', pluginID, account],\n        queryFn: async () => {\n            if (!account) return EMPTY_LIST\n            const iterator = pageableToIterator(async (indicator?: PageIndicator) => {\n                return Hub.getFungibleAssets(account, {\n                    indicator,\n                    size: 50,\n                })\n            })\n\n            const trustedAssetsIterator = pageableToIterator(async (indicator?: PageIndicator) => {\n                return Hub.getTrustedFungibleAssets(account, trustedTokens, { indicator, size: 50 })\n            })\n            const assets = await asyncIteratorToArray(iterator)\n            const trustedAssets = await asyncIteratorToArray(trustedAssetsIterator)\n            const networkIds = networks.map((x) => x.chainId)\n\n            const list = unionWith(\n                assets,\n                trustedAssets.map((x) => ({ ...x, isCustomToken: true })),\n                (a, z) => isSameAddress(a.address, z.address) && a.chainId === z.chainId,\n            )\n            return list.filter((x) => networkIds.includes(x.chainId))\n        },\n    })\n    // Hub.getFungibleAssets relies on networks.\n    useEffect(() => {\n        return Network?.networks?.subscribe(() => {\n            rest.refetch()\n        })\n    }, [rest.refetch])\n\n    const assets: Array<Web3Helper.FungibleAssetScope<S, T>> = useMemo(() => {\n        const isTrustedToken = currySameAddress(trustedTokens.map((x) => x.address))\n        const isBlockedToken = currySameAddress(blockedTokens.map((x) => x.address))\n        const filteredAssets =\n            mergedAssets.length && schemaType ? mergedAssets.filter((x) => x.schema === schemaType) : mergedAssets\n\n        return filteredAssets\n            .filter((x) => !isBlockedToken(x))\n            .sort((a, z) => {\n                // mask token with position value\n                const aUSD = new BigNumber(a.value?.[CurrencyType.USD] || 0)\n                const zUSD = new BigNumber(z.value?.[CurrencyType.USD] || 0)\n                // token value\n                if (!aUSD.eq(zUSD)) return zUSD.gt(aUSD) ? 1 : -1\n\n                // the currently selected chain id\n                if (a.chainId !== z.chainId) {\n                    if (a.chainId === chainId) return -1\n                    if (z.chainId === chainId) return 1\n                }\n\n                // native token\n                const isNativeTokenA = isSameAddress(a.address, Others.getNativeTokenAddress(a.chainId))\n                const isNativeTokenZ = isSameAddress(z.address, Others.getNativeTokenAddress(z.chainId))\n                if (isNativeTokenA !== isNativeTokenZ) {\n                    if (isNativeTokenA) return -1\n                    if (isNativeTokenZ) return 1\n                }\n\n                const isMaskTokenA = isSameAddress(a.address, Others.getMaskTokenAddress(a.chainId))\n                const isMaskTokenZ = isSameAddress(z.address, Others.getMaskTokenAddress(z.chainId))\n                if (aUSD.isPositive() && isMaskTokenA) return -1\n                if (zUSD.isPositive() && isMaskTokenZ) return 1\n\n                // token balance\n                const aBalance = leftShift(a.balance, a.decimals)\n                const zBalance = leftShift(z.balance, z.decimals)\n                if (!aBalance.isEqualTo(zBalance)) return minus(zBalance, aBalance).isPositive() ? 1 : -1\n\n                // trusted token\n                if (isTrustedToken(a.address)) return -1\n                if (isTrustedToken(z.address)) return 1\n\n                // mask token with position value\n                if (isMaskTokenA) return -1\n                if (isMaskTokenZ) return 1\n\n                // alphabet\n                if (a.name !== z.name) return a.name < z.name ? -1 : 1\n\n                return 0\n            })\n    }, [mergedAssets, trustedTokens, blockedTokens, schemaType, chainId])\n\n    useEffect(() => {\n        return (\n            BalanceNotifier?.emitter.on('update', (ev) => {\n                if (isSameAddress(account, ev.account)) {\n                    rest.refetch()\n                }\n            }) ?? noop\n        )\n    }, [account, rest.refetch, BalanceNotifier])\n\n    return {\n        data: assets,\n        ...rest,\n    }\n}\n","import { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { attemptUntil } from '@masknet/web3-shared-base'\nimport { useQuery } from '@tanstack/react-query'\nimport { useWeb3Hub } from './useWeb3Hub.js'\nimport { useChainContext } from './useContext.js'\nimport { isNativeTokenAddress } from '@masknet/web3-shared-evm'\nimport { useNetworks } from './useNetworks.js'\n\nexport function useFungibleToken<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string | null,\n    fallbackToken?: Web3Helper.FungibleTokenScope<S, T>,\n    options?: HubOptions<T>,\n) {\n    const { chainId } = useChainContext({ chainId: options?.chainId })\n    const Hub = useWeb3Hub(pluginID, {\n        chainId,\n        ...options,\n    })\n    const networks = useNetworks(pluginID)\n\n    return useQuery({\n        enabled: true,\n        queryKey: ['fungible-token', pluginID, address, chainId, options],\n        queryFn: async () => {\n            if (!address) return\n            return attemptUntil(\n                [\n                    async () => {\n                        if (pluginID !== NetworkPluginID.PLUGIN_EVM || !isNativeTokenAddress(address) || !chainId)\n                            return\n                        const network = networks.find((x) => x.chainId === chainId)\n                        return network?.nativeCurrency\n                    },\n                    async () => {\n                        const token = await Hub.getFungibleToken(address, { chainId })\n                        if (!token) return\n                        const logoURL = token.logoURL ?? fallbackToken?.logoURL\n                        const symbol =\n                            token.symbol === 'UNKNOWN' || !token.symbol ? fallbackToken?.symbol : token.symbol\n                        return { ...token, symbol, logoURL } as Web3Helper.FungibleTokenScope<S, T>\n                    },\n                ],\n                fallbackToken,\n            )\n        },\n    })\n}\n","import { noop } from 'lodash-es'\nimport { useEffect } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { ConnectionOptions } from '@masknet/web3-providers/types'\nimport { isSameAddress } from '@masknet/web3-shared-base'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Connection } from './useWeb3Connection.js'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useFungibleTokenBalance<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    address?: string,\n    options?: ConnectionOptions<T>,\n    /** Allow to control the request */\n    enabled = true,\n) {\n    const { account } = useChainContext({ account: options?.account })\n    const Web3 = useWeb3Connection(pluginID, {\n        account,\n        ...options,\n    })\n    const { BalanceNotifier } = useWeb3State(pluginID)\n\n    const result = useQuery({\n        enabled,\n        queryKey: ['fungible-token', 'balance', pluginID, account, address, options],\n        queryFn: async () => {\n            if (!address) return '0'\n            return Web3.getFungibleTokenBalance(address, undefined, options)\n        },\n    })\n\n    useEffect(() => {\n        return (\n            BalanceNotifier?.emitter.on('update', (ev) => {\n                if (isSameAddress(account, ev.account)) {\n                    result.refetch()\n                }\n            }) ?? noop\n        )\n    }, [account, result.refetch, BalanceNotifier])\n\n    return result\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { EMPTY_STRING, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\nimport { useNetworks } from './useNetworks.js'\n\nexport function useNetwork<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    chainId?: Web3Helper.Definition[T]['ChainId'],\n) {\n    const { Network } = useWeb3State(pluginID)\n    const networks = useNetworks(pluginID)\n    const networkID = useSubscription(Network?.networkID ?? EMPTY_STRING)\n\n    return useMemo(() => {\n        if (chainId) return networks.find((x) => x.chainId === chainId)\n        return networks.find((x) => x.ID === networkID)\n    }, [chainId, networkID, networks])\n}\n","import { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport { uniqBy } from 'lodash-es'\nimport { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport { useWeb3State } from './useWeb3State.js'\n\n/**\n * Bulletin networks and custom networks.\n * There could be duplicate chian id among them, because that's allow to custom networks.\n */\nexport function useNetworks<T extends NetworkPluginID = NetworkPluginID>(pluginID?: T, uniqChainId?: boolean) {\n    const { Network } = useWeb3State(pluginID)\n    const networks = useSubscription(Network?.networks ?? EMPTY_ARRAY)\n    return useMemo(() => {\n        const list = networks.filter((x) => x.network === 'mainnet' || x.isCustomized)\n        return uniqChainId ? uniqBy(list, (x) => x.chainId) : list\n    }, [networks, uniqChainId])\n}\n","import { getRegisteredWeb3Providers } from '@masknet/web3-providers'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useChainContext, useNetworkContext } from './useContext.js'\n\n/**\n * Get built in declared provider descriptor\n * @param expectedPluginID\n * @param expectedProviderTypeOrID\n * @returns\n */\nexport function useProviderDescriptor<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    expectedProviderTypeOrID?: string,\n): Web3Helper.ProviderDescriptorScope<S, T> | undefined {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    const { providerType } = useChainContext()\n\n    return getRegisteredWeb3Providers(pluginID).find((x) =>\n        [x.type, x.ID].includes(expectedProviderTypeOrID ?? providerType ?? ''),\n    )\n}\n","import { useMemo } from 'react'\nimport { useSubscription } from 'use-subscription'\nimport { EMPTY_ARRAY, type NetworkPluginID } from '@masknet/shared-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useTrustedFungibleTokens<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    schemaType?: Web3Helper.SchemaTypeScope<S, T>,\n    chainId?: Web3Helper.ChainIdScope<S, T>,\n) {\n    const { Token } = useWeb3State(pluginID)\n    const fungibleTokens = useSubscription(Token?.trustedFungibleTokens ?? EMPTY_ARRAY)\n    return useMemo<Array<Web3Helper.FungibleTokenScope<S, T>>>(() => {\n        return fungibleTokens\n            .filter((x) => (schemaType ? x.schema === schemaType : true))\n            .filter((x) => (chainId ? x.chainId === chainId : true))\n    }, [schemaType, fungibleTokens, chainId])\n}\n","import { EMPTY_LIST, type Wallet } from '@masknet/shared-base'\nimport { Providers } from '@masknet/web3-providers'\nimport { ProviderType } from '@masknet/web3-shared-evm'\nimport { useMemo } from 'react'\nimport { usePersistSubscription } from '@masknet/shared-base-ui'\n\nexport function useWallets() {\n    // We got stored Mask wallets only.\n    const wallets = usePersistSubscription(\n        '@@mask-wallets',\n        Providers[ProviderType.MaskWallet].subscription.wallets ?? EMPTY_LIST,\n    )\n\n    return useMemo(() => {\n        return [...wallets]\n            .map((w) => {\n                // Could be serialized by react query persist client\n                if (w.createdAt instanceof Date && w.updatedAt instanceof Date) return w\n                return {\n                    ...w,\n                    createdAt: new Date(w.createdAt),\n                    updatedAt: new Date(w.updatedAt),\n                } as Wallet\n            })\n            .sort((a, b) => {\n                if (a.owner && !b.owner) return 1\n                const timestampA = a.createdAt.getTime()\n                const timestampB = b.createdAt.getTime()\n                if (timestampA - timestampB > 10000) {\n                    return 1\n                } else if (timestampB - timestampA > 10000) {\n                    return -1\n                }\n                const numA = a.name.split('Wallet ')[1]\n                const numB = b.name.split('Wallet ')[1]\n                try {\n                    if (!numA && numB && !Number.isNaN(numB)) return 1\n                    if (!Number.isNaN(numA) && !Number.isNaN(numB)) {\n                        return Number(numA) > Number(numB) ? 1 : -1\n                    } else {\n                        return numB.length - numA.length\n                    }\n                } catch {\n                    return 0\n                }\n            })\n    }, [wallets])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { Web3All } from '@masknet/web3-providers'\nimport type { Connection, ConnectionOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Connection<T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n    options?: ConnectionOptions<T>,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => Web3All.use(pluginID, options) as Connection<T>, [pluginID, JSON.stringify(options)])\n}\n","import { useMemo } from 'react'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { HubAll } from '@masknet/web3-providers'\nimport type { Hub, HubOptions } from '@masknet/web3-providers/types'\nimport { useNetworkContext } from './useContext.js'\n\nexport function useWeb3Hub<T extends NetworkPluginID = NetworkPluginID>(expectedPluginID?: T, options?: HubOptions<T>) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return useMemo(() => HubAll.use(pluginID, options) as Hub<T>, [pluginID, JSON.stringify(options)])\n}\n","import { BigNumber } from 'bignumber.js'\nimport { scale10 } from './number.js'\nimport { CurrencyType } from '../index.js'\n\nexport interface FormatterCurrencyOptions {\n    onlyRemainTwoOrZeroDecimal?: boolean\n    fiatCurrencyRate?: number\n    customDecimalConfig?: {\n        boundary: BigNumber\n        decimalExp: number\n    }\n}\n\nconst BOUNDARIES = {\n    zeroDecimalBoundary: scale10(1, 0),\n    twoDecimalBoundary: scale10(1, -2),\n    sixDecimalBoundary: scale10(1, -6),\n    eightDecimalBoundary: scale10(1, -8),\n    twelveDecimalBoundary: scale10(1, -12),\n    zeroDecimalExp: 0,\n    twoDecimalExp: 2,\n    sixDecimalExp: 6,\n    eightDecimalExp: 8,\n    twelveDecimalExp: 12,\n}\n\nconst DIGITAL_CURRENCY_SYMBOLS = {\n    BTC: '\\u20BF',\n    ETH: '\\u039E',\n    SOL: '\\u25CE',\n    BNB: 'BNB',\n    POLYGON: 'MATIC',\n    WETH: 'WETH',\n    AVAX: 'AVAX',\n    GLMR: 'GLMR',\n    MATIC: 'MATIC',\n}\n\ntype UpperCaseKeys = keyof typeof DIGITAL_CURRENCY_SYMBOLS\ntype Keys = UpperCaseKeys | Lowercase<UpperCaseKeys>\n\nconst digitalCurrencyModifier = (parts: Intl.NumberFormatPart[], symbol: string, isDigitalCurrency: boolean) => {\n    if (!isDigitalCurrency) return parts\n    const [currencyPart, ...rest] = parts\n    if (symbol) return [...rest, { ...currencyPart, value: symbol }]\n    return parts\n}\n\nconst formatCurrencySymbol = (symbol: string, isLead: boolean) => {\n    return isLead || symbol.length === 0 ? symbol : ` ${symbol}`\n}\n\nconst fiatCurrencyResultModifier = (\n    result: string,\n    currency: LiteralUnion<Keys | 'USD'> = CurrencyType.USD,\n    onlyRemainTwoOrZeroDecimal: boolean,\n) => {\n    if (currency === CurrencyType.HKD) return result.replaceAll('$', 'HK$')\n\n    if (currency === CurrencyType.JPY && onlyRemainTwoOrZeroDecimal)\n        return result.startsWith('') ? '' + Number(result.replaceAll(/|,/g, '')).toFixed() : result\n\n    return result\n}\n\n// https://mask.atlassian.net/wiki/spaces/MASK/pages/122916438/Token\nexport function formatCurrency(\n    inputValue: BigNumber.Value,\n    currency: LiteralUnion<Keys | 'USD'> = CurrencyType.USD,\n    options?: FormatterCurrencyOptions,\n): string {\n    const { onlyRemainTwoOrZeroDecimal = false, fiatCurrencyRate = 1, customDecimalConfig } = options ?? {}\n    const bn = new BigNumber(inputValue).multipliedBy(fiatCurrencyRate)\n    const integerValue = bn.integerValue(1)\n    const decimalValue = bn.plus(integerValue.negated())\n    const isMoreThanOrEqualToOne = bn.isGreaterThanOrEqualTo(1)\n\n    const {\n        sixDecimalBoundary,\n        zeroDecimalBoundary,\n        twoDecimalBoundary,\n        twelveDecimalBoundary,\n        eightDecimalBoundary,\n        zeroDecimalExp,\n        sixDecimalExp,\n        twoDecimalExp,\n        twelveDecimalExp,\n    } = BOUNDARIES\n\n    const assetValueBoundary = currency === CurrencyType.JPY ? zeroDecimalBoundary : twoDecimalBoundary\n    const assetValueDecimalExp = currency === CurrencyType.JPY ? zeroDecimalExp : twoDecimalExp\n    const zeroValue = currency === CurrencyType.JPY ? '0' : '0.00'\n    const minimumValue = currency === CurrencyType.JPY ? '1' : '0.01'\n    const symbol = currency ? DIGITAL_CURRENCY_SYMBOLS[currency.toUpperCase() as UpperCaseKeys] : ''\n\n    let formatter: Intl.NumberFormat\n    let isIntlCurrencyValid = !DIGITAL_CURRENCY_SYMBOLS[currency.toUpperCase() as UpperCaseKeys]\n\n    try {\n        formatter = new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: isIntlCurrencyValid ? (currency === CurrencyType.JPY ? CurrencyType.CNY : currency) : 'USD',\n            currencyDisplay: 'narrowSymbol',\n        })\n    } catch {\n        isIntlCurrencyValid = false\n        formatter = new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD',\n            currencyDisplay: 'narrowSymbol',\n        })\n    }\n\n    const isDigitalCurrency = !!(!isIntlCurrencyValid && symbol)\n    const digitalCurrencyModifierValues = digitalCurrencyModifier(\n        formatter.formatToParts(\n            bn.isZero() ? 0 : bn.lt(sixDecimalBoundary) ? sixDecimalBoundary.toNumber() : bn.toNumber(),\n        ),\n        symbol,\n        isDigitalCurrency,\n    )\n\n    let result: string = ''\n\n    if (\n        bn.lt(customDecimalConfig?.boundary ?? onlyRemainTwoOrZeroDecimal ? assetValueBoundary : sixDecimalBoundary) ||\n        bn.isZero()\n    ) {\n        const isLessThanAssetValueDecimalBoundary = bn.lt(assetValueBoundary)\n        const isLessThanTwelveDecimalBoundary = bn.lt(twelveDecimalBoundary)\n        const isLessThanCustomDecimalBoundary = customDecimalConfig?.boundary\n            ? bn.lt(customDecimalConfig?.boundary)\n            : false\n        const isGreatThanEightDecimalBoundary = bn.gte(eightDecimalBoundary)\n\n        const value = digitalCurrencyModifierValues\n            .map(({ type, value }, i) => {\n                switch (type) {\n                    case 'currency':\n                        return formatCurrencySymbol(symbol ?? value, i === 0)\n                    case 'fraction':\n                        if (customDecimalConfig) {\n                            return bn.isZero()\n                                ? zeroValue\n                                : isLessThanCustomDecimalBoundary\n                                ? customDecimalConfig.boundary.toFixed()\n                                : bn.toFixed(customDecimalConfig.decimalExp).replace(/0+$/, '')\n                        }\n                        return bn.isZero()\n                            ? zeroValue\n                            : onlyRemainTwoOrZeroDecimal\n                            ? minimumValue\n                            : isLessThanTwelveDecimalBoundary\n                            ? sixDecimalBoundary.toFixed()\n                            : isGreatThanEightDecimalBoundary\n                            ? bn.decimalPlaces(10).toFixed(twelveDecimalExp).replace(/0+$/, '')\n                            : bn.toFixed(twelveDecimalExp).replace(/0+$/, '')\n                    default:\n                        return ''\n                }\n            })\n            .join('')\n\n        result = `${\n            (isLessThanTwelveDecimalBoundary || (onlyRemainTwoOrZeroDecimal && isLessThanAssetValueDecimalBoundary)) &&\n            !bn.isZero()\n                ? '< '\n                : ''\n        }${value}`\n    } else if (isMoreThanOrEqualToOne) {\n        result = digitalCurrencyModifierValues\n            .map(({ type, value }, i) => {\n                switch (type) {\n                    case 'currency':\n                        return formatCurrencySymbol(symbol ?? value, i === 0)\n                    case 'literal':\n                        return ''\n                    default:\n                        return value\n                }\n            })\n            .join('')\n    } else {\n        result = digitalCurrencyModifierValues\n            .map(({ type, value }, i) => {\n                switch (type) {\n                    case 'currency':\n                        return formatCurrencySymbol(symbol ?? value, i === 0)\n                    case 'fraction':\n                        const dec = decimalValue\n                            .toFormat(\n                                customDecimalConfig?.decimalExp ??\n                                    (onlyRemainTwoOrZeroDecimal ? assetValueDecimalExp : sixDecimalExp),\n                            )\n                            .replace(/\\d\\./, '')\n                        return onlyRemainTwoOrZeroDecimal ? dec.replace(/(\\d\\d)(0+)$/, '$1') : dec.replace(/(0+)$/, '')\n                    case 'integer':\n                        // When there is a carry\n                        if (bn.gt('0.99') && onlyRemainTwoOrZeroDecimal) return '1'\n                        return '0'\n                    case 'literal':\n                        return ''\n                    default:\n                        return value\n                }\n            })\n            .join('')\n    }\n\n    return fiatCurrencyResultModifier(result, currency, onlyRemainTwoOrZeroDecimal)\n}\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n"],"names":["Icons","ShadowRootTooltip","makeStyles","Link","memo","useCallback","useRef","useState","useCopyToClipboard","useSharedTrans","useStyles","theme","copy","color","palette","maskColor","main","CopyButton","text","title","successText","size","scoped","className","props","t","classes","cx","undefined","copyToClipboard","copied","setCopied","active","setActive","timerRef","handleCopy","ev","stopPropagation","preventDefault","clearTimeout","current","setTimeout","tooltipTitle","iconProps","open","placement","disableInteractive","arrow","underline","component","onClick","fontSize","root","Check","success","Copy","DEFAULT_IMAGES","URL","url","toString","name2Image","name","sum","i","length","charCodeAt","Avatar","useTheme","icon","margin","borderRadius","dark","backgroundSize","height","width","Icon","logoURL","label","rest","failed","setFailed","defaultBackgroundImage","showImage","src","imgProps","onError","event","sx","backgroundImage","backgroundColor","common","white","slice","toUpperCase","displayName","ImageIcon","iconFilterColor","style","filter","backdropFilter","img","NetworkPluginID","useChainContext","useFungibleToken","useWeb3Hub","TokenType","useQuery","first","TokenIcon","pluginID","PLUGIN_EVM","chainId","propChainId","address","symbol","tokenType","Fungible","disableDefaultIcon","data","token","Hub","isNFT","NonFungible","queryKey","enabled","queryFn","logoURLs","Error","getFungibleTokenIconURLs","catch","LightColor","bg","primary","primaryContrastText","background","secondary","secondaryContrastText","input","primaryBackground","primaryBackground2","secondaryBackground","lightBackground","mainBackground","suspensionBackground","normalBackground","twitterBackground","twitterBackgroundHover","twitterInputBackground","twitterButton","twitterButtonText","twitterBlue","twitterBorderLine","twitterSecond","twitterMain","twitterBottom","twitterInfoBackground","twitterInfo","twitterBg","twitterTooltipBg","twitterInput","twitterLine","redMain","redLight","redContrastText","greenMain","greenLight","orangeMain","orangeLight","iconLight","divider","border","borderSecondary","textPrimary","textSecondary","secondaryInfoText","normalText","normalTextLight","infoBackground","warning","blue","textLink","lineLight","lineLighter","textLight","lightestBackground","linkText","twitter","facebook","bottom","errorBackground","tooltipBackground","warningBackground","cyberconnectPrimary","errorPlugin","buttonPluginBackground","textPluginColor","buttonPluginColor","DarkColor","kebabCase","getMaskColor","mode","set","key","cssVar","value","defaultValue","x","Object","assign","Symbol","toPrimitive","alpha","defineProperty","MaskColorVar","configurable","enumerable","__proto__","Proxy","get","_","p","getOwnPropertyDescriptor","Box","Button","LoadingBase","loading","opacity","ActionButton","children","pointerEvents","disableElevation","disabled","position","display","justifyContent","alignItems","animated","transform","animation","CircleLoading","forwardRef","keyframes","SnackbarProvider","useSnackbar","SnackbarContent","Typography","IconButton","Close","CloseIcon","Warning","WarningIcon","Info","InfoIcon","usePortalShadowRoot","PopupSnackbarProvider","usePopupCustomSnackbar","offsetY","classNames","spinningAnimationKeyFrames","fontWeight","lineHeight","message","wordBreak","outline","defaultVariant","boxShadow","error","danger","info","warn","zIndex","content","padding","spacing","flexWrap","default","spinning","action","marginLeft","closeButton","texts","IconMap","SuccessForSnackBar","TransactionFailed","CustomSnackbarContent","ref","snackbar","loadingIcon","variantIcon","processing","variant","renderedAction","closeSnackbar","id","div","CustomSnackbarProvider","onDismiss","container","maxSnack","disableWindowBlurListener","anchorOrigin","vertical","horizontal","hideIconVariant","containerRoot","variantSuccess","variantError","variantInfo","variantWarning","domRoot","useCustomSnackbar","enqueueSnackbar","showSnackbar","options","useMemo","useSubscription","EMPTY_ARRAY","useWeb3State","useBlockedFungibleTokens","schemaType","Token","fungibleTokens","blockedFungibleTokens","schema","EMPTY_LIST","asyncIteratorToArray","pageableToIterator","CurrencyType","currySameAddress","isSameAddress","leftShift","minus","BigNumber","noop","unionWith","useEffect","useTrustedFungibleTokens","useWeb3Others","useNetworks","useFungibleAssets","account","Others","trustedTokens","blockedTokens","BalanceNotifier","Network","networks","mergedAssets","iterator","indicator","getFungibleAssets","trustedAssetsIterator","getTrustedFungibleAssets","assets","trustedAssets","networkIds","map","list","isCustomToken","a","z","includes","subscribe","refetch","isTrustedToken","isBlockedToken","filteredAssets","sort","aUSD","USD","zUSD","eq","gt","isNativeTokenA","getNativeTokenAddress","isNativeTokenZ","isMaskTokenA","getMaskTokenAddress","isMaskTokenZ","isPositive","aBalance","balance","decimals","zBalance","isEqualTo","emitter","on","attemptUntil","isNativeTokenAddress","fallbackToken","network","find","nativeCurrency","getFungibleToken","useWeb3Connection","useFungibleTokenBalance","Web3","result","getFungibleTokenBalance","EMPTY_STRING","useNetwork","networkID","ID","uniqBy","uniqChainId","isCustomized","getRegisteredWeb3Providers","useNetworkContext","useProviderDescriptor","expectedPluginID","expectedProviderTypeOrID","providerType","type","trustedFungibleTokens","Providers","ProviderType","usePersistSubscription","useWallets","wallets","MaskWallet","subscription","w","createdAt","Date","updatedAt","b","owner","timestampA","getTime","timestampB","numA","split","numB","Number","isNaN","Web3All","use","JSON","stringify","HubAll","scale10","BOUNDARIES","zeroDecimalBoundary","twoDecimalBoundary","sixDecimalBoundary","eightDecimalBoundary","twelveDecimalBoundary","zeroDecimalExp","twoDecimalExp","sixDecimalExp","eightDecimalExp","twelveDecimalExp","DIGITAL_CURRENCY_SYMBOLS","BTC","ETH","SOL","BNB","POLYGON","WETH","AVAX","GLMR","MATIC","digitalCurrencyModifier","parts","isDigitalCurrency","currencyPart","formatCurrencySymbol","isLead","fiatCurrencyResultModifier","currency","onlyRemainTwoOrZeroDecimal","HKD","replaceAll","JPY","startsWith","toFixed","formatCurrency","inputValue","fiatCurrencyRate","customDecimalConfig","bn","multipliedBy","integerValue","decimalValue","plus","negated","isMoreThanOrEqualToOne","isGreaterThanOrEqualTo","assetValueBoundary","assetValueDecimalExp","zeroValue","minimumValue","formatter","isIntlCurrencyValid","Intl","NumberFormat","CNY","currencyDisplay","digitalCurrencyModifierValues","formatToParts","isZero","lt","toNumber","boundary","isLessThanAssetValueDecimalBoundary","isLessThanTwelveDecimalBoundary","isLessThanCustomDecimalBoundary","isGreatThanEightDecimalBoundary","gte","decimalExp","replace","decimalPlaces","join","dec","toFormat"],"sourceRoot":"","x_google_ignoreList":[9,10,24,25]}