{"version":3,"file":"bundled/chunk.6713.js","mappings":"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","sources":["webpack://mask-network/./packages/plugin-infra/src/dom/context.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/context.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/useLastRecognizedIdentity.ts","webpack://mask-network/./packages/plugins/SwitchLogo/src/locales/i18n_generated.ts","webpack://mask-network/./packages/plugins/SwitchLogo/src/SiteAdaptor/SwitchLogoDialog.tsx","webpack://mask-network/./packages/plugins/SwitchLogo/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/shared-base-ui/src/components/ErrorBoundary/context.tsx","webpack://mask-network/./packages/shared-base/src/SingletonModal/index.ts","webpack://mask-network/./packages/shared-base/src/Subscriptions/index.ts","webpack://mask-network/./packages/shared/src/UI/modals/modals.ts","webpack://mask-network/./packages/shared/src/hooks/useOpenApplicationSettings.ts","webpack://mask-network/./packages/theme/src/Components/Dialogs/DialogStack.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/Portal.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootSetup.tsx","webpack://mask-network/./node_modules/.pnpm/html-parse-stringify@3.0.1/node_modules/html-parse-stringify/dist/html-parse-stringify.module.js","webpack://mask-network/./node_modules/.pnpm/use-subscription@1.8.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-subscription/cjs/use-subscription.production.min.js","webpack://mask-network/./node_modules/.pnpm/use-subscription@1.8.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-subscription/index.js","webpack://mask-network/./node_modules/.pnpm/use-sync-external-store@1.2.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","webpack://mask-network/./node_modules/.pnpm/use-sync-external-store@1.2.0_react@0.0.0-experimental-0a360642d-20230711/node_modules/use-sync-external-store/shim/index.js","webpack://mask-network/./node_modules/.pnpm/void-elements@3.1.0/node_modules/void-elements/index.js"],"sourcesContent":["// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type {\n    DashboardRoutes,\n    ECKeyIdentifier,\n    NextIDPlatform,\n    PersonaIdentifier,\n    PersonaInformation,\n    PopupRoutes,\n    PopupRoutesParamsMap,\n    ProfileIdentifier,\n    SignType,\n    SocialIdentity,\n} from '@masknet/shared-base'\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { LinkedProfileDetails } from '@masknet/public-api'\n\nexport interface __UIContext__ {\n    allPersonas: Subscription<readonly PersonaInformation[]>\n    currentPersona: Subscription<PersonaIdentifier | undefined>\n    queryPersonaAvatar(\n        identifiers: readonly PersonaIdentifier[],\n    ): Promise<Map<ProfileIdentifier | PersonaIdentifier, string | undefined>>\n    queryPersonaAvatar(identifiers: undefined | PersonaIdentifier): Promise<string | undefined>\n    querySocialIdentity: (\n        platform: NextIDPlatform,\n        identity: IdentityResolved | undefined,\n    ) => Promise<SocialIdentity | undefined>\n    // DO NOT add <T> to this function, you do not test if it is T right?\n    // (e.g. receive a function to check it validate: (x: unknown) => x is T)\n    // fetchJSON<T>(validate: (x: unknown) => x is T, input: RequestInfo | URL, init?: RequestInit): Promise<T>\n    fetchJSON(input: RequestInfo | URL, init?: RequestInit): Promise<unknown>\n    queryPersonaByProfile: (id: ProfileIdentifier) => Promise<PersonaInformation | undefined>\n    /** Open Dashboard with a new window */\n    openDashboard(route?: DashboardRoutes, search?: string): Promise<void>\n    /** Open popup window */\n    openPopupWindow<T extends PopupRoutes>(\n        route: T,\n        params: T extends keyof PopupRoutesParamsMap ? PopupRoutesParamsMap[T] : undefined,\n        evenWhenWalletLocked?: boolean,\n    ): Promise<void>\n    /** Sign a message with persona (w or w/o popups) */\n    signWithPersona(type: SignType, message: unknown, identifier?: ECKeyIdentifier, silent?: boolean): Promise<string>\n    hasPaymentPassword(): Promise<boolean>\n    createPersona: () => void\n    setCurrentPersonaIdentifier: ((x?: PersonaIdentifier) => Promise<void>) | undefined\n    attachProfile:\n        | ((\n              source: ProfileIdentifier,\n              target: ProfileIdentifier | PersonaIdentifier,\n              data: LinkedProfileDetails,\n          ) => Promise<void>)\n        | undefined\n    setPluginMinimalModeEnabled: ((id: string, enabled: boolean) => Promise<void>) | undefined\n    hasHostPermission: ((origins: readonly string[]) => Promise<boolean>) | undefined\n    requestHostPermission: ((origins: readonly string[]) => Promise<boolean>) | undefined\n}\nexport let allPersonas: __UIContext__['allPersonas']\nexport let currentPersona: __UIContext__['currentPersona']\nexport let queryPersonaAvatar: __UIContext__['queryPersonaAvatar']\nexport let querySocialIdentity: __UIContext__['querySocialIdentity']\nexport let fetchJSON: __UIContext__['fetchJSON']\nexport let queryPersonaByProfile: __UIContext__['queryPersonaByProfile']\nexport let openDashboard: __UIContext__['openDashboard']\nexport let openPopupWindow: __UIContext__['openPopupWindow']\nexport let signWithPersona: __UIContext__['signWithPersona']\nexport let hasPaymentPassword: __UIContext__['hasPaymentPassword']\nexport let createPersona: __UIContext__['createPersona']\nexport let setCurrentPersonaIdentifier: __UIContext__['setCurrentPersonaIdentifier']\nexport let attachProfile: __UIContext__['attachProfile']\nexport let setPluginMinimalModeEnabled: __UIContext__['setPluginMinimalModeEnabled']\nexport let hasHostPermission: __UIContext__['hasHostPermission']\nexport let requestHostPermission: __UIContext__['requestHostPermission']\n\nexport function __setUIContext__(value: __UIContext__) {\n    ;({\n        allPersonas,\n        currentPersona,\n        queryPersonaAvatar,\n        querySocialIdentity,\n        fetchJSON,\n        queryPersonaByProfile,\n        openDashboard,\n        openPopupWindow,\n        signWithPersona,\n        hasPaymentPassword,\n        createPersona,\n        setCurrentPersonaIdentifier,\n        attachProfile,\n        setPluginMinimalModeEnabled,\n        hasHostPermission,\n        requestHostPermission,\n    } = value)\n}\n","// This file will be virtualized in the future.\n// Currently all plugins access the same value, but we can virtualize them in the future.\n\nimport type { Subscription } from 'use-subscription'\nimport type { IdentityResolved } from '../types.js'\nimport type { NextIDPlatform, PersonaIdentifier, PostIdentifier } from '@masknet/shared-base'\n\nexport interface __SiteAdaptorContext__ {\n    lastRecognizedProfile: Subscription<IdentityResolved | undefined>\n    currentVisitingProfile: Subscription<IdentityResolved | undefined>\n    currentNextIDPlatform: NextIDPlatform | undefined\n    currentPersonaIdentifier: Subscription<PersonaIdentifier | undefined>\n    getPostURL: (identifier: PostIdentifier) => URL | null\n    share: undefined | ((text: string) => void)\n    getUserIdentity: ((useId: string) => Promise<IdentityResolved | undefined>) | undefined\n    getPostIdFromNewPostToast: (() => string) | undefined\n    postMessage: ((text: string, options?: any) => Promise<void>) | undefined\n    getSearchedKeyword: (() => string) | undefined\n    connectPersona: () => Promise<void>\n}\nexport let lastRecognizedProfile: __SiteAdaptorContext__['lastRecognizedProfile']\nexport let currentVisitingProfile: __SiteAdaptorContext__['currentVisitingProfile']\nexport let currentNextIDPlatform: NextIDPlatform | undefined\nexport let currentPersonaIdentifier: __SiteAdaptorContext__['currentPersonaIdentifier']\nexport let getPostURL: __SiteAdaptorContext__['getPostURL']\nexport let share: __SiteAdaptorContext__['share']\nexport let getUserIdentity: __SiteAdaptorContext__['getUserIdentity']\nexport let getPostIdFromNewPostToast: __SiteAdaptorContext__['getPostIdFromNewPostToast']\nexport let postMessage: __SiteAdaptorContext__['postMessage']\nexport let getSearchedKeyword: __SiteAdaptorContext__['getSearchedKeyword']\nexport let connectPersona: __SiteAdaptorContext__['connectPersona']\nexport function __setSiteAdaptorContext__(value: __SiteAdaptorContext__) {\n    ;({\n        lastRecognizedProfile,\n        currentVisitingProfile,\n        currentNextIDPlatform,\n        currentPersonaIdentifier,\n        getPostURL,\n        share,\n        getUserIdentity,\n        getPostIdFromNewPostToast,\n        postMessage,\n        getSearchedKeyword,\n        connectPersona,\n    } = value)\n}\n","import { useSubscription } from 'use-subscription'\nimport { UNDEFINED } from '@masknet/shared-base'\nimport { lastRecognizedProfile } from './context.js'\n\nexport function useLastRecognizedIdentity() {\n    return useSubscription(lastRecognizedProfile ?? UNDEFINED)\n}\n","// @ts-nocheck\n/* eslint-disable */\nimport { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nfunction createProxy(initValue: (key: string) => any) {\n    function define(key: string) {\n        const value = initValue(key);\n        Object.defineProperty(container, key, { value, configurable: true });\n        return value;\n    }\n    const container = {\n        __proto__: new Proxy({ __proto__: null }, {\n            get(_, key) {\n                if (typeof key === \"symbol\")\n                    return undefined;\n                return define(key);\n            }\n        })\n    };\n    return new Proxy(container, {\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, key) => {\n            if (typeof key === \"symbol\")\n                return undefined;\n            if (!(key in container))\n                define(key);\n            return Object.getOwnPropertyDescriptor(container, key);\n        }\n    });\n}\nexport function useSwitchLogoTrans(): {\n    /**\n      * `Switch Twitter Logo`\n      */\n    title(): string;\n    /**\n      * `Share and recommend this feature after saving.`\n      */\n    save_tip(): string;\n    /**\n      * `Reset`\n      */\n    reset(): string;\n    /**\n      * `Save`\n      */\n    save(): string;\n    /**\n      * `Powered by `\n      */\n    powered_by(): string;\n    /**\n      * `Classics Logo`\n      */\n    classics_logo(): string;\n    /**\n      * `New Logo`\n      */\n    new_logo(): string;\n    /**\n      * `Mask Network`\n      */\n    mask_network(): string;\n    /**\n      * `I just replaced Twitter X logo with the original blue bird one with Mask Network extension.`\n      */\n    share_text(): string;\n    /**\n      * `Download https://mask.io to try more powerful tools on Twitter.`\n      */\n    share_mask(): string;\n    /**\n      * `Switch between the classic Twitter logo and the new one.`\n      */\n    description(): string;\n    /**\n      * `Switch Twitter Logo`\n      */\n    switch_logo_title(): string;\n    /**\n      * `Share and recommend this feature after saving.`\n      */\n    switch_logo_save_tip(): string;\n    /**\n      * `Classics Logo`\n      */\n    switch_logo_classics_logo(): string;\n    /**\n      * `New Logo`\n      */\n    switch_logo_new_logo(): string;\n    /**\n      * `I just replaced Twitter X logo with the original blue bird one with Mask Network extension.`\n      */\n    switch_logo_share_text(): string;\n    /**\n      * `Download https://mask.io to try more powerful tools on Twitter.`\n      */\n    switch_logo_share_mask(): string;\n    /**\n      * `Switch between the classic Twitter logo and the new one.`\n      */\n    switch_logo_description(): string;\n} { const { t } = useTranslation(\"io.mask.switch-logo\"); return useMemo(() => createProxy((key) => t.bind(null, key)), [t]); }\n","import { memo, useCallback, useEffect, useMemo, useState } from 'react'\nimport { InjectedDialog, useOpenApplicationSettings } from '@masknet/shared'\nimport { Button, Checkbox, DialogContent, FormControlLabel, IconButton, Stack, Typography } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { Icons } from '@masknet/icons'\nimport { Telemetry } from '@masknet/web3-telemetry'\nimport { EventType, EventID } from '@masknet/web3-telemetry/types'\nimport { CrossIsolationMessages, SwitchLogoType, switchLogoSettings } from '@masknet/shared-base'\nimport { useLastRecognizedIdentity } from '@masknet/plugin-infra/content-script'\nimport { share } from '@masknet/plugin-infra/content-script/context'\nimport { useValueRef } from '@masknet/shared-base-ui'\nimport { useSwitchLogoTrans } from '../locales/i18n_generated.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    dialog: {\n        width: 400,\n        position: 'absolute',\n        top: 10,\n        right: 10,\n    },\n    content: {\n        padding: 24,\n    },\n    iconButton: {\n        border: `1px solid ${theme.palette.maskColor.secondaryLine}`,\n        width: 170,\n        height: 74,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        borderRadius: 8,\n        cursor: 'pointer',\n        gap: 8,\n    },\n    selected: {\n        border: `1px solid ${theme.palette.maskColor.highlight}`,\n    },\n    icons: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        gap: 8,\n    },\n    buttons: {\n        display: 'flex',\n        gap: 8,\n        flexDirection: 'row',\n    },\n    powered_by: {\n        display: 'flex',\n        flexDirection: 'row',\n        paddingTop: 16,\n        justifyContent: 'end',\n        alignItems: 'center',\n    },\n}))\n\nexport const SwitchLogoDialog = memo(() => {\n    const t = useSwitchLogoTrans()\n    const { classes, cx } = useStyles()\n    const identity = useLastRecognizedIdentity()\n    const defaultLogoType = useValueRef(switchLogoSettings[identity?.identifier?.userId || ''])\n    const [logoType, setLogoType] = useState<SwitchLogoType>(SwitchLogoType.Classics)\n    const [needShare, setNeedShare] = useState(true)\n    const [open, setOpen] = useState(false)\n\n    useEffect(() => {\n        return CrossIsolationMessages.events.switchLogoDialogUpdated.on(async (data) => {\n            setOpen(data.open)\n        })\n    }, [])\n\n    const onSave = useCallback(async () => {\n        if (!identity?.identifier?.userId || !switchLogoSettings) return\n        switchLogoSettings[identity.identifier.userId].value = logoType ?? defaultLogoType\n        Telemetry.captureEvent(EventType.Access, EventID.EntrySwitchLogoSave)\n        setOpen(false)\n        if (needShare && logoType === SwitchLogoType.Classics) {\n            share?.(\n                [t.switch_logo_share_text(), '#TwitterLogo #TwitterX #SaveTheBird\\n', t.switch_logo_share_mask()].join(\n                    '\\n',\n                ),\n            )\n        }\n    }, [logoType, identity?.identifier?.userId, defaultLogoType, needShare])\n\n    const onChange = useCallback((logoType: SwitchLogoType) => {\n        setLogoType(logoType)\n    }, [])\n\n    const openApplicationBoardDialog = useOpenApplicationSettings()\n    const disabled = useMemo(() => {\n        if (defaultLogoType === SwitchLogoType.None) return false\n        if (defaultLogoType === logoType) return true\n        return false\n    }, [defaultLogoType, logoType])\n\n    return (\n        <InjectedDialog\n            open={open}\n            onClose={() => setOpen(false)}\n            title={t.switch_logo_title()}\n            classes={{ paper: classes.dialog }}>\n            <DialogContent className={classes.content}>\n                <Stack className={classes.icons}>\n                    <Stack\n                        className={cx(\n                            classes.iconButton,\n                            (logoType || defaultLogoType) === SwitchLogoType.Classics ? classes.selected : '',\n                        )}\n                        onClick={() => onChange(SwitchLogoType.Classics)}>\n                        <Icons.TwitterColored />\n                        <Typography fontSize={14} fontWeight={700}>\n                            {t.switch_logo_classics_logo()}\n                        </Typography>\n                    </Stack>\n                    <Stack\n                        className={cx(\n                            classes.iconButton,\n                            (logoType || defaultLogoType) === SwitchLogoType.New ? classes.selected : '',\n                        )}\n                        onClick={() => onChange(SwitchLogoType.New)}>\n                        <Icons.TwitterX />\n                        <Typography fontSize={14} fontWeight={700}>\n                            {t.switch_logo_new_logo()}\n                        </Typography>\n                    </Stack>\n                </Stack>\n                <Stack>\n                    {logoType === SwitchLogoType.Classics ? (\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    color=\"primary\"\n                                    checked={needShare}\n                                    onChange={(event) => setNeedShare(event.target.checked)}\n                                />\n                            }\n                            label={\n                                <Typography\n                                    fontSize={14}\n                                    fontWeight={400}\n                                    lineHeight=\"18px\"\n                                    color={(theme) => theme.palette.maskColor.secondaryDark}>\n                                    {t.switch_logo_save_tip()}\n                                </Typography>\n                            }\n                        />\n                    ) : (\n                        <br />\n                    )}\n                </Stack>\n                <Stack className={classes.buttons}>\n                    <Button variant=\"roundedContained\" fullWidth onClick={onSave} disabled={disabled}>\n                        {t.save()}\n                    </Button>\n                </Stack>\n                <Stack className={classes.powered_by}>\n                    <Typography\n                        fontSize=\"14px\"\n                        fontWeight={700}\n                        marginRight=\"5px\"\n                        color={(theme) => theme.palette.maskColor.secondaryDark}>\n                        {t.powered_by()}\n                    </Typography>\n                    <Typography fontSize=\"14px\" fontWeight={700} marginRight=\"4px\">\n                        {t.mask_network()}\n                    </Typography>\n                    <IconButton size=\"small\" sx={{ margin: '-5px' }} onClick={() => openApplicationBoardDialog()}>\n                        <Icons.Gear size={24} />\n                    </IconButton>\n                </Stack>\n            </DialogContent>\n        </InjectedDialog>\n    )\n})\n","import React from 'react'\nimport { Trans } from 'react-i18next'\nimport type { Plugin } from '@masknet/plugin-infra'\nimport { PluginID } from '@masknet/shared-base'\nimport { Icons } from '@masknet/icons'\nimport { base } from '../base.js'\nimport { PLUGIN_ID } from '../constants.js'\nimport { SwitchLogoDialog } from './SwitchLogoDialog.js'\n\nconst recommendFeature = {\n    description: <Trans i18nKey=\"description\" ns={PluginID.SwitchLogo} />,\n    backgroundGradient: 'linear-gradient(360deg, #FFECD2 -0.43%, #FCB69F 99.57%)',\n}\n\nconst site: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    ApplicationEntries: [\n        {\n            ApplicationEntryID: PLUGIN_ID,\n            appBoardSortingDefaultPriority: 10,\n            icon: <Icons.TwitterColored size={36} />,\n            name: <Trans ns={PluginID.SwitchLogo} i18nKey=\"title\" />,\n            category: 'dapp',\n            recommendFeature,\n            description: recommendFeature.description,\n        },\n    ],\n    GlobalInjection() {\n        return <SwitchLogoDialog />\n    },\n}\n\nexport default site\n","import { createContext, useContext, useRef } from 'react'\nimport type { BuildInfoFile } from '@masknet/flags'\nimport { useBuildInfo_raw } from '../../index.js'\nexport interface ErrorBoundaryError {\n    /** Type of the Error */\n    type: string\n    /** The Error message */\n    message: string\n    /** The error stack */\n    stack: string\n}\n/**\n * Provide the build info for CrashUI\n */\nconst BuildInfo = createContext<() => BuildInfoFile>(useBuildInfo_raw)\nBuildInfo.displayName = 'BuildInfo'\n\nexport function BuildInfoProvider(props: React.PropsWithChildren<{ value: () => BuildInfoFile }>) {\n    return <BuildInfo.Provider {...props} />\n}\nexport function useBuildInfo() {\n    return useRef(useContext(BuildInfo)).current()\n}\nexport function useBuildInfoMarkdown() {\n    const env = useBuildInfo()\n    const gitInfo = env.COMMIT_HASH\n        ? `\n## Git (${env.DIRTY ? '*' : ''}):\n${env.COMMIT_HASH} (${env.BRANCH_NAME})`\n        : ''\n\n    const buildInfoMarkdown =\n        `## Build info\n- Version: ${env.VERSION || 'unknown'}\n- NODE_ENV: ${process.env.NODE_ENV || 'unknown'}\n- userAgent: ${navigator.userAgent}\n- build: ${env.channel || 'unknown'}\n- BUILD_DATE: ${env.BUILD_DATE || 'unknown'}\n` + gitInfo\n    return buildInfoMarkdown\n}\n","import { defer, delay, type DeferTuple } from '@masknet/kit'\nimport { Emitter } from '@servie/events'\n\nexport type SingletonModalRefCreator<OpenProps = void, CloseProps = void> = (\n    onOpen: (props: OpenProps) => void,\n    onClose: (props: CloseProps) => void,\n    onAbort: (error: Error) => void,\n) => {\n    peek: () => boolean\n    open: (props: OpenProps) => void\n    close: (props: CloseProps) => void\n    abort?: (error: Error) => void\n}\n\nexport interface SingletonModalProps {\n    children: React.ReactNode\n}\n\nexport class SingletonModal<\n    OpenProps = void,\n    CloseProps = void,\n    T extends SingletonModalRefCreator<OpenProps, CloseProps> = SingletonModalRefCreator<OpenProps, CloseProps>,\n> {\n    constructor() {\n        this.open = this.open.bind(this)\n        this.close = this.close.bind(this)\n        this.abort = this.abort.bind(this)\n        this.openAndWaitForClose = this.openAndWaitForClose.bind(this)\n    }\n    readonly emitter = new Emitter<{\n        open: [OpenProps]\n        close: [CloseProps]\n        abort: [Error]\n    }>()\n\n    protected onOpen: ReturnType<T>['open'] | undefined\n    protected onClose: ReturnType<T>['close'] | undefined\n    protected onAbort: ReturnType<T>['abort'] | undefined\n\n    private dispatchPeek: ReturnType<T>['peek'] | undefined\n    private dispatchOpen: ReturnType<T>['open'] | undefined\n    private dispatchClose: ReturnType<T>['close'] | undefined\n    private dispatchAbort: ReturnType<T>['abort'] | undefined\n\n    /**\n     * Register a React modal component that implemented a forwarded ref.\n     * The ref item should be fed with open and close methods.\n     */\n    register = (creator: T | null) => {\n        if (!creator) {\n            this.dispatchOpen = undefined\n            this.dispatchClose = undefined\n            this.dispatchAbort = undefined\n            return\n        }\n\n        const ref = creator(\n            (props) => {\n                this.onOpen?.(props)\n                this.emitter.emit('open', props)\n            },\n            (props) => {\n                this.onClose?.(props)\n                this.emitter.emit('close', props)\n            },\n            (error) => {\n                this.onAbort?.(error)\n                this.emitter.emit('abort', error)\n            },\n        )\n        this.dispatchPeek = ref.peek\n        this.dispatchOpen = ref.open\n        this.dispatchClose = ref.close\n        this.dispatchAbort = ref.abort\n    }\n\n    /**\n     * Peek the open state of the React modal component.\n     */\n    peek() {\n        return this.dispatchPeek?.() ?? false\n    }\n\n    /**\n     * Open the registered modal component with props\n     * @param props\n     */\n    open(props: OpenProps) {\n        if (typeof this.dispatchOpen === 'undefined') console.warn(\"[SingletonModal]: The modal hasn't registered yet.\")\n        this.dispatchOpen?.(props)\n    }\n\n    /**\n     * Close the registered modal component with props\n     * @param props\n     */\n    close(props: CloseProps) {\n        this.dispatchClose?.(props)\n    }\n\n    /**\n     * Abort the registered modal component with Error\n     */\n    abort(error: Error) {\n        this.dispatchAbort?.(error)\n    }\n\n    /**\n     * Open the registered modal component and wait for it closes\n     * @param props\n     */\n    openAndWaitForClose(props: OpenProps): Promise<CloseProps> {\n        return new Promise<CloseProps>((resolve, reject) => {\n            this.open(props)\n            this.onClose = (props) => resolve(props)\n            this.onAbort = (error) => reject(error)\n        })\n    }\n}\n\nexport class SingletonModalQueued<OpenProps = void, CloseProps = void> extends SingletonModal<OpenProps, CloseProps> {\n    private opened = false\n    private tasks: Array<{\n        props: OpenProps\n        defer?: DeferTuple<CloseProps, Error>\n    }> = []\n\n    constructor() {\n        super()\n\n        this.emitter.on('open', () => {\n            this.opened = true\n        })\n        this.emitter.on('close', () => {\n            this.opened = false\n            this.cleanup()\n        })\n        this.emitter.on('abort', () => {\n            this.opened = false\n            this.cleanup()\n        })\n    }\n\n    override open(props: OpenProps) {\n        if (!this.opened) {\n            super.open(props)\n            return\n        }\n\n        this.tasks.push({\n            props,\n        })\n    }\n\n    override close(props: CloseProps) {\n        if (!this.opened) return\n\n        super.close(props)\n    }\n\n    override openAndWaitForClose(props: OpenProps) {\n        if (!this.opened) return super.openAndWaitForClose(props)\n\n        const d = defer<CloseProps, Error>()\n        this.tasks.push({\n            props,\n            defer: d,\n        })\n        return d[0]\n    }\n\n    private async cleanup() {\n        if (this.opened || !this.tasks.length) return\n\n        await delay(300)\n\n        const { props, defer } = this.tasks.shift()!\n\n        this.open(props)\n        if (!defer) return\n        this.onClose = (props) => defer[1](props)\n        this.onAbort = (error) => defer[2](error)\n    }\n}\n","import { EMPTY_LIST } from '../constants.js'\nimport { createConstantSubscription } from '../helpers/subscription.js'\n\nexport const ZERO = createConstantSubscription(0)\nexport const UNDEFINED = createConstantSubscription(undefined)\nexport const EMPTY_STRING = createConstantSubscription('')\nexport const EMPTY_ARRAY = createConstantSubscription(EMPTY_LIST)\nexport const EMPTY_ENTRY = createConstantSubscription({} as Record<string, never>)\nexport const TRUE = createConstantSubscription(true)\nexport const FALSE = createConstantSubscription(false)\nexport const NULL = createConstantSubscription(null)\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { SelectProviderModalOpenProps, SelectProviderModalCloseProps } from './SelectProviderModal/index.js'\nimport type { WalletConnectQRCodeOpenProps } from './WalletConnectQRCodeModal/index.js'\nimport type { WalletRiskWarningModalOpenProps } from './WalletRiskWarningModal/index.js'\nimport type { ConnectWalletModalOpenProps, ConnectWalletModalCloseProps } from './ConnectWalletModal/index.js'\nimport type { LeavePageConfirmModalOpenProps } from './LeavePageConfirmModal/index.js'\nimport type {\n    ApplicationBoardModalOpenProps,\n    ApplicationBoardSettingsModalOpenProps,\n} from './ApplicationBoardModal/index.js'\nimport type { GasSettingModalOpenOrCloseProps } from './GasSettingModal/index.js'\nimport type { ConfirmModalCloseProps, ConfirmModalOpenProps } from './ConfirmModal/index.js'\nimport type { ConfirmDialogOpenProps } from './ConfirmDialog/index.js'\nimport type { TransactionConfirmModalOpenProps } from './TokenTransactionConfirmModal/index.js'\nimport type { SelectNonFungibleContractModalOpenProps } from './SelectNonFungibleContractModal/index.js'\nimport type {\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps,\n} from './SelectFungibleTokenModal/index.js'\nimport type {\n    SelectGasSettingsModalCloseProps,\n    SelectGasSettingsModalOpenProps,\n} from './SelectAdvancedSettingsDialog/index.js'\nimport type { AddCollectiblesModalCloseProps, AddCollectiblesModalOpenProps } from './AddCollectiblesModal/index.js'\nimport type { PersonaSelectPanelModalOpenProps } from './PersonaSelectPanelModal/index.js'\nimport type { ShareSelectNetworkModalOpenProps } from './ShareSelectNetwork/index.js'\n\nexport const WalletConnectQRCodeModal = new SingletonModal<WalletConnectQRCodeOpenProps>()\nexport const SelectProviderModal = new SingletonModal<SelectProviderModalOpenProps, SelectProviderModalCloseProps>()\nexport const WalletStatusModal = new SingletonModal()\nexport const WalletRiskWarningModal = new SingletonModal<WalletRiskWarningModalOpenProps>()\nexport const ConnectWalletModal = new SingletonModal<ConnectWalletModalOpenProps, ConnectWalletModalCloseProps>()\nexport const LeavePageConfirmModal = new SingletonModal<LeavePageConfirmModalOpenProps>()\nexport const ApplicationBoardModal = new SingletonModal<ApplicationBoardModalOpenProps>()\nexport const ApplicationBoardSettingsModal = new SingletonModal<ApplicationBoardSettingsModalOpenProps>()\nexport const GasSettingModal = new SingletonModal<GasSettingModalOpenOrCloseProps, GasSettingModalOpenOrCloseProps>()\nexport const TransactionConfirmModal = new SingletonModal<TransactionConfirmModalOpenProps>()\nexport const TransactionSnackbar = new SingletonModal()\nexport const ConfirmModal = new SingletonModal<ConfirmModalOpenProps, ConfirmModalCloseProps>()\nexport const ConfirmDialog = new SingletonModal<ConfirmDialogOpenProps, boolean>()\nexport const SelectNonFungibleContractModal = new SingletonModal<SelectNonFungibleContractModalOpenProps>()\nexport const SelectGasSettingsModal = new SingletonModal<\n    SelectGasSettingsModalOpenProps,\n    SelectGasSettingsModalCloseProps\n>()\nexport const AddCollectiblesModal = new SingletonModal<AddCollectiblesModalOpenProps, AddCollectiblesModalCloseProps>()\nexport const SelectFungibleTokenModal = new SingletonModal<\n    SelectFungibleTokenModalOpenProps,\n    SelectFungibleTokenModalCloseProps\n>()\n\nexport const PersonaSelectPanelModal = new SingletonModal<PersonaSelectPanelModalOpenProps>()\n\nexport const ShareSelectNetworkModal = new SingletonModal<ShareSelectNetworkModalOpenProps>()\n\nexport { ApplicationSettingTabs } from './ApplicationBoardModal/ApplicationBoardDialog.js'\n","import { useCallback } from 'react'\nimport type { PluginID } from '@masknet/shared-base'\nimport { setPluginMinimalModeEnabled } from '@masknet/plugin-infra/dom/context'\nimport type { ApplicationSettingTabs } from '../UI/modals/ApplicationBoardModal/ApplicationBoardDialog.js'\nimport { ApplicationBoardSettingsModal } from '../index.js'\n\nexport function useOpenApplicationSettings() {\n    return useCallback((tab?: ApplicationSettingTabs, focusPluginID?: PluginID) => {\n        ApplicationBoardSettingsModal.open({\n            setPluginMinimalModeEnabled,\n            tab,\n            focusPluginID,\n        })\n    }, [])\n}\n","import { useRef, useContext, createContext, useState, useMemo, useLayoutEffect } from 'react'\nimport { type DialogProps } from '@mui/material'\nimport { noop } from 'lodash-es'\n\ninterface StackContext {\n    stack: readonly string[]\n    push(id: string): void\n    pop(id: string): void\n    setParent(selfID: string, parentID: string | null): () => void\n    hasGlobalBackdrop: boolean\n}\nconst DialogStackingContext = createContext<StackContext>({\n    stack: [],\n    push: noop,\n    pop: noop,\n    setParent: () => noop,\n    hasGlobalBackdrop: false,\n})\nDialogStackingContext.displayName = 'DialogStackingContext'\n\nconst DialogHierarchyContext = createContext<string | null>(null)\nDialogHierarchyContext.displayName = 'DialogHierarchyContext'\n\n/**\n * If you're using <Dialog> on its own and you want to support DialogStack, please use this hook.\n *\n * Your dialog component MUST support the following attributes with the same semantics with MUI Dialog component.\n *\n * - disableEscapeKeyDown\n * - disableScrollLock\n * - hideBackdrop\n * - style\n * - aria-hidden\n * - open\n * - transitionDuration\n * @example\n * function SomeComponent() {\n *     const [open, setOpen] = useState(false)\n *     const { shouldReplaceExitWithBack, extraProps, TrackDialogHierarchy } = useDialogStackConsumer(open)\n *     return <TrackDialogHierarchy>\n *         <button onClick={() => setOpen(true)}></button>\n *         <Dialog open={open} {...extraProps}>\n *             You MUST hide Close button and and BackButton based on the value of `shouldReplaceExitWithBack`\n *         </Dialog>\n *     </TrackDialogHierarchy>\n * }\n */\nexport function useDialogStackActor(open: boolean): useDialogStackActorReturn {\n    const selfID = useRef('' + Math.random()).current\n    const { pop, push, stack, setParent, hasGlobalBackdrop } = useContext(DialogStackingContext)\n\n    // children's useEffect will run before parent's useEffect.\n    // when the hierarchy is A > B and they are both open,\n    // the stack will be [\"B\", \"A\"] (B pushed into the stack first.)\n    // we need to notify the context the react component tree hierarchy to order them correctly.\n    const parentID = useContext(DialogHierarchyContext)\n    useLayoutEffect(() => setParent(selfID, parentID), [parentID])\n\n    useLayoutEffect(() => {\n        open ? push(selfID) : pop(selfID)\n        return () => pop(selfID)\n    }, [open])\n\n    const TrackDialogHierarchy = (useRef<useDialogStackActorReturn['TrackDialogHierarchy']>(null!).current ??=\n        function TrackDialogHierarchy({ children }) {\n            return <DialogHierarchyContext.Provider value={selfID}>{children}</DialogHierarchyContext.Provider>\n        })\n\n    const returnVal: useDialogStackActorReturn = {\n        shouldReplaceExitWithBack: stack.length > 1,\n        extraProps: { open },\n        TrackDialogHierarchy,\n    }\n    if (hasGlobalBackdrop) returnVal.extraProps.hideBackdrop = true\n    if (stack.length > 1) returnVal.extraProps.transitionDuration = 0\n\n    if (!open) return returnVal\n    if (stack.at(-1) !== selfID) {\n        returnVal.extraProps = {\n            ...returnVal.extraProps,\n            disableEscapeKeyDown: true,\n            disableScrollLock: true,\n            hideBackdrop: true,\n            hidden: true,\n            style: { visibility: 'hidden' },\n            'aria-hidden': true,\n        }\n    }\n    return returnVal\n}\n\nexport interface useDialogStackActorReturn {\n    shouldReplaceExitWithBack: boolean\n    extraProps: DialogProps\n    TrackDialogHierarchy: React.ComponentType<React.PropsWithChildren<{}>>\n}\n\nexport interface DialogStackingProviderProps extends React.PropsWithChildren<{}> {\n    hasGlobalBackdrop?: boolean\n}\n\n/**\n * This Provider can turn any `MaskDialog` or `InjectedDialog` in the subtree into a unified dialog.\n *\n * For example:\n *\n * ```tsx\n * <DialogStackingProvider>\n *    <Dialog1>\n *        <Dialog2></Dialog2>\n *    </Dialog1>\n *    <Dialog3></Dialog3>\n * </DialogStackingProvider>\n * ```\n *\n * When Dialog1 and Dialog2 both opened, only Dialog2 will be visible and the left top button\n * becomes \"BackArrow\".\n */\nexport function DialogStackingProvider(props: DialogStackingProviderProps) {\n    const [stack, setStack] = useState<readonly string[]>([])\n    const [hierarchy, setHierarchy] = useState<Hierarchy>({})\n    const context = useMemo((): StackContext => {\n        const sortedStack = sortStackByHierarchy(hierarchy, stack)\n        return {\n            hasGlobalBackdrop: props.hasGlobalBackdrop || false,\n            stack: sortedStack,\n            // Note: the following methods MUST NOT use stack or hierarchy out of the useState callback.\n            setParent(child, parent) {\n                if (!parent) return noop\n                setHierarchy((hierarchy) => {\n                    if (hierarchy[parent]?.has(child)) return hierarchy\n                    const newSet = new Set(hierarchy[parent] || [])\n                    newSet.add(child)\n                    return { ...hierarchy, [parent]: newSet }\n                })\n\n                return () => {\n                    setHierarchy((hierarchy) => {\n                        const newSet = new Set(hierarchy[parent])\n                        newSet.delete(child)\n                        return { ...hierarchy, [parent]: newSet }\n                    })\n                }\n            },\n            pop(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack.filter((x) => x !== id) : stack))\n            },\n            push(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack : stack.concat(id)))\n            },\n        }\n    }, [stack, hierarchy, props.hasGlobalBackdrop])\n    return <DialogStackingContext.Provider value={context}>{props.children}</DialogStackingContext.Provider>\n}\n\nexport function useDialogStacking() {\n    return useContext(DialogStackingContext)\n}\n\ntype Hierarchy = {\n    readonly [parent: string]: undefined | ReadonlySet<string>\n}\nfunction sortStackByHierarchy(hierarchy: Hierarchy, stack: readonly string[]): readonly string[] {\n    if (stack.length <= 1) return stack\n    const last = stack.at(-1)!\n    const children = hierarchy[last]\n    if (!children?.size) return stack\n    for (const child of children) {\n        if (stack.includes(child)) return sortStackByHierarchy(hierarchy, [last].concat(stack.slice(0, -1)))\n    }\n    return stack\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { useRef, forwardRef, useContext } from 'react'\nimport { Flags } from '@masknet/flags'\nimport type { PopperProps } from '@mui/material'\nimport {\n    DisableShadowRootContext,\n    PreventShadowRootEventPropagationListContext,\n    stopPropagation,\n    StyleSheetsContext,\n} from './Contexts.js'\nimport { ref } from './ShadowRootSetup.js'\n\n/**\n * Render to a React Portal in to the page needs this hook. It will provide a wrapped container that provides ShadowRoot isolation and CSS support for it.\n *\n * The return value can only be used once!\n * @param renderer A function that want to use PortalShadowRoot\n * @example\n * const picker = usePortalShadowRoot((container) => (\n *      <DatePicker\n *          DialogProps={{ container }}\n *          PopperProps={{ container }}\n *          value={new Date()}\n *          onChange={() => {}}\n *          renderInput={(props) => <TextField {...props} />}\n *      />\n * ))\n */\nexport function usePortalShadowRoot<T>(renderer: (container: HTMLElement | undefined) => T, debugKey?: string): T {\n    const disabled = useRef(useContext(DisableShadowRootContext)).current\n    // we ignore the changes on DisableShadowRootContext during multiple render\n    // so we can violates the React hooks rule and still be safe.\n    if (disabled) return renderer(undefined)\n\n    const sheet = useContext(StyleSheetsContext)\n    const signal = useRef<AbortController | null>(null)\n    const preventEventPropagationList = useContext(PreventShadowRootEventPropagationListContext)\n    const container = useRefInit(() => {\n        signal.current = new AbortController()\n        const portal = ref.portalContainer\n\n        const root = document.createElement('div')\n        root.dataset.portalShadowRoot = debugKey || ''\n        const shadow = root.attachShadow(Flags.shadowRootInit)\n\n        for (const each of preventEventPropagationList) {\n            shadow.addEventListener(each, stopPropagation, { signal: signal.current.signal })\n        }\n\n        const container = shadow.appendChild(document.createElement('main'))\n\n        sheet.addContainer(shadow)\n\n        // This is important to make the portal orders correct.\n        Object.defineProperty(container, 'appendChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                if (!root.parentElement) portal.appendChild(root)\n                Node.prototype.appendChild.call(container, child)\n                return child\n            },\n        })\n        Object.defineProperty(container, 'removeChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                Node.prototype.removeChild.call(container, child)\n                if (container.childElementCount === 0) portal.removeChild(root)\n                return child\n            },\n        })\n\n        return container\n    })\n\n    return renderer(container)\n}\n\nexport function createShadowRootForwardedComponent<\n    T extends {\n        container?: Element | (() => Element | null) | null | undefined\n        open: boolean\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => <Component container={container} {...props} ref={ref} />)\n    }) as any as typeof Component\n}\n\nexport function createShadowRootForwardedPopperComponent<\n    T extends {\n        PopperProps?: Partial<PopperProps>\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => {\n            return <Component {...props} PopperProps={{ container, ...props.PopperProps }} ref={ref} />\n        })\n    }) as any as typeof Component\n}\n\nfunction useRefInit<T>(f: () => T): T {\n    const ref = useRef<T>(undefined!)\n    if (!ref.current) ref.current = f()\n    return ref.current\n}\n","import { ObservableMap } from '@masknet/shared-base'\nimport { StrictMode, useEffect, useState } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { PreventShadowRootEventPropagationListContext } from './Contexts.js'\n\n/**\n * This container is used to attach the single React root.\n * It does not contain direct DOM decedents.\n * All decedents are mounted via <Portal>.\n */\nlet globalContainer: HTMLElement\n/**\n * This container is prepared for all the Modals.\n */\nlet portalContainer: ShadowRoot\nexport type WrapJSX = ((jsx: React.ReactNode) => JSX.Element) | undefined\n/** @internal */\nexport const shadowEnvironmentMountingRoots = new ObservableMap<any, JSX.Element>()\n\nexport function setupReactShadowRootEnvironment(\n    init: ShadowRootInit,\n    preventEventPropagationList: Array<keyof HTMLElementEventMap>,\n    wrapJSX?: WrapJSX,\n) {\n    if (portalContainer) return portalContainer\n    // TODO: make sure globalContainer is the last DOM in the body?\n    globalContainer = document.body.appendChild(document.createElement('div'))\n    portalContainer = globalContainer.attachShadow(init)\n\n    // Note: This React Root does not expect to have any direct DOM children.\n    createRoot(globalContainer).render(\n        <StrictMode>\n            <MountingPoint wrapJSX={wrapJSX} preventPropagationList={preventEventPropagationList} />\n        </StrictMode>,\n    )\n    return portalContainer\n}\nfunction MountingPoint(props: { wrapJSX: WrapJSX; preventPropagationList: Array<keyof HTMLElementEventMap> }) {\n    const [children, setChildren] = useState<JSX.Element[]>([])\n    useEffect(() => {\n        shadowEnvironmentMountingRoots.event.on(shadowEnvironmentMountingRoots.ALL_EVENTS, () => {\n            setChildren(Array.from(shadowEnvironmentMountingRoots.values()))\n        })\n    }, [])\n    return (\n        <PreventShadowRootEventPropagationListContext.Provider value={props.preventPropagationList}>\n            {props.wrapJSX ? props.wrapJSX(children) : children}\n        </PreventShadowRootEventPropagationListContext.Provider>\n    )\n}\n\n/** @internal */\nexport const ref = {\n    get portalContainer(): Element | ShadowRoot {\n        let dom: Element | ShadowRoot\n        if (location.protocol.includes('extension')) dom = document.body\n        else if (globalThis.location.hostname === 'localhost') return document.body\n        else if (!portalContainer) throw new TypeError('Please call setupPortalShadowRoot first')\n        else dom = portalContainer\n\n        Object.defineProperty(ref, 'mountingPoint', { value: dom })\n        return dom\n    },\n}\n","import e from\"void-elements\";var t=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function n(n){var r={type:\"tag\",name:\"\",voidElement:!1,attrs:{},children:[]},i=n.match(/<\\/?([^\\s]+?)[/\\s>]/);if(i&&(r.name=i[1],(e[i[1]]||\"/\"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith(\"!--\"))){var s=n.indexOf(\"--\\x3e\");return{type:\"comment\",comment:-1!==s?n.slice(4,s):\"\"}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,\"\"];o.indexOf(\"=\")>-1&&(l=o.split(\"=\")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g,i=/^\\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case\"text\":return e+t.content;case\"tag\":return e+=\"<\"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'=\"'+e[n]+'\"');return t.length?\" \"+t.join(\" \"):\"\"}(t.attrs):\"\")+(t.voidElement?\"/>\":\">\"),t.voidElement?e:e+t.children.reduce(a,\"\")+\"</\"+t.name+\">\";case\"comment\":return e+\"\\x3c!--\"+t.comment+\"--\\x3e\"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf(\"<\")){var u=e.indexOf(\"<\");c.push({type:\"text\",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!==\"</\"+a.name+\">\")return;m=!1}var u,f=\"/\"!==r.charAt(1),h=r.startsWith(\"\\x3c!--\"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,\"tag\"===(a=n(r)).type&&t.components[a.name]&&(a.type=\"component\",m=!0),a.voidElement||m||!d||\"<\"===d||a.children.push({type:\"text\",content:e.slice(p,e.indexOf(\"<\",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&\"<\"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf(\"<\",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=\" \"),(x>-1&&l+u.length>=0||\" \"!==g)&&u.push({type:\"text\",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a(\"\",t)},\"\")}};export default c;\n","/**\n * @license React\n * use-subscription.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=require(\"use-sync-external-store/shim\");exports.useSubscription=function(a){return b.useSyncExternalStore(a.subscribe,a.getCurrentValue)};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-subscription.production.min.js');\n} else {\n  module.exports = require('./cjs/use-subscription.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n"],"names":["allPersonas","currentPersona","queryPersonaAvatar","querySocialIdentity","fetchJSON","queryPersonaByProfile","openDashboard","openPopupWindow","signWithPersona","hasPaymentPassword","createPersona","setCurrentPersonaIdentifier","attachProfile","setPluginMinimalModeEnabled","hasHostPermission","requestHostPermission","__setUIContext__","value","lastRecognizedProfile","currentVisitingProfile","currentNextIDPlatform","currentPersonaIdentifier","getPostURL","share","getUserIdentity","getPostIdFromNewPostToast","postMessage","getSearchedKeyword","connectPersona","__setSiteAdaptorContext__","useSubscription","UNDEFINED","useLastRecognizedIdentity","useMemo","useTranslation","createProxy","initValue","define","key","Object","defineProperty","container","configurable","__proto__","Proxy","get","_","undefined","getPrototypeOf","setPrototypeOf","v","getOwnPropertyDescriptor","useSwitchLogoTrans","t","bind","memo","useCallback","useEffect","useState","InjectedDialog","useOpenApplicationSettings","Button","Checkbox","DialogContent","FormControlLabel","IconButton","Stack","Typography","makeStyles","Icons","Telemetry","EventType","EventID","CrossIsolationMessages","SwitchLogoType","switchLogoSettings","useValueRef","useStyles","theme","dialog","width","position","top","right","content","padding","iconButton","border","palette","maskColor","secondaryLine","height","display","justifyContent","alignItems","borderRadius","cursor","gap","selected","highlight","icons","flexDirection","buttons","powered_by","paddingTop","SwitchLogoDialog","classes","cx","identity","defaultLogoType","identifier","userId","logoType","setLogoType","Classics","needShare","setNeedShare","open","setOpen","events","switchLogoDialogUpdated","on","data","onSave","captureEvent","Access","EntrySwitchLogoSave","switch_logo_share_text","switch_logo_share_mask","join","onChange","openApplicationBoardDialog","disabled","None","onClose","title","switch_logo_title","paper","className","onClick","TwitterColored","fontSize","fontWeight","switch_logo_classics_logo","New","TwitterX","switch_logo_new_logo","control","color","checked","event","target","label","lineHeight","secondaryDark","switch_logo_save_tip","br","variant","fullWidth","save","marginRight","mask_network","size","sx","margin","Gear","React","Trans","PluginID","base","PLUGIN_ID","recommendFeature","description","i18nKey","ns","SwitchLogo","backgroundGradient","site","ApplicationEntries","ApplicationEntryID","appBoardSortingDefaultPriority","icon","name","category","GlobalInjection","createContext","useContext","useRef","useBuildInfo_raw","BuildInfo","displayName","BuildInfoProvider","props","Provider","useBuildInfo","current","useBuildInfoMarkdown","env","gitInfo","COMMIT_HASH","DIRTY","BRANCH_NAME","buildInfoMarkdown","VERSION","process","NODE_ENV","navigator","userAgent","channel","BUILD_DATE","defer","delay","Emitter","SingletonModal","constructor","close","abort","openAndWaitForClose","emitter","onOpen","onAbort","dispatchPeek","dispatchOpen","dispatchClose","dispatchAbort","register","creator","ref","emit","error","peek","console","warn","Promise","resolve","reject","SingletonModalQueued","opened","tasks","cleanup","push","d","length","shift","EMPTY_LIST","createConstantSubscription","ZERO","EMPTY_STRING","EMPTY_ARRAY","EMPTY_ENTRY","TRUE","FALSE","NULL","WalletConnectQRCodeModal","SelectProviderModal","WalletStatusModal","WalletRiskWarningModal","ConnectWalletModal","LeavePageConfirmModal","ApplicationBoardModal","ApplicationBoardSettingsModal","GasSettingModal","TransactionConfirmModal","TransactionSnackbar","ConfirmModal","ConfirmDialog","SelectNonFungibleContractModal","SelectGasSettingsModal","AddCollectiblesModal","SelectFungibleTokenModal","PersonaSelectPanelModal","ShareSelectNetworkModal","ApplicationSettingTabs","tab","focusPluginID","useLayoutEffect","noop","DialogStackingContext","stack","pop","setParent","hasGlobalBackdrop","DialogHierarchyContext","useDialogStackActor","selfID","Math","random","parentID","TrackDialogHierarchy","children","returnVal","shouldReplaceExitWithBack","extraProps","hideBackdrop","transitionDuration","at","disableEscapeKeyDown","disableScrollLock","hidden","style","visibility","DialogStackingProvider","setStack","hierarchy","setHierarchy","context","sortedStack","sortStackByHierarchy","child","parent","has","newSet","Set","add","delete","id","includes","filter","x","concat","useDialogStacking","last","slice","forwardRef","Flags","DisableShadowRootContext","PreventShadowRootEventPropagationListContext","stopPropagation","StyleSheetsContext","usePortalShadowRoot","renderer","debugKey","sheet","signal","preventEventPropagationList","useRefInit","AbortController","portal","portalContainer","root","document","createElement","dataset","portalShadowRoot","shadow","attachShadow","shadowRootInit","each","addEventListener","appendChild","addContainer","writable","parentElement","Node","prototype","call","removeChild","childElementCount","createShadowRootForwardedComponent","Component","createShadowRootForwardedPopperComponent","PopperProps","f","ObservableMap","StrictMode","createRoot","globalContainer","shadowEnvironmentMountingRoots","setupReactShadowRootEnvironment","init","wrapJSX","body","render","MountingPoint","preventPropagationList","setChildren","ALL_EVENTS","Array","from","values","dom","location","protocol","globalThis","hostname","TypeError"],"sourceRoot":"","x_google_ignoreList":[14,15,16,17,18,19]}