{"version":3,"file":"bundled/chunk.8737.js","mappings":"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","sources":["webpack://mask-network/./packages/base/src/utils/parseURLs.ts","webpack://mask-network/./packages/plugin-infra/src/dom/usePluginWrapper.tsx","webpack://mask-network/./packages/shared-base-ui/src/hooks/useObservableMapSet.ts","webpack://mask-network/./packages/plugin-infra/src/site-adaptor/PostContext.ts","webpack://mask-network/./packages/shared/src/UI/components/SocialIcon/index.tsx","webpack://mask-network/./packages/shared-base/src/helpers/purify.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/locales/i18n_generated.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/gitcoin-grant-detail-style.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/apis/index.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/hooks/useGrant.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/modals/modals.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/PreviewCard.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/hooks/useBulkCheckoutWallet.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/hooks/useDonateCallback.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/modals/DonateModal/GiveBackSelect.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/utils.ts","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/modals/DonateModal/DonateDialog.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/modals/DonateModal/index.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/modals/ResultModal/ResultDialog.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/modals/ResultModal/index.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/modals/index.tsx","webpack://mask-network/./packages/plugins/Gitcoin/src/SiteAdaptor/index.tsx","webpack://mask-network/./packages/shared-base-ui/src/components/ErrorBoundary/context.tsx","webpack://mask-network/./packages/shared-base-ui/src/hooks/useSingletonModal.ts","webpack://mask-network/./node_modules/.pnpm/@mui+icons-material@5.10.6_@mui+material@5.10.8_@types+react@18.2.21_react@0.0.0-experimental-0a360642d-20230711/node_modules/@mui/icons-material/esm/HelpOutline.js","webpack://mask-network/./packages/shared/src/UI/components/EthereumERC20TokenApprovedBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/FungibleTokenInput/UI.tsx","webpack://mask-network/./packages/shared/src/UI/components/FungibleTokenInput/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/LoadingStatus/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/NetworkTab/index.tsx","webpack://mask-network/./packages/shared/src/UI/components/ReloadStatus/index.tsx","webpack://mask-network/./packages/web3-hooks/base/src/useRiskWarningApproved.ts","webpack://mask-network/./packages/shared/src/UI/components/WalletConnectedBoundary/index.tsx","webpack://mask-network/./packages/shared/src/UI/wallet/FormattedBalance.tsx","webpack://mask-network/./packages/theme/src/Components/Dialogs/DialogStack.tsx","webpack://mask-network/./packages/theme/src/Components/WrappedComponents/ShadowRootTooltip.ts","webpack://mask-network/./packages/theme/src/ShadowRoot/Portal.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootIsolation.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootSetup.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootStyleSheet.ts","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootStyleProvider.tsx","webpack://mask-network/./packages/typed-message/base/src/core/image.ts","webpack://mask-network/./packages/typed-message/base/src/core/promise.ts","webpack://mask-network/./packages/typed-message/base/src/core/text.ts","webpack://mask-network/./packages/typed-message/base/src/core/tuple.ts","webpack://mask-network/./packages/typed-message/base/src/extension/MaskPayload.ts","webpack://mask-network/./packages/typed-message/base/src/extension/anchor.ts","webpack://mask-network/./packages/typed-message/base/src/utils/extract.ts","webpack://mask-network/./packages/typed-message/base/src/utils/index.ts","webpack://mask-network/./packages/typed-message/base/src/utils/internal.ts","webpack://mask-network/./packages/typed-message/base/src/visitor/forEachChild.ts","webpack://mask-network/./packages/web3-hooks/base/src/useFungibleTokenSpenders.ts","webpack://mask-network/./packages/web3-hooks/base/src/useNetworkDescriptors.ts","webpack://mask-network/./packages/web3-hooks/evm/src/useContract.ts","webpack://mask-network/./packages/web3-hooks/evm/src/useGasConfig.ts","webpack://mask-network/./packages/web3-shared/evm/src/libs/GasEditor.ts","webpack://mask-network/./node_modules/.pnpm/html-parse-stringify@3.0.1/node_modules/html-parse-stringify/dist/html-parse-stringify.module.js","webpack://mask-network/./node_modules/.pnpm/void-elements@3.1.0/node_modules/void-elements/index.js"],"sourcesContent":["import * as parser from /* webpackDefer: true */ 'anchorme'\nexport function parseURLs(text: string, requireProtocol = true) {\n    // CJS-ESM compatibility\n    const lib = parser.default.default || parser.default\n    return lib\n        .list(text)\n        .map((x) => x.string)\n        .filter((y) => {\n            if (!requireProtocol) return true\n            // See https://github.com/alexcorvi/anchorme.js/issues/109\n            return URL.canParse(y)\n        })\n}\n","import { createContext, useEffect, useContext, type ForwardRefExoticComponent, type RefAttributes } from 'react'\nimport { noop } from 'lodash-es'\nimport type { Plugin } from '../types.js'\n\nexport type PluginWrapperComponent<T extends Plugin.Shared.Definition = Plugin.Shared.Definition> =\n    ForwardRefExoticComponent<\n        React.PropsWithChildren<\n            RefAttributes<PluginWrapperMethods> & {\n                definition: T\n                lackHostPermission?: boolean\n            }\n        >\n    >\n\nconst emptyPluginWrapperMethods = {\n    setWrap: noop,\n    setWrapperName: noop,\n    setWidth: noop,\n}\n/** @internal */\nexport const PluginWrapperMethodsContext = createContext<PluginWrapperMethods>(emptyPluginWrapperMethods)\nPluginWrapperMethodsContext.displayName = 'PluginWrapperMethodsContext'\nexport interface PluginWrapperMethods {\n    setWrap(open: boolean): void\n    setWrapperName(name: string | undefined): void\n    setWidth(width: number | undefined): void\n}\n\nexport function usePluginWrapper(\n    open: boolean,\n    options?: {\n        width?: number\n        name?: string\n    },\n) {\n    const { setWidth, setWrap, setWrapperName } = useContext(PluginWrapperMethodsContext)\n    const { width, name } = options || {}\n\n    useEffect(() => {\n        setWrap(open)\n        return () => setWrap(open)\n    }, [open, setWrap])\n    useEffect(() => setWidth(width), [width, setWidth])\n    useEffect(() => setWrapperName(name), [name, setWrapperName])\n}\n","import { useMemo } from 'react'\nimport { useSubscription, type Subscription } from 'use-subscription'\nimport { type ObservableMap, type ObservableSet } from '@masknet/shared-base'\n\nexport function useObservableValues<T>(map: ObservableMap<any, T> | ObservableSet<T>) {\n    const subscription = useMemo<Subscription<T[]>>(\n        () => ({\n            getCurrentValue: () => map.asValues,\n            subscribe: (callback) => {\n                return (map.event as any).on(map.ALL_EVENTS, callback)\n            },\n        }),\n        [map],\n    )\n\n    return useSubscription(subscription)\n}\n","import { createContext, createElement, useContext } from 'react'\nimport { type Subscription, useSubscription } from 'use-subscription'\nimport type { Some } from 'ts-results-es'\nimport type { LiveSelector, DOMProxy } from '@dimensiondev/holoflows-kit'\nimport {\n    ObservableMap,\n    ObservableSet,\n    type PostIVIdentifier,\n    ValueRef,\n    type PostIdentifier,\n    type ProfileIdentifier,\n} from '@masknet/shared-base'\nimport { useObservableValues, useValueRef } from '@masknet/shared-base-ui'\nimport type { TypedMessage } from '@masknet/typed-message'\nimport type { SupportedPayloadVersions } from '@masknet/encryption'\n\nexport interface PostContextActions {\n    hasPayloadLike(content: string): boolean\n    getURLFromPostIdentifier?(post: PostIdentifier): URL | null\n}\nexport interface PostContextAuthor {\n    readonly nickname: Subscription<string | null>\n    readonly avatarURL: Subscription<URL | null>\n    readonly author: Subscription<ProfileIdentifier | null>\n    /** post id on the network. */\n    readonly postID: Subscription<string | null>\n}\n\nexport interface PostContextCoAuthor {\n    nickname?: string\n    avatarURL?: URL\n    author: ProfileIdentifier\n    post: PostIdentifier\n}\n\nexport interface PostContextComment {\n    readonly commentsSelector: LiveSelector<HTMLElement>\n    readonly commentBoxSelector: LiveSelector<HTMLElement>\n}\nexport interface PostContextCreation extends PostContextAuthor {\n    readonly rootElement: DOMProxy\n    readonly actionsElement?: DOMProxy\n    readonly isFocusing?: boolean\n    readonly suggestedInjectionPoint: HTMLElement\n    readonly comments?: PostContextComment\n    readonly coAuthors: Subscription<PostContextCoAuthor[]>\n    /**\n     * The result of this subscription will be merged with `PostContext.postMentionedLinks`.\n     *\n     * You don't need to provide this to resolve links in `PostContext.postContent`.\n     */\n    readonly postMentionedLinksProvider?: Subscription<string[]>\n    /** @deprecated It should parse image into rawMessage */\n    readonly postImagesProvider?: Subscription<string[]>\n    /**\n     * The raw TypedMessage that the site gives.\n     */\n    readonly rawMessage: Subscription<TypedMessage>\n    readonly signal?: AbortSignal\n}\nexport interface PostContext extends PostContextAuthor {\n    // #region DOM knowledge\n    get rootNode(): HTMLElement | null\n    readonly rootElement: DOMProxy\n    readonly actionsElement?: DOMProxy\n    readonly isFocusing?: boolean\n    readonly suggestedInjectionPoint: HTMLElement\n    // #endregion\n    readonly comment: PostContextComment | undefined\n    // #region Metadata of a post (author, mentioned items, ...)\n    /** Auto computed */\n    readonly identifier: Subscription<PostIdentifier | null>\n    readonly url: Subscription<URL | null>\n    readonly coAuthors: Subscription<PostContextCoAuthor[] | null>\n    // Meta\n    readonly mentionedLinks: Subscription<string[]>\n    /** @deprecated It should appears in rawMessage */\n    readonly postMetadataImages: Subscription<string[]>\n    // #endregion\n    // #region Raw post content (not decrypted)\n    readonly rawMessage: Subscription<TypedMessage>\n    readonly encryptComment: ValueRef<null | ((commentToEncrypt: string) => Promise<string>)>\n    readonly decryptComment: ValueRef<null | ((commentEncrypted: string) => Promise<string | null>)>\n    // #endregion\n    // #region Post payload discovered in the rawMessage\n    readonly hasMaskPayload: Subscription<boolean>\n    readonly postIVIdentifier: Subscription<PostIVIdentifier | null>\n    /**\n     * undefined => payload not found\n     */\n    readonly publicShared: Subscription<boolean | undefined>\n    readonly isAuthorOfPost: Subscription<boolean | undefined>\n    readonly version: Subscription<SupportedPayloadVersions | undefined>\n\n    decryptedReport(content: {\n        sharedPublic?: Some<boolean>\n        iv?: string\n        isAuthorOfPost?: Some<boolean>\n        version?: SupportedPayloadVersions\n    }): void\n    // #endregion\n}\nexport type PostInfo = PostContext\n\nexport const PostInfoContext = createContext<PostContext | null>(null)\nPostInfoContext.displayName = 'PostInfoContext'\n\n/** @deprecated use <PostInfoContext.Provider value={post}> */\nexport function PostInfoProvider(props: React.PropsWithChildren<{ post: PostInfo }>) {\n    return createElement(PostInfoContext.Provider, { value: props.post, children: props.children })\n}\nexport const usePostInfoDetails: {\n    // Change to use* when https://github.com/microsoft/TypeScript/issues/44643 fixed\n    [key in keyof PostInfo]: () => PostInfo[key] extends ValueRef<infer T>\n        ? T extends (...args: any) => any\n            ? T\n            : Readonly<T>\n        : PostInfo[key] extends ObservableSet<infer T>\n        ? ReadonlyArray<Readonly<T>>\n        : PostInfo[key] extends ObservableMap<any, infer T>\n        ? ReadonlyArray<Readonly<T>>\n        : PostInfo[key] extends Subscription<infer T>\n        ? Readonly<T>\n        : PostInfo[key]\n} = {\n    __proto__: new Proxy(\n        { __proto__: null },\n        {\n            get(_, key) {\n                if (typeof key === 'symbol') return undefined\n                function usePostInfoDetails() {\n                    const postInfo = useContext(PostInfoContext)\n                    if (!postInfo) throw new TypeError('No post context')\n                    if (!(key in postInfo)) throw new TypeError('postInfo.' + (key as string) + ' is not found')\n                    const k = postInfo[key as keyof PostInfo]\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ValueRef) return useValueRef<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ObservableMap) return useObservableValues<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (k instanceof ObservableSet) return useObservableValues<any>(k)\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\n                    if (isSubscription(k)) return useSubscription<any>(k)\n                    return k\n                }\n                Object.defineProperty(usePostInfoDetails, key, { value: usePostInfoDetails, configurable: true })\n                return usePostInfoDetails\n            },\n        },\n    ),\n} as any\nfunction isSubscription(x: any): x is Subscription<any> {\n    return (\n        typeof x === 'object' &&\n        x !== null &&\n        !!((x as Subscription<any>).getCurrentValue && (x as Subscription<any>).subscribe)\n    )\n}\n","import type { ComponentType, HTMLProps } from 'react'\nimport { type GeneratedIconProps, Icons } from '@masknet/icons'\n\nconst socialIconMap = {\n    'twitter.com': Icons.Twitter,\n    'github.com': Icons.GitHub,\n    default: Icons.Globe,\n} satisfies Record<string, ComponentType<GeneratedIconProps>>\n\ninterface Props extends HTMLProps<HTMLDivElement> {\n    /** Social url */\n    url?: string\n}\nexport function SocialIcon({ url, ...rest }: Props) {\n    if (!url) return null\n\n    const host = new URL(url).host as keyof typeof socialIconMap\n\n    const Icon = socialIconMap[host] ?? socialIconMap.default\n\n    return <Icon {...rest} />\n}\n","import DOMPurify from 'dompurify'\n\n// NEVER expose this policy to the external!\nconst policy =\n    typeof trustedTypes !== 'undefined'\n        ? trustedTypes.createPolicy('mask', {\n              createHTML: (x) => x,\n          })\n        : null\n\nexport function purify(html: string): TrustedHTML | string {\n    const sanitized = DOMPurify.sanitize(html)\n    return policy?.createHTML?.(sanitized) ?? sanitized\n}\n","// @ts-nocheck\n/* eslint-disable */\nimport { createElement, useMemo, type ComponentType } from \"react\";\nimport { useTranslation, Trans, type TransProps } from \"react-i18next\";\ntype TypedTransProps<Value, Components> = Omit<TransProps<string>, \"values\" | \"ns\" | \"i18nKey\"> & ({} extends Value ? {} : {\n    values: Value;\n}) & {\n    components: Components;\n};\nfunction createProxy(initValue: (key: string) => any) {\n    function define(key: string) {\n        const value = initValue(key);\n        Object.defineProperty(container, key, { value, configurable: true });\n        return value;\n    }\n    const container = {\n        __proto__: new Proxy({ __proto__: null }, {\n            get(_, key) {\n                if (typeof key === \"symbol\")\n                    return undefined;\n                return define(key);\n            }\n        })\n    };\n    return new Proxy(container, {\n        getPrototypeOf: () => null,\n        setPrototypeOf: (_, v) => v === null,\n        getOwnPropertyDescriptor: (_, key) => {\n            if (typeof key === \"symbol\")\n                return undefined;\n            if (!(key in container))\n                define(key);\n            return Object.getOwnPropertyDescriptor(container, key);\n        }\n    });\n}\nexport function useGitcoinTrans(): {\n    /**\n      * `Gitcoin`\n      */\n    name(): string;\n    /**\n      * `Display specific information of Gitcoin projects, donate to a project directly on social media.`\n      */\n    description(): string;\n    /**\n      * `Install mask.io to join free assets launch activity.`\n      */\n    promote(): string;\n    /**\n      * `Select a token`\n      */\n    select_a_token(): string;\n    /**\n      * `Grant not available`\n      */\n    grant_not_available(): string;\n    /**\n      * `Enter an amount`\n      */\n    enter_an_amount(): string;\n    /**\n      * `Insufficient {{symbol}} balance`\n      */\n    insufficient_balance(options: {\n        readonly symbol: string;\n    }): string;\n    /**\n      * `Donate`\n      */\n    donate(): string;\n    /**\n      * `Share`\n      */\n    share(): string;\n    /**\n      * `Last update:`\n      */\n    last_updated(): string;\n    /**\n      * `By`\n      */\n    by(): string;\n    /**\n      * `View on Gitcoin`\n      */\n    view_on(): string;\n    /**\n      * `Amount`\n      */\n    amount(): string;\n    /**\n      * `Loading`\n      */\n    loading(): string;\n    /**\n      * `Something went wrong.`\n      */\n    go_wrong(): string;\n    /**\n      * `Retry`\n      */\n    retry(): string;\n    /**\n      * `Connect Wallet`\n      */\n    plugin_wallet_connect_a_wallet(): string;\n    /**\n      * `https://gitcoin.co/grants/86/gitcoin-sustainability-fund`\n      */\n    readme_fund_link(): string;\n    /**\n      * `Select a token`\n      */\n    plugin_gitcoin_select_a_token(): string;\n    /**\n      * `Insufficient {{symbol}} balance`\n      */\n    plugin_gitcoin_insufficient_balance(options: {\n        readonly symbol: string;\n    }): string;\n    /**\n      * `I participated {{grant_name}} donation event and donated {{- amount}} {{symbol}}.\n    \n    $t(promote)`\n      */\n    share_text(options: Readonly<{\n        grant_name: string;\n        amount: string;\n        symbol: string;\n    }>): string;\n    /**\n      * `Active`\n      */\n    active(): string;\n    /**\n      * `Active`\n      */\n    grant_status$active(): string;\n    /**\n      * `Closed`\n      */\n    grant_status$closed(): string;\n    /**\n      * `Give back to the Gitcoin match pool`\n      */\n    give_back_to_match_pool(): string;\n    /**\n      * `Your Total Contribution`\n      */\n    total_contribution(): string;\n    /**\n      * `Contribute towards the Gitcoin Match Pool! Funds are used for current and future Grant rounds. The selected amount will be added on top of your grant contributions.`\n      */\n    give_back_tooltip(): string;\n    /**\n      * `You have donated {{- uiAmount}} {{symbol}} successfully.`\n      */\n    donate_successfully(options: Readonly<{\n        uiAmount: string;\n        symbol: string;\n    }>): string;\n    /**\n      * `Donate Checkout`\n      */\n    donate_dialog_title(): string;\n    /**\n      * - grant_status$active: `Active`\n    \n      * - grant_status$closed: `Closed`\n      */\n    grant_status(options: {\n        readonly context: \"active\" | \"closed\";\n    }): string;\n} { const { t } = useTranslation(\"co.gitcoin\"); return useMemo(() => createProxy((key) => t.bind(null, key)), [t]); }\nfunction createComponent(i18nKey: string) {\n    return (props) => createElement(Trans, { i18nKey, ns: \"co.gitcoin\", shouldUnescape: true, ...props });\n}\nexport const GitcoinTrans: {\n    /**\n      * `By using this service, you will also be contributing 5% of your contribution to the <fund>Gitcoin grants development fund</fund>.`\n      */\n    gitcoin_readme: ComponentType<TypedTransProps<Readonly<{}>, {\n        fund: JSX.Element;\n    }>>;\n    /**\n      * `Total Raised <bold>{{amount}}</bold>`\n      */\n    total_raised: ComponentType<TypedTransProps<{\n        readonly amount: string;\n    }, {\n        bold: JSX.Element;\n    }>>;\n    /**\n      * `by <bold>{{admin}}</bold>`\n      */\n    admin: ComponentType<TypedTransProps<{\n        readonly admin: string;\n    }, {\n        bold: JSX.Element;\n    }>>;\n} = /*#__PURE__*/ createProxy(createComponent);\n","// Copy from Gitcoin grant detail page.\nexport const grantDetailStyle = `\n.grant-detail a {\n  color: #6F3FF5;\n  text-decoration: none;\n}\n.grant-detail a:hover {\n  color: #5932C4;\n  text-decoration: underline;\n}\n.grant-detail p,\n.grant-detail ol,\n.grant-detail ul,\n.grant-detail pre,\n.grant-detail blockquote,\n.grant-detail h1,\n.grant-detail h2,\n.grant-detail h3,\n.grant-detail h4,\n.grant-detail h5,\n.grant-detail h6 {\n    margin: 0;\n    padding: 0;\n    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n\n.grant-detail ol,\n.grant-detail ul {\n    padding-left: 1.5em;\n}\n\n.grant-detail ol > li,\n.grant-detail ul > li {\n    list-style-type: none;\n}\n\n.grant-detail ul > li::before {\n    content: '\\\\2022';\n}\n\n.grant-detail ul[data-checked='true'],\n.grant-detail ul[data-checked='false'] {\n    pointer-events: none;\n}\n\n.grant-detail ul[data-checked='true'] > li *,\n.grant-detail ul[data-checked='false'] > li * {\n    pointer-events: all;\n}\n\n.grant-detail ul[data-checked='true'] > li::before,\n.grant-detail ul[data-checked='false'] > li::before {\n    color: #777;\n    cursor: pointer;\n    pointer-events: all;\n}\n\n.grant-detail ul[data-checked='true'] > li::before {\n    content: '\\\\2611';\n}\n\n.grant-detail ul[data-checked='false'] > li::before {\n    content: '\\\\2610';\n}\n\n.grant-detail li::before {\n    display: inline-block;\n    white-space: nowrap;\n    width: 1.2em;\n}\n\n.grant-detail li:not(.ql-direction-rtl)::before {\n    margin-left: -1.5em;\n    margin-right: 0.3em;\n    text-align: right;\n}\n\n.grant-detail li.ql-direction-rtl::before {\n    margin-left: 0.3em;\n    margin-right: -1.5em;\n}\n\n.grant-detail ol li:not(.ql-direction-rtl),\n.grant-detail ul li:not(.ql-direction-rtl) {\n    padding-left: 1.5em;\n}\n\n.grant-detail ol li.ql-direction-rtl,\n.grant-detail ul li.ql-direction-rtl {\n    padding-right: 1.5em;\n}\n\n.grant-detail ol li {\n    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n    counter-increment: list-0;\n}\n\n.grant-detail ol li:before {\n    content: counter(list-0, decimal) '. ';\n}\n\n.grant-detail ol li.ql-indent-1 {\n    counter-increment: list-1;\n}\n\n.grant-detail ol li.ql-indent-1:before {\n    content: counter(list-1, lower-alpha) '. ';\n}\n\n.grant-detail ol li.ql-indent-1 {\n    counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n\n.grant-detail ol li.ql-indent-2 {\n    counter-increment: list-2;\n}\n\n.grant-detail ol li.ql-indent-2:before {\n    content: counter(list-2, lower-roman) '. ';\n}\n\n.grant-detail ol li.ql-indent-2 {\n    counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n\n.grant-detail ol li.ql-indent-3 {\n    counter-increment: list-3;\n}\n\n.grant-detail ol li.ql-indent-3:before {\n    content: counter(list-3, decimal) '. ';\n}\n\n.grant-detail ol li.ql-indent-3 {\n    counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n\n.grant-detail ol li.ql-indent-4 {\n    counter-increment: list-4;\n}\n\n.grant-detail ol li.ql-indent-4:before {\n    content: counter(list-4, lower-alpha) '. ';\n}\n\n.grant-detail ol li.ql-indent-4 {\n    counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n\n.grant-detail ol li.ql-indent-5 {\n    counter-increment: list-5;\n}\n\n.grant-detail ol li.ql-indent-5:before {\n    content: counter(list-5, lower-roman) '. ';\n}\n\n.grant-detail ol li.ql-indent-5 {\n    counter-reset: list-6 list-7 list-8 list-9;\n}\n\n.grant-detail ol li.ql-indent-6 {\n    counter-increment: list-6;\n}\n\n.grant-detail ol li.ql-indent-6:before {\n    content: counter(list-6, decimal) '. ';\n}\n\n.grant-detail ol li.ql-indent-6 {\n    counter-reset: list-7 list-8 list-9;\n}\n\n.grant-detail ol li.ql-indent-7 {\n    counter-increment: list-7;\n}\n\n.grant-detail ol li.ql-indent-7:before {\n    content: counter(list-7, lower-alpha) '. ';\n}\n\n.grant-detail ol li.ql-indent-7 {\n    counter-reset: list-8 list-9;\n}\n\n.grant-detail ol li.ql-indent-8 {\n    counter-increment: list-8;\n}\n\n.grant-detail ol li.ql-indent-8:before {\n    content: counter(list-8, lower-roman) '. ';\n}\n\n.grant-detail ol li.ql-indent-8 {\n    counter-reset: list-9;\n}\n\n.grant-detail ol li.ql-indent-9 {\n    counter-increment: list-9;\n}\n\n.grant-detail ol li.ql-indent-9:before {\n    content: counter(list-9, decimal) '. ';\n}\n\n.grant-detail .ql-indent-1:not(.ql-direction-rtl) {\n    padding-left: 3em;\n}\n\n.grant-detail li.ql-indent-1:not(.ql-direction-rtl) {\n    padding-left: 4.5em;\n}\n\n.grant-detail .ql-indent-1.ql-direction-rtl.ql-align-right {\n    padding-right: 3em;\n}\n\n.grant-detail li.ql-indent-1.ql-direction-rtl.ql-align-right {\n    padding-right: 4.5em;\n}\n\n.grant-detail .ql-indent-2:not(.ql-direction-rtl) {\n    padding-left: 6em;\n}\n\n.grant-detail li.ql-indent-2:not(.ql-direction-rtl) {\n    padding-left: 7.5em;\n}\n\n.grant-detail .ql-indent-2.ql-direction-rtl.ql-align-right {\n    padding-right: 6em;\n}\n\n.grant-detail li.ql-indent-2.ql-direction-rtl.ql-align-right {\n    padding-right: 7.5em;\n}\n\n.grant-detail .ql-indent-3:not(.ql-direction-rtl) {\n    padding-left: 9em;\n}\n\n.grant-detail li.ql-indent-3:not(.ql-direction-rtl) {\n    padding-left: 10.5em;\n}\n\n.grant-detail .ql-indent-3.ql-direction-rtl.ql-align-right {\n    padding-right: 9em;\n}\n\n.grant-detail li.ql-indent-3.ql-direction-rtl.ql-align-right {\n    padding-right: 10.5em;\n}\n\n.grant-detail .ql-indent-4:not(.ql-direction-rtl) {\n    padding-left: 12em;\n}\n\n.grant-detail li.ql-indent-4:not(.ql-direction-rtl) {\n    padding-left: 13.5em;\n}\n\n.grant-detail .ql-indent-4.ql-direction-rtl.ql-align-right {\n    padding-right: 12em;\n}\n\n.grant-detail li.ql-indent-4.ql-direction-rtl.ql-align-right {\n    padding-right: 13.5em;\n}\n\n.grant-detail .ql-indent-5:not(.ql-direction-rtl) {\n    padding-left: 15em;\n}\n\n.grant-detail li.ql-indent-5:not(.ql-direction-rtl) {\n    padding-left: 16.5em;\n}\n\n.grant-detail .ql-indent-5.ql-direction-rtl.ql-align-right {\n    padding-right: 15em;\n}\n\n.grant-detail li.ql-indent-5.ql-direction-rtl.ql-align-right {\n    padding-right: 16.5em;\n}\n\n.grant-detail .ql-indent-6:not(.ql-direction-rtl) {\n    padding-left: 18em;\n}\n\n.grant-detail li.ql-indent-6:not(.ql-direction-rtl) {\n    padding-left: 19.5em;\n}\n\n.grant-detail .ql-indent-6.ql-direction-rtl.ql-align-right {\n    padding-right: 18em;\n}\n\n.grant-detail li.ql-indent-6.ql-direction-rtl.ql-align-right {\n    padding-right: 19.5em;\n}\n\n.grant-detail .ql-indent-7:not(.ql-direction-rtl) {\n    padding-left: 21em;\n}\n\n.grant-detail li.ql-indent-7:not(.ql-direction-rtl) {\n    padding-left: 22.5em;\n}\n\n.grant-detail .ql-indent-7.ql-direction-rtl.ql-align-right {\n    padding-right: 21em;\n}\n\n.grant-detail li.ql-indent-7.ql-direction-rtl.ql-align-right {\n    padding-right: 22.5em;\n}\n\n.grant-detail .ql-indent-8:not(.ql-direction-rtl) {\n    padding-left: 24em;\n}\n\n.grant-detail li.ql-indent-8:not(.ql-direction-rtl) {\n    padding-left: 25.5em;\n}\n\n.grant-detail .ql-indent-8.ql-direction-rtl.ql-align-right {\n    padding-right: 24em;\n}\n\n.grant-detail li.ql-indent-8.ql-direction-rtl.ql-align-right {\n    padding-right: 25.5em;\n}\n\n.grant-detail .ql-indent-9:not(.ql-direction-rtl) {\n    padding-left: 27em;\n}\n\n.grant-detail li.ql-indent-9:not(.ql-direction-rtl) {\n    padding-left: 28.5em;\n}\n\n.grant-detail .ql-indent-9.ql-direction-rtl.ql-align-right {\n    padding-right: 27em;\n}\n\n.grant-detail li.ql-indent-9.ql-direction-rtl.ql-align-right {\n    padding-right: 28.5em;\n}\n\n.grant-detail .ql-video {\n    display: block;\n    max-width: 100%;\n}\n\n.grant-detail .ql-video.ql-align-center {\n    margin: 0 auto;\n}\n\n.grant-detail .ql-video.ql-align-right {\n    margin: 0 0 0 auto;\n}\n\n.grant-detail .ql-bg-black {\n    background-color: #000;\n}\n\n.grant-detail .ql-bg-red {\n    background-color: #e60000;\n}\n\n.grant-detail .ql-bg-orange {\n    background-color: #f90;\n}\n\n.grant-detail .ql-bg-yellow {\n    background-color: #ff0;\n}\n\n.grant-detail .ql-bg-green {\n    background-color: #008a00;\n}\n\n.grant-detail .ql-bg-blue {\n    background-color: #06c;\n}\n\n.grant-detail .ql-bg-purple {\n    background-color: #93f;\n}\n\n.grant-detail .ql-color-white {\n    color: #fff;\n}\n\n.grant-detail .ql-color-red {\n    color: #e60000;\n}\n\n.grant-detail .ql-color-orange {\n    color: #f90;\n}\n\n.grant-detail .ql-color-yellow {\n    color: #ff0;\n}\n\n.grant-detail .ql-color-green {\n    color: #008a00;\n}\n\n.grant-detail .ql-color-blue {\n    color: #06c;\n}\n\n.grant-detail .ql-color-purple {\n    color: #93f;\n}\n\n.grant-detail .ql-font-serif {\n    font-family: Georgia, Times New Roman, serif;\n}\n\n.grant-detail .ql-font-monospace {\n    font-family: Monaco, Courier New, monospace;\n}\n\n.grant-detail .ql-size-small {\n    font-size: 0.75em;\n}\n\n.grant-detail .ql-size-large {\n    font-size: 1.5em;\n}\n\n.grant-detail .ql-size-huge {\n    font-size: 2.5em;\n}\n\n.grant-detail .ql-direction-rtl {\n    direction: rtl;\n    text-align: inherit;\n}\n\n.grant-detail .ql-align-center {\n    text-align: center;\n}\n\n.grant-detail .ql-align-justify {\n    text-align: justify;\n}\n\n.grant-detail .ql-align-right {\n    text-align: right;\n}\n`\n","import urlcat from 'urlcat'\nimport { fetchCachedJSON } from '@masknet/web3-providers/helpers'\nimport { GITCOIN_API_GRANTS_V1, type TenantTypes } from '../constants.js'\n\ninterface AdminProfile {\n    id: number\n    url: string\n    handle: string\n    keywords?: string[]\n    position?: number\n    avatar_url: string\n    github_url?: string\n    total_earned?: number\n    organizations?: unknown\n}\n\nexport interface GitcoinGrant {\n    url: string\n    active: boolean\n    title: string\n    slug: string\n    description: string\n    description_rich: string\n    reference_url: string\n    logo_url: string\n    logo: string\n    last_update_natural: string\n    verified: boolean\n    admin_address: string\n    amount_received: string\n    token_address: string\n    token_symbol: string\n    contract_address: string\n    metadata: unknown\n    network: string\n    required_gas_price: string\n    admin_profile: AdminProfile\n    team_members: AdminProfile[]\n    twitter_handle_1?: string\n    twitter_handle_2?: string\n    tenants: TenantTypes[]\n}\n\nexport async function fetchGrant(id: string) {\n    if (!/\\d+/.test(id)) return\n\n    const { grants } = await fetchCachedJSON<{\n        grants: GitcoinGrant\n        status: number\n    }>(urlcat(GITCOIN_API_GRANTS_V1, { id }))\n    return grants\n}\n","import { useAsyncRetry } from 'react-use'\nimport { fetchGrant } from '../../apis/index.js'\n\nexport function useGrant(id: string) {\n    return useAsyncRetry(() => fetchGrant(id))\n}\n","import { SingletonModal } from '@masknet/shared-base'\nimport type { DonateModalOpenProps } from './DonateModal/index.js'\nimport type { ResultModalOpenProps } from './ResultModal/index.js'\n\nexport const DonateModal = new SingletonModal<DonateModalOpenProps>()\nexport const ResultModal = new SingletonModal<ResultModalOpenProps>()\n","import { BigNumber } from 'bignumber.js'\nimport { intersection } from 'lodash-es'\nimport urlcat from 'urlcat'\nimport { useMemo } from 'react'\nimport { QuillDeltaToHtmlConverter } from 'quill-delta-to-html'\nimport { Icons } from '@masknet/icons'\nimport { ChainBoundary, LoadingStatus, ReloadStatus, SocialIcon } from '@masknet/shared'\nimport { NetworkPluginID, purify } from '@masknet/shared-base'\nimport { makeStyles, ShadowRootIsolation } from '@masknet/theme'\nimport { useChainContext } from '@masknet/web3-hooks-base'\nimport { alpha, Box, Button, Card, Link, Stack, Typography } from '@mui/material'\nimport { GitcoinTrans, useGitcoinTrans } from '../locales/i18n_generated.js'\nimport { SUPPORTED_TENANTS, TenantToChainIconMap } from '../constants.js'\nimport { grantDetailStyle } from './gitcoin-grant-detail-style.js'\nimport { useGrant } from './hooks/useGrant.js'\nimport { DonateModal } from './modals/modals.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    card: {\n        padding: theme.spacing(0, 1.5, 1.5),\n        maxHeight: 500,\n        overflow: 'auto',\n        display: 'flex',\n        flexDirection: 'column',\n        '&::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'row',\n        flexGrow: 1,\n    },\n    metas: {\n        display: 'flex',\n        marginTop: theme.spacing(1),\n    },\n    admin: {\n        marginLeft: 'auto',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    link: {\n        marginLeft: theme.spacing(1),\n        color: theme.palette.maskColor.main,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    main: {\n        padding: theme.spacing(2, 2, 0),\n        boxSizing: 'border-box',\n        marginTop: theme.spacing(2.5),\n        borderRadius: 12,\n        minHeight: 366,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    article: {\n        borderRadius: '12px 12px 0 0',\n        height: '100%',\n        boxSizing: 'border-box',\n        overflow: 'auto',\n        overscrollBehavior: 'contain',\n        '&::-webkit-scrollbar': {\n            display: 'none',\n        },\n    },\n    network: {\n        marginRight: theme.spacing(1.5),\n    },\n    title: {\n        lineHeight: '22px',\n        fontWeight: 'bold',\n        fontSize: 18,\n        flexGrow: 1,\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n        marginRight: theme.spacing(2),\n    },\n    bold: {\n        fontWeight: 'bold',\n        color: theme.palette.maskColor.dark,\n    },\n    banner: {\n        textAlign: 'center',\n        img: {\n            width: '100%',\n            maxWidth: '100%',\n            maxHeight: 176,\n            objectFit: 'contain',\n            borderRadius: theme.spacing(1.5),\n        },\n    },\n    description: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        whiteSpace: 'pre-wrap',\n        wordBreak: 'break-word',\n        tabSize: 4,\n        img: {\n            maxWidth: '100%',\n        },\n    },\n    data: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    meta: {\n        fontSize: 10,\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        display: 'flex',\n        alignItems: 'center',\n    },\n    button: {\n        width: '100%',\n    },\n}))\n\ninterface PreviewCardProps {\n    grantId: string\n}\n\nexport function PreviewCard(props: PreviewCardProps) {\n    const t = useGitcoinTrans()\n    const { classes, theme } = useStyles()\n    const { value: grant, error, loading, retry } = useGrant(props.grantId)\n    const { chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n\n    // #region the donation dialog\n    const [style, description] = useMemo((): [string, string | TrustedHTML] => {\n        if (!grant?.description_rich) return ['', grant?.description || '']\n        const ops = JSON.parse(grant.description_rich).ops as object[]\n        const converter = new QuillDeltaToHtmlConverter(ops)\n        return [grantDetailStyle, converter.convert()]\n    }, [grant?.description_rich, grant?.description])\n\n    if (loading) return <LoadingStatus height={148} p={1} />\n    if (error) return <ReloadStatus height={120} message={t.go_wrong()} onRetry={retry} />\n    if (!grant) return null\n\n    const tenant = grant.tenants[0]\n    const isSupportedTenant = intersection(grant.tenants, SUPPORTED_TENANTS).length > 0\n\n    // Use handle_1 as Gitcoin does\n    const twitterProfile = grant.twitter_handle_1 ? `https://twitter.com/${grant.twitter_handle_1}` : null\n\n    const ChainIcon = TenantToChainIconMap[tenant]\n    return (\n        <article className={classes.card}>\n            <div className={classes.header}>\n                {ChainIcon ? <ChainIcon className={classes.network} size={36} /> : null}\n                <Stack flexGrow={1} overflow=\"auto\">\n                    <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n                        <Typography variant=\"h1\" className={classes.title} title={grant.title}>\n                            {grant.title}\n                        </Typography>\n                        <Button\n                            disableTouchRipple\n                            color=\"success\"\n                            size=\"small\"\n                            sx={{\n                                pointerEvents: 'none',\n                                borderRadius: '32px',\n                                backgroundColor: grant.active\n                                    ? theme.palette.maskColor.success\n                                    : alpha(theme.palette.maskColor.primary, 0.1),\n                            }}>\n                            {t.grant_status({ context: grant.active ? 'active' : 'closed' })}\n                        </Button>\n                    </Box>\n                    <div className={classes.metas}>\n                        <Typography color={theme.palette.maskColor.second} fontSize={14}>\n                            <GitcoinTrans.total_raised\n                                values={{\n                                    amount: `$${new BigNumber(grant.amount_received).toFixed(2)}`,\n                                }}\n                                components={{\n                                    bold: <Typography component=\"span\" className={classes.bold} />,\n                                }}\n                            />\n                        </Typography>\n                        <div className={classes.admin}>\n                            <Typography color={theme.palette.maskColor.second}>\n                                <GitcoinTrans.admin\n                                    values={{ admin: grant.admin_profile.handle }}\n                                    components={{\n                                        bold: (\n                                            <Link\n                                                className={classes.bold}\n                                                target=\"_blank\"\n                                                href={`https://gitcoin.co/profile/${grant.admin_profile.handle}`}\n                                            />\n                                        ),\n                                    }}\n                                />\n                            </Typography>\n                            {twitterProfile ? (\n                                <Link className={classes.link} target=\"_blank\" href={twitterProfile}>\n                                    <SocialIcon url={twitterProfile} size={16} />\n                                </Link>\n                            ) : null}\n                            {grant.admin_profile.github_url ? (\n                                <Link className={classes.link} href={grant.admin_profile.github_url} target=\"_blank\">\n                                    <SocialIcon url={grant.admin_profile.github_url} size={16} />\n                                </Link>\n                            ) : null}\n                            <Link className={classes.link} href={grant.reference_url}>\n                                <SocialIcon url={grant.reference_url} size={16} />\n                            </Link>\n                        </div>\n                    </div>\n                </Stack>\n            </div>\n            <Card variant=\"outlined\" className={classes.main} elevation={0}>\n                <Typography className={classes.article} component=\"div\">\n                    <div className={classes.banner}>\n                        <img src={grant.logo_url} />\n                    </div>\n                    <ShadowRootIsolation>\n                        <style>{style}</style>\n                        <PreviewCardRender __html={description} />\n                    </ShadowRootIsolation>\n                    <div className={classes.data}>\n                        <div className={classes.meta}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {t.last_updated()} {grant.last_update_natural}\n                            </Typography>\n                        </div>\n                    </div>\n                </Typography>\n            </Card>\n            <Box sx={{ display: 'flex', width: '100%', gap: 1, mt: 1 }}>\n                <Box sx={{ flex: 1 }}>\n                    <Button\n                        fullWidth\n                        variant=\"roundedDark\"\n                        className={classes.button}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        href={urlcat('https://gitcoin.co', grant.url)}\n                        startIcon={<Icons.Eye variant=\"dark\" size={18} />}>\n                        {t.view_on()}\n                    </Button>\n                </Box>\n                {grant.active && isSupportedTenant ? (\n                    <Box sx={{ flex: 1 }}>\n                        <ChainBoundary\n                            expectedPluginID={NetworkPluginID.PLUGIN_EVM}\n                            expectedChainId={chainId}\n                            predicate={(pluginID) => pluginID === NetworkPluginID.PLUGIN_EVM}\n                            ActionButtonPromiseProps={{ variant: 'roundedDark' }}>\n                            <Button\n                                fullWidth\n                                variant=\"roundedDark\"\n                                onClick={() => {\n                                    DonateModal.open({ grant })\n                                }}\n                                startIcon={<Icons.Wallet size={18} />}>\n                                {t.donate()}\n                            </Button>\n                        </ChainBoundary>\n                    </Box>\n                ) : null}\n            </Box>\n        </article>\n    )\n}\n\n// Note: this extra component is used to make sure the useStyles call happens\n// under the ShadowRootIsolation context.\nfunction PreviewCardRender({ __html }: { __html: string | TrustedHTML }) {\n    const { classes, cx } = useStyles()\n    const safeHTML = useMemo(() => {\n        if (typeof __html === 'string') return purify(__html)\n        return __html\n    }, [__html])\n    // this is safe because purify has been called\n    // eslint-disable-next-line react/no-danger\n    return <div className={cx(classes.description, 'grant-detail')} dangerouslySetInnerHTML={{ __html: safeHTML }} />\n}\n","import type { AbiItem } from 'web3-utils'\nimport BulkCheckoutABI from '@masknet/web3-contracts/abis/BulkCheckout.json'\nimport type { BulkCheckout } from '@masknet/web3-contracts/types/BulkCheckout.js'\nimport { type ChainId, useGitcoinConstants } from '@masknet/web3-shared-evm'\nimport { useContract } from '@masknet/web3-hooks-evm'\n\nexport function useBulkCheckoutContract(chainId: ChainId) {\n    const { BULK_CHECKOUT_ADDRESS } = useGitcoinConstants(chainId)\n    return useContract<BulkCheckout>(chainId, BULK_CHECKOUT_ADDRESS, BulkCheckoutABI as AbiItem[])\n}\n","import { useMemo } from 'react'\nimport { useAsync, useAsyncFn } from 'react-use'\nimport type { AsyncFnReturn, AsyncState } from 'react-use/lib/useAsync.js'\nimport { compact } from 'lodash-es'\nimport { BigNumber } from 'bignumber.js'\nimport { EMPTY_LIST, NetworkPluginID } from '@masknet/shared-base'\nimport { type FungibleToken, toFixed } from '@masknet/web3-shared-base'\nimport { Web3 } from '@masknet/web3-providers'\nimport { useGasConfig } from '@masknet/web3-hooks-evm'\nimport { type ChainId, ContractTransaction, SchemaType, useGitcoinConstants } from '@masknet/web3-shared-evm'\nimport { useChainContext, useGasPrice } from '@masknet/web3-hooks-base'\nimport { useBulkCheckoutContract } from './useBulkCheckoutWallet.js'\n\ntype DonationTuple = [string, string, string]\n\ntype ResultTuple = [\n    AsyncFnReturn<() => Promise<string | undefined>>[0],\n    AsyncState<string>,\n    AsyncFnReturn<() => Promise<string | undefined>>[1],\n]\n\n/**\n * A callback for donate gitcoin grant\n * @param address the donor address\n * @param grantAmount\n * @param tipAmount\n * @param token\n */\nexport function useDonateCallback(\n    address: string,\n    grantAmount: string,\n    tipAmount: string,\n    token?: FungibleToken<ChainId, SchemaType>,\n): ResultTuple {\n    const { GITCOIN_ETH_ADDRESS, GITCOIN_MAINTAINER_ADDRESS } = useGitcoinConstants()\n\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    const bulkCheckoutContract = useBulkCheckoutContract(chainId)\n\n    const totalAmount = toFixed(new BigNumber(grantAmount).plus(tipAmount))\n    const donations = useMemo<DonationTuple[]>(() => {\n        if (!address || !token || !GITCOIN_ETH_ADDRESS) return EMPTY_LIST\n        return compact([\n            [\n                token.schema === SchemaType.Native ? GITCOIN_ETH_ADDRESS : token.address,\n                grantAmount,\n                address, // dest\n            ],\n            GITCOIN_MAINTAINER_ADDRESS && new BigNumber(tipAmount).gt(0)\n                ? [\n                      token.schema === SchemaType.Native ? GITCOIN_ETH_ADDRESS : token.address,\n                      tipAmount,\n                      GITCOIN_MAINTAINER_ADDRESS, // dest\n                  ]\n                : undefined,\n        ])\n    }, [address, grantAmount, tipAmount, token, GITCOIN_MAINTAINER_ADDRESS, GITCOIN_ETH_ADDRESS])\n\n    const { gasPrice } = useGasConfig(chainId)\n    const { data: defaultGasPrice = '1' } = useGasPrice(NetworkPluginID.PLUGIN_EVM, { chainId })\n    const gasState = useAsync(async () => {\n        if (!bulkCheckoutContract || !token) return '0'\n        const price = !gasPrice || gasPrice === '0' ? defaultGasPrice : gasPrice\n\n        // estimate gas and compose transaction\n        const tx = await new ContractTransaction(bulkCheckoutContract).fillAll(\n            bulkCheckoutContract.methods.donate(donations),\n            {\n                from: account,\n                value: token.schema === SchemaType.Native ? totalAmount : '0',\n            },\n        )\n        return new BigNumber(tx.gas ?? 1).times(price).toFixed(0)\n    }, [gasPrice, defaultGasPrice, bulkCheckoutContract, token])\n\n    const [callbackState, callback] = useAsyncFn(async () => {\n        if (!token || !bulkCheckoutContract || !donations.length) return\n\n        // estimate gas and compose transaction\n        const tx = await new ContractTransaction(bulkCheckoutContract).fillAll(\n            bulkCheckoutContract.methods.donate(donations),\n            {\n                from: account,\n                value: token.schema === SchemaType.Native ? totalAmount : '0',\n            },\n        )\n        return Web3.sendTransaction(tx)\n    }, [account, totalAmount, token, donations])\n\n    return [callbackState, gasState, callback]\n}\n","import { memo } from 'react'\nimport { MenuItem, Select, type SelectProps } from '@mui/material'\n\ninterface Props extends SelectProps<number> {}\n\nconst OPTIONS = [0, 0.05, 0.1, 0.15]\nexport const GiveBackSelect = memo((props: Props) => {\n    return (\n        <Select\n            {...props}\n            MenuProps={{\n                disablePortal: true,\n                disableScrollLock: true,\n                ...props.MenuProps,\n            }}>\n            {OPTIONS.map((ratio) => (\n                <MenuItem key={ratio} value={ratio}>\n                    {ratio * 100}%\n                </MenuItem>\n            ))}\n        </Select>\n    )\n})\n\nGiveBackSelect.displayName = 'GiveBackSelect'\n","import type { ChainId } from '@masknet/web3-shared-evm'\nimport { compact } from 'lodash-es'\nimport { TenantToChainMap, type TenantTypes } from './constants.js'\n\nexport function getSupportedChainIds(tenants: TenantTypes[]): ChainId[] {\n    return compact(tenants.map((tenant) => TenantToChainMap[tenant])).flat()\n}\n","import { BigNumber } from 'bignumber.js'\nimport { memo, useCallback, useLayoutEffect, useMemo, useState } from 'react'\nimport { useAsync } from 'react-use'\nimport { Icons } from '@masknet/icons'\nimport { share } from '@masknet/plugin-infra/content-script/context'\nimport {\n    ChainBoundary,\n    EthereumERC20TokenApprovedBoundary,\n    FungibleTokenInput,\n    InjectedDialog,\n    type InjectedDialogProps,\n    NetworkTab,\n    PluginWalletStatusBar,\n    TokenIcon,\n    WalletConnectedBoundary,\n    SelectFungibleTokenModal,\n} from '@masknet/shared'\nimport { EMPTY_LIST, NetworkPluginID, Sniffings } from '@masknet/shared-base'\nimport { ActionButton, makeStyles, ShadowRootTooltip } from '@masknet/theme'\nimport { Web3 } from '@masknet/web3-providers'\nimport { useChainContext, useFungibleTokenBalance } from '@masknet/web3-hooks-base'\nimport { formatBalance, type FungibleToken, rightShift, ZERO } from '@masknet/web3-shared-base'\nimport { type ChainId, isNativeTokenAddress, SchemaType, useGitcoinConstants } from '@masknet/web3-shared-evm'\nimport { Box, DialogActions, DialogContent, Typography } from '@mui/material'\nimport { useDonateCallback } from '../../hooks/useDonateCallback.js'\nimport { useGitcoinTrans } from '../../../locales/i18n_generated.js'\nimport type { GitcoinGrant } from '../../../apis/index.js'\nimport { GiveBackSelect } from './GiveBackSelect.js'\nimport { getSupportedChainIds } from '../../../utils.js'\nimport { ResultModal } from '../modals.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    banner: {},\n    bannerImage: {\n        width: '100%',\n        maxWidth: '100%',\n        maxHeight: 176,\n        objectFit: 'contain',\n        borderRadius: theme.spacing(1.5),\n    },\n    input: {\n        marginTop: 36,\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginTop: theme.spacing(2),\n    },\n    rowLabel: {\n        marginRight: 'auto',\n        display: 'flex',\n        alignItems: 'center',\n    },\n    giveBackSelect: {\n        width: 80,\n    },\n    contribution: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    button: {\n        margin: 0,\n        padding: 0,\n        height: 40,\n    },\n    actions: {\n        padding: '0 !important',\n    },\n}))\n\ninterface DonateDialogProps extends InjectedDialogProps {\n    grant: GitcoinGrant\n}\n\nexport const DonateDialog = memo(({ grant, ...rest }: DonateDialogProps) => {\n    const t = useGitcoinTrans()\n    const { classes, theme } = useStyles()\n    const { title, admin_address: address, tenants } = grant\n\n    const availableChains = useMemo(() => getSupportedChainIds(tenants), [tenants])\n    const { account, chainId, setChainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>()\n    useLayoutEffect(() => {\n        if (!availableChains.includes(chainId)) setChainId(availableChains[0])\n    }, [chainId, setChainId, availableChains])\n\n    const nativeTokenDetailed = useAsync(async () => {\n        return Web3.getNativeToken({ chainId })\n    }, [chainId])\n\n    const { BULK_CHECKOUT_ADDRESS, TOKEN_LIST } = useGitcoinConstants(chainId)\n\n    // #region the selected token\n    const [tokenMap, setTokenMap] = useState<Partial<Record<ChainId, FungibleToken<ChainId, SchemaType>>>>({})\n    const token = tokenMap[chainId] ?? nativeTokenDetailed.value\n\n    const tokenBalance = useFungibleTokenBalance(NetworkPluginID.PLUGIN_EVM, token?.address)\n\n    // #region select token dialog\n    const onSelectTokenChipClick = useCallback(async () => {\n        const picked = await SelectFungibleTokenModal.openAndWaitForClose({\n            pluginID: NetworkPluginID.PLUGIN_EVM,\n            chainId,\n            whitelist: TOKEN_LIST,\n            disableNativeToken: false,\n            selectedTokens: token?.address ? [token.address] : EMPTY_LIST,\n            enableManage: false,\n        })\n        if (picked) return\n        setTokenMap((map) => ({ ...map, [chainId]: picked }))\n    }, [token?.address, chainId, TOKEN_LIST])\n    // #endregion\n\n    // #region form\n    const [rawAmount, setRawAmount] = useState('')\n    const amount = useMemo(\n        () => rightShift(rawAmount || '0', token?.decimals).integerValue(),\n        [rawAmount, token?.decimals],\n    )\n    const [giveBack, setGiveBack] = useState<number>(0.05)\n    const tipAmount = useMemo(() => new BigNumber(amount).times(giveBack).integerValue(), [amount, giveBack])\n    const total = amount.plus(tipAmount)\n    // #endregion\n\n    // #region blocking\n    const [{ loading }, { value: gasFee = '1' }, donateCallback] = useDonateCallback(\n        address ?? '',\n        amount.toFixed(0),\n        tipAmount.toFixed(0),\n        token,\n    )\n    // #endregion\n\n    const donate = useCallback(async () => {\n        if (!token) return\n        const hash = await donateCallback()\n        if (typeof hash !== 'string') return\n        const cashTag = Sniffings.is_twitter_page ? '$' : ''\n        const uiAmount = formatBalance(amount.plus(tipAmount), token.decimals)\n        const shareText = t.share_text({\n            amount: uiAmount,\n            symbol: `${cashTag}${token.symbol}`,\n            grant_name: title,\n        })\n        await ResultModal.openAndWaitForClose({\n            token,\n            uiAmount,\n            onShare() {\n                share?.(shareText)\n            },\n        })\n\n        // clean up dialog\n        setRawAmount('')\n    }, [amount, tipAmount, token, donateCallback, t, title])\n\n    const balance = new BigNumber(tokenBalance.data ?? '0')\n    const availableBalance = useMemo(() => {\n        if (!isNativeTokenAddress(token?.address)) return balance\n        // Add gas padding.\n        return balance.gt(gasFee) ? balance.minus(new BigNumber(gasFee).times(2)) : ZERO\n    }, [token?.address, balance.toFixed(), gasFee])\n    const maxAmount = availableBalance.div(1 + giveBack).toFixed(0)\n\n    // #region submit button\n    const insufficientBalance = total.gt(availableBalance)\n    const validationMessage = useMemo(() => {\n        if (!token) return t.select_a_token()\n        if (!account) return t.plugin_wallet_connect_a_wallet()\n        if (!address) return t.grant_not_available()\n        if (!amount || amount.isZero()) return t.enter_an_amount()\n        if (insufficientBalance)\n            return t.insufficient_balance({\n                symbol: token.symbol,\n            })\n        return ''\n    }, [account, address, amount.toFixed(0), chainId, token, insufficientBalance])\n    // #endregion\n\n    if (!token || !address) return null\n\n    return (\n        <InjectedDialog {...rest} title={t.donate_dialog_title()} maxWidth=\"xs\">\n            <DialogContent style={{ padding: 16 }}>\n                {grant.logo_url ? (\n                    <div className={classes.banner}>\n                        <img className={classes.bannerImage} src={grant.logo_url} />\n                    </div>\n                ) : null}\n                <form noValidate autoComplete=\"off\">\n                    <Box ml={-1.5}>\n                        <NetworkTab pluginID={NetworkPluginID.PLUGIN_EVM} chains={availableChains} />\n                    </Box>\n                    <FungibleTokenInput\n                        label={t.amount()}\n                        amount={rawAmount}\n                        maxAmount={maxAmount}\n                        balance={availableBalance.toFixed(0)}\n                        token={token}\n                        onAmountChange={setRawAmount}\n                        onSelectToken={onSelectTokenChipClick}\n                        loadingBalance={tokenBalance.isLoading}\n                        className={classes.input}\n                    />\n                    <div className={classes.row}>\n                        <Typography\n                            className={classes.rowLabel}\n                            fontSize={16}\n                            lineHeight=\"20px\"\n                            color={theme.palette.maskColor.main}>\n                            {t.give_back_to_match_pool()}\n                            <ShadowRootTooltip title={t.give_back_tooltip()} placement=\"top\">\n                                <Icons.Info color={theme.palette.maskColor.second} size={20} sx={{ ml: 1 }} />\n                            </ShadowRootTooltip>\n                        </Typography>\n                        <GiveBackSelect\n                            value={giveBack}\n                            className={classes.giveBackSelect}\n                            onChange={(e) => {\n                                setGiveBack(Number.parseFloat(e.target.value as string))\n                            }}\n                        />\n                    </div>\n                    <div className={classes.row}>\n                        <Typography\n                            className={classes.rowLabel}\n                            fontSize={16}\n                            lineHeight=\"20px\"\n                            color={theme.palette.maskColor.second}>\n                            {t.total_contribution()}\n                        </Typography>\n                        <div className={classes.contribution}>\n                            <Typography mr={1} fontSize={24} fontWeight={700}>\n                                {formatBalance(total, token.decimals, 6)}\n                            </Typography>\n                            <TokenIcon chainId={chainId} address={token.address} size={18} />\n                            <Typography ml={1}>{token.symbol}</Typography>\n                        </div>\n                    </div>\n                </form>\n            </DialogContent>\n            <DialogActions className={classes.actions}>\n                <PluginWalletStatusBar>\n                    <WalletConnectedBoundary expectedChainId={chainId}>\n                        <EthereumERC20TokenApprovedBoundary\n                            classes={{ button: classes.button }}\n                            amount={total.toFixed(0)}\n                            spender={BULK_CHECKOUT_ADDRESS}\n                            token={token.schema === SchemaType.ERC20 ? token : undefined}>\n                            <ChainBoundary expectedPluginID={NetworkPluginID.PLUGIN_EVM} expectedChainId={chainId}>\n                                <ActionButton\n                                    className={classes.button}\n                                    loading={loading}\n                                    fullWidth\n                                    size=\"large\"\n                                    startIcon={<Icons.Wallet size={18} />}\n                                    disabled={!!validationMessage || loading}\n                                    onClick={donate}>\n                                    {validationMessage || t.donate()}\n                                </ActionButton>\n                            </ChainBoundary>\n                        </EthereumERC20TokenApprovedBoundary>\n                    </WalletConnectedBoundary>\n                </PluginWalletStatusBar>\n            </DialogActions>\n        </InjectedDialog>\n    )\n})\n","import { forwardRef, useState } from 'react'\nimport { type InjectedDialogProps } from '@masknet/shared'\nimport type { SingletonModalRefCreator } from '@masknet/shared-base'\nimport { useSingletonModal } from '@masknet/shared-base-ui'\nimport { DonateDialog } from './DonateDialog.js'\nimport type { GitcoinGrant } from '../../../apis/index.js'\n\nexport interface DonateModalOpenProps extends Omit<InjectedDialogProps, 'open'> {\n    grant: GitcoinGrant\n}\n\nexport const DonateModal = forwardRef<SingletonModalRefCreator<DonateModalOpenProps>>((props, ref) => {\n    const [props_, setProps_] = useState<DonateModalOpenProps>()\n\n    const [open, dispatch] = useSingletonModal(ref, {\n        onOpen(props) {\n            setProps_(props)\n        },\n    })\n\n    if (!open || !props_?.grant) return null\n    return <DonateDialog open onClose={() => dispatch?.close()} {...props_} grant={props_?.grant} />\n})\n","import { InjectedDialog, type InjectedDialogProps, TokenIcon } from '@masknet/shared'\nimport { makeStyles } from '@masknet/theme'\nimport type { FungibleToken } from '@masknet/web3-shared-base'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { Button, DialogActions, DialogContent, Typography } from '@mui/material'\nimport type { PropsWithChildren } from 'react'\nimport { useGitcoinTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    resultDialog: {\n        width: 420,\n        height: 420,\n        backgroundImage: 'none',\n    },\n    content: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyItems: 'center',\n        alignItems: 'center',\n        padding: theme.spacing(4, 3, 3),\n        boxSizing: 'border-box',\n        color: theme.palette.text.primary,\n        textAlign: 'center',\n        fontSize: 18,\n    },\n    actions: {\n        padding: theme.spacing(0, 3, 3),\n    },\n    amount: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        marginTop: theme.spacing(1),\n    },\n    messageText: {\n        fontSize: 16,\n        color: theme.palette.maskColor.second,\n        lineHeight: '30px',\n        fontWeight: 'bold',\n    },\n}))\n\ninterface ResultDialogProps extends PropsWithChildren<InjectedDialogProps> {\n    token?: FungibleToken<ChainId, SchemaType>\n    uiAmount: string\n    confirmLabel?: string\n    onShare?(): void\n}\n\nexport function ResultDialog({\n    className,\n    confirmLabel,\n    children,\n    uiAmount,\n    token,\n    onClose,\n    onShare,\n    ...rest\n}: ResultDialogProps) {\n    const { classes } = useStyles()\n    const t = useGitcoinTrans()\n    return (\n        <InjectedDialog\n            title={t.donate()}\n            classes={{\n                paper: classes.resultDialog,\n            }}\n            BackdropProps={{\n                style: {\n                    opacity: 0,\n                },\n            }}\n            {...rest}>\n            <DialogContent className={classes.content}>\n                <TokenIcon address={token?.address || ''} chainId={token?.chainId} size={90} />\n                <Typography className={classes.amount}>\n                    {uiAmount} {token?.symbol}\n                </Typography>\n                <Typography className={classes.messageText} mt=\"41px\">\n                    {t.donate_successfully({\n                        uiAmount,\n                        symbol: token?.symbol || '',\n                    })}\n                </Typography>\n            </DialogContent>\n            <DialogActions className={classes.actions}>\n                <Button\n                    fullWidth\n                    onClick={() => {\n                        onShare?.()\n                        onClose?.()\n                    }}>\n                    {confirmLabel || t.share()}\n                </Button>\n            </DialogActions>\n        </InjectedDialog>\n    )\n}\n","import { forwardRef, useState, type PropsWithChildren } from 'react'\nimport type { InjectedDialogProps } from '@masknet/shared'\nimport type { SingletonModalRefCreator } from '@masknet/shared-base'\nimport type { FungibleToken } from '@masknet/web3-shared-base'\nimport { useSingletonModal } from '@masknet/shared-base-ui'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { ResultDialog } from './ResultDialog.js'\n\nexport interface ResultModalOpenProps extends Omit<PropsWithChildren<InjectedDialogProps>, 'open'> {\n    token: FungibleToken<ChainId, SchemaType>\n    uiAmount: string\n    confirmLabel?: string\n    onShare?(): void\n}\n\nexport const ResultModal = forwardRef<SingletonModalRefCreator<ResultModalOpenProps>>((props, ref) => {\n    const [props_, setProps_] = useState<ResultModalOpenProps>()\n\n    const [open, dispatch] = useSingletonModal(ref, {\n        onOpen(props) {\n            setProps_(props)\n        },\n    })\n\n    if (!open) return null\n    return (\n        <ResultDialog\n            open\n            onClose={() => dispatch?.close()}\n            {...props_}\n            token={props_?.token}\n            uiAmount={props_?.uiAmount || ''}\n        />\n    )\n})\n","import { memo } from 'react'\nimport { DonateModal } from './DonateModal/index.js'\nimport { ResultModal } from './ResultModal/index.js'\n\nimport * as modals from './modals.js'\n\nexport const Modals = memo(function Modals() {\n    return (\n        <>\n            <DonateModal ref={modals.DonateModal.register} />\n            <ResultModal ref={modals.ResultModal.register} />\n        </>\n    )\n})\n","import { useMemo } from 'react'\nimport { Trans } from 'react-i18next'\nimport { Icons } from '@masknet/icons'\nimport { type Plugin, usePluginWrapper, usePostInfoDetails } from '@masknet/plugin-infra/content-script'\nimport { parseURLs, PluginID } from '@masknet/shared-base'\nimport { MaskLightTheme } from '@masknet/theme'\nimport { extractTextFromTypedMessage } from '@masknet/typed-message'\nimport { ThemeProvider } from '@mui/material'\nimport { base } from '../base.js'\nimport { PLUGIN_META_KEY, PLUGIN_NAME } from '../constants.js'\nimport { PreviewCard } from './PreviewCard.js'\nimport { Modals } from './modals/index.js'\n\nconst isGitcoin = (x: string): boolean => /^https:\\/\\/gitcoin.co\\/grants\\/\\d+/.test(x)\n\nfunction Renderer(props: { id: string }) {\n    usePluginWrapper(true)\n\n    return (\n        <ThemeProvider theme={MaskLightTheme}>\n            <PreviewCard grantId={props.id} />\n        </ThemeProvider>\n    )\n}\n\nconst site: Plugin.SiteAdaptor.Definition = {\n    ...base,\n    init(_, context) {},\n    GlobalInjection() {\n        return <Modals />\n    },\n    DecryptedInspector(props) {\n        const link = useMemo(() => {\n            const x = extractTextFromTypedMessage(props.message)\n            if (x.isNone()) return null\n            return parseURLs(x.value).find(isGitcoin)\n        }, [props.message])\n        const id = link?.match(/\\d+/)?.[0]\n        if (!id) return null\n        return <Renderer id={id} />\n    },\n    CompositionDialogMetadataBadgeRender: new Map([[PLUGIN_META_KEY, () => PLUGIN_NAME]]),\n    PostInspector() {\n        const links = usePostInfoDetails.mentionedLinks()\n\n        const link = links.find(isGitcoin)\n        const id = link?.match(/\\d+/)?.[0]\n\n        if (!id) return null\n        return <Renderer id={id} />\n    },\n    ApplicationEntries: [\n        {\n            ApplicationEntryID: base.ID,\n            category: 'dapp',\n            description: <Trans ns={PluginID.Gitcoin} i18nKey=\"description\" />,\n            name: <Trans ns={PluginID.Gitcoin} i18nKey=\"name\" />,\n            icon: <Icons.Gitcoin size={36} />,\n            marketListSortingPriority: 9,\n            tutorialLink: 'https://realmasknetwork.notion.site/98ed83784ed4446a8a13fa685c7bddfb',\n        },\n    ],\n    wrapperProps: {\n        icon: (\n            <Icons.Gitcoin\n                variant=\"light\"\n                size={24}\n                style={{ filter: 'drop-shadow(0px 6px 12px rgba(255, 159, 10, 0.2))' }}\n            />\n        ),\n        backgroundGradient:\n            'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%), linear-gradient(90deg, rgba(28, 104, 243, 0.2) 0%, rgba(41, 228, 253, 0.2) 100%), #FFFFFF',\n    },\n}\n\nexport default site\n","import { createContext, useContext, useRef } from 'react'\nimport type { BuildInfoFile } from '@masknet/flags'\nimport { useBuildInfo_raw } from '../../index.js'\nexport interface ErrorBoundaryError {\n    /** Type of the Error */\n    type: string\n    /** The Error message */\n    message: string\n    /** The error stack */\n    stack: string\n}\n/**\n * Provide the build info for CrashUI\n */\nconst BuildInfo = createContext<() => BuildInfoFile>(useBuildInfo_raw)\nBuildInfo.displayName = 'BuildInfo'\n\nexport function BuildInfoProvider(props: React.PropsWithChildren<{ value: () => BuildInfoFile }>) {\n    return <BuildInfo.Provider {...props} />\n}\nexport function useBuildInfo() {\n    return useRef(useContext(BuildInfo)).current()\n}\nexport function useBuildInfoMarkdown() {\n    const env = useBuildInfo()\n    const gitInfo = env.COMMIT_HASH\n        ? `\n## Git (${env.DIRTY ? '*' : ''}):\n${env.COMMIT_HASH} (${env.BRANCH_NAME})`\n        : ''\n\n    const buildInfoMarkdown =\n        `## Build info\n- Version: ${env.VERSION || 'unknown'}\n- NODE_ENV: ${process.env.NODE_ENV || 'unknown'}\n- userAgent: ${navigator.userAgent}\n- build: ${env.channel || 'unknown'}\n- BUILD_DATE: ${env.BUILD_DATE || 'unknown'}\n` + gitInfo\n    return buildInfoMarkdown\n}\n","import { useCallback, useImperativeHandle, useRef, useState } from 'react'\nimport type { SingletonModalRefCreator } from '@masknet/shared-base'\n\nexport function useSingletonModal<OpenProps, CloseProps>(\n    ref: React.ForwardedRef<SingletonModalRefCreator<OpenProps, CloseProps>>,\n    options?: {\n        onOpen?: (props: OpenProps) => void\n        onClose?: (props: CloseProps) => void\n        onAbort?: (error: Error) => void\n    },\n) {\n    type T = SingletonModalRefCreator<OpenProps, CloseProps>\n\n    const [open, setOpen] = useState(false)\n    const dispatchRef = useRef<ReturnType<T>>()\n    const optionsRef = useRef<typeof options>()\n    const openRef = useRef(open)\n    optionsRef.current = options\n    openRef.current = open\n\n    const creator: T = useCallback((dispatchOpen, dispatchClose, dispatchAbort) => {\n        dispatchRef.current = {\n            peek() {\n                return openRef.current\n            },\n            open(props) {\n                optionsRef.current?.onOpen?.(props)\n                dispatchOpen(props)\n                setOpen(true)\n            },\n            close(props) {\n                optionsRef.current?.onClose?.(props)\n                dispatchClose(props)\n                setOpen(false)\n            },\n            abort(error) {\n                optionsRef.current?.onAbort?.(error)\n                dispatchAbort(error)\n                setOpen(false)\n            },\n        }\n        return dispatchRef.current\n    }, [])\n\n    useImperativeHandle(ref, () => creator, [creator])\n\n    return [open, dispatchRef.current] as const\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"\n}), 'HelpOutline');","import React, { useCallback, useMemo } from 'react'\nimport { unreachable } from '@masknet/kit'\nimport { TokenIcon } from '@masknet/shared'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { ActionButton, ShadowRootTooltip, makeStyles, type ActionButtonProps } from '@masknet/theme'\nimport { useChainContext, useFungibleTokenBalance, useFungibleTokenSpenders } from '@masknet/web3-hooks-base'\nimport { ApproveStateType, useERC20TokenApproveCallback } from '@masknet/web3-hooks-evm'\nimport { isGte, isSameAddress, type FungibleToken, rightShift } from '@masknet/web3-shared-base'\nimport type { ChainId, SchemaType } from '@masknet/web3-shared-evm'\nimport { HelpOutline } from '@mui/icons-material'\nimport { useSharedTrans } from '../../../locales/index.js'\n\nconst useStyles = makeStyles<void, 'icon'>()((theme, _, refs) => ({\n    icon: {},\n    button: {\n        whiteSpace: 'nowrap',\n        // increase selector priority over button's\n        [`.${refs.icon}`]: {\n            width: 18,\n            height: 18,\n            fontSize: 10,\n        },\n    },\n    helpIcon: {\n        width: 18,\n        height: 18,\n    },\n}))\n\nexport interface EthereumERC20TokenApprovedBoundaryProps extends withClasses<'button' | 'container'> {\n    amount: string\n    balance?: string\n    spender?: string\n    token?: FungibleToken<ChainId, SchemaType>\n    fallback?: React.ReactNode\n    children?: React.ReactNode | ((allowance: string) => React.ReactNode)\n    infiniteUnlockContent?: React.ReactNode\n    ActionButtonProps?: ActionButtonProps\n    contractName?: string\n    showHelperToken?: boolean\n    failedContent?: React.ReactNode\n    callback?: () => void\n}\n\nexport function EthereumERC20TokenApprovedBoundary(props: EthereumERC20TokenApprovedBoundaryProps) {\n    const {\n        children = null,\n        amount,\n        balance,\n        spender,\n        token,\n        infiniteUnlockContent,\n        contractName,\n        showHelperToken = true,\n        failedContent,\n        callback,\n    } = props\n\n    const t = useSharedTrans()\n    const { classes } = useStyles(undefined, { props })\n    const { account, chainId } = useChainContext<NetworkPluginID.PLUGIN_EVM>({ chainId: token?.chainId })\n    const { data: tokenBalance } = useFungibleTokenBalance(NetworkPluginID.PLUGIN_EVM, token?.address, {\n        chainId,\n    })\n\n    const {\n        data: spenders,\n        isLoading: spendersLoading,\n        isError,\n        refetch,\n    } = useFungibleTokenSpenders(NetworkPluginID.PLUGIN_EVM, {\n        chainId,\n        account,\n    })\n\n    const approveAmount = balance || tokenBalance || amount\n    const [{ type: approveStateType, allowance }, transactionState, approveCallback] = useERC20TokenApproveCallback(\n        token?.address ?? '',\n        approveAmount,\n        spender ?? '',\n        () => {\n            callback?.()\n            refetch()\n        },\n        token?.chainId,\n    )\n    const approved = useMemo(() => {\n        if (isGte(allowance, amount)) return true\n        if (!token?.address || !spenders?.length) return false\n        return spenders.some((x) => {\n            return (\n                isSameAddress(x.tokenInfo.address, token.address) &&\n                isSameAddress(x.address, spender) &&\n                isGte(rightShift(x.amount || 0, x.tokenInfo.decimals || token.decimals), amount)\n            )\n        })\n    }, [allowance, amount, spenders, token?.address, token?.decimals, spender])\n\n    const loading =\n        spendersLoading ||\n        approveStateType === ApproveStateType.UPDATING ||\n        transactionState.loadingApprove ||\n        transactionState.loading\n\n    const onApprove = useCallback(async () => {\n        if (approved || loading) return\n        await approveCallback(true)\n    }, [approved, loading, approveCallback])\n\n    // not a valid erc20 token, please given token as undefined\n    if (!token) return <>{typeof children === 'function' ? children(allowance) : children}</>\n\n    if (isError)\n        return (\n            <ActionButton\n                className={classes.button}\n                fullWidth\n                variant=\"contained\"\n                onClick={() => refetch()}\n                {...props.ActionButtonProps}>\n                {failedContent ?? t.wallet_load_retry({ symbol: token.symbol ?? token.name ?? 'Token' })}\n            </ActionButton>\n        )\n    if (loading || !approved)\n        return (\n            <ActionButton\n                loading={loading}\n                className={classes.button}\n                fullWidth\n                variant=\"contained\"\n                startIcon={\n                    <TokenIcon\n                        className={classes.icon}\n                        address={token.address}\n                        chainId={token.chainId}\n                        name={token.name}\n                        disableDefaultIcon\n                    />\n                }\n                endIcon={\n                    showHelperToken ? (\n                        <ShadowRootTooltip\n                            title={t.plugin_wallet_token_infinite_unlock_tips({\n                                provider: contractName ?? '',\n                                symbol: token.symbol,\n                            })}\n                            placement=\"top\"\n                            arrow\n                            leaveDelay={2000}\n                            disableInteractive\n                            disableFocusListener\n                            disableTouchListener>\n                            <HelpOutline className={classes.helpIcon} />\n                        </ShadowRootTooltip>\n                    ) : null\n                }\n                onClick={onApprove}\n                {...props.ActionButtonProps}>\n                {infiniteUnlockContent ?? t.plugin_wallet_token_infinite_unlock({ symbol: token.symbol })}\n            </ActionButton>\n        )\n    if (approved) return <>{typeof children === 'function' ? children(allowance) : children}</>\n\n    unreachable(approved)\n}\n","import { memo } from 'react'\nimport {\n    Typography,\n    InputBase,\n    Box,\n    Chip,\n    lighten,\n    inputBaseClasses,\n    chipClasses,\n    type InputBaseProps,\n    alpha,\n} from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { formatBalance } from '@masknet/web3-shared-base'\nimport { Icons } from '@masknet/icons'\nimport { FormattedBalance, TokenIcon, useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    root: {\n        position: 'relative',\n        height: 66,\n        padding: theme.spacing(1.25, 1.5),\n        [`& > .${inputBaseClasses.input}`]: {\n            paddingTop: `${theme.spacing(2.75)}!important`,\n            paddingBottom: '0px !important',\n            flex: 2,\n            paddingLeft: '0px !important',\n            fontSize: 14,\n            fontWeight: 400,\n        },\n    },\n    title: {\n        position: 'absolute',\n        top: 10,\n        left: 12,\n    },\n    label: {\n        fontSize: 13,\n        lineHeight: '18px',\n        color: theme.palette.maskColor.second,\n        whiteSpace: 'nowrap',\n    },\n    control: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-end',\n        rowGap: 4,\n        flex: 1,\n    },\n    chip: {\n        background: 'transparent',\n        cursor: 'pointer',\n        fontSize: 14,\n        lineHeight: '18px',\n        fontWeight: 700,\n        color: theme.palette.maskColor.main,\n    },\n    tokenIcon: {\n        width: 20,\n        height: 20,\n        marginRight: '0px !important',\n    },\n    selectToken: {\n        backgroundColor: theme.palette.maskColor.primary,\n        color: theme.palette.maskColor.white,\n        fontSize: 12,\n        lineHeight: '16px',\n        fontWeight: 700,\n        padding: theme.spacing(0.5, 1),\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderRadius: 99,\n        cursor: 'pointer',\n        ['&:hover']: {\n            backgroundColor: lighten(theme.palette.maskColor.primary, 0.1),\n        },\n    },\n    maxChip: {\n        color: theme.palette.maskColor.white,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: 18,\n        padding: '0 3px',\n        borderRadius: 4,\n        fontSize: 10,\n        marginLeft: 4,\n        fontWeight: 700,\n        lineHeight: '18px',\n        cursor: 'pointer',\n        background: theme.palette.maskColor.primary,\n        '&:hover': {\n            background: alpha(theme.palette.maskColor.primary, 0.8),\n        },\n        [`& > .${chipClasses.label}`]: {\n            padding: 0,\n        },\n    },\n    balance: {\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n        color: theme.palette.maskColor.main,\n        lineHeight: '18px',\n        fontWeight: 700,\n        marginLeft: 4,\n    },\n    arrowIcon: {\n        color: `${theme.palette.maskColor.second}!important`,\n    },\n    chipLabel: {\n        maxWidth: 150,\n    },\n}))\n\nexport interface FungibleTokenInputUIProps extends InputBaseProps {\n    label: string\n    disableMax?: boolean\n    isNative?: boolean\n    token?: Web3Helper.FungibleTokenAll | null\n    onSelectToken?: () => void\n    onMaxClick: () => void\n    balance: string\n    loadingBalance?: boolean\n    disableBalance?: boolean\n    disableToken?: boolean\n}\n\nexport const FungibleTokenInputUI = memo<FungibleTokenInputUIProps>(\n    ({\n        label,\n        isNative,\n        token,\n        onSelectToken,\n        onMaxClick,\n        balance,\n        loadingBalance,\n        disableMax = false,\n        disableToken = false,\n        disableBalance = false,\n        ...props\n    }) => {\n        const { classes, cx } = useStyles()\n        const t = useSharedTrans()\n        return (\n            <InputBase\n                fullWidth\n                startAdornment={<Typography className={cx(classes.label, classes.title)}>{label}</Typography>}\n                endAdornment={\n                    <Box className={classes.control} justifyContent={disableBalance ? 'flex-end' : undefined}>\n                        <Typography className={classes.label} display=\"flex\" alignItems=\"center\" component=\"div\">\n                            {!disableBalance ? (\n                                <>\n                                    {isNative ? t.available_balance() : t.balance()}:\n                                    <Typography className={classes.balance} component=\"span\">\n                                        {token && !loadingBalance ? (\n                                            <FormattedBalance\n                                                value={balance}\n                                                decimals={token?.decimals}\n                                                significant={token?.decimals}\n                                                formatter={formatBalance}\n                                            />\n                                        ) : (\n                                            '--'\n                                        )}\n                                    </Typography>\n                                </>\n                            ) : null}\n                            {!disableMax ? (\n                                <Chip className={classes.maxChip} label=\"MAX\" size=\"small\" onClick={onMaxClick} />\n                            ) : null}\n                        </Typography>\n                        {!disableToken ? (\n                            <Box display=\"flex\" alignItems=\"center\" columnGap=\"12px\">\n                                {token ? (\n                                    <>\n                                        <Chip\n                                            size=\"small\"\n                                            onClick={onSelectToken}\n                                            className={classes.chip}\n                                            classes={{ label: classes.chipLabel }}\n                                            icon={\n                                                <TokenIcon\n                                                    className={classes.tokenIcon}\n                                                    address={token.address}\n                                                    name={token.name}\n                                                    chainId={token.chainId}\n                                                    logoURL={token.logoURL}\n                                                />\n                                            }\n                                            deleteIcon={<Icons.ArrowDrop className={classes.arrowIcon} size={24} />}\n                                            onDelete={onSelectToken}\n                                            label={token.symbol}\n                                        />\n                                    </>\n                                ) : (\n                                    <Box className={classes.selectToken} onClick={onSelectToken}>\n                                        {t.select_a_token()}\n                                        <Icons.ArrowDrop size={16} />\n                                    </Box>\n                                )}\n                            </Box>\n                        ) : null}\n                    </Box>\n                }\n                {...props}\n                onChange={(ev) => {\n                    if (\n                        ev.currentTarget.value &&\n                        !new RegExp(props?.inputProps?.pattern).test(ev.currentTarget.value)\n                    ) {\n                        return\n                    }\n                    props.onChange?.(ev)\n                }}\n                className={cx(classes.root, props.className)}\n            />\n        )\n    },\n)\nFungibleTokenInputUI.displayName = 'FungibleTokenInputUI'\n","import { BigNumber } from 'bignumber.js'\nimport { type ChangeEvent, memo, useCallback, useMemo } from 'react'\nimport { useWeb3Others } from '@masknet/web3-hooks-base'\nimport { NUMERIC_INPUT_REGEXP_PATTERN } from '@masknet/shared-base'\nimport { formatBalance, isZero, leftShift } from '@masknet/web3-shared-base'\nimport { FungibleTokenInputUI, type FungibleTokenInputUIProps } from './UI.js'\n\nconst MIN_AMOUNT_LENGTH = 1\nconst MAX_AMOUNT_LENGTH = 79\n\nexport interface FungibleTokenInputProps extends Omit<FungibleTokenInputUIProps, 'onMaxClick'> {\n    amount: string\n    maxAmount?: string\n    maxAmountShares?: number\n    disabled?: boolean\n    placeholder?: string\n    onAmountChange: (amount: string) => void\n    isAvailableBalance?: boolean\n}\n\nexport const FungibleTokenInput = memo<FungibleTokenInputProps>(\n    ({\n        label,\n        token,\n        disabled,\n        disableMax,\n        disableBalance,\n        disableToken,\n        loadingBalance,\n        onSelectToken,\n        onAmountChange,\n        amount,\n        maxAmount,\n        balance,\n        isAvailableBalance,\n        placeholder = '0.0',\n        maxAmountShares = 1,\n        className,\n    }) => {\n        const Others = useWeb3Others()\n\n        const isNative = isAvailableBalance ?? Others.isNativeTokenAddress(token?.address)\n\n        // #region update amount by self\n        const { RE_MATCH_WHOLE_AMOUNT, RE_MATCH_FRACTION_AMOUNT } = useMemo(\n            () => ({\n                RE_MATCH_FRACTION_AMOUNT: new RegExp(`^\\\\.\\\\d{0,${token?.decimals}}$`),\n                RE_MATCH_WHOLE_AMOUNT: new RegExp(`^\\\\d*\\\\.?\\\\d{0,${token?.decimals}}$`), // d.ddd...d\n            }),\n            [token?.decimals],\n        )\n        const onChange = useCallback(\n            (ev: ChangeEvent<HTMLInputElement>) => {\n                const amount_ = ev.currentTarget.value.replaceAll(',', '.')\n                if (RE_MATCH_FRACTION_AMOUNT.test(amount_)) onAmountChange(`0${amount_}`)\n                else if (amount_ === '' || RE_MATCH_WHOLE_AMOUNT.test(amount_)) onAmountChange(amount_)\n            },\n            [onAmountChange, RE_MATCH_WHOLE_AMOUNT, RE_MATCH_FRACTION_AMOUNT],\n        )\n        // #endregion\n\n        return (\n            <FungibleTokenInputUI\n                label={label}\n                isNative={isNative}\n                token={token}\n                onSelectToken={onSelectToken}\n                value={amount}\n                onChange={onChange}\n                className={className}\n                inputProps={{\n                    autoComplete: 'off',\n                    autoCorrect: 'off',\n                    title: 'Token Amount',\n                    inputMode: 'decimal',\n                    min: 0,\n                    minLength: MIN_AMOUNT_LENGTH,\n                    maxLength: MAX_AMOUNT_LENGTH,\n                    pattern: NUMERIC_INPUT_REGEXP_PATTERN,\n                    spellCheck: false,\n                }}\n                placeholder={placeholder}\n                onKeyDown={(ev) => {\n                    if (ev.key === 'Enter') ev.preventDefault()\n                }}\n                onMaxClick={() => {\n                    if (!token) return\n                    const amount = new BigNumber(maxAmount ?? balance).dividedBy(maxAmountShares).decimalPlaces(0, 1)\n                    const formattedBalance = formatBalance(\n                        amount,\n                        token.decimals,\n                        token.decimals,\n                        true,\n                        false,\n                        4,\n                        false,\n                    )\n\n                    onAmountChange(\n                        (isZero(formattedBalance)\n                            ? new BigNumber(leftShift(amount, token.decimals).toPrecision(2)).toFormat()\n                            : formattedBalance) ?? '0',\n                    )\n                }}\n                balance={balance}\n                required\n                loadingBalance={loadingBalance}\n                disabled={disabled}\n                disableMax={disableMax}\n                disableBalance={disableBalance}\n                disableToken={disableToken}\n            />\n        )\n    },\n)\nFungibleTokenInput.displayName = 'FungibleTokenInput'\n","import { LoadingBase, makeStyles } from '@masknet/theme'\nimport { Box, Typography, type BoxProps } from '@mui/material'\nimport { memo } from 'react'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    statusBox: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n    },\n    text: {\n        color: theme.palette.maskColor.second,\n        fontSize: '14px',\n        fontWeight: 400,\n        marginTop: theme.spacing(1.5),\n    },\n}))\n\ninterface Props extends BoxProps {\n    omitText?: boolean\n    iconSize?: number\n}\n\nexport const LoadingStatus = memo(function LoadingStatus({\n    omitText,\n    className,\n    iconSize = 32,\n    children,\n    ...rest\n}: Props) {\n    const { classes, cx } = useStyles()\n    const t = useSharedTrans()\n    return (\n        <Box className={cx(classes.statusBox, className)} p={2} {...rest}>\n            <LoadingBase size={iconSize} />\n            {omitText ? null : <Typography className={classes.text}>{children ?? t.loading()}</Typography>}\n        </Box>\n    )\n})\n","import { memo, useMemo } from 'react'\nimport { useAsync, useUpdateEffect } from 'react-use'\nimport {\n    useNetworkDescriptors,\n    useChainContext,\n    useNetworkContext,\n    useWallet,\n    useWeb3Others,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { MaskTabList, useTabs, type MaskTabListProps } from '@masknet/theme'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport { TabContext } from '@mui/lab'\nimport { Stack, Tab, Typography } from '@mui/material'\nimport { WalletIcon } from '../WalletIcon/index.js'\nimport { SmartPayBundler } from '@masknet/web3-providers'\nimport { ChainId } from '@masknet/web3-shared-evm'\n\ninterface NetworkTabProps extends Omit<MaskTabListProps, 'onChange'> {\n    chains: Web3Helper.ChainIdAll[]\n    pluginID: NetworkPluginID\n    onChange?(chainId: Web3Helper.ChainIdAll): void\n    requireChains?: boolean\n}\n\nexport const NetworkTab = memo(function NetworkTab({\n    chains,\n    pluginID,\n    onChange,\n    requireChains,\n    ...rest\n}: NetworkTabProps) {\n    const { pluginID: networkPluginID } = useNetworkContext(pluginID)\n    const { chainId, setChainId, setNetworkType } = useChainContext()\n    const networks = useNetworkDescriptors(networkPluginID)\n    const wallet = useWallet()\n    const Others = useWeb3Others()\n    const { value: smartPaySupportChainId } = useAsync(async () => SmartPayBundler.getSupportedChainId(), [])\n\n    const supportedChains = useMemo(() => {\n        if (!wallet?.owner || requireChains) return chains\n        return chains.filter((x) => x === smartPaySupportChainId)\n    }, [smartPaySupportChainId, wallet, chains, requireChains])\n\n    const usedNetworks = networks.filter((x) => supportedChains.find((c) => c === x.chainId))\n    const networkIds = usedNetworks.map((x) => x.chainId.toString())\n\n    const isValidChainId = useMemo(() => chains.includes(chainId), [chains, chainId])\n    const [tab, , , setTab] = useTabs(\n        !isValidChainId ? networkIds[0] : chainId?.toString() ?? networkIds[0],\n        ...networkIds,\n    )\n\n    useUpdateEffect(() => {\n        setTab((prev) => {\n            if (isValidChainId && chainId && prev !== chainId?.toString()) return chainId.toString()\n            return prev\n        })\n\n        if (!isValidChainId) setChainId(ChainId.Mainnet)\n    }, [chainId, isValidChainId])\n\n    return (\n        <TabContext value={tab}>\n            <MaskTabList\n                {...rest}\n                variant=\"flexible\"\n                onChange={(_, v) => {\n                    const chainId = Number.parseInt(v, 10)\n                    const networkType = Others.chainResolver.networkType(chainId)\n                    setChainId?.(chainId)\n                    if (networkType) setNetworkType?.(networkType)\n                    onChange?.(chainId)\n                    setTab(v)\n                }}\n                aria-label=\"Network Tabs\">\n                {usedNetworks.map((x) => {\n                    return (\n                        <Tab\n                            aria-label={x.name}\n                            key={x.chainId}\n                            value={x.chainId.toString()}\n                            label={\n                                <Stack display=\"inline-flex\" flexDirection=\"row\" alignItems=\"center\" gap={0.5}>\n                                    <WalletIcon mainIcon={x.icon} size={18} />\n                                    <Typography\n                                        variant=\"body2\"\n                                        fontSize={14}\n                                        fontWeight={tab === x.chainId.toString() ? 700 : 400}>\n                                        {x.shortName ?? x.name}\n                                    </Typography>\n                                </Stack>\n                            }\n                        />\n                    )\n                })}\n            </MaskTabList>\n        </TabContext>\n    )\n})\n","import { makeStyles } from '@masknet/theme'\nimport { Box, Typography, type BoxProps, Button } from '@mui/material'\nimport { memo } from 'react'\nimport { useSharedTrans } from '../../../index.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    statusBox: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n    },\n    text: {\n        color: theme.palette.maskColor.second,\n        fontSize: '14px',\n        fontWeight: 700,\n        lineHeight: '36px',\n    },\n    button: {\n        marginTop: theme.spacing(1.5),\n        fontSize: '12px',\n        fontWeight: 700,\n        minWidth: theme.spacing(11),\n        height: theme.spacing(4),\n    },\n}))\n\ninterface Props extends BoxProps {\n    message?: string\n    actionLabel?: string\n    onRetry?(): void\n}\n\nexport const ReloadStatus = memo(function ReloadStatus({\n    className,\n    children,\n    message,\n    actionLabel,\n    onRetry,\n    ...rest\n}: Props) {\n    const { classes, cx } = useStyles()\n    const t = useSharedTrans()\n    return (\n        <Box className={cx(classes.statusBox, className)} p={2} {...rest}>\n            <Typography className={classes.text}>{message ?? t.load_failed()}</Typography>\n            <Button className={classes.button} onClick={() => onRetry?.()} variant=\"roundedContained\" size=\"medium\">\n                {actionLabel ?? t.load_retry()}\n            </Button>\n        </Box>\n    )\n})\n","import { useSubscription } from 'use-subscription'\nimport { FALSE, type NetworkPluginID } from '@masknet/shared-base'\nimport { useWeb3State } from './useWeb3State.js'\n\nexport function useRiskWarningApproved<T extends NetworkPluginID>(pluginID?: T) {\n    const { RiskWarning } = useWeb3State(pluginID)\n    return useSubscription(RiskWarning?.approved ?? FALSE)\n}\n","import { makeStyles, ActionButton, type ActionButtonProps } from '@masknet/theme'\nimport { useSharedTrans } from '../../../locales/index.js'\nimport { isZero } from '@masknet/web3-shared-base'\nimport {\n    useChainContext,\n    useNetworkContext,\n    useNativeTokenBalance,\n    useRiskWarningApproved,\n    useWallet,\n} from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\nimport { useAsync } from 'react-use'\nimport { SmartPayBundler } from '@masknet/web3-providers'\nimport { NetworkPluginID } from '@masknet/shared-base'\nimport { SelectProviderModal, WalletRiskWarningModal } from '../../modals/modals.js'\n\nconst useStyles = makeStyles()({\n    button: {\n        margin: 0,\n    },\n})\n\nexport interface WalletConnectedBoundaryProps extends withClasses<'connectWallet' | 'button'> {\n    offChain?: boolean\n    children?: React.ReactNode\n    expectedChainId: Web3Helper.ChainIdAll\n    hideRiskWarningConfirmed?: boolean\n    ActionButtonProps?: ActionButtonProps\n    startIcon?: React.ReactNode\n}\n\nexport function WalletConnectedBoundary(props: WalletConnectedBoundaryProps) {\n    const { children = null, offChain = false, hideRiskWarningConfirmed = false, expectedChainId } = props\n\n    const t = useSharedTrans()\n    const { classes, cx } = useStyles(undefined, { props })\n\n    const { pluginID } = useNetworkContext()\n    const { account, chainId: chainIdValid } = useChainContext({ chainId: expectedChainId })\n    const wallet = useWallet()\n    const { value: smartPayChainId } = useAsync(async () => SmartPayBundler.getSupportedChainId(), [])\n\n    const nativeTokenBalance = useNativeTokenBalance(undefined, {\n        chainId: chainIdValid,\n    })\n    const approved = useRiskWarningApproved()\n\n    const buttonClass = cx(classes.button, classes.connectWallet)\n\n    if (!account)\n        return (\n            <ActionButton\n                startIcon={props.startIcon}\n                className={buttonClass}\n                fullWidth\n                onClick={() => SelectProviderModal.open()}\n                {...props.ActionButtonProps}>\n                {t.plugin_wallet_connect_a_wallet()}\n            </ActionButton>\n        )\n\n    if (!approved && !hideRiskWarningConfirmed && pluginID === NetworkPluginID.PLUGIN_EVM)\n        return (\n            <ActionButton\n                className={buttonClass}\n                fullWidth\n                variant=\"contained\"\n                onClick={() => {\n                    WalletRiskWarningModal.open({\n                        account,\n                        pluginID,\n                    })\n                }}\n                {...props.ActionButtonProps}>\n                {t.plugin_wallet_confirm_risk_warning()}\n            </ActionButton>\n        )\n\n    if (!(wallet?.owner && chainIdValid === smartPayChainId) && isZero(nativeTokenBalance.value ?? '0') && !offChain)\n        return (\n            <ActionButton\n                className={buttonClass}\n                disabled={!nativeTokenBalance.error}\n                fullWidth\n                variant=\"contained\"\n                onClick={nativeTokenBalance.retry}\n                {...props.ActionButtonProps}>\n                {nativeTokenBalance.loading ? t.plugin_wallet_update_gas_fee() : t.plugin_wallet_no_gas_fee()}\n            </ActionButton>\n        )\n\n    if (!chainIdValid && !offChain)\n        return (\n            <ActionButton className={buttonClass} disabled fullWidth variant=\"contained\" {...props.ActionButtonProps}>\n                {t.plugin_wallet_invalid_network()}\n            </ActionButton>\n        )\n\n    return <>{children}</>\n}\n","import { Fragment } from 'react'\nimport { BigNumber } from 'bignumber.js'\nimport { isZero, isLessThan } from '@masknet/web3-shared-base'\nimport { makeStyles } from '@masknet/theme'\n\nconst useStyles = makeStyles()((theme) => ({\n    balance: {\n        marginRight: theme.spacing(0.5),\n    },\n}))\n\nexport interface FormattedBalanceProps extends withClasses<'balance' | 'symbol'> {\n    value: BigNumber.Value | undefined\n    decimals?: number\n    significant?: number\n    symbol?: string\n    minimumBalance?: BigNumber.Value\n    formatter?: (value: BigNumber.Value, decimals?: number, significant?: number) => string\n}\n\nexport function FormattedBalance(props: FormattedBalanceProps) {\n    const { value, decimals, significant, symbol, minimumBalance, formatter = (value) => value } = props\n    const valueInt = new BigNumber(value ?? '0').toFixed(0)\n    let formatted = formatter(valueInt, decimals, significant)\n    if (minimumBalance && !isZero(formatted) && isLessThan(valueInt, minimumBalance)) {\n        // it's a BigNumber so it's ok\n        // eslint-disable-next-line @typescript-eslint/no-base-to-string\n        formatted = '<' + formatter(minimumBalance, decimals, significant).toString()\n    }\n    const { classes } = useStyles(undefined, { props })\n\n    if (symbol)\n        return (\n            <Fragment>\n                <span className={classes.balance}>{String(formatted)}</span>\n                <span className={classes?.symbol}>{symbol}</span>\n            </Fragment>\n        )\n    return <Fragment>{String(formatted)}</Fragment>\n}\n","import { useRef, useContext, createContext, useState, useMemo, useLayoutEffect } from 'react'\nimport { type DialogProps } from '@mui/material'\nimport { noop } from 'lodash-es'\n\ninterface StackContext {\n    stack: readonly string[]\n    push(id: string): void\n    pop(id: string): void\n    setParent(selfID: string, parentID: string | null): () => void\n    hasGlobalBackdrop: boolean\n}\nconst DialogStackingContext = createContext<StackContext>({\n    stack: [],\n    push: noop,\n    pop: noop,\n    setParent: () => noop,\n    hasGlobalBackdrop: false,\n})\nDialogStackingContext.displayName = 'DialogStackingContext'\n\nconst DialogHierarchyContext = createContext<string | null>(null)\nDialogHierarchyContext.displayName = 'DialogHierarchyContext'\n\n/**\n * If you're using <Dialog> on its own and you want to support DialogStack, please use this hook.\n *\n * Your dialog component MUST support the following attributes with the same semantics with MUI Dialog component.\n *\n * - disableEscapeKeyDown\n * - disableScrollLock\n * - hideBackdrop\n * - style\n * - aria-hidden\n * - open\n * - transitionDuration\n * @example\n * function SomeComponent() {\n *     const [open, setOpen] = useState(false)\n *     const { shouldReplaceExitWithBack, extraProps, TrackDialogHierarchy } = useDialogStackConsumer(open)\n *     return <TrackDialogHierarchy>\n *         <button onClick={() => setOpen(true)}></button>\n *         <Dialog open={open} {...extraProps}>\n *             You MUST hide Close button and and BackButton based on the value of `shouldReplaceExitWithBack`\n *         </Dialog>\n *     </TrackDialogHierarchy>\n * }\n */\nexport function useDialogStackActor(open: boolean): useDialogStackActorReturn {\n    const selfID = useRef('' + Math.random()).current\n    const { pop, push, stack, setParent, hasGlobalBackdrop } = useContext(DialogStackingContext)\n\n    // children's useEffect will run before parent's useEffect.\n    // when the hierarchy is A > B and they are both open,\n    // the stack will be [\"B\", \"A\"] (B pushed into the stack first.)\n    // we need to notify the context the react component tree hierarchy to order them correctly.\n    const parentID = useContext(DialogHierarchyContext)\n    useLayoutEffect(() => setParent(selfID, parentID), [parentID])\n\n    useLayoutEffect(() => {\n        open ? push(selfID) : pop(selfID)\n        return () => pop(selfID)\n    }, [open])\n\n    const TrackDialogHierarchy = (useRef<useDialogStackActorReturn['TrackDialogHierarchy']>(null!).current ??=\n        function TrackDialogHierarchy({ children }) {\n            return <DialogHierarchyContext.Provider value={selfID}>{children}</DialogHierarchyContext.Provider>\n        })\n\n    const returnVal: useDialogStackActorReturn = {\n        shouldReplaceExitWithBack: stack.length > 1,\n        extraProps: { open },\n        TrackDialogHierarchy,\n    }\n    if (hasGlobalBackdrop) returnVal.extraProps.hideBackdrop = true\n    if (stack.length > 1) returnVal.extraProps.transitionDuration = 0\n\n    if (!open) return returnVal\n    if (stack.at(-1) !== selfID) {\n        returnVal.extraProps = {\n            ...returnVal.extraProps,\n            disableEscapeKeyDown: true,\n            disableScrollLock: true,\n            hideBackdrop: true,\n            hidden: true,\n            style: { visibility: 'hidden' },\n            'aria-hidden': true,\n        }\n    }\n    return returnVal\n}\n\nexport interface useDialogStackActorReturn {\n    shouldReplaceExitWithBack: boolean\n    extraProps: DialogProps\n    TrackDialogHierarchy: React.ComponentType<React.PropsWithChildren<{}>>\n}\n\nexport interface DialogStackingProviderProps extends React.PropsWithChildren<{}> {\n    hasGlobalBackdrop?: boolean\n}\n\n/**\n * This Provider can turn any `MaskDialog` or `InjectedDialog` in the subtree into a unified dialog.\n *\n * For example:\n *\n * ```tsx\n * <DialogStackingProvider>\n *    <Dialog1>\n *        <Dialog2></Dialog2>\n *    </Dialog1>\n *    <Dialog3></Dialog3>\n * </DialogStackingProvider>\n * ```\n *\n * When Dialog1 and Dialog2 both opened, only Dialog2 will be visible and the left top button\n * becomes \"BackArrow\".\n */\nexport function DialogStackingProvider(props: DialogStackingProviderProps) {\n    const [stack, setStack] = useState<readonly string[]>([])\n    const [hierarchy, setHierarchy] = useState<Hierarchy>({})\n    const context = useMemo((): StackContext => {\n        const sortedStack = sortStackByHierarchy(hierarchy, stack)\n        return {\n            hasGlobalBackdrop: props.hasGlobalBackdrop || false,\n            stack: sortedStack,\n            // Note: the following methods MUST NOT use stack or hierarchy out of the useState callback.\n            setParent(child, parent) {\n                if (!parent) return noop\n                setHierarchy((hierarchy) => {\n                    if (hierarchy[parent]?.has(child)) return hierarchy\n                    const newSet = new Set(hierarchy[parent] || [])\n                    newSet.add(child)\n                    return { ...hierarchy, [parent]: newSet }\n                })\n\n                return () => {\n                    setHierarchy((hierarchy) => {\n                        const newSet = new Set(hierarchy[parent])\n                        newSet.delete(child)\n                        return { ...hierarchy, [parent]: newSet }\n                    })\n                }\n            },\n            pop(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack.filter((x) => x !== id) : stack))\n            },\n            push(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack : stack.concat(id)))\n            },\n        }\n    }, [stack, hierarchy, props.hasGlobalBackdrop])\n    return <DialogStackingContext.Provider value={context}>{props.children}</DialogStackingContext.Provider>\n}\n\nexport function useDialogStacking() {\n    return useContext(DialogStackingContext)\n}\n\ntype Hierarchy = {\n    readonly [parent: string]: undefined | ReadonlySet<string>\n}\nfunction sortStackByHierarchy(hierarchy: Hierarchy, stack: readonly string[]): readonly string[] {\n    if (stack.length <= 1) return stack\n    const last = stack.at(-1)!\n    const children = hierarchy[last]\n    if (!children?.size) return stack\n    for (const child of children) {\n        if (stack.includes(child)) return sortStackByHierarchy(hierarchy, [last].concat(stack.slice(0, -1)))\n    }\n    return stack\n}\n","import { Tooltip } from '@mui/material'\nimport { createShadowRootForwardedPopperComponent } from '../../ShadowRoot/index.js'\n\nexport const ShadowRootTooltip = createShadowRootForwardedPopperComponent(Tooltip)\nShadowRootTooltip.displayName = 'ShadowRootTooltip'\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { useRef, forwardRef, useContext } from 'react'\nimport { Flags } from '@masknet/flags'\nimport type { PopperProps } from '@mui/material'\nimport {\n    DisableShadowRootContext,\n    PreventShadowRootEventPropagationListContext,\n    stopPropagation,\n    StyleSheetsContext,\n} from './Contexts.js'\nimport { ref } from './ShadowRootSetup.js'\n\n/**\n * Render to a React Portal in to the page needs this hook. It will provide a wrapped container that provides ShadowRoot isolation and CSS support for it.\n *\n * The return value can only be used once!\n * @param renderer A function that want to use PortalShadowRoot\n * @example\n * const picker = usePortalShadowRoot((container) => (\n *      <DatePicker\n *          DialogProps={{ container }}\n *          PopperProps={{ container }}\n *          value={new Date()}\n *          onChange={() => {}}\n *          renderInput={(props) => <TextField {...props} />}\n *      />\n * ))\n */\nexport function usePortalShadowRoot<T>(renderer: (container: HTMLElement | undefined) => T, debugKey?: string): T {\n    const disabled = useRef(useContext(DisableShadowRootContext)).current\n    // we ignore the changes on DisableShadowRootContext during multiple render\n    // so we can violates the React hooks rule and still be safe.\n    if (disabled) return renderer(undefined)\n\n    const sheet = useContext(StyleSheetsContext)\n    const signal = useRef<AbortController | null>(null)\n    const preventEventPropagationList = useContext(PreventShadowRootEventPropagationListContext)\n    const container = useRefInit(() => {\n        signal.current = new AbortController()\n        const portal = ref.portalContainer\n\n        const root = document.createElement('div')\n        root.dataset.portalShadowRoot = debugKey || ''\n        const shadow = root.attachShadow(Flags.shadowRootInit)\n\n        for (const each of preventEventPropagationList) {\n            shadow.addEventListener(each, stopPropagation, { signal: signal.current.signal })\n        }\n\n        const container = shadow.appendChild(document.createElement('main'))\n\n        sheet.addContainer(shadow)\n\n        // This is important to make the portal orders correct.\n        Object.defineProperty(container, 'appendChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                if (!root.parentElement) portal.appendChild(root)\n                Node.prototype.appendChild.call(container, child)\n                return child\n            },\n        })\n        Object.defineProperty(container, 'removeChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                Node.prototype.removeChild.call(container, child)\n                if (container.childElementCount === 0) portal.removeChild(root)\n                return child\n            },\n        })\n\n        return container\n    })\n\n    return renderer(container)\n}\n\nexport function createShadowRootForwardedComponent<\n    T extends {\n        container?: Element | (() => Element | null) | null | undefined\n        open: boolean\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => <Component container={container} {...props} ref={ref} />)\n    }) as any as typeof Component\n}\n\nexport function createShadowRootForwardedPopperComponent<\n    T extends {\n        PopperProps?: Partial<PopperProps>\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => {\n            return <Component {...props} PopperProps={{ container, ...props.PopperProps }} ref={ref} />\n        })\n    }) as any as typeof Component\n}\n\nfunction useRefInit<T>(f: () => T): T {\n    const ref = useRef<T>(undefined!)\n    if (!ref.current) ref.current = f()\n    return ref.current\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { type DetailedHTMLProps, type HTMLAttributes, useContext, useLayoutEffect, useRef, useState } from 'react'\nimport { Flags } from '@masknet/flags'\nimport { createPortal } from 'react-dom'\nimport { DisableShadowRootContext } from './Contexts.js'\nimport { ShadowRootStyleProvider } from './ShadowRootStyleProvider.js'\n\ntype RootElement = HTMLDivElement | HTMLSpanElement\n\ninterface Props extends DetailedHTMLProps<HTMLAttributes<RootElement>, RootElement> {\n    /** Tag name */\n    rootElement?: 'div' | 'span' | (() => RootElement)\n}\n\n/**\n * Render it's children inside a ShadowRoot to provide style isolation.\n */\nexport function ShadowRootIsolation({ children, rootElement = 'div', ...props }: Props) {\n    const disabled = useRef(useContext(DisableShadowRootContext)).current\n\n    if (disabled) return <span {...props}>{children}</span>\n\n    const [dom, setDOM] = useState<RootElement | null>()\n    const container = useRef<RootElement>()\n\n    if (!container.current) {\n        container.current = typeof rootElement === 'function' ? rootElement() : document.createElement(rootElement)\n    }\n    useLayoutEffect(() => {\n        if (!dom) return\n        if (dom.shadowRoot) return\n\n        // Note: ShadowRootIsolation is expected to use inside other closed ShadowRoot\n        const shadow = dom.attachShadow({ ...Flags.shadowRootInit, mode: 'open', delegatesFocus: false })\n        shadow.appendChild(container.current!)\n    }, [dom])\n\n    if (!dom?.shadowRoot) return <span {...props} ref={(x) => (x !== dom ? setDOM(x) : undefined)} />\n\n    return (\n        <span {...props}>\n            <ShadowRootStyleProvider preventPropagation={false} shadow={dom.shadowRoot}>\n                {createPortal(children, container.current)}\n            </ShadowRootStyleProvider>\n        </span>\n    )\n}\n","import { ObservableMap } from '@masknet/shared-base'\nimport { StrictMode, useEffect, useState } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { PreventShadowRootEventPropagationListContext } from './Contexts.js'\n\n/**\n * This container is used to attach the single React root.\n * It does not contain direct DOM decedents.\n * All decedents are mounted via <Portal>.\n */\nlet globalContainer: HTMLElement\n/**\n * This container is prepared for all the Modals.\n */\nlet portalContainer: ShadowRoot\nexport type WrapJSX = ((jsx: React.ReactNode) => JSX.Element) | undefined\n/** @internal */\nexport const shadowEnvironmentMountingRoots = new ObservableMap<any, JSX.Element>()\n\nexport function setupReactShadowRootEnvironment(\n    init: ShadowRootInit,\n    preventEventPropagationList: Array<keyof HTMLElementEventMap>,\n    wrapJSX?: WrapJSX,\n) {\n    if (portalContainer) return portalContainer\n    // TODO: make sure globalContainer is the last DOM in the body?\n    globalContainer = document.body.appendChild(document.createElement('div'))\n    portalContainer = globalContainer.attachShadow(init)\n\n    // Note: This React Root does not expect to have any direct DOM children.\n    createRoot(globalContainer).render(\n        <StrictMode>\n            <MountingPoint wrapJSX={wrapJSX} preventPropagationList={preventEventPropagationList} />\n        </StrictMode>,\n    )\n    return portalContainer\n}\nfunction MountingPoint(props: { wrapJSX: WrapJSX; preventPropagationList: Array<keyof HTMLElementEventMap> }) {\n    const [children, setChildren] = useState<JSX.Element[]>([])\n    useEffect(() => {\n        shadowEnvironmentMountingRoots.event.on(shadowEnvironmentMountingRoots.ALL_EVENTS, () => {\n            setChildren(Array.from(shadowEnvironmentMountingRoots.values()))\n        })\n    }, [])\n    return (\n        <PreventShadowRootEventPropagationListContext.Provider value={props.preventPropagationList}>\n            {props.wrapJSX ? props.wrapJSX(children) : children}\n        </PreventShadowRootEventPropagationListContext.Provider>\n    )\n}\n\n/** @internal */\nexport const ref = {\n    get portalContainer(): Element | ShadowRoot {\n        let dom: Element | ShadowRoot\n        if (location.protocol.includes('extension')) dom = document.body\n        else if (globalThis.location.hostname === 'localhost') return document.body\n        else if (!portalContainer) throw new TypeError('Please call setupPortalShadowRoot first')\n        else dom = portalContainer\n\n        Object.defineProperty(ref, 'mountingPoint', { value: dom })\n        return dom\n    },\n}\n","/// <reference types=\"@masknet/global-types/firefox\" />\n/// <reference types=\"@masknet/global-types/env\" />\n\nconst shadowHeadMap = new WeakMap<ShadowRoot, HTMLHeadElement>()\n\n// There are 2 rendering mode of this ShadowRootStyleSheet.\n// 1. If the host supports ConstructableStyleSheet proposal:\n//      It is the fastest but only Chrome supports it.\n// 2. style tags that being synchronize between all ShadowRoot.\n//      See https://github.com/emotion-js/emotion/blob/main/packages/sheet/src/index.js\n//      Note: We cannot use .sheet.insertRule (so called \"speedy mode\") because in our app,\n//            the host of a ShadowRoot might be detached from the DOM and reattach to another place,\n//            when a <style> tag is disconnected from the DOM, it's CSSStyleSheet object will be dropped.\nexport class StyleSheet {\n    // Unlucky, emotion will create it's own StyleSheet and use isSpeedy, tags, keys and container for Global components.\n    readonly tags: any = []\n    readonly container = document.createElement('div')\n    readonly isSpeedy = false\n    readonly key: string\n    constructor(options: { key: string; container: HTMLElement | ShadowRoot }) {\n        this.key = options.key\n        if (options.container instanceof ShadowRoot) {\n            this.implementation =\n                'adoptedStyleSheets' in Document.prototype ? new ConstructableStyleSheet() : new SynchronizeStyleSheet()\n            this.addContainer(options.container)\n            Reflect.set(this.container, 'sheet', this)\n        } else {\n            // global style\n            const un_global = Reflect.get(options.container, 'sheet')\n            if (!(un_global instanceof StyleSheet)) throw new TypeError()\n\n            // A hack to the emotion StyleSheet\n            // eslint-disable-next-line no-constructor-return\n            return {\n                tags: [],\n                key: options.key,\n                insert: un_global.implementation.insertGlobal.bind(un_global.implementation),\n                flush: un_global.implementation.flushGlobal.bind(un_global.implementation),\n            } as any\n        }\n    }\n    addContainer(container: ShadowRoot) {\n        this.implementation.addContainer(container, this.key)\n    }\n    hydrate() {\n        throw new Error('Does not support SSR.')\n    }\n    insert(rule: string) {\n        if (process.env.NODE_ENV !== 'production') {\n            const isImportRule = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105\n            if (isImportRule && this._alreadyInsertedOrderInsensitiveRule) {\n                // this would only cause problem in speedy mode\n                // but we don't want enabling speedy to affect the observable behavior\n                // so we report this error at all times\n                console.error(\n                    \"You're attempting to insert the following rule:\\n\" +\n                        rule +\n                        '\\n\\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.',\n                )\n            }\n\n            this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule\n        }\n        this.implementation.insert(rule)\n    }\n    flush() {\n        this.implementation.flush()\n        this._alreadyInsertedOrderInsensitiveRule = false\n    }\n    private implementation!: ConstructableStyleSheet | SynchronizeStyleSheet\n    private _alreadyInsertedOrderInsensitiveRule = false\n}\n\nclass ConstructableStyleSheet {\n    private sheet = new CSSStyleSheet()\n    private globalSheet = new CSSStyleSheet()\n    private added = new WeakSet<ShadowRoot>()\n    addContainer(container: ShadowRoot) {\n        if (this.added.has(container)) return\n        this.added.add(container)\n\n        if (typeof XPCNativeWrapper === 'undefined') {\n            // push & unshift crashes Chrome 103. Not tested on other versions.\n            container.adoptedStyleSheets = [this.globalSheet, ...container.adoptedStyleSheets, this.sheet]\n        } else {\n            // assignment does not work on Firefox 102. Not tested on other versions.\n            const unsafe = XPCNativeWrapper.unwrap(container.adoptedStyleSheets)\n            Array.prototype.unshift.call(unsafe, XPCNativeWrapper.unwrap(this.globalSheet))\n            Array.prototype.push.call(unsafe, XPCNativeWrapper.unwrap(this.sheet))\n        }\n    }\n    insert(rule: string) {\n        insertRuleSpeedy(this.sheet, rule)\n    }\n    insertGlobal(rule: string) {\n        insertRuleSpeedy(this.globalSheet, rule)\n    }\n    flush() {\n        this.sheet.replaceSync('')\n    }\n    flushGlobal() {\n        this.globalSheet.replaceSync('')\n    }\n}\nclass SynchronizeStyleSheet {\n    private ctr = 0\n    private containers = new Map<ShadowRoot, HTMLDivElement>()\n    addContainer(container: ShadowRoot, tag: string) {\n        if (this.containers.has(container)) return\n\n        // setup tags\n        const head = getShadowRootHead(container)\n        const localContainer = document.createElement('div')\n        localContainer.dataset.styleContainer = tag\n        head.appendChild(localContainer)\n        this.containers.set(container, localContainer)\n\n        {\n            const style = createStyleElement()\n            style.dataset.globalStyleOf = tag\n            head.insertBefore(style, head.firstChild)\n            this.globalStyles.set(container, style)\n        }\n\n        // copy styles\n        const first = this.containers.entries().next()\n        if (first.done) return // there is no previous styles. we are done.\n\n        const frag = document.createDocumentFragment()\n        for (const x of first.value[1].children) {\n            frag.appendChild(x.cloneNode(true))\n        }\n        localContainer.appendChild(frag)\n    }\n    insert(rule: string) {\n        if (this.ctr % 25 === 0) {\n            this._insertTag()\n        }\n\n        for (const container of this.containers.values()) {\n            const tag = container.lastElementChild!\n            tag.appendChild(document.createTextNode(rule))\n        }\n        this.ctr += 1\n    }\n    insertGlobal(rule: string) {\n        for (const style of this.globalStyles.values()) {\n            style.appendChild(document.createTextNode(rule))\n        }\n    }\n    flush() {\n        for (const container of this.containers.values()) {\n            for (const tag of container.children) {\n                tag.remove()\n            }\n        }\n        this.ctr = 0\n    }\n    flushGlobal() {\n        this.globalStyles.forEach((x) => (x.innerText = ''))\n    }\n    private _insertTag = () => {\n        for (const container of this.containers.values()) {\n            container.appendChild(createStyleElement())\n        }\n    }\n    private globalStyles = new Map<ShadowRoot, HTMLStyleElement>()\n}\n\nfunction getShadowRootHead(shadow: ShadowRoot) {\n    if (!shadowHeadMap.has(shadow)) {\n        const head = document.createElement('head')\n        shadowHeadMap.set(shadow, head)\n        shadow.insertBefore(head, shadow.firstChild)\n    }\n    return shadowHeadMap.get(shadow)!\n}\n\nfunction createStyleElement(): HTMLStyleElement {\n    const tag = document.createElement('style')\n    tag.appendChild(document.createTextNode(''))\n    return tag\n}\nfunction insertRuleSpeedy(sheet: CSSStyleSheet, rule: string) {\n    try {\n        sheet.insertRule(rule, sheet.cssRules.length)\n    } catch (error) {\n        if (\n            process.env.NODE_ENV !== 'production' &&\n            // cspell:ignore focusring\n            !/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand){/.test(\n                rule,\n            )\n        ) {\n            console.error(`There was a problem inserting the following rule: \"${rule}\"`, error)\n        }\n    }\n}\n","import { useContext, useEffect } from 'react'\nimport createEmotionCache, { type EmotionCache } from '@emotion/cache'\nimport { CacheProvider as EmotionCacheProvider } from '@emotion/react'\nimport { StyleSheet } from './ShadowRootStyleSheet.js'\nimport { PreventShadowRootEventPropagationListContext, stopPropagation, StyleSheetsContext } from './Contexts.js'\n\ninterface ShadowRootStyleProviderProps extends React.PropsWithChildren<{}> {\n    shadow: ShadowRoot\n    preventPropagation: boolean\n}\n/**\n * @internal\n * This component provide the modified version of tss-react and emotion context,\n * therefore styles within this component can render correctly in ShadowRoot.\n *\n * This component is used to render inside a bare ShadowRoot.\n * If you need a nested ShadowRoot render, use ShadowRootIsolation.\n */\nexport function ShadowRootStyleProvider(props: ShadowRootStyleProviderProps) {\n    const { shadow, children } = props\n    const [cache, sheets] = getShadowRootEmotionCache(shadow)\n\n    const preventEventPropagationList = useContext(PreventShadowRootEventPropagationListContext)\n    useEffect(() => {\n        if (!props.preventPropagation) return\n        preventEventPropagationList.forEach((event) => shadow.addEventListener(event, stopPropagation))\n        return () => preventEventPropagationList.forEach((event) => shadow.removeEventListener(event, stopPropagation))\n    }, [props.preventPropagation, preventEventPropagationList, shadow])\n\n    return (\n        <StyleSheetsContext.Provider value={sheets}>\n            <EmotionCacheProvider value={cache}>{children}</EmotionCacheProvider>\n        </StyleSheetsContext.Provider>\n    )\n}\n\nconst styleSheetMap = new WeakMap<ShadowRoot, [EmotionCache, StyleSheet]>()\n\nfunction getShadowRootEmotionCache(shadow: ShadowRoot) {\n    if (styleSheetMap.has(shadow)) return styleSheetMap.get(shadow)!\n\n    // emotion doesn't allow numbers appears in the key\n    const instanceID = Math.random().toString(36).slice(2).replaceAll(/\\d/g, 'x').slice(0, 4)\n    const key = 'css-' + instanceID\n\n    const muiEmotionCache = createEmotionCache({ key })\n    const muiStyleSheet = new StyleSheet({ key, container: shadow })\n    muiEmotionCache.sheet = muiStyleSheet\n\n    styleSheetMap.set(shadow, [muiEmotionCache, muiStyleSheet])\n    return styleSheetMap.get(shadow)!\n}\n","import type { NonSerializableTypedMessage, Meta } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\n/**\n * A single image\n * TODO: it should be serializable but still not decided how to do that yet.\n */\nexport interface TypedMessageImage extends NonSerializableTypedMessage {\n    readonly type: 'image'\n    readonly image: string | Blob\n    readonly width?: number\n    readonly height?: number\n}\n\nexport const isTypedMessageImage = createIsType<TypedMessageImage>('image')\n\nexport function makeTypedMessageImage(\n    image: TypedMessageImage['image'],\n    size?: { width: number; height: number },\n    meta?: Meta,\n): TypedMessageImage {\n    return {\n        type: 'image',\n        serializable: false,\n        image,\n        width: size?.width,\n        height: size?.height,\n        meta,\n    }\n}\n","import type { TypedMessage, NonSerializableTypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\nexport interface PendingPromise<T> extends Promise<T> {\n    status: 'pending'\n}\nexport interface FulfilledPromise<T> extends Promise<T> {\n    readonly status: 'fulfilled'\n    readonly value: T\n}\nexport interface RejectedPromise<T> extends Promise<T> {\n    readonly status: 'rejected'\n    readonly reason: any\n}\nexport type StatusExposedPromise<T> = PendingPromise<T> | FulfilledPromise<T> | RejectedPromise<T>\nexport interface TypedMessagePromise<T extends TypedMessage = TypedMessage> extends NonSerializableTypedMessage {\n    readonly type: 'promise'\n    readonly promise: StatusExposedPromise<T>\n    readonly meta?: undefined\n    /** What to display when the message is not ready. */\n    readonly alt?: TypedMessage\n}\n\nexport const isTypedMessagePromise = createIsType<TypedMessagePromise>('promise')\n\nexport function makeTypedMessagePromise<T extends TypedMessage = TypedMessage>(\n    promise: Promise<T>,\n    alt?: TypedMessage,\n): TypedMessagePromise<T> {\n    const x: TypedMessagePromise<T> = {\n        type: 'promise',\n        serializable: false,\n        promise: getPromiseWithStatus(promise),\n        alt,\n        meta: undefined,\n    }\n    return x\n}\nconst seen = new WeakMap<Promise<any>, StatusExposedPromise<any>>()\nfunction getPromiseWithStatus<T>(promise: Promise<T>): StatusExposedPromise<T> {\n    // let's assume it already handle the status update\n    if ('status' in promise) return promise as StatusExposedPromise<T>\n    if (seen.has(promise)) return seen.get(promise)!\n    const _ = Promise.resolve(promise) as StatusExposedPromise<T>\n    Object.defineProperty(_, 'status', { configurable: true, value: 'pending' })\n    _.then(\n        (value) => {\n            Object.defineProperties(_, {\n                status: { value: 'fulfilled' },\n                value: { value },\n            })\n        },\n        (error) => {\n            Object.defineProperties(_, {\n                status: { value: 'rejected' },\n                reason: { value: error },\n            })\n        },\n    )\n    seen.set(promise, _)\n    return _\n}\n","import type { SerializableTypedMessage, TypedMessage, Meta } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\nexport type TypedMessageText = TypedMessageTextV1\n\n/** A text message */\nexport interface TypedMessageTextV1 extends SerializableTypedMessage<1> {\n    readonly type: 'text'\n    readonly content: string\n}\n\nexport const isTypedMessageTextV1 = createIsType<TypedMessageTextV1>('text', 1)\n\nexport const isTypedMessageText: (x: TypedMessage) => x is TypedMessageText = isTypedMessageTextV1\n\nexport function makeTypedMessageText(text: string, meta?: Meta): TypedMessageTextV1 {\n    return {\n        type: 'text',\n        version: 1,\n        serializable: true,\n        content: text,\n        meta,\n    }\n}\n","import type { SerializableTypedMessage, SerializableTypedMessages, TypedMessage, Meta } from '../base.js'\nimport { isSerializableTypedMessage } from '../utils/index.js'\nimport { composeEvery } from '../utils/internal.js'\n\n/** Multiple TypedMessages (ordered) */\nexport interface TypedMessageTuple<T extends readonly TypedMessage[] = readonly TypedMessage[]> extends TypedMessage {\n    readonly type: 'tuple'\n    readonly items: T\n}\nexport interface TypedMessageTupleSerializable<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n> extends SerializableTypedMessage<1>,\n        TypedMessageTuple<T> {\n    readonly type: 'tuple'\n}\n\nexport function isTypedMessageTuple(x: TypedMessage): x is TypedMessageTuple | TypedMessageTupleSerializable {\n    return x.type === 'tuple'\n}\n\nexport const isTypedMessageTupleSerializable: (x: TypedMessage) => x is TypedMessageTupleSerializable = composeEvery(\n    isTypedMessageTuple,\n    isSerializableTypedMessage,\n) as any\n\nexport function makeTypedMessageTuple<T extends readonly TypedMessage[] = readonly TypedMessage[]>(\n    items: T,\n    meta?: Meta,\n): TypedMessageTuple<T> {\n    return { type: 'tuple', items, meta }\n}\nexport function makeTypedMessageTupleFromList<T extends readonly TypedMessage[] = readonly TypedMessage[]>(\n    ...args: T\n): TypedMessageTuple<T> {\n    return { type: 'tuple', items: args }\n}\n\nexport function makeTypedMessageTupleSerializable<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n>(items: T, meta?: Meta): TypedMessageTupleSerializable<T> {\n    return { type: 'tuple', version: 1, serializable: true, items, meta }\n}\n\nexport function makeTypedMessageSerializableTupleFromList<\n    T extends readonly SerializableTypedMessages[] = readonly SerializableTypedMessages[],\n>(...args: T): TypedMessageTupleSerializable<T> {\n    return { type: 'tuple', version: 1, items: args, serializable: true }\n}\n","import type { Meta, TypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\n\n/**\n * This TypedMessage represents an encrypted TypedMessage.\n */\nexport interface TypedMessageMaskPayload extends TypedMessage {\n    readonly type: 'x-mask-payload'\n    readonly message: TypedMessage\n}\nexport const isTypedMessageMaskPayload = createIsType<TypedMessageMaskPayload>('x-mask-payload')\n\nexport function makeTypedMessageMaskPayload(\n    message: TypedMessageMaskPayload['message'],\n    meta?: Meta,\n): TypedMessageMaskPayload {\n    return {\n        type: 'x-mask-payload',\n        message,\n        meta,\n    }\n}\n","import type { Meta, NonSerializableWithAltTypedMessage } from '../base.js'\nimport { createIsType } from '../utils/internal.js'\nimport { makeTypedMessageText, type TypedMessageImage, type TypedMessageText } from '../core/index.js'\n\n/** It represents a single link. */\nexport interface TypedMessageAnchor extends NonSerializableWithAltTypedMessage {\n    readonly type: 'x-anchor'\n    readonly category: 'normal' | 'user' | 'cash' | 'hash'\n    readonly href: string\n    readonly content: string\n    readonly alt: TypedMessageText\n    /** The message that should be displayed as a decorate after the link. */\n    readonly postImage?: TypedMessageImage\n}\n\nexport const isTypedMessageAnchor = createIsType<TypedMessageAnchor>('x-anchor')\n\nexport function makeTypedMessageAnchor(\n    category: TypedMessageAnchor['category'],\n    href: TypedMessageAnchor['href'],\n    content: TypedMessageAnchor['content'],\n    postImage?: TypedMessageImage,\n    meta?: Meta | undefined,\n): TypedMessageAnchor {\n    return {\n        type: 'x-anchor',\n        serializable: false,\n        category,\n        href,\n        content,\n        alt: makeTypedMessageText(`[${content}](${href})`, meta),\n        postImage,\n        meta,\n    }\n}\n","import type { TypedMessage } from '../base.js'\nimport { isTypedMessageText, isTypedMessageImage } from '../core/index.js'\nimport { isTypedMessageAnchor } from '../extension/index.js'\nimport { type Option, Some, None } from 'ts-results-es'\nimport { forEachTypedMessageChild } from '../visitor/index.js'\n\n/**\n * Get inner text from a TypedMessage\n * @param message message\n */\nexport function extractTextFromTypedMessage(\n    message: TypedMessage | null,\n    options?: { linkAsText: boolean },\n): Option<string> {\n    if (!message) return None\n\n    const text: string[] = []\n    function visitor(message: TypedMessage) {\n        if (isTypedMessageText(message)) text.push(message.content)\n        else if (isTypedMessageAnchor(message)) {\n            text.push(message.content)\n            if (options?.linkAsText) text.push(`(${message.href})`)\n        } else forEachTypedMessageChild(message, visitor)\n    }\n    visitor(message)\n    forEachTypedMessageChild(message, visitor)\n    if (text.length) return Some(text.join(' '))\n    return None\n}\nexport function extractImageFromTypedMessage(message: TypedMessage | null): Array<string | Blob> {\n    if (!message) return []\n\n    const image: Array<string | Blob> = []\n    function visitor(message: TypedMessage): void {\n        if (isTypedMessageImage(message)) return void image.push(message.image)\n        return forEachTypedMessageChild(message, visitor)\n    }\n    visitor(message)\n    forEachTypedMessageChild(message, visitor)\n    return image\n}\n","import type {\n    TypedMessage,\n    SerializableTypedMessages,\n    SerializableTypedMessage,\n    NonSerializableWithAltTypedMessage,\n} from '../base.js'\nimport { isEqual } from 'lodash-es'\n\nexport * from './extract.js'\n\nexport function isNonSerializableTypedMessageWithAlt(x: TypedMessage): x is NonSerializableWithAltTypedMessage {\n    const y = x as NonSerializableWithAltTypedMessage\n    if (y.serializable !== false) return false\n    if (!y.alt) return false\n    return isSerializableTypedMessage(y.alt)\n}\nexport function isSerializableTypedMessage(x: TypedMessage): x is SerializableTypedMessages {\n    if ((x as SerializableTypedMessage<number>).serializable) return true\n    return isNonSerializableTypedMessageWithAlt(x)\n}\n\n/**\n * This is a tree compare algorithm, may need to find a more efficient one from NPM\n */\nexport function isTypedMessageEqual(message1: TypedMessage, message2: TypedMessage): boolean {\n    if (message1.type !== message2.type) return false\n    if (message1.meta !== message2.meta) return false\n    // perform a deep equal\n    return isEqual(message1, message2)\n}\n","import type { SerializableTypedMessage, TypedMessage } from '../base.js'\n\n/** @internal */\nexport function createIsType<T extends TypedMessage>(x: T['type'], version?: number) {\n    return (y: TypedMessage): y is T => {\n        if (version !== undefined && (y as SerializableTypedMessage<number>).version !== version) return false\n        return y.type === x\n    }\n}\n/** @internal */\nexport function composeSome<Args extends any[]>(...fns: Array<(...args: Args) => boolean>) {\n    return (...args: Args) => fns.some((f) => f(...args))\n}\n\n/** @internal */\nexport function composeEvery<Args extends any[]>(...fns: Array<(...args: Args) => boolean>) {\n    return (...args: Args) => fns.every((f) => f(...args))\n}\n","import { isTypedMessagePromise, isTypedMessageTuple } from '../core/index.js'\nimport { isNonSerializableTypedMessageWithAlt } from '../utils/index.js'\nimport type { TypedMessage } from '../base.js'\nimport { isTypedMessageMaskPayload } from '../extension/index.js'\n\nexport function forEachTypedMessageChild(node: TypedMessage, visitor: (x: TypedMessage) => void | 'stop') {\n    let stop: void | 'stop'\n    if (isTypedMessageTuple(node)) {\n        for (const each of node.items) {\n            stop = visitor(each)\n            if (stop) return\n        }\n    } else if (isTypedMessagePromise(node)) {\n        // if Promise has a resolved value, we ignore it's alt.\n        if ('value' in node.promise) visitor(node.promise.value)\n        else if (node.alt) visitor(node.alt)\n    } else if (isTypedMessageMaskPayload(node)) {\n        visitor(node.message)\n    } else if (isNonSerializableTypedMessageWithAlt(node)) {\n        visitor(node.alt)\n    }\n}\n","import { useQuery } from '@tanstack/react-query'\nimport type { NetworkPluginID } from '@masknet/shared-base'\nimport type { HubOptions } from '@masknet/web3-providers/types'\nimport { useChainContext } from './useContext.js'\nimport { useWeb3Hub } from './useWeb3Hub.js'\n\nexport function useFungibleTokenSpenders<T extends NetworkPluginID = NetworkPluginID>(\n    pluginID?: T,\n    options?: HubOptions<T>,\n) {\n    const { account, chainId } = useChainContext<T>({\n        account: options?.account,\n        chainId: options?.chainId,\n    })\n    const Hub = useWeb3Hub(pluginID, {\n        account,\n        chainId,\n        ...options,\n    })\n    return useQuery({\n        queryKey: ['fungible-tokens', 'spenders', chainId, account],\n        enabled: true,\n        queryFn: async () => Hub.getFungibleTokenSpenders(chainId, account),\n    })\n}\n","import { type NetworkPluginID } from '@masknet/shared-base'\nimport { getRegisteredWeb3Networks } from '@masknet/web3-providers'\nimport { useNetworkContext } from './useContext.js'\n\n/**\n * Get all built in declared network descriptor\n * @param expectedPluginID\n * @param expectedChainIdOrNetworkTypeOrID\n * @returns\n */\nexport function useNetworkDescriptors<S extends 'all' | void = void, T extends NetworkPluginID = NetworkPluginID>(\n    expectedPluginID?: T,\n) {\n    const { pluginID } = useNetworkContext(expectedPluginID)\n    return getRegisteredWeb3Networks(pluginID)\n}\n","import { useMemo } from 'react'\nimport type { AbiItem } from 'web3-utils'\nimport { EMPTY_LIST } from '@masknet/shared-base'\nimport { Web3 } from '@masknet/web3-providers'\nimport { type ChainId, createContract } from '@masknet/web3-shared-evm'\nimport type { BaseContract } from '@masknet/web3-contracts/types/types.js'\n\n/**\n * Create a contract which will forward its all transactions to the\n * EthereumService in the background page and decode the result of calls automatically\n * @param address\n * @param ABI\n * @param chainId\n */\nexport function useContract<T extends BaseContract>(chainId?: ChainId, address = '', ABI: AbiItem[] = EMPTY_LIST) {\n    return useMemo(() => createContract<T>(Web3.getWeb3({ chainId }), address, ABI), [address, ABI])\n}\n\n/**\n * Create many contracts with same ABI\n * @param listOfAddress\n * @param ABI\n * @param chainId\n */\nexport function useContracts<T extends BaseContract>(\n    chainId?: ChainId,\n    listOfAddress: string[] = EMPTY_LIST,\n    ABI: AbiItem[] = EMPTY_LIST,\n) {\n    return useMemo(\n        () =>\n            listOfAddress\n                .map((address) => createContract<T>(Web3.getWeb3({ chainId }), address, ABI))\n                .filter(Boolean) as T[],\n        [JSON.stringify(listOfAddress), ABI],\n    )\n}\n","import { useState } from 'react'\nimport { GasEditor, type ChainId, type GasConfig } from '@masknet/web3-shared-evm'\nimport { useGasOptions } from '@masknet/web3-hooks-base'\nimport type { Web3Helper } from '@masknet/web3-helpers'\n\nexport function useGasConfig(chainId: Web3Helper.ChainIdAll) {\n    const [gasConfig, setGasConfig] = useState<GasConfig>()\n    const { data: gasOptions } = useGasOptions()\n\n    const editor = GasEditor.fromGasOptions(chainId as ChainId, gasOptions)\n\n    return {\n        gasPrice: editor.getGasPrice(),\n        gasConfig: gasConfig || editor.getGasConfig(),\n        setGasConfig,\n    }\n}\n","import { toHex } from 'web3-utils'\nimport { GasOptionType, isZero, multipliedBy, toFixed } from '@masknet/web3-shared-base'\nimport { formatWeiToEther } from '../helpers/formatter.js'\nimport type {\n    ChainId,\n    EIP1559GasConfig,\n    GasConfig,\n    GasOption,\n    PriorEIP1559GasConfig,\n    Transaction,\n} from '../types/index.js'\nimport { CHAIN_DESCRIPTORS } from '../constants/descriptors.js'\n\nexport class GasEditor {\n    constructor(\n        private chainId: ChainId,\n        private config: Partial<GasConfig>,\n    ) {}\n\n    private get isEIP1559() {\n        return !!CHAIN_DESCRIPTORS.find((x) => x.chainId === this.chainId)?.features?.includes('EIP1559')\n    }\n\n    private get EIP1559GasOptionConfig() {\n        return this.config as EIP1559GasConfig\n    }\n\n    private get priorEIP1559GasOptionConfig() {\n        return this.config as PriorEIP1559GasConfig\n    }\n\n    getGasFee(gas: string | number) {\n        return multipliedBy(this.getGasPrice(), gas)\n    }\n\n    getGasFeeInUSD(gas: string, price: string) {\n        return formatWeiToEther(this.getGasFee(gas)).multipliedBy(price)\n    }\n\n    getGasPrice() {\n        return this.EIP1559GasOptionConfig.maxFeePerGas || this.priorEIP1559GasOptionConfig.gasPrice || '0'\n    }\n\n    getGasConfig(fallback?: Partial<GasConfig>): GasConfig {\n        if (this.isEIP1559) {\n            const config = fallback as EIP1559GasConfig | undefined\n            return {\n                gasPrice: undefined,\n                maxFeePerGas: toHex(this.EIP1559GasOptionConfig.maxFeePerGas) || toHex(config?.maxFeePerGas || '0'),\n                maxPriorityFeePerGas:\n                    toHex(this.EIP1559GasOptionConfig.maxPriorityFeePerGas) ||\n                    toHex(config?.maxPriorityFeePerGas || '1'),\n                gasCurrency: this.EIP1559GasOptionConfig?.gasCurrency || fallback?.gasCurrency,\n                gas:\n                    this.EIP1559GasOptionConfig.gas && !isZero(this.EIP1559GasOptionConfig.gas)\n                        ? toHex(this.EIP1559GasOptionConfig.gas)\n                        : undefined,\n                gasOptionType: this.config.gasOptionType ?? config?.gasOptionType,\n            }\n        }\n\n        const priorConfig = fallback as PriorEIP1559GasConfig | undefined\n\n        return {\n            gasPrice: toHex(this.priorEIP1559GasOptionConfig.gasPrice) || toHex(priorConfig?.gasPrice || '0'),\n            maxFeePerGas: undefined,\n            maxPriorityFeePerGas: undefined,\n            gasOptionType: this.config.gasOptionType ?? priorConfig?.gasOptionType,\n        }\n    }\n\n    static fromConfig(chainId: ChainId, gasConfig: Partial<GasConfig> = {}) {\n        return new GasEditor(chainId, gasConfig)\n    }\n\n    static fromGasPrice(chainId: ChainId, gasPrice = '0') {\n        return new GasEditor(chainId, {\n            gasPrice,\n            maxFeePerGas: gasPrice,\n            maxPriorityFeePerGas: gasPrice,\n        })\n    }\n\n    static fromTransaction(chainId: ChainId, transaction?: Transaction) {\n        return new GasEditor(chainId, {\n            gas: transaction?.gas,\n            gasPrice: transaction?.gasPrice,\n            maxFeePerGas: transaction?.maxFeePerGas,\n            maxPriorityFeePerGas: transaction?.maxPriorityFeePerGas,\n        })\n    }\n\n    static fromGasOption(chainId: ChainId, gasOption?: GasOption) {\n        return new GasEditor(chainId, {\n            gasPrice: toFixed(gasOption?.suggestedMaxFeePerGas ?? 0, 0),\n            maxFeePerGas: toFixed(gasOption?.suggestedMaxFeePerGas ?? 0, 0),\n            maxPriorityFeePerGas: toFixed(gasOption?.suggestedMaxPriorityFeePerGas ?? 0, 0),\n        })\n    }\n\n    static fromGasOptions(\n        chainId: ChainId,\n        gasOptions?: Record<GasOptionType, GasOption>,\n        gasOptionType = GasOptionType.NORMAL,\n    ) {\n        return new GasEditor(chainId, {\n            gasPrice: toFixed(gasOptions?.[gasOptionType]?.suggestedMaxFeePerGas ?? 0, 0),\n            maxFeePerGas: toFixed(gasOptions?.[gasOptionType]?.suggestedMaxFeePerGas ?? 0, 0),\n            maxPriorityFeePerGas: toFixed(gasOptions?.[gasOptionType]?.suggestedMaxPriorityFeePerGas ?? 0, 0),\n        })\n    }\n}\n","import e from\"void-elements\";var t=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function n(n){var r={type:\"tag\",name:\"\",voidElement:!1,attrs:{},children:[]},i=n.match(/<\\/?([^\\s]+?)[/\\s>]/);if(i&&(r.name=i[1],(e[i[1]]||\"/\"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith(\"!--\"))){var s=n.indexOf(\"--\\x3e\");return{type:\"comment\",comment:-1!==s?n.slice(4,s):\"\"}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,\"\"];o.indexOf(\"=\")>-1&&(l=o.split(\"=\")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g,i=/^\\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case\"text\":return e+t.content;case\"tag\":return e+=\"<\"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'=\"'+e[n]+'\"');return t.length?\" \"+t.join(\" \"):\"\"}(t.attrs):\"\")+(t.voidElement?\"/>\":\">\"),t.voidElement?e:e+t.children.reduce(a,\"\")+\"</\"+t.name+\">\";case\"comment\":return e+\"\\x3c!--\"+t.comment+\"--\\x3e\"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf(\"<\")){var u=e.indexOf(\"<\");c.push({type:\"text\",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!==\"</\"+a.name+\">\")return;m=!1}var u,f=\"/\"!==r.charAt(1),h=r.startsWith(\"\\x3c!--\"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,\"tag\"===(a=n(r)).type&&t.components[a.name]&&(a.type=\"component\",m=!0),a.voidElement||m||!d||\"<\"===d||a.children.push({type:\"text\",content:e.slice(p,e.indexOf(\"<\",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&\"<\"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf(\"<\",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=\" \"),(x>-1&&l+u.length>=0||\" \"!==g)&&u.push({type:\"text\",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a(\"\",t)},\"\")}};export default c;\n","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n"],"names":["parser","parseURLs","text","requireProtocol","lib","default","list","map","x","string","filter","y","URL","canParse","createContext","useEffect","useContext","noop","emptyPluginWrapperMethods","setWrap","setWrapperName","setWidth","PluginWrapperMethodsContext","displayName","usePluginWrapper","open","options","width","name","useMemo","useSubscription","useObservableValues","subscription","getCurrentValue","asValues","subscribe","callback","event","on","ALL_EVENTS","createElement","ObservableMap","ObservableSet","ValueRef","useValueRef","PostInfoContext","PostInfoProvider","props","Provider","value","post","children","usePostInfoDetails","__proto__","Proxy","get","_","key","undefined","postInfo","TypeError","k","isSubscription","Object","defineProperty","configurable","Icons","socialIconMap","Twitter","GitHub","Globe","SocialIcon","url","rest","host","Icon","DOMPurify","policy","trustedTypes","createPolicy","createHTML","purify","html","sanitized","sanitize","useTranslation","Trans","createProxy","initValue","define","container","getPrototypeOf","setPrototypeOf","v","getOwnPropertyDescriptor","useGitcoinTrans","t","bind","createComponent","i18nKey","ns","shouldUnescape","GitcoinTrans","grantDetailStyle","urlcat","fetchCachedJSON","GITCOIN_API_GRANTS_V1","fetchGrant","id","test","grants","useAsyncRetry","useGrant","SingletonModal","DonateModal","ResultModal","BigNumber","intersection","QuillDeltaToHtmlConverter","ChainBoundary","LoadingStatus","ReloadStatus","NetworkPluginID","makeStyles","ShadowRootIsolation","useChainContext","alpha","Box","Button","Card","Link","Stack","Typography","SUPPORTED_TENANTS","TenantToChainIconMap","useStyles","theme","card","padding","spacing","maxHeight","overflow","display","flexDirection","header","alignItems","flexGrow","metas","marginTop","admin","marginLeft","justifyContent","link","color","palette","maskColor","main","boxSizing","borderRadius","minHeight","article","height","overscrollBehavior","network","marginRight","title","lineHeight","fontWeight","fontSize","whiteSpace","textOverflow","bold","dark","banner","textAlign","img","maxWidth","objectFit","description","paddingTop","paddingBottom","wordBreak","tabSize","data","meta","button","PreviewCard","classes","grant","error","loading","retry","grantId","chainId","style","description_rich","ops","JSON","parse","converter","convert","p","message","go_wrong","onRetry","tenant","tenants","isSupportedTenant","length","twitterProfile","twitter_handle_1","ChainIcon","className","div","size","variant","disableTouchRipple","sx","pointerEvents","backgroundColor","active","success","primary","grant_status","context","second","total_raised","values","amount","amount_received","toFixed","components","component","admin_profile","handle","target","href","github_url","reference_url","elevation","src","logo_url","PreviewCardRender","__html","last_updated","last_update_natural","gap","mt","flex","fullWidth","rel","startIcon","Eye","view_on","expectedPluginID","PLUGIN_EVM","expectedChainId","predicate","pluginID","ActionButtonPromiseProps","onClick","Wallet","donate","cx","safeHTML","dangerouslySetInnerHTML","BulkCheckoutABI","useGitcoinConstants","useContract","useBulkCheckoutContract","BULK_CHECKOUT_ADDRESS","useAsync","useAsyncFn","compact","EMPTY_LIST","Web3","useGasConfig","ContractTransaction","SchemaType","useGasPrice","useDonateCallback","address","grantAmount","tipAmount","token","GITCOIN_ETH_ADDRESS","GITCOIN_MAINTAINER_ADDRESS","account","bulkCheckoutContract","totalAmount","plus","donations","schema","Native","gt","gasPrice","defaultGasPrice","gasState","price","tx","fillAll","methods","from","gas","times","callbackState","sendTransaction","memo","MenuItem","Select","OPTIONS","GiveBackSelect","MenuProps","disablePortal","disableScrollLock","ratio","TenantToChainMap","getSupportedChainIds","flat","useCallback","useLayoutEffect","useState","share","EthereumERC20TokenApprovedBoundary","FungibleTokenInput","InjectedDialog","NetworkTab","PluginWalletStatusBar","TokenIcon","WalletConnectedBoundary","SelectFungibleTokenModal","Sniffings","ActionButton","ShadowRootTooltip","useFungibleTokenBalance","formatBalance","rightShift","ZERO","isNativeTokenAddress","DialogActions","DialogContent","bannerImage","input","row","rowLabel","giveBackSelect","contribution","margin","actions","DonateDialog","admin_address","availableChains","setChainId","includes","nativeTokenDetailed","getNativeToken","TOKEN_LIST","tokenMap","setTokenMap","tokenBalance","onSelectTokenChipClick","picked","openAndWaitForClose","whitelist","disableNativeToken","selectedTokens","enableManage","rawAmount","setRawAmount","decimals","integerValue","giveBack","setGiveBack","total","gasFee","donateCallback","hash","cashTag","is_twitter_page","uiAmount","shareText","share_text","symbol","grant_name","onShare","balance","availableBalance","minus","maxAmount","insufficientBalance","validationMessage","select_a_token","plugin_wallet_connect_a_wallet","grant_not_available","isZero","enter_an_amount","insufficient_balance","donate_dialog_title","form","noValidate","autoComplete","ml","chains","label","onAmountChange","onSelectToken","loadingBalance","isLoading","give_back_to_match_pool","give_back_tooltip","placement","Info","onChange","e","Number","parseFloat","total_contribution","mr","spender","ERC20","disabled","forwardRef","useSingletonModal","ref","props_","setProps_","dispatch","onOpen","onClose","close","resultDialog","backgroundImage","content","justifyItems","messageText","ResultDialog","confirmLabel","paper","BackdropProps","opacity","donate_successfully","modals","Modals","register","PluginID","MaskLightTheme","extractTextFromTypedMessage","ThemeProvider","base","PLUGIN_META_KEY","PLUGIN_NAME","isGitcoin","Renderer","site","init","GlobalInjection","DecryptedInspector","isNone","find","match","CompositionDialogMetadataBadgeRender","Map","PostInspector","links","mentionedLinks","ApplicationEntries","ApplicationEntryID","ID","category","Gitcoin","icon","marketListSortingPriority","tutorialLink","wrapperProps","backgroundGradient","useRef","useBuildInfo_raw","BuildInfo","BuildInfoProvider","useBuildInfo","current","useBuildInfoMarkdown","env","gitInfo","COMMIT_HASH","DIRTY","BRANCH_NAME","buildInfoMarkdown","VERSION","process","NODE_ENV","navigator","userAgent","channel","BUILD_DATE","useImperativeHandle","setOpen","dispatchRef","optionsRef","openRef","creator","dispatchOpen","dispatchClose","dispatchAbort","peek","abort","onAbort","React","unreachable","useFungibleTokenSpenders","ApproveStateType","useERC20TokenApproveCallback","isGte","isSameAddress","HelpOutline","useSharedTrans","refs","helpIcon","infiniteUnlockContent","contractName","showHelperToken","failedContent","spenders","spendersLoading","isError","refetch","approveAmount","type","approveStateType","allowance","transactionState","approveCallback","approved","some","tokenInfo","UPDATING","loadingApprove","onApprove","ActionButtonProps","wallet_load_retry","disableDefaultIcon","endIcon","plugin_wallet_token_infinite_unlock_tips","provider","arrow","leaveDelay","disableInteractive","disableFocusListener","disableTouchListener","plugin_wallet_token_infinite_unlock","InputBase","Chip","lighten","inputBaseClasses","chipClasses","FormattedBalance","root","position","paddingLeft","top","left","control","rowGap","chip","background","cursor","tokenIcon","selectToken","white","maxChip","arrowIcon","chipLabel","FungibleTokenInputUI","isNative","onMaxClick","disableMax","disableToken","disableBalance","startAdornment","endAdornment","available_balance","significant","formatter","columnGap","logoURL","deleteIcon","ArrowDrop","onDelete","ev","currentTarget","RegExp","inputProps","pattern","useWeb3Others","NUMERIC_INPUT_REGEXP_PATTERN","leftShift","MIN_AMOUNT_LENGTH","MAX_AMOUNT_LENGTH","isAvailableBalance","placeholder","maxAmountShares","Others","RE_MATCH_WHOLE_AMOUNT","RE_MATCH_FRACTION_AMOUNT","amount_","replaceAll","autoCorrect","inputMode","min","minLength","maxLength","spellCheck","onKeyDown","preventDefault","dividedBy","decimalPlaces","formattedBalance","toPrecision","toFormat","required","LoadingBase","statusBox","omitText","iconSize","useUpdateEffect","useNetworkDescriptors","useNetworkContext","useWallet","MaskTabList","useTabs","TabContext","Tab","WalletIcon","SmartPayBundler","ChainId","requireChains","networkPluginID","setNetworkType","networks","wallet","smartPaySupportChainId","getSupportedChainId","supportedChains","owner","usedNetworks","c","networkIds","toString","isValidChainId","tab","setTab","prev","Mainnet","parseInt","networkType","chainResolver","aria-label","mainIcon","shortName","minWidth","actionLabel","load_failed","load_retry","FALSE","useWeb3State","useRiskWarningApproved","RiskWarning","useNativeTokenBalance","SelectProviderModal","WalletRiskWarningModal","offChain","hideRiskWarningConfirmed","chainIdValid","smartPayChainId","nativeTokenBalance","buttonClass","connectWallet","plugin_wallet_confirm_risk_warning","plugin_wallet_update_gas_fee","plugin_wallet_no_gas_fee","plugin_wallet_invalid_network","Fragment","isLessThan","minimumBalance","valueInt","formatted","span","String","DialogStackingContext","stack","push","pop","setParent","hasGlobalBackdrop","DialogHierarchyContext","useDialogStackActor","selfID","Math","random","parentID","TrackDialogHierarchy","returnVal","shouldReplaceExitWithBack","extraProps","hideBackdrop","transitionDuration","at","disableEscapeKeyDown","hidden","visibility","DialogStackingProvider","setStack","hierarchy","setHierarchy","sortedStack","sortStackByHierarchy","child","parent","has","newSet","Set","add","delete","concat","useDialogStacking","last","slice","Tooltip","createShadowRootForwardedPopperComponent","Flags","DisableShadowRootContext","PreventShadowRootEventPropagationListContext","stopPropagation","StyleSheetsContext","usePortalShadowRoot","renderer","debugKey","sheet","signal","preventEventPropagationList","useRefInit","AbortController","portal","portalContainer","document","dataset","portalShadowRoot","shadow","attachShadow","shadowRootInit","each","addEventListener","appendChild","addContainer","writable","parentElement","Node","prototype","call","removeChild","childElementCount","createShadowRootForwardedComponent","Component","PopperProps","f","createPortal","ShadowRootStyleProvider","rootElement","dom","setDOM","shadowRoot","mode","delegatesFocus","preventPropagation","StrictMode","createRoot","globalContainer","shadowEnvironmentMountingRoots","setupReactShadowRootEnvironment","wrapJSX","body","render","MountingPoint","preventPropagationList","setChildren","Array","location","protocol","globalThis","hostname","shadowHeadMap","WeakMap","StyleSheet","tags","isSpeedy","constructor","ShadowRoot","implementation","Document","ConstructableStyleSheet","SynchronizeStyleSheet","Reflect","set","un_global","insert","insertGlobal","flush","flushGlobal","hydrate","Error","rule","isImportRule","charCodeAt","_alreadyInsertedOrderInsensitiveRule","console","CSSStyleSheet","globalSheet","added","WeakSet","XPCNativeWrapper","adoptedStyleSheets","unsafe","unwrap","unshift","insertRuleSpeedy","replaceSync","ctr","containers","tag","head","getShadowRootHead","localContainer","styleContainer","createStyleElement","globalStyleOf","insertBefore","firstChild","globalStyles","first","entries","next","done","frag","createDocumentFragment","cloneNode","_insertTag","lastElementChild","createTextNode","remove","forEach","innerText","insertRule","cssRules","createEmotionCache","CacheProvider","EmotionCacheProvider","cache","sheets","getShadowRootEmotionCache","removeEventListener","styleSheetMap","instanceID","muiEmotionCache","muiStyleSheet","createIsType","isTypedMessageImage","makeTypedMessageImage","image","serializable","isTypedMessagePromise","makeTypedMessagePromise","promise","alt","getPromiseWithStatus","seen","Promise","resolve","then","defineProperties","status","reason","isTypedMessageTextV1","isTypedMessageText","makeTypedMessageText","version","isSerializableTypedMessage","composeEvery","isTypedMessageTuple","isTypedMessageTupleSerializable","makeTypedMessageTuple","items","makeTypedMessageTupleFromList","args","makeTypedMessageTupleSerializable","makeTypedMessageSerializableTupleFromList","isTypedMessageMaskPayload","makeTypedMessageMaskPayload","isTypedMessageAnchor","makeTypedMessageAnchor","postImage","Some","None","forEachTypedMessageChild","visitor","linkAsText","join","extractImageFromTypedMessage","isEqual","isNonSerializableTypedMessageWithAlt","isTypedMessageEqual","message1","message2","composeSome","fns","every","node","stop","useQuery","useWeb3Hub","Hub","queryKey","enabled","queryFn","getFungibleTokenSpenders","getRegisteredWeb3Networks","createContract","ABI","getWeb3","useContracts","listOfAddress","Boolean","stringify","GasEditor","useGasOptions","gasConfig","setGasConfig","gasOptions","editor","fromGasOptions","getGasPrice","getGasConfig","toHex","GasOptionType","multipliedBy","formatWeiToEther","CHAIN_DESCRIPTORS","config","isEIP1559","features","EIP1559GasOptionConfig","priorEIP1559GasOptionConfig","getGasFee","getGasFeeInUSD","maxFeePerGas","fallback","maxPriorityFeePerGas","gasCurrency","gasOptionType","priorConfig","fromConfig","fromGasPrice","fromTransaction","transaction","fromGasOption","gasOption","suggestedMaxFeePerGas","suggestedMaxPriorityFeePerGas","NORMAL"],"sourceRoot":"","x_google_ignoreList":[24,56,57]}