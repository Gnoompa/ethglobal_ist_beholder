{"version":3,"file":"bundled/chunk.7659.js","mappings":"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","sources":["webpack://mask-network/./packages/plugin-infra/src/utils/message.ts","webpack://mask-network/./packages/plugins/Transak/src/ExtensionPage/index.tsx","webpack://mask-network/./packages/plugins/Transak/src/hooks/useTransakURL.ts","webpack://mask-network/./packages/plugins/Transak/src/SiteAdaptor/BuyTokenDialog.tsx","webpack://mask-network/./packages/plugins/Transak/src/SiteAdaptor/BuyTokenGlobalInjection.tsx","webpack://mask-network/./packages/plugins/Transak/src/messages.ts","webpack://mask-network/./packages/shared-base-ui/src/components/ErrorBoundary/context.tsx","webpack://mask-network/./packages/shared-base-ui/src/hooks/useRemoteControlledDialog.ts","webpack://mask-network/./packages/theme/src/Components/Dialogs/DialogStack.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/Portal.tsx","webpack://mask-network/./packages/theme/src/ShadowRoot/ShadowRootSetup.tsx","webpack://mask-network/./node_modules/.pnpm/html-parse-stringify@3.0.1/node_modules/html-parse-stringify/dist/html-parse-stringify.module.js","webpack://mask-network/./node_modules/.pnpm/void-elements@3.1.0/node_modules/void-elements/index.js"],"sourcesContent":["import { WebExtensionMessage } from '@dimensiondev/holoflows-kit'\nimport type { PluginMessageEmitterItem } from '@masknet/plugin-infra'\nimport { serializer } from '@masknet/shared-base'\n\n/** @internal */\nexport const DOMAIN_RPC = Symbol('create RPC instead of normal message')\n/**\n * Create a plugin message emitter\n * @param pluginID The plugin ID\n *\n * @example\n * export const MyPluginMessage = getPluginMessage(PLUGIN_ID)\n */\nexport let getPluginMessage = <T>(pluginID: string, type?: typeof DOMAIN_RPC): PluginMessageEmitter<T> => {\n    const domain = (type === DOMAIN_RPC ? '@plugin-rpc/' : '@plugin/') + pluginID\n    if (cache.has(domain)) return cache.get(domain) as any\n\n    const messageCenter = new WebExtensionMessage<T>({ domain })\n    const events = messageCenter.events\n    messageCenter.serialization = serializer\n    cache.set(domain, events)\n    return events\n}\n\nexport function __workaround__replaceImplementationOfCreatePluginMessage__(\n    newImpl: (pluginID: string) => PluginMessageEmitter<any>,\n) {\n    getPluginMessage = newImpl\n}\nexport type PluginMessageEmitter<T> = { readonly [key in keyof T]: PluginMessageEmitterItem<T[key]> }\nconst cache = new Map<string, PluginMessageEmitter<unknown>>()\n\n// TODO: this type should be defined here, not shared-base\nexport type { PluginMessageEmitterItem } from '@masknet/shared-base'\n","import type { Plugin } from '@masknet/plugin-infra'\nimport { base } from '../base.js'\nimport { BuyTokenGlobalInjection } from '../SiteAdaptor/BuyTokenGlobalInjection.js'\n\nconst extensionPage: Plugin.ExtensionPage.Definition = {\n    ...base,\n    GlobalInjection: BuyTokenGlobalInjection,\n}\n\nexport default extensionPage\n","import { useMemo } from 'react'\nimport stringify from 'json-stable-stringify'\nimport { rgbToHex, useTheme } from '@mui/material'\nimport { TRANSAK_API_KEY_PRODUCTION, TRANSAK_API_KEY_STAGING } from '../constants.js'\nimport { formatEthereumAddress } from '@masknet/web3-shared-evm'\nimport type { TransakConfig } from '../types.js'\n\nconst HOST_MAP = {\n    production: 'https://global.transak.com',\n    development: 'https://staging-global.transak.com',\n    test: 'https://development-global.transak.com',\n}\n\nconst DEFAULT_PARAMETERS: TransakConfig = {\n    apiKey: process.env.NODE_ENV === 'production' ? TRANSAK_API_KEY_PRODUCTION : TRANSAK_API_KEY_STAGING,\n    environment: process.env.NODE_ENV === 'production' ? 'PRODUCTION' : 'STAGING',\n    defaultFiatAmount: 100,\n    defaultCryptoCurrency: 'ETH',\n    hostURL: location.origin,\n    redirectURL: location.origin,\n    widgetWidth: '100%',\n    widgetHeight: '630px',\n    hideMenu: false,\n    excludeFiatCurrencies: 'KRW',\n}\n\nexport function useTransakURL(config?: Partial<TransakConfig>) {\n    const theme = useTheme()\n    const search = useMemo(() => {\n        const config_: TransakConfig = {\n            ...DEFAULT_PARAMETERS,\n            themeColor: rgbToHex(theme.palette.maskColor.dark).slice(1),\n            exchangeScreenTitle: config?.walletAddress\n                ? `Buy Crypto to ${formatEthereumAddress(config.walletAddress, 4)}`\n                : void 0,\n            ...config,\n        }\n        const params = new URLSearchParams()\n        Object.entries(config_).forEach(([key, value = '']) => params.append(key, String(value)))\n        return params.toString()\n    }, [theme.palette.primary.main, stringify(config)])\n    return `${HOST_MAP[process.env.NODE_ENV]}?${search}`\n}\n","import { InjectedDialog } from '@masknet/shared'\nimport { DialogContent, IconButton } from '@mui/material'\nimport { makeStyles } from '@masknet/theme'\nimport { Close as CloseIcon } from '@mui/icons-material'\nimport { useTransakURL } from '../hooks/useTransakURL.js'\n\nconst useStyles = makeStyles()((theme) => ({\n    dialogPaper: {\n        width: '500px !important',\n        overflow: 'inherit',\n    },\n    dialogContent: {\n        padding: '0 !important',\n    },\n    close: {\n        color: `${theme.palette.common.white} !important`,\n        backgroundColor: `${theme.palette.maskColor.dark} !important`,\n        top: theme.spacing(-2),\n        right: theme.spacing(-2),\n        position: 'absolute',\n    },\n    content: {\n        width: '100%',\n        padding: 0,\n        backgroundColor: theme.palette.common.white,\n        position: 'relative',\n        '::-webkit-scrollbar': {\n            display: 'none',\n        },\n        overflow: 'inherit',\n        borderRadius: 12,\n    },\n    frame: {\n        display: 'block',\n        width: '100%',\n        height: 630,\n        border: 0,\n        borderRadius: 12,\n    },\n}))\n\ninterface BuyTokenDialogProps extends withClasses<'root'> {\n    code: string\n    address: string\n    open: boolean\n    onClose(): void\n}\n\nexport function BuyTokenDialog(props: BuyTokenDialogProps) {\n    const { classes } = useStyles(undefined, { props })\n    const { code, address, open, onClose } = props\n\n    const transakURL = useTransakURL({\n        defaultCryptoCurrency: code,\n        walletAddress: address,\n    })\n\n    return (\n        <div className={classes.root}>\n            <InjectedDialog\n                open={open}\n                onClose={onClose}\n                classes={{\n                    paper: classes.dialogPaper,\n                    dialogContent: classes.dialogContent,\n                }}\n                disableBackdropClick>\n                <DialogContent className={classes.content}>\n                    <IconButton className={classes.close} size=\"small\" onClick={onClose}>\n                        <CloseIcon />\n                    </IconButton>\n                    {transakURL ? <iframe className={classes.frame} src={transakURL} /> : null}\n                </DialogContent>\n            </InjectedDialog>\n        </div>\n    )\n}\n","import { memo, useState } from 'react'\nimport { useRemoteControlledDialog } from '@masknet/shared-base-ui'\nimport { PluginTransakMessages } from '../messages.js'\nimport { BuyTokenDialog } from './BuyTokenDialog.js'\n\nexport const BuyTokenGlobalInjection = memo(function BuyTokenGlobalInjection() {\n    const [code, setCode] = useState('ETH')\n    const [address, setAddress] = useState('')\n    const { open, closeDialog } = useRemoteControlledDialog(PluginTransakMessages.buyTokenDialogUpdated, (ev) => {\n        if (!ev.open) return\n        setCode(ev.code ?? 'ETH')\n        setAddress(ev.address)\n    })\n    if (!open) return null\n    return <BuyTokenDialog open onClose={closeDialog} code={code} address={address} />\n})\n","import { getPluginMessage, type PluginMessageEmitter } from '@masknet/plugin-infra'\nimport { PLUGIN_ID } from './constants.js'\n\ntype BuyTokenDialogEvent =\n    | {\n          open: true\n          code?: string\n          address: string\n      }\n    | {\n          open: false\n      }\n\ninterface PluginTransakMessage {\n    buyTokenDialogUpdated: BuyTokenDialogEvent\n}\n\nimport.meta.webpackHot?.accept()\nexport const PluginTransakMessages: PluginMessageEmitter<PluginTransakMessage> = getPluginMessage(PLUGIN_ID)\n","import { createContext, useContext, useRef } from 'react'\nimport type { BuildInfoFile } from '@masknet/flags'\nimport { useBuildInfo_raw } from '../../index.js'\nexport interface ErrorBoundaryError {\n    /** Type of the Error */\n    type: string\n    /** The Error message */\n    message: string\n    /** The error stack */\n    stack: string\n}\n/**\n * Provide the build info for CrashUI\n */\nconst BuildInfo = createContext<() => BuildInfoFile>(useBuildInfo_raw)\nBuildInfo.displayName = 'BuildInfo'\n\nexport function BuildInfoProvider(props: React.PropsWithChildren<{ value: () => BuildInfoFile }>) {\n    return <BuildInfo.Provider {...props} />\n}\nexport function useBuildInfo() {\n    return useRef(useContext(BuildInfo)).current()\n}\nexport function useBuildInfoMarkdown() {\n    const env = useBuildInfo()\n    const gitInfo = env.COMMIT_HASH\n        ? `\n## Git (${env.DIRTY ? '*' : ''}):\n${env.COMMIT_HASH} (${env.BRANCH_NAME})`\n        : ''\n\n    const buildInfoMarkdown =\n        `## Build info\n- Version: ${env.VERSION || 'unknown'}\n- NODE_ENV: ${process.env.NODE_ENV || 'unknown'}\n- userAgent: ${navigator.userAgent}\n- build: ${env.channel || 'unknown'}\n- BUILD_DATE: ${env.BUILD_DATE || 'unknown'}\n` + gitInfo\n    return buildInfoMarkdown\n}\n","import type { PluginMessageEmitterItem } from '@masknet/shared-base'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { v4 as uuid } from 'uuid'\n\nexport interface RemoteControlledDialogEvent {\n    open: boolean\n    hookId?: string\n}\n\ninterface Result<T> {\n    open: boolean\n    closeDialog: () => void\n    openDialog: () => void\n    setDialog: (ev: T) => void\n}\n\n/**\n * Use a dialog state controlled by remote\n */\nexport function useRemoteControlledDialog<T extends { open: boolean }>(\n    event: PluginMessageEmitterItem<T>,\n    onUpdateByRemote?: (ev: T) => void,\n    tabType: 'self' | 'activated' = 'self',\n): Result<T> {\n    const [HOOK_ID] = useState(uuid) // create an uuid for every hook\n    const [open, setOpen] = useState(false)\n\n    useEffect(\n        () =>\n            event.on((_ev: T) => {\n                const event = _ev as unknown as RemoteControlledDialogEvent\n\n                // ignore the event from the same hook\n                if (event.hookId === HOOK_ID) return\n\n                setOpen(event.open)\n                onUpdateByRemote?.(_ev)\n            }),\n        [onUpdateByRemote, event, HOOK_ID],\n    )\n\n    const timer = useRef<ReturnType<typeof setTimeout> | null>(null)\n    const onUpdateByLocal = useCallback(\n        (ev: T) => {\n            setOpen(ev.open)\n\n            const timer_ = timer.current\n            if (timer_ !== null) clearTimeout(timer_)\n            timer.current = setTimeout(() => {\n                const payload: T & RemoteControlledDialogEvent = {\n                    hookId: HOOK_ID,\n                    ...ev,\n                }\n                tabType === 'self' ? event.sendToLocal(payload) : event.sendToVisiblePages(payload)\n            }, 100)\n        },\n        [event, tabType, HOOK_ID],\n    )\n    const openDialog = useCallback(() => {\n        onUpdateByLocal({ open: true } as T)\n    }, [])\n    const closeDialog = useCallback(() => {\n        onUpdateByLocal({ open: false } as T)\n    }, [])\n\n    return {\n        open,\n        openDialog,\n        closeDialog,\n        setDialog: onUpdateByLocal,\n    }\n}\n","import { useRef, useContext, createContext, useState, useMemo, useLayoutEffect } from 'react'\nimport { type DialogProps } from '@mui/material'\nimport { noop } from 'lodash-es'\n\ninterface StackContext {\n    stack: readonly string[]\n    push(id: string): void\n    pop(id: string): void\n    setParent(selfID: string, parentID: string | null): () => void\n    hasGlobalBackdrop: boolean\n}\nconst DialogStackingContext = createContext<StackContext>({\n    stack: [],\n    push: noop,\n    pop: noop,\n    setParent: () => noop,\n    hasGlobalBackdrop: false,\n})\nDialogStackingContext.displayName = 'DialogStackingContext'\n\nconst DialogHierarchyContext = createContext<string | null>(null)\nDialogHierarchyContext.displayName = 'DialogHierarchyContext'\n\n/**\n * If you're using <Dialog> on its own and you want to support DialogStack, please use this hook.\n *\n * Your dialog component MUST support the following attributes with the same semantics with MUI Dialog component.\n *\n * - disableEscapeKeyDown\n * - disableScrollLock\n * - hideBackdrop\n * - style\n * - aria-hidden\n * - open\n * - transitionDuration\n * @example\n * function SomeComponent() {\n *     const [open, setOpen] = useState(false)\n *     const { shouldReplaceExitWithBack, extraProps, TrackDialogHierarchy } = useDialogStackConsumer(open)\n *     return <TrackDialogHierarchy>\n *         <button onClick={() => setOpen(true)}></button>\n *         <Dialog open={open} {...extraProps}>\n *             You MUST hide Close button and and BackButton based on the value of `shouldReplaceExitWithBack`\n *         </Dialog>\n *     </TrackDialogHierarchy>\n * }\n */\nexport function useDialogStackActor(open: boolean): useDialogStackActorReturn {\n    const selfID = useRef('' + Math.random()).current\n    const { pop, push, stack, setParent, hasGlobalBackdrop } = useContext(DialogStackingContext)\n\n    // children's useEffect will run before parent's useEffect.\n    // when the hierarchy is A > B and they are both open,\n    // the stack will be [\"B\", \"A\"] (B pushed into the stack first.)\n    // we need to notify the context the react component tree hierarchy to order them correctly.\n    const parentID = useContext(DialogHierarchyContext)\n    useLayoutEffect(() => setParent(selfID, parentID), [parentID])\n\n    useLayoutEffect(() => {\n        open ? push(selfID) : pop(selfID)\n        return () => pop(selfID)\n    }, [open])\n\n    const TrackDialogHierarchy = (useRef<useDialogStackActorReturn['TrackDialogHierarchy']>(null!).current ??=\n        function TrackDialogHierarchy({ children }) {\n            return <DialogHierarchyContext.Provider value={selfID}>{children}</DialogHierarchyContext.Provider>\n        })\n\n    const returnVal: useDialogStackActorReturn = {\n        shouldReplaceExitWithBack: stack.length > 1,\n        extraProps: { open },\n        TrackDialogHierarchy,\n    }\n    if (hasGlobalBackdrop) returnVal.extraProps.hideBackdrop = true\n    if (stack.length > 1) returnVal.extraProps.transitionDuration = 0\n\n    if (!open) return returnVal\n    if (stack.at(-1) !== selfID) {\n        returnVal.extraProps = {\n            ...returnVal.extraProps,\n            disableEscapeKeyDown: true,\n            disableScrollLock: true,\n            hideBackdrop: true,\n            hidden: true,\n            style: { visibility: 'hidden' },\n            'aria-hidden': true,\n        }\n    }\n    return returnVal\n}\n\nexport interface useDialogStackActorReturn {\n    shouldReplaceExitWithBack: boolean\n    extraProps: DialogProps\n    TrackDialogHierarchy: React.ComponentType<React.PropsWithChildren<{}>>\n}\n\nexport interface DialogStackingProviderProps extends React.PropsWithChildren<{}> {\n    hasGlobalBackdrop?: boolean\n}\n\n/**\n * This Provider can turn any `MaskDialog` or `InjectedDialog` in the subtree into a unified dialog.\n *\n * For example:\n *\n * ```tsx\n * <DialogStackingProvider>\n *    <Dialog1>\n *        <Dialog2></Dialog2>\n *    </Dialog1>\n *    <Dialog3></Dialog3>\n * </DialogStackingProvider>\n * ```\n *\n * When Dialog1 and Dialog2 both opened, only Dialog2 will be visible and the left top button\n * becomes \"BackArrow\".\n */\nexport function DialogStackingProvider(props: DialogStackingProviderProps) {\n    const [stack, setStack] = useState<readonly string[]>([])\n    const [hierarchy, setHierarchy] = useState<Hierarchy>({})\n    const context = useMemo((): StackContext => {\n        const sortedStack = sortStackByHierarchy(hierarchy, stack)\n        return {\n            hasGlobalBackdrop: props.hasGlobalBackdrop || false,\n            stack: sortedStack,\n            // Note: the following methods MUST NOT use stack or hierarchy out of the useState callback.\n            setParent(child, parent) {\n                if (!parent) return noop\n                setHierarchy((hierarchy) => {\n                    if (hierarchy[parent]?.has(child)) return hierarchy\n                    const newSet = new Set(hierarchy[parent] || [])\n                    newSet.add(child)\n                    return { ...hierarchy, [parent]: newSet }\n                })\n\n                return () => {\n                    setHierarchy((hierarchy) => {\n                        const newSet = new Set(hierarchy[parent])\n                        newSet.delete(child)\n                        return { ...hierarchy, [parent]: newSet }\n                    })\n                }\n            },\n            pop(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack.filter((x) => x !== id) : stack))\n            },\n            push(id: string) {\n                setStack((stack) => (stack.includes(id) ? stack : stack.concat(id)))\n            },\n        }\n    }, [stack, hierarchy, props.hasGlobalBackdrop])\n    return <DialogStackingContext.Provider value={context}>{props.children}</DialogStackingContext.Provider>\n}\n\nexport function useDialogStacking() {\n    return useContext(DialogStackingContext)\n}\n\ntype Hierarchy = {\n    readonly [parent: string]: undefined | ReadonlySet<string>\n}\nfunction sortStackByHierarchy(hierarchy: Hierarchy, stack: readonly string[]): readonly string[] {\n    if (stack.length <= 1) return stack\n    const last = stack.at(-1)!\n    const children = hierarchy[last]\n    if (!children?.size) return stack\n    for (const child of children) {\n        if (stack.includes(child)) return sortStackByHierarchy(hierarchy, [last].concat(stack.slice(0, -1)))\n    }\n    return stack\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { useRef, forwardRef, useContext } from 'react'\nimport { Flags } from '@masknet/flags'\nimport type { PopperProps } from '@mui/material'\nimport {\n    DisableShadowRootContext,\n    PreventShadowRootEventPropagationListContext,\n    stopPropagation,\n    StyleSheetsContext,\n} from './Contexts.js'\nimport { ref } from './ShadowRootSetup.js'\n\n/**\n * Render to a React Portal in to the page needs this hook. It will provide a wrapped container that provides ShadowRoot isolation and CSS support for it.\n *\n * The return value can only be used once!\n * @param renderer A function that want to use PortalShadowRoot\n * @example\n * const picker = usePortalShadowRoot((container) => (\n *      <DatePicker\n *          DialogProps={{ container }}\n *          PopperProps={{ container }}\n *          value={new Date()}\n *          onChange={() => {}}\n *          renderInput={(props) => <TextField {...props} />}\n *      />\n * ))\n */\nexport function usePortalShadowRoot<T>(renderer: (container: HTMLElement | undefined) => T, debugKey?: string): T {\n    const disabled = useRef(useContext(DisableShadowRootContext)).current\n    // we ignore the changes on DisableShadowRootContext during multiple render\n    // so we can violates the React hooks rule and still be safe.\n    if (disabled) return renderer(undefined)\n\n    const sheet = useContext(StyleSheetsContext)\n    const signal = useRef<AbortController | null>(null)\n    const preventEventPropagationList = useContext(PreventShadowRootEventPropagationListContext)\n    const container = useRefInit(() => {\n        signal.current = new AbortController()\n        const portal = ref.portalContainer\n\n        const root = document.createElement('div')\n        root.dataset.portalShadowRoot = debugKey || ''\n        const shadow = root.attachShadow(Flags.shadowRootInit)\n\n        for (const each of preventEventPropagationList) {\n            shadow.addEventListener(each, stopPropagation, { signal: signal.current.signal })\n        }\n\n        const container = shadow.appendChild(document.createElement('main'))\n\n        sheet.addContainer(shadow)\n\n        // This is important to make the portal orders correct.\n        Object.defineProperty(container, 'appendChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                if (!root.parentElement) portal.appendChild(root)\n                Node.prototype.appendChild.call(container, child)\n                return child\n            },\n        })\n        Object.defineProperty(container, 'removeChild', {\n            configurable: true,\n            writable: true,\n            value: (child: Node) => {\n                Node.prototype.removeChild.call(container, child)\n                if (container.childElementCount === 0) portal.removeChild(root)\n                return child\n            },\n        })\n\n        return container\n    })\n\n    return renderer(container)\n}\n\nexport function createShadowRootForwardedComponent<\n    T extends {\n        container?: Element | (() => Element | null) | null | undefined\n        open: boolean\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => <Component container={container} {...props} ref={ref} />)\n    }) as any as typeof Component\n}\n\nexport function createShadowRootForwardedPopperComponent<\n    T extends {\n        PopperProps?: Partial<PopperProps>\n    },\n>(Component: React.ComponentType<T>) {\n    return forwardRef((props: T, ref) => {\n        return usePortalShadowRoot((container) => {\n            return <Component {...props} PopperProps={{ container, ...props.PopperProps }} ref={ref} />\n        })\n    }) as any as typeof Component\n}\n\nfunction useRefInit<T>(f: () => T): T {\n    const ref = useRef<T>(undefined!)\n    if (!ref.current) ref.current = f()\n    return ref.current\n}\n","import { ObservableMap } from '@masknet/shared-base'\nimport { StrictMode, useEffect, useState } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { PreventShadowRootEventPropagationListContext } from './Contexts.js'\n\n/**\n * This container is used to attach the single React root.\n * It does not contain direct DOM decedents.\n * All decedents are mounted via <Portal>.\n */\nlet globalContainer: HTMLElement\n/**\n * This container is prepared for all the Modals.\n */\nlet portalContainer: ShadowRoot\nexport type WrapJSX = ((jsx: React.ReactNode) => JSX.Element) | undefined\n/** @internal */\nexport const shadowEnvironmentMountingRoots = new ObservableMap<any, JSX.Element>()\n\nexport function setupReactShadowRootEnvironment(\n    init: ShadowRootInit,\n    preventEventPropagationList: Array<keyof HTMLElementEventMap>,\n    wrapJSX?: WrapJSX,\n) {\n    if (portalContainer) return portalContainer\n    // TODO: make sure globalContainer is the last DOM in the body?\n    globalContainer = document.body.appendChild(document.createElement('div'))\n    portalContainer = globalContainer.attachShadow(init)\n\n    // Note: This React Root does not expect to have any direct DOM children.\n    createRoot(globalContainer).render(\n        <StrictMode>\n            <MountingPoint wrapJSX={wrapJSX} preventPropagationList={preventEventPropagationList} />\n        </StrictMode>,\n    )\n    return portalContainer\n}\nfunction MountingPoint(props: { wrapJSX: WrapJSX; preventPropagationList: Array<keyof HTMLElementEventMap> }) {\n    const [children, setChildren] = useState<JSX.Element[]>([])\n    useEffect(() => {\n        shadowEnvironmentMountingRoots.event.on(shadowEnvironmentMountingRoots.ALL_EVENTS, () => {\n            setChildren(Array.from(shadowEnvironmentMountingRoots.values()))\n        })\n    }, [])\n    return (\n        <PreventShadowRootEventPropagationListContext.Provider value={props.preventPropagationList}>\n            {props.wrapJSX ? props.wrapJSX(children) : children}\n        </PreventShadowRootEventPropagationListContext.Provider>\n    )\n}\n\n/** @internal */\nexport const ref = {\n    get portalContainer(): Element | ShadowRoot {\n        let dom: Element | ShadowRoot\n        if (location.protocol.includes('extension')) dom = document.body\n        else if (globalThis.location.hostname === 'localhost') return document.body\n        else if (!portalContainer) throw new TypeError('Please call setupPortalShadowRoot first')\n        else dom = portalContainer\n\n        Object.defineProperty(ref, 'mountingPoint', { value: dom })\n        return dom\n    },\n}\n","import e from\"void-elements\";var t=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function n(n){var r={type:\"tag\",name:\"\",voidElement:!1,attrs:{},children:[]},i=n.match(/<\\/?([^\\s]+?)[/\\s>]/);if(i&&(r.name=i[1],(e[i[1]]||\"/\"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith(\"!--\"))){var s=n.indexOf(\"--\\x3e\");return{type:\"comment\",comment:-1!==s?n.slice(4,s):\"\"}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,\"\"];o.indexOf(\"=\")>-1&&(l=o.split(\"=\")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g,i=/^\\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case\"text\":return e+t.content;case\"tag\":return e+=\"<\"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'=\"'+e[n]+'\"');return t.length?\" \"+t.join(\" \"):\"\"}(t.attrs):\"\")+(t.voidElement?\"/>\":\">\"),t.voidElement?e:e+t.children.reduce(a,\"\")+\"</\"+t.name+\">\";case\"comment\":return e+\"\\x3c!--\"+t.comment+\"--\\x3e\"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf(\"<\")){var u=e.indexOf(\"<\");c.push({type:\"text\",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!==\"</\"+a.name+\">\")return;m=!1}var u,f=\"/\"!==r.charAt(1),h=r.startsWith(\"\\x3c!--\"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,\"tag\"===(a=n(r)).type&&t.components[a.name]&&(a.type=\"component\",m=!0),a.voidElement||m||!d||\"<\"===d||a.children.push({type:\"text\",content:e.slice(p,e.indexOf(\"<\",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&\"<\"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf(\"<\",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=\" \"),(x>-1&&l+u.length>=0||\" \"!==g)&&u.push({type:\"text\",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a(\"\",t)},\"\")}};export default c;\n","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n"],"names":["WebExtensionMessage","serializer","DOMAIN_RPC","Symbol","getPluginMessage","pluginID","type","domain","cache","has","get","messageCenter","events","serialization","set","__workaround__replaceImplementationOfCreatePluginMessage__","newImpl","Map","base","BuyTokenGlobalInjection","extensionPage","GlobalInjection","useMemo","stringify","rgbToHex","useTheme","TRANSAK_API_KEY_PRODUCTION","TRANSAK_API_KEY_STAGING","formatEthereumAddress","HOST_MAP","production","development","test","DEFAULT_PARAMETERS","apiKey","process","env","NODE_ENV","environment","defaultFiatAmount","defaultCryptoCurrency","hostURL","location","origin","redirectURL","widgetWidth","widgetHeight","hideMenu","excludeFiatCurrencies","useTransakURL","config","theme","search","config_","themeColor","palette","maskColor","dark","slice","exchangeScreenTitle","walletAddress","params","URLSearchParams","Object","entries","forEach","key","value","append","String","toString","primary","main","InjectedDialog","DialogContent","IconButton","makeStyles","Close","CloseIcon","useStyles","dialogPaper","width","overflow","dialogContent","padding","close","color","common","white","backgroundColor","top","spacing","right","position","content","display","borderRadius","frame","height","border","BuyTokenDialog","props","classes","undefined","code","address","open","onClose","transakURL","div","className","root","paper","disableBackdropClick","size","onClick","iframe","src","memo","useState","useRemoteControlledDialog","PluginTransakMessages","setCode","setAddress","closeDialog","buyTokenDialogUpdated","ev","PLUGIN_ID","webpackHot","accept","createContext","useContext","useRef","useBuildInfo_raw","BuildInfo","displayName","BuildInfoProvider","Provider","useBuildInfo","current","useBuildInfoMarkdown","gitInfo","COMMIT_HASH","DIRTY","BRANCH_NAME","buildInfoMarkdown","VERSION","navigator","userAgent","channel","BUILD_DATE","useEffect","useCallback","v4","uuid","event","onUpdateByRemote","tabType","HOOK_ID","setOpen","on","_ev","hookId","timer","onUpdateByLocal","timer_","clearTimeout","setTimeout","payload","sendToLocal","sendToVisiblePages","openDialog","setDialog","useLayoutEffect","noop","DialogStackingContext","stack","push","pop","setParent","hasGlobalBackdrop","DialogHierarchyContext","useDialogStackActor","selfID","Math","random","parentID","TrackDialogHierarchy","children","returnVal","shouldReplaceExitWithBack","length","extraProps","hideBackdrop","transitionDuration","at","disableEscapeKeyDown","disableScrollLock","hidden","style","visibility","DialogStackingProvider","setStack","hierarchy","setHierarchy","context","sortedStack","sortStackByHierarchy","child","parent","newSet","Set","add","delete","id","includes","filter","x","concat","useDialogStacking","last","forwardRef","Flags","DisableShadowRootContext","PreventShadowRootEventPropagationListContext","stopPropagation","StyleSheetsContext","ref","usePortalShadowRoot","renderer","debugKey","disabled","sheet","signal","preventEventPropagationList","container","useRefInit","AbortController","portal","portalContainer","document","createElement","dataset","portalShadowRoot","shadow","attachShadow","shadowRootInit","each","addEventListener","appendChild","addContainer","defineProperty","configurable","writable","parentElement","Node","prototype","call","removeChild","childElementCount","createShadowRootForwardedComponent","Component","createShadowRootForwardedPopperComponent","PopperProps","f","ObservableMap","StrictMode","createRoot","globalContainer","shadowEnvironmentMountingRoots","setupReactShadowRootEnvironment","init","wrapJSX","body","render","MountingPoint","preventPropagationList","setChildren","ALL_EVENTS","Array","from","values","dom","protocol","globalThis","hostname","TypeError"],"sourceRoot":"","x_google_ignoreList":[11,12]}